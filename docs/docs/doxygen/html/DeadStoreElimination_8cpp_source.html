<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Scalar/DeadStoreElimination.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_e6e1f1f37d351595fa984b942927b205.html">Scalar</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DeadStoreElimination.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="DeadStoreElimination_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- DeadStoreElimination.cpp - MemorySSA Backed Dead Store Elimination -===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// The code below implements dead store elimination using MemorySSA. It uses</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// the following general approach: given a MemoryDef, walk upwards to find</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// clobbering MemoryDefs that may be killed by the starting def. Then check</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// that there are no uses that may read the location of the original MemoryDef</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// in between both MemoryDefs. A bit more concretely:</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// For all MemoryDefs StartDef:</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// 1. Get the next dominating clobbering MemoryDef (MaybeDeadAccess) by walking</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//    upwards.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// 2. Check that there are no reads between MaybeDeadAccess and the StartDef by</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//    checking all uses starting at MaybeDeadAccess and walking until we see</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//    StartDef.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// 3. For each found CurrentDef, check that:</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//   1. There are no barrier instructions between CurrentDef and StartDef (like</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//       throws or stores with ordering constraints).</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//   2. StartDef is executed whenever CurrentDef is executed.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//   3. StartDef completely overwrites CurrentDef.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// 4. Erase CurrentDef from the function and MemorySSA.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DeadStoreElimination_8h.html">llvm/Transforms/Scalar/DeadStoreElimination.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APInt_8h.html">llvm/ADT/APInt.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MapVector_8h.html">llvm/ADT/MapVector.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PostOrderIterator_8h.html">llvm/ADT/PostOrderIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CaptureTracking_8h.html">llvm/Analysis/CaptureTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeMetrics_8h.html">llvm/Analysis/CodeMetrics.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalsModRef_8h.html">llvm/Analysis/GlobalsModRef.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopInfo_8h.html">llvm/Analysis/LoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryLocation_8h.html">llvm/Analysis/MemoryLocation.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemorySSA_8h.html">llvm/Analysis/MemorySSA.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemorySSAUpdater_8h.html">llvm/Analysis/MemorySSAUpdater.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MustExecute_8h.html">llvm/Analysis/MustExecute.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PostDominators_8h.html">llvm/Analysis/PostDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Argument_8h.html">llvm/IR/Argument.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2DebugInfo_8h.html">llvm/IR/DebugInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/IR/InstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/IR/PatternMatch.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugCounter_8h.html">llvm/Support/DebugCounter.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Scalar_8h.html">llvm/Transforms/Scalar.h</a>&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumeBundleBuilder_8h.html">llvm/Transforms/Utils/AssumeBundleBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BuildLibCalls_8h.html">llvm/Transforms/Utils/BuildLibCalls.h</a>&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">using namespace </span>PatternMatch;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   95</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;dse&quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumRemainingStores, <span class="stringliteral">&quot;Number of stores remaining after DSE&quot;</span>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumRedundantStores, <span class="stringliteral">&quot;Number of redundant stores deleted&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFastStores, <span class="stringliteral">&quot;Number of stores deleted&quot;</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFastOther, <span class="stringliteral">&quot;Number of other instrs removed&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCompletePartials, <span class="stringliteral">&quot;Number of stores dead by later partials&quot;</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumModifiedStores, <span class="stringliteral">&quot;Number of stores modified&quot;</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCFGChecks, <span class="stringliteral">&quot;Number of stores modified&quot;</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCFGTries, <span class="stringliteral">&quot;Number of stores modified&quot;</span>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCFGSuccess, <span class="stringliteral">&quot;Number of stores modified&quot;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumGetDomMemoryDefPassed,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;          <span class="stringliteral">&quot;Number of times a valid candidate is returned from getDomMemoryDef&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumDomMemDefChecks,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          <span class="stringliteral">&quot;Number iterations check for reads in getDomMemoryDef&quot;</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<a class="code" href="DeadStoreElimination_8cpp.html#a7d6796c9e4bec2d00f11f1b9a6077a99">DEBUG_COUNTER</a>(MemorySSACounter, <span class="stringliteral">&quot;dse-memoryssa&quot;</span>,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;              <span class="stringliteral">&quot;Controls which MemoryDefs are eliminated.&quot;</span>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<a class="code" href="DeadStoreElimination_8cpp.html#af8e0461e58230dc0f22691d8d1e2f447">EnablePartialOverwriteTracking</a>(<span class="stringliteral">&quot;enable-dse-partial-overwrite-tracking&quot;</span>,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable partial-overwrite tracking in DSE&quot;</span>));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<a class="code" href="DeadStoreElimination_8cpp.html#a6214ec47afec8c8344dd437e04306551">EnablePartialStoreMerging</a>(<span class="stringliteral">&quot;enable-dse-partial-store-merging&quot;</span>,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable partial store merging in DSE&quot;</span>));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="DeadStoreElimination_8cpp.html#abb41aabaa76a67aecaecad0f103fea3c">MemorySSAScanLimit</a>(<span class="stringliteral">&quot;dse-memoryssa-scanlimit&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(150), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The number of memory instructions to scan for &quot;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                <span class="stringliteral">&quot;dead store elimination (default = 150)&quot;</span>));</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="DeadStoreElimination_8cpp.html#ac6b2463590d71764f7a332789c6357bd">MemorySSAUpwardsStepLimit</a>(</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="stringliteral">&quot;dse-memoryssa-walklimit&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(90), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The maximum number of steps while walking upwards to find &quot;</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;             <span class="stringliteral">&quot;MemoryDefs that may be killed (default = 90)&quot;</span>));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="DeadStoreElimination_8cpp.html#aa9d7ec729de7347f5dedc03860919917">MemorySSAPartialStoreLimit</a>(</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="stringliteral">&quot;dse-memoryssa-partial-store-limit&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(5), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The maximum number candidates that only partially overwrite the &quot;</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;             <span class="stringliteral">&quot;killing MemoryDef to consider&quot;</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;             <span class="stringliteral">&quot; (default = 5)&quot;</span>));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="DeadStoreElimination_8cpp.html#ab2b0b8fe5c4f95405465ec5baabbe5d5">MemorySSADefsPerBlockLimit</a>(</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="stringliteral">&quot;dse-memoryssa-defs-per-block-limit&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(5000), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The number of MemoryDefs we consider as candidates to eliminated &quot;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;             <span class="stringliteral">&quot;other stores per basic block (default = 5000)&quot;</span>));</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="DeadStoreElimination_8cpp.html#a33cc3fe4bbeedb352c8ee54c2d02bc49">MemorySSASameBBStepCost</a>(</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="stringliteral">&quot;dse-memoryssa-samebb-cost&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(1), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="stringliteral">&quot;The cost of a step in the same basic block as the killing MemoryDef&quot;</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="stringliteral">&quot;(default = 1)&quot;</span>));</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="DeadStoreElimination_8cpp.html#ab085cca6a1f0a87474eee9d0dd00adf8">MemorySSAOtherBBStepCost</a>(<span class="stringliteral">&quot;dse-memoryssa-otherbb-cost&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(5),</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                             <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                             <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The cost of a step in a different basic &quot;</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                      <span class="stringliteral">&quot;block than the killing MemoryDef&quot;</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                      <span class="stringliteral">&quot;(default = 5)&quot;</span>));</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="DeadStoreElimination_8cpp.html#a21758787c0a7a126e1f14e22522d58ff">MemorySSAPathCheckLimit</a>(</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="stringliteral">&quot;dse-memoryssa-path-check-limit&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(50), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The maximum number of blocks to check when trying to prove that &quot;</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;             <span class="stringliteral">&quot;all paths to an exit go through a killing block (default = 50)&quot;</span>));</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">// This flags allows or disallows DSE to optimize MemorySSA during its</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">// traversal. Note that DSE optimizing MemorySSA may impact other passes</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">// downstream of the DSE invocation and can lead to issues not being</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">// reproducible in isolation (i.e. when MemorySSA is built from scratch). In</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">// those cases, the flag can be used to check if DSE&#39;s MemorySSA optimizations</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">// impact follow-up passes.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="DeadStoreElimination_8cpp.html#ae9e8f2fed84d9940c1cf9d7da1035a44">OptimizeMemorySSA</a>(<span class="stringliteral">&quot;dse-optimize-memoryssa&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                      <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Allow DSE to optimize memory accesses.&quot;</span>));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">// Helper functions</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a3600ad65816babbe5ecb3b9d82997374">  175</a></span>&#160;<span class="keyword">using</span> <a class="code" href="DeadStoreElimination_8cpp.html#a3600ad65816babbe5ecb3b9d82997374">OverlapIntervalsTy</a> = std::map&lt;int64_t, int64_t&gt;;</div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a7e1af7835f27dc4a15c94320884797e9">  176</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">InstOverlapIntervalsTy</a> = <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, OverlapIntervalsTy&gt;</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">/// Returns true if the end of this instruction can be safely shortened in</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/// length.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a22ea60ab91b41bc2071c4074382e3051">  180</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="DeadStoreElimination_8cpp.html#a22ea60ab91b41bc2071c4074382e3051">isShortenableAtTheEnd</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// Don&#39;t shorten stores for now</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (isa&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordflow">case</span> Intrinsic::memset:</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">Intrinsic::memcpy</a>:</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">case</span> Intrinsic::memcpy_element_unordered_atomic:</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">case</span> Intrinsic::memset_element_unordered_atomic:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="comment">// Do shorten memory intrinsics.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="comment">// FIXME: Add memmove if it&#39;s also safe to transform.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// Don&#39;t shorten libcalls calls for now.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/// Returns true if the beginning of this instruction can be safely shortened</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/// in length.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a471b94aa7b3f758cd9d2e33ecd0520f4">  205</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="DeadStoreElimination_8cpp.html#a471b94aa7b3f758cd9d2e33ecd0520f4">isShortenableAtTheBeginning</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">// FIXME: Handle only memset for now. Supporting memcpy/memmove should be</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// easily done by offsetting the source address.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">return</span> isa&lt;AnyMemSetInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a6d600c27cf21c25d25048d9a2d6b888e">  211</a></span>&#160;<span class="keyword">static</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="DeadStoreElimination_8cpp.html#a6d600c27cf21c25d25048d9a2d6b888e">getPointerSize</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="structllvm_1_1ObjectSizeOpts.html">ObjectSizeOpts</a> Opts;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  Opts.<a class="code" href="structllvm_1_1ObjectSizeOpts.html#a0229c5396522e5a903a277fda4c3659c">NullIsUnknownSize</a> = <a class="code" href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">NullPointerIsDefined</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a62ba0e5ee2d86f663c6de4efda6082a7">getObjectSize</a>(V, Size, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;TLI, Opts))</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> Size;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">MemoryLocation::UnknownSize</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="keyword">enum</span> OverwriteResult {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  OW_Begin,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  OW_Complete,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  OW_End,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  OW_PartialEarlierWithFullLater,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  OW_MaybePartial,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  OW_None,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  OW_Unknown</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;};</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">/// Check if two instruction are masked stores that completely</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">/// overwrite one another. More specifically, \p KillingI has to</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">/// overwrite \p DeadI.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a8daf1ecab5704c6aa3672b2fcec60f29">  240</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> OverwriteResult <a class="code" href="DeadStoreElimination_8cpp.html#a8daf1ecab5704c6aa3672b2fcec60f29">isMaskedStoreOverwrite</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *KillingI,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                              <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;AA) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *KillingII = dyn_cast&lt;IntrinsicInst&gt;(KillingI);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *DeadII = dyn_cast&lt;IntrinsicInst&gt;(DeadI);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">if</span> (KillingII == <span class="keyword">nullptr</span> || DeadII == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">if</span> (KillingII-&gt;getIntrinsicID() != DeadII-&gt;getIntrinsicID())</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (KillingII-&gt;getIntrinsicID() == Intrinsic::masked_store) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// Type size.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *KillingTy =</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        cast&lt;VectorType&gt;(KillingII-&gt;getArgOperand(0)-&gt;getType());</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *DeadTy = cast&lt;VectorType&gt;(DeadII-&gt;getArgOperand(0)-&gt;getType());</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (KillingTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() != DeadTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>())</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// Element count.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (KillingTy-&gt;<a class="code" href="classllvm_1_1VectorType.html#a59632c5deb0423a518ad984bdd04d41f">getElementCount</a>() != DeadTy-&gt;<a class="code" href="classllvm_1_1VectorType.html#a59632c5deb0423a518ad984bdd04d41f">getElementCount</a>())</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">// Pointers.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *KillingPtr = KillingII-&gt;getArgOperand(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *DeadPtr = DeadII-&gt;getArgOperand(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (KillingPtr != DeadPtr &amp;&amp; !AA.<a class="code" href="classllvm_1_1BatchAAResults.html#ab9ba3a606a0299b684755f56b1d2f1c7">isMustAlias</a>(KillingPtr, DeadPtr))</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Masks.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// TODO: check that KillingII&#39;s mask is a superset of the DeadII&#39;s mask.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (KillingII-&gt;getArgOperand(3) != DeadII-&gt;getArgOperand(3))</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> OW_Complete;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">/// Return &#39;OW_Complete&#39; if a store to the &#39;KillingLoc&#39; location completely</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">/// overwrites a store to the &#39;DeadLoc&#39; location, &#39;OW_End&#39; if the end of the</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/// &#39;DeadLoc&#39; location is completely overwritten by &#39;KillingLoc&#39;, &#39;OW_Begin&#39;</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">/// if the beginning of the &#39;DeadLoc&#39; location is overwritten by &#39;KillingLoc&#39;.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">/// &#39;OW_PartialEarlierWithFullLater&#39; means that a dead (big) store was</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">/// overwritten by a killing (smaller) store which doesn&#39;t write outside the big</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">/// store&#39;s memory locations. Returns &#39;OW_Unknown&#39; if nothing can be determined.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">/// NOTE: This function must only be called if both \p KillingLoc and \p</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">/// DeadLoc belong to the same underlying object with valid \p KillingOff and</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">/// \p DeadOff.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#aa46849ad227581d0105b7c41b4f9377f">  283</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> OverwriteResult <a class="code" href="DeadStoreElimination_8cpp.html#aa46849ad227581d0105b7c41b4f9377f">isPartialOverwrite</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;KillingLoc,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;DeadLoc,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                          int64_t KillingOff, int64_t DeadOff,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                          <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                                          <a class="code" href="classllvm_1_1DenseMap.html">InstOverlapIntervalsTy</a> &amp;IOL) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> KillingSize = KillingLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>.<a class="code" href="classllvm_1_1LocationSize.html#a47f128e1007c6c70eb7b0df2dcbf68df">getValue</a>();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DeadSize = DeadLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>.<a class="code" href="classllvm_1_1LocationSize.html#a47f128e1007c6c70eb7b0df2dcbf68df">getValue</a>();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// We may now overlap, although the overlap is not complete. There might also</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// be other incomplete overlaps, and together, they might cover the complete</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// dead store.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Note: The correctness of this logic depends on the fact that this function</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// is not even called providing DepWrite when there are any intervening reads.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DeadStoreElimination_8cpp.html#af8e0461e58230dc0f22691d8d1e2f447">EnablePartialOverwriteTracking</a> &amp;&amp;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      KillingOff &lt; int64_t(DeadOff + DeadSize) &amp;&amp;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      int64_t(KillingOff + KillingSize) &gt;= DeadOff) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// Insert our part of the overlap into the map.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keyword">auto</span> &amp;IM = IOL[DeadI];</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Partial overwrite: DeadLoc [&quot;</span> &lt;&lt; DeadOff &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                      &lt;&lt; int64_t(DeadOff + DeadSize) &lt;&lt; <span class="stringliteral">&quot;) KillingLoc [&quot;</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                      &lt;&lt; KillingOff &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; int64_t(KillingOff + KillingSize)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// Make sure that we only insert non-overlapping intervals and combine</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// adjacent intervals. The intervals are stored in the map with the ending</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">// offset as the key (in the half-open sense) and the starting offset as</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// the value.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    int64_t KillingIntStart = KillingOff;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    int64_t KillingIntEnd = KillingOff + KillingSize;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">// Find any intervals ending at, or after, KillingIntStart which start</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">// before KillingIntEnd.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keyword">auto</span> ILI = IM.lower_bound(KillingIntStart);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (ILI != IM.end() &amp;&amp; ILI-&gt;second &lt;= KillingIntEnd) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// This existing interval is overlapped with the current store somewhere</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="comment">// in [KillingIntStart, KillingIntEnd]. Merge them by erasing the existing</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="comment">// intervals and adjusting our start and end.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      KillingIntStart = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(KillingIntStart, ILI-&gt;second);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      KillingIntEnd = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(KillingIntEnd, ILI-&gt;first);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      ILI = IM.erase(ILI);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="comment">// Continue erasing and adjusting our end in case other previous</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">// intervals are also overlapped with the current store.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="comment">// |--- dead 1 ---|  |--- dead 2 ---|</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="comment">//     |------- killing---------|</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">while</span> (ILI != IM.end() &amp;&amp; ILI-&gt;second &lt;= KillingIntEnd) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ILI-&gt;second &gt; KillingIntStart &amp;&amp; <span class="stringliteral">&quot;Unexpected interval&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        KillingIntEnd = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(KillingIntEnd, ILI-&gt;first);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        ILI = IM.erase(ILI);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    IM[KillingIntEnd] = KillingIntStart;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    ILI = IM.begin();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (ILI-&gt;second &lt;= DeadOff &amp;&amp; ILI-&gt;first &gt;= int64_t(DeadOff + DeadSize)) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Full overwrite from partials: DeadLoc [&quot;</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                        &lt;&lt; DeadOff &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; int64_t(DeadOff + DeadSize)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;) Composite KillingLoc [&quot;</span> &lt;&lt; ILI-&gt;second &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                        &lt;&lt; ILI-&gt;first &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      ++NumCompletePartials;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">return</span> OW_Complete;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// Check for a dead store which writes to all the memory locations that</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// the killing store writes to.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DeadStoreElimination_8cpp.html#a6214ec47afec8c8344dd437e04306551">EnablePartialStoreMerging</a> &amp;&amp; KillingOff &gt;= DeadOff &amp;&amp;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      int64_t(DeadOff + DeadSize) &gt; KillingOff &amp;&amp;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(KillingOff - DeadOff) + KillingSize &lt;= DeadSize) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Partial overwrite a dead load [&quot;</span> &lt;&lt; DeadOff</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; int64_t(DeadOff + DeadSize)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;) by a killing store [&quot;</span> &lt;&lt; KillingOff &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                      &lt;&lt; int64_t(KillingOff + KillingSize) &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// TODO: Maybe come up with a better name?</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> OW_PartialEarlierWithFullLater;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// Another interesting case is if the killing store overwrites the end of the</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// dead store.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="comment">//      |--dead--|</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">//                |--   killing   --|</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// In this case we may want to trim the size of dead store to avoid</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// generating stores to addresses which will definitely be overwritten killing</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// store.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="DeadStoreElimination_8cpp.html#af8e0461e58230dc0f22691d8d1e2f447">EnablePartialOverwriteTracking</a> &amp;&amp;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      (KillingOff &gt; DeadOff &amp;&amp; KillingOff &lt; int64_t(DeadOff + DeadSize) &amp;&amp;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;       int64_t(KillingOff + KillingSize) &gt;= int64_t(DeadOff + DeadSize)))</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> OW_End;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// Finally, we also need to check if the killing store overwrites the</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// beginning of the dead store.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">//                |--dead--|</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">//      |--  killing  --|</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// In this case we may want to move the destination address and trim the size</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="comment">// of dead store to avoid generating stores to addresses which will definitely</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="comment">// be overwritten killing store.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="DeadStoreElimination_8cpp.html#af8e0461e58230dc0f22691d8d1e2f447">EnablePartialOverwriteTracking</a> &amp;&amp;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      (KillingOff &lt;= DeadOff &amp;&amp; int64_t(KillingOff + KillingSize) &gt; DeadOff)) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(int64_t(KillingOff + KillingSize) &lt; int64_t(DeadOff + DeadSize) &amp;&amp;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;           <span class="stringliteral">&quot;Expect to be handled as OW_Complete&quot;</span>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">return</span> OW_Begin;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// Otherwise, they don&#39;t completely overlap.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">/// Returns true if the memory which is accessed by the second instruction is not</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">/// modified between the first and the second instruction.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/// Precondition: Second instruction must be dominated by the first</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/// instruction.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a7b4a95aa47d151f0db62f60bafa792d8">  401</a></span>&#160;<a class="code" href="DeadStoreElimination_8cpp.html#a7b4a95aa47d151f0db62f60bafa792d8">memoryIsNotModifiedBetween</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *FirstI, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *SecondI,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                           <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;AA, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                           <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// Do a backwards scan through the CFG from SecondI to FirstI. Look for</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="comment">// instructions which can modify the memory location accessed by SecondI.</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">// While doing the walk keep track of the address to check. It might be</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// different in different basic blocks due to PHI translation.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keyword">using</span> BlockAddressPair = std::pair&lt;BasicBlock *, PHITransAddr&gt;;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BlockAddressPair, 16&gt;</a> WorkList;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// Keep track of the address we visited each block with. Bail out if we</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// visit a block with different addresses.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, Value *&gt;</a> Visited;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> FirstBBI(FirstI);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  ++FirstBBI;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> SecondBBI(SecondI);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FirstBB = FirstI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *SecondBB = SecondI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> MemLoc;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MemSet = dyn_cast&lt;MemSetInst&gt;(SecondI))</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    MemLoc = <a class="code" href="classllvm_1_1MemoryLocation.html#ac8f8983c6b76d0e30f22fff86b281f16">MemoryLocation::getForDest</a>(MemSet);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    MemLoc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(SecondI);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keyword">auto</span> *MemLocPtr = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Value.html">Value</a> *<span class="keyword">&gt;</span>(MemLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// Start checking the SecondBB.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  WorkList.push_back(</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      std::make_pair(SecondBB, <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a>(MemLocPtr, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <span class="keyword">nullptr</span>)));</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordtype">bool</span> isFirstBlock = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// Check all blocks going backward until we reach the FirstBB.</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">while</span> (!WorkList.empty()) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    BlockAddressPair Current = WorkList.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = Current.first;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = Current.second;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getAddr();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// Ignore instructions before FirstI if this is the FirstBB.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BI = (<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == FirstBB ? FirstBBI : <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;begin());</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> EI;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (isFirstBlock) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="comment">// Ignore instructions after SecondI if this is the first visit of SecondBB.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == SecondBB &amp;&amp; <span class="stringliteral">&quot;first block is not the store block&quot;</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      EI = SecondBBI;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      isFirstBlock = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="comment">// It&#39;s not SecondBB or (in case of a loop) the second visit of SecondBB.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="comment">// In this case we also have to look at instructions after SecondI.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      EI = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;end();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">for</span> (; BI != EI; ++BI) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = &amp;*BI;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayWriteToMemory() &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != SecondI)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(AA.<a class="code" href="classllvm_1_1BatchAAResults.html#adfa0be41805b25d9577d6f15d148a0d7">getModRefInfo</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, MemLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a81f225396ee3b9587327c8009f9dce40">getWithNewPtr</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>))))</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> != FirstBB) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> != &amp;FirstBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">getEntryBlock</a>() &amp;&amp;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;          <span class="stringliteral">&quot;Should not hit the entry block because SI must be dominated by LI&quot;</span>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> PredAddr = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">if</span> (PredAddr.<a class="code" href="classllvm_1_1PHITransAddr.html#ac419457dd48749860dfa5b85a43a0637">needsPHITranslationFromBlock</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          <span class="keywordflow">if</span> (!PredAddr.<a class="code" href="classllvm_1_1PHITransAddr.html#a5efb6e7305495567d0e1c27683565f1f">isPotentiallyPHITranslatable</a>())</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;          <span class="keywordflow">if</span> (!PredAddr.<a class="code" href="classllvm_1_1PHITransAddr.html#a020dcdde43c7bdff11476f1f5b64ef25">translateValue</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, Pred, DT, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *TranslatedPtr = PredAddr.<a class="code" href="classllvm_1_1PHITransAddr.html#a7a81ecd112a964a3ae6890291f78374f">getAddr</a>();</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keyword">auto</span> Inserted = Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(Pred, TranslatedPtr));</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (!Inserted.second) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;          <span class="comment">// We already visited this block before. If it was with a different</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;          <span class="comment">// address - bail out!</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;          <span class="keywordflow">if</span> (TranslatedPtr != Inserted.first-&gt;second)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;          <span class="comment">// ... otherwise just skip it.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        WorkList.push_back(std::make_pair(Pred, PredAddr));</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#ab7b4b2336c3cd524fa4e88c2bb2ac702">  488</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="DeadStoreElimination_8cpp.html#ab7b4b2336c3cd524fa4e88c2bb2ac702">shortenAssignment</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> OldOffsetInBits,</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                              <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> OldSizeInBits, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NewSizeInBits,</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                              <span class="keywordtype">bool</span> IsOverwriteEnd) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="structllvm_1_1DIExpression_1_1FragmentInfo.html">DIExpression::FragmentInfo</a> DeadFragment;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  DeadFragment.<a class="code" href="structllvm_1_1DIExpression_1_1FragmentInfo.html#aa0ba6bb862f184d5720a57950863fa1e">SizeInBits</a> = OldSizeInBits - NewSizeInBits;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  DeadFragment.<a class="code" href="structllvm_1_1DIExpression_1_1FragmentInfo.html#a469aa47dccdabd7f18d7aa6b701e622e">OffsetInBits</a> =</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      OldOffsetInBits + (IsOverwriteEnd ? NewSizeInBits : 0);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keyword">auto</span> CreateDeadFragExpr = [Inst, DeadFragment]() {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// FIXME: This should be using the DIExpression in the Alloca&#39;s dbg.assign</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// for the variable, since that could also contain a fragment?</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="classllvm_1_1DIExpression.html#ab2fc167f75191e1d22e12e8e382605bb">DIExpression::createFragmentExpression</a>(</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">DIExpression::get</a>(Inst-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), std::nullopt),</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        DeadFragment.<a class="code" href="structllvm_1_1DIExpression_1_1FragmentInfo.html#a469aa47dccdabd7f18d7aa6b701e622e">OffsetInBits</a>, DeadFragment.<a class="code" href="structllvm_1_1DIExpression_1_1FragmentInfo.html#aa0ba6bb862f184d5720a57950863fa1e">SizeInBits</a>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  };</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// A DIAssignID to use so that the inserted dbg.assign intrinsics do not</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">// link to any instructions. Created in the loop below (once).</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="classllvm_1_1DIAssignID.html">DIAssignID</a> *LinkToNothing = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// Insert an unlinked dbg.assign intrinsic for the dead fragment after each</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// overlapping dbg.assign intrinsic.</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DAI : <a class="code" href="namespacellvm_1_1at.html#a3c90899e8f022656e511630de42b916c">at::getAssignmentMarkers</a>(Inst)) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> FragInfo = DAI-&gt;getExpression()-&gt;getFragmentInfo()) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DIExpression.html#a46d29699ee79b3a3d7359278f6bab01c">DIExpression::fragmentsOverlap</a>(*FragInfo, DeadFragment))</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// Fragments overlap: insert a new dbg.assign for this dead part.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keyword">auto</span> *NewAssign = cast&lt;DbgAssignIntrinsic&gt;(DAI-&gt;clone());</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    NewAssign-&gt;insertAfter(DAI);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (!LinkToNothing)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      LinkToNothing = <a class="code" href="classllvm_1_1DIAssignID.html#a9d9cf0278178d1da39f6797777e683f7">DIAssignID::getDistinct</a>(Inst-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    NewAssign-&gt;setAssignId(LinkToNothing);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    NewAssign-&gt;setExpression(CreateDeadFragExpr());</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    NewAssign-&gt;setKillAddress();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a97cbd12fcf61e3cf7db640c3661e66df">  527</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="DeadStoreElimination_8cpp.html#a97cbd12fcf61e3cf7db640c3661e66df">tryToShorten</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI, int64_t &amp;DeadStart,</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                         <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;DeadSize, int64_t KillingStart,</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                         <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> KillingSize, <span class="keywordtype">bool</span> IsOverwriteEnd) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keyword">auto</span> *DeadIntrinsic = cast&lt;AnyMemIntrinsic&gt;(DeadI);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> PrefAlign = DeadIntrinsic-&gt;getDestAlign().valueOrOne();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// We assume that memet/memcpy operates in chunks of the &quot;largest&quot; native</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// type size and aligned on the same value. That means optimal start and size</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">// of memset/memcpy should be modulo of preferred alignment of that type. That</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// is it there is no any sense in trying to reduce store size any further</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// since any &quot;extra&quot; stores comes for free anyway.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">// On the other hand, maximum alignment we can achieve is limited by alignment</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">// of initial store.</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// TODO: Limit maximum alignment by preferred (or abi?) alignment of the</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// &quot;largest&quot; native type.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">// Note: What is the proper way to get that value?</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="comment">// Should TargetTransformInfo::getRegisterBitWidth be used or anything else?</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// PrefAlign = std::min(DL.getPrefTypeAlign(LargestType), PrefAlign);</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  int64_t ToRemoveStart = 0;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ToRemoveSize = 0;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// Compute start and size of the region to remove. Make sure &#39;PrefAlign&#39; is</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// maintained on the remaining store.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">if</span> (IsOverwriteEnd) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// Calculate required adjustment for &#39;KillingStart&#39; in order to keep</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// remaining store size aligned on &#39;PerfAlign&#39;.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Off =</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="namespacellvm.html#a99cdcecbadc13087f087c61809bb44f1">offsetToAlignment</a>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(KillingStart - DeadStart), PrefAlign);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    ToRemoveStart = KillingStart + Off;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span> (DeadSize &lt;= <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(ToRemoveStart - DeadStart))</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    ToRemoveSize = DeadSize - <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(ToRemoveStart - DeadStart);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    ToRemoveStart = DeadStart;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(KillingSize &gt;= <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(DeadStart - KillingStart) &amp;&amp;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;           <span class="stringliteral">&quot;Not overlapping accesses?&quot;</span>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    ToRemoveSize = KillingSize - <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(DeadStart - KillingStart);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">// Calculate required adjustment for &#39;ToRemoveSize&#39;in order to keep</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// start of the remaining store aligned on &#39;PerfAlign&#39;.</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Off = <a class="code" href="namespacellvm.html#a99cdcecbadc13087f087c61809bb44f1">offsetToAlignment</a>(ToRemoveSize, PrefAlign);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">if</span> (Off != 0) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="keywordflow">if</span> (ToRemoveSize &lt;= (PrefAlign.<a class="code" href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">value</a>() - Off))</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      ToRemoveSize -= PrefAlign.<a class="code" href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">value</a>() - Off;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a25f1d7ccf87af8d87fcb950f7ed758b5">isAligned</a>(PrefAlign, ToRemoveSize) &amp;&amp;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;           <span class="stringliteral">&quot;Should preserve selected alignment&quot;</span>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ToRemoveSize &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Shouldn&#39;t reach here if nothing to remove&quot;</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DeadSize &gt; ToRemoveSize &amp;&amp; <span class="stringliteral">&quot;Can&#39;t remove more than original size&quot;</span>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NewSize = DeadSize - ToRemoveSize;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AMI = dyn_cast&lt;AtomicMemIntrinsic&gt;(DeadI)) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">// When shortening an atomic memory intrinsic, the newly shortened</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// length must remain an integer multiple of the element size.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> ElementSize = AMI-&gt;getElementSizeInBytes();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">if</span> (0 != NewSize % ElementSize)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Remove Dead Store:\n  OW &quot;</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    &lt;&lt; (IsOverwriteEnd ? <span class="stringliteral">&quot;END&quot;</span> : <span class="stringliteral">&quot;BEGIN&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; *DeadI</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\n  KILLER [&quot;</span> &lt;&lt; ToRemoveStart &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    &lt;&lt; int64_t(ToRemoveStart + ToRemoveSize) &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DeadWriteLength = DeadIntrinsic-&gt;getLength();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TrimmedLength = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(DeadWriteLength-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), NewSize);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  DeadIntrinsic-&gt;setLength(TrimmedLength);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  DeadIntrinsic-&gt;setDestAlignment(PrefAlign);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">if</span> (!IsOverwriteEnd) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *OrigDest = DeadIntrinsic-&gt;getRawDest();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8PtrTy =</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(DeadIntrinsic-&gt;getContext(),</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                           OrigDest-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>());</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Dest = OrigDest;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span> (OrigDest-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != Int8PtrTy)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      Dest = <a class="code" href="classllvm_1_1CastInst.html#acd347d07162a5a80dac61e5bdea9616c">CastInst::CreatePointerCast</a>(OrigDest, Int8PtrTy, <span class="stringliteral">&quot;&quot;</span>, DeadI);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Indices[1] = {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(DeadWriteLength-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), ToRemoveSize)};</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewDestGEP = <a class="code" href="classllvm_1_1GetElementPtrInst.html#a9a94c15dff322a963b566d486dd673b5">GetElementPtrInst::CreateInBounds</a>(</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(DeadIntrinsic-&gt;getContext()), Dest, Indices, <span class="stringliteral">&quot;&quot;</span>, DeadI);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    NewDestGEP-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">setDebugLoc</a>(DeadIntrinsic-&gt;getDebugLoc());</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">if</span> (NewDestGEP-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != OrigDest-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      NewDestGEP = <a class="code" href="classllvm_1_1CastInst.html#acd347d07162a5a80dac61e5bdea9616c">CastInst::CreatePointerCast</a>(NewDestGEP, OrigDest-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                                               <span class="stringliteral">&quot;&quot;</span>, DeadI);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    DeadIntrinsic-&gt;setDest(NewDestGEP);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="comment">// Update attached dbg.assign intrinsics. Assume 8-bit byte.</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <a class="code" href="DeadStoreElimination_8cpp.html#ab7b4b2336c3cd524fa4e88c2bb2ac702">shortenAssignment</a>(DeadI, DeadStart * 8, DeadSize * 8, NewSize * 8,</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    IsOverwriteEnd);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// Finally update start and size of dead access.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordflow">if</span> (!IsOverwriteEnd)</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    DeadStart += ToRemoveSize;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  DeadSize = NewSize;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#aac40904307eb0bd89cfc9d73039ba8e0">  630</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="DeadStoreElimination_8cpp.html#aac40904307eb0bd89cfc9d73039ba8e0">tryToShortenEnd</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI, <a class="code" href="DeadStoreElimination_8cpp.html#a3600ad65816babbe5ecb3b9d82997374">OverlapIntervalsTy</a> &amp;<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>,</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                            int64_t &amp;DeadStart, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;DeadSize) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>.<a class="code" href="classllvm_1_1IntervalMap.html#ac631b4af10a30255067fc77ab6c193d8">empty</a>() || !<a class="code" href="DeadStoreElimination_8cpp.html#a22ea60ab91b41bc2071c4074382e3051">isShortenableAtTheEnd</a>(DeadI))</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  OverlapIntervalsTy::iterator OII = --<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>.<a class="code" href="classllvm_1_1IntervalMap.html#acd1abf2a3bff454bb98fb7598f251a5a">end</a>();</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  int64_t KillingStart = OII-&gt;second;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> KillingSize = OII-&gt;first - KillingStart;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OII-&gt;first - KillingStart &gt;= 0 &amp;&amp; <span class="stringliteral">&quot;Size expected to be positive&quot;</span>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">if</span> (KillingStart &gt; DeadStart &amp;&amp;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="comment">// Note: &quot;KillingStart - KillingStart&quot; is known to be positive due to</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="comment">// preceding check.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)(KillingStart - DeadStart) &lt; DeadSize &amp;&amp;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      <span class="comment">// Note: &quot;DeadSize - (uint64_t)(KillingStart - DeadStart)&quot; is known to</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="comment">// be non negative due to preceding checks.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      KillingSize &gt;= DeadSize - (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)(KillingStart - DeadStart)) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="DeadStoreElimination_8cpp.html#a97cbd12fcf61e3cf7db640c3661e66df">tryToShorten</a>(DeadI, DeadStart, DeadSize, KillingStart, KillingSize,</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                     <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>.erase(OII);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;}</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a315447cd8d049de76d99af3f9cda45a2">  657</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="DeadStoreElimination_8cpp.html#a315447cd8d049de76d99af3f9cda45a2">tryToShortenBegin</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                              <a class="code" href="DeadStoreElimination_8cpp.html#a3600ad65816babbe5ecb3b9d82997374">OverlapIntervalsTy</a> &amp;<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                              int64_t &amp;DeadStart, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;DeadSize) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>.<a class="code" href="classllvm_1_1IntervalMap.html#ac631b4af10a30255067fc77ab6c193d8">empty</a>() || !<a class="code" href="DeadStoreElimination_8cpp.html#a471b94aa7b3f758cd9d2e33ecd0520f4">isShortenableAtTheBeginning</a>(DeadI))</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  OverlapIntervalsTy::iterator OII = <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>.<a class="code" href="classllvm_1_1IntervalMap.html#a30a86f92a3d8d04852d53bfd89ce89c2">begin</a>();</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  int64_t KillingStart = OII-&gt;second;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> KillingSize = OII-&gt;first - KillingStart;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OII-&gt;first - KillingStart &gt;= 0 &amp;&amp; <span class="stringliteral">&quot;Size expected to be positive&quot;</span>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">if</span> (KillingStart &lt;= DeadStart &amp;&amp;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <span class="comment">// Note: &quot;DeadStart - KillingStart&quot; is known to be non negative due to</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="comment">// preceding check.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      KillingSize &gt; (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)(DeadStart - KillingStart)) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="comment">// Note: &quot;KillingSize - (uint64_t)(DeadStart - DeadStart)&quot; is known to</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="comment">// be positive due to preceding checks.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(KillingSize - (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)(DeadStart - KillingStart) &lt; DeadSize &amp;&amp;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;           <span class="stringliteral">&quot;Should have been handled as OW_Complete&quot;</span>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="DeadStoreElimination_8cpp.html#a97cbd12fcf61e3cf7db640c3661e66df">tryToShorten</a>(DeadI, DeadStart, DeadSize, KillingStart, KillingSize,</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                     <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>.erase(OII);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *</div>
<div class="line"><a name="l00687"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#aa092f6d6a6b0277c2d1cdc10a394a8c9">  687</a></span>&#160;<a class="code" href="DeadStoreElimination_8cpp.html#aa092f6d6a6b0277c2d1cdc10a394a8c9">tryToMergePartialOverlappingStores</a>(<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *KillingI, <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *DeadI,</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                                   int64_t KillingOffset, int64_t DeadOffset,</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;AA,</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                                   <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordflow">if</span> (DeadI &amp;&amp; isa&lt;ConstantInt&gt;(DeadI-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>()) &amp;&amp;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.typeSizeEqualsStoreSize(DeadI-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &amp;&amp;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      KillingI &amp;&amp; isa&lt;ConstantInt&gt;(KillingI-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>()) &amp;&amp;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.typeSizeEqualsStoreSize(KillingI-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &amp;&amp;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <a class="code" href="DeadStoreElimination_8cpp.html#a7b4a95aa47d151f0db62f60bafa792d8">memoryIsNotModifiedBetween</a>(DeadI, KillingI, AA, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DT)) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="comment">// If the store we find is:</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="comment">//   a) partially overwritten by the store to &#39;Loc&#39;</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">//   b) the killing store is fully contained in the dead one and</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">//   c) they both have a constant value</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">//   d) none of the two stores need padding</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// Merge the two stores, replacing the dead store&#39;s value with a</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">// merge of both values.</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// TODO: Deal with other constant types (vectors, etc), and probably</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// some mem intrinsics (if needed)</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DeadValue = cast&lt;ConstantInt&gt;(DeadI-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>())-&gt;getValue();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> KillingValue =</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        cast&lt;ConstantInt&gt;(KillingI-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>())-&gt;getValue();</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordtype">unsigned</span> KillingBits = KillingValue.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>();</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DeadValue.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>() &gt; KillingValue.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>());</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    KillingValue = KillingValue.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(DeadValue.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>());</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// Offset of the smaller store inside the larger store</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordtype">unsigned</span> BitOffsetDiff = (KillingOffset - DeadOffset) * 8;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordtype">unsigned</span> LShiftAmount =</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.isBigEndian() ? DeadValue.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>() - BitOffsetDiff - KillingBits</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                         : BitOffsetDiff;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="classllvm_1_1APInt.html#a46ceedee591f92727b85641794a96061">APInt::getBitsSet</a>(DeadValue.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>(), LShiftAmount,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                                   LShiftAmount + KillingBits);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// Clear the bits we&#39;ll be replacing, then OR with the smaller</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="comment">// store, shifted appropriately.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Merged = (DeadValue &amp; ~<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>) | (KillingValue &lt;&lt; LShiftAmount);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Merge Stores:\n  Dead: &quot;</span> &lt;&lt; *DeadI</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\n  Killing: &quot;</span> &lt;&lt; *KillingI</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\n  Merged Value: &quot;</span> &lt;&lt; Merged &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(DeadI-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), Merged);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">// Returns true if \p I is an intrisnic that does not read or write memory.</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="keywordtype">bool</span> isNoopIntrinsic(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">case</span> Intrinsic::lifetime_start:</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">case</span> Intrinsic::lifetime_end:</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">case</span> Intrinsic::invariant_end:</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">case</span> Intrinsic::launder_invariant_group:</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">case</span> Intrinsic::assume:</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">case</span> Intrinsic::dbg_addr:</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">case</span> Intrinsic::dbg_declare:</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">case</span> Intrinsic::dbg_label:</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">case</span> Intrinsic::dbg_value:</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Intrinsic should not be modeled in MemorySSA&quot;</span>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;}</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">// Check if we can ignore \p D for DSE.</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="keywordtype">bool</span> canSkipDef(<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <span class="keywordtype">bool</span> DefVisibleToCaller) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DI = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>-&gt;getMemoryInst();</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="comment">// Calls that only access inaccessible memory cannot read or write any memory</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="comment">// locations we consider for elimination.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(DI))</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">if</span> (CB-&gt;onlyAccessesInaccessibleMemory())</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// We can eliminate stores to locations not visible to the caller across</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// throwing instructions.</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">if</span> (DI-&gt;<a class="code" href="classllvm_1_1Instruction.html#aaaae6480d6b94fee96d440619b402778">mayThrow</a>() &amp;&amp; !DefVisibleToCaller)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// We can remove the dead stores, irrespective of the fence and its ordering</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">// (release/acquire/seq_cst). Fences only constraints the ordering of</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">// already visible stores, it does not make a store visible to other</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="comment">// threads. So, skipping over a fence does not change a store from being</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">// dead.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">if</span> (isa&lt;FenceInst&gt;(DI))</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">// Skip intrinsics that do not really read or modify memory.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">if</span> (isNoopIntrinsic(DI))</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;}</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="keyword">struct </span>DSEState {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> &amp;AA;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <a class="code" href="classllvm_1_1EarliestEscapeInfo.html">EarliestEscapeInfo</a> EI;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">  /// The single BatchAA instance that is used to cache AA queries. It will</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">  /// not be invalidated over the whole run. This is safe, because:</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">  /// 1. Only memory writes are removed, so the alias cache for memory</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">  ///    locations remains valid.</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">  /// 2. No new instructions are added (only instructions removed), so cached</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">  ///    information for a deleted value cannot be accessed by a re-used new</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">  ///    value pointer.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> BatchAA;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> &amp;PDT;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="comment">// Whether the function contains any irreducible control flow, useful for</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="comment">// being accurately able to detect loops.</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordtype">bool</span> ContainsIrreducibleLoops;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="comment">// All MemoryDefs that potentially could kill other MemDefs.</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MemoryDef *, 64&gt;</a> MemDefs;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="comment">// Any that should be skipped as they are already deleted</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MemoryAccess *, 4&gt;</a> SkipStores;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">// Keep track whether a given object is captured before return or not.</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const Value *, bool&gt;</a> CapturedBeforeReturn;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="comment">// Keep track of all of the objects that are invisible to the caller after</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="comment">// the function returns.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const Value *, bool&gt;</a> InvisibleToCallerAfterRet;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="comment">// Keep track of blocks with throwing instructions not modeled in MemorySSA.</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 16&gt;</a> ThrowingBlocks;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="comment">// Post-order numbers for each basic block. Used to figure out if memory</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="comment">// accesses are executed before another access.</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, unsigned&gt;</a> PostOrderNumbers;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// Values that are only used with assumes. Used to refine pointer escape</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// analysis.</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const Value *, 32&gt;</a> EphValues;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">  /// Keep track of instructions (partly) overlapping with killing MemoryDefs per</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">  /// basic block.</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;BasicBlock *, InstOverlapIntervalsTy&gt;</a> IOLs;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="comment">// Check if there are root nodes that are terminated by UnreachableInst.</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">// Those roots pessimize post-dominance queries. If there are such roots,</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="comment">// fall back to CFG scan starting from all non-unreachable roots.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordtype">bool</span> AnyUnreachableExit;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// Whether or not we should iterate on removing dead stores at the end of the</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// function due to removing a store causing a previously captured pointer to</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// no longer be captured.</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordtype">bool</span> ShouldIterateEndOfFunctionDSE;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// Class contains self-reference, make sure it&#39;s not copied/moved.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  DSEState(<span class="keyword">const</span> DSEState &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  DSEState &amp;operator=(<span class="keyword">const</span> DSEState &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  DSEState(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> &amp;AA, <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;           <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> &amp;PDT, <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC,</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;           <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>), AA(AA), EI(DT, LI, EphValues), BatchAA(AA, &amp;EI), MSSA(MSSA),</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        DT(DT), PDT(PDT), TLI(TLI), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>()-&gt;getDataLayout()), LI(LI) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// Collect blocks with throwing instructions not modeled in MemorySSA and</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">// alloc-like objects.</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordtype">unsigned</span> PO = 0;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="namespacellvm.html#aa0953557ed13c0ed48e740653e07c979">post_order</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      PostOrderNumbers[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = PO++;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA = MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayThrow() &amp;&amp; !MA)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;          ThrowingBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent());</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keyword">auto</span> *MD = dyn_cast_or_null&lt;MemoryDef&gt;(MA);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">if</span> (MD &amp;&amp; MemDefs.size() &lt; <a class="code" href="DeadStoreElimination_8cpp.html#ab2b0b8fe5c4f95405465ec5baabbe5d5">MemorySSADefsPerBlockLimit</a> &amp;&amp;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            (getLocForWrite(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isMemTerminatorInst(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)))</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          MemDefs.push_back(MD);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="comment">// Treat byval or inalloca arguments the same as Allocas, stores to them are</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">// dead at the end of the function.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;AI : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.args())</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> (AI.hasPassPointeeByValueCopyAttr())</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        InvisibleToCallerAfterRet.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({&amp;AI, <span class="keyword">true</span>});</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">// Collect whether there is any irreducible control flow in the function.</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    ContainsIrreducibleLoops = <a class="code" href="namespacellvm.html#add8cf45ebe45732b4baff48cb3a8d435">mayContainIrreducibleControl</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, &amp;LI);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    AnyUnreachableExit = <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(PDT.<a class="code" href="classllvm_1_1DominatorTreeBase.html#a34caabb3b49a32ca4f53db4b4c2ec35b">roots</a>(), [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      return isa&lt;UnreachableInst&gt;(E-&gt;getTerminator());</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    });</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="structllvm_1_1CodeMetrics.html#a7e174506b52ad46ea1f746a7f727d999">CodeMetrics::collectEphemeralValues</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, &amp;AC, EphValues);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <a class="code" href="classllvm_1_1LocationSize.html">LocationSize</a> strengthenLocationSize(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                                      <a class="code" href="classllvm_1_1LocationSize.html">LocationSize</a> Size)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <a class="code" href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">LibFunc</a> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a97cfbbed8869e3582142012a071a9052">getLibFunc</a>(*CB, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) &amp;&amp; TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a54699e3f128acda6003afc11d3027f6c">has</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) &amp;&amp;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;          (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> == LibFunc_memset_chk || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> == LibFunc_memcpy_chk)) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="comment">// Use the precise location size specified by the 3rd argument</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="comment">// for determining KillingI overwrites DeadLoc if it is a memset_chk</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="comment">// instruction. memset_chk will write either the amount specified as 3rd</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="comment">// argument or the function will immediately abort and exit the program.</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="comment">// NOTE: AA may determine NoAlias if it can prove that the access size</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="comment">// is larger than the allocation size due to that being UB. To avoid</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="comment">// returning potentially invalid NoAlias results by AA, limit the use of</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="comment">// the precise location size to isOverwrite.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Len = dyn_cast&lt;ConstantInt&gt;(CB-&gt;getArgOperand(2)))</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1LocationSize.html#a131715ceeb92fb803a329d6b76d14e0d">LocationSize::precise</a>(<a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0ae88b4464fe326a51e6e6dfae28dd536d">Len</a>-&gt;getZExtValue());</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">  /// Return &#39;OW_Complete&#39; if a store to the &#39;KillingLoc&#39; location (by \p</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">  /// KillingI instruction) completely overwrites a store to the &#39;DeadLoc&#39;</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">  /// location (by \p DeadI instruction).</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">  /// Return OW_MaybePartial if \p KillingI does not completely overwrite</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">  /// \p DeadI, but they both write to the same underlying object. In that</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">  /// case, use isPartialOverwrite to check if \p KillingI partially overwrites</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">  /// \p DeadI. Returns &#39;OR_None&#39; if \p KillingI is known to not overwrite the</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">  /// \p DeadI. Returns &#39;OW_Unknown&#39; if nothing can be determined.</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment"></span>  OverwriteResult isOverwrite(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *KillingI,</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI,</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;KillingLoc,</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;DeadLoc,</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                              int64_t &amp;KillingOff, int64_t &amp;DeadOff) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">// AliasAnalysis does not always account for loops. Limit overwrite checks</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">// to dependencies for which we can guarantee they are independent of any</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="comment">// loops they are in.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> (!isGuaranteedLoopIndependent(DeadI, KillingI, DeadLoc))</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="classllvm_1_1LocationSize.html">LocationSize</a> KillingLocSize =</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        strengthenLocationSize(KillingI, KillingLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *DeadPtr = DeadLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *KillingPtr = KillingLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *DeadUndObj = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(DeadPtr);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *KillingUndObj = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(KillingPtr);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="comment">// Check whether the killing store overwrites the whole object, in which</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="comment">// case the size/offset of the dead store does not matter.</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">if</span> (DeadUndObj == KillingUndObj &amp;&amp; KillingLocSize.<a class="code" href="classllvm_1_1LocationSize.html#aa9addaa6f7dd437922a57401cb192031">isPrecise</a>()) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> KillingUndObjSize = <a class="code" href="DeadStoreElimination_8cpp.html#a6d600c27cf21c25d25048d9a2d6b888e">getPointerSize</a>(KillingUndObj, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI, &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="keywordflow">if</span> (KillingUndObjSize != <a class="code" href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">MemoryLocation::UnknownSize</a> &amp;&amp;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;          KillingUndObjSize == KillingLocSize.<a class="code" href="classllvm_1_1LocationSize.html#a47f128e1007c6c70eb7b0df2dcbf68df">getValue</a>())</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">return</span> OW_Complete;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">// FIXME: Vet that this works for size upper-bounds. Seems unlikely that we&#39;ll</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">// get imprecise values here, though (except for unknown sizes).</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">if</span> (!KillingLocSize.<a class="code" href="classllvm_1_1LocationSize.html#aa9addaa6f7dd437922a57401cb192031">isPrecise</a>() || !DeadLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>.<a class="code" href="classllvm_1_1LocationSize.html#aa9addaa6f7dd437922a57401cb192031">isPrecise</a>()) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="comment">// In case no constant size is known, try to an IR values for the number</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="comment">// of bytes written and check if they match.</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *KillingMemI = dyn_cast&lt;MemIntrinsic&gt;(KillingI);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *DeadMemI = dyn_cast&lt;MemIntrinsic&gt;(DeadI);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <span class="keywordflow">if</span> (KillingMemI &amp;&amp; DeadMemI) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *KillingV = KillingMemI-&gt;getLength();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *DeadV = DeadMemI-&gt;getLength();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">if</span> (KillingV == DeadV &amp;&amp; BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#ab9ba3a606a0299b684755f56b1d2f1c7">isMustAlias</a>(DeadLoc, KillingLoc))</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;          <span class="keywordflow">return</span> OW_Complete;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="comment">// Masked stores have imprecise locations, but we can reason about them</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="comment">// to some extent.</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="DeadStoreElimination_8cpp.html#a8daf1ecab5704c6aa3672b2fcec60f29">isMaskedStoreOverwrite</a>(KillingI, DeadI, BatchAA);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> KillingSize = KillingLocSize.<a class="code" href="classllvm_1_1LocationSize.html#a47f128e1007c6c70eb7b0df2dcbf68df">getValue</a>();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DeadSize = DeadLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>.<a class="code" href="classllvm_1_1LocationSize.html#a47f128e1007c6c70eb7b0df2dcbf68df">getValue</a>();</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="comment">// Query the alias information</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="classllvm_1_1AliasResult.html">AliasResult</a> AAR = BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#a2afd85d1ce874e1dd6391c967101d3b8">alias</a>(KillingLoc, DeadLoc);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="comment">// If the start pointers are the same, we just have to compare sizes to see if</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="comment">// the killing store was larger than the dead store.</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">if</span> (AAR == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57ac1a99a1af9a4778a61e5cc3e1d622180">AliasResult::MustAlias</a>) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="comment">// Make sure that the KillingSize size is &gt;= the DeadSize size.</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">if</span> (KillingSize &gt;= DeadSize)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">return</span> OW_Complete;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="comment">// If we hit a partial alias we may have a full overwrite</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">if</span> (AAR == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a9e724bc94de38c6ca77508f19c246c0c">AliasResult::PartialAlias</a> &amp;&amp; AAR.<a class="code" href="classllvm_1_1AliasResult.html#ad877dea909eff4e9714f31be1c770491">hasOffset</a>()) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      int32_t <a class="code" href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#ab6e8b39aa26af871d8ede5fa8c791ee6ad15305d7a4e34e02489c74a5ef542f36">Off</a> = AAR.<a class="code" href="classllvm_1_1AliasResult.html#acedb65c0cfa62eca04a90d92017dd0c6">getOffset</a>();</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <span class="keywordflow">if</span> (Off &gt;= 0 &amp;&amp; (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)Off + DeadSize &lt;= KillingSize)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="keywordflow">return</span> OW_Complete;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="comment">// If we can&#39;t resolve the same pointers to the same object, then we can&#39;t</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="comment">// analyze them at all.</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">if</span> (DeadUndObj != KillingUndObj) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="comment">// Non aliasing stores to different objects don&#39;t overlap. Note that</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="comment">// if the killing store is known to overwrite whole object (out of</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="comment">// bounds access overwrites whole object as well) then it is assumed to</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="comment">// completely overwrite any store to the same object even if they don&#39;t</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <span class="comment">// actually alias (see next check).</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="keywordflow">if</span> (AAR == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a863ee317b92588eb2d6878af9fc98922">AliasResult::NoAlias</a>)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="keywordflow">return</span> OW_None;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="comment">// Okay, we have stores to two completely different pointers.  Try to</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="comment">// decompose the pointer into a &quot;base + constant_offset&quot; form.  If the base</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="comment">// pointers are equal, then we can reason about the two stores.</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    DeadOff = 0;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    KillingOff = 0;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *DeadBasePtr =</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <a class="code" href="namespacellvm.html#afc6337ef6e00f6bebd44d81b685d655f">GetPointerBaseWithConstantOffset</a>(DeadPtr, DeadOff, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *KillingBasePtr =</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <a class="code" href="namespacellvm.html#afc6337ef6e00f6bebd44d81b685d655f">GetPointerBaseWithConstantOffset</a>(KillingPtr, KillingOff, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="comment">// If the base pointers still differ, we have two completely different</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="comment">// stores.</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">if</span> (DeadBasePtr != KillingBasePtr)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordflow">return</span> OW_Unknown;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="comment">// The killing access completely overlaps the dead store if and only if</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="comment">// both start and end of the dead one is &quot;inside&quot; the killing one:</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">//    |&lt;-&gt;|--dead--|&lt;-&gt;|</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="comment">//    |-----killing------|</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">// Accesses may overlap if and only if start of one of them is &quot;inside&quot;</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">// another one:</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="comment">//    |&lt;-&gt;|--dead--|&lt;--------&gt;|</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">//    |-------killing--------|</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="comment">//           OR</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="comment">//    |-------dead-------|</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">//    |&lt;-&gt;|---killing---|&lt;-----&gt;|</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="comment">// We have to be careful here as *Off is signed while *.Size is unsigned.</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="comment">// Check if the dead access starts &quot;not before&quot; the killing one.</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">if</span> (DeadOff &gt;= KillingOff) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <span class="comment">// If the dead access ends &quot;not after&quot; the killing access then the</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="comment">// dead one is completely overwritten by the killing one.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(DeadOff - KillingOff) + DeadSize &lt;= KillingSize)</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keywordflow">return</span> OW_Complete;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <span class="comment">// If start of the dead access is &quot;before&quot; end of the killing access</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <span class="comment">// then accesses overlap.</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)(DeadOff - KillingOff) &lt; KillingSize)</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="keywordflow">return</span> OW_MaybePartial;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="comment">// If start of the killing access is &quot;before&quot; end of the dead access then</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">// accesses overlap.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)(KillingOff - DeadOff) &lt; DeadSize) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">return</span> OW_MaybePartial;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">// Can reach here only if accesses are known not to overlap.</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">return</span> OW_None;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordtype">bool</span> isInvisibleToCallerAfterRet(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(V))</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = InvisibleToCallerAfterRet.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({V, <span class="keyword">false</span>});</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keywordflow">if</span> (!isInvisibleToCallerOnUnwind(V)) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;second = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a433468826ef20b5ddb53704fc38363fc">isNoAliasCall</a>(V)) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;second = !<a class="code" href="namespacellvm.html#a7912b6c9e7843ca9fd5a11e199bef617">PointerMayBeCaptured</a>(V, <span class="keyword">true</span>, <span class="keyword">false</span>, EphValues);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;second;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordtype">bool</span> isInvisibleToCallerOnUnwind(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordtype">bool</span> RequiresNoCaptureBeforeUnwind;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a894b02a1122caccc0ed5eb9b321d22bb">isNotVisibleOnUnwind</a>(V, RequiresNoCaptureBeforeUnwind))</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">if</span> (!RequiresNoCaptureBeforeUnwind)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160; </div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CapturedBeforeReturn.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({V, <span class="keyword">true</span>});</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second)</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <span class="comment">// NOTE: This could be made more precise by PointerMayBeCapturedBefore</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="comment">// with the killing MemoryDef. But we refrain from doing so for now to</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <span class="comment">// limit compile-time and this does not cause any changes to the number</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <span class="comment">// of stores removed on a large test set in practice.</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;second = <a class="code" href="namespacellvm.html#a7912b6c9e7843ca9fd5a11e199bef617">PointerMayBeCaptured</a>(V, <span class="keyword">false</span>, <span class="keyword">true</span>, EphValues);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;second;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  std::optional&lt;MemoryLocation&gt; getLocForWrite(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayWriteToMemory())</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemoryLocation.html#ac8f8983c6b76d0e30f22fff86b281f16">MemoryLocation::getForDest</a>(CB, TLI);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemoryLocation.html#af61b31a99c1e58b1760492d2a7a1ba9c">MemoryLocation::getOrNone</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">  /// Assuming this instruction has a dead analyzable write, can we delete</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">  /// this instruction?</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isRemovable(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(getLocForWrite(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp; <span class="stringliteral">&quot;Must have analyzable write&quot;</span>);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="comment">// Don&#39;t remove volatile/atomic stores.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isUnordered();</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="comment">// Don&#39;t remove volatile memory intrinsics.</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = dyn_cast&lt;MemIntrinsic&gt;(CB))</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isVolatile();</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="comment">// Never remove dead lifetime intrinsics, e.g. because they are followed</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="comment">// by a free.</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">if</span> (CB-&gt;isLifetimeStartOrEnd())</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="keywordflow">return</span> CB-&gt;use_empty() &amp;&amp; CB-&gt;willReturn() &amp;&amp; CB-&gt;doesNotThrow() &amp;&amp;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;             !CB-&gt;isTerminator();</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment">  /// Returns true if \p UseInst completely overwrites \p DefLoc</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment">  /// (stored by \p DefInst).</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isCompleteOverwrite(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;DefLoc, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DefInst,</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                           <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UseInst) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// UseInst has a MemoryDef associated in MemorySSA. It&#39;s possible for a</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="comment">// MemoryDef to not write to memory, e.g. a volatile load is modeled as a</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="comment">// MemoryDef.</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">if</span> (!UseInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a383175f96316074965ad115706bd49d7">mayWriteToMemory</a>())</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(UseInst))</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="keywordflow">if</span> (CB-&gt;onlyAccessesInaccessibleMemory())</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    int64_t InstWriteOffset, DepWriteOffset;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = getLocForWrite(UseInst))</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">return</span> isOverwrite(UseInst, DefInst, *<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>, DefLoc, InstWriteOffset,</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                         DepWriteOffset) == OW_Complete;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">  /// Returns true if \p Def is not read before returning from the function.</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isWriteAtEndOfFunction(<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Check if def &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                      &lt;&lt; *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getMemoryInst()</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;) is at the end the function \n&quot;</span>);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="keyword">auto</span> MaybeLoc = getLocForWrite(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getMemoryInst());</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">if</span> (!MaybeLoc) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  ... could not get location for write.\n&quot;</span>);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MemoryAccess *, 4&gt;</a> WorkList;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MemoryAccess *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keyword">auto</span> PushMemUses = [&amp;WorkList, &amp;Visited](<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Acc) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Acc).second)</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : Acc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>())</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        WorkList.push_back(cast&lt;MemoryAccess&gt;(U.getUser()));</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    };</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    PushMemUses(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; WorkList.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">if</span> (WorkList.size() &gt;= <a class="code" href="DeadStoreElimination_8cpp.html#abb41aabaa76a67aecaecad0f103fea3c">MemorySSAScanLimit</a>) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  ... hit exploration limit.\n&quot;</span>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *UseAccess = WorkList[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="keywordflow">if</span> (isa&lt;MemoryPhi&gt;(UseAccess)) {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="comment">// AliasAnalysis does not account for loops. Limit elimination to</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="comment">// candidates for which we can guarantee they always store to the same</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="comment">// memory location.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keywordflow">if</span> (!isGuaranteedLoopInvariant(MaybeLoc-&gt;Ptr))</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        PushMemUses(cast&lt;MemoryPhi&gt;(UseAccess));</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="comment">// TODO: Checking for aliasing is expensive. Consider reducing the amount</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="comment">// of times this is called and/or caching it.</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UseInst = cast&lt;MemoryUseOrDef&gt;(UseAccess)-&gt;getMemoryInst();</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">if</span> (isReadClobber(*MaybeLoc, UseInst)) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  ... hit read clobber &quot;</span> &lt;&lt; *UseInst &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *UseDef = dyn_cast&lt;MemoryDef&gt;(UseAccess))</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        PushMemUses(UseDef);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment">  /// If \p I is a memory  terminator like llvm.lifetime.end or free, return a</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">  /// pair with the MemoryLocation terminated by \p I and a boolean flag</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">  /// indicating whether \p I is a free-like call.</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment"></span>  std::optional&lt;std::pair&lt;MemoryLocation, bool&gt;&gt;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  getLocForTerminator(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0ae88b4464fe326a51e6e6dfae28dd536d">Len</a>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, m_Intrinsic&lt;Intrinsic::lifetime_end&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(Len),</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                                                      <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>))))</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="keywordflow">return</span> {std::make_pair(<a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Len), <span class="keyword">false</span>)};</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *FreedOp = <a class="code" href="namespacellvm.html#ab9cb77a3069c227792d6bade6faff422">getFreedOperand</a>(CB, &amp;TLI))</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="keywordflow">return</span> {std::make_pair(<a class="code" href="classllvm_1_1MemoryLocation.html#a49f776e0940cc5d63d17d85ff6dac257">MemoryLocation::getAfter</a>(FreedOp), <span class="keyword">true</span>)};</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="comment">  /// Returns true if \p I is a memory terminator instruction like</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="comment">  /// llvm.lifetime.end or free.</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isMemTerminatorInst(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">return</span> CB &amp;&amp; (CB-&gt;getIntrinsicID() == Intrinsic::lifetime_end ||</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                  <a class="code" href="namespacellvm.html#ab9cb77a3069c227792d6bade6faff422">getFreedOperand</a>(CB, &amp;TLI) != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment">  /// Returns true if \p MaybeTerm is a memory terminator for \p Loc from</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment">  /// instruction \p AccessI.</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isMemTerminator(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *AccessI,</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                       <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *MaybeTerm) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    std::optional&lt;std::pair&lt;MemoryLocation, bool&gt;&gt; MaybeTermLoc =</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        getLocForTerminator(MaybeTerm);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">if</span> (!MaybeTermLoc)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="comment">// If the terminator is a free-like call, all accesses to the underlying</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="comment">// object can be considered terminated.</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>) !=</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(MaybeTermLoc-&gt;first.Ptr))</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keyword">auto</span> TermLoc = MaybeTermLoc-&gt;first;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">if</span> (MaybeTermLoc-&gt;second) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *LocUO = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">return</span> BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#ab9ba3a606a0299b684755f56b1d2f1c7">isMustAlias</a>(TermLoc.Ptr, LocUO);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    int64_t InstWriteOffset = 0;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    int64_t DepWriteOffset = 0;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">return</span> isOverwrite(MaybeTerm, AccessI, TermLoc, Loc, InstWriteOffset,</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                       DepWriteOffset) == OW_Complete;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="comment">// Returns true if \p Use may read from \p DefLoc.</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="keywordtype">bool</span> isReadClobber(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;DefLoc, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UseInst) {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (isNoopIntrinsic(UseInst))</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="comment">// Monotonic or weaker atomic stores can be re-ordered and do not need to be</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="comment">// treated as read clobber.</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(UseInst))</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af21b12b7c8de1504a945c4c974e06bff">isStrongerThan</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getOrdering(), <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a14194d0b2e6c6680067975517cd58eac">AtomicOrdering::Monotonic</a>);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">if</span> (!UseInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9149819221d66953ac6c2938b87f0136">mayReadFromMemory</a>())</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(UseInst))</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keywordflow">if</span> (CB-&gt;onlyAccessesInaccessibleMemory())</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af7787f6b577cd7a63f043b87301b8e81">isRefSet</a>(BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#adfa0be41805b25d9577d6f15d148a0d7">getModRefInfo</a>(UseInst, DefLoc));</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">  /// Returns true if a dependency between \p Current and \p KillingDef is</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment">  /// guaranteed to be loop invariant for the loops that they are in. Either</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">  /// because they are known to be in the same block, in the same loop level or</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">  /// by guaranteeing that \p CurrentLoc only references a single MemoryLocation</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">  /// during execution of the containing function.</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isGuaranteedLoopIndependent(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Current,</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *KillingDef,</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;CurrentLoc) {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="comment">// If the dependency is within the same block or loop level (being careful</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="comment">// of irreducible loops), we know that AA will return a valid result for the</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="comment">// memory dependency. (Both at the function level, outside of any loop,</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="comment">// would also be valid but we currently disable that to limit compile time).</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">if</span> (Current-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>() == KillingDef-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>())</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *CurrentLI = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(Current-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">if</span> (!ContainsIrreducibleLoops &amp;&amp; CurrentLI &amp;&amp;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        CurrentLI == LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(KillingDef-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()))</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// Otherwise check the memory location is invariant to any loops.</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">return</span> isGuaranteedLoopInvariant(CurrentLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  }</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">  /// Returns true if \p Ptr is guaranteed to be loop invariant for any possible</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">  /// loop. In particular, this guarantees that it only references a single</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">  /// MemoryLocation during execution of the containing function.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isGuaranteedLoopInvariant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;stripPointerCasts();</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GEPOperator&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>))</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;hasAllConstantIndices())</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand()-&gt;stripPointerCasts();</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)) {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()-&gt;isEntryBlock() ||</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;             (!ContainsIrreducibleLoops &amp;&amp; !LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()));</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="comment">// Find a MemoryDef writing to \p KillingLoc and dominating \p StartAccess,</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="comment">// with no read access between them or on any other path to a function exit</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="comment">// block if \p KillingLoc is not accessible after the function returns. If</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="comment">// there is no such MemoryDef, return std::nullopt. The returned value may not</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="comment">// (completely) overwrite \p KillingLoc. Currently we bail out when we</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// encounter an aliasing MemoryUse (read).</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  std::optional&lt;MemoryAccess *&gt;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  getDomMemoryDef(<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *KillingDef, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *StartAccess,</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;KillingLoc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *KillingUndObj,</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                  <span class="keywordtype">unsigned</span> &amp;ScanLimit, <span class="keywordtype">unsigned</span> &amp;WalkerStepLimit,</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                  <span class="keywordtype">bool</span> IsMemTerm, <span class="keywordtype">unsigned</span> &amp;PartialLimit) {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (ScanLimit == 0 || WalkerStepLimit == 0) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n    ...  hit scan limit\n&quot;</span>);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Current = StartAccess;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *KillingI = KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">getMemoryInst</a>();</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  trying to get dominating access\n&quot;</span>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="comment">// Only optimize defining access of KillingDef when directly starting at its</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="comment">// defining access. The defining access also must only access KillingLoc. At</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="comment">// the moment we only support instructions with a single write location, so</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="comment">// it should be sufficient to disable optimizations for instructions that</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="comment">// also read from memory.</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordtype">bool</span> CanOptimize = <a class="code" href="DeadStoreElimination_8cpp.html#ae9e8f2fed84d9940c1cf9d7da1035a44">OptimizeMemorySSA</a> &amp;&amp;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                       KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#abc4e1b6cc483cfd57ca75c4ab92bd360">getDefiningAccess</a>() == StartAccess &amp;&amp;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                       !KillingI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9149819221d66953ac6c2938b87f0136">mayReadFromMemory</a>();</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="comment">// Find the next clobbering Mod access for DefLoc, starting at StartAccess.</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    std::optional&lt;MemoryLocation&gt; CurrentLoc;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">for</span> (;; Current = cast&lt;MemoryDef&gt;(Current)-&gt;getDefiningAccess()) {</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   visiting &quot;</span> &lt;&lt; *Current;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">if</span> (!MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(Current) &amp;&amp; isa&lt;MemoryUseOrDef&gt;(Current))</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; *cast&lt;MemoryUseOrDef&gt;(Current)-&gt;getMemoryInst()</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      });</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="comment">// Reached TOP.</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="keywordflow">if</span> (MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(Current)) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   ...  found LiveOnEntryDef\n&quot;</span>);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <span class="keywordflow">if</span> (CanOptimize &amp;&amp; Current != KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#abc4e1b6cc483cfd57ca75c4ab92bd360">getDefiningAccess</a>())</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;          <span class="comment">// The first clobbering def is... none.</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;          KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryDef.html#af8ce9c4c2a0f042aa8a7c365a293d642">setOptimized</a>(Current);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="comment">// Cost of a step. Accesses in the same block are more likely to be valid</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      <span class="comment">// candidates for elimination, hence consider them cheaper.</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordtype">unsigned</span> StepCost = KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>() == Current-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>()</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                              ? <a class="code" href="DeadStoreElimination_8cpp.html#a33cc3fe4bbeedb352c8ee54c2d02bc49">MemorySSASameBBStepCost</a></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                              : <a class="code" href="DeadStoreElimination_8cpp.html#ab085cca6a1f0a87474eee9d0dd00adf8">MemorySSAOtherBBStepCost</a>;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      <span class="keywordflow">if</span> (WalkerStepLimit &lt;= StepCost) {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   ...  hit walker step limit\n&quot;</span>);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      WalkerStepLimit -= StepCost;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="comment">// Return for MemoryPhis. They cannot be eliminated directly and the</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="comment">// caller is responsible for traversing them.</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <span class="keywordflow">if</span> (isa&lt;MemoryPhi&gt;(Current)) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   ...  found MemoryPhi\n&quot;</span>);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="keywordflow">return</span> Current;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="comment">// Below, check if CurrentDef is a valid candidate to be eliminated by</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <span class="comment">// KillingDef. If it is not, check the next candidate.</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *CurrentDef = cast&lt;MemoryDef&gt;(Current);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CurrentI = CurrentDef-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">getMemoryInst</a>();</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="keywordflow">if</span> (canSkipDef(CurrentDef, !isInvisibleToCallerOnUnwind(KillingUndObj))) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        CanOptimize = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="comment">// Before we try to remove anything, check for any extra throwing</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <span class="comment">// instructions that block us from DSEing</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <span class="keywordflow">if</span> (mayThrowBetween(KillingI, CurrentI, KillingUndObj)) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  ... skip, may throw!\n&quot;</span>);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="comment">// Check for anything that looks like it will be a barrier to further</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <span class="comment">// removal</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <span class="keywordflow">if</span> (isDSEBarrier(KillingUndObj, CurrentI)) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  ... skip, barrier\n&quot;</span>);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="comment">// If Current is known to be on path that reads DefLoc or is a read</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="comment">// clobber, bail out, as the path is not profitable. We skip this check</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="comment">// for intrinsic calls, because the code knows how to handle memcpy</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="comment">// intrinsics.</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;IntrinsicInst&gt;(CurrentI) &amp;&amp; isReadClobber(KillingLoc, CurrentI))</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="comment">// Quick check if there are direct uses that are read-clobbers.</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(Current-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>(), [<span class="keyword">this</span>, &amp;KillingLoc, StartAccess](<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            if (auto *UseOrDef = dyn_cast&lt;MemoryUseOrDef&gt;(U.getUser()))</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;              return !MSSA.dominates(StartAccess, UseOrDef) &amp;&amp;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                     isReadClobber(KillingLoc, UseOrDef-&gt;getMemoryInst());</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;            return false;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;          })) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   ...  found a read clobber\n&quot;</span>);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="comment">// If Current does not have an analyzable write location or is not</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="comment">// removable, skip it.</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      CurrentLoc = getLocForWrite(CurrentI);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="keywordflow">if</span> (!CurrentLoc || !isRemovable(CurrentI)) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        CanOptimize = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      <span class="comment">// AliasAnalysis does not account for loops. Limit elimination to</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <span class="comment">// candidates for which we can guarantee they always store to the same</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      <span class="comment">// memory location and not located in different loops.</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="keywordflow">if</span> (!isGuaranteedLoopIndependent(CurrentI, KillingI, *CurrentLoc)) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  ... not guaranteed loop independent\n&quot;</span>);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        CanOptimize = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      <span class="keywordflow">if</span> (IsMemTerm) {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <span class="comment">// If the killing def is a memory terminator (e.g. lifetime.end), check</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="comment">// the next candidate if the current Current does not write the same</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="comment">// underlying object as the terminator.</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <span class="keywordflow">if</span> (!isMemTerminator(*CurrentLoc, CurrentI, KillingI)) {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;          CanOptimize = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        }</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        int64_t KillingOffset = 0;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        int64_t DeadOffset = 0;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> = isOverwrite(KillingI, CurrentI, KillingLoc, *CurrentLoc,</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                              KillingOffset, DeadOffset);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordflow">if</span> (CanOptimize) {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;          <span class="comment">// CurrentDef is the earliest write clobber of KillingDef. Use it as</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;          <span class="comment">// optimized access. Do not optimize if CurrentDef is already the</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;          <span class="comment">// defining access of KillingDef.</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;          <span class="keywordflow">if</span> (CurrentDef != KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#abc4e1b6cc483cfd57ca75c4ab92bd360">getDefiningAccess</a>() &amp;&amp;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;              (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> == OW_Complete || <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> == OW_MaybePartial))</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryDef.html#af8ce9c4c2a0f042aa8a7c365a293d642">setOptimized</a>(CurrentDef);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;          <span class="comment">// Once a may-aliasing def is encountered do not set an optimized</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;          <span class="comment">// access.</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> != OW_None)</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            CanOptimize = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="comment">// If Current does not write to the same object as KillingDef, check</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <span class="comment">// the next candidate.</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> == OW_Unknown || <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> == OW_None)</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> == OW_MaybePartial) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;          <span class="comment">// If KillingDef only partially overwrites Current, check the next</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;          <span class="comment">// candidate if the partial step limit is exceeded. This aggressively</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;          <span class="comment">// limits the number of candidates for partial store elimination,</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;          <span class="comment">// which are less likely to be removable in the end.</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;          <span class="keywordflow">if</span> (PartialLimit &lt;= 1) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            WalkerStepLimit -= 1;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   ... reached partial limit ... continue with next access\n&quot;</span>);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;          }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;          PartialLimit -= 1;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    };</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="comment">// Accesses to objects accessible after the function returns can only be</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="comment">// eliminated if the access is dead along all paths to the exit. Collect</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="comment">// the blocks with killing (=completely overwriting MemoryDefs) and check if</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="comment">// they cover all paths from MaybeDeadAccess to any function exit.</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction *, 16&gt;</a> KillingDefs;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    KillingDefs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">getMemoryInst</a>());</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MaybeDeadAccess = Current;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> MaybeDeadLoc = *CurrentLoc;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *MaybeDeadI = cast&lt;MemoryDef&gt;(MaybeDeadAccess)-&gt;getMemoryInst();</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Checking for reads of &quot;</span> &lt;&lt; *MaybeDeadAccess &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                      &lt;&lt; *MaybeDeadI &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;MemoryAccess *, 32&gt;</a> WorkList;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keyword">auto</span> PushMemUses = [&amp;WorkList](<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Acc) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : Acc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>())</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        WorkList.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(cast&lt;MemoryAccess&gt;(U.<a class="code" href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">getUser</a>()));</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    };</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    PushMemUses(MaybeDeadAccess);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="comment">// Check if DeadDef may be read.</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; WorkList.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *UseAccess = WorkList[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; *UseAccess);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <span class="comment">// Bail out if the number of accesses to check exceeds the scan limit.</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      <span class="keywordflow">if</span> (ScanLimit &lt; (WorkList.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>() - <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n    ...  hit scan limit\n&quot;</span>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      }</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      --ScanLimit;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      NumDomMemDefChecks++;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="keywordflow">if</span> (isa&lt;MemoryPhi&gt;(UseAccess)) {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(KillingDefs, [<span class="keyword">this</span>, UseAccess](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *KI) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;              <span class="keywordflow">return</span> DT.<a class="code" href="classllvm_1_1DominatorTreeBase.html#ade6d93f9485649bade540a37ec163058">properlyDominates</a>(KI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(),</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                                          UseAccess-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>());</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            })) {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; ... skipping, dominated by killing block\n&quot;</span>);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n    ... adding PHI uses\n&quot;</span>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        PushMemUses(UseAccess);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      }</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UseInst = cast&lt;MemoryUseOrDef&gt;(UseAccess)-&gt;getMemoryInst();</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; *UseInst &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(KillingDefs, [<span class="keyword">this</span>, UseInst](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *KI) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            <span class="keywordflow">return</span> DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(KI, UseInst);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;          })) {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; ... skipping, dominated by killing def\n&quot;</span>);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="comment">// A memory terminator kills all preceeding MemoryDefs and all succeeding</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <span class="comment">// MemoryAccesses. We do not have to check it&#39;s users.</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <span class="keywordflow">if</span> (isMemTerminator(MaybeDeadLoc, MaybeDeadI, UseInst)) {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; ... skipping, memterminator invalidates following accesses\n&quot;</span>);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="keywordflow">if</span> (isNoopIntrinsic(cast&lt;MemoryUseOrDef&gt;(UseAccess)-&gt;getMemoryInst())) {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    ... adding uses of intrinsic\n&quot;</span>);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        PushMemUses(UseAccess);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      }</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">if</span> (UseInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#aaaae6480d6b94fee96d440619b402778">mayThrow</a>() &amp;&amp; !isInvisibleToCallerOnUnwind(KillingUndObj)) {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  ... found throwing instruction\n&quot;</span>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="comment">// Uses which may read the original MemoryDef mean we cannot eliminate the</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="comment">// original MD. Stop walk.</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordflow">if</span> (isReadClobber(MaybeDeadLoc, UseInst)) {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    ... found read clobber\n&quot;</span>);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160; </div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <span class="comment">// If this worklist walks back to the original memory access (and the</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <span class="comment">// pointer is not guarenteed loop invariant) then we cannot assume that a</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="comment">// store kills itself.</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <span class="keywordflow">if</span> (MaybeDeadAccess == UseAccess &amp;&amp;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;          !isGuaranteedLoopInvariant(MaybeDeadLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>)) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    ... found not loop invariant self access\n&quot;</span>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      <span class="comment">// Otherwise, for the KillingDef and MaybeDeadAccess we only have to check</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      <span class="comment">// if it reads the memory location.</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="comment">// TODO: It would probably be better to check for self-reads before</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="comment">// calling the function.</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      <span class="keywordflow">if</span> (KillingDef == UseAccess || MaybeDeadAccess == UseAccess) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    ... skipping killing def/dom access\n&quot;</span>);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      <span class="comment">// Check all uses for MemoryDefs, except for defs completely overwriting</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <span class="comment">// the original location. Otherwise we have to check uses of *all*</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="comment">// MemoryDefs we discover, including non-aliasing ones. Otherwise we might</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="comment">// miss cases like the following</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <span class="comment">//   1 = Def(LoE) ; &lt;----- DeadDef stores [0,1]</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="comment">//   2 = Def(1)   ; (2, 1) = NoAlias,   stores [2,3]</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="comment">//   Use(2)       ; MayAlias 2 *and* 1, loads [0, 3].</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="comment">//                  (The Use points to the *first* Def it may alias)</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <span class="comment">//   3 = Def(1)   ; &lt;---- Current  (3, 2) = NoAlias, (3,1) = MayAlias,</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      <span class="comment">//                  stores [0,1]</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *UseDef = dyn_cast&lt;MemoryDef&gt;(UseAccess)) {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        <span class="keywordflow">if</span> (isCompleteOverwrite(MaybeDeadLoc, MaybeDeadI, UseInst)) {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *MaybeKillingBlock = UseInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;          <span class="keywordflow">if</span> (PostOrderNumbers.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(MaybeKillingBlock)-&gt;second &lt;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;              PostOrderNumbers.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(MaybeDeadAccess-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>())-&gt;second) {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            <span class="keywordflow">if</span> (!isInvisibleToCallerAfterRet(KillingUndObj)) {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;              <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;    ... found killing def &quot;</span> &lt;&lt; *UseInst &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;              KillingDefs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(UseInst);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot;    ... found preceeding def &quot;</span> &lt;&lt; *UseInst &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;          }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;          PushMemUses(UseDef);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    }</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">// For accesses to locations visible after the function returns, make sure</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="comment">// that the location is dead (=overwritten) along all paths from</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="comment">// MaybeDeadAccess to the exit.</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">if</span> (!isInvisibleToCallerAfterRet(KillingUndObj)) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 16&gt;</a> KillingBlocks;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *KD : KillingDefs)</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        KillingBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(KD-&gt;getParent());</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!KillingBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;             <span class="stringliteral">&quot;Expected at least a single killing block&quot;</span>);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <span class="comment">// Find the common post-dominator of all killing blocks.</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *CommonPred = *KillingBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">begin</a>();</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a>(KillingBlocks)) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <span class="keywordflow">if</span> (!CommonPred)</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        CommonPred = PDT.<a class="code" href="classllvm_1_1DominatorTreeBase.html#af555c3593d46d5f057fbebc8d292eac8">findNearestCommonDominator</a>(CommonPred, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      }</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160; </div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <span class="comment">// If the common post-dominator does not post-dominate MaybeDeadAccess,</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      <span class="comment">// there is a path from MaybeDeadAccess to an exit not going through a</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      <span class="comment">// killing block.</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      <span class="keywordflow">if</span> (!PDT.<a class="code" href="classllvm_1_1PostDominatorTree.html#ac74ec035b8eeaeb39cfea312fa876c75">dominates</a>(CommonPred, MaybeDeadAccess-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>())) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        <span class="keywordflow">if</span> (!AnyUnreachableExit)</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;          <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        <span class="comment">// Fall back to CFG scan starting at all non-unreachable roots if not</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        <span class="comment">// all paths to the exit go through CommonPred.</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        CommonPred = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      }</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      <span class="comment">// If CommonPred itself is in the set of killing blocks, we&#39;re done.</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      <span class="keywordflow">if</span> (KillingBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(CommonPred))</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="keywordflow">return</span> {MaybeDeadAccess};</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;BasicBlock *&gt;</a> WorkList;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <span class="comment">// If CommonPred is null, there are multiple exits from the function.</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      <span class="comment">// They all have to be added to the worklist.</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      <span class="keywordflow">if</span> (CommonPred)</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        WorkList.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(CommonPred);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *R : PDT.<a class="code" href="classllvm_1_1DominatorTreeBase.html#a34caabb3b49a32ca4f53db4b4c2ec35b">roots</a>()) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;          <span class="keywordflow">if</span> (!isa&lt;UnreachableInst&gt;(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;getTerminator()))</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            WorkList.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(R);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      NumCFGTries++;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="comment">// Check if all paths starting from an exit node go through one of the</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      <span class="comment">// killing blocks before reaching MaybeDeadAccess.</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; WorkList.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        NumCFGChecks++;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Current = WorkList[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <span class="keywordflow">if</span> (KillingBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(Current))</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <span class="keywordflow">if</span> (Current == MaybeDeadAccess-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>())</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;          <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        <span class="comment">// MaybeDeadAccess is reachable from the entry, so we don&#39;t have to</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <span class="comment">// explore unreachable blocks further.</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(Current))</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(Current))</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;          WorkList.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(Pred);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="keywordflow">if</span> (WorkList.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>() &gt;= <a class="code" href="DeadStoreElimination_8cpp.html#a21758787c0a7a126e1f14e22522d58ff">MemorySSAPathCheckLimit</a>)</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;          <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      NumCFGSuccess++;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="comment">// No aliasing MemoryUses of MaybeDeadAccess found, MaybeDeadAccess is</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="comment">// potentially dead.</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">return</span> {MaybeDeadAccess};</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  }</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160; </div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="comment">// Delete dead memory defs</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="LoopIdiomRecognize_8cpp.html#aebc62faf59fecc07e8471fcf035d789e">deleteDeadInstruction</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>) {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <a class="code" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> Updater(&amp;MSSA);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 32&gt;</a> NowDeadInsts;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    NowDeadInsts.push_back(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    --NumFastOther;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160; </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="keywordflow">while</span> (!NowDeadInsts.empty()) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadInst = NowDeadInsts.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      ++NumFastOther;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160; </div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="comment">// Try to preserve debug information attached to the dead instruction.</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <a class="code" href="namespacellvm.html#a26be1141b23850a2b4eb78021d99e862">salvageDebugInfo</a>(*DeadInst);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <a class="code" href="namespacellvm.html#aa39ca296d9689933bb0279c9ac3ee1fc">salvageKnowledge</a>(DeadInst);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <span class="comment">// Remove the Instruction from MSSA.</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA = MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(DeadInst)) {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *MD = dyn_cast&lt;MemoryDef&gt;(MA)) {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;          SkipStores.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(MD);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(MD-&gt;getMemoryInst())) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getValueOperand()-&gt;getType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *UO = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getValueOperand());</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;              <span class="keywordflow">if</span> (CapturedBeforeReturn.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(UO))</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                ShouldIterateEndOfFunctionDSE = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;              InvisibleToCallerAfterRet.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(UO);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            }</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;          }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        Updater.removeMemoryAccess(MA);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      }</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160; </div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = IOLs.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(DeadInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != IOLs.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>())</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.erase(DeadInst);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="comment">// Remove its operands</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> : DeadInst-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>())</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OpI = dyn_cast&lt;Instruction&gt;(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>)) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(OpI, &amp;TLI))</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            NowDeadInsts.push_back(OpI);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        }</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      EI.<a class="code" href="classllvm_1_1EarliestEscapeInfo.html#ab4a9e5b5a0a35b2d258956e08d87c518">removeInstruction</a>(DeadInst);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      DeadInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  }</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="comment">// Check for any extra throws between \p KillingI and \p DeadI that block</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="comment">// DSE.  This only checks extra maythrows (those that aren&#39;t MemoryDef&#39;s).</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="comment">// MemoryDef that may throw are handled during the walk from one def to the</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="comment">// next.</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keywordtype">bool</span> mayThrowBetween(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *KillingI, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI,</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *KillingUndObj) {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="comment">// First see if we can ignore it by using the fact that KillingI is an</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="comment">// alloca/alloca like object that is not visible to the caller during</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="comment">// execution of the function.</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">if</span> (KillingUndObj &amp;&amp; isInvisibleToCallerOnUnwind(KillingUndObj))</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordflow">if</span> (KillingI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>() == DeadI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>())</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      <span class="keywordflow">return</span> ThrowingBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(KillingI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordflow">return</span> !ThrowingBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">empty</a>();</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="comment">// Check if \p DeadI acts as a DSE barrier for \p KillingI. The following</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  <span class="comment">// instructions act as barriers:</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="comment">//  * A memory instruction that may throw and \p KillingI accesses a non-stack</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="comment">//  object.</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="comment">//  * Atomic stores stronger that monotonic.</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <span class="keywordtype">bool</span> isDSEBarrier(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *KillingUndObj, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="comment">// If DeadI may throw it acts as a barrier, unless we are to an</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">// alloca/alloca like object that does not escape.</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">if</span> (DeadI-&gt;<a class="code" href="classllvm_1_1Instruction.html#aaaae6480d6b94fee96d440619b402778">mayThrow</a>() &amp;&amp; !isInvisibleToCallerOnUnwind(KillingUndObj))</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160; </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="comment">// If DeadI is an atomic load/store stronger than monotonic, do not try to</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="comment">// eliminate/reorder it.</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">if</span> (DeadI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a57efb022f2ee2e19e4cdf582f4d27f2d">isAtomic</a>()) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = dyn_cast&lt;LoadInst&gt;(DeadI))</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a230fb4d924829b7649a5fb112dcbe9f8">isStrongerThanMonotonic</a>(LI-&gt;getOrdering());</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(DeadI))</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a230fb4d924829b7649a5fb112dcbe9f8">isStrongerThanMonotonic</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getOrdering());</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ARMW = dyn_cast&lt;AtomicRMWInst&gt;(DeadI))</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a230fb4d924829b7649a5fb112dcbe9f8">isStrongerThanMonotonic</a>(ARMW-&gt;getOrdering());</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CmpXchg = dyn_cast&lt;AtomicCmpXchgInst&gt;(DeadI))</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a230fb4d924829b7649a5fb112dcbe9f8">isStrongerThanMonotonic</a>(CmpXchg-&gt;getSuccessOrdering()) ||</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;               <a class="code" href="namespacellvm.html#a230fb4d924829b7649a5fb112dcbe9f8">isStrongerThanMonotonic</a>(CmpXchg-&gt;getFailureOrdering());</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;other instructions should be skipped in MemorySSA&quot;</span>);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    }</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  }</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="comment">  /// Eliminate writes to objects that are not visible in the caller and are not</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="comment">  /// accessed before returning from the function.</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> eliminateDeadWritesAtEndOfFunction() {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;Trying to eliminate MemoryDefs at the end of the function\n&quot;</span>);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      ShouldIterateEndOfFunctionDSE = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(MemDefs)) {</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        <span class="keywordflow">if</span> (SkipStores.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>))</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DefI = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getMemoryInst();</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keyword">auto</span> DefLoc = getLocForWrite(DefI);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="keywordflow">if</span> (!DefLoc || !isRemovable(DefI))</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="comment">// NOTE: Currently eliminating writes at the end of a function is</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        <span class="comment">// limited to MemoryDefs with a single underlying object, to save</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <span class="comment">// compile-time. In practice it appears the case with multiple</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="comment">// underlying objects is very uncommon. If it turns out to be important,</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <span class="comment">// we can use getUnderlyingObjects here instead.</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *UO = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(DefLoc-&gt;<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        <span class="keywordflow">if</span> (!isInvisibleToCallerAfterRet(UO))</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <span class="keywordflow">if</span> (isWriteAtEndOfFunction(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>)) {</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;          <span class="comment">// See through pointer-to-pointer bitcasts</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   ... MemoryDef is not accessed until the end &quot;</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                               <span class="stringliteral">&quot;of the function\n&quot;</span>);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;          <a class="code" href="LoopIdiomRecognize_8cpp.html#aebc62faf59fecc07e8471fcf035d789e">deleteDeadInstruction</a>(DefI);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;          ++NumFastStores;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;          MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        }</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      }</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    } <span class="keywordflow">while</span> (ShouldIterateEndOfFunctionDSE);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">return</span> MadeChange;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  }</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="comment">  /// If we have a zero initializing memset following a call to malloc,</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="comment">  /// try folding it into a call to calloc.</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> tryFoldIntoCalloc(<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *DefUO) {</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DefI = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getMemoryInst();</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <a class="code" href="classllvm_1_1MemSetInst.html">MemSetInst</a> *MemSet = dyn_cast&lt;MemSetInst&gt;(DefI);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">if</span> (!MemSet)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      <span class="comment">// TODO: Could handle zero store to small allocation as well.</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *StoredConstant = dyn_cast&lt;Constant&gt;(MemSet-&gt;<a class="code" href="classllvm_1_1MemSetBase.html#a1f2497dcafee1cce332763e4015e23c0">getValue</a>());</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">if</span> (!StoredConstant || !StoredConstant-&gt;<a class="code" href="classllvm_1_1Constant.html#ae4b6abe77abf42fb02081a6cc41a0132">isNullValue</a>())</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="keywordflow">if</span> (!isRemovable(DefI))</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <span class="comment">// The memset might be volatile..</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::SanitizeMemory) ||</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::SanitizeAddress) ||</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::SanitizeHWAddress) ||</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() == <span class="stringliteral">&quot;calloc&quot;</span>)</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">Malloc</a> = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *<span class="keyword">&gt;</span>(dyn_cast&lt;CallInst&gt;(DefUO));</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="keywordflow">if</span> (!Malloc)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keyword">auto</span> *InnerCallee = <a class="code" href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">Malloc</a>-&gt;getCalledFunction();</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">if</span> (!InnerCallee)</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <a class="code" href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">LibFunc</a> <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> (!TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a97cfbbed8869e3582142012a071a9052">getLibFunc</a>(*InnerCallee, Func) || !TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a54699e3f128acda6003afc11d3027f6c">has</a>(Func) ||</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a> != LibFunc_malloc)</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keyword">auto</span> shouldCreateCalloc = [](<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">Malloc</a>, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Memset) {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      <span class="comment">// Check for br(icmp ptr, null), truebb, falsebb) pattern at the end</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <span class="comment">// of malloc block</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      <span class="keyword">auto</span> *MallocBB = <a class="code" href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">Malloc</a>-&gt;getParent(),</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        *MemsetBB = Memset-&gt;getParent();</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <span class="keywordflow">if</span> (MallocBB == MemsetBB)</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = Memset-&gt;getArgOperand(0);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      <span class="keyword">auto</span> *TI = MallocBB-&gt;getTerminator();</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *TrueBB, *FalseBB;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(TI, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4fd27a44c5fd9958fdd9150622129cd3">m_Br</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()), TrueBB,</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                          FalseBB)))</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      <span class="keywordflow">if</span> (Pred != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> || MemsetBB != FalseBB)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    };</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">Malloc</a>-&gt;getOperand(0) != MemSet-&gt;<a class="code" href="classllvm_1_1MemIntrinsicBase.html#abcb1eb8c51771752c4fee2d539fa25cc">getLength</a>())</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">if</span> (!shouldCreateCalloc(Malloc, MemSet) ||</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        !DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(Malloc, MemSet) ||</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        !<a class="code" href="DeadStoreElimination_8cpp.html#a7b4a95aa47d151f0db62f60bafa792d8">memoryIsNotModifiedBetween</a>(Malloc, MemSet, BatchAA, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;DT))</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Malloc);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *SizeTTy = <a class="code" href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">Malloc</a>-&gt;getArgOperand(0)-&gt;getType();</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keyword">auto</span> *Calloc = <a class="code" href="namespacellvm.html#a28e4cb822902380322ecc07a25c08817">emitCalloc</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(SizeTTy, 1),</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                              <a class="code" href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">Malloc</a>-&gt;getArgOperand(0), IRB, TLI);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="keywordflow">if</span> (!Calloc)</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> Updater(&amp;MSSA);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keyword">auto</span> *LastDef =</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      cast&lt;MemoryDef&gt;(Updater.getMemorySSA()-&gt;getMemoryAccess(Malloc));</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keyword">auto</span> *NewAccess =</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      Updater.createMemoryAccessAfter(cast&lt;Instruction&gt;(Calloc), LastDef,</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                                      LastDef);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keyword">auto</span> *NewAccessMD = cast&lt;MemoryDef&gt;(NewAccess);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    Updater.insertDef(NewAccessMD, <span class="comment">/*RenameUses=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    Updater.removeMemoryAccess(Malloc);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <a class="code" href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">Malloc</a>-&gt;replaceAllUsesWith(Calloc);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <a class="code" href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">Malloc</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="comment">  /// \returns true if \p Def is a no-op store, either because it</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="comment">  /// directly stores back a loaded value or stores zero to a calloced object.</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> storeIsNoop(<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *DefUO) {</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DefI = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getMemoryInst();</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = dyn_cast&lt;StoreInst&gt;(DefI);</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <a class="code" href="classllvm_1_1MemSetInst.html">MemSetInst</a> *MemSet = dyn_cast&lt;MemSetInst&gt;(DefI);</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *StoredConstant = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>)</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      StoredConstant = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MemSet)</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      StoredConstant = dyn_cast&lt;Constant&gt;(MemSet-&gt;<a class="code" href="classllvm_1_1MemSetBase.html#a1f2497dcafee1cce332763e4015e23c0">getValue</a>());</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160; </div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">if</span> (!isRemovable(DefI))</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160; </div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">if</span> (StoredConstant) {</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *InitC =</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;          <a class="code" href="namespacellvm.html#a108b6e33f153eda5019d322f0ac909b0">getInitialValueOfAllocation</a>(DefUO, &amp;TLI, StoredConstant-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="comment">// If the clobbering access is LiveOnEntry, no instructions between them</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      <span class="comment">// can modify the memory location.</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      <span class="keywordflow">if</span> (InitC &amp;&amp; InitC == StoredConstant)</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <span class="keywordflow">return</span> MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a2ef6f9107316d963f20b9003b7668c4e">getSkipSelfWalker</a>()-&gt;<a class="code" href="classllvm_1_1MemorySSAWalker.html#a95d0e423957d029a78e5868f539e9cce">getClobberingMemoryAccess</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, BatchAA));</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>)</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160; </div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LoadI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>-&gt;getOperand(0))) {</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      <span class="keywordflow">if</span> (LoadI-&gt;getPointerOperand() == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>-&gt;getOperand(1)) {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        <span class="comment">// Get the defining access for the load.</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="keyword">auto</span> *LoadAccess = MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(LoadI)-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#abc4e1b6cc483cfd57ca75c4ab92bd360">getDefiningAccess</a>();</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <span class="comment">// Fast path: the defining accesses are the same.</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        <span class="keywordflow">if</span> (LoadAccess == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getDefiningAccess())</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160; </div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        <span class="comment">// Look through phi accesses. Recursively scan all phi accesses by</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="comment">// adding them to a worklist. Bail when we run into a memory def that</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        <span class="comment">// does not match LoadAccess.</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;MemoryAccess *&gt;</a> ToCheck;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Current =</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a949151a1ebd664cb397323294cec0e53">getWalker</a>()-&gt;<a class="code" href="classllvm_1_1MemorySSAWalker.html#a95d0e423957d029a78e5868f539e9cce">getClobberingMemoryAccess</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, BatchAA);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <span class="comment">// We don&#39;t want to bail when we run into the store memory def. But,</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        <span class="comment">// the phi access may point to it. So, pretend like we&#39;ve already</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        <span class="comment">// checked it.</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        ToCheck.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        ToCheck.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(Current);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        <span class="comment">// Start at current (1) to simulate already having checked Def.</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; ToCheck.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;          Current = ToCheck[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> PhiAccess = dyn_cast&lt;MemoryPhi&gt;(Current)) {</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;            <span class="comment">// Check all the operands.</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : PhiAccess-&gt;incoming_values())</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;              ToCheck.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(cast&lt;MemoryAccess&gt;(&amp;<a class="code" href="classllvm_1_1Use.html">Use</a>));</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;          }</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160; </div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;          <span class="comment">// If we found a memory def, bail. This happens when we have an</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;          <span class="comment">// unrelated write in between an otherwise noop store.</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;MemoryDef&gt;(Current) &amp;&amp;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                 <span class="stringliteral">&quot;Only MemoryDefs should reach here.&quot;</span>);</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;          <span class="comment">// TODO: Skip no alias MemoryDefs that have no aliasing reads.</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;          <span class="comment">// We are searching for the definition of the store&#39;s destination.</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;          <span class="comment">// So, if that is the same definition as the load, then this is a</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;          <span class="comment">// noop. Otherwise, fail.</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;          <span class="keywordflow">if</span> (LoadAccess != Current)</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        }</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    }</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  }</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <span class="keywordtype">bool</span> removePartiallyOverlappedStores(<a class="code" href="classllvm_1_1DenseMap.html">InstOverlapIntervalsTy</a> &amp;IOL) {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> OI : IOL) {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI = OI.first;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> Loc = *getLocForWrite(DeadI);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isRemovable(DeadI) &amp;&amp; <span class="stringliteral">&quot;Expect only removable instruction&quot;</span>);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160; </div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      int64_t DeadStart = 0;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DeadSize = Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>.<a class="code" href="classllvm_1_1LocationSize.html#a47f128e1007c6c70eb7b0df2dcbf68df">getValue</a>();</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;      <a class="code" href="namespacellvm.html#afc6337ef6e00f6bebd44d81b685d655f">GetPointerBaseWithConstantOffset</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, DeadStart, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      <a class="code" href="DeadStoreElimination_8cpp.html#a3600ad65816babbe5ecb3b9d82997374">OverlapIntervalsTy</a> &amp;<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> = OI.second;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      Changed |= <a class="code" href="DeadStoreElimination_8cpp.html#aac40904307eb0bd89cfc9d73039ba8e0">tryToShortenEnd</a>(DeadI, <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>, DeadStart, DeadSize);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>.<a class="code" href="classllvm_1_1IntervalMap.html#ac631b4af10a30255067fc77ab6c193d8">empty</a>())</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      Changed |= <a class="code" href="DeadStoreElimination_8cpp.html#a315447cd8d049de76d99af3f9cda45a2">tryToShortenBegin</a>(DeadI, <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>, DeadStart, DeadSize);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    }</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  }</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="comment">  /// Eliminates writes to locations where the value that is being written</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="comment">  /// is already stored at the same location.</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> eliminateRedundantStoresOfExistingValues() {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Trying to eliminate MemoryDefs that write the &quot;</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                         <span class="stringliteral">&quot;already existing value\n&quot;</span>);</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> : MemDefs) {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;      <span class="keywordflow">if</span> (SkipStores.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>) || MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>))</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160; </div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DefInst = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getMemoryInst();</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <span class="keyword">auto</span> MaybeDefLoc = getLocForWrite(DefInst);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;      <span class="keywordflow">if</span> (!MaybeDefLoc || !isRemovable(DefInst))</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      <a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *UpperDef;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      <span class="comment">// To conserve compile-time, we avoid walking to the next clobbering def.</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      <span class="comment">// Instead, we just try to get the optimized access, if it exists. DSE</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="comment">// will try to optimize defs during the earlier traversal.</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isOptimized())</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        UpperDef = dyn_cast&lt;MemoryDef&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOptimized());</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        UpperDef = dyn_cast&lt;MemoryDef&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getDefiningAccess());</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <span class="keywordflow">if</span> (!UpperDef || MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(UpperDef))</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160; </div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UpperInst = UpperDef-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">getMemoryInst</a>();</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      <span class="keyword">auto</span> IsRedundantStore = [&amp;]() {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keywordflow">if</span> (DefInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#ad848bd0184fc7bcb7b71e19248f08f34">isIdenticalTo</a>(UpperInst))</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MemSetI = dyn_cast&lt;MemSetInst&gt;(UpperInst)) {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(DefInst)) {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;            <span class="comment">// MemSetInst must have a write location.</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> UpperLoc = *getLocForWrite(UpperInst);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;            int64_t InstWriteOffset = 0;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            int64_t DepWriteOffset = 0;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> = isOverwrite(UpperInst, DefInst, UpperLoc, *MaybeDefLoc,</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;                                  InstWriteOffset, DepWriteOffset);</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;            <a class="code" href="classllvm_1_1Value.html">Value</a> *StoredByte = <a class="code" href="namespacellvm.html#acab8f775ddc87695d750e4838231b3ba">isBytewiseValue</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getValueOperand(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            <span class="keywordflow">return</span> StoredByte &amp;&amp; StoredByte == MemSetI-&gt;getOperand(1) &amp;&amp;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                   <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> == OW_Complete;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;          }</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;      };</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160; </div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      <span class="keywordflow">if</span> (!IsRedundantStore() || isReadClobber(*MaybeDefLoc, DefInst))</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Remove No-Op Store:\n  DEAD: &quot;</span> &lt;&lt; *DefInst</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                        &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      <a class="code" href="LoopIdiomRecognize_8cpp.html#aebc62faf59fecc07e8471fcf035d789e">deleteDeadInstruction</a>(DefInst);</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      NumRedundantStores++;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    }</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="keywordflow">return</span> MadeChange;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;};</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160; </div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> eliminateDeadStores(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> &amp;AA, <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA,</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;                                <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> &amp;PDT,</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                                <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC,</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI,</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI) {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160; </div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#acd30a2d319950c138d97d5b3356342b5">ensureOptimizedUses</a>();</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  DSEState State(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, AA, MSSA, DT, PDT, AC, TLI, LI);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <span class="comment">// For each store:</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; State.MemDefs.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *KillingDef = State.MemDefs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="keywordflow">if</span> (State.SkipStores.count(KillingDef))</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *KillingI = KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">getMemoryInst</a>();</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    std::optional&lt;MemoryLocation&gt; MaybeKillingLoc;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">if</span> (State.isMemTerminatorInst(KillingI)) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> KillingLoc = State.getLocForTerminator(KillingI))</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        MaybeKillingLoc = KillingLoc-&gt;first;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;      MaybeKillingLoc = State.getLocForWrite(KillingI);</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    }</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160; </div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordflow">if</span> (!MaybeKillingLoc) {</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Failed to find analyzable write location for &quot;</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                        &lt;&lt; *KillingI &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> KillingLoc = *MaybeKillingLoc;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(KillingLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a> &amp;&amp; <span class="stringliteral">&quot;KillingLoc should not be null&quot;</span>);</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *KillingUndObj = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(KillingLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>);</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Trying to eliminate MemoryDefs killed by &quot;</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                      &lt;&lt; *KillingDef &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; *KillingI &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="keywordtype">unsigned</span> ScanLimit = <a class="code" href="DeadStoreElimination_8cpp.html#abb41aabaa76a67aecaecad0f103fea3c">MemorySSAScanLimit</a>;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="keywordtype">unsigned</span> WalkerStepLimit = <a class="code" href="DeadStoreElimination_8cpp.html#ac6b2463590d71764f7a332789c6357bd">MemorySSAUpwardsStepLimit</a>;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="keywordtype">unsigned</span> PartialLimit = <a class="code" href="DeadStoreElimination_8cpp.html#aa9d7ec729de7347f5dedc03860919917">MemorySSAPartialStoreLimit</a>;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="comment">// Worklist of MemoryAccesses that may be killed by KillingDef.</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;MemoryAccess *&gt;</a> ToCheck;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    ToCheck.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(KillingDef-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#abc4e1b6cc483cfd57ca75c4ab92bd360">getDefiningAccess</a>());</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="keywordtype">bool</span> Shortend = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordtype">bool</span> IsMemTerm = State.isMemTerminatorInst(KillingI);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="comment">// Check if MemoryAccesses in the worklist are killed by KillingDef.</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; ToCheck.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Current = ToCheck[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      <span class="keywordflow">if</span> (State.SkipStores.count(Current))</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160; </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      std::optional&lt;MemoryAccess *&gt; MaybeDeadAccess = State.getDomMemoryDef(</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;          KillingDef, Current, KillingLoc, KillingUndObj, ScanLimit,</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;          WalkerStepLimit, IsMemTerm, PartialLimit);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160; </div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <span class="keywordflow">if</span> (!MaybeDeadAccess) {</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  finished walk\n&quot;</span>);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      }</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *DeadAccess = *MaybeDeadAccess;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; Checking if we can kill &quot;</span> &lt;&lt; *DeadAccess);</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="keywordflow">if</span> (isa&lt;MemoryPhi&gt;(DeadAccess)) {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n  ... adding incoming values to worklist\n&quot;</span>);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : cast&lt;MemoryPhi&gt;(DeadAccess)-&gt;incoming_values()) {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;          <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *IncomingAccess = cast&lt;MemoryAccess&gt;(V);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *IncomingBlock = IncomingAccess-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>();</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PhiBlock = DeadAccess-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>();</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160; </div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;          <span class="comment">// We only consider incoming MemoryAccesses that come before the</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;          <span class="comment">// MemoryPhi. Otherwise we could discover candidates that do not</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;          <span class="comment">// strictly dominate our starting def.</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;          <span class="keywordflow">if</span> (State.PostOrderNumbers[IncomingBlock] &gt;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;              State.PostOrderNumbers[PhiBlock])</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            ToCheck.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(IncomingAccess);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        }</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      }</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      <span class="keyword">auto</span> *DeadDefAccess = cast&lt;MemoryDef&gt;(DeadAccess);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DeadI = DeadDefAccess-&gt;getMemoryInst();</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; *DeadI &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      ToCheck.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(DeadDefAccess-&gt;getDefiningAccess());</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      NumGetDomMemoryDefPassed++;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160; </div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DebugCounter.html#a5aace8653ce3726ef07194dcf6bce2bf">DebugCounter::shouldExecute</a>(MemorySSACounter))</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160; </div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> DeadLoc = *State.getLocForWrite(DeadI);</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <span class="keywordflow">if</span> (IsMemTerm) {</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *DeadUndObj = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(DeadLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        <span class="keywordflow">if</span> (KillingUndObj != DeadUndObj)</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Remove Dead Store:\n  DEAD: &quot;</span> &lt;&lt; *DeadI</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;\n  KILLER: &quot;</span> &lt;&lt; *KillingI &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        State.deleteDeadInstruction(DeadI);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        ++NumFastStores;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        <span class="comment">// Check if DeadI overwrites KillingI.</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        int64_t KillingOffset = 0;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        int64_t DeadOffset = 0;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        OverwriteResult <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> = State.isOverwrite(</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;            KillingI, DeadI, KillingLoc, DeadLoc, KillingOffset, DeadOffset);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> == OW_MaybePartial) {</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;          <span class="keyword">auto</span> Iter = State.IOLs.insert(</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;              std::make_pair&lt;BasicBlock *, InstOverlapIntervalsTy&gt;(</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                  DeadI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(), <a class="code" href="classllvm_1_1DenseMap.html">InstOverlapIntervalsTy</a>()));</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;          <span class="keyword">auto</span> &amp;IOL = Iter.first-&gt;second;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;          <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> = <a class="code" href="DeadStoreElimination_8cpp.html#aa46849ad227581d0105b7c41b4f9377f">isPartialOverwrite</a>(KillingLoc, DeadLoc, KillingOffset,</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                                  DeadOffset, DeadI, IOL);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        }</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160; </div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="DeadStoreElimination_8cpp.html#a6214ec47afec8c8344dd437e04306551">EnablePartialStoreMerging</a> &amp;&amp; <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> == OW_PartialEarlierWithFullLater) {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;          <span class="keyword">auto</span> *DeadSI = dyn_cast&lt;StoreInst&gt;(DeadI);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;          <span class="keyword">auto</span> *KillingSI = dyn_cast&lt;StoreInst&gt;(KillingI);</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;          <span class="comment">// We are re-using tryToMergePartialOverlappingStores, which requires</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;          <span class="comment">// DeadSI to dominate DeadSI.</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;          <span class="comment">// TODO: implement tryToMergeParialOverlappingStores using MemorySSA.</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;          <span class="keywordflow">if</span> (DeadSI &amp;&amp; KillingSI &amp;&amp; DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(DeadSI, KillingSI)) {</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *Merged = <a class="code" href="DeadStoreElimination_8cpp.html#aa092f6d6a6b0277c2d1cdc10a394a8c9">tryToMergePartialOverlappingStores</a>(</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                    KillingSI, DeadSI, KillingOffset, DeadOffset, State.DL,</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                    State.BatchAA, &amp;DT)) {</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160; </div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;              <span class="comment">// Update stored value of earlier store to merged constant.</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;              DeadSI-&gt;setOperand(0, Merged);</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;              ++NumModifiedStores;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;              MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;              Shortend = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;              <span class="comment">// Remove killing store and remove any outstanding overlap</span></div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;              <span class="comment">// intervals for the updated store.</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;              State.deleteDeadInstruction(KillingSI);</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;              <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = State.IOLs.find(DeadSI-&gt;getParent());</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != State.IOLs.end())</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;                <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.erase(DeadSI);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            }</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;          }</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160; </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> == OW_Complete) {</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Remove Dead Store:\n  DEAD: &quot;</span> &lt;&lt; *DeadI</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;\n  KILLER: &quot;</span> &lt;&lt; *KillingI &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;          State.deleteDeadInstruction(DeadI);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;          ++NumFastStores;</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;          MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        }</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;      }</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    }</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160; </div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="comment">// Check if the store is a no-op.</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">if</span> (!Shortend &amp;&amp; State.storeIsNoop(KillingDef, KillingUndObj)) {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Remove No-Op Store:\n  DEAD: &quot;</span> &lt;&lt; *KillingI</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                        &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      State.deleteDeadInstruction(KillingI);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;      NumRedundantStores++;</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    }</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160; </div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <span class="comment">// Can we form a calloc from a memset/malloc pair?</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <span class="keywordflow">if</span> (!Shortend &amp;&amp; State.tryFoldIntoCalloc(KillingDef, KillingUndObj)) {</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DSE: Remove memset after forming calloc:\n&quot;</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;  DEAD: &quot;</span> &lt;&lt; *KillingI &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      State.deleteDeadInstruction(KillingI);</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    }</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160; </div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DeadStoreElimination_8cpp.html#af8e0461e58230dc0f22691d8d1e2f447">EnablePartialOverwriteTracking</a>)</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;KV : State.IOLs)</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      MadeChange |= State.removePartiallyOverlappedStores(KV.second);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160; </div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  MadeChange |= State.eliminateRedundantStoresOfExistingValues();</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  MadeChange |= State.eliminateDeadWritesAtEndOfFunction();</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  <span class="keywordflow">return</span> MadeChange;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;}</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160; </div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="comment">// DSE Pass</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"><a class="line" href="classllvm_1_1DSEPass.html#a29b9f8c28e2ba0531f66bd82e8c5a32e"> 2218</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1DSEPass.html#a29b9f8c28e2ba0531f66bd82e8c5a32e">DSEPass::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> &amp;AA = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryAnalysis.html">TargetLibraryAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1MemorySSAAnalysis.html">MemorySSAAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).getMSSA();</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> &amp;PDT = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1PostDominatorTreeAnalysis.html">PostDominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AssumptionAnalysis.html">AssumptionAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1LoopAnalysis.html">LoopAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160; </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="keywordtype">bool</span> Changed = eliminateDeadStores(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, AA, MSSA, DT, PDT, AC, TLI, LI);</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160; </div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="preprocessor">#ifdef LLVM_ENABLE_STATS</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">AreStatisticsEnabled</a>())</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      NumRemainingStores += isa&lt;StoreInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160; </div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordflow">if</span> (!Changed)</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160; </div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> PA;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#a937c42f77e161349ce0f999e448c7027">preserveSet</a>&lt;<a class="code" href="classllvm_1_1CFGAnalyses.html">CFGAnalyses</a>&gt;();</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code" href="classllvm_1_1MemorySSAAnalysis.html">MemorySSAAnalysis</a>&gt;();</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code" href="classllvm_1_1LoopAnalysis.html">LoopAnalysis</a>&gt;();</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;}</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160; </div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="comment">/// A legacy pass for the legacy pass manager that wraps \c DSEPass.</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="comment"></span><span class="keyword">class </span>DSELegacyPass : <span class="keyword">public</span> <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>; <span class="comment">// Pass identification, replacement for typeid</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160; </div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  DSELegacyPass() : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <a class="code" href="namespacellvm.html#a8be53fd181f7dfb23312106249cd7f4c">initializeDSELegacyPassPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  }</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160; </div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="EntryExitInstrumenter_8cpp.html#a3985f1f39349428d17f0d2b81ebc6349">runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <span class="keywordflow">if</span> (skipFunction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160; </div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> &amp;AA = getAnalysis&lt;AAResultsWrapperPass&gt;().getAAResults();</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT = getAnalysis&lt;DominatorTreeWrapperPass&gt;().getDomTree();</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI =</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        getAnalysis&lt;TargetLibraryInfoWrapperPass&gt;().getTLI(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA = getAnalysis&lt;MemorySSAWrapperPass&gt;().getMSSA();</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> &amp;PDT =</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        getAnalysis&lt;PostDominatorTreeWrapperPass&gt;().getPostDomTree();</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC =</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        getAnalysis&lt;AssumptionCacheTracker&gt;().getAssumptionCache(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI = getAnalysis&lt;LoopInfoWrapperPass&gt;().getLoopInfo();</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160; </div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="keywordtype">bool</span> Changed = eliminateDeadStores(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, AA, MSSA, DT, PDT, AC, TLI, LI);</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160; </div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;<span class="preprocessor">#ifdef LLVM_ENABLE_STATS</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">AreStatisticsEnabled</a>())</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        NumRemainingStores += isa&lt;StoreInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160; </div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  }</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160; </div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">setPreservesCFG</a>();</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1GlobalsAAWrapperPass.html">GlobalsAAWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="structllvm_1_1PostDominatorTreeWrapperPass.html">PostDominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MemorySSAWrapperPass.html">MemorySSAWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="structllvm_1_1PostDominatorTreeWrapperPass.html">PostDominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1MemorySSAWrapperPass.html">MemorySSAWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>&gt;();</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  }</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;};</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160; </div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160; </div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">DSELegacyPass::ID</a> = 0;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160; </div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<a class="code" href="DeadStoreElimination_8cpp.html#ac52e96172674fb064ce0a12a7e0d4936">INITIALIZE_PASS_BEGIN</a>(DSELegacyPass, <span class="stringliteral">&quot;dse&quot;</span>, <span class="stringliteral">&quot;Dead Store Elimination&quot;</span>, <span class="keyword">false</span>,</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;                      <span class="keyword">false</span>)</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>)</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="structllvm_1_1PostDominatorTreeWrapperPass.html">PostDominatorTreeWrapperPass</a>)</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>)</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1GlobalsAAWrapperPass.html">GlobalsAAWrapperPass</a>)</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MemorySSAWrapperPass.html">MemorySSAWrapperPass</a>)</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html">MemoryDependenceWrapperPass</a>)</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>)</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>)</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>)</div>
<div class="line"><a name="l02314"></a><span class="lineno"><a class="line" href="DeadStoreElimination_8cpp.html#a24007733370feeb30526b489b19ba7e3"> 2314</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(DSELegacyPass, &quot;<a class="code" href="DeadStoreElimination_8cpp.html#a484eb01f288c94b669164f297b65e12e">dse</a>&quot;, &quot;<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">Dead</a> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> <a class="code" href="DeadStoreElimination_8cpp.html#a0c5b9f42dd28963a8dde0514c41ea25e">Elimination</a>&quot;, <a class="code" href="namespacefalse.html">false</a>,</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;                    <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160; </div>
<div class="line"><a name="l02317"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2a23f08a38deac23fe3caf12a877c206"> 2317</a></span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#a2a23f08a38deac23fe3caf12a877c206">createDeadStoreEliminationPass</a>() {</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> DSELegacyPass();</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a484eb01f288c94b669164f297b65e12e"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a484eb01f288c94b669164f297b65e12e">dse</a></div><div class="ttdeci">dse</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l02314">DeadStoreElimination.cpp:2314</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html">llvm::BatchAAResults</a></div><div class="ttdoc">This class is a wrapper over an AAResults, and it is intended to be used only when there are no IR ch...</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00612">AliasAnalysis.h:612</a></div></div>
<div class="ttc" id="aclassllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">This class represents an incoming formal argument to a Function.</div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00028">Argument.h:28</a></div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAManager_html"><div class="ttname"><a href="classllvm_1_1AAManager.html">llvm::AAManager</a></div><div class="ttdoc">A manager for alias analyses.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00885">AliasAnalysis.h:885</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a6d600c27cf21c25d25048d9a2d6b888e"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a6d600c27cf21c25d25048d9a2d6b888e">getPointerSize</a></div><div class="ttdeci">static uint64_t getPointerSize(const Value *V, const DataLayout &amp;DL, const TargetLibraryInfo &amp;TLI, const Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00211">DeadStoreElimination.cpp:211</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_ab2fc167f75191e1d22e12e8e382605bb"><div class="ttname"><a href="classllvm_1_1DIExpression.html#ab2fc167f75191e1d22e12e8e382605bb">llvm::DIExpression::createFragmentExpression</a></div><div class="ttdeci">static std::optional&lt; DIExpression * &gt; createFragmentExpression(const DIExpression *Expr, unsigned OffsetInBits, unsigned SizeInBits)</div><div class="ttdoc">Create a DIExpression to describe one part of an aggregate variable that is fragmented across multipl...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01798">DebugInfoMetadata.cpp:1798</a></div></div>
<div class="ttc" id="anamespacellvm_html_a25f1d7ccf87af8d87fcb950f7ed758b5"><div class="ttname"><a href="namespacellvm.html#a25f1d7ccf87af8d87fcb950f7ed758b5">llvm::isAligned</a></div><div class="ttdeci">bool isAligned(Align Lhs, uint64_t SizeInBytes)</div><div class="ttdoc">Checks that SizeInBytes is a multiple of the alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00145">Alignment.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1EarliestEscapeInfo_html_ab4a9e5b5a0a35b2d258956e08d87c518"><div class="ttname"><a href="classllvm_1_1EarliestEscapeInfo.html#ab4a9e5b5a0a35b2d258956e08d87c518">llvm::EarliestEscapeInfo::removeInstruction</a></div><div class="ttdeci">void removeInstruction(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00225">BasicAliasAnalysis.cpp:225</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html_a8d3de277fb70fa515efac2db2cfe9d57a9e724bc94de38c6ca77508f19c246c0c"><div class="ttname"><a href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a9e724bc94de38c6ca77508f19c246c0c">llvm::AliasResult::PartialAlias</a></div><div class="ttdeci">@ PartialAlias</div><div class="ttdoc">The two locations alias, but only due to a partial overlap.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00106">AliasAnalysis.h:106</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a18e5a3f1d71ba10a624f2a8e5121cf1f"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">llvm::MemoryLocation::get</a></div><div class="ttdeci">static MemoryLocation get(const LoadInst *LI)</div><div class="ttdoc">Return a location with information about the memory reference by the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8cpp_source.html#l00036">MemoryLocation.cpp:36</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_af555c3593d46d5f057fbebc8d292eac8"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#af555c3593d46d5f057fbebc8d292eac8">llvm::DominatorTreeBase::findNearestCommonDominator</a></div><div class="ttdeci">NodeT * findNearestCommonDominator(NodeT *A, NodeT *B) const</div><div class="ttdoc">Find nearest common dominator basic block for basic block A and B.</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00484">GenericDomTree.h:484</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdeci">@ ICMP_EQ</div><div class="ttdoc">equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00739">InstrTypes.h:739</a></div></div>
<div class="ttc" id="anamespacellvm_html_a02981de53fb6ffd384d39addc4d25f37"><div class="ttname"><a href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a></div><div class="ttdeci">auto drop_begin(T &amp;&amp;RangeOrContainer, size_t N=1)</div><div class="ttdoc">Return a range covering RangeOrContainer with the first N elements excluded.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00386">STLExtras.h:386</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">llvm::ISD::OR</a></div><div class="ttdeci">@ OR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00667">ISDOpcodes.h:667</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">llvm::AArch64PACKey::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00790">AArch64BaseInfo.h:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00293">Type.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">This enumeration lists the possible predicates for CmpInst subclasses.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00718">InstrTypes.h:718</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a0b931781aa589c6ebe64a76c1447e5b2"><div class="ttname"><a href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">llvm::User::operands</a></div><div class="ttdeci">op_range operands()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00242">User.h:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a98c0a84a5dfa8bce341c829709f171e5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">llvm::BasicBlock::iterator</a></div><div class="ttdeci">InstListType::iterator iterator</div><div class="ttdoc">Instruction iterators...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00087">BasicBlock.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHITransAddr_html"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html">llvm::PHITransAddr</a></div><div class="ttdoc">PHITransAddr - An address value which tracks and handles phi translation.</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00035">PHITransAddr.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a9550ce4a179e46db37f653ce28feca7a"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">llvm::MemoryLocation::Ptr</a></div><div class="ttdeci">const Value * Ptr</div><div class="ttdoc">The address of the start of the location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00219">MemoryLocation.h:219</a></div></div>
<div class="ttc" id="aTransforms_2Scalar_8h_html"><div class="ttname"><a href="Transforms_2Scalar_8h.html">Scalar.h</a></div></div>
<div class="ttc" id="aMemoryBuiltins_8cpp_html_a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523"><div class="ttname"><a href="MemoryBuiltins_8cpp.html#a0efc0e8de0d1c7171d3e84ed656de113a1131a914388fac73e5f07b0ba0aad523">MallocFamily::Malloc</a></div><div class="ttdeci">@ Malloc</div></div>
<div class="ttc" id="aInstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="aMemorySSAUpdater_8h_html"><div class="ttname"><a href="MemorySSAUpdater_8h.html">MemorySSAUpdater.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_af61b31a99c1e58b1760492d2a7a1ba9c"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#af61b31a99c1e58b1760492d2a7a1ba9c">llvm::MemoryLocation::getOrNone</a></div><div class="ttdeci">static std::optional&lt; MemoryLocation &gt; getOrNone(const Instruction *Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8cpp_source.html#l00078">MemoryLocation.cpp:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a18b9d328d2490f447589ba60345eba6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Determine the number of elements in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00077">SetVector.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_html_a28e4cb822902380322ecc07a25c08817"><div class="ttname"><a href="namespacellvm.html#a28e4cb822902380322ecc07a25c08817">llvm::emitCalloc</a></div><div class="ttdeci">Value * emitCalloc(Value *Num, Value *Size, IRBuilderBase &amp;B, const TargetLibraryInfo &amp;TLI)</div><div class="ttdoc">Emit a call to the calloc function.</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l01921">BuildLibCalls.cpp:1921</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aCaptureTracking_8h_html"><div class="ttname"><a href="CaptureTracking_8h.html">CaptureTracking.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1EarliestEscapeInfo_html"><div class="ttname"><a href="classllvm_1_1EarliestEscapeInfo.html">llvm::EarliestEscapeInfo</a></div><div class="ttdoc">Context-sensitive CaptureInfo provider, which computes and caches the earliest common dominator closu...</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00165">AliasAnalysis.h:165</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5ab2d0b0f0b8ceec3b907184e7567197"><div class="ttname"><a href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">llvm::Type::getPointerAddressSpace</a></div><div class="ttdeci">unsigned getPointerAddressSpace() const</div><div class="ttdoc">Get the address space of this pointer or pointer vector type.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00729">DerivedTypes.h:729</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_ae6a4da5f41fc6a36735cc1704c01ce60"><div class="ttname"><a href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00735">Function.h:735</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aMapVector_8h_html"><div class="ttname"><a href="MapVector_8h.html">MapVector.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a728f79528ca8659e15d00c1e6818b316"><div class="ttname"><a href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">llvm::isModSet</a></div><div class="ttdeci">bool isModSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00048">ModRef.h:48</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8h_html"><div class="ttname"><a href="DeadStoreElimination_8h.html">DeadStoreElimination.h</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="aGlobalsModRef_8h_html"><div class="ttname"><a href="GlobalsModRef_8h.html">GlobalsModRef.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a4fd27a44c5fd9958fdd9150622129cd3"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a4fd27a44c5fd9958fdd9150622129cd3">llvm::PatternMatch::m_Br</a></div><div class="ttdeci">brc_match&lt; Cond_t, bind_ty&lt; BasicBlock &gt;, bind_ty&lt; BasicBlock &gt; &gt; m_Br(const Cond_t &amp;C, BasicBlock *&amp;T, BasicBlock *&amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01731">PatternMatch.h:1731</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a46ceedee591f92727b85641794a96061"><div class="ttname"><a href="classllvm_1_1APInt.html#a46ceedee591f92727b85641794a96061">llvm::APInt::getBitsSet</a></div><div class="ttdeci">static APInt getBitsSet(unsigned numBits, unsigned loBit, unsigned hiBit)</div><div class="ttdoc">Get a value with a block of bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00241">APInt.h:241</a></div></div>
<div class="ttc" id="aAPInt_8h_html"><div class="ttname"><a href="APInt_8h.html">APInt.h</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a33cc3fe4bbeedb352c8ee54c2d02bc49"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a33cc3fe4bbeedb352c8ee54c2d02bc49">MemorySSASameBBStepCost</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MemorySSASameBBStepCost(&quot;dse-memoryssa-samebb-cost&quot;, cl::init(1), cl::Hidden, cl::desc(&quot;The cost of a step in the same basic block as the killing MemoryDef&quot; &quot;(default = 1)&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a39f7ff959874bf38f3e14aa0b2622da0"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">llvm::MemoryLocation::Size</a></div><div class="ttdeci">LocationSize Size</div><div class="ttdoc">The maximum size of the location, in address-units, or UnknownSize if the size is not known.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00228">MemoryLocation.h:228</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a512fe2c15ea651294688eeec1341644c"><div class="ttname"><a href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Return the number of bits in the APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01439">APInt.h:1439</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aMemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="astructllvm_1_1ObjectSizeOpts_html_a0229c5396522e5a903a277fda4c3659c"><div class="ttname"><a href="structllvm_1_1ObjectSizeOpts.html#a0229c5396522e5a903a277fda4c3659c">llvm::ObjectSizeOpts::NullIsUnknownSize</a></div><div class="ttdeci">bool NullIsUnknownSize</div><div class="ttdoc">If this is true, null pointers in address space 0 will be treated as though they can't be evaluated.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8h_source.html#l00163">MemoryBuiltins.h:163</a></div></div>
<div class="ttc" id="anamespacellvm_html_acab8f775ddc87695d750e4838231b3ba"><div class="ttname"><a href="namespacellvm.html#acab8f775ddc87695d750e4838231b3ba">llvm::isBytewiseValue</a></div><div class="ttdeci">Value * isBytewiseValue(Value *V, const DataLayout &amp;DL)</div><div class="ttdoc">If the specified value can be set by repeating the same byte in memory, return the i8 value that it i...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04001">ValueTracking.cpp:4001</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1LoopInfoWrapperPass.html">llvm::LoopInfoWrapperPass</a></div><div class="ttdoc">The legacy pass manager's analysis pass to compute loop information.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01293">LoopInfo.h:1293</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2a23f08a38deac23fe3caf12a877c206"><div class="ttname"><a href="namespacellvm.html#a2a23f08a38deac23fe3caf12a877c206">llvm::createDeadStoreEliminationPass</a></div><div class="ttdeci">FunctionPass * createDeadStoreEliminationPass()</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l02317">DeadStoreElimination.cpp:2317</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_ac631b4af10a30255067fc77ab6c193d8"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#ac631b4af10a30255067fc77ab6c193d8">llvm::IntervalMap::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Return true when no intervals are mapped.</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01101">IntervalMap.h:1101</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a383175f96316074965ad115706bd49d7"><div class="ttname"><a href="classllvm_1_1Instruction.html#a383175f96316074965ad115706bd49d7">llvm::Instruction::mayWriteToMemory</a></div><div class="ttdeci">bool mayWriteToMemory() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction may modify memory.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00646">Instruction.cpp:646</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html"><div class="ttname"><a href="classllvm_1_1AliasResult.html">llvm::AliasResult</a></div><div class="ttdoc">The possible results of an alias query.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00083">AliasAnalysis.h:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html"><div class="ttname"><a href="classllvm_1_1MapVector.html">llvm::MapVector</a></div><div class="ttdoc">This class implements a map that also provides access to all stored values in a deterministic order.</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00037">MapVector.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a315447cd8d049de76d99af3f9cda45a2"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a315447cd8d049de76d99af3f9cda45a2">tryToShortenBegin</a></div><div class="ttdeci">static bool tryToShortenBegin(Instruction *DeadI, OverlapIntervalsTy &amp;IntervalMap, int64_t &amp;DeadStart, uint64_t &amp;DeadSize)</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00657">DeadStoreElimination.cpp:657</a></div></div>
<div class="ttc" id="aclassllvm_1_1LocationSize_html_aa9addaa6f7dd437922a57401cb192031"><div class="ttname"><a href="classllvm_1_1LocationSize.html#aa9addaa6f7dd437922a57401cb192031">llvm::LocationSize::isPrecise</a></div><div class="ttdeci">bool isPrecise() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00167">MemoryLocation.h:167</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7ba5de75f50bb4a4ba920698edf39b28"><div class="ttname"><a href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">llvm::Type::getInt8Ty</a></div><div class="ttdeci">static IntegerType * getInt8Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00239">Type.cpp:239</a></div></div>
<div class="ttc" id="aMustExecute_8h_html"><div class="ttname"><a href="MustExecute_8h.html">MustExecute.h</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_1_1at_html_a3c90899e8f022656e511630de42b916c"><div class="ttname"><a href="namespacellvm_1_1at.html#a3c90899e8f022656e511630de42b916c">llvm::at::getAssignmentMarkers</a></div><div class="ttdeci">AssignmentMarkerRange getAssignmentMarkers(DIAssignID *ID)</div><div class="ttdoc">Return a range of dbg.assign intrinsics which use \ID as an operand.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l01754">DebugInfo.cpp:1754</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSetBase_html_a1f2497dcafee1cce332763e4015e23c0"><div class="ttname"><a href="classllvm_1_1MemSetBase.html#a1f2497dcafee1cce332763e4015e23c0">llvm::MemSetBase::getValue</a></div><div class="ttdeci">Value * getValue() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00940">IntrinsicInst.h:940</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7a14194d0b2e6c6680067975517cd58eac"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a14194d0b2e6c6680067975517cd58eac">llvm::AtomicOrdering::Monotonic</a></div><div class="ttdeci">@ Monotonic</div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9149819221d66953ac6c2938b87f0136"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9149819221d66953ac6c2938b87f0136">llvm::Instruction::mayReadFromMemory</a></div><div class="ttdeci">bool mayReadFromMemory() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction may read memory.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00626">Instruction.cpp:626</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a5c69311e8d44898dac36a155c3d8691d"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const BasicBlock *BB, const Use &amp;U) const</div><div class="ttdoc">Return true if the (end of the) basic block BB dominates the use U.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00122">Dominators.cpp:122</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aCodeMetrics_8h_html"><div class="ttname"><a href="CodeMetrics_8h.html">CodeMetrics.h</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_abb41aabaa76a67aecaecad0f103fea3c"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#abb41aabaa76a67aecaecad0f103fea3c">MemorySSAScanLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MemorySSAScanLimit(&quot;dse-memoryssa-scanlimit&quot;, cl::init(150), cl::Hidden, cl::desc(&quot;The number of memory instructions to scan for &quot; &quot;dead store elimination (default = 150)&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html_a14298313bdf734e2db5a921cc6e861a0"><div class="ttname"><a href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">llvm::StoreInst::getValueOperand</a></div><div class="ttdeci">Value * getValueOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00390">Instructions.h:390</a></div></div>
<div class="ttc" id="anamespacellvm_html_a846137dc22b3b399b62f606698f3ed59"><div class="ttname"><a href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">llvm::AreStatisticsEnabled</a></div><div class="ttdeci">bool AreStatisticsEnabled()</div><div class="ttdoc">Check if statistics are enabled.</div><div class="ttdef"><b>Definition:</b> <a href="Statistic_8cpp_source.html#l00139">Statistic.cpp:139</a></div></div>
<div class="ttc" id="anamespacellvm_html_a433468826ef20b5ddb53704fc38363fc"><div class="ttname"><a href="namespacellvm.html#a433468826ef20b5ddb53704fc38363fc">llvm::isNoAliasCall</a></div><div class="ttdeci">bool isNoAliasCall(const Value *V)</div><div class="ttdoc">Return true if this pointer is returned by a noalias function.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00866">AliasAnalysis.cpp:866</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html">llvm::MemorySSAWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes MemorySSA.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00986">MemorySSA.h:986</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00049">PatternMatch.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00294">AliasAnalysis.h:294</a></div></div>
<div class="ttc" id="aPostDominators_8h_html"><div class="ttname"><a href="PostDominators_8h.html">PostDominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_ae4b6abe77abf42fb02081a6cc41a0132"><div class="ttname"><a href="classllvm_1_1Constant.html#ae4b6abe77abf42fb02081a6cc41a0132">llvm::Constant::isNullValue</a></div><div class="ttdeci">bool isNullValue() const</div><div class="ttdoc">Return true if this is the value that would be returned by getNullValue.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00076">Constants.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_ae3b89ffde42778289bcbd8a187199420"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">llvm::MemorySSA::isLiveOnEntryDef</a></div><div class="ttdeci">bool isLiveOnEntryDef(const MemoryAccess *MA) const</div><div class="ttdoc">Return true if MA represents the live on entry value.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00737">MemorySSA.h:737</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1LocationSize_html"><div class="ttname"><a href="classllvm_1_1LocationSize.html">llvm::LocationSize</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00067">MemoryLocation.h:67</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a3600ad65816babbe5ecb3b9d82997374"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a3600ad65816babbe5ecb3b9d82997374">OverlapIntervalsTy</a></div><div class="ttdeci">std::map&lt; int64_t, int64_t &gt; OverlapIntervalsTy</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00175">DeadStoreElimination.cpp:175</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26a5e408fc09c5664d2bbb2d7fae154e"><div class="ttname"><a href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">llvm::LibFunc</a></div><div class="ttdeci">LibFunc</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00036">TargetLibraryInfo.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a57efb022f2ee2e19e4cdf582f4d27f2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a57efb022f2ee2e19e4cdf582f4d27f2d">llvm::Instruction::isAtomic</a></div><div class="ttdeci">bool isAtomic() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction has an AtomicOrdering of unordered or higher.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00666">Instruction.cpp:666</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="astructllvm_1_1PostDominatorTreeWrapperPass_html"><div class="ttname"><a href="structllvm_1_1PostDominatorTreeWrapperPass.html">llvm::PostDominatorTreeWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="PostDominators_8h_source.html#l00073">PostDominators.h:73</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1LocationSize_html_a47f128e1007c6c70eb7b0df2dcbf68df"><div class="ttname"><a href="classllvm_1_1LocationSize.html#a47f128e1007c6c70eb7b0df2dcbf68df">llvm::LocationSize::getValue</a></div><div class="ttdeci">uint64_t getValue() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00160">MemoryLocation.h:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html_ad877dea909eff4e9714f31be1c770491"><div class="ttname"><a href="classllvm_1_1AliasResult.html#ad877dea909eff4e9714f31be1c770491">llvm::AliasResult::hasOffset</a></div><div class="ttdeci">constexpr bool hasOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00119">AliasAnalysis.h:119</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8h_html"><div class="ttname"><a href="AssumeBundleBuilder_8h.html">AssumeBundleBuilder.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdeci">@ Store</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00033">SparcInstrInfo.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_aecb93439702247fe5353a9966f7cefcd"><div class="ttname"><a href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">llvm::Value::uses</a></div><div class="ttdeci">iterator_range&lt; use_iterator &gt; uses()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00376">Value.h:376</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html_a59632c5deb0423a518ad984bdd04d41f"><div class="ttname"><a href="classllvm_1_1VectorType.html#a59632c5deb0423a518ad984bdd04d41f">llvm::VectorType::getElementCount</a></div><div class="ttdeci">ElementCount getElementCount() const</div><div class="ttdoc">Return an ElementCount instance to represent the (possibly scalable) number of elements in the vector...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00627">DerivedTypes.h:627</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html_a97cfbbed8869e3582142012a071a9052"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a97cfbbed8869e3582142012a071a9052">llvm::TargetLibraryInfo::getLibFunc</a></div><div class="ttdeci">bool getLibFunc(StringRef funcName, LibFunc &amp;F) const</div><div class="ttdoc">Searches for a particular function name.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00306">TargetLibraryInfo.h:306</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a677ac8d99ff3c2d32a95c21de9ed372c"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">llvm::PatternMatch::m_ConstantInt</a></div><div class="ttdeci">class_match&lt; ConstantInt &gt; m_ConstantInt()</div><div class="ttdoc">Match an arbitrary ConstantInt and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00147">PatternMatch.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a9f382207d841377156d4c7868b66b9a5"><div class="ttname"><a href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits() const LLVM_READONLY</div><div class="ttdoc">If this is a vector type, return the getPrimitiveSizeInBits value for the element type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00188">Type.cpp:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugCounter_html_a5aace8653ce3726ef07194dcf6bce2bf"><div class="ttname"><a href="classllvm_1_1DebugCounter.html#a5aace8653ce3726ef07194dcf6bce2bf">llvm::DebugCounter::shouldExecute</a></div><div class="ttdeci">static bool shouldExecute(unsigned CounterName)</div><div class="ttdef"><b>Definition:</b> <a href="DebugCounter_8h_source.html#l00072">DebugCounter.h:72</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a0c5b9f42dd28963a8dde0514c41ea25e"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a0c5b9f42dd28963a8dde0514c41ea25e">Elimination</a></div><div class="ttdeci">Dead Store Elimination</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l02314">DeadStoreElimination.cpp:2314</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeWrapperPass_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeWrapperPass.html">llvm::DominatorTreeWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00314">Dominators.h:314</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26be1141b23850a2b4eb78021d99e862"><div class="ttname"><a href="namespacellvm.html#a26be1141b23850a2b4eb78021d99e862">llvm::salvageDebugInfo</a></div><div class="ttdeci">void salvageDebugInfo(const MachineRegisterInfo &amp;MRI, MachineInstr &amp;MI)</div><div class="ttdoc">Assuming the instruction MI is going to be deleted, attempt to salvage debug users of MI by writing t...</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2GlobalISel_2Utils_8cpp_source.html#l01367">Utils.cpp:1367</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1LocationSize_html_a131715ceeb92fb803a329d6b76d14e0d"><div class="ttname"><a href="classllvm_1_1LocationSize.html#a131715ceeb92fb803a329d6b76d14e0d">llvm::LocationSize::precise</a></div><div class="ttdeci">static LocationSize precise(uint64_t Value)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00102">MemoryLocation.h:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html_a50a2e57da274f8d69b9f932977379cdf"><div class="ttname"><a href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">llvm::Use::getUser</a></div><div class="ttdeci">User * getUser() const</div><div class="ttdoc">Returns the User that contains this Use.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00072">Use.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3b1c5788b85ffa254be0e834edf5cf8f"><div class="ttname"><a href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">llvm::getUnderlyingObject</a></div><div class="ttdeci">const Value * getUnderlyingObject(const Value *V, unsigned MaxLookup=6)</div><div class="ttdoc">This method strips off any GEP address adjustments and pointer casts from the specified value,...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04567">ValueTracking.cpp:4567</a></div></div>
<div class="ttc" id="astructllvm_1_1CodeMetrics_html_a7e174506b52ad46ea1f746a7f727d999"><div class="ttname"><a href="structllvm_1_1CodeMetrics.html#a7e174506b52ad46ea1f746a7f727d999">llvm::CodeMetrics::collectEphemeralValues</a></div><div class="ttdeci">static void collectEphemeralValues(const Loop *L, AssumptionCache *AC, SmallPtrSetImpl&lt; const Value * &gt; &amp;EphValues)</div><div class="ttdoc">Collect a loop's ephemeral values (those used only by an assume or similar intrinsics in the loop).</div><div class="ttdef"><b>Definition:</b> <a href="CodeMetrics_8cpp_source.html#l00070">CodeMetrics.cpp:70</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ad848bd0184fc7bcb7b71e19248f08f34"><div class="ttname"><a href="classllvm_1_1Instruction.html#ad848bd0184fc7bcb7b71e19248f08f34">llvm::Instruction::isIdenticalTo</a></div><div class="ttdeci">bool isIdenticalTo(const Instruction *I) const LLVM_READONLY</div><div class="ttdoc">Return true if the specified instruction is exactly identical to the current one.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00552">Instruction.cpp:552</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_a34caabb3b49a32ca4f53db4b4c2ec35b"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#a34caabb3b49a32ca4f53db4b4c2ec35b">llvm::DominatorTreeBase::roots</a></div><div class="ttdeci">iterator_range&lt; root_iterator &gt; roots()</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00320">GenericDomTree.h:320</a></div></div>
<div class="ttc" id="aPatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryUseOrDef_html_a1111232011a32357ce2f84d3a633597c"><div class="ttname"><a href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">llvm::MemoryUseOrDef::getMemoryInst</a></div><div class="ttdeci">Instruction * getMemoryInst() const</div><div class="ttdoc">Get the instruction that this MemoryUse represents.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00259">MemorySSA.h:259</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_a62ba0e5ee2d86f663c6de4efda6082a7"><div class="ttname"><a href="namespacellvm.html#a62ba0e5ee2d86f663c6de4efda6082a7">llvm::getObjectSize</a></div><div class="ttdeci">bool getObjectSize(const Value *Ptr, uint64_t &amp;Size, const DataLayout &amp;DL, const TargetLibraryInfo *TLI, ObjectSizeOpts Opts={})</div><div class="ttdoc">Compute the size of the object pointed by Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00578">MemoryBuiltins.cpp:578</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_ac52e96172674fb064ce0a12a7e0d4936"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#ac52e96172674fb064ce0a12a7e0d4936">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(DSELegacyPass, &quot;dse&quot;, &quot;Dead Store Elimination&quot;, false, false) INITIALIZE_PASS_END(DSELegacyPass</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html_aa468ad3fa68bdf6703c391deaec97706"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">llvm::MemoryAccess::getBlock</a></div><div class="ttdeci">BasicBlock * getBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00164">MemorySSA.h:164</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHITransAddr_html_a5efb6e7305495567d0e1c27683565f1f"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#a5efb6e7305495567d0e1c27683565f1f">llvm::PHITransAddr::isPotentiallyPHITranslatable</a></div><div class="ttdeci">bool isPotentiallyPHITranslatable() const</div><div class="ttdoc">isPotentiallyPHITranslatable - If this needs PHI translation, return true if we have some hope of doi...</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8cpp_source.html#l00103">PHITransAddr.cpp:103</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a7b4a95aa47d151f0db62f60bafa792d8"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a7b4a95aa47d151f0db62f60bafa792d8">memoryIsNotModifiedBetween</a></div><div class="ttdeci">static bool memoryIsNotModifiedBetween(Instruction *FirstI, Instruction *SecondI, BatchAAResults &amp;AA, const DataLayout &amp;DL, DominatorTree *DT)</div><div class="ttdoc">Returns true if the memory which is accessed by the second instruction is not modified between the fi...</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00401">DeadStoreElimination.cpp:401</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="anamespacellvm_1_1omp_html_a16d7c5f77008a84ae20bf4a5c41e51f0ae88b4464fe326a51e6e6dfae28dd536d"><div class="ttname"><a href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0ae88b4464fe326a51e6e6dfae28dd536d">llvm::omp::RTLDependInfoFields::Len</a></div><div class="ttdeci">@ Len</div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a471b94aa7b3f758cd9d2e33ecd0520f4"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a471b94aa7b3f758cd9d2e33ecd0520f4">isShortenableAtTheBeginning</a></div><div class="ttdeci">static bool isShortenableAtTheBeginning(Instruction *I)</div><div class="ttdoc">Returns true if the beginning of this instruction can be safely shortened in length.</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00205">DeadStoreElimination.cpp:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSetInst_html"><div class="ttname"><a href="classllvm_1_1MemSetInst.html">llvm::MemSetInst</a></div><div class="ttdoc">This class wraps the llvm.memset and llvm.memset.inline intrinsics.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01080">IntrinsicInst.h:1080</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html_acedb65c0cfa62eca04a90d92017dd0c6"><div class="ttname"><a href="classllvm_1_1AliasResult.html#acedb65c0cfa62eca04a90d92017dd0c6">llvm::AliasResult::getOffset</a></div><div class="ttdeci">constexpr int32_t getOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00120">AliasAnalysis.h:120</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="aLoopInfo_8h_html"><div class="ttname"><a href="LoopInfo_8h.html">LoopInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9cb77a3069c227792d6bade6faff422"><div class="ttname"><a href="namespacellvm.html#ab9cb77a3069c227792d6bade6faff422">llvm::getFreedOperand</a></div><div class="ttdeci">Value * getFreedOperand(const CallBase *CB, const TargetLibraryInfo *TLI)</div><div class="ttdoc">If this if a call to a free function, return the freed operand.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00546">MemoryBuiltins.cpp:546</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_html_acb22fb04083152eee862457e42e8dc31"><div class="ttname"><a href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">llvm::predecessors</a></div><div class="ttdeci">auto predecessors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01266">MachineBasicBlock.h:1266</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_af8a50544090e81ac83601aff8f4b0142"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">llvm::SmallPtrSetImplBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00092">SmallPtrSet.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html"><div class="ttname"><a href="classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdoc">Base class of all SIMD vector types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00389">DerivedTypes.h:389</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e3e687ddfdcbacd404bcf17b917dd88"><div class="ttname"><a href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">llvm::instructions</a></div><div class="ttdeci">inst_range instructions(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00133">InstIterator.h:133</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae77be336e228cf9aa00709a8606dfb98"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">llvm::PatternMatch::m_Zero</a></div><div class="ttdeci">is_zero m_Zero()</div><div class="ttdoc">Match any null constant or a vector with all elements equal to 0.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00537">PatternMatch.h:537</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="anamespacellvm_html_a108b6e33f153eda5019d322f0ac909b0"><div class="ttname"><a href="namespacellvm.html#a108b6e33f153eda5019d322f0ac909b0">llvm::getInitialValueOfAllocation</a></div><div class="ttdeci">Constant * getInitialValueOfAllocation(const Value *V, const TargetLibraryInfo *TLI, Type *Ty)</div><div class="ttdoc">If this is a call to an allocation function that initializes memory to a fixed value,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00428">MemoryBuiltins.cpp:428</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00082">Instruction.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_a2afd85d1ce874e1dd6391c967101d3b8"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#a2afd85d1ce874e1dd6391c967101d3b8">llvm::BatchAAResults::alias</a></div><div class="ttdeci">AliasResult alias(const MemoryLocation &amp;LocA, const MemoryLocation &amp;LocB)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00621">AliasAnalysis.h:621</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a6b0c3e15c351ba9682837c29b0a141b6"><div class="ttname"><a href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">llvm::MapVector::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Key)</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00148">MapVector.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfoWrapperPass.html">llvm::TargetLibraryInfoWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00565">TargetLibraryInfo.h:565</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAUpdater_html"><div class="ttname"><a href="classllvm_1_1MemorySSAUpdater.html">llvm::MemorySSAUpdater</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSAUpdater_8h_source.html#l00054">MemorySSAUpdater.h:54</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionAnalysis_html"><div class="ttname"><a href="classllvm_1_1AssumptionAnalysis.html">llvm::AssumptionAnalysis</a></div><div class="ttdoc">A function analysis which provides an AssumptionCache.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00173">AssumptionCache.h:173</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_ad966bea18aa62ffb9e040509adc7c99f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">llvm::PreservedAnalyses::preserve</a></div><div class="ttdeci">void preserve()</div><div class="ttdoc">Mark an analysis as preserved.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00173">PassManager.h:173</a></div></div>
<div class="ttc" id="astructllvm_1_1DIExpression_1_1FragmentInfo_html_aa0ba6bb862f184d5720a57950863fa1e"><div class="ttname"><a href="structllvm_1_1DIExpression_1_1FragmentInfo.html#aa0ba6bb862f184d5720a57950863fa1e">llvm::DIExpression::FragmentInfo::SizeInBits</a></div><div class="ttdeci">uint64_t SizeInBits</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02777">DebugInfoMetadata.h:2777</a></div></div>
<div class="ttc" id="aMemoryLocation_8h_html"><div class="ttname"><a href="MemoryLocation_8h.html">MemoryLocation.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aIR_2DebugInfo_8h_html"><div class="ttname"><a href="IR_2DebugInfo_8h.html">DebugInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html"><div class="ttname"><a href="classllvm_1_1MemorySSA.html">llvm::MemorySSA</a></div><div class="ttdoc">Encapsulates MemorySSA, including all data associated with memory accesses.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00700">MemorySSA.h:700</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a7a7c8e0e4f836c13c015b62e18f386bd"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">llvm::LoopInfoBase::getLoopFor</a></div><div class="ttdeci">LoopT * getLoopFor(const BlockT *BB) const</div><div class="ttdoc">Return the inner most loop that BB lives in.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00992">LoopInfo.h:992</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a4ece07ee1030856099726901d0eef81b"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">llvm::MemorySSA::getMemoryAccess</a></div><div class="ttdeci">MemoryUseOrDef * getMemoryAccess(const Instruction *I) const</div><div class="ttdoc">Given a memory Mod/Ref'ing instruction, get the MemorySSA access associated with it.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00717">MemorySSA.h:717</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_abf73a826b5d6f739eb4af48ddf14c5b4"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">llvm::SmallPtrSetImpl::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00403">SmallPtrSet.h:403</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDef_html"><div class="ttname"><a href="classllvm_1_1MemoryDef.html">llvm::MemoryDef</a></div><div class="ttdoc">Represents a read-write access to memory, whether it is a must-alias, or a may-alias.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00372">MemorySSA.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae8f5bf5cc06f696b52c709677df00fbf"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">llvm::Instruction::setDebugLoc</a></div><div class="ttdeci">void setDebugLoc(DebugLoc Loc)</div><div class="ttdoc">Set the debug location information for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00355">Instruction.h:355</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a6214ec47afec8c8344dd437e04306551"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a6214ec47afec8c8344dd437e04306551">EnablePartialStoreMerging</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnablePartialStoreMerging(&quot;enable-dse-partial-store-merging&quot;, cl::init(true), cl::Hidden, cl::desc(&quot;Enable partial store merging in DSE&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html_a9a94c15dff322a963b566d486dd673b5"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#a9a94c15dff322a963b566d486dd673b5">llvm::GetElementPtrInst::CreateInBounds</a></div><div class="ttdeci">static GetElementPtrInst * CreateInBounds(Type *PointeeType, Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Create an &quot;inbounds&quot; getelementptr.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00993">Instructions.h:993</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae2bb081d94f22e64ca6bc4bd58512a93"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a></div><div class="ttdeci">&lt;%struct.s * &gt; cast struct s *S to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *agg result to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *memtmp to sbyte *&lt; sbyte * &gt; sbyte uint ret void llc ends up issuing two memcpy or custom lower memcpy(of small size) to be ldmia/stmia. I think option 2 is better but the current register allocator cannot allocate a chunk of registers at a time. A feasible temporary solution is to use specific physical registers at the lowering time for small(&lt;</div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a1a70f2c359aadd76a72aaaede16aca4a"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">llvm::DominatorTree::isReachableFromEntry</a></div><div class="ttdeci">bool isReachableFromEntry(const Use &amp;U) const</div><div class="ttdoc">Provide an overload for a Use.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00335">Dominators.cpp:335</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html_a54699e3f128acda6003afc11d3027f6c"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a54699e3f128acda6003afc11d3027f6c">llvm::TargetLibraryInfo::has</a></div><div class="ttdeci">bool has(LibFunc F) const</div><div class="ttdoc">Tests whether a library function is available.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00340">TargetLibraryInfo.h:340</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_ab085cca6a1f0a87474eee9d0dd00adf8"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#ab085cca6a1f0a87474eee9d0dd00adf8">MemorySSAOtherBBStepCost</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MemorySSAOtherBBStepCost(&quot;dse-memoryssa-otherbb-cost&quot;, cl::init(5), cl::Hidden, cl::desc(&quot;The cost of a step in a different basic &quot; &quot;block than the killing MemoryDef&quot; &quot;(default = 5)&quot;))</div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a8daf1ecab5704c6aa3672b2fcec60f29"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a8daf1ecab5704c6aa3672b2fcec60f29">isMaskedStoreOverwrite</a></div><div class="ttdeci">static OverwriteResult isMaskedStoreOverwrite(const Instruction *KillingI, const Instruction *DeadI, BatchAAResults &amp;AA)</div><div class="ttdoc">Check if two instruction are masked stores that completely overwrite one another.</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00240">DeadStoreElimination.cpp:240</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa39ca296d9689933bb0279c9ac3ee1fc"><div class="ttname"><a href="namespacellvm.html#aa39ca296d9689933bb0279c9ac3ee1fc">llvm::salvageKnowledge</a></div><div class="ttdeci">void salvageKnowledge(Instruction *I, AssumptionCache *AC=nullptr, DominatorTree *DT=nullptr)</div><div class="ttdoc">Calls BuildAssumeFromInst and if the resulting llvm.assume is valid insert if before I.</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00293">AssumeBundleBuilder.cpp:293</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_af8e0461e58230dc0f22691d8d1e2f447"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#af8e0461e58230dc0f22691d8d1e2f447">EnablePartialOverwriteTracking</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnablePartialOverwriteTracking(&quot;enable-dse-partial-overwrite-tracking&quot;, cl::init(true), cl::Hidden, cl::desc(&quot;Enable partial-overwrite tracking in DSE&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAAnalysis_html"><div class="ttname"><a href="classllvm_1_1MemorySSAAnalysis.html">llvm::MemorySSAAnalysis</a></div><div class="ttdoc">An analysis that produces MemorySSA for a function.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00936">MemorySSA.h:936</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a949151a1ebd664cb397323294cec0e53"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a949151a1ebd664cb397323294cec0e53">llvm::MemorySSA::getWalker</a></div><div class="ttdeci">MemorySSAWalker * getWalker()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01558">MemorySSA.cpp:1558</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1IsaInfo_html_ab6e8b39aa26af871d8ede5fa8c791ee6ad15305d7a4e34e02489c74a5ef542f36"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#ab6e8b39aa26af871d8ede5fa8c791ee6ad15305d7a4e34e02489c74a5ef542f36">llvm::AMDGPU::IsaInfo::TargetIDSetting::Off</a></div><div class="ttdeci">@ Off</div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a21758787c0a7a126e1f14e22522d58ff"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a21758787c0a7a126e1f14e22522d58ff">MemorySSAPathCheckLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MemorySSAPathCheckLimit(&quot;dse-memoryssa-path-check-limit&quot;, cl::init(50), cl::Hidden, cl::desc(&quot;The maximum number of blocks to check when trying to prove that &quot; &quot;all paths to an exit go through a killing block (default = 50)&quot;))</div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">Match an arbitrary value and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00076">PatternMatch.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWalker_html_a95d0e423957d029a78e5868f539e9cce"><div class="ttname"><a href="classllvm_1_1MemorySSAWalker.html#a95d0e423957d029a78e5868f539e9cce">llvm::MemorySSAWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(const Instruction *I, BatchAAResults &amp;AA)</div><div class="ttdoc">Given a memory Mod/Ref/ModRef'ing instruction, calling this will give you the nearest dominating Memo...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l01046">MemorySSA.h:1046</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html">llvm::AssumptionCacheTracker</a></div><div class="ttdoc">An immutable pass that tracks lazily created AssumptionCache objects.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00202">AssumptionCache.h:202</a></div></div>
<div class="ttc" id="anamespacellvm_html_a627b2f86ac433d829482d5a5a0f50668"><div class="ttname"><a href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">llvm::isInstructionTriviallyDead</a></div><div class="ttdeci">bool isInstructionTriviallyDead(Instruction *I, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the result produced by the instruction is not used, and the instruction will return.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00398">Local.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01108">LoopInfo.h:1108</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_aa092f6d6a6b0277c2d1cdc10a394a8c9"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#aa092f6d6a6b0277c2d1cdc10a394a8c9">tryToMergePartialOverlappingStores</a></div><div class="ttdeci">static Constant * tryToMergePartialOverlappingStores(StoreInst *KillingI, StoreInst *DeadI, int64_t KillingOffset, int64_t DeadOffset, const DataLayout &amp;DL, BatchAAResults &amp;AA, DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00687">DeadStoreElimination.cpp:687</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7912b6c9e7843ca9fd5a11e199bef617"><div class="ttname"><a href="namespacellvm.html#a7912b6c9e7843ca9fd5a11e199bef617">llvm::PointerMayBeCaptured</a></div><div class="ttdeci">bool PointerMayBeCaptured(const Value *V, bool ReturnCaptures, bool StoreCaptures, unsigned MaxUsesToExplore=0)</div><div class="ttdoc">PointerMayBeCaptured - Return true if this pointer value may be captured by the enclosing function (w...</div><div class="ttdef"><b>Definition:</b> <a href="CaptureTracking_8cpp_source.html#l00214">CaptureTracking.cpp:214</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_acd1abf2a3bff454bb98fb7598f251a5a"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#acd1abf2a3bff454bb98fb7598f251a5a">llvm::IntervalMap::end</a></div><div class="ttdeci">const_iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01158">IntervalMap.h:1158</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a2ef6f9107316d963f20b9003b7668c4e"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a2ef6f9107316d963f20b9003b7668c4e">llvm::MemorySSA::getSkipSelfWalker</a></div><div class="ttdeci">MemorySSAWalker * getSkipSelfWalker()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01571">MemorySSA.cpp:1571</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af11a6ebf7ab3c388234cb6d5378439a3"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">llvm::AnalysisUsage::setPreservesCFG</a></div><div class="ttdeci">void setPreservesCFG()</div><div class="ttdoc">This function should be called by the pass, iff they do not:</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00265">Pass.cpp:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html">llvm::AssumptionCache</a></div><div class="ttdoc">A cache of @llvm.assume calls within a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00042">AssumptionCache.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1PostDominatorTree_html"><div class="ttname"><a href="classllvm_1_1PostDominatorTree.html">llvm::PostDominatorTree</a></div><div class="ttdoc">PostDominatorTree Class - Concrete subclass of DominatorTree that is used to compute the post-dominat...</div><div class="ttdef"><b>Definition:</b> <a href="PostDominators_8h_source.html#l00028">PostDominators.h:28</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="anamespacellvm_html_a894b02a1122caccc0ed5eb9b321d22bb"><div class="ttname"><a href="namespacellvm.html#a894b02a1122caccc0ed5eb9b321d22bb">llvm::isNotVisibleOnUnwind</a></div><div class="ttdeci">bool isNotVisibleOnUnwind(const Value *Object, bool &amp;RequiresNoCaptureBeforeUnwind)</div><div class="ttdoc">Return true if Object memory is not visible after an unwind, in the sense that program semantics cann...</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00916">AliasAnalysis.cpp:916</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_adfa0be41805b25d9577d6f15d148a0d7"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#adfa0be41805b25d9577d6f15d148a0d7">llvm::BatchAAResults::getModRefInfo</a></div><div class="ttdeci">ModRefInfo getModRefInfo(const Instruction *I, const std::optional&lt; MemoryLocation &gt; &amp;OptLoc)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00631">AliasAnalysis.h:631</a></div></div>
<div class="ttc" id="aclassllvm_1_1CFGAnalyses_html"><div class="ttname"><a href="classllvm_1_1CFGAnalyses.html">llvm::CFGAnalyses</a></div><div class="ttdoc">Represents analyses that only rely on functions' control flow.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00113">PassManager.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a884f90190bca4bd354f2d5c91c264028"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">llvm::AnalysisUsage::addPreserved</a></div><div class="ttdeci">AnalysisUsage &amp; addPreserved()</div><div class="ttdoc">Add the specified Pass class to the set of analyses preserved by this pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00098">PassAnalysisSupport.h:98</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_a2675de1d8479c7b00387979714da43f7"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a></div><div class="ttdeci">static const Function * getParent(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00806">BasicAliasAnalysis.cpp:806</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html_a8d3de277fb70fa515efac2db2cfe9d57a863ee317b92588eb2d6878af9fc98922"><div class="ttname"><a href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a863ee317b92588eb2d6878af9fc98922">llvm::AliasResult::NoAlias</a></div><div class="ttdeci">@ NoAlias</div><div class="ttdoc">The two locations do not alias at all.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00101">AliasAnalysis.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_html_af7787f6b577cd7a63f043b87301b8e81"><div class="ttname"><a href="namespacellvm.html#af7787f6b577cd7a63f043b87301b8e81">llvm::isRefSet</a></div><div class="ttdeci">bool isRefSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00051">ModRef.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html_a8d3de277fb70fa515efac2db2cfe9d57ac1a99a1af9a4778a61e5cc3e1d622180"><div class="ttname"><a href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57ac1a99a1af9a4778a61e5cc3e1d622180">llvm::AliasResult::MustAlias</a></div><div class="ttdeci">@ MustAlias</div><div class="ttdoc">The two locations precisely alias each other.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00108">AliasAnalysis.h:108</a></div></div>
<div class="ttc" id="aRISCVRedundantCopyElimination_8cpp_html_a77c69067ae8279bc00ab8757731e90d7"><div class="ttname"><a href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a></div><div class="ttdeci">auto CC</div><div class="ttdef"><b>Definition:</b> <a href="RISCVRedundantCopyElimination_8cpp_source.html#l00079">RISCVRedundantCopyElimination.cpp:79</a></div></div>
<div class="ttc" id="astructllvm_1_1ObjectSizeOpts_html"><div class="ttname"><a href="structllvm_1_1ObjectSizeOpts.html">llvm::ObjectSizeOpts</a></div><div class="ttdoc">Various options to control the behavior of getObjectSize.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8h_source.html#l00139">MemoryBuiltins.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_ade6d93f9485649bade540a37ec163058"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#ade6d93f9485649bade540a37ec163058">llvm::DominatorTreeBase::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const DomTreeNodeBase&lt; NodeT &gt; *A, const DomTreeNodeBase&lt; NodeT &gt; *B) const</div><div class="ttdoc">properlyDominates - Returns true iff A dominates B and A != B.</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00408">GenericDomTree.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html">llvm::MemoryAccess</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00142">MemorySSA.h:142</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ifs_html_adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df"><div class="ttname"><a href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">llvm::ifs::IFSSymbolType::Func</a></div><div class="ttdeci">@ Func</div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a966eb231e7d4e572874d2cb49b18faea"><div class="ttname"><a href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">const Value * stripPointerCasts() const</div><div class="ttdoc">Strip off pointer casts, all-zero GEPs and address space casts.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00685">Value.cpp:685</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a0881334358ff6ff7ff8cea5562c7988e"><div class="ttname"><a href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">llvm::MapVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00072">MapVector.h:72</a></div></div>
<div class="ttc" id="aArgument_8h_html"><div class="ttname"><a href="Argument_8h.html">Argument.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a1dc76cc8bf703e6ada68bededcbb9573"><div class="ttname"><a href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">llvm::APInt::zext</a></div><div class="ttdeci">APInt zext(unsigned width) const</div><div class="ttdoc">Zero extend to a new width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00973">APInt.cpp:973</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_acd30a2d319950c138d97d5b3356342b5"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#acd30a2d319950c138d97d5b3356342b5">llvm::MemorySSA::ensureOptimizedUses</a></div><div class="ttdeci">void ensureOptimizedUses()</div><div class="ttdoc">By default, uses are not optimized during MemorySSA construction.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02143">MemorySSA.cpp:2143</a></div></div>
<div class="ttc" id="aEntryExitInstrumenter_8cpp_html_a3985f1f39349428d17f0d2b81ebc6349"><div class="ttname"><a href="EntryExitInstrumenter_8cpp.html#a3985f1f39349428d17f0d2b81ebc6349">runOnFunction</a></div><div class="ttdeci">static bool runOnFunction(Function &amp;F, bool PostInlining)</div><div class="ttdef"><b>Definition:</b> <a href="EntryExitInstrumenter_8cpp_source.html#l00085">EntryExitInstrumenter.cpp:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHITransAddr_html_a7a81ecd112a964a3ae6890291f78374f"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#a7a81ecd112a964a3ae6890291f78374f">llvm::PHITransAddr::getAddr</a></div><div class="ttdeci">Value * getAddr() const</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00058">PHITransAddr.h:58</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_ab9ba3a606a0299b684755f56b1d2f1c7"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#ab9ba3a606a0299b684755f56b1d2f1c7">llvm::BatchAAResults::isMustAlias</a></div><div class="ttdeci">bool isMustAlias(const MemoryLocation &amp;LocA, const MemoryLocation &amp;LocB)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00644">AliasAnalysis.h:644</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a97cbd12fcf61e3cf7db640c3661e66df"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a97cbd12fcf61e3cf7db640c3661e66df">tryToShorten</a></div><div class="ttdeci">static bool tryToShorten(Instruction *DeadI, int64_t &amp;DeadStart, uint64_t &amp;DeadSize, int64_t KillingStart, uint64_t KillingSize, bool IsOverwriteEnd)</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00527">DeadStoreElimination.cpp:527</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceWrapperPass_html"><div class="ttname"><a href="classllvm_1_1MemoryDependenceWrapperPass.html">llvm::MemoryDependenceWrapperPass</a></div><div class="ttdoc">A wrapper analysis pass for the legacy pass manager that exposes a MemoryDepnedenceResults instance.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00532">MemoryDependenceAnalysis.h:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemIntrinsicBase_html_abcb1eb8c51771752c4fee2d539fa25cc"><div class="ttname"><a href="classllvm_1_1MemIntrinsicBase.html#abcb1eb8c51771752c4fee2d539fa25cc">llvm::MemIntrinsicBase::getLength</a></div><div class="ttdeci">Value * getLength() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00824">IntrinsicInst.h:824</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryUseOrDef_html_abc4e1b6cc483cfd57ca75c4ab92bd360"><div class="ttname"><a href="classllvm_1_1MemoryUseOrDef.html#abc4e1b6cc483cfd57ca75c4ab92bd360">llvm::MemoryUseOrDef::getDefiningAccess</a></div><div class="ttdeci">MemoryAccess * getDefiningAccess() const</div><div class="ttdoc">Get the access that produces the memory state used by this Use.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00262">MemorySSA.h:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDef_html_af8ce9c4c2a0f042aa8a7c365a293d642"><div class="ttname"><a href="classllvm_1_1MemoryDef.html#af8ce9c4c2a0f042aa8a7c365a293d642">llvm::MemoryDef::setOptimized</a></div><div class="ttdeci">void setOptimized(MemoryAccess *MA)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00392">MemorySSA.h:392</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8be53fd181f7dfb23312106249cd7f4c"><div class="ttname"><a href="namespacellvm.html#a8be53fd181f7dfb23312106249cd7f4c">llvm::initializeDSELegacyPassPass</a></div><div class="ttdeci">void initializeDSELegacyPassPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="aclassllvm_1_1DSEPass_html_a29b9f8c28e2ba0531f66bd82e8c5a32e"><div class="ttname"><a href="classllvm_1_1DSEPass.html#a29b9f8c28e2ba0531f66bd82e8c5a32e">llvm::DSEPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;FAM)</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l02218">DeadStoreElimination.cpp:2218</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html_a80735739b49cf97a491922c8f9af2cc1"><div class="ttname"><a href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">llvm::Align::value</a></div><div class="ttdeci">uint64_t value() const</div><div class="ttdoc">This is a hole in the type system and should not be abused.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00085">Alignment.h:85</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_ab2b0b8fe5c4f95405465ec5baabbe5d5"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#ab2b0b8fe5c4f95405465ec5baabbe5d5">MemorySSADefsPerBlockLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MemorySSADefsPerBlockLimit(&quot;dse-memoryssa-defs-per-block-limit&quot;, cl::init(5000), cl::Hidden, cl::desc(&quot;The number of MemoryDefs we consider as candidates to eliminated &quot; &quot;other stores per basic block (default = 5000)&quot;))</div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa0953557ed13c0ed48e740653e07c979"><div class="ttname"><a href="namespacellvm.html#aa0953557ed13c0ed48e740653e07c979">llvm::post_order</a></div><div class="ttdeci">iterator_range&lt; po_iterator&lt; T &gt; &gt; post_order(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="PostOrderIterator_8h_source.html#l00191">PostOrderIterator.h:191</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_ae9e8f2fed84d9940c1cf9d7da1035a44"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#ae9e8f2fed84d9940c1cf9d7da1035a44">OptimizeMemorySSA</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; OptimizeMemorySSA(&quot;dse-optimize-memoryssa&quot;, cl::init(true), cl::Hidden, cl::desc(&quot;Allow DSE to optimize memory accesses.&quot;))</div></div>
<div class="ttc" id="aDebugCounter_8h_html"><div class="ttname"><a href="DebugCounter_8h.html">DebugCounter.h</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIAssignID_html_a9d9cf0278178d1da39f6797777e683f7"><div class="ttname"><a href="classllvm_1_1DIAssignID.html#a9d9cf0278178d1da39f6797777e683f7">llvm::DIAssignID::getDistinct</a></div><div class="ttdeci">static DIAssignID * getDistinct(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00320">DebugInfoMetadata.h:320</a></div></div>
<div class="ttc" id="anamespacellvm_html_afc6337ef6e00f6bebd44d81b685d655f"><div class="ttname"><a href="namespacellvm.html#afc6337ef6e00f6bebd44d81b685d655f">llvm::GetPointerBaseWithConstantOffset</a></div><div class="ttdeci">Value * GetPointerBaseWithConstantOffset(Value *Ptr, int64_t &amp;Offset, const DataLayout &amp;DL, bool AllowNonInbounds=true)</div><div class="ttdoc">Analyze the specified pointer to see if it can be expressed as a base pointer plus a constant offset.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00271">ValueTracking.h:271</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a81f225396ee3b9587327c8009f9dce40"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a81f225396ee3b9587327c8009f9dce40">llvm::MemoryLocation::getWithNewPtr</a></div><div class="ttdeci">MemoryLocation getWithNewPtr(const Value *NewPtr) const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00295">MemoryLocation.h:295</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_aa9d7ec729de7347f5dedc03860919917"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#aa9d7ec729de7347f5dedc03860919917">MemorySSAPartialStoreLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MemorySSAPartialStoreLimit(&quot;dse-memoryssa-partial-store-limit&quot;, cl::init(5), cl::Hidden, cl::desc(&quot;The maximum number candidates that only partially overwrite the &quot; &quot;killing MemoryDef to consider&quot; &quot; (default = 5)&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdoc">A wrapper class for inspecting calls to intrinsic functions.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00047">IntrinsicInst.h:47</a></div></div>
<div class="ttc" id="astructllvm_1_1DIExpression_1_1FragmentInfo_html"><div class="ttname"><a href="structllvm_1_1DIExpression_1_1FragmentInfo.html">llvm::DIExpression::FragmentInfo</a></div><div class="ttdoc">Holds the characteristics of one fragment of a larger variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02776">DebugInfoMetadata.h:2776</a></div></div>
<div class="ttc" id="anamespacellvm_html_af21b12b7c8de1504a945c4c974e06bff"><div class="ttname"><a href="namespacellvm.html#af21b12b7c8de1504a945c4c974e06bff">llvm::isStrongerThan</a></div><div class="ttdeci">bool isStrongerThan(AtomicOrdering AO, AtomicOrdering Other)</div><div class="ttdoc">Returns true if ao is stronger than other as defined by the AtomicOrdering lattice,...</div><div class="ttdef"><b>Definition:</b> <a href="AtomicOrdering_8h_source.html#l00090">AtomicOrdering.h:90</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a7d6796c9e4bec2d00f11f1b9a6077a99"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a7d6796c9e4bec2d00f11f1b9a6077a99">DEBUG_COUNTER</a></div><div class="ttdeci">DEBUG_COUNTER(MemorySSACounter, &quot;dse-memoryssa&quot;, &quot;Controls which MemoryDefs are eliminated.&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeAnalysis_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeAnalysis.html">llvm::DominatorTreeAnalysis</a></div><div class="ttdoc">Analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00279">Dominators.h:279</a></div></div>
<div class="ttc" id="aMemorySSA_8h_html"><div class="ttname"><a href="MemorySSA_8h.html">MemorySSA.h</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aPostOrderIterator_8h_html"><div class="ttname"><a href="PostOrderIterator_8h.html">PostOrderIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a937c42f77e161349ce0f999e448c7027"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a937c42f77e161349ce0f999e448c7027">llvm::PreservedAnalyses::preserveSet</a></div><div class="ttdeci">void preserveSet()</div><div class="ttdoc">Mark an analysis set as preserved.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00188">PassManager.h:188</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2d9861feadd3a09792967a012559e7b2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">llvm::PatternMatch::m_Specific</a></div><div class="ttdeci">specificval_ty m_Specific(const Value *V)</div><div class="ttdoc">Match if we have a specific specified value.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00772">PatternMatch.h:772</a></div></div>
<div class="ttc" id="astructllvm_1_1DIExpression_1_1FragmentInfo_html_a469aa47dccdabd7f18d7aa6b701e622e"><div class="ttname"><a href="structllvm_1_1DIExpression_1_1FragmentInfo.html#a469aa47dccdabd7f18d7aa6b701e622e">llvm::DIExpression::FragmentInfo::OffsetInBits</a></div><div class="ttdeci">uint64_t OffsetInBits</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02778">DebugInfoMetadata.h:2778</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_aac40904307eb0bd89cfc9d73039ba8e0"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#aac40904307eb0bd89cfc9d73039ba8e0">tryToShortenEnd</a></div><div class="ttdeci">static bool tryToShortenEnd(Instruction *DeadI, OverlapIntervalsTy &amp;IntervalMap, int64_t &amp;DeadStart, uint64_t &amp;DeadSize)</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00630">DeadStoreElimination.cpp:630</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3fe9b3ddb71b9fb53d9fc74b3a0710bf"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">llvm::PatternMatch::m_ICmp</a></div><div class="ttdeci">CmpClass_match&lt; LHS, RHS, ICmpInst, ICmpInst::Predicate &gt; m_ICmp(ICmpInst::Predicate &amp;Pred, const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01394">PatternMatch.h:1394</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIAssignID_html"><div class="ttname"><a href="classllvm_1_1DIAssignID.html">llvm::DIAssignID</a></div><div class="ttdoc">Assignment ID.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00302">DebugInfoMetadata.h:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a49f776e0940cc5d63d17d85ff6dac257"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a49f776e0940cc5d63d17d85ff6dac257">llvm::MemoryLocation::getAfter</a></div><div class="ttdeci">static MemoryLocation getAfter(const Value *Ptr, const AAMDNodes &amp;AATags=AAMDNodes())</div><div class="ttdoc">Return a location that may access any location after Ptr, while remaining within the underlying objec...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00271">MemoryLocation.h:271</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_a30a86f92a3d8d04852d53bfd89ce89c2"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a30a86f92a3d8d04852d53bfd89ce89c2">llvm::IntervalMap::begin</a></div><div class="ttdeci">const_iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01146">IntervalMap.h:1146</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResultsWrapperPass_html"><div class="ttname"><a href="classllvm_1_1AAResultsWrapperPass.html">llvm::AAResultsWrapperPass</a></div><div class="ttdoc">A wrapper pass to provide the legacy pass manager access to a suitably prepared AAResults object.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00933">AliasAnalysis.h:933</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalsAAWrapperPass_html"><div class="ttname"><a href="classllvm_1_1GlobalsAAWrapperPass.html">llvm::GlobalsAAWrapperPass</a></div><div class="ttdoc">Legacy wrapper pass to provide the GlobalsAAResult object.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalsModRef_8h_source.html#l00142">GlobalsModRef.h:142</a></div></div>
<div class="ttc" id="anamespacellvm_html_a230fb4d924829b7649a5fb112dcbe9f8"><div class="ttname"><a href="namespacellvm.html#a230fb4d924829b7649a5fb112dcbe9f8">llvm::isStrongerThanMonotonic</a></div><div class="ttdeci">bool isStrongerThanMonotonic(AtomicOrdering AO)</div><div class="ttdef"><b>Definition:</b> <a href="AtomicOrdering_8h_source.html#l00124">AtomicOrdering.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html"><div class="ttname"><a href="classllvm_1_1IntervalMap.html">llvm::IntervalMap</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00936">IntervalMap.h:936</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_aa46849ad227581d0105b7c41b4f9377f"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#aa46849ad227581d0105b7c41b4f9377f">isPartialOverwrite</a></div><div class="ttdeci">static OverwriteResult isPartialOverwrite(const MemoryLocation &amp;KillingLoc, const MemoryLocation &amp;DeadLoc, int64_t KillingOff, int64_t DeadOff, Instruction *DeadI, InstOverlapIntervalsTy &amp;IOL)</div><div class="ttdoc">Return 'OW_Complete' if a store to the 'KillingLoc' location completely overwrites a store to the 'De...</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00283">DeadStoreElimination.cpp:283</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_aaaae6480d6b94fee96d440619b402778"><div class="ttname"><a href="classllvm_1_1Instruction.html#aaaae6480d6b94fee96d440619b402778">llvm::Instruction::mayThrow</a></div><div class="ttdeci">bool mayThrow() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction may throw an exception.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00735">Instruction.cpp:735</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_ab7b4b2336c3cd524fa4e88c2bb2ac702"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#ab7b4b2336c3cd524fa4e88c2bb2ac702">shortenAssignment</a></div><div class="ttdeci">static void shortenAssignment(Instruction *Inst, uint64_t OldOffsetInBits, uint64_t OldSizeInBits, uint64_t NewSizeInBits, bool IsOverwriteEnd)</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00488">DeadStoreElimination.cpp:488</a></div></div>
<div class="ttc" id="aclassllvm_1_1PostDominatorTreeAnalysis_html"><div class="ttname"><a href="classllvm_1_1PostDominatorTreeAnalysis.html">llvm::PostDominatorTreeAnalysis</a></div><div class="ttdoc">Analysis pass which computes a PostDominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="PostDominators_8h_source.html#l00047">PostDominators.h:47</a></div></div>
<div class="ttc" id="aLoopIdiomRecognize_8cpp_html_aebc62faf59fecc07e8471fcf035d789e"><div class="ttname"><a href="LoopIdiomRecognize_8cpp.html#aebc62faf59fecc07e8471fcf035d789e">deleteDeadInstruction</a></div><div class="ttdeci">static void deleteDeadInstruction(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="LoopIdiomRecognize_8cpp_source.html#l00347">LoopIdiomRecognize.cpp:347</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_acd347d07162a5a80dac61e5bdea9616c"><div class="ttname"><a href="classllvm_1_1CastInst.html#acd347d07162a5a80dac61e5bdea9616c">llvm::CastInst::CreatePointerCast</a></div><div class="ttdeci">static CastInst * CreatePointerCast(Value *S, Type *Ty, const Twine &amp;Name, BasicBlock *InsertAtEnd)</div><div class="ttdoc">Create a BitCast AddrSpaceCast, or a PtrToInt cast instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03446">Instructions.cpp:3446</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_ac8f8983c6b76d0e30f22fff86b281f16"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#ac8f8983c6b76d0e30f22fff86b281f16">llvm::MemoryLocation::getForDest</a></div><div class="ttdeci">static MemoryLocation getForDest(const MemIntrinsic *MI)</div><div class="ttdoc">Return a location representing the destination of a memory set or transfer.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8cpp_source.html#l00108">MemoryLocation.cpp:108</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_ac6b2463590d71764f7a332789c6357bd"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#ac6b2463590d71764f7a332789c6357bd">MemorySSAUpwardsStepLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MemorySSAUpwardsStepLimit(&quot;dse-memoryssa-walklimit&quot;, cl::init(90), cl::Hidden, cl::desc(&quot;The maximum number of steps while walking upwards to find &quot; &quot;MemoryDefs that may be killed (default = 90)&quot;))</div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">llvm::RegState::Dead</a></div><div class="ttdeci">@ Dead</div><div class="ttdoc">Unused definition.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00050">MachineInstrBuilder.h:50</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7b03ed78a8e299bde6d26a8793cd4e06"><div class="ttname"><a href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">llvm::NullPointerIsDefined</a></div><div class="ttdeci">bool NullPointerIsDefined(const Function *F, unsigned AS=0)</div><div class="ttdoc">Check whether null pointer dereferencing is considered undefined behavior for a given function or an ...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l02136">Function.cpp:2136</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html"><div class="ttname"><a href="classllvm_1_1SetVector.html">llvm::SetVector&lt; BasicBlock * &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_af74676a3c7447be34bd2c1da76ec0c48"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">llvm::SmallPtrSetImpl::contains</a></div><div class="ttdeci">bool contains(ConstPtrType Ptr) const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00389">SmallPtrSet.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1PostDominatorTree_html_ac74ec035b8eeaeb39cfea312fa876c75"><div class="ttname"><a href="classllvm_1_1PostDominatorTree.html#ac74ec035b8eeaeb39cfea312fa876c75">llvm::PostDominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const Instruction *I1, const Instruction *I2) const</div><div class="ttdoc">Return true if I1 dominates I2.</div><div class="ttdef"><b>Definition:</b> <a href="PostDominators_8cpp_source.html#l00054">PostDominators.cpp:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHITransAddr_html_a020dcdde43c7bdff11476f1f5b64ef25"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#a020dcdde43c7bdff11476f1f5b64ef25">llvm::PHITransAddr::translateValue</a></div><div class="ttdeci">Value * translateValue(BasicBlock *CurBB, BasicBlock *PredBB, const DominatorTree *DT, bool MustDominate)</div><div class="ttdoc">translateValue - PHI translate the current address up the CFG from CurBB to Pred, updating our state ...</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8cpp_source.html#l00298">PHITransAddr.cpp:298</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">llvm::MemoryLocation::UnknownSize</a></div><div class="ttdeci">@ UnknownSize</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00216">MemoryLocation.h:216</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aDeadStoreElimination_8cpp_html_a22ea60ab91b41bc2071c4074382e3051"><div class="ttname"><a href="DeadStoreElimination_8cpp.html#a22ea60ab91b41bc2071c4074382e3051">isShortenableAtTheEnd</a></div><div class="ttdeci">static bool isShortenableAtTheEnd(Instruction *I)</div><div class="ttdoc">Returns true if the end of this instruction can be safely shortened in length.</div><div class="ttdef"><b>Definition:</b> <a href="DeadStoreElimination_8cpp_source.html#l00180">DeadStoreElimination.cpp:180</a></div></div>
<div class="ttc" id="aBuildLibCalls_8h_html"><div class="ttname"><a href="BuildLibCalls_8h.html">BuildLibCalls.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a99cdcecbadc13087f087c61809bb44f1"><div class="ttname"><a href="namespacellvm.html#a99cdcecbadc13087f087c61809bb44f1">llvm::offsetToAlignment</a></div><div class="ttdeci">uint64_t offsetToAlignment(uint64_t Value, Align Alignment)</div><div class="ttdoc">Returns the offset to the next integer (mod 2**64) that is greater than or equal to Value and is a mu...</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00197">Alignment.h:197</a></div></div>
<div class="ttc" id="anamespacellvm_html_add8cf45ebe45732b4baff48cb3a8d435"><div class="ttname"><a href="namespacellvm.html#add8cf45ebe45732b4baff48cb3a8d435">llvm::mayContainIrreducibleControl</a></div><div class="ttdeci">bool mayContainIrreducibleControl(const Function &amp;F, const LoopInfo *LI)</div><div class="ttdef"><b>Definition:</b> <a href="MustExecute_8cpp_source.html#l00489">MustExecute.cpp:489</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryAnalysis_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryAnalysis.html">llvm::TargetLibraryAnalysis</a></div><div class="ttdoc">Analysis pass providing the TargetLibraryInfo.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00540">TargetLibraryInfo.h:540</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html">llvm::MemoryLocation</a></div><div class="ttdoc">Representation for a specific memory location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00211">MemoryLocation.h:211</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAnalysis_html"><div class="ttname"><a href="classllvm_1_1LoopAnalysis.html">llvm::LoopAnalysis</a></div><div class="ttdoc">Analysis pass that exposes the LoopInfo for a function.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01268">LoopInfo.h:1268</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHITransAddr_html_ac419457dd48749860dfa5b85a43a0637"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#ac419457dd48749860dfa5b85a43a0637">llvm::PHITransAddr::needsPHITranslationFromBlock</a></div><div class="ttdeci">bool needsPHITranslationFromBlock(BasicBlock *BB) const</div><div class="ttdoc">needsPHITranslationFromBlock - Return true if moving from the specified BasicBlock to its predecessor...</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00062">PHITransAddr.h:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a46d29699ee79b3a3d7359278f6bab01c"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a46d29699ee79b3a3d7359278f6bab01c">llvm::DIExpression::fragmentsOverlap</a></div><div class="ttdeci">static bool fragmentsOverlap(const FragmentInfo &amp;A, const FragmentInfo &amp;B)</div><div class="ttdoc">Check if fragments overlap between a pair of FragmentInfos.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02966">DebugInfoMetadata.h:2966</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:27:59 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
