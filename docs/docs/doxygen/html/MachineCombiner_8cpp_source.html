<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/MachineCombiner.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MachineCombiner.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MachineCombiner_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===---- MachineCombiner.cpp - Instcombining on SSA form machine code ----===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// The machine combiner pass uses machine trace metrics to ensure the combined</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// instructions do not lengthen the critical path or the resource depth.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProfileSummaryInfo_8h.html">llvm/Analysis/ProfileSummaryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LazyMachineBlockFrequencyInfo_8h.html">llvm/CodeGen/LazyMachineBlockFrequencyInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineCombinerPattern_8h.html">llvm/CodeGen/MachineCombinerPattern.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunctionPass_8h.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineLoopInfo_8h.html">llvm/CodeGen/MachineLoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineSizeOpts_8h.html">llvm/CodeGen/MachineSizeOpts.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineTraceMetrics_8h.html">llvm/CodeGen/MachineTraceMetrics.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterClassInfo_8h.html">llvm/CodeGen/RegisterClassInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/CodeGen/TargetInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSchedule_8h.html">llvm/CodeGen/TargetSchedule.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="MachineCombiner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   37</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;machine-combiner&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumInstCombined, <span class="stringliteral">&quot;Number of machineinst combined&quot;</span>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<a class="code" href="MachineCombiner_8cpp.html#a35e591f4677ccd9763208c7d9e8fddbe">inc_threshold</a>(<span class="stringliteral">&quot;machine-combiner-inc-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;              <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Incremental depth computation will be used for basic &quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                       <span class="stringliteral">&quot;blocks with more instructions.&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(500));</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachineCombiner_8cpp.html#a90771c5612b2b25a1a1b4c16f47dd23d">dump_intrs</a>(<span class="stringliteral">&quot;machine-combiner-dump-subst-intrs&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Dump all substituted intrs&quot;</span>),</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachineCombiner_8cpp.html#acd299748fdcdaf4dcd7db51208e61765">VerifyPatternOrder</a>(</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="stringliteral">&quot;machine-combiner-verify-pattern-order&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="stringliteral">&quot;Verify that the generated patterns are ordered by increasing latency&quot;</span>),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachineCombiner_8cpp.html#acd299748fdcdaf4dcd7db51208e61765">VerifyPatternOrder</a>(</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="stringliteral">&quot;machine-combiner-verify-pattern-order&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="stringliteral">&quot;Verify that the generated patterns are ordered by increasing latency&quot;</span>),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">class </span>MachineCombiner : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a> {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> *STI;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="structllvm_1_1MCSchedModel.html">MCSchedModel</a> SchedModel;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a> *MLI; <span class="comment">// Current MachineLoopInfo</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="classllvm_1_1MachineTraceMetrics.html">MachineTraceMetrics</a> *Traces;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Ensemble.html">MachineTraceMetrics::Ensemble</a> *TraceEnsemble;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> *MBFI;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> *PSI;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="classllvm_1_1RegisterClassInfo.html">RegisterClassInfo</a> RegClassInfo;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="classllvm_1_1TargetSchedModel.html">TargetSchedModel</a> TSchedModel;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">  /// True if optimizing for code size.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> OptSize;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  MachineCombiner() : <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="namespacellvm.html#ab54aebe123460c9bda40312cd561cc3f">initializeMachineCombinerPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">bool</span> runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> getPassName()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;Machine InstCombiner&quot;</span>; }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordtype">bool</span> combineInstructions(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *getOperandDef(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordtype">bool</span> isTransientMI(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">unsigned</span> getDepth(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Disassembler_8cpp.html#ad5c22fd23fb63f90f0189fa5d2f2522a">getLatency</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Root, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewRoot,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                      <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  improvesCriticalPathLen(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Root,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                          <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                          <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                          <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                          <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                          <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>, <span class="keywordtype">bool</span> SlackIsAccurate);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">bool</span> reduceRegisterPressure(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                              <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">bool</span> preservesResourceLen(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                            <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordtype">void</span> instr2instrSC(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;Instrs,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                     <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const MCSchedClassDesc *&gt;</a> &amp;InstrsSC);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  std::pair&lt;unsigned, unsigned&gt;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  getLatenciesForInstrSequences(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordtype">void</span> verifyPatternOrder(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineCombinerPattern, 16&gt;</a> &amp;Patterns);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;};</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">MachineCombiner::ID</a> = 0;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="namespacellvm.html#a62834da6fd24fb8766861fafa8c4049e">  130</a></span>&#160;<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm.html#a62834da6fd24fb8766861fafa8c4049e">llvm::MachineCombinerID</a> = <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">MachineCombiner::ID</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<a class="code" href="MachineCombiner_8cpp.html#a784c65381eb8b622eecb204b03ea6143">INITIALIZE_PASS_BEGIN</a>(MachineCombiner, <a class="code" href="MachineCombiner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                      <span class="stringliteral">&quot;Machine InstCombiner&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineTraceMetrics.html">MachineTraceMetrics</a>)</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="MachineCombiner_8cpp.html#ad903c86859e845ba6f60fc7e69103537">  136</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(MachineCombiner, <a class="code" href="MachineCombiner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, &quot;<a class="code" href="COFFYAML_8cpp.html#a9dbc9c66cf3908e866b252feca6395a4">Machine</a> <a class="code" href="classllvm_1_1InstCombiner.html">InstCombiner</a>&quot;,</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="MachineCombiner_8cpp.html#a7d4e70a4607c28c7948a2e08c7aef221">  137</a></span>&#160;                    <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keywordtype">void</span> MachineCombiner::getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  AU.setPreservesCFG();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  AU.addPreserved&lt;<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>&gt;();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  AU.addRequired&lt;<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>&gt;();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  AU.addPreserved&lt;<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>&gt;();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  AU.addRequired&lt;<a class="code" href="classllvm_1_1MachineTraceMetrics.html">MachineTraceMetrics</a>&gt;();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  AU.addPreserved&lt;<a class="code" href="classllvm_1_1MachineTraceMetrics.html">MachineTraceMetrics</a>&gt;();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  AU.addRequired&lt;<a class="code" href="classllvm_1_1LazyMachineBlockFrequencyInfoPass.html">LazyMachineBlockFrequencyInfoPass</a>&gt;();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  AU.addRequired&lt;<a class="code" href="classllvm_1_1ProfileSummaryInfoWrapperPass.html">ProfileSummaryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">MachineFunctionPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MachineCombiner::getOperandDef(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefInstr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// We need a virtual register definition.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    DefInstr = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// PHI&#39;s have no depth etc.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">if</span> (DefInstr &amp;&amp; DefInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    DefInstr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">return</span> DefInstr;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">/// Return true if MI is unlikely to generate an actual target instruction.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> MachineCombiner::isTransientMI(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isCopy())</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isTransient();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// If MI is a COPY, check if its src and dst registers can be coalesced.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Dst = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0).getReg();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Src = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getReg();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isFullCopy()) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// If src RC contains super registers of dst RC, it can also be coalesced.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0).getSubReg() || Src.isPhysical() || Dst.isPhysical())</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">auto</span> SrcSub = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getSubReg();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">auto</span> SrcRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">auto</span> DstRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Dst);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#af14d27fb00fd2058e8da7eec1489df19">getMatchingSuperRegClass</a>(SrcRC, DstRC, SrcSub) != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (Src.isPhysical() &amp;&amp; Dst.isPhysical())</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> Src == Dst;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (Src.isVirtual() &amp;&amp; Dst.isVirtual()) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keyword">auto</span> SrcRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keyword">auto</span> DstRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Dst);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> SrcRC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">hasSuperClassEq</a>(DstRC) || SrcRC-&gt;hasSubClassEq(DstRC);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">if</span> (Src.isVirtual())</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Src, Dst);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// Now Src is physical register, Dst is virtual register.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keyword">auto</span> DstRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Dst);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">return</span> DstRC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">contains</a>(Src);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/// Computes depth of instructions in vector \InsInstr.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/// \param InsInstrs is a vector of machine instructions</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// \param InstrIdxForVirtReg is a dense map of virtual register to index</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/// of defining machine instruction in \p InsInstrs</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/// \param BlockTrace is a trace of machine instructions</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">/// \returns Depth of last instruction in \InsInstrs (&quot;NewRoot&quot;)</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;MachineCombiner::getDepth(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                          <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg,</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                          <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 16&gt;</a> InstrDepth;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// For each instruction in the new sequence compute the depth based on the</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="comment">// operands. Use the trace information when possible. For new operands which</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">// are tracked in the InstrIdxForVirtReg map depth is looked up in InstrDepth</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *InstrPtr : InsInstrs) { <span class="comment">// for each Use</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordtype">unsigned</span> IDepth = 0;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : InstrPtr-&gt;operands()) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">// Check for virtual register operand.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">if</span> (!(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()))</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>())</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordtype">unsigned</span> DepthOp = 0;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordtype">unsigned</span> LatencyOp = 0;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;::iterator</a> II =</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">if</span> (II != InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="comment">// Operand is new virtual register not in trace</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(II-&gt;second &lt; InstrDepth.size() &amp;&amp; <span class="stringliteral">&quot;Bad Index&quot;</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefInstr = InsInstrs[II-&gt;second];</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DefInstr &amp;&amp;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;               <span class="stringliteral">&quot;There must be a definition for a new virtual register&quot;</span>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        DepthOp = InstrDepth[II-&gt;second];</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordtype">int</span> DefIdx = DefInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordtype">int</span> UseIdx = InstrPtr-&gt;findRegisterUseOperandIdx(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        LatencyOp = TSchedModel.computeOperandLatency(DefInstr, DefIdx,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                                      InstrPtr, UseIdx);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefInstr = getOperandDef(MO);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">if</span> (DefInstr) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          DepthOp = BlockTrace.<a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a42762e6eab1667bcecdb77017b790040">getInstrCycles</a>(*DefInstr).<a class="code" href="structllvm_1_1MachineTraceMetrics_1_1InstrCycles.html#aecec30fb7bb36797ee2c01f1c977a4b9">Depth</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (!isTransientMI(DefInstr))</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            LatencyOp = TSchedModel.computeOperandLatency(</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                DefInstr, DefInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()),</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                InstrPtr, InstrPtr-&gt;findRegisterUseOperandIdx(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()));</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      IDepth = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(IDepth, DepthOp + LatencyOp);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    InstrDepth.push_back(IDepth);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordtype">unsigned</span> NewRootIdx = InsInstrs.size() - 1;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">return</span> InstrDepth[NewRootIdx];</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">/// Computes instruction latency as max of latency of defined operands.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/// \param Root is a machine instruction that could be replaced by NewRoot.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">/// It is used to compute a more accurate latency information for NewRoot in</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">/// case there is a dependent instruction in the same trace (\p BlockTrace)</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">/// \param NewRoot is the instruction for which the latency is computed</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">/// \param BlockTrace is a trace of machine instructions</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">/// \returns Latency of \p NewRoot</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="Disassembler_8cpp.html#ad5c22fd23fb63f90f0189fa5d2f2522a">MachineCombiner::getLatency</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Root, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewRoot,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                     <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// Check each definition in NewRoot and compute the latency</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordtype">unsigned</span> NewRootLatency = 0;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : NewRoot-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aef0e7e42e45e15f86b2a122b56ab829c">operands</a>()) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// Check for virtual register operand.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (!(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()))</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>())</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// Get the first instruction that uses MO</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator.html">MachineRegisterInfo::reg_iterator</a> RI = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a3e9e89a17faecbca7d2409bf9817973e">reg_begin</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    RI++;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (RI == <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a1d8edf72c1d3e14e4d2396b98e07ad72">reg_end</a>())</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *UseMO = RI-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">unsigned</span> LatencyOp = 0;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (UseMO &amp;&amp; BlockTrace.<a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a5c87181311e69141665082e3fc53d801">isDepInTrace</a>(*Root, *UseMO)) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      LatencyOp = TSchedModel.computeOperandLatency(</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          NewRoot, NewRoot-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()), UseMO,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;          UseMO-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0012f75cbba71c9c29aac592ff3d6400">findRegisterUseOperandIdx</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()));</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      LatencyOp = TSchedModel.computeInstrLatency(NewRoot);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    NewRootLatency = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(NewRootLatency, LatencyOp);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">return</span> NewRootLatency;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">/// The combiner&#39;s goal may differ based on which pattern it is attempting</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">/// to optimize.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bc">  297</a></span>&#160;<span class="comment"></span><span class="keyword">enum class</span> <a class="code" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bc">CombinerObjective</a> {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bcae06840b290f257b1e44a9db3faa52b4e">MustReduceDepth</a>,            <span class="comment">// The data dependency chain must be improved.</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bca1f8b31b63887f1083673b5cc81b729ee">MustReduceRegisterPressure</a>, <span class="comment">// The register pressure must be reduced.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  Default                     <span class="comment">// The critical path must not be lengthened.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;};</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="MachineCombiner_8cpp.html#a3bac2fb6c8c04b008a5fefd3b5f62790">  303</a></span>&#160;<span class="keyword">static</span> <a class="code" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bc">CombinerObjective</a> <a class="code" href="MachineCombiner_8cpp.html#a3bac2fb6c8c04b008a5fefd3b5f62790">getCombinerObjective</a>(<a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// TODO: If C++ ever gets a real enum class, make this part of the</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// MachineCombinerPattern class.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab0223f0bf9a12d3fd09afa713b2de11b">MachineCombinerPattern::REASSOC_AX_BY</a>:</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2b7fb582ff6d25fe2b8d9c60e80b43c6">MachineCombinerPattern::REASSOC_AX_YB</a>:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad689ad83aa6faae6348f55aaad262e86">MachineCombinerPattern::REASSOC_XA_BY</a>:</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa191e03ca7cf52824e4ade93e525f623">MachineCombinerPattern::REASSOC_XA_YB</a>:</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e">MachineCombinerPattern::REASSOC_XY_AMM_BMM</a>:</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a>:</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a0ac798ae63c221cbb32a74a107d06856">MachineCombinerPattern::SUBADD_OP1</a>:</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a88faec6f601613c5f899517ef02db99c">MachineCombinerPattern::SUBADD_OP2</a>:</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a19067a15046bf3f2cd7374ae9245642e">MachineCombinerPattern::FMADD_AX</a>:</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a0403424bb3b8044d80a786d6716d8cdf">MachineCombinerPattern::FMADD_XA</a>:</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1876529aefab91199746098ce3f47a12">MachineCombinerPattern::FMSUB</a>:</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a0d2d8642db61c3bc8c43d52dfb03b484">MachineCombinerPattern::FNMSUB</a>:</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bcae06840b290f257b1e44a9db3faa52b4e">CombinerObjective::MustReduceDepth</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f">MachineCombinerPattern::REASSOC_XY_BCA</a>:</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708">MachineCombinerPattern::REASSOC_XY_BAC</a>:</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bca1f8b31b63887f1083673b5cc81b729ee">CombinerObjective::MustReduceRegisterPressure</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bca7a1920d61156abc05a60135aefe8bc67">CombinerObjective::Default</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">/// Estimate the latency of the new and original instruction sequence by summing</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">/// up the latencies of the inserted and deleted instructions. This assumes</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">/// that the inserted and deleted instructions are dependent instruction chains,</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">/// which might not hold in all cases.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"></span>std::pair&lt;unsigned, unsigned&gt; MachineCombiner::getLatenciesForInstrSequences(</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!InsInstrs.empty() &amp;&amp; <span class="stringliteral">&quot;Only support sequences that insert instrs.&quot;</span>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordtype">unsigned</span> NewRootLatency = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// NewRoot is the last instruction in the \p InsInstrs vector.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewRoot = InsInstrs.back();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; InsInstrs.size() - 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    NewRootLatency += TSchedModel.computeInstrLatency(InsInstrs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  NewRootLatency += <a class="code" href="Disassembler_8cpp.html#ad5c22fd23fb63f90f0189fa5d2f2522a">getLatency</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, NewRoot, BlockTrace);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordtype">unsigned</span> RootLatency = 0;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : DelInstrs)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    RootLatency += TSchedModel.computeInstrLatency(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">return</span> {NewRootLatency, RootLatency};</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="keywordtype">bool</span> MachineCombiner::reduceRegisterPressure(</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// FIXME: for now, we don&#39;t do any check for the register pressure patterns.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// We treat them as always profitable. But we can do better if we make</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">// RegPressureTracker class be aware of TIE attribute. Then we can get an</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">// accurate compare of register pressure with DelInstrs or InsInstrs.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">/// The DAGCombine code sequence ends in MI (Machine Instruction) Root.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">/// The new code sequence ends in MI NewRoot. A necessary condition for the new</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">/// sequence to replace the old sequence is that it cannot lengthen the critical</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">/// path. The definition of &quot;improve&quot; may be restricted by specifying that the</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">/// new path improves the data dependency chain (MustReduceDepth).</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> MachineCombiner::improvesCriticalPathLen(</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Root,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">bool</span> SlackIsAccurate) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// Get depth and latency of NewRoot and Root.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordtype">unsigned</span> NewRootDepth = getDepth(InsInstrs, InstrIdxForVirtReg, BlockTrace);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordtype">unsigned</span> RootDepth = BlockTrace.<a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a42762e6eab1667bcecdb77017b790040">getInstrCycles</a>(*Root).<a class="code" href="structllvm_1_1MachineTraceMetrics_1_1InstrCycles.html#aecec30fb7bb36797ee2c01f1c977a4b9">Depth</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Dependence data for &quot;</span> &lt;&lt; *Root &lt;&lt; <span class="stringliteral">&quot;\tNewRootDepth: &quot;</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                    &lt;&lt; NewRootDepth &lt;&lt; <span class="stringliteral">&quot;\tRootDepth: &quot;</span> &lt;&lt; RootDepth);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// For a transform such as reassociation, the cost equation is</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="comment">// conservatively calculated so that we must improve the depth (data</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="comment">// dependency cycles) in the critical path to proceed with the transform.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">// Being conservative also protects against inaccuracies in the underlying</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// machine trace metrics and CPU models.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachineCombiner_8cpp.html#a3bac2fb6c8c04b008a5fefd3b5f62790">getCombinerObjective</a>(<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) == <a class="code" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bcae06840b290f257b1e44a9db3faa52b4e">CombinerObjective::MustReduceDepth</a>) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\tIt MustReduceDepth &quot;</span>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(NewRootDepth &lt; RootDepth</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                   ? <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t  and it does it\n&quot;</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                   : <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t  but it does NOT do it\n&quot;</span>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">return</span> NewRootDepth &lt; RootDepth;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// A more flexible cost calculation for the critical path includes the slack</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// of the original code sequence. This may allow the transform to proceed</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// even if the instruction depths (data dependency cycles) become worse.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// Account for the latency of the inserted and deleted instructions by</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordtype">unsigned</span> NewRootLatency, RootLatency;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  std::tie(NewRootLatency, RootLatency) =</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      getLatenciesForInstrSequences(*Root, InsInstrs, DelInstrs, BlockTrace);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordtype">unsigned</span> RootSlack = BlockTrace.<a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a4c28dd8965fc19e15f0ed6c7be60acec">getInstrSlack</a>(*Root);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordtype">unsigned</span> NewCycleCount = NewRootDepth + NewRootLatency;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordtype">unsigned</span> OldCycleCount =</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      RootDepth + RootLatency + (SlackIsAccurate ? RootSlack : 0);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n\tNewRootLatency: &quot;</span> &lt;&lt; NewRootLatency</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\tRootLatency: &quot;</span> &lt;&lt; RootLatency &lt;&lt; <span class="stringliteral">&quot;\n\tRootSlack: &quot;</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    &lt;&lt; RootSlack &lt;&lt; <span class="stringliteral">&quot; SlackIsAccurate=&quot;</span> &lt;&lt; SlackIsAccurate</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\n\tNewRootDepth + NewRootLatency = &quot;</span> &lt;&lt; NewCycleCount</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\n\tRootDepth + RootLatency + RootSlack = &quot;</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    &lt;&lt; OldCycleCount;);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(NewCycleCount &lt;= OldCycleCount</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                 ? <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n\t  It IMPROVES PathLen because&quot;</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                 : <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n\t  It DOES NOT improve PathLen because&quot;</span>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n\t\tNewCycleCount = &quot;</span> &lt;&lt; NewCycleCount</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, OldCycleCount = &quot;</span> &lt;&lt; OldCycleCount &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">return</span> NewCycleCount &lt;= OldCycleCount;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">/// helper routine to convert instructions into SC</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> MachineCombiner::instr2instrSC(</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;Instrs,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const MCSchedClassDesc *&gt;</a> &amp;InstrsSC) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *InstrPtr : Instrs) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordtype">unsigned</span> Opc = InstrPtr-&gt;getOpcode();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordtype">unsigned</span> Idx = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(Opc).getSchedClass();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = SchedModel.getSchedClassDesc(Idx);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    InstrsSC.push_back(<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">/// True when the new instructions do not increase resource length</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> MachineCombiner::preservesResourceLen(</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">if</span> (!TSchedModel.hasInstrSchedModel())</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="comment">// Compute current resource length</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">//ArrayRef&lt;const MachineBasicBlock *&gt; MBBarr(MBB);</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector &lt;const MachineBasicBlock *, 1&gt;</a> MBBarr;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  MBBarr.push_back(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordtype">unsigned</span> ResLenBeforeCombine = BlockTrace.<a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a603041a79a3a58a8b0adfdfcd7d27ef6">getResourceLength</a>(MBBarr);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">// Deal with SC rather than Instructions.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const MCSchedClassDesc *, 16&gt;</a> InsInstrsSC;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const MCSchedClassDesc *, 16&gt;</a> DelInstrsSC;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  instr2instrSC(InsInstrs, InsInstrsSC);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  instr2instrSC(DelInstrs, DelInstrsSC);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MCSchedClassDesc *&gt;</a> MSCInsArr{InsInstrsSC};</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MCSchedClassDesc *&gt;</a> MSCDelArr{DelInstrsSC};</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="comment">// Compute new resource length.</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordtype">unsigned</span> ResLenAfterCombine =</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      BlockTrace.<a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a603041a79a3a58a8b0adfdfcd7d27ef6">getResourceLength</a>(MBBarr, MSCInsArr, MSCDelArr);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t\tResource length before replacement: &quot;</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    &lt;&lt; ResLenBeforeCombine</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; and after: &quot;</span> &lt;&lt; ResLenAfterCombine &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      ResLenAfterCombine &lt;=</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      ResLenBeforeCombine + <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;getExtendResourceLenLimit()</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;          ? <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t\t  As result it IMPROVES/PRESERVES Resource Length\n&quot;</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;          : <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t\t  As result it DOES NOT improve/preserve Resource &quot;</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                      <span class="stringliteral">&quot;Length\n&quot;</span>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">return</span> ResLenAfterCombine &lt;=</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;         ResLenBeforeCombine + <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;getExtendResourceLenLimit();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">/// Inserts InsInstrs and deletes DelInstrs. Incrementally updates instruction</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">/// depths if requested.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">/// \param MBB basic block to insert instructions in</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">/// \param MI current machine instruction</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">/// \param InsInstrs new instructions to insert in \p MBB</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">/// \param DelInstrs instruction to delete from \p MBB</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">/// \param TraceEnsemble is a pointer to the machine trace information</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">/// \param RegUnits set of live registers, needed to compute instruction depths</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">/// \param TII is target instruction info, used to call target hook</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">/// \param Pattern is used to call target hook finalizeInsInstrs</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">/// \param IncrementalUpdate if true, compute instruction depths incrementally,</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">///                          otherwise invalidate the trace</span></div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="MachineCombiner_8cpp.html#a85a260ced37418342f96ce6e73479e50">  492</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MachineCombiner_8cpp.html#a85a260ced37418342f96ce6e73479e50">insertDeleteInstructions</a>(</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 16&gt;</a> InsInstrs,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 16&gt;</a> DelInstrs,</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Ensemble.html">MachineTraceMetrics::Ensemble</a> *TraceEnsemble,</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="classllvm_1_1SparseSet.html">SparseSet&lt;LiveRegUnit&gt;</a> &amp;RegUnits, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>, <span class="keywordtype">bool</span> IncrementalUpdate) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// If we want to fix up some placeholder for some target, do it now.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="comment">// We need this because in genAlternativeCodeSequence, we have not decided the</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="comment">// better pattern InsInstrs or DelInstrs, so we don&#39;t want generate some</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">// sideeffect to the function. For example we need to delay the constant pool</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// entry creation here after InsInstrs is selected as better pattern.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// Otherwise the constant pool entry created for InsInstrs will not be deleted</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">// even if InsInstrs is not the better pattern.</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;finalizeInsInstrs(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>, InsInstrs);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *InstrPtr : InsInstrs)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>((<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a>)&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, InstrPtr);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *InstrPtr : DelInstrs) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    InstrPtr-&gt;eraseFromParent();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">// Erase all LiveRegs defined by the removed instruction</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = RegUnits.<a class="code" href="classllvm_1_1SparseSet.html#aba206b8828cec695dbe9fadfe2cddbfa">begin</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != RegUnits.<a class="code" href="classllvm_1_1SparseSet.html#abbb7ba5407bdf1f0c42a4ddbaa492131">end</a>();) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;MI == InstrPtr)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = RegUnits.<a class="code" href="classllvm_1_1SparseSet.html#a5a00f6afdfec487d3165d29e57452b32">erase</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">if</span> (IncrementalUpdate)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *InstrPtr : InsInstrs)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      TraceEnsemble-&gt;<a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3118fc82938c92f70453a0ccf9e7fc70">updateDepth</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, *InstrPtr, RegUnits);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    TraceEnsemble-&gt;<a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a063217bcbb8b81adfdc88feb1a52ddcb">invalidate</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  NumInstCombined++;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">// Check that the difference between original and new latency is decreasing for</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">// later patterns. This helps to discover sub-optimal pattern orderings.</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="keywordtype">void</span> MachineCombiner::verifyPatternOrder(</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineCombinerPattern, 16&gt;</a> &amp;Patterns) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordtype">long</span> PrevLatencyDiff = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;long&gt;::max</a>();</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  (void)PrevLatencyDiff; <span class="comment">// Variable is used in assert only.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : Patterns) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 16&gt;</a> InsInstrs;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 16&gt;</a> DelInstrs;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> InstrIdxForVirtReg;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;genAlternativeCodeSequence(Root, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, InsInstrs, DelInstrs,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                    InstrIdxForVirtReg);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">// Found pattern, but did not generate alternative sequence.</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// This can happen e.g. when an immediate could not be materialized</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// in a single instruction.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (InsInstrs.empty() || !TSchedModel.hasInstrSchedModelOrItineraries())</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordtype">unsigned</span> NewRootLatency, RootLatency;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    std::tie(NewRootLatency, RootLatency) = getLatenciesForInstrSequences(</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        Root, InsInstrs, DelInstrs, TraceEnsemble-&gt;getTrace(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordtype">long</span> CurrentLatencyDiff = ((long)RootLatency) - ((long)NewRootLatency);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurrentLatencyDiff &lt;= PrevLatencyDiff &amp;&amp;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;           <span class="stringliteral">&quot;Current pattern is better than previous pattern.&quot;</span>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    PrevLatencyDiff = CurrentLatencyDiff;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">/// Substitute a slow code sequence with a faster one by</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">/// evaluating instruction combining pattern.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">/// The prototype of such a pattern is MUl + ADD -&gt; MADD. Performs instruction</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">/// combining based on machine trace metrics. Only combine a sequence of</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">/// instructions  when this neither lengthens the critical path nor increases</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">/// resource pressure. When optimizing for codesize always combine when the new</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">/// sequence is shorter.</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> MachineCombiner::combineInstructions(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Combining MBB &quot;</span> &lt;&lt; <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#aedf6cb1135961f41f39dc58ca8576123">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordtype">bool</span> IncrementalUpdate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keyword">auto</span> BlockIter = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  decltype(BlockIter) LastUpdate;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// Check if the block is in a loop.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a> *<a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a> = MLI-&gt;getLoopFor(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">if</span> (!TraceEnsemble)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    TraceEnsemble = Traces-&gt;getEnsemble(<a class="code" href="namespacellvm.html#a08fc515218c080e73909645fecb41ed0ab5435d2dc82cf75225dd888985989f5a">MachineTraceStrategy::TS_MinInstrCount</a>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="classllvm_1_1SparseSet.html">SparseSet&lt;LiveRegUnit&gt;</a> RegUnits;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  RegUnits.<a class="code" href="classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">setUniverse</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a1c0e50e50918b2c91b99e1188d41c901">getNumRegUnits</a>());</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordtype">bool</span> OptForSize = OptSize || <a class="code" href="namespacellvm.html#a3af72f14ea20f2c762c751d2d49e5ea3">llvm::shouldOptimizeForSize</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, PSI, MBFI);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordtype">bool</span> DoRegPressureReduce =</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;shouldReduceRegisterPressure(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, &amp;RegClassInfo);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">while</span> (BlockIter != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *BlockIter++;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineCombinerPattern, 16&gt;</a> Patterns;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">// The motivating example is:</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">//     MUL  Other        MUL_op1 MUL_op2  Other</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">//      \    /               \      |    /</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">//      ADD/SUB      =&gt;        MADD/MSUB</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">//      (=Root)                (=NewRoot)</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// The DAGCombine code always replaced MUL + ADD/SUB by MADD. While this is</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// usually beneficial for code size it unfortunately can hurt performance</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="comment">// when the ADD is on the critical path, but the MUL is not. With the</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="comment">// substitution the MUL becomes part of the critical path (in form of the</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// MADD) and can lengthen it on architectures where the MADD latency is</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="comment">// longer than the ADD latency.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// For each instruction we check if it can be the root of a combiner</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// pattern. Then for each pattern the new code sequence in form of MI is</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="comment">// generated and evaluated. When the efficiency criteria (don&#39;t lengthen</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// critical path, don&#39;t use more resources) is met the new sequence gets</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// hooked up into the basic block before the old sequence is removed.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">// The algorithm does not try to evaluate all patterns and pick the best.</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// This is only an artificial restriction though. In practice there is</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// mostly one pattern, and getMachineCombinerPatterns() can order patterns</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">// based on an internal cost heuristic. If</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// machine-combiner-verify-pattern-order is enabled, all patterns are</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">// checked to ensure later patterns do not provide better latency savings.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;getMachineCombinerPatterns(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Patterns, DoRegPressureReduce))</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachineCombiner_8cpp.html#acd299748fdcdaf4dcd7db51208e61765">VerifyPatternOrder</a>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      verifyPatternOrder(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Patterns);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : Patterns) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 16&gt;</a> InsInstrs;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 16&gt;</a> DelInstrs;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> InstrIdxForVirtReg;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;genAlternativeCodeSequence(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, InsInstrs, DelInstrs,</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                                      InstrIdxForVirtReg);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="comment">// Found pattern, but did not generate alternative sequence.</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="comment">// This can happen e.g. when an immediate could not be materialized</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="comment">// in a single instruction.</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">if</span> (InsInstrs.empty())</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<span class="keywordflow">if</span> (<a class="code" href="MachineCombiner_8cpp.html#a90771c5612b2b25a1a1b4c16f47dd23d">dump_intrs</a>) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\tFor the Pattern (&quot;</span> &lt;&lt; (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;) these instructions could be removed\n&quot;</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> *InstrPtr : DelInstrs)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;          InstrPtr-&gt;print(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), <span class="comment">/*IsStandalone*/</span><span class="keyword">false</span>, <span class="comment">/*SkipOpers*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                          <span class="comment">/*SkipDebugLoc*/</span><span class="keyword">false</span>, <span class="comment">/*AddNewLine*/</span><span class="keyword">true</span>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\tThese instructions could replace the removed ones\n&quot;</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> *InstrPtr : InsInstrs)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;          InstrPtr-&gt;print(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), <span class="comment">/*IsStandalone*/</span><span class="keyword">false</span>, <span class="comment">/*SkipOpers*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                          <span class="comment">/*SkipDebugLoc*/</span><span class="keyword">false</span>, <span class="comment">/*AddNewLine*/</span><span class="keyword">true</span>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      });</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">if</span> (IncrementalUpdate &amp;&amp; LastUpdate != BlockIter) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">// Update depths since the last incremental update.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        TraceEnsemble-&gt;updateDepths(LastUpdate, BlockIter, RegUnits);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        LastUpdate = BlockIter;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">if</span> (DoRegPressureReduce &amp;&amp;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;          <a class="code" href="MachineCombiner_8cpp.html#a3bac2fb6c8c04b008a5fefd3b5f62790">getCombinerObjective</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) ==</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;              <a class="code" href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bca1f8b31b63887f1083673b5cc81b729ee">CombinerObjective::MustReduceRegisterPressure</a>) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">size</a>() &gt; <a class="code" href="MachineCombiner_8cpp.html#a35e591f4677ccd9763208c7d9e8fddbe">inc_threshold</a>) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;          <span class="comment">// Use incremental depth updates for basic blocks above threshold</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;          IncrementalUpdate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;          LastUpdate = BlockIter;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">if</span> (reduceRegisterPressure(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsInstrs, DelInstrs, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;          <span class="comment">// Replace DelInstrs with InsInstrs.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;          <a class="code" href="MachineCombiner_8cpp.html#a85a260ced37418342f96ce6e73479e50">insertDeleteInstructions</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, InsInstrs, DelInstrs, TraceEnsemble,</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                                   RegUnits, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, IncrementalUpdate);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;          Changed |= <span class="keyword">true</span>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;          <span class="comment">// Go back to previous instruction as it may have ILP reassociation</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;          <span class="comment">// opportunity.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;          BlockIter--;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="keywordflow">if</span> (ML &amp;&amp; <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isThroughputPattern(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t Replacing due to throughput pattern in loop\n&quot;</span>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <a class="code" href="MachineCombiner_8cpp.html#a85a260ced37418342f96ce6e73479e50">insertDeleteInstructions</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, InsInstrs, DelInstrs, TraceEnsemble,</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                                 RegUnits, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, IncrementalUpdate);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="comment">// Eagerly stop after the first pattern fires.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OptForSize &amp;&amp; InsInstrs.size() &lt; DelInstrs.size()) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t Replacing due to OptForSize (&quot;</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                          &lt;&lt; InsInstrs.size() &lt;&lt; <span class="stringliteral">&quot; &lt; &quot;</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                          &lt;&lt; DelInstrs.size() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <a class="code" href="MachineCombiner_8cpp.html#a85a260ced37418342f96ce6e73479e50">insertDeleteInstructions</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, InsInstrs, DelInstrs, TraceEnsemble,</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                                 RegUnits, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, IncrementalUpdate);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="comment">// Eagerly stop after the first pattern fires.</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="comment">// For big basic blocks, we only compute the full trace the first time</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="comment">// we hit this. We do not invalidate the trace, but instead update the</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="comment">// instruction depths incrementally.</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="comment">// NOTE: Only the instruction depths up to MI are accurate. All other</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="comment">// trace information is not updated.</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> BlockTrace = TraceEnsemble-&gt;getTrace(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        Traces-&gt;verifyAnalysis();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">if</span> (improvesCriticalPathLen(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, BlockTrace, InsInstrs, DelInstrs,</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                                    InstrIdxForVirtReg, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>,</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                                    !IncrementalUpdate) &amp;&amp;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            preservesResourceLen(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, BlockTrace, InsInstrs, DelInstrs)) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">size</a>() &gt; <a class="code" href="MachineCombiner_8cpp.html#a35e591f4677ccd9763208c7d9e8fddbe">inc_threshold</a>) {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="comment">// Use incremental depth updates for basic blocks above treshold</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            IncrementalUpdate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            LastUpdate = BlockIter;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;          }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          <a class="code" href="MachineCombiner_8cpp.html#a85a260ced37418342f96ce6e73479e50">insertDeleteInstructions</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, InsInstrs, DelInstrs, TraceEnsemble,</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                                   RegUnits, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, IncrementalUpdate);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          <span class="comment">// Eagerly stop after the first pattern fires.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="comment">// Cleanup instructions of the alternative code sequence. There is no</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="comment">// use for them.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *InstrPtr : InsInstrs)</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a63a92e13c7107826b68916401528f35c">deleteMachineInstr</a>(InstrPtr);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordflow">if</span> (Changed &amp;&amp; IncrementalUpdate)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    Traces-&gt;invalidate(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="keywordtype">bool</span> MachineCombiner::runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  STI = &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = STI-&gt;getInstrInfo();</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = STI-&gt;getRegisterInfo();</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  SchedModel = STI-&gt;getSchedModel();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  TSchedModel.init(STI);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  MLI = &amp;getAnalysis&lt;MachineLoopInfo&gt;();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  Traces = &amp;getAnalysis&lt;MachineTraceMetrics&gt;();</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  PSI = &amp;getAnalysis&lt;ProfileSummaryInfoWrapperPass&gt;().getPSI();</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  MBFI = (PSI &amp;&amp; PSI-&gt;hasProfileSummary()) ?</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;         &amp;getAnalysis&lt;LazyMachineBlockFrequencyInfoPass&gt;().getBFI() :</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;         <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  TraceEnsemble = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  OptSize = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a1c455e007178a24dfb18ac0e200ea02c">hasOptSize</a>();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  RegClassInfo.runOnMachineFunction(MF);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; getPassName() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; MF.<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;useMachineCombiner()) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  Skipping pass: Target does not support machine combiner\n&quot;</span>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">// Try to combine instructions.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    Changed |= combineInstructions(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_a85a260ced37418342f96ce6e73479e50"><div class="ttname"><a href="MachineCombiner_8cpp.html#a85a260ced37418342f96ce6e73479e50">insertDeleteInstructions</a></div><div class="ttdeci">static void insertDeleteInstructions(MachineBasicBlock *MBB, MachineInstr &amp;MI, SmallVector&lt; MachineInstr *, 16 &gt; InsInstrs, SmallVector&lt; MachineInstr *, 16 &gt; DelInstrs, MachineTraceMetrics::Ensemble *TraceEnsemble, SparseSet&lt; LiveRegUnit &gt; &amp;RegUnits, const TargetInstrInfo *TII, MachineCombinerPattern Pattern, bool IncrementalUpdate)</div><div class="ttdoc">Inserts InsInstrs and deletes DelInstrs.</div><div class="ttdef"><b>Definition:</b> <a href="MachineCombiner_8cpp_source.html#l00492">MachineCombiner.cpp:492</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="astructllvm_1_1MachineTraceMetrics_1_1InstrCycles_html_aecec30fb7bb36797ee2c01f1c977a4b9"><div class="ttname"><a href="structllvm_1_1MachineTraceMetrics_1_1InstrCycles.html#aecec30fb7bb36797ee2c01f1c977a4b9">llvm::MachineTraceMetrics::InstrCycles::Depth</a></div><div class="ttdeci">unsigned Depth</div><div class="ttdoc">Earliest issue cycle as determined by data dependencies and instruction latencies from the beginning ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8h_source.html#l00254">MachineTraceMetrics.h:254</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">llvm::AArch64PACKey::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00790">AArch64BaseInfo.h:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a063217bcbb8b81adfdc88feb1a52ddcb"><div class="ttname"><a href="classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a063217bcbb8b81adfdc88feb1a52ddcb">llvm::MachineTraceMetrics::Ensemble::invalidate</a></div><div class="ttdeci">void invalidate(const MachineBasicBlock *MBB)</div><div class="ttdoc">Invalidate traces through BadMBB.</div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8cpp_source.html#l00541">MachineTraceMetrics.cpp:541</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_af988c2b4f62506108843a0fdc04b43a2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">llvm::MachineRegisterInfo::getUniqueVRegDef</a></div><div class="ttdeci">MachineInstr * getUniqueVRegDef(Register Reg) const</div><div class="ttdoc">getUniqueVRegDef - Return the unique machine instr that defines the specified virtual register or nul...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00409">MachineRegisterInfo.cpp:409</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html">llvm::MachineFunctionPass</a></div><div class="ttdoc">MachineFunctionPass - This class adapts the FunctionPass interface to allow convenient creation of pa...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8h_source.html#l00030">MachineFunctionPass.h:30</a></div></div>
<div class="ttc" id="aMachineSizeOpts_8h_html"><div class="ttname"><a href="MachineSizeOpts_8h.html">MachineSizeOpts.h</a></div></div>
<div class="ttc" id="aRegisterClassInfo_8h_html"><div class="ttname"><a href="RegisterClassInfo_8h.html">RegisterClassInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a0d2d8642db61c3bc8c43d52dfb03b484"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a0d2d8642db61c3bc8c43d52dfb03b484">llvm::MachineCombinerPattern::FNMSUB</a></div><div class="ttdeci">@ FNMSUB</div></div>
<div class="ttc" id="aclassllvm_1_1SparseSet_html_aba206b8828cec695dbe9fadfe2cddbfa"><div class="ttname"><a href="classllvm_1_1SparseSet.html#aba206b8828cec695dbe9fadfe2cddbfa">llvm::SparseSet::begin</a></div><div class="ttdeci">const_iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00174">SparseSet.h:174</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aTargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708">llvm::MachineCombinerPattern::REASSOC_XY_BAC</a></div><div class="ttdeci">@ REASSOC_XY_BAC</div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_ac1de387e04c966e0753127f4c397b4bca1f8b31b63887f1083673b5cc81b729ee"><div class="ttname"><a href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bca1f8b31b63887f1083673b5cc81b729ee">CombinerObjective::MustReduceRegisterPressure</a></div><div class="ttdeci">@ MustReduceRegisterPressure</div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a1d8edf72c1d3e14e4d2396b98e07ad72"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a1d8edf72c1d3e14e4d2396b98e07ad72">llvm::MachineRegisterInfo::reg_end</a></div><div class="ttdeci">static reg_iterator reg_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00306">MachineRegisterInfo.h:306</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a88faec6f601613c5f899517ef02db99c"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a88faec6f601613c5f899517ef02db99c">llvm::MachineCombinerPattern::SUBADD_OP2</a></div><div class="ttdeci">@ SUBADD_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a1c0e50e50918b2c91b99e1188d41c901"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a1c0e50e50918b2c91b99e1188d41c901">llvm::MCRegisterInfo::getNumRegUnits</a></div><div class="ttdeci">unsigned getNumRegUnits() const</div><div class="ttdoc">Return the number of (native) register units in the target.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00505">MCRegisterInfo.h:505</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html_a864fd57b4304ef933b3281d0ef85a88e"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00167">MachineFunctionPass.cpp:167</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00089">MachineLoopInfo.h:89</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="aMachineTraceMetrics_8h_html"><div class="ttname"><a href="MachineTraceMetrics_8h.html">MachineTraceMetrics.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2b7fb582ff6d25fe2b8d9c60e80b43c6"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2b7fb582ff6d25fe2b8d9c60e80b43c6">llvm::MachineCombinerPattern::REASSOC_AX_YB</a></div><div class="ttdeci">@ REASSOC_AX_YB</div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineTraceMetrics_1_1Trace_html_a42762e6eab1667bcecdb77017b790040"><div class="ttname"><a href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a42762e6eab1667bcecdb77017b790040">llvm::MachineTraceMetrics::Trace::getInstrCycles</a></div><div class="ttdeci">InstrCycles getInstrCycles(const MachineInstr &amp;MI) const</div><div class="ttdoc">Return the depth and height of MI.</div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8h_source.html#l00307">MachineTraceMetrics.h:307</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_a60b6974966381f08079722f2258a0039"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">llvm::TargetRegisterClass::contains</a></div><div class="ttdeci">bool contains(Register Reg) const</div><div class="ttdoc">Return true if the specified register is included in this register class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00096">TargetRegisterInfo.h:96</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a19067a15046bf3f2cd7374ae9245642e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a19067a15046bf3f2cd7374ae9245642e">llvm::MachineCombinerPattern::FMADD_AX</a></div><div class="ttdeci">@ FMADD_AX</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3af72f14ea20f2c762c751d2d49e5ea3"><div class="ttname"><a href="namespacellvm.html#a3af72f14ea20f2c762c751d2d49e5ea3">llvm::shouldOptimizeForSize</a></div><div class="ttdeci">bool shouldOptimizeForSize(const MachineFunction *MF, ProfileSummaryInfo *PSI, const MachineBlockFrequencyInfo *BFI, PGSOQueryType QueryType=PGSOQueryType::Other)</div><div class="ttdoc">Returns true if machine function MF is suggested to be size-optimized based on the profile.</div><div class="ttdef"><b>Definition:</b> <a href="MachineSizeOpts_8cpp_source.html#l00183">MachineSizeOpts.cpp:183</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3118fc82938c92f70453a0ccf9e7fc70"><div class="ttname"><a href="classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3118fc82938c92f70453a0ccf9e7fc70">llvm::MachineTraceMetrics::Ensemble::updateDepth</a></div><div class="ttdeci">void updateDepth(TraceBlockInfo &amp;TBI, const MachineInstr &amp;, SparseSet&lt; LiveRegUnit &gt; &amp;RegUnits)</div><div class="ttdoc">Updates the depth of an machine instruction, given RegUnits.</div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8cpp_source.html#l00796">MachineTraceMetrics.cpp:796</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdoc">TargetInstrInfo - Interface to description of machine instruction set.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00098">TargetInstrInfo.h:98</a></div></div>
<div class="ttc" id="aMachineLoopInfo_8h_html"><div class="ttname"><a href="MachineLoopInfo_8h.html">MachineLoopInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">llvm::PPCISD::SC</a></div><div class="ttdeci">@ SC</div><div class="ttdoc">CHAIN = SC CHAIN, Imm128 - System call.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00420">PPCISelLowering.h:420</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBlockFrequencyInfo_html"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html">llvm::MachineBlockFrequencyInfo</a></div><div class="ttdoc">MachineBlockFrequencyInfo pass uses BlockFrequencyInfoImpl implementation to estimate machine basic b...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8h_source.html#l00033">MachineBlockFrequencyInfo.h:33</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_acd299748fdcdaf4dcd7db51208e61765"><div class="ttname"><a href="MachineCombiner_8cpp.html#acd299748fdcdaf4dcd7db51208e61765">VerifyPatternOrder</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; VerifyPatternOrder(&quot;machine-combiner-verify-pattern-order&quot;, cl::Hidden, cl::desc(&quot;Verify that the generated patterns are ordered by increasing latency&quot;), cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1SparseSet_html_abbb7ba5407bdf1f0c42a4ddbaa492131"><div class="ttname"><a href="classllvm_1_1SparseSet.html#abbb7ba5407bdf1f0c42a4ddbaa492131">llvm::SparseSet::end</a></div><div class="ttdeci">const_iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00175">SparseSet.h:175</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">llvm::MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a></div><div class="ttdeci">@ REASSOC_XMM_AMM_BMM</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a69544ec8658eadeed98245dc37c3a541"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00379">MachineOperand.h:379</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedClassDesc_html"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html">llvm::MCSchedClassDesc</a></div><div class="ttdoc">Summarize the scheduling resources required for an instruction of a particular scheduling class.</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00109">MCSchedule.h:109</a></div></div>
<div class="ttc" id="aDisassembler_8cpp_html_ad5c22fd23fb63f90f0189fa5d2f2522a"><div class="ttname"><a href="Disassembler_8cpp.html#ad5c22fd23fb63f90f0189fa5d2f2522a">getLatency</a></div><div class="ttdeci">static int getLatency(LLVMDisasmContext *DC, const MCInst &amp;Inst)</div><div class="ttdoc">Gets latency information for Inst, based on DC information.</div><div class="ttdef"><b>Definition:</b> <a href="Disassembler_8cpp_source.html#l00194">Disassembler.cpp:194</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a63a92e13c7107826b68916401528f35c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a63a92e13c7107826b68916401528f35c">llvm::MachineFunction::deleteMachineInstr</a></div><div class="ttdeci">void deleteMachineInstr(MachineInstr *MI)</div><div class="ttdoc">DeleteMachineInstr - Delete the given MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00425">MachineFunction.cpp:425</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aMachineCombinerPattern_8h_html"><div class="ttname"><a href="MachineCombinerPattern_8h.html">MachineCombinerPattern.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_abee1c3236731101b249f6eeffd8cd7ba"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">llvm::TargetRegisterClass::hasSuperClassEq</a></div><div class="ttdeci">bool hasSuperClassEq(const TargetRegisterClass *RC) const</div><div class="ttdoc">Returns true if RC is a super-class of or equal to this class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00141">TargetRegisterInfo.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_af14d27fb00fd2058e8da7eec1489df19"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#af14d27fb00fd2058e8da7eec1489df19">llvm::TargetRegisterInfo::getMatchingSuperRegClass</a></div><div class="ttdeci">virtual const TargetRegisterClass * getMatchingSuperRegClass(const TargetRegisterClass *A, const TargetRegisterClass *B, unsigned Idx) const</div><div class="ttdoc">Return a subclass of the specified register class A so that each register in it has a sub-register of...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00303">TargetRegisterInfo.cpp:303</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineTraceMetrics_1_1Trace_html"><div class="ttname"><a href="classllvm_1_1MachineTraceMetrics_1_1Trace.html">llvm::MachineTraceMetrics::Trace</a></div><div class="ttdoc">A trace represents a plausible sequence of executed basic blocks that passes through the current basi...</div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8h_source.html#l00264">MachineTraceMetrics.h:264</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_ac1de387e04c966e0753127f4c397b4bca7a1920d61156abc05a60135aefe8bc67"><div class="ttname"><a href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bca7a1920d61156abc05a60135aefe8bc67">CombinerObjective::Default</a></div><div class="ttdeci">@ Default</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_acad8fe90886f92eabced0c2f9bd0e6f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">llvm::MachineOperand::getParent</a></div><div class="ttdeci">MachineInstr * getParent()</div><div class="ttdoc">getParent - Return the instruction that this operand belongs to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00243">MachineOperand.h:243</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryInfo_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryInfo.html">llvm::ProfileSummaryInfo</a></div><div class="ttdoc">Analysis providing profile information.</div><div class="ttdef"><b>Definition:</b> <a href="ProfileSummaryInfo_8h_source.html#l00040">ProfileSummaryInfo.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineTraceMetrics_1_1Trace_html_a5c87181311e69141665082e3fc53d801"><div class="ttname"><a href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a5c87181311e69141665082e3fc53d801">llvm::MachineTraceMetrics::Trace::isDepInTrace</a></div><div class="ttdeci">bool isDepInTrace(const MachineInstr &amp;DefMI, const MachineInstr &amp;UseMI) const</div><div class="ttdoc">A dependence is useful if the basic block of the defining instruction is part of the trace of the use...</div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8cpp_source.html#l01288">MachineTraceMetrics.cpp:1288</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aa363afffca4fc13a709673936b47fe33"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(Register Reg) const</div><div class="ttdoc">Return the register class of the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00661">MachineRegisterInfo.h:661</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_aebafd86dde59b5a05b22e8720e808a9d"><div class="ttname"><a href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">llvm::Register::isVirtual</a></div><div class="ttdeci">bool isVirtual() const</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00091">Register.h:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01410">CommandLine.h:1410</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_ac1de387e04c966e0753127f4c397b4bc"><div class="ttname"><a href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bc">CombinerObjective</a></div><div class="ttdeci">CombinerObjective</div><div class="ttdoc">The combiner's goal may differ based on which pattern it is attempting to optimize.</div><div class="ttdef"><b>Definition:</b> <a href="MachineCombiner_8cpp_source.html#l00297">MachineCombiner.cpp:297</a></div></div>
<div class="ttc" id="aLazyMachineBlockFrequencyInfo_8h_html"><div class="ttname"><a href="LazyMachineBlockFrequencyInfo_8h.html">LazyMachineBlockFrequencyInfo.h</a></div><div class="ttdoc">===- LazyMachineBlockFrequencyInfo.h - Lazy Block Frequency -*- C++ -*===//</div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoop_html"><div class="ttname"><a href="classllvm_1_1MachineLoop.html">llvm::MachineLoop</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00044">MachineLoopInfo.h:44</a></div></div>
<div class="ttc" id="aTargetSchedule_8h_html"><div class="ttname"><a href="TargetSchedule_8h.html">TargetSchedule.h</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_a35e591f4677ccd9763208c7d9e8fddbe"><div class="ttname"><a href="MachineCombiner_8cpp.html#a35e591f4677ccd9763208c7d9e8fddbe">inc_threshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; inc_threshold(&quot;machine-combiner-inc-threshold&quot;, cl::Hidden, cl::desc(&quot;Incremental depth computation will be used for basic &quot; &quot;blocks with more instructions.&quot;), cl::init(500))</div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adf4e7878fc0b3b8dcde545178564190d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">llvm::DenseMapBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00110">DenseMap.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSchedModel_html"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html">llvm::TargetSchedModel</a></div><div class="ttdoc">Provide an instruction scheduling machine model to CodeGen passes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8h_source.html#l00030">TargetSchedule.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aProfileSummaryInfo_8h_html"><div class="ttname"><a href="ProfileSummaryInfo_8h.html">ProfileSummaryInfo.h</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; unsigned, unsigned &gt;</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryInfoWrapperPass.html">llvm::ProfileSummaryInfoWrapperPass</a></div><div class="ttdoc">An analysis pass based on legacy pass manager to deliver ProfileSummaryInfo.</div><div class="ttdef"><b>Definition:</b> <a href="ProfileSummaryInfo_8h_source.html#l00194">ProfileSummaryInfo.h:194</a></div></div>
<div class="ttc" id="aMachineFunctionPass_8h_html"><div class="ttname"><a href="MachineFunctionPass_8h.html">MachineFunctionPass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseSet_html_ac5c4065b01268eb6764867041cd1d96c"><div class="ttname"><a href="classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">llvm::SparseSet::setUniverse</a></div><div class="ttdeci">void setUniverse(unsigned U)</div><div class="ttdoc">setUniverse - Set the universe size which determines the largest key the set can hold.</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00155">SparseSet.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="anamespacellvm_html_a08fc515218c080e73909645fecb41ed0ab5435d2dc82cf75225dd888985989f5a"><div class="ttname"><a href="namespacellvm.html#a08fc515218c080e73909645fecb41ed0ab5435d2dc82cf75225dd888985989f5a">llvm::MachineTraceStrategy::TS_MinInstrCount</a></div><div class="ttdeci">@ TS_MinInstrCount</div><div class="ttdoc">Select the trace through a block that has the fewest instructions.</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a3d142c9e7c066059e15232c56dec9e2e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">llvm::MachineFunction::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">getName - Return the name of the corresponding LLVM function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00582">MachineFunction.cpp:582</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab54aebe123460c9bda40312cd561cc3f"><div class="ttname"><a href="namespacellvm.html#ab54aebe123460c9bda40312cd561cc3f">llvm::initializeMachineCombinerPass</a></div><div class="ttdeci">void initializeMachineCombinerPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_adbff55f335d303816547f35eb6edb948"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">llvm::MachineBasicBlock::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00279">MachineBasicBlock.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterClassInfo_html"><div class="ttname"><a href="classllvm_1_1RegisterClassInfo.html">llvm::RegisterClassInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterClassInfo_8h_source.html#l00029">RegisterClassInfo.h:29</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4e21760f681d6f97f95c8414e7b83ea5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const</div><div class="ttdoc">Return the MachineFunction containing this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00265">MachineBasicBlock.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineTraceMetrics_1_1Trace_html_a603041a79a3a58a8b0adfdfcd7d27ef6"><div class="ttname"><a href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a603041a79a3a58a8b0adfdfcd7d27ef6">llvm::MachineTraceMetrics::Trace::getResourceLength</a></div><div class="ttdeci">unsigned getResourceLength(ArrayRef&lt; const MachineBasicBlock * &gt; Extrablocks=std::nullopt, ArrayRef&lt; const MCSchedClassDesc * &gt; ExtraInstrs=std::nullopt, ArrayRef&lt; const MCSchedClassDesc * &gt; RemoveInstrs=std::nullopt) const</div><div class="ttdoc">Return the resource length of the trace.</div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8cpp_source.html#l01234">MachineTraceMetrics.cpp:1234</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ad43bf1af480830a4d6604e969e3f38e9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">llvm::MachineInstr::isPHI</a></div><div class="ttdeci">bool isPHI() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01308">MachineInstr.h:1308</a></div></div>
<div class="ttc" id="aInlineOrder_8cpp_html_a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218"><div class="ttname"><a href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">InlinePriorityMode::ML</a></div><div class="ttdeci">@ ML</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab0223f0bf9a12d3fd09afa713b2de11b"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab0223f0bf9a12d3fd09afa713b2de11b">llvm::MachineCombinerPattern::REASSOC_AX_BY</a></div><div class="ttdeci">@ REASSOC_AX_BY</div></div>
<div class="ttc" id="aclassllvm_1_1LazyMachineBlockFrequencyInfoPass_html"><div class="ttname"><a href="classllvm_1_1LazyMachineBlockFrequencyInfoPass.html">llvm::LazyMachineBlockFrequencyInfoPass</a></div><div class="ttdoc">This is an alternative analysis pass to MachineBlockFrequencyInfo.</div><div class="ttdef"><b>Definition:</b> <a href="LazyMachineBlockFrequencyInfo_8h_source.html#l00037">LazyMachineBlockFrequencyInfo.h:37</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f">llvm::MachineCombinerPattern::REASSOC_XY_BCA</a></div><div class="ttdeci">@ REASSOC_XY_BCA</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a0ac798ae63c221cbb32a74a107d06856"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a0ac798ae63c221cbb32a74a107d06856">llvm::MachineCombinerPattern::SUBADD_OP1</a></div><div class="ttdeci">@ SUBADD_OP1</div></div>
<div class="ttc" id="ainclude_2llvm_2Support_2CMakeLists_8txt_html_aef9367eb0b7430eaf70b1f2725488f2a"><div class="ttname"><a href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a></div><div class="ttdeci">if(llvm_vc STREQUAL &quot;&quot;) set(fake_version_inc &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Support_2CMakeLists_8txt_source.html#l00014">CMakeLists.txt:14</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a75eb135014670ce946e78739cdc9b51b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00384">MachineOperand.h:384</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html">llvm::TargetSubtargetInfo</a></div><div class="ttdoc">TargetSubtargetInfo - Generic base class for all target subtargets.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00062">TargetSubtargetInfo.h:62</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a1c455e007178a24dfb18ac0e200ea02c"><div class="ttname"><a href="classllvm_1_1Function.html#a1c455e007178a24dfb18ac0e200ea02c">llvm::Function::hasOptSize</a></div><div class="ttdeci">bool hasOptSize() const</div><div class="ttdoc">Optimize this function for size (-Os) or minimum size (-Oz).</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00644">Function.h:644</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_a3bac2fb6c8c04b008a5fefd3b5f62790"><div class="ttname"><a href="MachineCombiner_8cpp.html#a3bac2fb6c8c04b008a5fefd3b5f62790">getCombinerObjective</a></div><div class="ttdeci">static CombinerObjective getCombinerObjective(MachineCombinerPattern P)</div><div class="ttdef"><b>Definition:</b> <a href="MachineCombiner_8cpp_source.html#l00303">MachineCombiner.cpp:303</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_a784c65381eb8b622eecb204b03ea6143"><div class="ttname"><a href="MachineCombiner_8cpp.html#a784c65381eb8b622eecb204b03ea6143">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(MachineCombiner, DEBUG_TYPE, &quot;Machine InstCombiner&quot;, false, false) INITIALIZE_PASS_END(MachineCombiner</div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a3e9e89a17faecbca7d2409bf9817973e"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a3e9e89a17faecbca7d2409bf9817973e">llvm::MachineRegisterInfo::reg_begin</a></div><div class="ttdeci">reg_iterator reg_begin(Register RegNo) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00303">MachineRegisterInfo.h:303</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineTraceMetrics_1_1Ensemble_html"><div class="ttname"><a href="classllvm_1_1MachineTraceMetrics_1_1Ensemble.html">llvm::MachineTraceMetrics::Ensemble</a></div><div class="ttdoc">A trace ensemble is a collection of traces selected using the same strategy, for example 'minimum res...</div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8h_source.html#l00330">MachineTraceMetrics.h:330</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e">llvm::MachineCombinerPattern::REASSOC_XY_AMM_BMM</a></div><div class="ttdeci">@ REASSOC_XY_AMM_BMM</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3435a2381e60e842e915f85c931b7dde"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">llvm::MachineBasicBlock::insert</a></div><div class="ttdeci">instr_iterator insert(instr_iterator I, MachineInstr *M)</div><div class="ttdoc">Insert MI into the instruction list before I, possibly inside a bundle.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01336">MachineBasicBlock.cpp:1336</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="MachineCombiner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="MachineCombiner_8cpp_source.html#l00037">MachineCombiner.cpp:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseSet_html_a5a00f6afdfec487d3165d29e57452b32"><div class="ttname"><a href="classllvm_1_1SparseSet.html#a5a00f6afdfec487d3165d29e57452b32">llvm::SparseSet::erase</a></div><div class="ttdeci">iterator erase(iterator I)</div><div class="ttdoc">erase - Erases an existing element identified by a valid iterator.</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00288">SparseSet.h:288</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedModel_html"><div class="ttname"><a href="structllvm_1_1MCSchedModel.html">llvm::MCSchedModel</a></div><div class="ttdoc">Machine model for scheduling, bundling, and heuristics.</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00244">MCSchedule.h:244</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombiner_html"><div class="ttname"><a href="classllvm_1_1InstCombiner.html">llvm::InstCombiner</a></div><div class="ttdoc">The core instruction combiner logic.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombiner_8h_source.html#l00045">InstCombiner.h:45</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_a90771c5612b2b25a1a1b4c16f47dd23d"><div class="ttname"><a href="MachineCombiner_8cpp.html#a90771c5612b2b25a1a1b4c16f47dd23d">dump_intrs</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; dump_intrs(&quot;machine-combiner-dump-subst-intrs&quot;, cl::Hidden, cl::desc(&quot;Dump all substituted intrs&quot;), cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1Pattern_html"><div class="ttname"><a href="classllvm_1_1Pattern.html">llvm::Pattern</a></div><div class="ttdef"><b>Definition:</b> <a href="FileCheckImpl_8h_source.html#l00614">FileCheckImpl.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a23fcb3c9cc9602657a3de8aa9ed0457d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">llvm::MachineInstr::findRegisterDefOperandIdx</a></div><div class="ttdeci">int findRegisterDefOperandIdx(Register Reg, bool isDead=false, bool Overlap=false, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Returns the operand index that is a def of the specified register or -1 if it is not found.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01049">MachineInstr.cpp:1049</a></div></div>
<div class="ttc" id="aCOFFYAML_8cpp_html_a9dbc9c66cf3908e866b252feca6395a4"><div class="ttname"><a href="COFFYAML_8cpp.html#a9dbc9c66cf3908e866b252feca6395a4">Machine</a></div><div class="ttdeci">COFF::MachineTypes Machine</div><div class="ttdef"><b>Definition:</b> <a href="COFFYAML_8cpp_source.html#l00370">COFFYAML.cpp:370</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineTraceMetrics_1_1Trace_html_a4c28dd8965fc19e15f0ed6c7be60acec"><div class="ttname"><a href="classllvm_1_1MachineTraceMetrics_1_1Trace.html#a4c28dd8965fc19e15f0ed6c7be60acec">llvm::MachineTraceMetrics::Trace::getInstrSlack</a></div><div class="ttdeci">unsigned getInstrSlack(const MachineInstr &amp;MI) const</div><div class="ttdoc">Return the slack of MI.</div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8cpp_source.html#l01184">MachineTraceMetrics.cpp:1184</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ad689ad83aa6faae6348f55aaad262e86"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad689ad83aa6faae6348f55aaad262e86">llvm::MachineCombinerPattern::REASSOC_XA_BY</a></div><div class="ttdeci">@ REASSOC_XA_BY</div></div>
<div class="ttc" id="anamespacellvm_html_a62834da6fd24fb8766861fafa8c4049e"><div class="ttname"><a href="namespacellvm.html#a62834da6fd24fb8766861fafa8c4049e">llvm::MachineCombinerID</a></div><div class="ttdeci">char &amp; MachineCombinerID</div><div class="ttdoc">This pass performs instruction combining using trace metrics to estimate critical-path and resource d...</div><div class="ttdef"><b>Definition:</b> <a href="MachineCombiner_8cpp_source.html#l00130">MachineCombiner.cpp:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_1_1defusechain__iterator_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator.html">llvm::MachineRegisterInfo::defusechain_iterator</a></div><div class="ttdoc">reg_begin/reg_end - Provide iteration support to walk over all definitions and uses of a register wit...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00288">MachineRegisterInfo.h:288</a></div></div>
<div class="ttc" id="aMachineCombiner_8cpp_html_ac1de387e04c966e0753127f4c397b4bcae06840b290f257b1e44a9db3faa52b4e"><div class="ttname"><a href="MachineCombiner_8cpp.html#ac1de387e04c966e0753127f4c397b4bcae06840b290f257b1e44a9db3faa52b4e">CombinerObjective::MustReduceDepth</a></div><div class="ttdeci">@ MustReduceDepth</div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; MachineInstr * &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseSet_html"><div class="ttname"><a href="classllvm_1_1SparseSet.html">llvm::SparseSet</a></div><div class="ttdoc">SparseSet - Fast set implementation for objects that can be identified by small unsigned keys.</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00124">SparseSet.h:124</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa191e03ca7cf52824e4ade93e525f623"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa191e03ca7cf52824e4ade93e525f623">llvm::MachineCombinerPattern::REASSOC_XA_YB</a></div><div class="ttdeci">@ REASSOC_XA_YB</div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdoc">DominatorTree Class - Concrete subclass of DominatorTreeBase that is used to compute a normal dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00051">MachineDominators.h:51</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a1876529aefab91199746098ce3f47a12"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1876529aefab91199746098ce3f47a12">llvm::MachineCombinerPattern::FMSUB</a></div><div class="ttdeci">@ FMSUB</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineTraceMetrics_html"><div class="ttname"><a href="classllvm_1_1MachineTraceMetrics.html">llvm::MachineTraceMetrics</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineTraceMetrics_8h_source.html#l00096">MachineTraceMetrics.h:96</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aef0e7e42e45e15f86b2a122b56ab829c"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aef0e7e42e45e15f86b2a122b56ab829c">llvm::MachineInstr::operands</a></div><div class="ttdeci">iterator_range&lt; mop_iterator &gt; operands()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00641">MachineInstr.h:641</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0012f75cbba71c9c29aac592ff3d6400"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0012f75cbba71c9c29aac592ff3d6400">llvm::MachineInstr::findRegisterUseOperandIdx</a></div><div class="ttdeci">int findRegisterUseOperandIdx(Register Reg, bool isKill=false, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Returns the operand index that is a use of the specific register or -1 if it is not found.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01000">MachineInstr.cpp:1000</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_aedf6cb1135961f41f39dc58ca8576123"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aedf6cb1135961f41f39dc58ca8576123">llvm::MachineBasicBlock::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return the name of the corresponding LLVM basic block, or an empty string.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00316">MachineBasicBlock.cpp:316</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="aMachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">llvm::MachineCombinerPattern</a></div><div class="ttdeci">MachineCombinerPattern</div><div class="ttdoc">These are instruction patterns matched by the machine combiner pass.</div><div class="ttdef"><b>Definition:</b> <a href="MachineCombinerPattern_8h_source.html#l00020">MachineCombinerPattern.h:20</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a0403424bb3b8044d80a786d6716d8cdf"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a0403424bb3b8044d80a786d6716d8cdf">llvm::MachineCombinerPattern::FMADD_XA</a></div><div class="ttdeci">@ FMADD_XA</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:54:38 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
