<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Instrumentation/HWAddressSanitizer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_f844fca3b2393802daa002d01dc8623e.html">Instrumentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">HWAddressSanitizer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="HWAddressSanitizer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- HWAddressSanitizer.cpp - detector of uninitialized reads -------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// This file is a part of HWAddressSanitizer, an address basic correctness</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// checker based on tagged addressing.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="HWAddressSanitizer_8h.html">llvm/Transforms/Instrumentation/HWAddressSanitizer.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MapVector_8h.html">llvm/ADT/MapVector.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringExtras_8h.html">llvm/ADT/StringExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalsModRef_8h.html">llvm/Analysis/GlobalsModRef.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PostDominators_8h.html">llvm/Analysis/PostDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StackSafetyAnalysis_8h.html">llvm/Analysis/StackSafetyAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dwarf_8h.html">llvm/BinaryFormat/Dwarf.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BinaryFormat_2ELF_8h.html">llvm/BinaryFormat/ELF.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineAsm_8h.html">llvm/IR/InlineAsm.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/IR/InstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MDBuilder_8h.html">llvm/IR/MDBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="NoFolder_8h.html">llvm/IR/NoFolder.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Triple_8h.html">llvm/TargetParser/Triple.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AddressSanitizerCommon_8h.html">llvm/Transforms/Instrumentation/AddressSanitizerCommon.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryTaggingSupport_8h.html">llvm/Transforms/Utils/MemoryTaggingSupport.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleUtils_8h.html">llvm/Transforms/Utils/ModuleUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PromoteMemToReg_8h.html">llvm/Transforms/Utils/PromoteMemToReg.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   62</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;hwasan&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#a1c31c159d77a06642f58c0cb4945609a">   64</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="HWAddressSanitizer_8cpp.html#a1c31c159d77a06642f58c0cb4945609a">kHwasanModuleCtorName</a>[] = <span class="stringliteral">&quot;hwasan.module_ctor&quot;</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#a2811658bf492018012fe3c964e829e1c">   65</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="HWAddressSanitizer_8cpp.html#a2811658bf492018012fe3c964e829e1c">kHwasanNoteName</a>[] = <span class="stringliteral">&quot;hwasan.note&quot;</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#ae445ac6827771eafd730e61f976cba44">   66</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="HWAddressSanitizer_8cpp.html#ae445ac6827771eafd730e61f976cba44">kHwasanInitName</a>[] = <span class="stringliteral">&quot;__hwasan_init&quot;</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#aefbce25f9dafaefce652e506afd757f0">   67</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="HWAddressSanitizer_8cpp.html#aefbce25f9dafaefce652e506afd757f0">kHwasanPersonalityThunkName</a>[] = <span class="stringliteral">&quot;__hwasan_personality_thunk&quot;</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#ad1f4c8c76d56f98c85a737865dde06a1">   69</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="HWAddressSanitizer_8cpp.html#ad1f4c8c76d56f98c85a737865dde06a1">kHwasanShadowMemoryDynamicAddress</a>[] =</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="stringliteral">&quot;__hwasan_shadow_memory_dynamic_address&quot;</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">// Accesses sizes are powers of two: 1, 2, 4, 8, 16.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#aa62a4d0672bab180dd339cda25b23b2e">   73</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="HWAddressSanitizer_8cpp.html#aa62a4d0672bab180dd339cda25b23b2e">kNumberOfAccessSizes</a> = 5;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#a174914c130f5512b50cf6e97e4de1634">   75</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="HWAddressSanitizer_8cpp.html#a174914c130f5512b50cf6e97e4de1634">kDefaultShadowScale</a> = 4;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#a8d1135f2ee91e5d486647a37f8074dcc">   76</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a8d1135f2ee91e5d486647a37f8074dcc">kDynamicShadowSentinel</a> =</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint64_t&gt;::max</a>();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#a385738871b08f6474945de0b29bf0aa6">   79</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="HWAddressSanitizer_8cpp.html#a385738871b08f6474945de0b29bf0aa6">kShadowBaseAlignment</a> = 32;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#ab9841b7c8237a0ee466396c83898a792">ClMemoryAccessCallbackPrefix</a>(<span class="stringliteral">&quot;hwasan-memory-access-callback-prefix&quot;</span>,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                 <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Prefix for memory access callbacks&quot;</span>),</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                 <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="stringliteral">&quot;__hwasan_&quot;</span>));</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#af17c6d5145c1ec0696b3ac359f043924">ClKasanMemIntrinCallbackPrefix</a>(</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="stringliteral">&quot;hwasan-kernel-mem-intrinsic-prefix&quot;</span>,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use prefix for memory intrinsics in KASAN mode&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a278d6962636785caf07bbdd2a871d169">ClInstrumentWithCalls</a>(</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="stringliteral">&quot;hwasan-instrument-with-calls&quot;</span>,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument reads and writes with callbacks&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#abbf16889b91d2e9e8b3143ee3444b74b">ClInstrumentReads</a>(<span class="stringliteral">&quot;hwasan-instrument-reads&quot;</span>,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument read instructions&quot;</span>),</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                       <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#a462b3038c84bd047f51393e7260fb2bb">ClInstrumentWrites</a>(<span class="stringliteral">&quot;hwasan-instrument-writes&quot;</span>,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument write instructions&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                       <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#adc3229fd9f767fab6062b376699e0bef">ClInstrumentAtomics</a>(</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="stringliteral">&quot;hwasan-instrument-atomics&quot;</span>,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument atomic instructions (rmw, cmpxchg)&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a73e4679237297aae9d38a1cb3cd1e531">ClInstrumentByval</a>(<span class="stringliteral">&quot;hwasan-instrument-byval&quot;</span>,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument byval arguments&quot;</span>),</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                       <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#ad37d4ac24a9a02e5389b88cd8f3f510f">ClRecover</a>(<span class="stringliteral">&quot;hwasan-recover&quot;</span>,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;              <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable recovery mode (continue-after-error).&quot;</span>),</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;              <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#afa9ba37eaabfff0faababd51799fb1d0">ClInstrumentStack</a>(<span class="stringliteral">&quot;hwasan-instrument-stack&quot;</span>,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument stack (allocas)&quot;</span>),</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                       <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#ae171664226839e12fd57cfcc3eef1d9c">ClUseStackSafety</a>(<span class="stringliteral">&quot;hwasan-use-stack-safety&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                     <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use Stack Safety analysis results&quot;</span>),</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                     <a class="code" href="namespacellvm_1_1cl.html#a492234b10e0c5918d72a3a15a6f0fa6eaee3d7c816c2a04f9f49c4aa194ef25b0">cl::Optional</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;size_t&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#ae304cb1baf6480df1ca6fb9c40b4e3c5">ClMaxLifetimes</a>(</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="stringliteral">&quot;hwasan-max-lifetimes-for-alloca&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(3),</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;How many lifetime ends to handle for a single alloca.&quot;</span>),</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a492234b10e0c5918d72a3a15a6f0fa6eaee3d7c816c2a04f9f49c4aa194ef25b0">cl::Optional</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#ad7b3b708edf7fb736e7ed7247e575b1c">ClUseAfterScope</a>(<span class="stringliteral">&quot;hwasan-use-after-scope&quot;</span>,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;detect use after scope within function&quot;</span>),</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a47e83d1c9a8bfdc6fa44cbc90b1c3105">ClUARRetagToZero</a>(</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="stringliteral">&quot;hwasan-uar-retag-to-zero&quot;</span>,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Clear alloca tags before returning from the function to allow &quot;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;             <span class="stringliteral">&quot;non-instrumented and instrumented function calls mix. When set &quot;</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;             <span class="stringliteral">&quot;to false, allocas are retagged before returning from the &quot;</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;             <span class="stringliteral">&quot;function to detect use after return.&quot;</span>),</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a7fb9abb83421b687d0c38aa4171d5290">ClGenerateTagsWithCalls</a>(</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="stringliteral">&quot;hwasan-generate-tags-with-calls&quot;</span>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;generate new tags with runtime library calls&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a446d047d4c1a7de22211d0dbaaca05be">ClGlobals</a>(<span class="stringliteral">&quot;hwasan-globals&quot;</span>, <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Instrument globals&quot;</span>),</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                               <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a5cbacf9547fbfa00de1dc270ce37b00a">ClMatchAllTag</a>(</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="stringliteral">&quot;hwasan-match-all-tag&quot;</span>,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;don&#39;t report bad accesses via pointers with this tag&quot;</span>),</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(-1));</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#a809c1e1b3869fc5d463cb84c1741aeef">ClEnableKhwasan</a>(<span class="stringliteral">&quot;hwasan-kernel&quot;</span>,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable KernelHWAddressSanitizer instrumentation&quot;</span>),</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">// These flags allow to change the shadow mapping and control how shadow memory</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">// is accessed. The shadow mapping looks like:</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">//    Shadow = (Mem &gt;&gt; scale) + offset</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;uint64_t&gt;</a></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#aadb09e5bf8720e43db4383bb7fcdcea1">ClMappingOffset</a>(<span class="stringliteral">&quot;hwasan-mapping-offset&quot;</span>,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;HWASan shadow mapping offset [EXPERIMENTAL]&quot;</span>),</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(0));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#a4db394865ada639a359a041ade63e1be">ClWithIfunc</a>(<span class="stringliteral">&quot;hwasan-with-ifunc&quot;</span>,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Access dynamic shadow through an ifunc global on &quot;</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                         <span class="stringliteral">&quot;platforms that support this&quot;</span>),</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#ab6052bee66799292fb55707a59bbd553">ClWithTls</a>(</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="stringliteral">&quot;hwasan-with-tls&quot;</span>,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Access dynamic shadow through an thread-local pointer on &quot;</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;             <span class="stringliteral">&quot;platforms that support this&quot;</span>),</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">// Mode for selecting how to insert frame record info into the stack ring</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">// buffer.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2">  188</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2">RecordStackHistoryMode</a> {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// Do not record frame record info.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">  190</a></span>&#160;  <a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">none</a>,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// Insert instructions into the prologue for storing into the stack ring</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// buffer directly.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2af12bc59169afda2918e9f23e3501c2b6">  194</a></span>&#160;  <a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2af12bc59169afda2918e9f23e3501c2b6">instr</a>,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// Add a call to __hwasan_add_frame_record in the runtime.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ad9dbfb96b7805fecf168bf553c423cce">  197</a></span>&#160;  <a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ad9dbfb96b7805fecf168bf553c423cce">libcall</a>,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;};</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;RecordStackHistoryMode&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a8a1c10b6cef65bd4c3990c94c8bf76fb">ClRecordStackHistory</a>(</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="stringliteral">&quot;hwasan-record-stack-history&quot;</span>,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Record stack frames with tagged allocations in a thread-local &quot;</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;             <span class="stringliteral">&quot;ring buffer&quot;</span>),</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">cl::values</a>(<a class="code" href="CommandLine_8h.html#a77bbe78f3197b891c5a661a5b6334069">clEnumVal</a>(<a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">none</a>, <span class="stringliteral">&quot;Do not record stack ring history&quot;</span>),</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;               <a class="code" href="CommandLine_8h.html#a77bbe78f3197b891c5a661a5b6334069">clEnumVal</a>(<a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2af12bc59169afda2918e9f23e3501c2b6">instr</a>, <span class="stringliteral">&quot;Insert instructions into the prologue for &quot;</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                <span class="stringliteral">&quot;storing into the stack ring buffer directly&quot;</span>),</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;               <a class="code" href="CommandLine_8h.html#a77bbe78f3197b891c5a661a5b6334069">clEnumVal</a>(<a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ad9dbfb96b7805fecf168bf553c423cce">libcall</a>, <span class="stringliteral">&quot;Add a call to __hwasan_add_frame_record for &quot;</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                  <span class="stringliteral">&quot;storing into the stack ring buffer&quot;</span>)),</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2af12bc59169afda2918e9f23e3501c2b6">instr</a>));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#a15bf48964e66a9c44bda8cd292261538">ClInstrumentMemIntrinsics</a>(<span class="stringliteral">&quot;hwasan-instrument-mem-intrinsics&quot;</span>,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                              <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument memory intrinsics&quot;</span>),</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                              <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="HWAddressSanitizer_8cpp.html#a3c0d9358a2f70505c5bf1a5d126bd0cd">ClInstrumentLandingPads</a>(<span class="stringliteral">&quot;hwasan-instrument-landing-pads&quot;</span>,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                            <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument landing pads&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                            <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a4727e674a9ef226997af059aab9e8b1a">ClUseShortGranules</a>(</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="stringliteral">&quot;hwasan-use-short-granules&quot;</span>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;use short granules in allocas and outlined checks&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#abb1cc54f31add9ba929c28860dd67634">ClInstrumentPersonalityFunctions</a>(</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="stringliteral">&quot;hwasan-instrument-personality-functions&quot;</span>,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument personality functions&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a7f6668c3b9d8aaeecd952b7a9b83590e">ClInlineAllChecks</a>(<span class="stringliteral">&quot;hwasan-inline-all-checks&quot;</span>,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;inline all checks&quot;</span>),</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                       <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">// Enabled from clang by &quot;-fsanitize-hwaddress-experimental-aliasing&quot;.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="HWAddressSanitizer_8cpp.html#a71d6010fbce2523989c604f029ca2c61">ClUsePageAliases</a>(<span class="stringliteral">&quot;hwasan-experimental-use-page-aliases&quot;</span>,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                      <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use page aliasing in HWASan&quot;</span>),</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                      <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="keywordtype">bool</span> shouldUsePageAliases(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TargetTriple) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HWAddressSanitizer_8cpp.html#a71d6010fbce2523989c604f029ca2c61">ClUsePageAliases</a> &amp;&amp; TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="keywordtype">bool</span> shouldInstrumentStack(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TargetTriple) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">return</span> !shouldUsePageAliases(TargetTriple) &amp;&amp; <a class="code" href="HWAddressSanitizer_8cpp.html#afa9ba37eaabfff0faababd51799fb1d0">ClInstrumentStack</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="keywordtype">bool</span> shouldInstrumentWithCalls(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TargetTriple) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HWAddressSanitizer_8cpp.html#a278d6962636785caf07bbdd2a871d169">ClInstrumentWithCalls</a> || TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keywordtype">bool</span> mightUseStackSafetyAnalysis(<span class="keywordtype">bool</span> DisableOptimization) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HWAddressSanitizer_8cpp.html#ae171664226839e12fd57cfcc3eef1d9c">ClUseStackSafety</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">getNumOccurrences</a>() ? <a class="code" href="HWAddressSanitizer_8cpp.html#ae171664226839e12fd57cfcc3eef1d9c">ClUseStackSafety</a></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                              : !DisableOptimization;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keywordtype">bool</span> shouldUseStackSafetyAnalysis(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TargetTriple,</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                  <span class="keywordtype">bool</span> DisableOptimization) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">return</span> shouldInstrumentStack(TargetTriple) &amp;&amp;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;         mightUseStackSafetyAnalysis(DisableOptimization);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keywordtype">bool</span> shouldDetectUseAfterScope(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TargetTriple) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HWAddressSanitizer_8cpp.html#ad7b3b708edf7fb736e7ed7247e575b1c">ClUseAfterScope</a> &amp;&amp; shouldInstrumentStack(TargetTriple);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">/// An instrumentation pass implementing detection of addressability bugs</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">/// using tagged pointers.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"></span><span class="keyword">class </span>HWAddressSanitizer {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  HWAddressSanitizer(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keywordtype">bool</span> CompileKernel, <span class="keywordtype">bool</span> Recover,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1StackSafetyGlobalInfo.html">StackSafetyGlobalInfo</a> *SSI)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>), SSI(SSI) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    this-&gt;Recover = <a class="code" href="HWAddressSanitizer_8cpp.html#ad37d4ac24a9a02e5389b88cd8f3f510f">ClRecover</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">getNumOccurrences</a>() &gt; 0 ? <a class="code" href="HWAddressSanitizer_8cpp.html#ad37d4ac24a9a02e5389b88cd8f3f510f">ClRecover</a> : Recover;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    this-&gt;CompileKernel = <a class="code" href="HWAddressSanitizer_8cpp.html#a809c1e1b3869fc5d463cb84c1741aeef">ClEnableKhwasan</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">getNumOccurrences</a>() &gt; 0</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                              ? <a class="code" href="HWAddressSanitizer_8cpp.html#a809c1e1b3869fc5d463cb84c1741aeef">ClEnableKhwasan</a></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                              : CompileKernel;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    initializeModule();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordtype">void</span> setSSI(<span class="keyword">const</span> <a class="code" href="classllvm_1_1StackSafetyGlobalInfo.html">StackSafetyGlobalInfo</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) { SSI = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>; }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordtype">bool</span> sanitizeFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordtype">void</span> initializeModule();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordtype">void</span> createHwasanCtorComdat();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordtype">void</span> initializeCallbacks(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getOpaqueNoopCast(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *Val);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getDynamicShadowIfunc(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getShadowNonTls(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordtype">void</span> untagPointerOperand(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *memToShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  int64_t getAccessInfo(<span class="keywordtype">bool</span> IsWrite, <span class="keywordtype">unsigned</span> AccessSizeIndex);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordtype">void</span> instrumentMemAccessOutline(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <span class="keywordtype">bool</span> IsWrite,</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                  <span class="keywordtype">unsigned</span> AccessSizeIndex,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordtype">void</span> instrumentMemAccessInline(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <span class="keywordtype">bool</span> IsWrite,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                 <span class="keywordtype">unsigned</span> AccessSizeIndex,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                 <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordtype">bool</span> ignoreMemIntrinsic(<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordtype">void</span> instrumentMemIntrinsic(<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordtype">bool</span> instrumentMemAccess(<a class="code" href="classllvm_1_1InterestingMemoryOperand.html">InterestingMemoryOperand</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordtype">bool</span> ignoreAccess(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordtype">void</span> getInterestingMemoryOperands(</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;InterestingMemoryOperand&gt;</a> &amp;Interesting);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordtype">void</span> tagAlloca(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>, <span class="keywordtype">size_t</span> Size);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *tagPointer(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrLong, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *untagPointer(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrLong);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordtype">bool</span> instrumentStack(<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html">memtag::StackInfo</a> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *StackTag,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> &amp;PDT,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *readRegister(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordtype">bool</span> instrumentLandingPads(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Instruction *&gt;</a> &amp;RetVec);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getNextTagWithCall(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getStackBaseTag(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getAllocaTag(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *StackTag, <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                      <span class="keywordtype">unsigned</span> AllocaNo);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getUARTag(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *StackTag);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getHwasanThreadSlotPtr(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *applyTagMask(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *OldTag);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordtype">unsigned</span> retagMask(<span class="keywordtype">unsigned</span> AllocaNo);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordtype">void</span> emitPrologue(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <span class="keywordtype">bool</span> WithFrameRecord);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordtype">void</span> instrumentGlobal(<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV, uint8_t <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordtype">void</span> instrumentGlobals();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getPC(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getSP(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getFrameRecordInfo(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordtype">void</span> instrumentPersonalityFunctions();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1StackSafetyGlobalInfo.html">StackSafetyGlobalInfo</a> *SSI;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="classllvm_1_1Triple.html">Triple</a> TargetTriple;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> HWAsanMemmove, HWAsanMemcpy, HWAsanMemset;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> HWAsanHandleVfork;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">  /// This struct defines the shadow mapping using the rule:</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">  ///   shadow = (mem &gt;&gt; Scale) + Offset.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">  /// If InGlobal is true, then</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">  ///   extern char __hwasan_shadow[];</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">  ///   shadow = (mem &gt;&gt; Scale) + &amp;__hwasan_shadow</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">  /// If InTls is true, then</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">  ///   extern char *__hwasan_tls;</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">  ///   shadow = (mem&gt;&gt;Scale) + align_up(__hwasan_shadow, kShadowBaseAlignment)</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">  /// If WithFrameRecord is true, then __hwasan_tls will be used to access the</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">  /// ring buffer for storing stack allocations on targets that support it.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>ShadowMapping {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    uint8_t Scale;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">bool</span> InGlobal;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordtype">bool</span> InTls;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordtype">bool</span> WithFrameRecord;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">init</a>(<a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TargetTriple, <span class="keywordtype">bool</span> InstrumentWithCalls);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> getObjectAlignment()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1ULL &lt;&lt; Scale); }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  };</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  ShadowMapping Mapping;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *VoidTy = <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IntptrTy;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8PtrTy;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8Ty;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int64Ty = <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordtype">bool</span> CompileKernel;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordtype">bool</span> Recover;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordtype">bool</span> OutlinedChecks;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordtype">bool</span> UseShortGranules;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordtype">bool</span> InstrumentLandingPads;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordtype">bool</span> InstrumentWithCalls;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordtype">bool</span> InstrumentStack;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordtype">bool</span> DetectUseAfterScope;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordtype">bool</span> UsePageAliases;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  std::optional&lt;uint8_t&gt; MatchAllTag;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordtype">unsigned</span> PointerTagShift;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TagMaskByte;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *HwasanCtorFunction;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> HwasanMemoryAccessCallback[2][<a class="code" href="HWAddressSanitizer_8cpp.html#aa62a4d0672bab180dd339cda25b23b2e">kNumberOfAccessSizes</a>];</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> HwasanMemoryAccessCallbackSized[2];</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> HwasanTagMemoryFunc;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> HwasanGenerateTagFunc;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> HwasanRecordFrameRecordFunc;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ShadowGlobal;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowBase = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *StackBaseTag = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CachedSP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *ThreadPtrGlobal = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;};</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="classllvm_1_1HWAddressSanitizerPass.html#a0ab6bbfe1dc498f2c9a8603d672fbb1b">  415</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1HWAddressSanitizerPass.html#a0ab6bbfe1dc498f2c9a8603d672fbb1b">HWAddressSanitizerPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                              <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1StackSafetyGlobalInfo.html">StackSafetyGlobalInfo</a> *SSI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keyword">auto</span> TargetTriple = <a class="code" href="classllvm_1_1Triple.html">llvm::Triple</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getTargetTriple());</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">if</span> (shouldUseStackSafetyAnalysis(TargetTriple, Options.<a class="code" href="structllvm_1_1HWAddressSanitizerOptions.html#ae00a6da588e40382cc08287da796248a">DisableOptimization</a>))</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    SSI = &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1StackSafetyGlobalAnalysis.html">StackSafetyGlobalAnalysis</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  HWAddressSanitizer HWASan(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, Options.<a class="code" href="structllvm_1_1HWAddressSanitizerOptions.html#acb2ab5c8bc00a0cd362da9cd7f5be977">CompileKernel</a>, Options.<a class="code" href="structllvm_1_1HWAddressSanitizerOptions.html#a7b9a0142cf386d313523a43eb366b3bc">Recover</a>, SSI);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a> = <a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1InnerAnalysisManagerProxy.html">FunctionAnalysisManagerModuleProxy</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>).getManager();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> |= HWASan.sanitizeFunction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a>)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> PA = <a class="code" href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// GlobalsAA is considered stateless and does not get invalidated unless</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// explicitly invalidated; PreservedAnalyses::none() is not enough. Sanitizers</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// make changes that require GlobalsAA to be invalidated.</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ac8a842a601c470fa22db443ac34d0a67">abandon</a>&lt;<a class="code" href="classllvm_1_1GlobalsAA.html">GlobalsAA</a>&gt;();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;}</div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classllvm_1_1HWAddressSanitizerPass.html#aa9b4734b07ef55732d35569201ffefe3">  437</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1HWAddressSanitizerPass.html#aa9b4734b07ef55732d35569201ffefe3">HWAddressSanitizerPass::printPipeline</a>(</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; MapClassName2PassName) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1PassInfoMixin.html">PassInfoMixin&lt;HWAddressSanitizerPass&gt;</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1HWAddressSanitizerPass.html#aa9b4734b07ef55732d35569201ffefe3">printPipeline</a>(</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, MapClassName2PassName);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;&quot;</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">if</span> (Options.<a class="code" href="structllvm_1_1HWAddressSanitizerOptions.html#acb2ab5c8bc00a0cd362da9cd7f5be977">CompileKernel</a>)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;kernel;&quot;</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">if</span> (Options.<a class="code" href="structllvm_1_1HWAddressSanitizerOptions.html#a7b9a0142cf386d313523a43eb366b3bc">Recover</a>)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;recover&quot;</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::createHwasanCtorComdat() {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  std::tie(HwasanCtorFunction, std::ignore) =</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <a class="code" href="namespacellvm.html#a717a199ea9514d956fa87fd23c13a228">getOrCreateSanitizerCtorAndInitFunctions</a>(</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          M, <a class="code" href="HWAddressSanitizer_8cpp.html#a1c31c159d77a06642f58c0cb4945609a">kHwasanModuleCtorName</a>, <a class="code" href="HWAddressSanitizer_8cpp.html#ae445ac6827771eafd730e61f976cba44">kHwasanInitName</a>,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;          <span class="comment">/*InitArgTypes=*/</span>{},</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;          <span class="comment">/*InitArgs=*/</span>{},</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;          <span class="comment">// This callback is invoked when the functions are created the first</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;          <span class="comment">// time. Hook them into the global ctors list in that case:</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;          [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> *Ctor, <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a>) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <a class="code" href="classllvm_1_1Comdat.html">Comdat</a> *CtorComdat = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertComdat(<a class="code" href="HWAddressSanitizer_8cpp.html#a1c31c159d77a06642f58c0cb4945609a">kHwasanModuleCtorName</a>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            Ctor-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#a800a5183372ed37a74be5cddf5df325c">setComdat</a>(CtorComdat);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <a class="code" href="namespacellvm.html#ac030f6d03b674c2d132fd54fb60c9f26">appendToGlobalCtors</a>(M, Ctor, 0, Ctor);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          });</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// Create a note that contains pointers to the list of global</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// descriptors. Adding a note to the output file will cause the linker to</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="comment">// create a PT_NOTE program header pointing to the note that we can use to</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="comment">// find the descriptor list starting from the program headers. A function</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// provided by the runtime initializes the shadow memory for the globals by</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">// accessing the descriptor list via the note. The dynamic loader needs to</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="comment">// call this function whenever a library is loaded.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">// The reason why we use a note for this instead of a more conventional</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// approach of having a global constructor pass a descriptor list pointer to</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">// the runtime is because of an order of initialization problem. With</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="comment">// constructors we can encounter the following problematic scenario:</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// 1) library A depends on library B and also interposes one of B&#39;s symbols</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// 2) B&#39;s constructors are called before A&#39;s (as required for correctness)</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// 3) during construction, B accesses one of its &quot;own&quot; globals (actually</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">//    interposed by A) and triggers a HWASAN failure due to the initialization</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">//    for A not having happened yet</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// Even without interposition it is possible to run into similar situations in</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// cases where two libraries mutually depend on each other.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// We only need one note per binary, so put everything for the note in a</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// comdat. This needs to be a comdat with an .init_array section to prevent</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">// newer versions of lld from discarding the note.</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">// Create the note even if we aren&#39;t instrumenting globals. This ensures that</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">// binaries linked from object files with both instrumented and</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">// non-instrumented globals will end up with a note, even if a comdat from an</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">// object file with non-instrumented globals is selected. The note is harmless</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// if the runtime doesn&#39;t support it, since it will just be ignored.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="classllvm_1_1Comdat.html">Comdat</a> *NoteComdat = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertComdat(<a class="code" href="HWAddressSanitizer_8cpp.html#a1c31c159d77a06642f58c0cb4945609a">kHwasanModuleCtorName</a>);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8Arr0Ty = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(Int8Ty, 0);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keyword">auto</span> *Start =</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, Int8Arr0Ty, <span class="keyword">true</span>, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalVariable::ExternalLinkage</a>,</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                         <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;__start_hwasan_globals&quot;</span>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  Start-&gt;setVisibility(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keyword">auto</span> *Stop =</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, Int8Arr0Ty, <span class="keyword">true</span>, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalVariable::ExternalLinkage</a>,</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                         <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;__stop_hwasan_globals&quot;</span>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  Stop-&gt;setVisibility(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// Null-terminated so actually 8 bytes, which are required in order to align</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// the note properly.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">ConstantDataArray::get</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <span class="stringliteral">&quot;LLVM\0\0\0&quot;</span>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keyword">auto</span> *NoteTy = <a class="code" href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">StructType::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>-&gt;getType(),</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                 <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#a57d0df36879c90c8fa1b9e0d5ad54a26">Note</a> =</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, NoteTy, <span class="comment">/*isConstant=*/</span><span class="keyword">true</span>,</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                         <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>, <span class="keyword">nullptr</span>, <a class="code" href="HWAddressSanitizer_8cpp.html#a2811658bf492018012fe3c964e829e1c">kHwasanNoteName</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a57d0df36879c90c8fa1b9e0d5ad54a26">Note</a>-&gt;setSection(<span class="stringliteral">&quot;.note.hwasan.globals&quot;</span>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a57d0df36879c90c8fa1b9e0d5ad54a26">Note</a>-&gt;setComdat(NoteComdat);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a57d0df36879c90c8fa1b9e0d5ad54a26">Note</a>-&gt;setAlignment(<a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4));</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// The pointers in the note need to be relative so that the note ends up being</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// placed in rodata, which is the standard location for notes.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keyword">auto</span> CreateRelPtr = [&amp;](<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">ConstantExpr::getTrunc</a>(</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">ConstantExpr::getSub</a>(<a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Int64Ty),</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                             <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(Note, Int64Ty)),</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  };</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a57d0df36879c90c8fa1b9e0d5ad54a26">Note</a>-&gt;setInitializer(<a class="code" href="classllvm_1_1ConstantStruct.html#a801ba6ad994f4c40b17055d228312be7">ConstantStruct::getAnon</a>(</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      {<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, 8),                           <span class="comment">// n_namesz</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;       <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, 8),                           <span class="comment">// n_descsz</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;       <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="namespacellvm_1_1ELF.html#a266dd1690651acfc919f8a259673b265a947be5f5d7c27972ff1b231dc469bd46">ELF::NT_LLVM_HWASAN_GLOBALS</a>), <span class="comment">// n_type</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;       <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, CreateRelPtr(Start), CreateRelPtr(Stop)}));</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="namespacellvm.html#aab730f72aa213d5ecc7d1101efda8811">appendToCompilerUsed</a>(M, Note);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// Create a zero-length global in hwasan_globals so that the linker will</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">// always create start and stop symbols.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a> = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      M, Int8Arr0Ty, <span class="comment">/*isConstantGlobal*/</span> <span class="keyword">true</span>, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalVariable::PrivateLinkage</a>,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Int8Arr0Ty), <span class="stringliteral">&quot;hwasan.dummy.global&quot;</span>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>-&gt;setSection(<span class="stringliteral">&quot;hwasan_globals&quot;</span>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>-&gt;setComdat(NoteComdat);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>-&gt;setMetadata(LLVMContext::MD_associated,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                     <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1ValueAsMetadata.html#a53fc78b63202142110d0e86dd1a71fbe">ValueAsMetadata::get</a>(Note)));</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <a class="code" href="namespacellvm.html#aab730f72aa213d5ecc7d1101efda8811">appendToCompilerUsed</a>(M, <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">/// Module-level initialization.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">/// inserts a call to __hwasan_init to the module&#39;s constructor list.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> HWAddressSanitizer::initializeModule() {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Init &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout();</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  TargetTriple = <a class="code" href="classllvm_1_1Triple.html">Triple</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getTargetTriple());</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// x86_64 currently has two modes:</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// - Intel LAM (default)</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// - pointer aliasing (heap only)</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordtype">bool</span> IsX86_64 = TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  UsePageAliases = shouldUsePageAliases(TargetTriple);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  InstrumentWithCalls = shouldInstrumentWithCalls(TargetTriple);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  InstrumentStack = shouldInstrumentStack(TargetTriple);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  DetectUseAfterScope = shouldDetectUseAfterScope(TargetTriple);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  PointerTagShift = IsX86_64 ? 57 : 56;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  TagMaskByte = IsX86_64 ? 0x3F : 0xFF;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  Mapping.init(TargetTriple, InstrumentWithCalls);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = &amp;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  IntptrTy = IRB.getIntPtrTy(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  Int8PtrTy = IRB.getInt8PtrTy();</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  Int8Ty = IRB.getInt8Ty();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a> = IRB.<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">getInt32Ty</a>();</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  HwasanCtorFunction = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// Older versions of Android do not have the required runtime support for</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">// short granules, global or personality function instrumentation. On other</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="comment">// platforms we currently require using the latest version of the runtime.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordtype">bool</span> NewRuntime =</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      !TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a3f3873f607a36e40241082727fef44db">isAndroid</a>() || !TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a13b920f74d7ae331cfd2740a790de541">isAndroidVersionLT</a>(30);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  UseShortGranules =</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="HWAddressSanitizer_8cpp.html#a4727e674a9ef226997af059aab9e8b1a">ClUseShortGranules</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">getNumOccurrences</a>() ? <a class="code" href="HWAddressSanitizer_8cpp.html#a4727e674a9ef226997af059aab9e8b1a">ClUseShortGranules</a> : NewRuntime;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  OutlinedChecks =</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      (TargetTriple.<a class="code" href="classllvm_1_1Triple.html#ad953e410aea43848740978d9a6529a82">isAArch64</a>() || TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a64b2600935100a4be30d8a364609e427">isRISCV64</a>()) &amp;&amp;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      TargetTriple.<a class="code" href="classllvm_1_1Triple.html#aea6d215256ae43bc9149bf41f2cc7694">isOSBinFormatELF</a>() &amp;&amp;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      (<a class="code" href="HWAddressSanitizer_8cpp.html#a7f6668c3b9d8aaeecd952b7a9b83590e">ClInlineAllChecks</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">getNumOccurrences</a>() ? !<a class="code" href="HWAddressSanitizer_8cpp.html#a7f6668c3b9d8aaeecd952b7a9b83590e">ClInlineAllChecks</a> : !Recover);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a5cbacf9547fbfa00de1dc270ce37b00a">ClMatchAllTag</a>.getNumOccurrences()) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a5cbacf9547fbfa00de1dc270ce37b00a">ClMatchAllTag</a> != -1) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      MatchAllTag = <a class="code" href="HWAddressSanitizer_8cpp.html#a5cbacf9547fbfa00de1dc270ce37b00a">ClMatchAllTag</a> &amp; 0xFF;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CompileKernel) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    MatchAllTag = 0xFF;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="comment">// If we don&#39;t have personality function support, fall back to landing pads.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  InstrumentLandingPads = <a class="code" href="HWAddressSanitizer_8cpp.html#a3c0d9358a2f70505c5bf1a5d126bd0cd">ClInstrumentLandingPads</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">getNumOccurrences</a>()</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                              ? <a class="code" href="HWAddressSanitizer_8cpp.html#a3c0d9358a2f70505c5bf1a5d126bd0cd">ClInstrumentLandingPads</a></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                              : !NewRuntime;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">if</span> (!CompileKernel) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    createHwasanCtorComdat();</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordtype">bool</span> InstrumentGlobals =</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <a class="code" href="HWAddressSanitizer_8cpp.html#a446d047d4c1a7de22211d0dbaaca05be">ClGlobals</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">getNumOccurrences</a>() ? <a class="code" href="HWAddressSanitizer_8cpp.html#a446d047d4c1a7de22211d0dbaaca05be">ClGlobals</a> : NewRuntime;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (InstrumentGlobals &amp;&amp; !UsePageAliases)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      instrumentGlobals();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordtype">bool</span> InstrumentPersonalityFunctions =</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <a class="code" href="HWAddressSanitizer_8cpp.html#abb1cc54f31add9ba929c28860dd67634">ClInstrumentPersonalityFunctions</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">getNumOccurrences</a>()</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            ? <a class="code" href="HWAddressSanitizer_8cpp.html#abb1cc54f31add9ba929c28860dd67634">ClInstrumentPersonalityFunctions</a></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            : NewRuntime;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (InstrumentPersonalityFunctions)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      instrumentPersonalityFunctions();</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">if</span> (!TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a3f3873f607a36e40241082727fef44db">isAndroid</a>()) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertGlobal(<span class="stringliteral">&quot;__hwasan_tls&quot;</span>, IntptrTy, [&amp;] {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keyword">auto</span> *GV = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, IntptrTy, <span class="comment">/*isConstant=*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                                    <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                                    <span class="stringliteral">&quot;__hwasan_tls&quot;</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                    <a class="code" href="classllvm_1_1GlobalValue.html#a05c6b3b9372b56d130e005db4837da62a92e26a4a1218d351f5a91e7385a3a320">GlobalVariable::InitialExecTLSModel</a>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <a class="code" href="namespacellvm.html#aab730f72aa213d5ecc7d1101efda8811">appendToCompilerUsed</a>(M, GV);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">return</span> GV;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    });</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    ThreadPtrGlobal = cast&lt;GlobalVariable&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::initializeCallbacks(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> AccessIsWrite = 0; AccessIsWrite &lt;= 1; AccessIsWrite++) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keyword">const</span> std::string TypeStr = AccessIsWrite ? <span class="stringliteral">&quot;store&quot;</span> : <span class="stringliteral">&quot;load&quot;</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keyword">const</span> std::string EndingStr = Recover ? <span class="stringliteral">&quot;_noabort&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    HwasanMemoryAccessCallbackSized[AccessIsWrite] = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="HWAddressSanitizer_8cpp.html#ab9841b7c8237a0ee466396c83898a792">ClMemoryAccessCallbackPrefix</a> + TypeStr + <span class="stringliteral">&quot;N&quot;</span> + EndingStr,</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(IRB.getVoidTy(), {IntptrTy, IntptrTy}, <span class="keyword">false</span>));</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> AccessSizeIndex = 0; AccessSizeIndex &lt; <a class="code" href="HWAddressSanitizer_8cpp.html#aa62a4d0672bab180dd339cda25b23b2e">kNumberOfAccessSizes</a>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;         AccessSizeIndex++) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      HwasanMemoryAccessCallback[AccessIsWrite][AccessSizeIndex] =</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;              <a class="code" href="HWAddressSanitizer_8cpp.html#ab9841b7c8237a0ee466396c83898a792">ClMemoryAccessCallbackPrefix</a> + TypeStr +</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                  itostr(1ULL &lt;&lt; AccessSizeIndex) + EndingStr,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;              <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(IRB.getVoidTy(), {IntptrTy}, <span class="keyword">false</span>));</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  HwasanTagMemoryFunc = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="stringliteral">&quot;__hwasan_tag_memory&quot;</span>, IRB.getVoidTy(), Int8PtrTy, Int8Ty, IntptrTy);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  HwasanGenerateTagFunc =</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(<span class="stringliteral">&quot;__hwasan_generate_tag&quot;</span>, Int8Ty);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  HwasanRecordFrameRecordFunc = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="stringliteral">&quot;__hwasan_add_frame_record&quot;</span>, IRB.getVoidTy(), Int64Ty);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  ShadowGlobal = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertGlobal(<span class="stringliteral">&quot;__hwasan_shadow&quot;</span>,</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                                     <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(IRB.getInt8Ty(), 0));</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keyword">const</span> std::string MemIntrinCallbackPrefix =</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      (CompileKernel &amp;&amp; !<a class="code" href="HWAddressSanitizer_8cpp.html#af17c6d5145c1ec0696b3ac359f043924">ClKasanMemIntrinCallbackPrefix</a>)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;          ? std::string(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;          : <a class="code" href="HWAddressSanitizer_8cpp.html#ab9841b7c8237a0ee466396c83898a792">ClMemoryAccessCallbackPrefix</a>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  HWAsanMemmove = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(MemIntrinCallbackPrefix + <span class="stringliteral">&quot;memmove&quot;</span>,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                                        IRB.getInt8PtrTy(), IRB.getInt8PtrTy(),</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                                        IRB.getInt8PtrTy(), IntptrTy);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  HWAsanMemcpy = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(MemIntrinCallbackPrefix + <span class="stringliteral">&quot;memcpy&quot;</span>,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                       IRB.getInt8PtrTy(), IRB.getInt8PtrTy(),</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                       IRB.getInt8PtrTy(), IntptrTy);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  HWAsanMemset = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(MemIntrinCallbackPrefix + <span class="stringliteral">&quot;memset&quot;</span>,</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                                       IRB.getInt8PtrTy(), IRB.getInt8PtrTy(),</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                                       IRB.getInt32Ty(), IntptrTy);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  HWAsanHandleVfork =</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(<span class="stringliteral">&quot;__hwasan_handle_vfork&quot;</span>, IRB.getVoidTy(), IntptrTy);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getOpaqueNoopCast(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *Val) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="comment">// An empty inline asm with input reg == output reg.</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// An opaque no-op cast, basically.</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">// This prevents code bloat as a result of rematerializing trivial definitions</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="comment">// such as constants or global addresses at every load and store.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <a class="code" href="classllvm_1_1InlineAsm.html">InlineAsm</a> *<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a> =</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <a class="code" href="classllvm_1_1InlineAsm.html#a44dec91bb943f56f8bba3e9171a76947">InlineAsm::get</a>(<a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(Int8PtrTy, {Val-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()}, <span class="keyword">false</span>),</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                     <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;&quot;</span>), <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;=r,0&quot;</span>),</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                     <span class="comment">/*hasSideEffects=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>, {Val}, <span class="stringliteral">&quot;.hwasan.shadow&quot;</span>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getDynamicShadowIfunc(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordflow">return</span> getOpaqueNoopCast(IRB, ShadowGlobal);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getShadowNonTls(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">if</span> (Mapping.Offset != <a class="code" href="HWAddressSanitizer_8cpp.html#a8d1135f2ee91e5d486647a37f8074dcc">kDynamicShadowSentinel</a>)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">return</span> getOpaqueNoopCast(</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        IRB, <a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                 <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, Mapping.Offset), Int8PtrTy));</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">if</span> (Mapping.InGlobal)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> getDynamicShadowIfunc(IRB);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *GlobalDynamicAddress =</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae3f9633c349ede5341aa376d9c97dd8f">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#abd8f7242df6ecb10f429c4d39403c334">getOrInsertGlobal</a>(</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          <a class="code" href="HWAddressSanitizer_8cpp.html#ad1f4c8c76d56f98c85a737865dde06a1">kHwasanShadowMemoryDynamicAddress</a>, Int8PtrTy);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(Int8PtrTy, GlobalDynamicAddress);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="keywordtype">bool</span> HWAddressSanitizer::ignoreAccess(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="comment">// Do not instrument accesses from different address spaces; we cannot deal</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="comment">// with them.</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *PtrTy = cast&lt;PointerType&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()-&gt;getScalarType());</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">if</span> (PtrTy-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>() != 0)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// Ignore swifterror addresses.</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// swifterror memory addresses are mem2reg promoted by instruction</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">// selection. As such they cannot have regular uses like an instrumentation</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">// function and it makes no sense to track them as memory.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;isSwiftError())</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a21fe87bf00db76089c043fed6a23fb76">findAllocaForValue</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (!InstrumentStack)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (SSI &amp;&amp; SSI-&gt;stackAccessIsSafe(*Inst))</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::getInterestingMemoryOperands(</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;InterestingMemoryOperand&gt;</a> &amp;Interesting) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">// Skip memory accesses inserted by another instrumentation.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;hasMetadata(LLVMContext::MD_nosanitize))</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">// Do not instrument the load fetching the dynamic shadow address.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="keywordflow">if</span> (ShadowBase == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="HWAddressSanitizer_8cpp.html#abbf16889b91d2e9e8b3143ee3444b74b">ClInstrumentReads</a> || ignoreAccess(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, LI-&gt;getPointerOperand()))</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    Interesting.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, LI-&gt;getPointerOperandIndex(), <span class="keyword">false</span>,</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                             LI-&gt;getType(), LI-&gt;getAlign());</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="HWAddressSanitizer_8cpp.html#a462b3038c84bd047f51393e7260fb2bb">ClInstrumentWrites</a> || ignoreAccess(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getPointerOperand()))</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    Interesting.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getPointerOperandIndex(), <span class="keyword">true</span>,</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                             <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getValueOperand()-&gt;getType(), <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getAlign());</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AtomicRMWInst.html">AtomicRMWInst</a> *RMW = dyn_cast&lt;AtomicRMWInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="HWAddressSanitizer_8cpp.html#adc3229fd9f767fab6062b376699e0bef">ClInstrumentAtomics</a> || ignoreAccess(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, RMW-&gt;getPointerOperand()))</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    Interesting.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, RMW-&gt;getPointerOperandIndex(), <span class="keyword">true</span>,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                             RMW-&gt;getValOperand()-&gt;getType(), std::nullopt);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AtomicCmpXchgInst.html">AtomicCmpXchgInst</a> *XCHG = dyn_cast&lt;AtomicCmpXchgInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="HWAddressSanitizer_8cpp.html#adc3229fd9f767fab6062b376699e0bef">ClInstrumentAtomics</a> || ignoreAccess(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, XCHG-&gt;getPointerOperand()))</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    Interesting.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, XCHG-&gt;getPointerOperandIndex(), <span class="keyword">true</span>,</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                             XCHG-&gt;getCompareOperand()-&gt;getType(),</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                             std::nullopt);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> ArgNo = 0; ArgNo &lt; CI-&gt;arg_size(); ArgNo++) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="HWAddressSanitizer_8cpp.html#a73e4679237297aae9d38a1cb3cd1e531">ClInstrumentByval</a> || !CI-&gt;isByValArgument(ArgNo) ||</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          ignoreAccess(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, CI-&gt;getArgOperand(ArgNo)))</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = CI-&gt;getParamByValType(ArgNo);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      Interesting.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ArgNo, <span class="keyword">false</span>, Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1));</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#ad5c3fea3e9699b6299cc037334eeb83e">  777</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="HWAddressSanitizer_8cpp.html#ad5c3fea3e9699b6299cc037334eeb83e">getPointerOperandIndex</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">return</span> LI-&gt;getPointerOperandIndex();</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getPointerOperandIndex();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AtomicRMWInst.html">AtomicRMWInst</a> *RMW = dyn_cast&lt;AtomicRMWInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span> RMW-&gt;getPointerOperandIndex();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AtomicCmpXchgInst.html">AtomicCmpXchgInst</a> *XCHG = dyn_cast&lt;AtomicCmpXchgInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> XCHG-&gt;getPointerOperandIndex();</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unexpected instruction&quot;</span>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#a0cf7e80624365372e769be7d6c04d74b">  790</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="HWAddressSanitizer_8cpp.html#a0cf7e80624365372e769be7d6c04d74b">TypeSizeToSizeIndex</a>(<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a>) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordtype">size_t</span> Res = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(<a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a> / 8);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Res &lt; <a class="code" href="HWAddressSanitizer_8cpp.html#aa62a4d0672bab180dd339cda25b23b2e">kNumberOfAccessSizes</a>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;}</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::untagPointerOperand(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">if</span> (TargetTriple.<a class="code" href="classllvm_1_1Triple.html#ad953e410aea43848740978d9a6529a82">isAArch64</a>() || TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a> ||</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a64b2600935100a4be30d8a364609e427">isRISCV64</a>())</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *AddrLong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, IntptrTy);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *UntaggedPtr =</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(untagPointer(IRB, AddrLong), <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>-&gt;getType());</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;setOperand(<a class="code" href="HWAddressSanitizer_8cpp.html#ad5c3fea3e9699b6299cc037334eeb83e">getPointerOperandIndex</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), UntaggedPtr);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;}</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::memToShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Mem, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="comment">// Mem &gt;&gt; Scale</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae7f65cf79c9900a2b0504fbc25db1428">CreateLShr</a>(Mem, Mapping.Scale);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">if</span> (Mapping.Offset == 0)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(Shadow, Int8PtrTy);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">// (Mem &gt;&gt; Scale) + Offset</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afb5c46a140e1b7f08de54d9c035a8adc">CreateGEP</a>(Int8Ty, ShadowBase, Shadow);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;int64_t HWAddressSanitizer::getAccessInfo(<span class="keywordtype">bool</span> IsWrite,</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                                          <span class="keywordtype">unsigned</span> AccessSizeIndex) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">return</span> (CompileKernel &lt;&lt; <a class="code" href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6a93a25190198abc8bb4ada84b62c1c312">HWASanAccessInfo::CompileKernelShift</a>) |</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;         (MatchAllTag.has_value() &lt;&lt; <a class="code" href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6a2be060e0fe7732ea7b7cfda87b33282d">HWASanAccessInfo::HasMatchAllShift</a>) |</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;         (MatchAllTag.value_or(0) &lt;&lt; <a class="code" href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6abcbf592cb37a50340733b22e9c5edcb5">HWASanAccessInfo::MatchAllShift</a>) |</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;         (Recover &lt;&lt; <a class="code" href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6a25f1c9e2b3e6192ca053feab83c85e19">HWASanAccessInfo::RecoverShift</a>) |</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;         (IsWrite &lt;&lt; <a class="code" href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6ada8938fbcc7de9406883574a9b38e29b">HWASanAccessInfo::IsWriteShift</a>) |</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;         (AccessSizeIndex &lt;&lt; <a class="code" href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6a3d9acaec708a77cbe6c60c019588fe15">HWASanAccessInfo::AccessSizeShift</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;}</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::instrumentMemAccessOutline(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <span class="keywordtype">bool</span> IsWrite,</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                                                    <span class="keywordtype">unsigned</span> AccessSizeIndex,</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                                                    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!UsePageAliases);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keyword">const</span> int64_t AccessInfo = getAccessInfo(IsWrite, AccessSizeIndex);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(InsertBefore);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae3f9633c349ede5341aa376d9c97dd8f">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Int8PtrTy);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                     M, UseShortGranules</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                            ? Intrinsic::hwasan_check_memaccess_shortgranules</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                            : Intrinsic::hwasan_check_memaccess),</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                 {ShadowBase, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, AccessInfo)});</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;}</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::instrumentMemAccessInline(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <span class="keywordtype">bool</span> IsWrite,</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                                   <span class="keywordtype">unsigned</span> AccessSizeIndex,</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                                   <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!UsePageAliases);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keyword">const</span> int64_t AccessInfo = getAccessInfo(IsWrite, AccessSizeIndex);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(InsertBefore);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrLong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, IntptrTy);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrTag = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a08230b6650e11747ef33144f1e463064">CreateTrunc</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae7f65cf79c9900a2b0504fbc25db1428">CreateLShr</a>(PtrLong, PointerTagShift),</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                                  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7a71da01c646618b7f43d303d563b41b">getInt8Ty</a>());</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *AddrLong = untagPointer(IRB, PtrLong);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow = memToShadow(AddrLong, IRB);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *MemTag = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(Int8Ty, Shadow);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TagMismatch = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a10939072861a38a7a84ab097703cb034">CreateICmpNE</a>(PtrTag, MemTag);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">if</span> (MatchAllTag.has_value()) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *TagNotIgnored = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a10939072861a38a7a84ab097703cb034">CreateICmpNE</a>(</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        PtrTag, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(PtrTag-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), *MatchAllTag));</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    TagMismatch = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">CreateAnd</a>(TagMismatch, TagNotIgnored);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CheckTerm =</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <a class="code" href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">SplitBlockAndInsertIfThen</a>(TagMismatch, InsertBefore, <span class="keyword">false</span>,</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                                <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(*C).<a class="code" href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">createBranchWeights</a>(1, 100000));</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(CheckTerm);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *OutOfShortGranuleTagRange =</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#aaf20aee44cce6cce63e18f7e54c6ba4b">CreateICmpUGT</a>(MemTag, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int8Ty, 15));</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CheckFailTerm =</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <a class="code" href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">SplitBlockAndInsertIfThen</a>(OutOfShortGranuleTagRange, CheckTerm, !Recover,</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                                <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(*C).<a class="code" href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">createBranchWeights</a>(1, 100000));</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(CheckTerm);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrLowBits = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a08230b6650e11747ef33144f1e463064">CreateTrunc</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">CreateAnd</a>(PtrLong, 15), Int8Ty);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  PtrLowBits = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">CreateAdd</a>(</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      PtrLowBits, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int8Ty, (1 &lt;&lt; AccessSizeIndex) - 1));</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrLowBitsOOB = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae343ce3330c827c184215d0881dc1db3">CreateICmpUGE</a>(PtrLowBits, MemTag);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <a class="code" href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">SplitBlockAndInsertIfThen</a>(PtrLowBitsOOB, CheckTerm, <span class="keyword">false</span>,</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                            <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(*C).<a class="code" href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">createBranchWeights</a>(1, 100000),</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                            (<a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *)<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                            CheckFailTerm-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(CheckTerm);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *InlineTagAddr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(AddrLong, 15);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  InlineTagAddr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(InlineTagAddr, Int8PtrTy);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *InlineTag = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(Int8Ty, InlineTagAddr);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *InlineTagMismatch = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a10939072861a38a7a84ab097703cb034">CreateICmpNE</a>(PtrTag, InlineTag);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <a class="code" href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">SplitBlockAndInsertIfThen</a>(InlineTagMismatch, CheckTerm, <span class="keyword">false</span>,</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                            <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(*C).<a class="code" href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">createBranchWeights</a>(1, 100000),</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                            (<a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *)<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                            CheckFailTerm-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(CheckFailTerm);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <a class="code" href="classllvm_1_1InlineAsm.html">InlineAsm</a> *<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">switch</span> (TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>()) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>:</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// The signal handler will find the data address in rdi.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a> = <a class="code" href="classllvm_1_1InlineAsm.html#a44dec91bb943f56f8bba3e9171a76947">InlineAsm::get</a>(</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a518df7907ab8f1d61c6f47381055eb53">getVoidTy</a>(), {PtrLong-&gt;getType()}, <span class="keyword">false</span>),</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="stringliteral">&quot;int3\nnopl &quot;</span> +</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            itostr(0x40 + (AccessInfo &amp; <a class="code" href="namespacellvm_1_1HWASanAccessInfo.html#ad38b348ee99dc839738483a05e6094b2a480da4492bfc24f8380714233b147084">HWASanAccessInfo::RuntimeMask</a>)) +</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="stringliteral">&quot;(%rax)&quot;</span>,</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="stringliteral">&quot;{rdi}&quot;</span>,</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="comment">/*hasSideEffects=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">Triple::aarch64</a>:</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a6d5df0cfd7a0b0c0854555554396efd9">Triple::aarch64_be</a>:</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// The signal handler will find the data address in x0.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a> = <a class="code" href="classllvm_1_1InlineAsm.html#a44dec91bb943f56f8bba3e9171a76947">InlineAsm::get</a>(</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a518df7907ab8f1d61c6f47381055eb53">getVoidTy</a>(), {PtrLong-&gt;getType()}, <span class="keyword">false</span>),</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="stringliteral">&quot;brk #&quot;</span> + itostr(0x900 + (AccessInfo &amp; <a class="code" href="namespacellvm_1_1HWASanAccessInfo.html#ad38b348ee99dc839738483a05e6094b2a480da4492bfc24f8380714233b147084">HWASanAccessInfo::RuntimeMask</a>)),</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="stringliteral">&quot;{x0}&quot;</span>,</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="comment">/*hasSideEffects=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae4763cb7c05a2a59ce27d51040bf4b08">Triple::riscv64</a>:</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">// The signal handler will find the data address in x10.</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a> = <a class="code" href="classllvm_1_1InlineAsm.html#a44dec91bb943f56f8bba3e9171a76947">InlineAsm::get</a>(</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a518df7907ab8f1d61c6f47381055eb53">getVoidTy</a>(), {PtrLong-&gt;getType()}, <span class="keyword">false</span>),</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="stringliteral">&quot;ebreak\naddiw x0, x11, &quot;</span> +</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            itostr(0x40 + (AccessInfo &amp; <a class="code" href="namespacellvm_1_1HWASanAccessInfo.html#ad38b348ee99dc839738483a05e6094b2a480da4492bfc24f8380714233b147084">HWASanAccessInfo::RuntimeMask</a>)),</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="stringliteral">&quot;{x10}&quot;</span>,</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="comment">/*hasSideEffects=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;unsupported architecture&quot;</span>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>, PtrLong);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordflow">if</span> (Recover)</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    cast&lt;BranchInst&gt;(CheckFailTerm)-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae959364e4640ac025bbc046d3d7c7e61">setSuccessor</a>(0, CheckTerm-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;}</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="keywordtype">bool</span> HWAddressSanitizer::ignoreMemIntrinsic(<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemTransferInst.html">MemTransferInst</a> *MTI = dyn_cast&lt;MemTransferInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">return</span> (!<a class="code" href="HWAddressSanitizer_8cpp.html#a462b3038c84bd047f51393e7260fb2bb">ClInstrumentWrites</a> || ignoreAccess(MTI, MTI-&gt;getDest())) &amp;&amp;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;           (!<a class="code" href="HWAddressSanitizer_8cpp.html#abbf16889b91d2e9e8b3143ee3444b74b">ClInstrumentReads</a> || ignoreAccess(MTI, MTI-&gt;getSource()));</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keywordflow">if</span> (isa&lt;MemSetInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="HWAddressSanitizer_8cpp.html#a462b3038c84bd047f51393e7260fb2bb">ClInstrumentWrites</a> || ignoreAccess(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDest());</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;}</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::instrumentMemIntrinsic(<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">if</span> (isa&lt;MemTransferInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        isa&lt;MemMoveInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) ? HWAsanMemmove : HWAsanMemcpy,</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        {IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>()),</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>()),</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">CreateIntCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2), IntptrTy, <span class="keyword">false</span>)});</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;MemSetInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        HWAsanMemset,</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        {IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>()),</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">CreateIntCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">getInt32Ty</a>(), <span class="keyword">false</span>),</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">CreateIntCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2), IntptrTy, <span class="keyword">false</span>)});</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;}</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="keywordtype">bool</span> HWAddressSanitizer::instrumentMemAccess(<a class="code" href="classllvm_1_1InterestingMemoryOperand.html">InterestingMemoryOperand</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>) {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getPtr();</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Instrumenting: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getInsn() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.MaybeMask)</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// FIXME</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getInsn());</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a434f6a0d80fb13e4326e848a6391f057">isPowerOf2_64</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.TypeSize) &amp;&amp;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.TypeSize / 8 &lt;= (1ULL &lt;&lt; (<a class="code" href="HWAddressSanitizer_8cpp.html#aa62a4d0672bab180dd339cda25b23b2e">kNumberOfAccessSizes</a> - 1))) &amp;&amp;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      (!<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.Alignment || *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.Alignment &gt;= Mapping.getObjectAlignment() ||</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;       *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.Alignment &gt;= <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.TypeSize / 8)) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordtype">size_t</span> AccessSizeIndex = <a class="code" href="HWAddressSanitizer_8cpp.html#a0cf7e80624365372e769be7d6c04d74b">TypeSizeToSizeIndex</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.TypeSize);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (InstrumentWithCalls) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(HwasanMemoryAccessCallback[<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.IsWrite][AccessSizeIndex],</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                     IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, IntptrTy));</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OutlinedChecks) {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      instrumentMemAccessOutline(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.IsWrite, AccessSizeIndex, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getInsn());</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      instrumentMemAccessInline(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.IsWrite, AccessSizeIndex, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getInsn());</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(HwasanMemoryAccessCallbackSized[<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.IsWrite],</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                   {IRB.CreatePointerCast(Addr, IntptrTy),</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                    ConstantInt::get(IntptrTy, O.TypeSize / 8)});</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  }</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  untagPointerOperand(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getInsn(), <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;}</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::tagAlloca(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>,</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                   <span class="keywordtype">size_t</span> Size) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keywordtype">size_t</span> AlignedSize = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(Size, Mapping.getObjectAlignment());</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">if</span> (!UseShortGranules)</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = AlignedSize;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *JustTag = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a08230b6650e11747ef33144f1e463064">CreateTrunc</a>(<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>, IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7a71da01c646618b7f43d303d563b41b">getInt8Ty</a>());</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keywordflow">if</span> (InstrumentWithCalls) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(HwasanTagMemoryFunc,</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                   {IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(AI, Int8PtrTy), JustTag,</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                    <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, AlignedSize)});</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordtype">size_t</span> ShadowSize = <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> &gt;&gt; Mapping.Scale;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowPtr = memToShadow(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(AI, IntptrTy), IRB);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="comment">// If this memset is not inlined, it will be intercepted in the hwasan</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">// runtime library. That&#39;s OK, because the interceptor skips the checks if</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="comment">// the address is in the shadow region.</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">// FIXME: the interceptor is not as fast as real memset. Consider lowering</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">// llvm.memset right here into either a sequence of stores, or a call to</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="comment">// hwasan_tag_memory.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">if</span> (ShadowSize)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a0898c28c92cd3f62dfbd3caab8d01caa">CreateMemSet</a>(ShadowPtr, JustTag, ShadowSize, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1));</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">if</span> (Size != AlignedSize) {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <span class="keyword">const</span> uint8_t SizeRemainder = <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> % Mapping.getObjectAlignment().value();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int8Ty, SizeRemainder),</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a519198bac66aaa7c7dcee3dece00eac9">CreateConstGEP1_32</a>(Int8Ty, ShadowPtr, ShadowSize));</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(JustTag, IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a519198bac66aaa7c7dcee3dece00eac9">CreateConstGEP1_32</a>(</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                                   Int8Ty, IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(AI, Int8PtrTy),</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                                   AlignedSize - 1));</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  }</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="keywordtype">unsigned</span> HWAddressSanitizer::retagMask(<span class="keywordtype">unsigned</span> AllocaNo) {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="keywordflow">if</span> (TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>)</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">return</span> AllocaNo &amp; TagMaskByte;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// A list of 8-bit numbers that have at most one run of non-zero bits.</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="comment">// x = x ^ (mask &lt;&lt; 56) can be encoded as a single armv8 instruction for these</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="comment">// masks.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="comment">// The list does not include the value 255, which is used for UAR.</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="comment">// Because we are more likely to use earlier elements of this list than later</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="comment">// ones, it is sorted in increasing order of probability of collision with a</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="comment">// mask allocated (temporally) nearby. The program that generated this list</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="comment">// can be found at:</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="comment">// https://github.com/google/sanitizers/blob/master/hwaddress-sanitizer/sort_masks.py</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> FastMasks[] = {0,  128, 64,  192, 32,  96,  224, 112, 240,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                 48, 16,  120, 248, 56,  24,  8,   124, 252,</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                 60, 28,  12,  4,   126, 254, 62,  30,  14,</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                                 6,  2,   127, 63,  31,  15,  7,   3,   1};</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keywordflow">return</span> FastMasks[AllocaNo % <a class="code" href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">std::size</a>(FastMasks)];</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::applyTagMask(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *OldTag) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keywordflow">if</span> (TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *TagMask = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, TagMaskByte);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NewTag = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">CreateAnd</a>(OldTag, TagMask);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">return</span> NewTag;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="comment">// aarch64 uses 8-bit tags, so no mask is needed.</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">return</span> OldTag;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;}</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getNextTagWithCall(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a9e3a8d42fb905a26e3d71447d754d26e">CreateZExt</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(HwasanGenerateTagFunc), IntptrTy);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;}</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getStackBaseTag(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a7fb9abb83421b687d0c38aa4171d5290">ClGenerateTagsWithCalls</a>)</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">return</span> getNextTagWithCall(IRB);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keywordflow">if</span> (StackBaseTag)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">return</span> StackBaseTag;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// Extract some entropy from the stack pointer for the tags.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="comment">// Take bits 20..28 (ASLR entropy) and xor with bits 0..8 (these differ</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="comment">// between functions).</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *StackPointerLong = getSP(IRB);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *StackTag =</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      applyTagMask(IRB, IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a84652ca512637318e6729c659cf4541d">CreateXor</a>(StackPointerLong,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                                      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae7f65cf79c9900a2b0504fbc25db1428">CreateLShr</a>(StackPointerLong, 20)));</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  StackTag-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(<span class="stringliteral">&quot;hwasan.stack.base.tag&quot;</span>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordflow">return</span> StackTag;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;}</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getAllocaTag(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *StackTag,</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                                        <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI, <span class="keywordtype">unsigned</span> AllocaNo) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a7fb9abb83421b687d0c38aa4171d5290">ClGenerateTagsWithCalls</a>)</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">return</span> getNextTagWithCall(IRB);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a84652ca512637318e6729c659cf4541d">CreateXor</a>(StackTag,</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                       <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, retagMask(AllocaNo)));</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;}</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getUARTag(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *StackTag) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a47e83d1c9a8bfdc6fa44cbc90b1c3105">ClUARRetagToZero</a>)</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, 0);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a7fb9abb83421b687d0c38aa4171d5290">ClGenerateTagsWithCalls</a>)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">return</span> getNextTagWithCall(IRB);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a84652ca512637318e6729c659cf4541d">CreateXor</a>(StackTag, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, TagMaskByte));</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;}</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">// Add a tag to an address.</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::tagPointer(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                                      <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrLong, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!UsePageAliases);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TaggedPtrLong;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">if</span> (CompileKernel) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="comment">// Kernel addresses have 0xFF in the most significant byte.</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShiftedTag =</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae69ee83570f05c1d5fb5026c11145d6b">CreateShl</a>(<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>, PointerTagShift),</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                     <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, (1ULL &lt;&lt; PointerTagShift) - 1));</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    TaggedPtrLong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">CreateAnd</a>(PtrLong, ShiftedTag);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// Userspace can simply do OR (tag &lt;&lt; PointerTagShift);</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShiftedTag = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae69ee83570f05c1d5fb5026c11145d6b">CreateShl</a>(<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>, PointerTagShift);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    TaggedPtrLong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(PtrLong, ShiftedTag);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(TaggedPtrLong, Ty);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;}</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">// Remove tag from an address.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::untagPointer(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrLong) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!UsePageAliases);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *UntaggedPtrLong;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="keywordflow">if</span> (CompileKernel) {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="comment">// Kernel addresses have 0xFF in the most significant byte.</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    UntaggedPtrLong =</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(PtrLong, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(PtrLong-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                                               0xFFULL &lt;&lt; PointerTagShift));</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="comment">// Userspace addresses have 0x00.</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    UntaggedPtrLong =</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">CreateAnd</a>(PtrLong, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(PtrLong-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                                                ~(0xFFULL &lt;&lt; PointerTagShift)));</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  }</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordflow">return</span> UntaggedPtrLong;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;}</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getHwasanThreadSlotPtr(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae3f9633c349ede5341aa376d9c97dd8f">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">if</span> (TargetTriple.<a class="code" href="classllvm_1_1Triple.html#ad953e410aea43848740978d9a6529a82">isAArch64</a>() &amp;&amp; TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a3f3873f607a36e40241082727fef44db">isAndroid</a>()) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="comment">// Android provides a fixed TLS slot for sanitizers. See TLS_SLOT_SANITIZER</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="comment">// in Bionic&#39;s libc/private/bionic_tls.h.</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *ThreadPointerFunc =</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(M, Intrinsic::thread_pointer);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *SlotPtr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a519198bac66aaa7c7dcee3dece00eac9">CreateConstGEP1_32</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7a71da01c646618b7f43d303d563b41b">getInt8Ty</a>(),</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                               IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(ThreadPointerFunc), 0x30),</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        Ty-&gt;<a class="code" href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">getPointerTo</a>(0));</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">return</span> SlotPtr;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keywordflow">if</span> (ThreadPtrGlobal)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">return</span> ThreadPtrGlobal;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;}</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getPC(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="keywordflow">if</span> (TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">Triple::aarch64</a>)</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">return</span> readRegister(IRB, <span class="stringliteral">&quot;pc&quot;</span>);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#adb1729480bdc1b9222e15c7be52d41ec">CreatePtrToInt</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae3f9633c349ede5341aa376d9c97dd8f">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>(), IntptrTy);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;}</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getSP(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="keywordflow">if</span> (!CachedSP) {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment">// FIXME: use addressofreturnaddress (but implement it in aarch64 backend</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="comment">// first).</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae3f9633c349ede5341aa376d9c97dd8f">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>();</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent();</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keyword">auto</span> *GetStackPointerFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        M, Intrinsic::frameaddress,</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getDataLayout().getAllocaAddrSpace()));</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    CachedSP = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#adb1729480bdc1b9222e15c7be52d41ec">CreatePtrToInt</a>(</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(GetStackPointerFn,</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                       {Constant::getNullValue(IRB.getInt32Ty())}),</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        IntptrTy);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="keywordflow">return</span> CachedSP;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;}</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::getFrameRecordInfo(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="comment">// Prepare ring buffer data.</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PC = getPC(IRB);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SP = getSP(IRB);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">// Mix SP and PC.</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="comment">// Assumptions:</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="comment">// PC is 0x0000PPPPPPPPPPPP  (48 bits are meaningful, others are zero)</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="comment">// SP is 0xsssssssssssSSSS0  (4 lower bits are zero)</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="comment">// We only really need ~20 lower non-zero bits (SSSS), so we mix like this:</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <span class="comment">//       0xSSSSPPPPPPPPPPPP</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  SP = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae69ee83570f05c1d5fb5026c11145d6b">CreateShl</a>(SP, 44);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(PC, SP);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;}</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::emitPrologue(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <span class="keywordtype">bool</span> WithFrameRecord) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keywordflow">if</span> (!Mapping.InTls)</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    ShadowBase = getShadowNonTls(IRB);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!WithFrameRecord &amp;&amp; TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a3f3873f607a36e40241082727fef44db">isAndroid</a>())</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    ShadowBase = getDynamicShadowIfunc(IRB);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keywordflow">if</span> (!WithFrameRecord &amp;&amp; ShadowBase)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SlotPtr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ThreadLong = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ThreadLongMaybeUntagged = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="keyword">auto</span> getThreadLongMaybeUntagged = [&amp;]() {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">if</span> (!SlotPtr)</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      SlotPtr = getHwasanThreadSlotPtr(IRB, IntptrTy);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span> (!ThreadLong)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      ThreadLong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(IntptrTy, SlotPtr);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="comment">// Extract the address field from ThreadLong. Unnecessary on AArch64 with</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">// TBI.</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">return</span> TargetTriple.<a class="code" href="classllvm_1_1Triple.html#ad953e410aea43848740978d9a6529a82">isAArch64</a>() ? ThreadLong</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                                    : untagPointer(IRB, ThreadLong);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  };</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keywordflow">if</span> (WithFrameRecord) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a8a1c10b6cef65bd4c3990c94c8bf76fb">ClRecordStackHistory</a>) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ad9dbfb96b7805fecf168bf553c423cce">libcall</a>: {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <span class="comment">// Emit a runtime call into hwasan rather than emitting instructions for</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <span class="comment">// recording stack history.</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *FrameRecordInfo = getFrameRecordInfo(IRB);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(HwasanRecordFrameRecordFunc, {FrameRecordInfo});</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2af12bc59169afda2918e9f23e3501c2b6">instr</a>: {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      ThreadLongMaybeUntagged = getThreadLongMaybeUntagged();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      StackBaseTag = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac9a8a0fc03580713b5d652cd92dc0ec3">CreateAShr</a>(ThreadLong, 3);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="comment">// Store data to ring buffer.</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *FrameRecordInfo = getFrameRecordInfo(IRB);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *RecordPtr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(ThreadLongMaybeUntagged,</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                            IntptrTy-&gt;getPointerTo(0));</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(FrameRecordInfo, RecordPtr);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="comment">// Update the ring buffer. Top byte of ThreadLong defines the size of the</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="comment">// buffer in pages, it must be a power of two, and the start of the buffer</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="comment">// must be aligned by twice that much. Therefore wrap around of the ring</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="comment">// buffer is simply Addr &amp;= ~((ThreadLong &gt;&gt; 56) &lt;&lt; 12).</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="comment">// The use of AShr instead of LShr is due to</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="comment">//   https://bugs.llvm.org/show_bug.cgi?id=39030</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      <span class="comment">// Runtime library makes sure not to use the highest bit.</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *WrapMask = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a84652ca512637318e6729c659cf4541d">CreateXor</a>(</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;          IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae69ee83570f05c1d5fb5026c11145d6b">CreateShl</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac9a8a0fc03580713b5d652cd92dc0ec3">CreateAShr</a>(ThreadLong, 56), 12, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">true</span>, <span class="keyword">true</span>),</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;          <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)-1));</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *ThreadLongNew = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">CreateAnd</a>(</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;          IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">CreateAdd</a>(ThreadLong, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, 8)), WrapMask);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(ThreadLongNew, SlotPtr);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">none</a>: {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;          <span class="stringliteral">&quot;A stack history recording mode should&#39;ve been selected.&quot;</span>);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    }</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="keywordflow">if</span> (!ShadowBase) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">if</span> (!ThreadLongMaybeUntagged)</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      ThreadLongMaybeUntagged = getThreadLongMaybeUntagged();</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="comment">// Get shadow base address by aligning RecordPtr up.</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="comment">// Note: this is not correct if the pointer is already aligned.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="comment">// Runtime library will make sure this never happens.</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    ShadowBase = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">CreateAdd</a>(</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            ThreadLongMaybeUntagged,</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, (1ULL &lt;&lt; <a class="code" href="HWAddressSanitizer_8cpp.html#a385738871b08f6474945de0b29bf0aa6">kShadowBaseAlignment</a>) - 1)),</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, 1), <span class="stringliteral">&quot;hwasan.shadow&quot;</span>);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    ShadowBase = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(ShadowBase, Int8PtrTy);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;}</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *HWAddressSanitizer::readRegister(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae3f9633c349ede5341aa376d9c97dd8f">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *ReadRegister =</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(M, Intrinsic::read_register, IntptrTy);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, {<a class="code" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Name)});</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = {<a class="code" href="classllvm_1_1MetadataAsValue.html#a3188a1aa0df768d8f254cd8d8fdeface">MetadataAsValue::get</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, MD)};</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(ReadRegister, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;}</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="keywordtype">bool</span> HWAddressSanitizer::instrumentLandingPads(</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Instruction *&gt;</a> &amp;LandingPadVec) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *LP : LandingPadVec) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(LP-&gt;getNextNode());</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        HWAsanHandleVfork,</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        {readRegister(IRB, (TargetTriple.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>) ? <span class="stringliteral">&quot;rsp&quot;</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                                                                      : <span class="stringliteral">&quot;sp&quot;</span>)});</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"><a class="line" href="HWAddressSanitizer_8cpp.html#a9e381ee7d9ec3402ba909175011cedca"> 1290</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a67e35ae592be2ec7e834e5682f82831b">isLifetimeIntrinsic</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(V);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">return</span> II &amp;&amp; II-&gt;isLifetimeStartOrEnd();</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;}</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="keywordtype">bool</span> HWAddressSanitizer::instrumentStack(<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html">memtag::StackInfo</a> &amp;SInfo,</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                                         <a class="code" href="classllvm_1_1Value.html">Value</a> *StackTag,</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT,</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> &amp;PDT,</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI) {</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="comment">// Ideally, we want to calculate tagged stack base pointer, and rewrite all</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="comment">// alloca addresses using that. Unfortunately, offsets are not known yet</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="comment">// (unless we use ASan-style mega-alloca). Instead we keep the base tag in a</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="comment">// temp, shift-OR it into each alloca address and xor with the retag mask.</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="comment">// This generates one extra instruction per alloca use.</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;KV : SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#a0f11122c100ce7f5074c045f8b9095e4">AllocasToInstrument</a>) {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keyword">auto</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keyword">auto</span> *AI = KV.first;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <a class="code" href="structllvm_1_1memtag_1_1AllocaInfo.html">memtag::AllocaInfo</a> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = KV.second;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(AI-&gt;<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>());</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="comment">// Replace uses of the alloca with tagged address.</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> = getAllocaTag(IRB, StackTag, AI, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *AILong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(AI, IntptrTy);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Replacement = tagPointer(IRB, AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#ac106bea55dfb26f8b14676aac05bd89f">getType</a>(), AILong, <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    std::string <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> =</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        AI-&gt;<a class="code" href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">hasName</a>() ? AI-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>() : <span class="stringliteral">&quot;alloca.&quot;</span> + itostr(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    Replacement-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(Name + <span class="stringliteral">&quot;.hwasan&quot;</span>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="namespacellvm_1_1memtag.html#a892fff96fbddc1bc777dd9b3ca02b116">memtag::getAllocaSizeInBytes</a>(*AI);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keywordtype">size_t</span> AlignedSize = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(Size, Mapping.getObjectAlignment());</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *AICast = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(AI, Int8PtrTy);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keyword">auto</span> HandleLifetime = [&amp;](<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II) {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <span class="comment">// Set the lifetime intrinsic to cover the whole alloca. This reduces the</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="comment">// set of assumptions we need to make about the lifetime. Without this we</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <span class="comment">// would need to ensure that we can track the lifetime pointer to a</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="comment">// constant offset from the alloca, and would still need to change the</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="comment">// size to include the extra alignment we use for the untagging to make</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="comment">// the size consistent.</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="comment">// The check for standard lifetime below makes sure that we have exactly</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <span class="comment">// one set of start / end in any execution (i.e. the ends are not</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <span class="comment">// reachable from each other), so this will not cause any problems.</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      II-&gt;setArgOperand(0, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int64Ty, AlignedSize));</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      II-&gt;setArgOperand(1, AICast);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    };</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="namespacellvm.html#a0b2a153b655ed78a07468297eb4c6256">llvm::for_each</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.LifetimeStart, HandleLifetime);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <a class="code" href="namespacellvm.html#a0b2a153b655ed78a07468297eb4c6256">llvm::for_each</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.LifetimeEnd, HandleLifetime);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    AI-&gt;<a class="code" href="classllvm_1_1Value.html#a7e8dad1701aa6445be4a29f654b0473c">replaceUsesWithIf</a>(Replacement, [AICast, AILong](<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U) {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="classllvm_1_1User.html">User</a> = U.<a class="code" href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">getUser</a>();</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1User.html">User</a> != AILong &amp;&amp; <a class="code" href="classllvm_1_1User.html">User</a> != AICast &amp;&amp; !<a class="code" href="namespacellvm.html#a67e35ae592be2ec7e834e5682f82831b">isLifetimeIntrinsic</a>(<a class="code" href="classllvm_1_1User.html">User</a>);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    });</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DDI : <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.DbgVariableIntrinsics) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="comment">// Prepend &quot;tag_offset, N&quot; to the dwarf expression.</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <span class="comment">// Tag offset logically applies to the alloca pointer, and it makes sense</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <span class="comment">// to put it at the beginning of the expression.</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t, 8&gt;</a> NewOps = {<a class="code" href="namespacellvm_1_1dwarf.html#a78e9cb1527edb3cc1d1ee577257b5f0ca989f426170b8ef321ffeb4838b4c590f">dwarf::DW_OP_LLVM_tag_offset</a>,</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                                         retagMask(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)};</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> LocNo = 0; LocNo &lt; DDI-&gt;getNumVariableLocationOps(); ++LocNo)</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <span class="keywordflow">if</span> (DDI-&gt;getVariableLocationOp(LocNo) == AI)</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;          DDI-&gt;setExpression(<a class="code" href="classllvm_1_1DIExpression.html#a5f48305fa7d23161515c94bca7c2beb6">DIExpression::appendOpsToArg</a>(DDI-&gt;getExpression(),</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                                                          NewOps, LocNo));</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keyword">auto</span> TagEnd = [&amp;](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Node) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(Node);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *UARTag = getUARTag(IRB, StackTag);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <span class="comment">// When untagging, use the `AlignedSize` because we need to set the tags</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="comment">// for the entire alloca to zero. If we used `Size` here, we would</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="comment">// keep the last granule tagged, and store zero in the last byte of the</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <span class="comment">// last granule, due to how short granules are implemented.</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      tagAlloca(IRB, AI, UARTag, AlignedSize);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    };</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="comment">// Calls to functions that may return twice (e.g. setjmp) confuse the</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="comment">// postdominator analysis, and will leave us to keep memory tagged after</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="comment">// function return. Work around this by always untagging at every return</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="comment">// statement if return_twice functions are called.</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordtype">bool</span> StandardLifetime =</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#a6c5e8257b6382613bbaf7873925d564a">UnrecognizedLifetimes</a>.empty() &amp;&amp;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <a class="code" href="namespacellvm_1_1memtag.html#a56e44807cae1089569cdd78a6455b4a5">memtag::isStandardLifetime</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.LifetimeStart, <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.LifetimeEnd, &amp;DT,</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                                   &amp;LI, <a class="code" href="HWAddressSanitizer_8cpp.html#ae304cb1baf6480df1ca6fb9c40b4e3c5">ClMaxLifetimes</a>) &amp;&amp;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        !SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#a25e0efcd0eee0a66d58ead908076c624">CallsReturnTwice</a>;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">if</span> (DetectUseAfterScope &amp;&amp; StandardLifetime) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *Start = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.LifetimeStart[0];</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(Start-&gt;getNextNode());</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      tagAlloca(IRB, AI, <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>, Size);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1memtag.html#a57d5dcc6c4a3f7dff5df68d2f2791bde">memtag::forAllReachableExits</a>(DT, PDT, LI, Start, <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.LifetimeEnd,</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                        SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#afb21e7bdcff1f24ac3bc6bc93960ca35">RetVec</a>, TagEnd)) {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *End : <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.LifetimeEnd)</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;          End-&gt;eraseFromParent();</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      tagAlloca(IRB, AI, <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>, Size);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *RI : SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#afb21e7bdcff1f24ac3bc6bc93960ca35">RetVec</a>)</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        TagEnd(RI);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="comment">// We inserted tagging outside of the lifetimes, so we have to remove</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="comment">// them.</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;II : <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.LifetimeStart)</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        II-&gt;eraseFromParent();</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;II : <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.LifetimeEnd)</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        II-&gt;eraseFromParent();</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <a class="code" href="namespacellvm_1_1memtag.html#acc2528429e7e0eb707ca49e72bb3ce49">memtag::alignAndPadAlloca</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>, Mapping.getObjectAlignment());</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#a6c5e8257b6382613bbaf7873925d564a">UnrecognizedLifetimes</a>)</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="keywordtype">bool</span> HWAddressSanitizer::sanitizeFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                                          <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>) {</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">if</span> (&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> == HwasanCtorFunction)</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::SanitizeHWAddress))</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Function: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;InterestingMemoryOperand, 16&gt;</a> OperandsToInstrument;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MemIntrinsic *, 16&gt;</a> IntrinToInstrument;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 8&gt;</a> LandingPadVec;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <a class="code" href="classllvm_1_1memtag_1_1StackInfoBuilder.html">memtag::StackInfoBuilder</a> SIB(SSI);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Inst : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">if</span> (InstrumentStack) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      SIB.visit(Inst);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    }</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">if</span> (InstrumentLandingPads &amp;&amp; isa&lt;LandingPadInst&gt;(Inst))</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      LandingPadVec.push_back(&amp;Inst);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    getInterestingMemoryOperands(&amp;Inst, OperandsToInstrument);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = dyn_cast&lt;MemIntrinsic&gt;(&amp;Inst))</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">if</span> (!ignoreMemIntrinsic(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        IntrinToInstrument.push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <a class="code" href="structllvm_1_1memtag_1_1StackInfo.html">memtag::StackInfo</a> &amp;SInfo = SIB.get();</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  initializeCallbacks(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent());</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="keywordflow">if</span> (!LandingPadVec.empty())</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    Changed |= instrumentLandingPads(LandingPadVec);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">if</span> (SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#a0f11122c100ce7f5074c045f8b9095e4">AllocasToInstrument</a>.empty() &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasPersonalityFn() &amp;&amp;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getPersonalityFn()-&gt;getName() == <a class="code" href="HWAddressSanitizer_8cpp.html#aefbce25f9dafaefce652e506afd757f0">kHwasanPersonalityThunkName</a>) {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="comment">// __hwasan_personality_thunk is a no-op for functions without an</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="comment">// instrumented stack, so we can drop it.</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setPersonalityFn(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  }</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="keywordflow">if</span> (SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#a0f11122c100ce7f5074c045f8b9095e4">AllocasToInstrument</a>.empty() &amp;&amp; OperandsToInstrument.empty() &amp;&amp;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      IntrinToInstrument.empty())</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ShadowBase);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertPt = &amp;*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getEntryBlock().begin();</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> EntryIRB(InsertPt);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  emitPrologue(EntryIRB,</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;               <span class="comment">/*WithFrameRecord*/</span> <a class="code" href="HWAddressSanitizer_8cpp.html#a8a1c10b6cef65bd4c3990c94c8bf76fb">ClRecordStackHistory</a> != <a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">none</a> &amp;&amp;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                   Mapping.WithFrameRecord &amp;&amp;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                   !SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#a0f11122c100ce7f5074c045f8b9095e4">AllocasToInstrument</a>.empty());</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">if</span> (!SInfo.<a class="code" href="structllvm_1_1memtag_1_1StackInfo.html#a0f11122c100ce7f5074c045f8b9095e4">AllocasToInstrument</a>.empty()) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT = <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> &amp;PDT = <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1PostDominatorTreeAnalysis.html">PostDominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI = <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1LoopAnalysis.html">LoopAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *StackTag =</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <a class="code" href="HWAddressSanitizer_8cpp.html#a7fb9abb83421b687d0c38aa4171d5290">ClGenerateTagsWithCalls</a> ? nullptr : getStackBaseTag(EntryIRB);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    instrumentStack(SInfo, StackTag, DT, PDT, LI);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="comment">// If we split the entry block, move any allocas that were originally in the</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">// entry block back into the entry block so that they aren&#39;t treated as</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="comment">// dynamic allocas.</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="keywordflow">if</span> (EntryIRB.GetInsertBlock() != &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getEntryBlock()) {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    InsertPt = &amp;*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getEntryBlock().begin();</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> :</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;         <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(*EntryIRB.GetInsertBlock())) {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AI = dyn_cast&lt;AllocaInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#aaca14fdf6d151782f7ab0a66405453fb">getArraySize</a>()))</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;          <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.moveBefore(InsertPt);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    }</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  }</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Operand : OperandsToInstrument)</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    instrumentMemAccess(Operand);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a15bf48964e66a9c44bda8cd292261538">ClInstrumentMemIntrinsics</a> &amp;&amp; !IntrinToInstrument.empty()) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Inst : IntrinToInstrument)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      instrumentMemIntrinsic(Inst);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  ShadowBase = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  StackBaseTag = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  CachedSP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;}</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::instrumentGlobal(<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV, uint8_t <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>) {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!UsePageAliases);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Initializer = GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a0e5946885029c1bce1350d34f2539b1b">getInitializer</a>();</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SizeInBytes =</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getTypeAllocSize(Initializer-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NewSize = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(SizeInBytes, Mapping.getObjectAlignment());</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="keywordflow">if</span> (SizeInBytes != NewSize) {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="comment">// Pad the initializer out to the next multiple of 16 bytes and add the</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="comment">// required short granule tag.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    std::vector&lt;uint8_t&gt; <a class="code" href="classllvm_1_1Init.html">Init</a>(NewSize - SizeInBytes, 0);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <a class="code" href="classllvm_1_1Init.html">Init</a>.back() = <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caa10443964156b9e87c95e74c8f9baf15">Padding</a> = <a class="code" href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">ConstantDataArray::get</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1Init.html">Init</a>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    Initializer = <a class="code" href="classllvm_1_1ConstantStruct.html#a801ba6ad994f4c40b17055d228312be7">ConstantStruct::getAnon</a>({Initializer, <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caa10443964156b9e87c95e74c8f9baf15">Padding</a>});</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  }</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keyword">auto</span> *NewGV = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, Initializer-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#aa859e108741fa64681b63f0c0c672512">isConstant</a>(),</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                                   <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>, Initializer,</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                                   GV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.hwasan&quot;</span>);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  NewGV-&gt;copyAttributesFrom(GV);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  NewGV-&gt;setLinkage(<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  NewGV-&gt;copyMetadata(GV, 0);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  NewGV-&gt;setAlignment(</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(GV-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#a115ac0121663aa8365e095d095d0c633">getAlign</a>().<a class="code" href="structllvm_1_1MaybeAlign.html#a06846474be3ab85f8d30c388faf3b116">valueOrOne</a>(), Mapping.getObjectAlignment()));</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160; </div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="comment">// It is invalid to ICF two globals that have different tags. In the case</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="comment">// where the size of the global is a multiple of the tag granularity the</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="comment">// contents of the globals may be the same but the tags (i.e. symbol values)</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="comment">// may be different, and the symbols are not considered during ICF. In the</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="comment">// case where the size is not a multiple of the granularity, the short granule</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// tags would discriminate two globals with different tags, but there would</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="comment">// otherwise be nothing stopping such a global from being incorrectly ICF&#39;d</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="comment">// with an uninstrumented (i.e. tag 0) global that happened to have the short</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="comment">// granule tag in the last byte.</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  NewGV-&gt;setUnnamedAddr(<a class="code" href="classllvm_1_1GlobalValue.html#ae8df4be75bfc50b1eadd74e85c25fa45a6adf97f83acf6453d4a6a4b1070f3754">GlobalValue::UnnamedAddr::None</a>);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="comment">// Descriptor format (assuming little-endian):</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="comment">// bytes 0-3: relative address of global</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">// bytes 4-6: size of global (16MB ought to be enough for anyone, but in case</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// it isn&#39;t, we create multiple descriptors)</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="comment">// byte 7: tag</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keyword">auto</span> *DescriptorTy = <a class="code" href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">StructType::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> MaxDescriptorSize = 0xfffff0;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DescriptorPos = 0; DescriptorPos &lt; SizeInBytes;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;       DescriptorPos += MaxDescriptorSize) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keyword">auto</span> *Descriptor =</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, DescriptorTy, <span class="keyword">true</span>, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>,</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                           <span class="keyword">nullptr</span>, GV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.hwasan.descriptor&quot;</span>);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="keyword">auto</span> *GVRelPtr = <a class="code" href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">ConstantExpr::getTrunc</a>(</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <a class="code" href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">ConstantExpr::getAdd</a>(</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <a class="code" href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">ConstantExpr::getSub</a>(</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(NewGV, Int64Ty),</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(Descriptor, Int64Ty)),</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int64Ty, DescriptorPos)),</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(SizeInBytes - DescriptorPos, MaxDescriptorSize);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keyword">auto</span> *SizeAndTag = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, Size | (<a class="code" href="classuint32__t.html">uint32_t</a>(<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>) &lt;&lt; 24));</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    Descriptor-&gt;setComdat(NewGV-&gt;getComdat());</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    Descriptor-&gt;setInitializer(<a class="code" href="classllvm_1_1ConstantStruct.html#a801ba6ad994f4c40b17055d228312be7">ConstantStruct::getAnon</a>({GVRelPtr, SizeAndTag}));</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    Descriptor-&gt;setSection(<span class="stringliteral">&quot;hwasan_globals&quot;</span>);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    Descriptor-&gt;setMetadata(LLVMContext::MD_associated,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                            <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1ValueAsMetadata.html#a53fc78b63202142110d0e86dd1a71fbe">ValueAsMetadata::get</a>(NewGV)));</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <a class="code" href="namespacellvm.html#aab730f72aa213d5ecc7d1101efda8811">appendToCompilerUsed</a>(M, Descriptor);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160; </div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Aliasee = <a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <a class="code" href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">ConstantExpr::getAdd</a>(</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;          <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(NewGV, Int64Ty),</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;          <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int64Ty, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>) &lt;&lt; PointerTagShift)),</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a92041fc7f781ba4fe708eec99139b72f">getType</a>());</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="keyword">auto</span> *Alias = <a class="code" href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">GlobalAlias::create</a>(GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a29e0b1c558b350347e2652b35b26fea8">getValueType</a>(), GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a702d4986803a1782ba305b1c7a0f1c21">getAddressSpace</a>(),</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                                    GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>(), <span class="stringliteral">&quot;&quot;</span>, Aliasee, &amp;M);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  Alias-&gt;setVisibility(GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a28b9561d9ef3d237ef894023187fa26c">getVisibility</a>());</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  Alias-&gt;takeName(GV);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  GV-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Alias);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#ae0cf03d5de37330b1eb69dd22a1d5057">eraseFromParent</a>();</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;}</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::instrumentGlobals() {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  std::vector&lt;GlobalVariable *&gt; Globals;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> &amp;GV : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals()) {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="keywordflow">if</span> (GV.<a class="code" href="classllvm_1_1GlobalValue.html#a6d863ff0d778248ac9b693db3494565c">hasSanitizerMetadata</a>() &amp;&amp; GV.<a class="code" href="classllvm_1_1GlobalValue.html#a10dbf1e2be9c60af49efb9bfded99225">getSanitizerMetadata</a>().<a class="code" href="structllvm_1_1GlobalValue_1_1SanitizerMetadata.html#a3c6f90fc4359e4c8cc2ad7333254f3c7">NoHWAddress</a>)</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">if</span> (GV.<a class="code" href="classllvm_1_1GlobalValue.html#a6b66f492cbea5f4b4f434d7178477116">isDeclarationForLinker</a>() || GV.<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a84cd09ccc918883d51a387f0e0f374f3">startswith</a>(<span class="stringliteral">&quot;llvm.&quot;</span>) ||</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        GV.<a class="code" href="classllvm_1_1GlobalValue.html#a239427c2c3a01e23bd15b29633696536">isThreadLocal</a>())</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="comment">// Common symbols can&#39;t have aliases point to them, so they can&#39;t be tagged.</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">if</span> (GV.<a class="code" href="classllvm_1_1GlobalValue.html#ac10ac4576e030b231e1fbb5a8272f01f">hasCommonLinkage</a>())</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="comment">// Globals with custom sections may be used in __start_/__stop_ enumeration,</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="comment">// which would be broken both by adding tags and potentially by the extra</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">// padding/alignment that we insert.</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">if</span> (GV.<a class="code" href="classllvm_1_1GlobalObject.html#ade7dc7510e950cd1c1181138b390f965">hasSection</a>())</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    Globals.push_back(&amp;GV);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160; </div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <a class="code" href="classllvm_1_1MD5.html">MD5</a> Hasher;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  Hasher.<a class="code" href="classllvm_1_1MD5.html#a3f41856aade4440631544e50238f75f5">update</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getSourceFileName());</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <a class="code" href="structllvm_1_1MD5_1_1MD5Result.html">MD5::MD5Result</a> Hash;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  Hasher.<a class="code" href="classllvm_1_1MD5.html#a5138672d89124f45e2217d8484a59a40">final</a>(Hash);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  uint8_t <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> = Hash[0];</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV : Globals) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> &amp;= TagMaskByte;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="comment">// Skip tag 0 in order to avoid collisions with untagged memory.</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == 0)</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> = 1;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    instrumentGlobal(GV, <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>++);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;}</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="keywordtype">void</span> HWAddressSanitizer::instrumentPersonalityFunctions() {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="comment">// We need to untag stack frames as we unwind past them. That is the job of</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="comment">// the personality function wrapper, which either wraps an existing</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="comment">// personality function or acts as a personality function on its own. Each</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="comment">// function that has a personality function or that can be unwound past has</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="comment">// its personality function changed to a thunk that calls the personality</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="comment">// function wrapper in the runtime.</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;Constant *, std::vector&lt;Function *&gt;</a>&gt; PersonalityFns;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : M) {</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration() || !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::SanitizeHWAddress))</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasPersonalityFn()) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      PersonalityFns[<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getPersonalityFn()-&gt;stripPointerCasts()].push_back(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::NoUnwind)) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      PersonalityFns[<span class="keyword">nullptr</span>].push_back(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <span class="keywordflow">if</span> (PersonalityFns.<a class="code" href="classllvm_1_1MapVector.html#a8da97c44f514ad1ae9ccf4518b0f88aa">empty</a>())</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> HwasanPersonalityWrapper = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="stringliteral">&quot;__hwasan_personality_wrapper&quot;</span>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, Int64Ty,</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      Int8PtrTy, Int8PtrTy, Int8PtrTy, Int8PtrTy, Int8PtrTy);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> UnwindGetGR = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(<span class="stringliteral">&quot;_Unwind_GetGR&quot;</span>, VoidTy);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> UnwindGetCFA = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(<span class="stringliteral">&quot;_Unwind_GetCFA&quot;</span>, VoidTy);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : PersonalityFns) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    std::string ThunkName = <a class="code" href="HWAddressSanitizer_8cpp.html#aefbce25f9dafaefce652e506afd757f0">kHwasanPersonalityThunkName</a>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first)</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      ThunkName += (<span class="stringliteral">&quot;.&quot;</span> + <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first-&gt;getName()).str();</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *ThunkFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, {<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, Int64Ty, Int8PtrTy, Int8PtrTy}, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordtype">bool</span> IsLocal = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first &amp;&amp; (!isa&lt;GlobalValue&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first) ||</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                               cast&lt;GlobalValue&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first)-&gt;hasLocalLinkage());</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keyword">auto</span> *ThunkFn = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(ThunkFnTy,</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                                     IsLocal ? <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">GlobalValue::InternalLinkage</a></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                                             : <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">GlobalValue::LinkOnceODRLinkage</a>,</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                                     ThunkName, &amp;M);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">if</span> (!IsLocal) {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      ThunkFn-&gt;setVisibility(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      ThunkFn-&gt;setComdat(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertComdat(ThunkName));</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    }</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">BasicBlock::Create</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <span class="stringliteral">&quot;entry&quot;</span>, ThunkFn);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *WrapperCall = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        HwasanPersonalityWrapper,</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        {ThunkFn-&gt;getArg(0), ThunkFn-&gt;getArg(1), ThunkFn-&gt;getArg(2),</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;         ThunkFn-&gt;getArg(3), ThunkFn-&gt;getArg(4),</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;         <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first ? IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first, Int8PtrTy)</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                 : <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Int8PtrTy),</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(UnwindGetGR.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>(), Int8PtrTy),</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(UnwindGetCFA.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>(), Int8PtrTy)});</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    WrapperCall-&gt;<a class="code" href="classllvm_1_1CallInst.html#acff66a4cb0efaafb728848edf097c75f">setTailCall</a>();</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a265b4e9fb81978c89714d34cd5abb412">CreateRet</a>(WrapperCall);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second)</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setPersonalityFn(ThunkFn);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;}</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">HWAddressSanitizer::ShadowMapping::init</a>(<a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TargetTriple,</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                                             <span class="keywordtype">bool</span> InstrumentWithCalls) {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  Scale = <a class="code" href="HWAddressSanitizer_8cpp.html#a174914c130f5512b50cf6e97e4de1634">kDefaultShadowScale</a>;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordflow">if</span> (TargetTriple.<a class="code" href="classllvm_1_1Triple.html#ae891092a64f3b737dcba557a8450587c">isOSFuchsia</a>()) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="comment">// Fuchsia is always PIE, which means that the beginning of the address</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="comment">// space is always available.</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    InGlobal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    InTls = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    WithFrameRecord = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#aadb09e5bf8720e43db4383bb7fcdcea1">ClMappingOffset</a>.getNumOccurrences() &gt; 0) {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    InGlobal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    InTls = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="HWAddressSanitizer_8cpp.html#aadb09e5bf8720e43db4383bb7fcdcea1">ClMappingOffset</a>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    WithFrameRecord = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a809c1e1b3869fc5d463cb84c1741aeef">ClEnableKhwasan</a> || InstrumentWithCalls) {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    InGlobal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    InTls = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    WithFrameRecord = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#a4db394865ada639a359a041ade63e1be">ClWithIfunc</a>) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    InGlobal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    InTls = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="HWAddressSanitizer_8cpp.html#a8d1135f2ee91e5d486647a37f8074dcc">kDynamicShadowSentinel</a>;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    WithFrameRecord = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="HWAddressSanitizer_8cpp.html#ab6052bee66799292fb55707a59bbd553">ClWithTls</a>) {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    InGlobal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    InTls = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="HWAddressSanitizer_8cpp.html#a8d1135f2ee91e5d486647a37f8074dcc">kDynamicShadowSentinel</a>;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    WithFrameRecord = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    InGlobal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    InTls = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="HWAddressSanitizer_8cpp.html#a8d1135f2ee91e5d486647a37f8074dcc">kDynamicShadowSentinel</a>;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    WithFrameRecord = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a8d1135f2ee91e5d486647a37f8074dcc"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a8d1135f2ee91e5d486647a37f8074dcc">kDynamicShadowSentinel</a></div><div class="ttdeci">static const uint64_t kDynamicShadowSentinel</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00076">HWAddressSanitizer.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalsAA_html"><div class="ttname"><a href="classllvm_1_1GlobalsAA.html">llvm::GlobalsAA</a></div><div class="ttdoc">Analysis pass providing a never-invalidated alias analysis result.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalsModRef_8h_source.html#l00127">GlobalsModRef.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab102f0f12dd38aeea5906b1d80c792ff"><div class="ttname"><a href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">llvm::alignTo</a></div><div class="ttdeci">uint64_t alignTo(uint64_t Size, Align A)</div><div class="ttdoc">Returns a multiple of A needed to store Size bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00155">Alignment.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154ae4763cb7c05a2a59ce27d51040bf4b08"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae4763cb7c05a2a59ce27d51040bf4b08">llvm::Triple::riscv64</a></div><div class="ttdeci">@ riscv64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00076">Triple.h:76</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_abc8aecb5b627f6a91fc2fb09762d2a41"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a></div><div class="ttdeci">IntegerType * Int32Ty</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00067">NVVMIntrRange.cpp:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a6d863ff0d778248ac9b693db3494565c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a6d863ff0d778248ac9b693db3494565c">llvm::GlobalValue::hasSanitizerMetadata</a></div><div class="ttdeci">bool hasSanitizerMetadata() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00351">GlobalValue.h:351</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a7f6668c3b9d8aaeecd952b7a9b83590e"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a7f6668c3b9d8aaeecd952b7a9b83590e">ClInlineAllChecks</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInlineAllChecks(&quot;hwasan-inline-all-checks&quot;, cl::desc(&quot;inline all checks&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aStackSafetyAnalysis_8h_html"><div class="ttname"><a href="StackSafetyAnalysis_8h.html">StackSafetyAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ad145436b2347d82ff976a0d86a0ae149"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">llvm::IRBuilderBase::CreateIntCast</a></div><div class="ttdeci">Value * CreateIntCast(Value *V, Type *DestTy, bool isSigned, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02077">IRBuilder.h:2077</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_ae0cf03d5de37330b1eb69dd22a1d5057"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#ae0cf03d5de37330b1eb69dd22a1d5057">llvm::GlobalVariable::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">eraseFromParent - This method unlinks 'this' from the containing module and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00468">Globals.cpp:468</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a6ee1d1e7a13072ef579558d64b208d3c"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">llvm::IRBuilderBase::getInt32Ty</a></div><div class="ttdeci">IntegerType * getInt32Ty()</div><div class="ttdoc">Fetch the type representing a 32-bit integer.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00512">IRBuilder.h:512</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7d1a18dc150da601587ccc716e0e4b41"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">llvm::IRBuilderBase::CreateStore</a></div><div class="ttdeci">StoreInst * CreateStore(Value *Val, Value *Ptr, bool isVolatile=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01718">IRBuilder.h:1718</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ELF_html_a266dd1690651acfc919f8a259673b265a947be5f5d7c27972ff1b231dc469bd46"><div class="ttname"><a href="namespacellvm_1_1ELF.html#a266dd1690651acfc919f8a259673b265a947be5f5d7c27972ff1b231dc469bd46">llvm::ELF::NT_LLVM_HWASAN_GLOBALS</a></div><div class="ttdeci">@ NT_LLVM_HWASAN_GLOBALS</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2ELF_8h_source.html#l01615">ELF.h:1615</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ace45cae6925c65e9d6916e09dd5b17cc"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">llvm::IRBuilderBase::SetInsertPoint</a></div><div class="ttdeci">void SetInsertPoint(BasicBlock *TheBB)</div><div class="ttdoc">This specifies that created instructions should be appended to the end of the specified block.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00180">IRBuilder.h:180</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a800a5183372ed37a74be5cddf5df325c"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a800a5183372ed37a74be5cddf5df325c">llvm::GlobalObject::setComdat</a></div><div class="ttdeci">void setComdat(Comdat *C)</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00198">Globals.cpp:198</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_acff66a4cb0efaafb728848edf097c75f"><div class="ttname"><a href="classllvm_1_1CallInst.html#acff66a4cb0efaafb728848edf097c75f">llvm::CallInst::setTailCall</a></div><div class="ttdeci">void setTailCall(bool IsTc=true)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01690">Instructions.h:1690</a></div></div>
<div class="ttc" id="aNoFolder_8h_html"><div class="ttname"><a href="NoFolder_8h.html">NoFolder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MD5_html_a3f41856aade4440631544e50238f75f5"><div class="ttname"><a href="classllvm_1_1MD5.html#a3f41856aade4440631544e50238f75f5">llvm::MD5::update</a></div><div class="ttdeci">void update(ArrayRef&lt; uint8_t &gt; Data)</div><div class="ttdoc">Updates the hash for the byte stream provided.</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00189">MD5.cpp:189</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_aeaa43ab635ee98b9e2055d0f217558c2"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2">RecordStackHistoryMode</a></div><div class="ttdeci">RecordStackHistoryMode</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00188">HWAddressSanitizer.cpp:188</a></div></div>
<div class="ttc" id="astructllvm_1_1memtag_1_1StackInfo_html"><div class="ttname"><a href="structllvm_1_1memtag_1_1StackInfo.html">llvm::memtag::StackInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8h_source.html#l00057">MemoryTaggingSupport.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html_a18fc4545474c6ebb6f7c547f64f4fb31"><div class="ttname"><a href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">llvm::StructType::get</a></div><div class="ttdeci">static StructType * get(LLVMContext &amp;Context, ArrayRef&lt; Type * &gt; Elements, bool isPacked=false)</div><div class="ttdoc">This static method is the primary way to create a literal StructType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00408">Type.cpp:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_ac10ac4576e030b231e1fbb5a8272f01f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ac10ac4576e030b231e1fbb5a8272f01f">llvm::GlobalValue::hasCommonLinkage</a></div><div class="ttdeci">bool hasCommonLinkage() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00527">GlobalValue.h:527</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HWASanAccessInfo_html_a5a5e0b9c8bd2f1e2ee12ed75604e40c6a3d9acaec708a77cbe6c60c019588fe15"><div class="ttname"><a href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6a3d9acaec708a77cbe6c60c019588fe15">llvm::HWASanAccessInfo::AccessSizeShift</a></div><div class="ttdeci">@ AccessSizeShift</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00058">HWAddressSanitizer.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="astructllvm_1_1PassInfoMixin_html"><div class="ttname"><a href="structllvm_1_1PassInfoMixin.html">llvm::PassInfoMixin&lt; HWAddressSanitizerPass &gt;</a></div></div>
<div class="ttc" id="aInstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a3547d58a060ee2e4a29cbea85bef91af"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">llvm::GlobalValue::getLinkage</a></div><div class="ttdeci">LinkageTypes getLinkage() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00541">GlobalValue.h:541</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">llvm::GlobalValue::HiddenVisibility</a></div><div class="ttdeci">@ HiddenVisibility</div><div class="ttdoc">The GV is hidden.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00064">GlobalValue.h:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemTransferInst_html"><div class="ttname"><a href="classllvm_1_1MemTransferInst.html">llvm::MemTransferInst</a></div><div class="ttdoc">This class wraps the llvm.memcpy/memmove intrinsics.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01113">IntrinsicInst.h:1113</a></div></div>
<div class="ttc" id="astructllvm_1_1HWAddressSanitizerOptions_html_ae00a6da588e40382cc08287da796248a"><div class="ttname"><a href="structllvm_1_1HWAddressSanitizerOptions.html#ae00a6da588e40382cc08287da796248a">llvm::HWAddressSanitizerOptions::DisableOptimization</a></div><div class="ttdeci">bool DisableOptimization</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00033">HWAddressSanitizer.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_adb1729480bdc1b9222e15c7be52d41ec"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#adb1729480bdc1b9222e15c7be52d41ec">llvm::IRBuilderBase::CreatePtrToInt</a></div><div class="ttdeci">Value * CreatePtrToInt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01998">IRBuilder.h:1998</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a57d0df36879c90c8fa1b9e0d5ad54a26"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a57d0df36879c90c8fa1b9e0d5ad54a26">Note</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles Note</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00239">README.txt:239</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a84652ca512637318e6729c659cf4541d"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a84652ca512637318e6729c659cf4541d">llvm::IRBuilderBase::CreateXor</a></div><div class="ttdeci">Value * CreateXor(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01434">IRBuilder.h:1434</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_aefbce25f9dafaefce652e506afd757f0"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#aefbce25f9dafaefce652e506afd757f0">kHwasanPersonalityThunkName</a></div><div class="ttdeci">const char kHwasanPersonalityThunkName[]</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00067">HWAddressSanitizer.cpp:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_ac106bea55dfb26f8b14676aac05bd89f"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#ac106bea55dfb26f8b14676aac05bd89f">llvm::AllocaInst::getType</a></div><div class="ttdeci">PointerType * getType() const</div><div class="ttdoc">Overload to return most specific pointer type.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00100">Instructions.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__with__parent_html_a26708685cc8b94fe3d7092ee080dbb34"><div class="ttname"><a href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">llvm::ilist_node_with_parent::getNextNode</a></div><div class="ttdeci">NodeTy * getNextNode()</div><div class="ttdoc">Get the next node, or nullptr for the list tail.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00289">ilist_node.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; uint64_t, 8 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a115ac0121663aa8365e095d095d0c633"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a115ac0121663aa8365e095d095d0c633">llvm::GlobalObject::getAlign</a></div><div class="ttdeci">MaybeAlign getAlign() const</div><div class="ttdoc">Returns the alignment of the given variable or function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00079">GlobalObject.h:79</a></div></div>
<div class="ttc" id="aInlineAsm_8h_html"><div class="ttname"><a href="InlineAsm_8h.html">InlineAsm.h</a></div></div>
<div class="ttc" id="astructllvm_1_1memtag_1_1StackInfo_html_a25e0efcd0eee0a66d58ead908076c624"><div class="ttname"><a href="structllvm_1_1memtag_1_1StackInfo.html#a25e0efcd0eee0a66d58ead908076c624">llvm::memtag::StackInfo::CallsReturnTwice</a></div><div class="ttdeci">bool CallsReturnTwice</div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8h_source.html#l00061">MemoryTaggingSupport.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ad9d88ae321b98d8a3b7f394977ae6d7f"><div class="ttname"><a href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">llvm::Value::hasName</a></div><div class="ttdeci">bool hasName() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00261">Value.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_ae8df4be75bfc50b1eadd74e85c25fa45a6adf97f83acf6453d4a6a4b1070f3754"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ae8df4be75bfc50b1eadd74e85c25fa45a6adf97f83acf6453d4a6a4b1070f3754">llvm::GlobalValue::UnnamedAddr::None</a></div><div class="ttdeci">@ None</div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5ab2d0b0f0b8ceec3b907184e7567197"><div class="ttname"><a href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">llvm::Type::getPointerAddressSpace</a></div><div class="ttdeci">unsigned getPointerAddressSpace() const</div><div class="ttdoc">Get the address space of this pointer or pointer vector type.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00729">DerivedTypes.h:729</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aMapVector_8h_html"><div class="ttname"><a href="MapVector_8h.html">MapVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_aeaa43ab635ee98b9e2055d0f217558c2ad9dbfb96b7805fecf168bf553c423cce"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ad9dbfb96b7805fecf168bf553c423cce">libcall</a></div><div class="ttdeci">@ libcall</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00197">HWAddressSanitizer.cpp:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ad31917a381a26d6857d63e9f4bf4e1fa"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">llvm::IRBuilderBase::CreateOr</a></div><div class="ttdeci">Value * CreateOr(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01412">IRBuilder.h:1412</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a385738871b08f6474945de0b29bf0aa6"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a385738871b08f6474945de0b29bf0aa6">kShadowBaseAlignment</a></div><div class="ttdeci">static const unsigned kShadowBaseAlignment</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00079">HWAddressSanitizer.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_ac8a842a601c470fa22db443ac34d0a67"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#ac8a842a601c470fa22db443ac34d0a67">llvm::PreservedAnalyses::abandon</a></div><div class="ttdeci">void abandon()</div><div class="ttdoc">Mark an analysis as abandoned.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00206">PassManager.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1InterestingMemoryOperand_html"><div class="ttname"><a href="classllvm_1_1InterestingMemoryOperand.html">llvm::InterestingMemoryOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="AddressSanitizerCommon_8h_source.html#l00025">AddressSanitizerCommon.h:25</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a83c7e5ca51099e4efa895791a02fb0ed"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a></div><div class="ttdeci">FunctionAnalysisManager FAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00059">PassBuilderBindings.cpp:59</a></div></div>
<div class="ttc" id="aGlobalsModRef_8h_html"><div class="ttname"><a href="GlobalsModRef_8h.html">GlobalsModRef.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1memtag_html_a57d5dcc6c4a3f7dff5df68d2f2791bde"><div class="ttname"><a href="namespacellvm_1_1memtag.html#a57d5dcc6c4a3f7dff5df68d2f2791bde">llvm::memtag::forAllReachableExits</a></div><div class="ttdeci">bool forAllReachableExits(const DominatorTree &amp;DT, const PostDominatorTree &amp;PDT, const LoopInfo &amp;LI, const Instruction *Start, const SmallVectorImpl&lt; IntrinsicInst * &gt; &amp;Ends, const SmallVectorImpl&lt; Instruction * &gt; &amp;RetVec, llvm::function_ref&lt; void(Instruction *)&gt; Callback)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8cpp_source.html#l00044">MemoryTaggingSupport.cpp:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a78e9cb1527edb3cc1d1ee577257b5f0ca989f426170b8ef321ffeb4838b4c590f"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a78e9cb1527edb3cc1d1ee577257b5f0ca989f426170b8ef321ffeb4838b4c590f">llvm::dwarf::DW_OP_LLVM_tag_offset</a></div><div class="ttdeci">@ DW_OP_LLVM_tag_offset</div><div class="ttdoc">Only used in LLVM metadata.</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00143">Dwarf.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a03797a73044a81cbc6a3409d6c72ee8f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">llvm::PreservedAnalyses::none</a></div><div class="ttdeci">static PreservedAnalyses none()</div><div class="ttdoc">Convenience factory function for the empty preserved set.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00155">PassManager.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">llvm::Triple::x86_64</a></div><div class="ttdeci">@ x86_64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00086">Triple.h:86</a></div></div>
<div class="ttc" id="astructllvm_1_1MaybeAlign_html_a06846474be3ab85f8d30c388faf3b116"><div class="ttname"><a href="structllvm_1_1MaybeAlign.html#a06846474be3ab85f8d30c388faf3b116">llvm::MaybeAlign::valueOrOne</a></div><div class="ttdeci">Align valueOrOne() const</div><div class="ttdoc">For convenience, returns a valid alignment or 1 if undefined.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00141">Alignment.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemIntrinsic_html"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html">llvm::MemIntrinsic</a></div><div class="ttdoc">This is the common base class for memset/memcpy/memmove.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01048">IntrinsicInst.h:1048</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html"><div class="ttname"><a href="classllvm_1_1MapVector.html">llvm::MapVector</a></div><div class="ttdoc">This class implements a map that also provides access to all stored values in a deterministic order.</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00037">MapVector.h:37</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueAsMetadata_html_a53fc78b63202142110d0e86dd1a71fbe"><div class="ttname"><a href="classllvm_1_1ValueAsMetadata.html#a53fc78b63202142110d0e86dd1a71fbe">llvm::ValueAsMetadata::get</a></div><div class="ttdeci">static ValueAsMetadata * get(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00392">Metadata.cpp:392</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_ac94a19fc8c57bf0350fc4e9f45897828"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">llvm::dwarf::Tag</a></div><div class="ttdeci">Tag</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00103">Dwarf.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ac9a8a0fc03580713b5d652cd92dc0ec3"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ac9a8a0fc03580713b5d652cd92dc0ec3">llvm::IRBuilderBase::CreateAShr</a></div><div class="ttdeci">Value * CreateAShr(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool isExact=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01371">IRBuilder.h:1371</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">llvm::cl::ReallyHidden</a></div><div class="ttdeci">@ ReallyHidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00139">CommandLine.h:139</a></div></div>
<div class="ttc" id="aCommandLine_8h_html_a77bbe78f3197b891c5a661a5b6334069"><div class="ttname"><a href="CommandLine_8h.html#a77bbe78f3197b891c5a661a5b6334069">clEnumVal</a></div><div class="ttdeci">#define clEnumVal(ENUMVAL, DESC)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00676">CommandLine.h:676</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a963a6e215fa44c77d92b3c02faf58228"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">llvm::IRBuilderBase::CreateIntToPtr</a></div><div class="ttdeci">Value * CreateIntToPtr(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02003">IRBuilder.h:2003</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="astructllvm_1_1memtag_1_1StackInfo_html_afb21e7bdcff1f24ac3bc6bc93960ca35"><div class="ttname"><a href="structllvm_1_1memtag_1_1StackInfo.html#afb21e7bdcff1f24ac3bc6bc93960ca35">llvm::memtag::StackInfo::RetVec</a></div><div class="ttdeci">SmallVector&lt; Instruction *, 8 &gt; RetVec</div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8h_source.html#l00060">MemoryTaggingSupport.h:60</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a554ab77949b0a16670a83ec3307501eb"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">llvm::ConstantExpr::getSub</a></div><div class="ttdeci">static Constant * getSub(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02664">Constants.cpp:2664</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a278d6962636785caf07bbdd2a871d169"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a278d6962636785caf07bbdd2a871d169">ClInstrumentWithCalls</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentWithCalls(&quot;hwasan-instrument-with-calls&quot;, cl::desc(&quot;instrument reads and writes with callbacks&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_aa62a4d0672bab180dd339cda25b23b2e"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#aa62a4d0672bab180dd339cda25b23b2e">kNumberOfAccessSizes</a></div><div class="ttdeci">static const size_t kNumberOfAccessSizes</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00073">HWAddressSanitizer.cpp:73</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a4727e674a9ef226997af059aab9e8b1a"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a4727e674a9ef226997af059aab9e8b1a">ClUseShortGranules</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClUseShortGranules(&quot;hwasan-use-short-granules&quot;, cl::desc(&quot;use short granules in allocas and outlined checks&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a5f48305fa7d23161515c94bca7c2beb6"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a5f48305fa7d23161515c94bca7c2beb6">llvm::DIExpression::appendOpsToArg</a></div><div class="ttdeci">static DIExpression * appendOpsToArg(const DIExpression *Expr, ArrayRef&lt; uint64_t &gt; Ops, unsigned ArgNo, bool StackValue=false)</div><div class="ttdoc">Create a copy of Expr by appending the given list of Ops to each instance of the operand DW_OP_LLVM_a...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01651">DebugInfoMetadata.cpp:1651</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a3f3873f607a36e40241082727fef44db"><div class="ttname"><a href="classllvm_1_1Triple.html#a3f3873f607a36e40241082727fef44db">llvm::Triple::isAndroid</a></div><div class="ttdeci">bool isAndroid() const</div><div class="ttdoc">Tests whether the target is Android.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00724">Triple.h:724</a></div></div>
<div class="ttc" id="astructllvm_1_1HWAddressSanitizerOptions_html_acb2ab5c8bc00a0cd362da9cd7f5be977"><div class="ttname"><a href="structllvm_1_1HWAddressSanitizerOptions.html#acb2ab5c8bc00a0cd362da9cd7f5be977">llvm::HWAddressSanitizerOptions::CompileKernel</a></div><div class="ttdeci">bool CompileKernel</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00030">HWAddressSanitizer.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_aea6d215256ae43bc9149bf41f2cc7694"><div class="ttname"><a href="classllvm_1_1Triple.html#aea6d215256ae43bc9149bf41f2cc7694">llvm::Triple::isOSBinFormatELF</a></div><div class="ttdeci">bool isOSBinFormatELF() const</div><div class="ttdoc">Tests whether the OS uses the ELF binary format.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00674">Triple.h:674</a></div></div>
<div class="ttc" id="aclassllvm_1_1MD5_html_a5138672d89124f45e2217d8484a59a40"><div class="ttname"><a href="classllvm_1_1MD5.html#a5138672d89124f45e2217d8484a59a40">llvm::MD5::final</a></div><div class="ttdeci">void final(MD5Result &amp;Result)</div><div class="ttdoc">Finishes off the hash and puts the result in result.</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00234">MD5.cpp:234</a></div></div>
<div class="ttc" id="aBinaryFormat_2ELF_8h_html"><div class="ttname"><a href="BinaryFormat_2ELF_8h.html">ELF.h</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_adc3229fd9f767fab6062b376699e0bef"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#adc3229fd9f767fab6062b376699e0bef">ClInstrumentAtomics</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentAtomics(&quot;hwasan-instrument-atomics&quot;, cl::desc(&quot;instrument atomic instructions (rmw, cmpxchg)&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a84cd09ccc918883d51a387f0e0f374f3"><div class="ttname"><a href="classllvm_1_1StringRef.html#a84cd09ccc918883d51a387f0e0f374f3">llvm::StringRef::startswith</a></div><div class="ttdeci">bool startswith(StringRef Prefix) const</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00261">StringRef.h:261</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aPostDominators_8h_html"><div class="ttname"><a href="PostDominators_8h.html">PostDominators.h</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a71d6010fbce2523989c604f029ca2c61"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a71d6010fbce2523989c604f029ca2c61">ClUsePageAliases</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClUsePageAliases(&quot;hwasan-experimental-use-page-aliases&quot;, cl::desc(&quot;Use page aliasing in HWASan&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aHWAddressSanitizer_8h_html"><div class="ttname"><a href="HWAddressSanitizer_8h.html">HWAddressSanitizer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_afb5c46a140e1b7f08de54d9c035a8adc"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#afb5c46a140e1b7f08de54d9c035a8adc">llvm::IRBuilderBase::CreateGEP</a></div><div class="ttdeci">Value * CreateGEP(Type *Ty, Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;Name=&quot;&quot;, bool IsInBounds=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01781">IRBuilder.h:1781</a></div></div>
<div class="ttc" id="aclassllvm_1_1memtag_1_1StackInfoBuilder_html"><div class="ttname"><a href="classllvm_1_1memtag_1_1StackInfoBuilder.html">llvm::memtag::StackInfoBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8h_source.html#l00064">MemoryTaggingSupport.h:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a10dbf1e2be9c60af49efb9bfded99225"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a10dbf1e2be9c60af49efb9bfded99225">llvm::GlobalValue::getSanitizerMetadata</a></div><div class="ttdeci">const SanitizerMetadata &amp; getSanitizerMetadata() const</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00229">Globals.cpp:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a0898c28c92cd3f62dfbd3caab8d01caa"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a0898c28c92cd3f62dfbd3caab8d01caa">llvm::IRBuilderBase::CreateMemSet</a></div><div class="ttdeci">CallInst * CreateMemSet(Value *Ptr, Value *Val, uint64_t Size, MaybeAlign Align, bool isVolatile=false, MDNode *TBAATag=nullptr, MDNode *ScopeTag=nullptr, MDNode *NoAliasTag=nullptr)</div><div class="ttdoc">Create and insert a memset to the specified pointer and the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00580">IRBuilder.h:580</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a02560cda155aaed54314383bed827d60"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">llvm::ConstantExpr::getIntToPtr</a></div><div class="ttdeci">static Constant * getIntToPtr(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02215">Constants.cpp:2215</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a132a883efbc512ce6325d5f751bb3672"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">llvm::IRBuilderBase::CreateLoad</a></div><div class="ttdeci">LoadInst * CreateLoad(Type *Ty, Value *Ptr, const char *Name)</div><div class="ttdoc">Provided to resolve 'CreateLoad(Ty, Ptr, &quot;...&quot;)' correctly, instead of converting the string to 'bool...</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01705">IRBuilder.h:1705</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_ad953e410aea43848740978d9a6529a82"><div class="ttname"><a href="classllvm_1_1Triple.html#ad953e410aea43848740978d9a6529a82">llvm::Triple::isAArch64</a></div><div class="ttdeci">bool isAArch64() const</div><div class="ttdoc">Tests whether the target is AArch64 (little and big endian).</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00832">Triple.h:832</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a85bddafa659a93a7a67c9094648259be"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a></div><div class="ttdeci">ModuleAnalysisManager MAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00061">PassBuilderBindings.cpp:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html_ad910125a9cfd76aaad7f69469df22f66"><div class="ttname"><a href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">llvm::MDBuilder::createBranchWeights</a></div><div class="ttdeci">MDNode * createBranchWeights(uint32_t TrueWeight, uint32_t FalseWeight)</div><div class="ttdoc">Return metadata containing two branch weights.</div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8cpp_source.html#l00037">MDBuilder.cpp:37</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a652380f28d1a7011e05d0787b6024d48"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">llvm::ConstantExpr::getPtrToInt</a></div><div class="ttdeci">static Constant * getPtrToInt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02201">Constants.cpp:2201</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a4db394865ada639a359a041ade63e1be"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a4db394865ada639a359a041ade63e1be">ClWithIfunc</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClWithIfunc(&quot;hwasan-with-ifunc&quot;, cl::desc(&quot;Access dynamic shadow through an ifunc global on &quot; &quot;platforms that support this&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aAddressSanitizerCommon_8h_html"><div class="ttname"><a href="AddressSanitizerCommon_8h.html">AddressSanitizerCommon.h</a></div></div>
<div class="ttc" id="aMemoryTaggingSupport_8h_html"><div class="ttname"><a href="MemoryTaggingSupport_8h.html">MemoryTaggingSupport.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aMDBuilder_8h_html"><div class="ttname"><a href="MDBuilder_8h.html">MDBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_aaca14fdf6d151782f7ab0a66405453fb"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#aaca14fdf6d151782f7ab0a66405453fb">llvm::AllocaInst::getArraySize</a></div><div class="ttdeci">const Value * getArraySize() const</div><div class="ttdoc">Get the number of elements allocated.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00096">Instructions.h:96</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a174914c130f5512b50cf6e97e4de1634"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a174914c130f5512b50cf6e97e4de1634">kDefaultShadowScale</a></div><div class="ttdeci">static const size_t kDefaultShadowScale</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00075">HWAddressSanitizer.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7a71da01c646618b7f43d303d563b41b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7a71da01c646618b7f43d303d563b41b">llvm::IRBuilderBase::getInt8Ty</a></div><div class="ttdeci">IntegerType * getInt8Ty()</div><div class="ttdoc">Fetch the type representing an 8-bit integer.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00502">IRBuilder.h:502</a></div></div>
<div class="ttc" id="anamespacellvm_html_aab730f72aa213d5ecc7d1101efda8811"><div class="ttname"><a href="namespacellvm.html#aab730f72aa213d5ecc7d1101efda8811">llvm::appendToCompilerUsed</a></div><div class="ttdeci">void appendToCompilerUsed(Module &amp;M, ArrayRef&lt; GlobalValue * &gt; Values)</div><div class="ttdoc">Adds global values to the llvm.compiler.used list.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00113">ModuleUtils.cpp:113</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdoc">Change the name of the value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00375">Value.cpp:375</a></div></div>
<div class="ttc" id="aLoopDeletion_8cpp_html_a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64"><div class="ttname"><a href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">LoopDeletionResult::Modified</a></div><div class="ttdeci">@ Modified</div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_abd8f7242df6ecb10f429c4d39403c334"><div class="ttname"><a href="classllvm_1_1Module.html#abd8f7242df6ecb10f429c4d39403c334">llvm::Module::getOrInsertGlobal</a></div><div class="ttdeci">Constant * getOrInsertGlobal(StringRef Name, Type *Ty, function_ref&lt; GlobalVariable *()&gt; CreateGlobalCallback)</div><div class="ttdoc">Look up the specified global in the module symbol table.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00205">Module.cpp:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1Option_html_a2dc75fafb68e7669e776e19da7857cdf"><div class="ttname"><a href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">llvm::cl::Option::getNumOccurrences</a></div><div class="ttdeci">int getNumOccurrences() const</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00401">CommandLine.h:401</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html">llvm::DomTreeUpdater</a></div><div class="ttdef"><b>Definition:</b> <a href="DomTreeUpdater_8h_source.html#l00028">DomTreeUpdater.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html_a50a2e57da274f8d69b9f932977379cdf"><div class="ttname"><a href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">llvm::Use::getUser</a></div><div class="ttdeci">User * getUser() const</div><div class="ttdoc">Returns the User that contains this Use.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00072">Use.h:72</a></div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">none</a></div><div class="ttdeci">@ none</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00190">HWAddressSanitizer.cpp:190</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">llvm::GlobalValue::InternalLinkage</a></div><div class="ttdeci">@ InternalLinkage</div><div class="ttdoc">Rename collisions when linking (static functions).</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00055">GlobalValue.h:55</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1Comdat_html"><div class="ttname"><a href="classllvm_1_1Comdat.html">llvm::Comdat</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Comdat_8h_source.html#l00033">Comdat.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a5fc23559f17bbe5ff83ec0fed0a5fdcf"><div class="ttname"><a href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">llvm::Triple::getArch</a></div><div class="ttdeci">ArchType getArch() const</div><div class="ttdoc">Get the parsed architecture type of this triple.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00355">Triple.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a44dec91bb943f56f8bba3e9171a76947"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a44dec91bb943f56f8bba3e9171a76947">llvm::InlineAsm::get</a></div><div class="ttdeci">static InlineAsm * get(FunctionType *Ty, StringRef AsmString, StringRef Constraints, bool hasSideEffects, bool isAlignStack=false, AsmDialect asmDialect=AD_ATT, bool canThrow=false)</div><div class="ttdoc">InlineAsm::get - Return the specified uniqued inline asm string.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8cpp_source.html#l00043">InlineAsm.cpp:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a265b4e9fb81978c89714d34cd5abb412"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a265b4e9fb81978c89714d34cd5abb412">llvm::IRBuilderBase::CreateRet</a></div><div class="ttdeci">ReturnInst * CreateRet(Value *V)</div><div class="ttdoc">Create a 'ret &lt;val&gt;' instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01010">IRBuilder.h:1010</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_af5a702ee0c9fcfdb2f18c91eb0499bf2"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">llvm::IRBuilderBase::CreateAnd</a></div><div class="ttdeci">Value * CreateAnd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01390">IRBuilder.h:1390</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a8da622ab5a22792ab0396142382e903e"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">llvm::IRBuilderBase::CreatePointerCast</a></div><div class="ttdeci">Value * CreatePointerCast(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02054">IRBuilder.h:2054</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_ae891092a64f3b737dcba557a8450587c"><div class="ttname"><a href="classllvm_1_1Triple.html#ae891092a64f3b737dcba557a8450587c">llvm::Triple::isOSFuchsia</a></div><div class="ttdeci">bool isOSFuchsia() const</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00548">Triple.h:548</a></div></div>
<div class="ttc" id="anamespacellvm_html_a717a199ea9514d956fa87fd23c13a228"><div class="ttname"><a href="namespacellvm.html#a717a199ea9514d956fa87fd23c13a228">llvm::getOrCreateSanitizerCtorAndInitFunctions</a></div><div class="ttdeci">std::pair&lt; Function *, FunctionCallee &gt; getOrCreateSanitizerCtorAndInitFunctions(Module &amp;M, StringRef CtorName, StringRef InitName, ArrayRef&lt; Type * &gt; InitArgTypes, ArrayRef&lt; Value * &gt; InitArgs, function_ref&lt; void(Function *, FunctionCallee)&gt; FunctionsCreatedCallback, StringRef VersionCheckName=StringRef(), bool Weak=false)</div><div class="ttdoc">Creates sanitizer constructor function lazily.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00245">ModuleUtils.cpp:245</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a9e3a8d42fb905a26e3d71447d754d26e"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a9e3a8d42fb905a26e3d71447d754d26e">llvm::IRBuilderBase::CreateZExt</a></div><div class="ttdeci">Value * CreateZExt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01916">IRBuilder.h:1916</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html"><div class="ttname"><a href="classllvm_1_1InlineAsm.html">llvm::InlineAsm</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00033">InlineAsm.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_af238147cf5453729781a0fcc7322e1c6"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">llvm::ConstantExpr::getTrunc</a></div><div class="ttdeci">static Constant * getTrunc(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02091">Constants.cpp:2091</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a5cbacf9547fbfa00de1dc270ce37b00a"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a5cbacf9547fbfa00de1dc270ce37b00a">ClMatchAllTag</a></div><div class="ttdeci">static cl::opt&lt; int &gt; ClMatchAllTag(&quot;hwasan-match-all-tag&quot;, cl::desc(&quot;don't report bad accesses via pointers with this tag&quot;), cl::Hidden, cl::init(-1))</div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01410">CommandLine.h:1410</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_ade7dc7510e950cd1c1181138b390f965"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#ade7dc7510e950cd1c1181138b390f965">llvm::GlobalObject::hasSection</a></div><div class="ttdeci">bool hasSection() const</div><div class="ttdoc">Check if this global has a custom object file section.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00109">GlobalObject.h:109</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e3e687ddfdcbacd404bcf17b917dd88"><div class="ttname"><a href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">llvm::instructions</a></div><div class="ttdeci">inst_range instructions(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00133">InstIterator.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a06d64f226fabd94d694d6abd82e3c7b3"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">llvm::IRBuilderBase::CreateBitCast</a></div><div class="ttdeci">Value * CreateBitCast(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02008">IRBuilder.h:2008</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_a0e5946885029c1bce1350d34f2539b1b"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a0e5946885029c1bce1350d34f2539b1b">llvm::GlobalVariable::getInitializer</a></div><div class="ttdeci">const Constant * getInitializer() const</div><div class="ttdoc">getInitializer - Return the initializer for this global variable.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00135">GlobalVariable.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a8fa743aa76b6902028f8a643dfb87171"><div class="ttname"><a href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">llvm::cl::values</a></div><div class="ttdeci">ValuesClass values(OptsTy... Options)</div><div class="ttdoc">Helper to build a ValuesClass by forwarding a variable number of arguments as an initializer list to ...</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00703">CommandLine.h:703</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0b2a153b655ed78a07468297eb4c6256"><div class="ttname"><a href="namespacellvm.html#a0b2a153b655ed78a07468297eb4c6256">llvm::for_each</a></div><div class="ttdeci">UnaryFunction for_each(R &amp;&amp;Range, UnaryFunction F)</div><div class="ttdoc">Provide wrappers to std::for_each which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01728">STLExtras.h:1728</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a28b9561d9ef3d237ef894023187fa26c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a28b9561d9ef3d237ef894023187fa26c">llvm::GlobalValue::getVisibility</a></div><div class="ttdeci">VisibilityTypes getVisibility() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00244">GlobalValue.h:244</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackSafetyGlobalAnalysis_html"><div class="ttname"><a href="classllvm_1_1StackSafetyGlobalAnalysis.html">llvm::StackSafetyGlobalAnalysis</a></div><div class="ttdoc">This pass performs the global (interprocedural) stack safety analysis (new pass manager).</div><div class="ttdef"><b>Definition:</b> <a href="StackSafetyAnalysis_8h_source.html#l00128">StackSafetyAnalysis.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00652">GlobalValue.h:652</a></div></div>
<div class="ttc" id="astructllvm_1_1memtag_1_1StackInfo_html_a6c5e8257b6382613bbaf7873925d564a"><div class="ttname"><a href="structllvm_1_1memtag_1_1StackInfo.html#a6c5e8257b6382613bbaf7873925d564a">llvm::memtag::StackInfo::UnrecognizedLifetimes</a></div><div class="ttdeci">SmallVector&lt; Instruction *, 4 &gt; UnrecognizedLifetimes</div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8h_source.html#l00059">MemoryTaggingSupport.h:59</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1MD5_html"><div class="ttname"><a href="classllvm_1_1MD5.html">llvm::MD5</a></div><div class="ttdef"><b>Definition:</b> <a href="MD5_8h_source.html#l00041">MD5.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="aPromoteMemToReg_8h_html"><div class="ttname"><a href="PromoteMemToReg_8h.html">PromoteMemToReg.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a67e35ae592be2ec7e834e5682f82831b"><div class="ttname"><a href="namespacellvm.html#a67e35ae592be2ec7e834e5682f82831b">llvm::isLifetimeIntrinsic</a></div><div class="ttdeci">static bool isLifetimeIntrinsic(Intrinsic::ID ID)</div><div class="ttdoc">Check if ID corresponds to a lifetime intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00128">IntrinsicInst.h:128</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7badbb741cd23e73ad063428c9cd5fea"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">llvm::IRBuilderBase::getInt8PtrTy</a></div><div class="ttdeci">PointerType * getInt8PtrTy(unsigned AddrSpace=0)</div><div class="ttdoc">Fetch the type representing a pointer to an 8-bit integer value.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00560">IRBuilder.h:560</a></div></div>
<div class="ttc" id="aStringExtras_8h_html"><div class="ttname"><a href="StringExtras_8h.html">StringExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00166">README.txt:166</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_abbf16889b91d2e9e8b3143ee3444b74b"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#abbf16889b91d2e9e8b3143ee3444b74b">ClInstrumentReads</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentReads(&quot;hwasan-instrument-reads&quot;, cl::desc(&quot;instrument read instructions&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_aadb09e5bf8720e43db4383bb7fcdcea1"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#aadb09e5bf8720e43db4383bb7fcdcea1">ClMappingOffset</a></div><div class="ttdeci">static cl::opt&lt; uint64_t &gt; ClMappingOffset(&quot;hwasan-mapping-offset&quot;, cl::desc(&quot;HWASan shadow mapping offset [EXPERIMENTAL]&quot;), cl::Hidden, cl::init(0))</div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a928603739e0e70713566011d44052a4f"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">llvm::IRBuilderBase::CreateAdd</a></div><div class="ttdeci">Value * CreateAdd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01242">IRBuilder.h:1242</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_affbb7e2e9ad8d18114816f2443d672b9"><div class="ttname"><a href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">llvm::MDString::get</a></div><div class="ttdeci">static MDString * get(LLVMContext &amp;Context, StringRef Str)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00497">Metadata.cpp:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantStruct_html_a801ba6ad994f4c40b17055d228312be7"><div class="ttname"><a href="classllvm_1_1ConstantStruct.html#a801ba6ad994f4c40b17055d228312be7">llvm::ConstantStruct::getAnon</a></div><div class="ttdeci">static Constant * getAnon(ArrayRef&lt; Constant * &gt; V, bool Packed=false)</div><div class="ttdoc">Return an anonymous struct that has the specified elements.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00462">Constants.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6adbed68009f582caa84cdfd2adf36f1"><div class="ttname"><a href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, unsigned AddrSpace, const Twine &amp;N=&quot;&quot;, Module *M=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00136">Function.h:136</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1HWAddressSanitizerPass_html_a0ab6bbfe1dc498f2c9a8603d672fbb1b"><div class="ttname"><a href="classllvm_1_1HWAddressSanitizerPass.html#a0ab6bbfe1dc498f2c9a8603d672fbb1b">llvm::HWAddressSanitizerPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Module &amp;M, ModuleAnalysisManager &amp;MAM)</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00415">HWAddressSanitizer.cpp:415</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a702d4986803a1782ba305b1c7a0f1c21"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a702d4986803a1782ba305b1c7a0f1c21">llvm::GlobalValue::getAddressSpace</a></div><div class="ttdeci">unsigned getAddressSpace() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00201">GlobalValue.h:201</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_abb1cc54f31add9ba929c28860dd67634"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#abb1cc54f31add9ba929c28860dd67634">ClInstrumentPersonalityFunctions</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentPersonalityFunctions(&quot;hwasan-instrument-personality-functions&quot;, cl::desc(&quot;instrument personality functions&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a239427c2c3a01e23bd15b29633696536"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a239427c2c3a01e23bd15b29633696536">llvm::GlobalValue::isThreadLocal</a></div><div class="ttdeci">bool isThreadLocal() const</div><div class="ttdoc">If the value is &quot;Thread Local&quot;, its value isn't shared by the threads.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00259">GlobalValue.h:259</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html_adf411edc4f135b570ab218079474ce77"><div class="ttname"><a href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">llvm::ArrayType::get</a></div><div class="ttdeci">static ArrayType * get(Type *ElementType, uint64_t NumElements)</div><div class="ttdoc">This static method is the primary way to construct an ArrayType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00640">Type.cpp:640</a></div></div>
<div class="ttc" id="astructllvm_1_1memtag_1_1AllocaInfo_html"><div class="ttname"><a href="structllvm_1_1memtag_1_1AllocaInfo.html">llvm::memtag::AllocaInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8h_source.html#l00050">MemoryTaggingSupport.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_ab9841b7c8237a0ee466396c83898a792"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#ab9841b7c8237a0ee466396c83898a792">ClMemoryAccessCallbackPrefix</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; ClMemoryAccessCallbackPrefix(&quot;hwasan-memory-access-callback-prefix&quot;, cl::desc(&quot;Prefix for memory access callbacks&quot;), cl::Hidden, cl::init(&quot;__hwasan_&quot;))</div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_ae445ac6827771eafd730e61f976cba44"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#ae445ac6827771eafd730e61f976cba44">kHwasanInitName</a></div><div class="ttdeci">const char kHwasanInitName[]</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00066">HWAddressSanitizer.cpp:66</a></div></div>
<div class="ttc" id="aTriple_8h_html"><div class="ttname"><a href="Triple_8h.html">Triple.h</a></div></div>
<div class="ttc" id="astructllvm_1_1HWAddressSanitizerOptions_html_a7b9a0142cf386d313523a43eb366b3bc"><div class="ttname"><a href="structllvm_1_1HWAddressSanitizerOptions.html#a7b9a0142cf386d313523a43eb366b3bc">llvm::HWAddressSanitizerOptions::Recover</a></div><div class="ttdeci">bool Recover</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00032">HWAddressSanitizer.h:32</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTXISD_html_ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645"><div class="ttname"><a href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">llvm::NVPTXISD::Dummy</a></div><div class="ttdeci">@ Dummy</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8h_source.html#l00060">NVPTXISelLowering.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01108">LoopInfo.h:1108</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a6d5df0cfd7a0b0c0854555554396efd9"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a6d5df0cfd7a0b0c0854555554396efd9">llvm::Triple::aarch64_be</a></div><div class="ttdeci">@ aarch64_be</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00052">Triple.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aDwarf_8h_html"><div class="ttname"><a href="Dwarf_8h.html">Dwarf.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae959364e4640ac025bbc046d3d7c7e61"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae959364e4640ac025bbc046d3d7c7e61">llvm::Instruction::setSuccessor</a></div><div class="ttdeci">void setSuccessor(unsigned Idx, BasicBlock *BB)</div><div class="ttdoc">Update the specified successor to point at the provided block.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00847">Instruction.cpp:847</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HWASanAccessInfo_html_a5a5e0b9c8bd2f1e2ee12ed75604e40c6a2be060e0fe7732ea7b7cfda87b33282d"><div class="ttname"><a href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6a2be060e0fe7732ea7b7cfda87b33282d">llvm::HWASanAccessInfo::HasMatchAllShift</a></div><div class="ttdeci">@ HasMatchAllShift</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00062">HWAddressSanitizer.h:62</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aclassllvm_1_1PostDominatorTree_html"><div class="ttname"><a href="classllvm_1_1PostDominatorTree.html">llvm::PostDominatorTree</a></div><div class="ttdoc">PostDominatorTree Class - Concrete subclass of DominatorTree that is used to compute the post-dominat...</div><div class="ttdef"><b>Definition:</b> <a href="PostDominators_8h_source.html#l00028">PostDominators.h:28</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a73e4679237297aae9d38a1cb3cd1e531"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a73e4679237297aae9d38a1cb3cd1e531">ClInstrumentByval</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentByval(&quot;hwasan-instrument-byval&quot;, cl::desc(&quot;instrument byval arguments&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantDataArray_html_acea0f5c18b4593bf27592dfcfe59de6f"><div class="ttname"><a href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">llvm::ConstantDataArray::get</a></div><div class="ttdeci">static Constant * get(LLVMContext &amp;Context, ArrayRef&lt; ElementTy &gt; Elts)</div><div class="ttdoc">get() constructor - Return a constant with array type with an element count and element type matching...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00691">Constants.h:691</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ace940beeee97c222f836fe0ac70f6cf5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">llvm::BasicBlock::Create</a></div><div class="ttdeci">static BasicBlock * Create(LLVMContext &amp;Context, const Twine &amp;Name=&quot;&quot;, Function *Parent=nullptr, BasicBlock *InsertBefore=nullptr)</div><div class="ttdoc">Creates a new BasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00105">BasicBlock.h:105</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae343ce3330c827c184215d0881dc1db3"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae343ce3330c827c184215d0881dc1db3">llvm::IRBuilderBase::CreateICmpUGE</a></div><div class="ttdeci">Value * CreateICmpUGE(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02134">IRBuilder.h:2134</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a462b3038c84bd047f51393e7260fb2bb"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a462b3038c84bd047f51393e7260fb2bb">ClInstrumentWrites</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentWrites(&quot;hwasan-instrument-writes&quot;, cl::desc(&quot;instrument write instructions&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1Init_html"><div class="ttname"><a href="classllvm_1_1Init.html">llvm::Init</a></div><div class="ttdef"><b>Definition:</b> <a href="Record_8h_source.html#l00282">Record.h:282</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HWASanAccessInfo_html_a5a5e0b9c8bd2f1e2ee12ed75604e40c6a93a25190198abc8bb4ada84b62c1c312"><div class="ttname"><a href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6a93a25190198abc8bb4ada84b62c1c312">llvm::HWASanAccessInfo::CompileKernelShift</a></div><div class="ttdeci">@ CompileKernelShift</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00063">HWAddressSanitizer.h:63</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a519198bac66aaa7c7dcee3dece00eac9"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a519198bac66aaa7c7dcee3dece00eac9">llvm::IRBuilderBase::CreateConstGEP1_32</a></div><div class="ttdeci">Value * CreateConstGEP1_32(Type *Ty, Value *Ptr, unsigned Idx0, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01796">IRBuilder.h:1796</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_aefa39f6b622360ce4e947feb9f671b73"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=std::nullopt)</div><div class="ttdoc">Create or insert an LLVM Function declaration for an intrinsic, and return it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01502">Function.cpp:1502</a></div></div>
<div class="ttc" id="aclassllvm_1_1AtomicRMWInst_html"><div class="ttname"><a href="classllvm_1_1AtomicRMWInst.html">llvm::AtomicRMWInst</a></div><div class="ttdoc">an instruction that atomically reads a memory location, combines it with another value,...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00718">Instructions.h:718</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a492234b10e0c5918d72a3a15a6f0fa6eaee3d7c816c2a04f9f49c4aa194ef25b0"><div class="ttname"><a href="namespacellvm_1_1cl.html#a492234b10e0c5918d72a3a15a6f0fa6eaee3d7c816c2a04f9f49c4aa194ef25b0">llvm::cl::Optional</a></div><div class="ttdeci">@ Optional</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00114">CommandLine.h:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a08230b6650e11747ef33144f1e463064"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a08230b6650e11747ef33144f1e463064">llvm::IRBuilderBase::CreateTrunc</a></div><div class="ttdeci">Value * CreateTrunc(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01912">IRBuilder.h:1912</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionCallee_html_a0055cd5464b935f571b36979a86bd7fc"><div class="ttname"><a href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">llvm::FunctionCallee::getCallee</a></div><div class="ttdeci">Value * getCallee()</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00184">DerivedTypes.h:184</a></div></div>
<div class="ttc" id="anamespacellvm_1_1memtag_html_a56e44807cae1089569cdd78a6455b4a5"><div class="ttname"><a href="namespacellvm_1_1memtag.html#a56e44807cae1089569cdd78a6455b4a5">llvm::memtag::isStandardLifetime</a></div><div class="ttdeci">bool isStandardLifetime(const SmallVectorImpl&lt; IntrinsicInst * &gt; &amp;LifetimeStart, const SmallVectorImpl&lt; IntrinsicInst * &gt; &amp;LifetimeEnd, const DominatorTree *DT, const LoopInfo *LI, size_t MaxLifetimes)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8cpp_source.html#l00087">MemoryTaggingSupport.cpp:87</a></div></div>
<div class="ttc" id="astructllvm_1_1MD5_1_1MD5Result_html"><div class="ttname"><a href="structllvm_1_1MD5_1_1MD5Result.html">llvm::MD5::MD5Result</a></div><div class="ttdef"><b>Definition:</b> <a href="MD5_8h_source.html#l00043">MD5.h:43</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a8da97c44f514ad1ae9ccf4518b0f88aa"><div class="ttname"><a href="classllvm_1_1MapVector.html#a8da97c44f514ad1ae9ccf4518b0f88aa">llvm::MapVector::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00080">MapVector.h:80</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_ad5c3fea3e9699b6299cc037334eeb83e"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#ad5c3fea3e9699b6299cc037334eeb83e">getPointerOperandIndex</a></div><div class="ttdeci">static unsigned getPointerOperandIndex(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00777">HWAddressSanitizer.cpp:777</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdoc">Constructor to create a '0' constant of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00356">Constants.cpp:356</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html_a8a638534b520f72ab7f2c886da739a6c"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">llvm::GlobalAlias::create</a></div><div class="ttdeci">static GlobalAlias * create(Type *Ty, unsigned AddressSpace, LinkageTypes Linkage, const Twine &amp;Name, Constant *Aliasee, Module *Parent)</div><div class="ttdoc">If a parent module is specified, the alias is automatically inserted into the end of the specified mo...</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00520">Globals.cpp:520</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataAsValue_html_a3188a1aa0df768d8f254cd8d8fdeface"><div class="ttname"><a href="classllvm_1_1MetadataAsValue.html#a3188a1aa0df768d8f254cd8d8fdeface">llvm::MetadataAsValue::get</a></div><div class="ttdeci">static MetadataAsValue * get(LLVMContext &amp;Context, Metadata *MD)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00102">Metadata.cpp:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="anamespacellvm_1_1memtag_html_acc2528429e7e0eb707ca49e72bb3ce49"><div class="ttname"><a href="namespacellvm_1_1memtag.html#acc2528429e7e0eb707ca49e72bb3ce49">llvm::memtag::alignAndPadAlloca</a></div><div class="ttdeci">void alignAndPadAlloca(memtag::AllocaInfo &amp;Info, llvm::Align Align)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8cpp_source.html#l00180">MemoryTaggingSupport.cpp:180</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae6f1c15034bc5515033874630a8ecce6"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">llvm::ConstantExpr::getAdd</a></div><div class="ttdeci">static Constant * getAdd(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02657">Constants.cpp:2657</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a2811658bf492018012fe3c964e829e1c"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a2811658bf492018012fe3c964e829e1c">kHwasanNoteName</a></div><div class="ttdeci">const char kHwasanNoteName[]</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00065">HWAddressSanitizer.cpp:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae3f9633c349ede5341aa376d9c97dd8f"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae3f9633c349ede5341aa376d9c97dd8f">llvm::IRBuilderBase::GetInsertBlock</a></div><div class="ttdeci">BasicBlock * GetInsertBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00174">IRBuilder.h:174</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html"><div class="ttname"><a href="classllvm_1_1TypeSize.html">llvm::TypeSize</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00314">TypeSize.h:314</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HWASanAccessInfo_html_ad38b348ee99dc839738483a05e6094b2a480da4492bfc24f8380714233b147084"><div class="ttname"><a href="namespacellvm_1_1HWASanAccessInfo.html#ad38b348ee99dc839738483a05e6094b2a480da4492bfc24f8380714233b147084">llvm::HWASanAccessInfo::RuntimeMask</a></div><div class="ttdeci">@ RuntimeMask</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00066">HWAddressSanitizer.h:66</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a8a1c10b6cef65bd4c3990c94c8bf76fb"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a8a1c10b6cef65bd4c3990c94c8bf76fb">ClRecordStackHistory</a></div><div class="ttdeci">static cl::opt&lt; RecordStackHistoryMode &gt; ClRecordStackHistory(&quot;hwasan-record-stack-history&quot;, cl::desc(&quot;Record stack frames with tagged allocations in a thread-local &quot; &quot;ring buffer&quot;), cl::values(clEnumVal(none, &quot;Do not record stack ring history&quot;), clEnumVal(instr, &quot;Insert instructions into the prologue for &quot; &quot;storing into the stack ring buffer directly&quot;), clEnumVal(libcall, &quot;Add a call to __hwasan_add_frame_record for &quot; &quot;storing into the stack ring buffer&quot;)), cl::Hidden, cl::init(instr))</div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a47e83d1c9a8bfdc6fa44cbc90b1c3105"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a47e83d1c9a8bfdc6fa44cbc90b1c3105">ClUARRetagToZero</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClUARRetagToZero(&quot;hwasan-uar-retag-to-zero&quot;, cl::desc(&quot;Clear alloca tags before returning from the function to allow &quot; &quot;non-instrumented and instrumented function calls mix. When set &quot; &quot;to false, allocas are retagged before returning from the &quot; &quot;function to detect use after return.&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_adc01a7457de85fc52a3bb860d7e1c6a4"><div class="ttname"><a href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">llvm::Type::getPointerTo</a></div><div class="ttdeci">PointerType * getPointerTo(unsigned AddrSpace=0) const</div><div class="ttdoc">Return a pointer to the current type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00776">Type.cpp:776</a></div></div>
<div class="ttc" id="astructllvm_1_1memtag_1_1StackInfo_html_a0f11122c100ce7f5074c045f8b9095e4"><div class="ttname"><a href="structllvm_1_1memtag_1_1StackInfo.html#a0f11122c100ce7f5074c045f8b9095e4">llvm::memtag::StackInfo::AllocasToInstrument</a></div><div class="ttdeci">MapVector&lt; AllocaInst *, AllocaInfo &gt; AllocasToInstrument</div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8h_source.html#l00058">MemoryTaggingSupport.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdoc">A wrapper class for inspecting calls to intrinsic functions.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00047">IntrinsicInst.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_ac10322dc19a928c2dbb83ec9689dc23caa10443964156b9e87c95e74c8f9baf15"><div class="ttname"><a href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caa10443964156b9e87c95e74c8f9baf15">llvm::pdb::PDB_ColorItem::Padding</a></div><div class="ttdeci">@ Padding</div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html"><div class="ttname"><a href="classllvm_1_1MDBuilder.html">llvm::MDBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8h_source.html#l00036">MDBuilder.h:36</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a446d047d4c1a7de22211d0dbaaca05be"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a446d047d4c1a7de22211d0dbaaca05be">ClGlobals</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClGlobals(&quot;hwasan-globals&quot;, cl::desc(&quot;Instrument globals&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_af17c6d5145c1ec0696b3ac359f043924"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#af17c6d5145c1ec0696b3ac359f043924">ClKasanMemIntrinCallbackPrefix</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClKasanMemIntrinCallbackPrefix(&quot;hwasan-kernel-mem-intrinsic-prefix&quot;, cl::desc(&quot;Use prefix for memory intrinsics in KASAN mode&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdeci">@ ExternalLinkage</div><div class="ttdoc">Externally visible function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00048">GlobalValue.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1HWAddressSanitizerPass_html_aa9b4734b07ef55732d35569201ffefe3"><div class="ttname"><a href="classllvm_1_1HWAddressSanitizerPass.html#aa9b4734b07ef55732d35569201ffefe3">llvm::HWAddressSanitizerPass::printPipeline</a></div><div class="ttdeci">void printPipeline(raw_ostream &amp;OS, function_ref&lt; StringRef(StringRef)&gt; MapClassName2PassName)</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00437">HWAddressSanitizer.cpp:437</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a13b920f74d7ae331cfd2740a790de541"><div class="ttname"><a href="classllvm_1_1Triple.html#a13b920f74d7ae331cfd2740a790de541">llvm::Triple::isAndroidVersionLT</a></div><div class="ttdeci">bool isAndroidVersionLT(unsigned Major) const</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00726">Triple.h:726</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeAnalysis_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeAnalysis.html">llvm::DominatorTreeAnalysis</a></div><div class="ttdoc">Analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00279">Dominators.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00224">Type.cpp:224</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_aeaa43ab635ee98b9e2055d0f217558c2af12bc59169afda2918e9f23e3501c2b6"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2af12bc59169afda2918e9f23e3501c2b6">instr</a></div><div class="ttdeci">@ instr</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00194">HWAddressSanitizer.cpp:194</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57d2f9ee99e9e68cff564d0d579c8163"><div class="ttname"><a href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a></div><div class="ttdeci">int countr_zero(T Val)</div><div class="ttdoc">Count number of 0's from the least significant bit to the most stopping at the first 1.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00179">bit.h:179</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HWASanAccessInfo_html_a5a5e0b9c8bd2f1e2ee12ed75604e40c6abcbf592cb37a50340733b22e9c5edcb5"><div class="ttname"><a href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6abcbf592cb37a50340733b22e9c5edcb5">llvm::HWASanAccessInfo::MatchAllShift</a></div><div class="ttdeci">@ MatchAllShift</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00061">HWAddressSanitizer.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">llvm::GlobalValue::PrivateLinkage</a></div><div class="ttdeci">@ PrivateLinkage</div><div class="ttdoc">Like Internal, but omit from symbol table.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00056">GlobalValue.h:56</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a31c5c58143c6e9da9c544a7afcba2710"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">llvm::IRBuilderBase::CreateCall</a></div><div class="ttdeci">CallInst * CreateCall(FunctionType *FTy, Value *Callee, ArrayRef&lt; Value * &gt; Args=std::nullopt, const Twine &amp;Name=&quot;&quot;, MDNode *FPMathTag=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02293">IRBuilder.h:2293</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_aa859e108741fa64681b63f0c0c672512"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#aa859e108741fa64681b63f0c0c672512">llvm::GlobalVariable::isConstant</a></div><div class="ttdeci">bool isConstant() const</div><div class="ttdoc">If the value is a global constant, its value is immutable throughout the runtime execution of the pro...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00152">GlobalVariable.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae7f65cf79c9900a2b0504fbc25db1428"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae7f65cf79c9900a2b0504fbc25db1428">llvm::IRBuilderBase::CreateLShr</a></div><div class="ttdeci">Value * CreateLShr(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool isExact=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01352">IRBuilder.h:1352</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aModuleUtils_8h_html"><div class="ttname"><a href="ModuleUtils_8h.html">ModuleUtils.h</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae69ee83570f05c1d5fb5026c11145d6b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae69ee83570f05c1d5fb5026c11145d6b">llvm::IRBuilderBase::CreateShl</a></div><div class="ttdeci">Value * CreateShl(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01331">IRBuilder.h:1331</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="anamespacellvm_1_1memtag_html_a892fff96fbddc1bc777dd9b3ca02b116"><div class="ttname"><a href="namespacellvm_1_1memtag.html#a892fff96fbddc1bc777dd9b3ca02b116">llvm::memtag::getAllocaSizeInBytes</a></div><div class="ttdeci">uint64_t getAllocaSizeInBytes(const AllocaInst &amp;AI)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryTaggingSupport_8cpp_source.html#l00175">MemoryTaggingSupport.cpp:175</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a1c31c159d77a06642f58c0cb4945609a"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a1c31c159d77a06642f58c0cb4945609a">kHwasanModuleCtorName</a></div><div class="ttdeci">const char kHwasanModuleCtorName[]</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00064">HWAddressSanitizer.cpp:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a6b66f492cbea5f4b4f434d7178477116"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a6b66f492cbea5f4b4f434d7178477116">llvm::GlobalValue::isDeclarationForLinker</a></div><div class="ttdeci">bool isDeclarationForLinker() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00614">GlobalValue.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionCallee_html"><div class="ttname"><a href="classllvm_1_1FunctionCallee.html">llvm::FunctionCallee</a></div><div class="ttdoc">A handy container for a FunctionType+Callee-pointer pair, which can be passed around as a single enti...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00165">DerivedTypes.h:165</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a0cf7e80624365372e769be7d6c04d74b"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a0cf7e80624365372e769be7d6c04d74b">TypeSizeToSizeIndex</a></div><div class="ttdeci">static size_t TypeSizeToSizeIndex(uint32_t TypeSize)</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00790">HWAddressSanitizer.cpp:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a92041fc7f781ba4fe708eec99139b72f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a92041fc7f781ba4fe708eec99139b72f">llvm::GlobalValue::getType</a></div><div class="ttdeci">PointerType * getType() const</div><div class="ttdoc">Global values are always pointers.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00290">GlobalValue.h:290</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackSafetyGlobalInfo_html"><div class="ttname"><a href="classllvm_1_1StackSafetyGlobalInfo.html">llvm::StackSafetyGlobalInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSafetyAnalysis_8h_source.html#l00058">StackSafetyAnalysis.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a29e0b1c558b350347e2652b35b26fea8"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a29e0b1c558b350347e2652b35b26fea8">llvm::GlobalValue::getValueType</a></div><div class="ttdeci">Type * getValueType() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00292">GlobalValue.h:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a223dd14e7d12bc5cea01889b972a98b2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">str - Get the contents as an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00222">StringRef.h:222</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HexStyle_html_a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9"><div class="ttname"><a href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">llvm::HexStyle::Asm</a></div><div class="ttdeci">@ Asm</div><div class="ttdoc">0ffh</div><div class="ttdef"><b>Definition:</b> <a href="MCInstPrinter_8h_source.html#l00035">MCInstPrinter.h:35</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a3c0d9358a2f70505c5bf1a5d126bd0cd"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a3c0d9358a2f70505c5bf1a5d126bd0cd">ClInstrumentLandingPads</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentLandingPads(&quot;hwasan-instrument-landing-pads&quot;, cl::desc(&quot;instrument landing pads&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1InnerAnalysisManagerProxy_html"><div class="ttname"><a href="classllvm_1_1InnerAnalysisManagerProxy.html">llvm::InnerAnalysisManagerProxy</a></div><div class="ttdoc">An analysis over an &quot;outer&quot; IR unit that provides access to an analysis manager over an &quot;inner&quot; IR un...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00931">PassManager.h:931</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_ae304cb1baf6480df1ca6fb9c40b4e3c5"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#ae304cb1baf6480df1ca6fb9c40b4e3c5">ClMaxLifetimes</a></div><div class="ttdeci">static cl::opt&lt; size_t &gt; ClMaxLifetimes(&quot;hwasan-max-lifetimes-for-alloca&quot;, cl::Hidden, cl::init(3), cl::ReallyHidden, cl::desc(&quot;How many lifetime ends to handle for a single alloca.&quot;), cl::Optional)</div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_aaf20aee44cce6cce63e18f7e54c6ba4b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#aaf20aee44cce6cce63e18f7e54c6ba4b">llvm::IRBuilderBase::CreateICmpUGT</a></div><div class="ttdeci">Value * CreateICmpUGT(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02130">IRBuilder.h:2130</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a518df7907ab8f1d61c6f47381055eb53"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a518df7907ab8f1d61c6f47381055eb53">llvm::IRBuilderBase::getVoidTy</a></div><div class="ttdeci">Type * getVoidTy()</div><div class="ttdoc">Fetch the type representing void.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00550">IRBuilder.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1PostDominatorTreeAnalysis_html"><div class="ttname"><a href="classllvm_1_1PostDominatorTreeAnalysis.html">llvm::PostDominatorTreeAnalysis</a></div><div class="ttdoc">Analysis pass which computes a PostDominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="PostDominators_8h_source.html#l00047">PostDominators.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a7e8dad1701aa6445be4a29f654b0473c"><div class="ttname"><a href="classllvm_1_1Value.html#a7e8dad1701aa6445be4a29f654b0473c">llvm::Value::replaceUsesWithIf</a></div><div class="ttdeci">void replaceUsesWithIf(Value *New, llvm::function_ref&lt; bool(Use &amp;U)&gt; ShouldReplace)</div><div class="ttdoc">Go through the uses list for this definition and make each use point to &quot;V&quot; if the callback ShouldRep...</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00540">Value.cpp:540</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a809c1e1b3869fc5d463cb84c1741aeef"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a809c1e1b3869fc5d463cb84c1741aeef">ClEnableKhwasan</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClEnableKhwasan(&quot;hwasan-kernel&quot;, cl::desc(&quot;Enable KernelHWAddressSanitizer instrumentation&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a10939072861a38a7a84ab097703cb034"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a10939072861a38a7a84ab097703cb034">llvm::IRBuilderBase::CreateICmpNE</a></div><div class="ttdeci">Value * CreateICmpNE(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02126">IRBuilder.h:2126</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae2aea60aed775d05692317bf4855c291"><div class="ttname"><a href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">llvm::SplitBlockAndInsertIfThen</a></div><div class="ttdeci">Instruction * SplitBlockAndInsertIfThen(Value *Cond, Instruction *SplitBefore, bool Unreachable, MDNode *BranchWeights, DominatorTree *DT, LoopInfo *LI=nullptr, BasicBlock *ThenBlock=nullptr)</div><div class="ttdoc">Split the containing block at the specified instruction - everything before SplitBefore stays in the ...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l01542">BasicBlockUtils.cpp:1542</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a7fb9abb83421b687d0c38aa4171d5290"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a7fb9abb83421b687d0c38aa4171d5290">ClGenerateTagsWithCalls</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClGenerateTagsWithCalls(&quot;hwasan-generate-tags-with-calls&quot;, cl::desc(&quot;generate new tags with runtime library calls&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdoc">an instruction to allocate memory on the stack</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac030f6d03b674c2d132fd54fb60c9f26"><div class="ttname"><a href="namespacellvm.html#ac030f6d03b674c2d132fd54fb60c9f26">llvm::appendToGlobalCtors</a></div><div class="ttdeci">void appendToGlobalCtors(Module &amp;M, Function *F, int Priority, Constant *Data=nullptr)</div><div class="ttdoc">Append F to the list of global ctors of module M with the given Priority.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00069">ModuleUtils.cpp:69</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_afa9ba37eaabfff0faababd51799fb1d0"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#afa9ba37eaabfff0faababd51799fb1d0">ClInstrumentStack</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentStack(&quot;hwasan-instrument-stack&quot;, cl::desc(&quot;instrument stack (allocas)&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_ad37d4ac24a9a02e5389b88cd8f3f510f"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#ad37d4ac24a9a02e5389b88cd8f3f510f">ClRecover</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClRecover(&quot;hwasan-recover&quot;, cl::desc(&quot;Enable recovery mode (continue-after-error).&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="anamespacellvm_1_1HWASanAccessInfo_html_a5a5e0b9c8bd2f1e2ee12ed75604e40c6ada8938fbcc7de9406883574a9b38e29b"><div class="ttname"><a href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6ada8938fbcc7de9406883574a9b38e29b">llvm::HWASanAccessInfo::IsWriteShift</a></div><div class="ttdeci">@ IsWriteShift</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00059">HWAddressSanitizer.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a05c6b3b9372b56d130e005db4837da62a92e26a4a1218d351f5a91e7385a3a320"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a05c6b3b9372b56d130e005db4837da62a92e26a4a1218d351f5a91e7385a3a320">llvm::GlobalValue::InitialExecTLSModel</a></div><div class="ttdeci">@ InitialExecTLSModel</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00195">GlobalValue.h:195</a></div></div>
<div class="ttc" id="aBasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">llvm::GlobalValue::LinkOnceODRLinkage</a></div><div class="ttdeci">@ LinkOnceODRLinkage</div><div class="ttdoc">Same, but only replaced by something equivalent.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00051">GlobalValue.h:51</a></div></div>
<div class="ttc" id="anamespacellvm_html_a434f6a0d80fb13e4326e848a6391f057"><div class="ttname"><a href="namespacellvm.html#a434f6a0d80fb13e4326e848a6391f057">llvm::isPowerOf2_64</a></div><div class="ttdeci">constexpr bool isPowerOf2_64(uint64_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0 (64 bit edition.)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00297">MathExtras.h:297</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="astructllvm_1_1GlobalValue_1_1SanitizerMetadata_html_a3c6f90fc4359e4c8cc2ad7333254f3c7"><div class="ttname"><a href="structllvm_1_1GlobalValue_1_1SanitizerMetadata.html#a3c6f90fc4359e4c8cc2ad7333254f3c7">llvm::GlobalValue::SanitizerMetadata::NoHWAddress</a></div><div class="ttdeci">unsigned NoHWAddress</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00331">GlobalValue.h:331</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_a15bf48964e66a9c44bda8cd292261538"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#a15bf48964e66a9c44bda8cd292261538">ClInstrumentMemIntrinsics</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentMemIntrinsics(&quot;hwasan-instrument-mem-intrinsics&quot;, cl::desc(&quot;instrument memory intrinsics&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_ad7b3b708edf7fb736e7ed7247e575b1c"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#ad7b3b708edf7fb736e7ed7247e575b1c">ClUseAfterScope</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClUseAfterScope(&quot;hwasan-use-after-scope&quot;, cl::desc(&quot;detect use after scope within function&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_ab6052bee66799292fb55707a59bbd553"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#ab6052bee66799292fb55707a59bbd553">ClWithTls</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClWithTls(&quot;hwasan-with-tls&quot;, cl::desc(&quot;Access dynamic shadow through an thread-local pointer on &quot; &quot;platforms that support this&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1AtomicCmpXchgInst_html"><div class="ttname"><a href="classllvm_1_1AtomicCmpXchgInst.html">llvm::AtomicCmpXchgInst</a></div><div class="ttdoc">An instruction that atomically checks whether a specified value is in a memory location,...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00513">Instructions.h:513</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">llvm::Triple::aarch64</a></div><div class="ttdeci">@ aarch64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00051">Triple.h:51</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_ae171664226839e12fd57cfcc3eef1d9c"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#ae171664226839e12fd57cfcc3eef1d9c">ClUseStackSafety</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClUseStackSafety(&quot;hwasan-use-stack-safety&quot;, cl::Hidden, cl::init(true), cl::Hidden, cl::desc(&quot;Use Stack Safety analysis results&quot;), cl::Optional)</div></div>
<div class="ttc" id="aclassllvm_1_1LoopAnalysis_html"><div class="ttname"><a href="classllvm_1_1LoopAnalysis.html">llvm::LoopAnalysis</a></div><div class="ttdoc">Analysis pass that exposes the LoopInfo for a function.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01268">LoopInfo.h:1268</a></div></div>
<div class="ttc" id="anamespacellvm_html_a21fe87bf00db76089c043fed6a23fb76"><div class="ttname"><a href="namespacellvm.html#a21fe87bf00db76089c043fed6a23fb76">llvm::findAllocaForValue</a></div><div class="ttdeci">AllocaInst * findAllocaForValue(Value *V, bool OffsetZero=false)</div><div class="ttdoc">Returns unique alloca where the value comes from, or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04716">ValueTracking.cpp:4716</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_ad1f4c8c76d56f98c85a737865dde06a1"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#ad1f4c8c76d56f98c85a737865dde06a1">kHwasanShadowMemoryDynamicAddress</a></div><div class="ttdeci">const char kHwasanShadowMemoryDynamicAddress[]</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00069">HWAddressSanitizer.cpp:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdoc">Class to represent function types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00103">DerivedTypes.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a396fcfee6914c76974b73c3d203da6a5"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">llvm::SmallVectorImpl::emplace_back</a></div><div class="ttdeci">reference emplace_back(ArgTypes &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00941">SmallVector.h:941</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HWASanAccessInfo_html_a5a5e0b9c8bd2f1e2ee12ed75604e40c6a25f1c9e2b3e6192ca053feab83c85e19"><div class="ttname"><a href="namespacellvm_1_1HWASanAccessInfo.html#a5a5e0b9c8bd2f1e2ee12ed75604e40c6a25f1c9e2b3e6192ca053feab83c85e19">llvm::HWASanAccessInfo::RecoverShift</a></div><div class="ttdeci">@ RecoverShift</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8h_source.html#l00060">HWAddressSanitizer.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a64b2600935100a4be30d8a364609e427"><div class="ttname"><a href="classllvm_1_1Triple.html#a64b2600935100a4be30d8a364609e427">llvm::Triple::isRISCV64</a></div><div class="ttdeci">bool isRISCV64() const</div><div class="ttdoc">Tests whether the target is 64-bit RISC-V.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00889">Triple.h:889</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:24:41 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
