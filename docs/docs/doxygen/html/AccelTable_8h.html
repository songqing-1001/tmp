<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: include/llvm/CodeGen/AccelTable.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dcde91663b8816e1e2311938ccd8f690.html">llvm</a></li><li class="navelem"><a class="el" href="dir_19e251b771363806b5435ead42278477.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">AccelTable.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ArrayRef_8h_source.html">llvm/ADT/ArrayRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="STLFunctionalExtras_8h_source.html">llvm/ADT/STLFunctionalExtras.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ADT_2StringMap_8h_source.html">llvm/ADT/StringMap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="StringRef_8h_source.html">llvm/ADT/StringRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dwarf_8h_source.html">llvm/BinaryFormat/Dwarf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DIE_8h_source.html">llvm/CodeGen/DIE.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DwarfStringPoolEntry_8h_source.html">llvm/CodeGen/DwarfStringPoolEntry.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Allocator_8h_source.html">llvm/Support/Allocator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DJB_8h_source.html">llvm/Support/DJB.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for AccelTable.h:</div>
<div class="dyncontent">
<div class="center"><img src="AccelTable_8h__incl.png" border="0" usemap="#include_2llvm_2CodeGen_2AccelTable_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="AccelTable_8h__dep__incl.png" border="0" usemap="#include_2llvm_2CodeGen_2AccelTable_8hdep" alt=""/></div>
</div>
</div>
<p><a href="AccelTable_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1AccelTableData.html">llvm::AccelTableData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface which the different types of accelerator table data have to conform.  <a href="classllvm_1_1AccelTableData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1AccelTableBase.html">llvm::AccelTableBase</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base class holding non-template-dependant functionality of the <a class="el" href="classllvm_1_1AccelTable.html" title="This class holds an abstract representation of an Accelerator Table, consisting of a sequence of buck...">AccelTable</a> class.  <a href="classllvm_1_1AccelTableBase.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1AccelTableBase_1_1HashData.html">llvm::AccelTableBase::HashData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a group of entries with identical name (and hence, hash value).  <a href="structllvm_1_1AccelTableBase_1_1HashData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1AccelTable.html">llvm::AccelTable&lt; DataT &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class holds an abstract representation of an Accelerator Table, consisting of a sequence of buckets, each bucket containint a sequence of HashData entries.  <a href="classllvm_1_1AccelTable.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1AppleAccelTableData.html">llvm::AppleAccelTableData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base class for different implementations of Data classes for Apple Accelerator Tables.  <a href="classllvm_1_1AppleAccelTableData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1AppleAccelTableData_1_1Atom.html">llvm::AppleAccelTableData::Atom</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An <a class="el" href="structllvm_1_1AppleAccelTableData_1_1Atom.html" title="An Atom defines the form of the data in an Apple accelerator table.">Atom</a> defines the form of the data in an Apple accelerator table.  <a href="structllvm_1_1AppleAccelTableData_1_1Atom.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1DWARF5AccelTableData.html">llvm::DWARF5AccelTableData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Data class implementation for DWARF v5 accelerator table.  <a href="classllvm_1_1DWARF5AccelTableData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1DWARF5AccelTableStaticData.html">llvm::DWARF5AccelTableStaticData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1AppleAccelTableOffsetData.html">llvm::AppleAccelTableOffsetData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accelerator table data implementation for simple Apple accelerator tables with just a <a class="el" href="classllvm_1_1DIE.html" title="A structured debug information entry.">DIE</a> reference.  <a href="classllvm_1_1AppleAccelTableOffsetData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1AppleAccelTableTypeData.html">llvm::AppleAccelTableTypeData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accelerator table data implementation for Apple type accelerator tables.  <a href="classllvm_1_1AppleAccelTableTypeData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1AppleAccelTableStaticOffsetData.html">llvm::AppleAccelTableStaticOffsetData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accelerator table data implementation for simple Apple accelerator tables with a <a class="el" href="classllvm_1_1DIE.html" title="A structured debug information entry.">DIE</a> offset but no actual <a class="el" href="classllvm_1_1DIE.html" title="A structured debug information entry.">DIE</a> pointer.  <a href="classllvm_1_1AppleAccelTableStaticOffsetData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1AppleAccelTableStaticTypeData.html">llvm::AppleAccelTableStaticTypeData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accelerator table data implementation for type accelerator tables with a <a class="el" href="classllvm_1_1DIE.html" title="A structured debug information entry.">DIE</a> offset but no actual <a class="el" href="classllvm_1_1DIE.html" title="A structured debug information entry.">DIE</a> pointer.  <a href="classllvm_1_1AppleAccelTableStaticTypeData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacellvm"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm.html">llvm</a></td></tr>
<tr class="memdesc:namespacellvm"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an optimization pass for GlobalISel generic memory operations. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a61ecfc43d4329f1694c896e5eb1520e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm.html#a61ecfc43d4329f1694c896e5eb1520e5">llvm::emitAppleAccelTableImpl</a> (<a class="el" href="classllvm_1_1AsmPrinter.html">AsmPrinter</a> *Asm, <a class="el" href="classllvm_1_1AccelTableBase.html">AccelTableBase</a> &amp;Contents, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a> Prefix, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1MCSymbol.html">MCSymbol</a> *SecBegin, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="structllvm_1_1AppleAccelTableData_1_1Atom.html">AppleAccelTableData::Atom</a> &gt; Atoms)</td></tr>
<tr class="separator:a61ecfc43d4329f1694c896e5eb1520e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78b3092a3008359b197ec6e29618b9d"><td class="memTemplParams" colspan="2">template&lt;typename DataT &gt; </td></tr>
<tr class="memitem:aa78b3092a3008359b197ec6e29618b9d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacellvm.html#aa78b3092a3008359b197ec6e29618b9d">llvm::emitAppleAccelTable</a> (AsmPrinter *Asm, AccelTable&lt; DataT &gt; &amp;Contents, StringRef Prefix, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> MCSymbol *SecBegin)</td></tr>
<tr class="memdesc:aa78b3092a3008359b197ec6e29618b9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emit an Apple Accelerator Table consisting of entries in the specified <a class="el" href="classllvm_1_1AccelTable.html" title="This class holds an abstract representation of an Accelerator Table, consisting of a sequence of buck...">AccelTable</a>.  <a href="namespacellvm.html#aa78b3092a3008359b197ec6e29618b9d">More...</a><br /></td></tr>
<tr class="separator:aa78b3092a3008359b197ec6e29618b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3e8d3a5974f771edac17ca6000baab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm.html#a6b3e8d3a5974f771edac17ca6000baab">llvm::emitDWARF5AccelTable</a> (<a class="el" href="classllvm_1_1AsmPrinter.html">AsmPrinter</a> *Asm, <a class="el" href="classllvm_1_1AccelTable.html">AccelTable</a>&lt; <a class="el" href="classllvm_1_1DWARF5AccelTableData.html">DWARF5AccelTableData</a> &gt; &amp;Contents, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DwarfDebug.html">DwarfDebug</a> &amp;DD, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::unique_ptr&lt; <a class="el" href="classllvm_1_1DwarfCompileUnit.html">DwarfCompileUnit</a> &gt;&gt; CUs)</td></tr>
<tr class="separator:a6b3e8d3a5974f771edac17ca6000baab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a035ac9ecc99202d7c332ee9f541c9b5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm.html#a035ac9ecc99202d7c332ee9f541c9b5b">llvm::emitDWARF5AccelTable</a> (<a class="el" href="classllvm_1_1AsmPrinter.html">AsmPrinter</a> *Asm, <a class="el" href="classllvm_1_1AccelTable.html">AccelTable</a>&lt; <a class="el" href="classllvm_1_1DWARF5AccelTableStaticData.html">DWARF5AccelTableStaticData</a> &gt; &amp;Contents, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1MCSymbol.html">MCSymbol</a> * &gt; CUs, <a class="el" href="classllvm_1_1function__ref.html">llvm::function_ref</a>&lt; <a class="el" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>(<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DWARF5AccelTableStaticData.html">DWARF5AccelTableStaticData</a> &amp;)&gt; getCUIndexForEntry)</td></tr>
<tr class="separator:a035ac9ecc99202d7c332ee9f541c9b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains support for writing accelerator tables.</p>
<p>The DWARF and Apple accelerator tables are an indirect hash table optimized for null lookup rather than access to known data. The Apple accelerator tables are a precursor of the newer DWARF v5 accelerator tables. Both formats share common design ideas.</p>
<p>The Apple accelerator table are output into an on-disk format that looks like this:</p>
<p>.---------------&mdash;. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">HEADER  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BUCKETS  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">---------------&mdash;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HASHES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">---------------&mdash;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">OFFSETS  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">---------------&mdash;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DATA  </td></tr>
</table>
<p>&lsquo;------------------&rsquo;</p>
<p>The header contains a magic number, version, type of hash function, the number of buckets, total number of hashes, and room for a special struct of data and the length of that struct.</p>
<p>The buckets contain an index (e.g. 6) into the hashes array. The hashes section contains all of the 32-bit hash values in contiguous memory, and the offsets contain the offset into the data area for the particular hash.</p>
<p>For a lookup example, we could hash a function name and take it modulo the number of buckets giving us our bucket. From there we take the bucket value as an index into the hashes table and look at each successive hash as long as the hash value is still the same modulo result (bucket value) as earlier. If we have a match we look at that same entry in the offsets table and grab the offset in the data for our final match.</p>
<p>The DWARF v5 accelerator table consists of zero or more name indices that are output into an on-disk format that looks like this:</p>
<p>.---------------&mdash;. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">HEADER  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespaceCU.html">CU</a> LIST  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">---------------&mdash;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">LOCAL TU LIST  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">---------------&mdash;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FOREIGN TU LIST  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">---------------&mdash;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HASH TABLE  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">---------------&mdash;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">NAME TABLE  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">---------------&mdash;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ABBREV TABLE  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">---------------&mdash;  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ENTRY POOL  </td></tr>
</table>
<p>&lsquo;------------------&rsquo;</p>
<p>For the full documentation please refer to the DWARF 5 standard.</p>
<p>This file defines the class template AccelTable, which is represents an abstract view of an Accelerator table, without any notion of an on-disk layout. This class is parameterized by an entry type, which should derive from AccelTableData. This is the type of individual entries in the table, and it should store the data necessary to emit them. AppleAccelTableData is the base class for Apple Accelerator Table entries, which have a uniform structure based on a sequence of Atoms. There are different sub-classes derived from AppleAccelTable, which differ in the set of Atoms and how they obtain their values.</p>
<p>An Apple Accelerator Table can be serialized by calling emitAppleAccelTable function. </p>

<p class="definition">Definition in file <a class="el" href="AccelTable_8h_source.html">AccelTable.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:40:41 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
