<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/LiveDebugValues/InstrRefBasedImpl.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li><li class="navelem"><a class="el" href="dir_49f0d8a15731052f086a3a1176b385c7.html">LiveDebugValues</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">InstrRefBasedImpl.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="InstrRefBasedImpl_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- InstrRefBasedImpl.cpp - Tracking Debug Value MIs -------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span><span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/// \file InstrRefBasedImpl.cpp</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// This is a separate implementation of LiveDebugValues, see</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// LiveDebugValues.cpp and VarLocBasedImpl.cpp for more information.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/// This pass propagates variable locations between basic blocks, resolving</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/// control flow conflicts between them. The problem is SSA construction, where</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/// each debug instruction assigns the *value* that a variable has, and every</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/// instruction where the variable is in scope uses that variable. The resulting</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/// map of instruction-to-value is then translated into a register (or spill)</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// location for each variable over each instruction.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/// The primary difference from normal SSA construction is that we cannot</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/// _create_ PHI values that contain variable values. CodeGen has already</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/// completed, and we can&#39;t alter it just to make debug-info complete. Thus:</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/// we can identify function positions where we would like a PHI value for a</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/// variable, but must search the MachineFunction to see whether such a PHI is</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/// available. If no such PHI exists, the variable location must be dropped.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/// To achieve this, we perform two kinds of analysis. First, we identify</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/// every value defined by every instruction (ignoring those that only move</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// another value), then re-compute an SSA-form representation of the</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/// MachineFunction, using value propagation to eliminate any un-necessary</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/// PHI values. This gives us a map of every value computed in the function,</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/// and its location within the register file / stack.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/// Secondly, for each variable we perform the same analysis, where each debug</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/// instruction is considered a def, and every instruction where the variable</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/// is in lexical scope as a use. Value propagation is used again to eliminate</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/// any un-necessary PHIs. This gives us a map of each variable to the value</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/// it should have in a block.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/// Once both are complete, we have two maps for each block:</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">///  * Variables to the values they should have,</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">///  * Values to the register / spill slot they are located in.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/// After which we can marry-up variable values with a location, and emit</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/// DBG_VALUE instructions specifying those locations. Variable locations may</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/// be dropped in this process due to the desired variable value not being</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/// resident in any machine location, or because there is no PHI value in any</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/// location that accurately represents the desired value.  The building of</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/// location lists for each block is left to DbgEntityHistoryCalculator.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/// This pass is kept efficient because the size of the first SSA problem</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/// is proportional to the working-set size of the function, which the compiler</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">/// tries to keep small. (It&#39;s also proportional to the number of blocks).</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">/// Additionally, we repeatedly perform the second SSA problem analysis with</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/// only the variables and blocks in a single lexical scope, exploiting their</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/// locality.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/// ### Terminology</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/// A machine location is a register or spill slot, a value is something that&#39;s</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/// defined by an instruction or PHI node, while a variable value is the value</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/// assigned to a variable. A variable location is a machine location, that must</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/// contain the appropriate variable value. A value that is a PHI node is</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/// occasionally called an mphi.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/// The first SSA problem is the &quot;machine value location&quot; problem,</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/// because we&#39;re determining which machine locations contain which values.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/// The &quot;locations&quot; are constant: what&#39;s unknown is what value they contain.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/// The second SSA problem (the one for variables) is the &quot;variable value</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">/// problem&quot;, because it&#39;s determining what values a variable has, rather than</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">/// what location those values are placed in.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">/// TODO:</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">///   Overlapping fragments</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">///   Entry values</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">///   Add back DEBUG statements for debugging this</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">///   Collect statistics</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PostOrderIterator_8h.html">llvm/ADT/PostOrderIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dwarf_8h.html">llvm/BinaryFormat/Dwarf.h</a>&quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LexicalScopes_8h.html">llvm/CodeGen/LexicalScopes.h</a>&quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBundle_8h.html">llvm/CodeGen/MachineInstrBundle.h</a>&quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineMemOperand_8h.html">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOperand_8h.html">llvm/CodeGen/MachineOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PseudoSourceValue_8h.html">llvm/CodeGen/PseudoSourceValue.h</a>&quot;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetFrameLowering_8h.html">llvm/CodeGen/TargetFrameLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/CodeGen/TargetInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLowering_8h.html">llvm/CodeGen/TargetLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetPassConfig_8h.html">llvm/CodeGen/TargetPassConfig.h</a>&quot;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCRegisterInfo_8h.html">llvm/MC/MCRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GenericIteratedDominanceFrontier_8h.html">llvm/Support/GenericIteratedDominanceFrontier.h</a>&quot;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TypeSize_8h.html">llvm/Support/TypeSize.h</a>&quot;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SSAUpdaterImpl_8h.html">llvm/Transforms/Utils/SSAUpdaterImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrRefBasedImpl_8h.html">InstrRefBasedImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveDebugValues_8h.html">LiveDebugValues.h</a>&quot;</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceLiveDebugValues.html">LiveDebugValues</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">// SSAUpdaterImple sets DEBUG_TYPE, change it.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#undef DEBUG_TYPE</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="InstrRefBasedImpl_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">  137</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;livedebugvalues&quot;</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">// Act more like the VarLoc implementation, by propagating some locations too</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">// far and ignoring some transfers.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="InstrRefBasedImpl_8cpp.html#a948d04e8104e3b4b667e5c7b72ad2250">EmulateOldLDV</a>(<span class="stringliteral">&quot;emulate-old-livedebugvalues&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                   <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Act like old LiveDebugValues did&quot;</span>),</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                   <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// Limit for the maximum number of stack slots we should track, past which we</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// will ignore any spills. InstrRefBasedLDV gathers detailed information on all</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// stack slots which leads to high memory consumption, and in some scenarios</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// (such as asan with very many locals) the working set of the function can be</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">// very large, causing many spills. In these scenarios, it is very unlikely that</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">// the developer has hundreds of variables live at the same time that they&#39;re</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">// carefully thinking about -- instead, they probably autogenerated the code.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">// When this happens, gracefully stop tracking excess spill slots, rather than</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">// consuming all the developer&#39;s memory.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="InstrRefBasedImpl_8cpp.html#a25c1bd06a0b8e4d75870885a53e8f6e4">StackWorkingSetLimit</a>(<span class="stringliteral">&quot;livedebugvalues-max-stack-slots&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                         <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;livedebugvalues-stack-ws-limit&quot;</span>),</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                         <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(250));</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<a class="code" href="structLiveDebugValues_1_1DbgOpID.html">DbgOpID</a> <a class="code" href="structLiveDebugValues_1_1DbgOpID.html#a91064aebe93d3d6b7776a90451f2a854">DbgOpID::UndefID</a> = <a class="code" href="structLiveDebugValues_1_1DbgOpID.html">DbgOpID</a>(0xffffffff);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">/// Tracker for converting machine value locations and variable values into</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">/// variable locations (the output of LiveDebugValues), recorded as DBG_VALUEs</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/// specifying block live-in locations and transfers within blocks.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">/// Operating on a per-block basis, this class takes a (pre-loaded) MLocTracker</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">/// and must be initialized with the set of variable values that are live-in to</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">/// the block. The caller then repeatedly calls process(). TransferTracker picks</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">/// out variable locations for the live-in variable values (if there _is_ a</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">/// location) and creates the corresponding DBG_VALUEs. Then, as the block is</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">/// stepped through, transfers of values between machine locations are</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">/// identified and if profitable, a DBG_VALUE created.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">/// This is where debug use-before-defs would be resolved: a variable with an</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/// unavailable value could materialize in the middle of a block, when the</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">/// value becomes available. Or, we could detect clobbers and re-specify the</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">/// variable in a backup location. (XXX these are unimplemented).</span></div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classTransferTracker.html">  177</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classTransferTracker.html">TransferTracker</a> {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classTransferTracker.html#aa1cef6664a3e135245b35927b6db11e5">  179</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="classTransferTracker.html#aa1cef6664a3e135245b35927b6db11e5">TII</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a31452b4b5d9984ee5ed52db4b1a52d5e">  180</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> *<a class="code" href="classTransferTracker.html#a31452b4b5d9984ee5ed52db4b1a52d5e">TLI</a>;<span class="comment"></span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">  /// This machine location tracker is assumed to always contain the up-to-date</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">  /// value mapping for all machine locations. TransferTracker only reads</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">  /// information from it. (XXX make it const?)</span></div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a5ccc49e3b9263bbfcdeb391f17b84c2d">  184</a></span>&#160;<span class="comment"></span>  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html">MLocTracker</a> *<a class="code" href="classTransferTracker.html#a5ccc49e3b9263bbfcdeb391f17b84c2d">MTracker</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a79f160cf45e05ebc07c2751e0bd4d944">  185</a></span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="classTransferTracker.html#a79f160cf45e05ebc07c2751e0bd4d944">MF</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classTransferTracker.html#af1088d1f2ac99145846bedd829c2a05e">  186</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classTransferTracker.html#af1088d1f2ac99145846bedd829c2a05e">ShouldEmitDebugEntryValues</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">  /// Record of all changes in variable locations at a block position. Awkwardly</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">  /// we allow inserting either before or after the point: MBB != nullptr</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">  /// indicates it&#39;s before, otherwise after.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1Transfer.html">  191</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structTransferTracker_1_1Transfer.html">Transfer</a> {</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1Transfer.html#ab78f8c81ffd3f747bc238579afba9299">  192</a></span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html#ab6395548cae73865213e279ae461db54">MachineBasicBlock::instr_iterator</a> <a class="code" href="structTransferTracker_1_1Transfer.html#ab78f8c81ffd3f747bc238579afba9299">Pos</a>; <span class="comment">/// Position to insert DBG_VALUes</span></div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1Transfer.html#a8f3fd2af02224f971a011c03f5110db3">  193</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="structTransferTracker_1_1Transfer.html#a8f3fd2af02224f971a011c03f5110db3">MBB</a>; <span class="comment">/// non-null if we should insert after.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1Transfer.html#a0f49de4a2fce4559e356823119f0853c">  194</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 4&gt;</a> <a class="code" href="structTransferTracker_1_1Transfer.html#a0f49de4a2fce4559e356823119f0853c">Insts</a>; <span class="comment">/// Vector of DBG_VALUEs to insert.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span>  };</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">  /// Stores the resolved operands (machine locations and constants) and</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">  /// qualifying meta-information needed to construct a concrete DBG_VALUE-like</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">  /// instruction.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1ResolvedDbgValue.html">  200</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structTransferTracker_1_1ResolvedDbgValue.html">ResolvedDbgValue</a> {</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1ResolvedDbgValue.html#a1950d59e67278bcf2a7585a02de976a7">  201</a></span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ResolvedDbgOp&gt;</a> <a class="code" href="structTransferTracker_1_1ResolvedDbgValue.html#a1950d59e67278bcf2a7585a02de976a7">Ops</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1ResolvedDbgValue.html#a4883f929e1d52849ed5911e1ffad6e8a">  202</a></span>&#160;    <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> <a class="code" href="structTransferTracker_1_1ResolvedDbgValue.html#a4883f929e1d52849ed5911e1ffad6e8a">Properties</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1ResolvedDbgValue.html#a73ba0d2dd65dbf02973218eb35f3f443">  204</a></span>&#160;    <a class="code" href="structTransferTracker_1_1ResolvedDbgValue.html#a73ba0d2dd65dbf02973218eb35f3f443">ResolvedDbgValue</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ResolvedDbgOp&gt;</a> &amp;Ops,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                     <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> Properties)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        : Ops(Ops.<a class="code" href="namespacellvm_1_1sys_1_1path.html#a00a76a729b319dc47beffbe07325565f">begin</a>(), Ops.<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>()), Properties(Properties) {}</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">    /// Returns all the LocIdx values used in this struct, in the order in which</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">    /// they appear as operands in the debug value; may contain duplicates.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1ResolvedDbgValue.html#a8b103990018b8ee3072ebbf858b53a69">  210</a></span>&#160;<span class="comment"></span>    <span class="keyword">auto</span> <a class="code" href="structTransferTracker_1_1ResolvedDbgValue.html#a8b103990018b8ee3072ebbf858b53a69">loc_indices</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a51c7cbd21e1104ee6841c18d7daa6edb">map_range</a>(</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          <a class="code" href="namespacellvm.html#a943f22024cba236f495239754ca3c74b">make_filter_range</a>(</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;              Ops, [](<span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) { <span class="keywordflow">return</span> !<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.IsConst; }),</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          [](<span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.Loc; });</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  };</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">  /// Collection of transfers (DBG_VALUEs) to be inserted.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classTransferTracker.html#af06b11c084b9a4ff7e063e146d4131d3">  219</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Transfer, 32&gt;</a> <a class="code" href="classTransferTracker.html#af06b11c084b9a4ff7e063e146d4131d3">Transfers</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">  /// Local cache of what-value-is-in-what-LocIdx. Used to identify differences</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">  /// between TransferTrackers view of variable locations and MLocTrackers. For</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">  /// example, MLocTracker observes all clobbers, but TransferTracker lazily</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">  /// does not.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a498b0782412a1488e7cb5c22a635188d">  225</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ValueIDNum, 32&gt;</a> <a class="code" href="classTransferTracker.html#a498b0782412a1488e7cb5c22a635188d">VarLocs</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">  /// Map from LocIdxes to which DebugVariables are based that location.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">  /// Mantained while stepping through the block. Not accurate if</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  /// VarLocs[Idx] != MTracker-&gt;LocIdxToIDNum[Idx].</span></div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a62ac77ec1a77ede53b2a3aedd2ebbf94">  230</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;LocIdx, SmallSet&lt;DebugVariable, 4&gt;</a>&gt; <a class="code" href="classTransferTracker.html#a62ac77ec1a77ede53b2a3aedd2ebbf94">ActiveMLocs</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">  /// Map from DebugVariable to it&#39;s current location and qualifying meta</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">  /// information. To be used in conjunction with ActiveMLocs to construct</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">  /// enough information for the DBG_VALUEs for a particular LocIdx.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a552d84e8ccd1528ee7de663ac9750f99">  235</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;DebugVariable, ResolvedDbgValue&gt;</a> <a class="code" href="classTransferTracker.html#a552d84e8ccd1528ee7de663ac9750f99">ActiveVLocs</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">  /// Temporary cache of DBG_VALUEs to be entered into the Transfers collection.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a726366a0c91e91450e838f0c63ec69a5">  238</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 4&gt;</a> <a class="code" href="classTransferTracker.html#a726366a0c91e91450e838f0c63ec69a5">PendingDbgValues</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">  /// Record of a use-before-def: created when a value that&#39;s live-in to the</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">  /// current block isn&#39;t available in any machine location, but it will be</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">  /// defined in this block.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1UseBeforeDef.html">  243</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structTransferTracker_1_1UseBeforeDef.html">UseBeforeDef</a> {<span class="comment"></span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">    /// Value of this variable, def&#39;d in block.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1UseBeforeDef.html#a6b4cddff9a13c0b5b465ecab3fdc931e">  245</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgOp&gt;</a> <a class="code" href="structTransferTracker_1_1UseBeforeDef.html#a6b4cddff9a13c0b5b465ecab3fdc931e">Values</a>;<span class="comment"></span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">    /// Identity of this variable.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1UseBeforeDef.html#a32d518a616a8974fbaa7f68e48d0df50">  247</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> <a class="code" href="structTransferTracker_1_1UseBeforeDef.html#a32d518a616a8974fbaa7f68e48d0df50">Var</a>;<span class="comment"></span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">    /// Additional variable properties.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1UseBeforeDef.html#a4ea6a66deb8d30b11cceab65d5cda94e">  249</a></span>&#160;<span class="comment"></span>    <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> <a class="code" href="structTransferTracker_1_1UseBeforeDef.html#a4ea6a66deb8d30b11cceab65d5cda94e">Properties</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="structTransferTracker_1_1UseBeforeDef.html#ae104551bc2a3a41a9a475102787f0af7">  250</a></span>&#160;    <a class="code" href="structTransferTracker_1_1UseBeforeDef.html#ae104551bc2a3a41a9a475102787f0af7">UseBeforeDef</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;DbgOp&gt;</a> Values, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> &amp;Var,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                 <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> &amp;Properties)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        : Values(Values.<a class="code" href="namespacellvm_1_1sys_1_1path.html#a00a76a729b319dc47beffbe07325565f">begin</a>(), Values.<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>()), Var(Var),</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          Properties(Properties) {}</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  };</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">  /// Map from instruction index (within the block) to the set of UseBeforeDefs</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">  /// that become defined at that instruction.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classTransferTracker.html#ae485598414179a9523e127ad2df4756c">  258</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, SmallVector&lt;UseBeforeDef, 1&gt;</a>&gt; <a class="code" href="classTransferTracker.html#ae485598414179a9523e127ad2df4756c">UseBeforeDefs</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">  /// The set of variables that are in UseBeforeDefs and can become a location</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">  /// once the relevant value is defined. An element being erased from this</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">  /// collection prevents the use-before-def materializing.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a3f277366a28b13874114e6f3172404fd">  263</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;DebugVariable&gt;</a> <a class="code" href="classTransferTracker.html#a3f277366a28b13874114e6f3172404fd">UseBeforeDefVariables</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classTransferTracker.html#abf13e97a9a5cff9aa06c88d1ac5172fb">  265</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="classTransferTracker.html#abf13e97a9a5cff9aa06c88d1ac5172fb">TRI</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a1b1735405477716ee8dd95236d3257bf">  266</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;<a class="code" href="classTransferTracker.html#a1b1735405477716ee8dd95236d3257bf">CalleeSavedRegs</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a5d4fa52db0e402c87b29ba625290eb88">  268</a></span>&#160;  <a class="code" href="classTransferTracker.html#a5d4fa52db0e402c87b29ba625290eb88">TransferTracker</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classLiveDebugValues_1_1MLocTracker.html">MLocTracker</a> *MTracker,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;CalleeSavedRegs, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetPassConfig.html">TargetPassConfig</a> &amp;TPC)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      : <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>), MTracker(MTracker), MF(MF), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>),</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        CalleeSavedRegs(CalleeSavedRegs) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    TLI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a129ede6f18326075504d4bd0439fd517">getTargetLowering</a>();</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a> = TPC.<a class="code" href="classllvm_1_1TargetPassConfig.html#a2ead47220440ce8f11a2496059534654">getTM</a>&lt;<a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a>&gt;();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    ShouldEmitDebugEntryValues = <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.Options.ShouldEmitDebugEntryValues();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classTransferTracker.html#ac546420f6cd906a9b17e41c43e720e98">  278</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classTransferTracker.html#ac546420f6cd906a9b17e41c43e720e98">isCalleeSaved</a>(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[L];</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> &gt;= MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3d106e52bda90530904b18edf24f2286">NumRegs</a>)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">if</span> (CalleeSavedRegs.<a class="code" href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">test</a>(*RAI))</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  };</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// An estimate of the expected lifespan of values at a machine location, with</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// a greater value corresponding to a longer expected lifespan, i.e. spill</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// slots generally live longer than callee-saved registers which generally</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// live longer than non-callee-saved registers. The minimum value of 0</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// corresponds to an illegal location that cannot have a &quot;lifespan&quot; at all.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classTransferTracker.html#aa5d994f6e3b0b93e697c85ca2002834d">  293</a></span>&#160;  <span class="keyword">enum class</span> <a class="code" href="classTransferTracker.html#aa5d994f6e3b0b93e697c85ca2002834d">LocationQuality</a> : <a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a> char {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">Illegal</a> = 0,</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a>,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    CalleeSavedRegister,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    SpillSlot,</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    Best = SpillSlot</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  };</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="classTransferTracker_1_1LocationAndQuality.html">  301</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classTransferTracker_1_1LocationAndQuality.html">LocationAndQuality</a> {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">unsigned</span> Location : 24;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">unsigned</span> Quality : 8;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classTransferTracker_1_1LocationAndQuality.html#af0b8f6f7382ed160594fea63e8341c5e">  306</a></span>&#160;    <a class="code" href="classTransferTracker_1_1LocationAndQuality.html#af0b8f6f7382ed160594fea63e8341c5e">LocationAndQuality</a>() : Location(0), Quality(0) {}</div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="classTransferTracker_1_1LocationAndQuality.html#a088495756a3cd53da4efab38c8050a53">  307</a></span>&#160;    <a class="code" href="classTransferTracker_1_1LocationAndQuality.html#a088495756a3cd53da4efab38c8050a53">LocationAndQuality</a>(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L, <a class="code" href="classTransferTracker.html#aa5d994f6e3b0b93e697c85ca2002834d">LocationQuality</a> Q)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        : Location(L.asU64()), Quality(static_cast&lt;<a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>&gt;(Q)) {}</div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="classTransferTracker_1_1LocationAndQuality.html#aafbc8ed2fac417ad446be5834b07a1cc">  309</a></span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> <a class="code" href="classTransferTracker_1_1LocationAndQuality.html#aafbc8ed2fac417ad446be5834b07a1cc">getLoc</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">if</span> (!Quality)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classLiveDebugValues_1_1LocIdx.html#a8567f7c20eae6b2f5beabaa440df1097">LocIdx::MakeIllegalLoc</a>();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a>(Location);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="classTransferTracker_1_1LocationAndQuality.html#a14fc47dd260079d24f239d40e88f0371">  314</a></span>&#160;    <a class="code" href="classTransferTracker.html#aa5d994f6e3b0b93e697c85ca2002834d">LocationQuality</a> <a class="code" href="classTransferTracker_1_1LocationAndQuality.html#a14fc47dd260079d24f239d40e88f0371">getQuality</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classTransferTracker.html#aa5d994f6e3b0b93e697c85ca2002834d">LocationQuality</a>(Quality); }</div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="classTransferTracker_1_1LocationAndQuality.html#aeb178c08bc77adce5c52045faeca87b4">  315</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classTransferTracker_1_1LocationAndQuality.html#aeb178c08bc77adce5c52045faeca87b4">isIllegal</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !Quality; }</div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="classTransferTracker_1_1LocationAndQuality.html#adc6ac95ebdfc8629136cea7fa61e3041">  316</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classTransferTracker_1_1LocationAndQuality.html#adc6ac95ebdfc8629136cea7fa61e3041">isBest</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> getQuality() == LocationQuality::Best; }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  };</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// Returns the LocationQuality for the location L iff the quality of L is</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// is strictly greater than the provided minimum quality.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  std::optional&lt;LocationQuality&gt;</div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a9d0bee3986908a755f0a5418d9e4780f">  322</a></span>&#160;  <a class="code" href="classTransferTracker.html#a9d0bee3986908a755f0a5418d9e4780f">getLocQualityIfBetter</a>(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L, <a class="code" href="classTransferTracker.html#aa5d994f6e3b0b93e697c85ca2002834d">LocationQuality</a> Min)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (L.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a40076b99dca773c0cc6c994d8445c00a">isIllegal</a>())</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (Min &gt;= LocationQuality::SpillSlot)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a87fc8660fb193f626f9e9a6f0244108e">isSpill</a>(L))</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">return</span> LocationQuality::SpillSlot;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (Min &gt;= LocationQuality::CalleeSavedRegister)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (isCalleeSaved(L))</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">return</span> LocationQuality::CalleeSavedRegister;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (Min &gt;= <a class="code" href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">LocationQuality::Register</a>)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">LocationQuality::Register</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">  /// For a variable \p Var with the live-in value \p Value, attempts to resolve</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">  /// the DbgValue to a concrete DBG_VALUE, emitting that value and loading the</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">  /// tracking information to track Var throughout the block.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">  /// \p ValueToLoc is a map containing the best known location for every</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">  ///    ValueIDNum that Value may use.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">  /// \p MBB is the basic block that we are loading the live-in value for.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">  /// \p DbgOpStore is the map containing the DbgOpID-&gt;DbgOp mapping needed to</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">  ///    determine the values used by Value.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a0114254853f29888343670f0159a6634">  346</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classTransferTracker.html#a0114254853f29888343670f0159a6634">loadVarInloc</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html">DbgOpIDMap</a> &amp;DbgOpStore,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;ValueIDNum, LocationAndQuality&gt;</a> &amp;ValueToLoc,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> Var, <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> <a class="code" href="classllvm_1_1Value.html">Value</a>) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgOp&gt;</a> DbgOps;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ResolvedDbgOp&gt;</a> ResolvedDbgOps;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordtype">bool</span> IsValueValid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">unsigned</span> LastUseBeforeDef = 0;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// If every value used by the incoming DbgValue is available at block</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// entry, ResolvedDbgOps will contain the machine locations/constants for</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">// those values and will be used to emit a debug location.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// If one or more values are not yet available, but will all be defined in</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// this block, then LastUseBeforeDef will track the instruction index in</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// this BB at which the last of those values is defined, DbgOps will</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">// contain the values that we will emit when we reach that instruction.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// If one or more values are undef or not available throughout this block,</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// and we can&#39;t recover as an entry value, we set IsValueValid=false and</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// skip this variable.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structLiveDebugValues_1_1DbgOpID.html">DbgOpID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : <a class="code" href="classllvm_1_1Value.html">Value</a>.getDbgOpIDs()) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a0ff8cac5d6ff149c80d136de06314455">find</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      DbgOps.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.isUndef()) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        IsValueValid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.isConst()) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        ResolvedDbgOps.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.MO);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="comment">// If the value has no location, we can&#39;t make a variable location.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;Num = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.ID;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keyword">auto</span> ValuesPreferredLoc = ValueToLoc.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Num);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">if</span> (ValuesPreferredLoc-&gt;second.isIllegal()) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="comment">// If it&#39;s a def that occurs in this block, register it as a</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="comment">// use-before-def to be resolved as we step through the block.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">// Continue processing values so that we add any other UseBeforeDef</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="comment">// entries needed for later.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">if</span> (Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#acd482282b8eb9755d8ac0e82ba23c20b">getBlock</a>() == (<span class="keywordtype">unsigned</span>)<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>() &amp;&amp; !Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a29e1496690d23acbdb69c5b882f5bf45">isPHI</a>()) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;          LastUseBeforeDef = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(LastUseBeforeDef,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                      <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a3092d50fe696007741e04fca94bd8caf">getInst</a>()));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        recoverAsEntryValue(Var, <a class="code" href="classllvm_1_1Value.html">Value</a>.Properties, Num);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        IsValueValid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="comment">// Defer modifying ActiveVLocs until after we&#39;ve confirmed we have a</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="comment">// live range.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = ValuesPreferredLoc-&gt;second.getLoc();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      ResolvedDbgOps.push_back(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// If we cannot produce a valid value for the LiveIn value within this</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">// block, skip this variable.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (!IsValueValid)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// Add UseBeforeDef entry for the last value to be defined in this block.</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (LastUseBeforeDef) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      addUseBeforeDef(Var, <a class="code" href="classllvm_1_1Value.html">Value</a>.Properties, DbgOps,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                      LastUseBeforeDef);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// The LiveIn value is available at block entry, begin tracking and record</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// the transfer.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : ResolvedDbgOps)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.IsConst)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        ActiveMLocs[<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.Loc].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(Var);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keyword">auto</span> NewValue = <a class="code" href="structTransferTracker_1_1ResolvedDbgValue.html">ResolvedDbgValue</a>{ResolvedDbgOps, <a class="code" href="classllvm_1_1Value.html">Value</a>.Properties};</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keyword">auto</span> Result = ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(Var, NewValue));</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (!Result.second)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      Result.first-&gt;second = NewValue;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    PendingDbgValues.push_back(</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9d11ae775c5fe114200ed3b7a2df6575">emitLoc</a>(ResolvedDbgOps, Var, <a class="code" href="classllvm_1_1Value.html">Value</a>.Properties));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">  /// Load object with live-in variable values. \p mlocs contains the live-in</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">  /// values in each machine location, while \p vlocs the live-in variable</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">  /// values. This method picks variable locations for the live-in variables,</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">  /// creates DBG_VALUEs and puts them in #Transfers, then prepares the other</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">  /// object fields to track variable locations as we step through the block.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">  /// FIXME: could just examine mloctracker instead of passing in \p mlocs?</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="classTransferTracker.html#adaa0a69ac7f1c2df0cb82dfed74266b4">  432</a></span>&#160;  <a class="code" href="classTransferTracker.html#adaa0a69ac7f1c2df0cb82dfed74266b4">loadInlocs</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> &amp;MLocs, <a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html">DbgOpIDMap</a> &amp;DbgOpStore,</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;std::pair&lt;DebugVariable, DbgValue&gt;&gt; &amp;VLocs,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;             <span class="keywordtype">unsigned</span> NumLocs) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    ActiveMLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    VarLocs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    VarLocs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(NumLocs);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    UseBeforeDefs.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    UseBeforeDefVariables.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a1fbf4d66a9eeaa9ade03e8febee097ee">clear</a>();</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// Map of the preferred location for each value.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;ValueIDNum, LocationAndQuality&gt;</a> ValueToLoc;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// Initialized the preferred-location map with illegal locations, to be</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// filled in later.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;VLoc : VLocs)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="keywordflow">if</span> (VLoc.second.Kind == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba953f120c5617d3f2b42df3fd424222ad">DbgValue::Def</a>)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="structLiveDebugValues_1_1DbgOpID.html">DbgOpID</a> OpID : VLoc.second.getDbgOpIDs())</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;          <span class="keywordflow">if</span> (!OpID.ID.IsConst)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            ValueToLoc.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a0ff8cac5d6ff149c80d136de06314455">find</a>(OpID).<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="classTransferTracker_1_1LocationAndQuality.html">LocationAndQuality</a>()});</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    ActiveMLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#ae292a4b96e7f74eb95a4176ddba7b821">reserve</a>(VLocs.size());</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#ae292a4b96e7f74eb95a4176ddba7b821">reserve</a>(VLocs.size());</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// Produce a map of value numbers to the current machine locs they live</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">// in. When emulating VarLocBasedImpl, there should only be one</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// location; when not, we get to pick.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Idx = Location.Idx;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;VNum = MLocs[Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()];</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">if</span> (VNum == <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a98d44bec6b754ac8786ab97f219f06f1">ValueIDNum::EmptyValue</a>)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      VarLocs.push_back(VNum);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="comment">// Is there a variable that wants a location for this value? If not, skip.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keyword">auto</span> VIt = ValueToLoc.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(VNum);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">if</span> (VIt == ValueToLoc.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keyword">auto</span> &amp;Previous = VIt-&gt;second;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="comment">// If this is the first location with that value, pick it. Otherwise,</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="comment">// consider whether it&#39;s a &quot;longer term&quot; location.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      std::optional&lt;LocationQuality&gt; ReplacementQuality =</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;          getLocQualityIfBetter(Idx, Previous.getQuality());</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">if</span> (ReplacementQuality)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        Previous = <a class="code" href="classTransferTracker_1_1LocationAndQuality.html">LocationAndQuality</a>(Idx, *ReplacementQuality);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">// Now map variables to their picked LocIdxes.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Var : VLocs) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      loadVarInloc(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, DbgOpStore, ValueToLoc, Var.first, Var.second);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    flushDbgValues(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">  /// Record that \p Var has value \p ID, a value that becomes available</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">  /// later in the function.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a7abb17ea0b1fd71d2856d9ae9089086c">  489</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classTransferTracker.html#a7abb17ea0b1fd71d2856d9ae9089086c">addUseBeforeDef</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> &amp;Var,</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> &amp;Properties,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;DbgOp&gt;</a> &amp;DbgOps, <span class="keywordtype">unsigned</span> Inst) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    UseBeforeDefs[Inst].emplace_back(DbgOps, Var, Properties);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    UseBeforeDefVariables.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(Var);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">  /// After the instruction at index \p Inst and position \p pos has been</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">  /// processed, check whether it defines a variable value in a use-before-def.</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">  /// If so, and the variable value hasn&#39;t changed since the start of the</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">  /// block, create a DBG_VALUE.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="classTransferTracker.html#aa1129d2080e1308fd9bd27d20374ace5">  500</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classTransferTracker.html#aa1129d2080e1308fd9bd27d20374ace5">checkInstForNewValues</a>(<span class="keywordtype">unsigned</span> Inst, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> pos) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keyword">auto</span> MIt = UseBeforeDefs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Inst);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (MIt == UseBeforeDefs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// Map of values to the locations that store them for every value used by</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// the variables that may have become available.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;ValueIDNum, LocationAndQuality&gt;</a> ValueToLoc;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">// Populate ValueToLoc with illegal default mappings for every value used by</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// any UseBeforeDef variables for this instruction.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : MIt-&gt;second) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordflow">if</span> (!UseBeforeDefVariables.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(<a class="code" href="classllvm_1_1Use.html">Use</a>.Var))</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="classllvm_1_1Use.html">Use</a>.Values) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isUndef() &amp;&amp; <span class="stringliteral">&quot;UseBeforeDef erroneously created for a &quot;</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                <span class="stringliteral">&quot;DbgValue with undef values.&quot;</span>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.IsConst)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        ValueToLoc.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.ID, <a class="code" href="classTransferTracker_1_1LocationAndQuality.html">LocationAndQuality</a>()});</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// Exit early if we have no DbgValues to produce.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (ValueToLoc.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>())</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// Determine the best location for each desired value.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Idx = Location.Idx;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;LocValueID = Location.Value;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="comment">// Is there a variable that wants a location for this value? If not, skip.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keyword">auto</span> VIt = ValueToLoc.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(LocValueID);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">if</span> (VIt == ValueToLoc.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keyword">auto</span> &amp;Previous = VIt-&gt;second;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="comment">// If this is the first location with that value, pick it. Otherwise,</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="comment">// consider whether it&#39;s a &quot;longer term&quot; location.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      std::optional&lt;LocationQuality&gt; ReplacementQuality =</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;          getLocQualityIfBetter(Idx, Previous.getQuality());</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">if</span> (ReplacementQuality)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        Previous = <a class="code" href="classTransferTracker_1_1LocationAndQuality.html">LocationAndQuality</a>(Idx, *ReplacementQuality);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">// Using the map of values to locations, produce a final set of values for</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="comment">// this variable.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : MIt-&gt;second) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">if</span> (!UseBeforeDefVariables.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(<a class="code" href="classllvm_1_1Use.html">Use</a>.Var))</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ResolvedDbgOp&gt;</a> DbgOps;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="classllvm_1_1Use.html">Use</a>.Values) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.IsConst) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          DbgOps.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.MO);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> NewLoc = ValueToLoc.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.ID)-&gt;second.getLoc();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">if</span> (NewLoc.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a40076b99dca773c0cc6c994d8445c00a">isIllegal</a>())</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        DbgOps.push_back(NewLoc);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <span class="comment">// If at least one value used by this debug value is no longer available,</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="comment">// i.e. one of the values was killed before we finished defining all of</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="comment">// the values used by this variable, discard.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">if</span> (DbgOps.size() != <a class="code" href="classllvm_1_1Use.html">Use</a>.Values.size())</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="comment">// Otherwise, we&#39;re good to go.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      PendingDbgValues.push_back(</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;          MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9d11ae775c5fe114200ed3b7a2df6575">emitLoc</a>(DbgOps, <a class="code" href="classllvm_1_1Use.html">Use</a>.Var, <a class="code" href="classllvm_1_1Use.html">Use</a>.Properties));</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    flushDbgValues(pos, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">  /// Helper to move created DBG_VALUEs into Transfers collection.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="classTransferTracker.html#acf872fb0e884bca493cc867aac36ed79">  581</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classTransferTracker.html#acf872fb0e884bca493cc867aac36ed79">flushDbgValues</a>(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Pos, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (PendingDbgValues.size() == 0)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// Pick out the instruction start position.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::instr_iterator</a> BundleStart;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> &amp;&amp; Pos == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      BundleStart = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a172e7bd9150eb0519ef04c796086f93d">instr_begin</a>();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      BundleStart = <a class="code" href="namespacellvm.html#a0b1a8d3b98bc35fd5cb5b04843beeea5">getBundleStart</a>(Pos-&gt;getIterator());</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    Transfers.push_back({BundleStart, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, PendingDbgValues});</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    PendingDbgValues.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a930c119c5ebcb496e7665a4521f42b94">  596</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classTransferTracker.html#a930c119c5ebcb496e7665a4521f42b94">isEntryValueVariable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> &amp;Var,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *Expr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">if</span> (!Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>()-&gt;<a class="code" href="classllvm_1_1DILocalVariable.html#a45c267092569766aa684c6ba3bae9634">isParameter</a>())</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (Var.<a class="code" href="classllvm_1_1DebugVariable.html#a90b7ea85a03be15ace66f601bf299322">getInlinedAt</a>())</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (Expr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a1b59c8fe81267b338774bf6c542f90ee">getNumElements</a>() &gt; 0 &amp;&amp; !Expr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a8facdaa3e5cf886085dbc81082bc8d41">isDeref</a>())</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="classTransferTracker.html#ab76cea3708e144106a37446994e2482c">  610</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classTransferTracker.html#ab76cea3708e144106a37446994e2482c">isEntryValueValue</a>(<span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;Val)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// Must be in entry block (block number zero), and be a PHI / live-in value.</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">if</span> (Val.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#acd482282b8eb9755d8ac0e82ba23c20b">getBlock</a>() || !Val.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a29e1496690d23acbdb69c5b882f5bf45">isPHI</a>())</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">// Entry values must enter in a register.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">if</span> (MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a87fc8660fb193f626f9e9a6f0244108e">isSpill</a>(Val.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#af0ee865517c9747fa74f9eb3ed54578a">getLoc</a>()))</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SP = TLI-&gt;<a class="code" href="classllvm_1_1TargetLoweringBase.html#a5de0162fac7c57cab62e5bb81f0b5542">getStackPointerRegisterToSaveRestore</a>();</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">FP</a> = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aefb3b77455d0e0f2e1e8b56604c63c0c">getFrameRegister</a>(MF);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[Val.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#af0ee865517c9747fa74f9eb3ed54578a">getLoc</a>()];</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != SP &amp;&amp; <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != <a class="code" href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">FP</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a658c61ad97794f6ab64b8331317dd285">  625</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classTransferTracker.html#a658c61ad97794f6ab64b8331317dd285">recoverAsEntryValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> &amp;Var,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> &amp;Prop,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;Num) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// Is this variable location a candidate to be an entry value. First,</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// should we be trying this at all?</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (!ShouldEmitDebugEntryValues)</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *DIExpr = Prop.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a87d598e34086fb45a3a64638bdc6097e">DIExpr</a>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">// We don&#39;t currently emit entry values for DBG_VALUE_LISTs.</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> (Prop.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#aebaf15eb5116df110c1de27c5c8901a2">IsVariadic</a>) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="comment">// If this debug value can be converted to be non-variadic, then do so;</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="comment">// otherwise give up.</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keyword">auto</span> NonVariadicExpression =</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;          <a class="code" href="classllvm_1_1DIExpression.html#a854dc7a14b5443f6244301690474c7a0">DIExpression::convertToNonVariadicExpression</a>(DIExpr);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="keywordflow">if</span> (!NonVariadicExpression)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      DIExpr = *NonVariadicExpression;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">// Is the variable appropriate for entry values (i.e., is a parameter).</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">if</span> (!isEntryValueVariable(Var, DIExpr))</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// Is the value assigned to this variable still the entry value?</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">if</span> (!isEntryValueValue(Num))</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// Emit a variable location using an entry value expression.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *<a class="code" href="classNewExpr.html">NewExpr</a> =</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="classllvm_1_1DIExpression.html#ab804b15bb92ff685d7c1464b2816d608">DIExpression::prepend</a>(DIExpr, <a class="code" href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a732b32a9387e1f0a0b49cd59b96905ae">DIExpression::EntryValue</a>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#af0ee865517c9747fa74f9eb3ed54578a">getLoc</a>()];</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> MO = <a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    PendingDbgValues.push_back(</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        emitMOLoc(MO, Var, {<a class="code" href="classNewExpr.html">NewExpr</a>, Prop.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a7f88fbb422e5e0d5c0e227b3df0bd8a8">Indirect</a>, <span class="keyword">false</span>}));</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">  /// Change a variable value after encountering a DBG_VALUE inside a block.</span></div>
<div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="classTransferTracker.html#ac1753e9184a776f25f017ac1022f2a13">  666</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classTransferTracker.html#ac1753e9184a776f25f017ac1022f2a13">redefVar</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> Var(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression(),</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc()-&gt;getInlinedAt());</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> Properties(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="comment">// Ignore non-register locations, we don&#39;t transfer those.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isUndefDebugValue() ||</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.debug_operands(),</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;               [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO) { return !MO.isReg(); })) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keyword">auto</span> It = ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Var);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="keywordflow">if</span> (It != ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Loc : It-&gt;second.loc_indices())</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;          ActiveMLocs[Loc].<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(Var);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(It);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="comment">// Any use-before-defs no longer apply.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      UseBeforeDefVariables.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#af972d87e15b5f6ed61bd5c3956c5213d">erase</a>(Var);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ResolvedDbgOp&gt;</a> NewLocs;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.debug_operands()) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="comment">// Any undef regs have already been filtered out above.</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> NewLoc = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a88df5839a1471739fba42290c3a8279a">getRegMLoc</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        NewLocs.push_back(NewLoc);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        NewLocs.push_back(MO);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    redefVar(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Properties, NewLocs);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">  /// Handle a change in variable location within a block. Terminate the</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">  /// variables current location, and record the value it now refers to, so</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">  /// that we can detect location transfers later on.</span></div>
<div class="line"><a name="l00704"></a><span class="lineno"><a class="line" href="classTransferTracker.html#af3b3d27cd53936e3c52e01a34817d6be">  704</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classTransferTracker.html#af3b3d27cd53936e3c52e01a34817d6be">redefVar</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> &amp;Properties,</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ResolvedDbgOp&gt;</a> &amp;NewLocs) {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> Var(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression(),</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc()-&gt;getInlinedAt());</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// Any use-before-defs no longer apply.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    UseBeforeDefVariables.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#af972d87e15b5f6ed61bd5c3956c5213d">erase</a>(Var);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">// Erase any previous location.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keyword">auto</span> It = ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Var);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span> (It != ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Loc : It-&gt;second.loc_indices())</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        ActiveMLocs[Loc].<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(Var);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// If there _is_ no new location, all we had to do was erase.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">if</span> (NewLocs.empty()) {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="keywordflow">if</span> (It != ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(It);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;LocIdx, DebugVariable&gt;</a>&gt; LostMLocs;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : NewLocs) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.IsConst)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> NewLoc = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.Loc;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="comment">// Check whether our local copy of values-by-location in #VarLocs is out</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="comment">// of date. Wipe old tracking data for the location if it&#39;s been clobbered</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="comment">// in the meantime.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">if</span> (MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8ae8456399284b13679782065ee5dfc">readMLoc</a>(NewLoc) != VarLocs[NewLoc.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()]) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : ActiveMLocs[NewLoc]) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;          <span class="keyword">auto</span> LostVLocIt = ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          <span class="keywordflow">if</span> (LostVLocIt != ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Loc : LostVLocIt-&gt;second.loc_indices()) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;              <span class="comment">// Every active variable mapping for NewLoc will be cleared, no</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;              <span class="comment">// need to track individual variables.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;              <span class="keywordflow">if</span> (Loc == NewLoc)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;              LostMLocs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(Loc, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;          }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;          ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;LostMLoc : LostMLocs)</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          ActiveMLocs[LostMLoc.first].<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(LostMLoc.second);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        LostMLocs.clear();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        It = ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Var);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        ActiveMLocs[NewLoc.asU64()].<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        VarLocs[NewLoc.asU64()] = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8ae8456399284b13679782065ee5dfc">readMLoc</a>(NewLoc);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      ActiveMLocs[NewLoc].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(Var);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">if</span> (It == ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;          std::make_pair(Var, <a class="code" href="structTransferTracker_1_1ResolvedDbgValue.html">ResolvedDbgValue</a>(NewLocs, Properties)));</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      It-&gt;second.Ops.assign(NewLocs);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      It-&gt;second.Properties = Properties;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">  /// Account for a location \p mloc being clobbered. Examine the variable</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">  /// locations that will be terminated: and try to recover them by using</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">  /// another location. Optionally, given \p MakeUndef, emit a DBG_VALUE to</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">  /// explicitly terminate a location if it can&#39;t be recovered.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno"><a class="line" href="classTransferTracker.html#ac9ed6c9ebb7ede8539a8fe20bfeb36c2">  773</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classTransferTracker.html#ac9ed6c9ebb7ede8539a8fe20bfeb36c2">clobberMloc</a>(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> MLoc, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Pos,</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                   <span class="keywordtype">bool</span> MakeUndef = <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keyword">auto</span> ActiveMLocIt = ActiveMLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(MLoc);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (ActiveMLocIt == ActiveMLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="comment">// What was the old variable value?</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> OldValue = VarLocs[MLoc.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()];</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    clobberMloc(MLoc, OldValue, Pos, MakeUndef);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  }<span class="comment"></span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">  /// Overload that takes an explicit value \p OldValue for when the value in</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">  /// \p MLoc has changed and the TransferTracker&#39;s locations have not been</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">  /// updated yet.</span></div>
<div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="classTransferTracker.html#aee68454c02cb09e9dc1213c607ee78b9">  786</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classTransferTracker.html#aee68454c02cb09e9dc1213c607ee78b9">clobberMloc</a>(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> MLoc, <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> OldValue,</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                   <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Pos, <span class="keywordtype">bool</span> MakeUndef = <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keyword">auto</span> ActiveMLocIt = ActiveMLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(MLoc);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">if</span> (ActiveMLocIt == ActiveMLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    VarLocs[MLoc.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()] = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a98d44bec6b754ac8786ab97f219f06f1">ValueIDNum::EmptyValue</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// Examine the remaining variable locations: if we can find the same value</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// again, we can recover the location.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    std::optional&lt;LocIdx&gt; NewLoc;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Loc : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>())</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">if</span> (Loc.Value == OldValue)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        NewLoc = Loc.Idx;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// If there is no location, and we weren&#39;t asked to make the variable</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">// explicitly undef, then stop here.</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">if</span> (!NewLoc &amp;&amp; !MakeUndef) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="comment">// Try and recover a few more locations with entry values.</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Var : ActiveMLocIt-&gt;second) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="keyword">auto</span> &amp;Prop = ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Var)-&gt;second.Properties;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        recoverAsEntryValue(Var, Prop, OldValue);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      flushDbgValues(Pos, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// Examine all the variables based on this location.</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;DebugVariable&gt;</a> NewMLocs;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="comment">// If no new location has been found, every variable that depends on this</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="comment">// MLoc is dead, so end their existing MLoc-&gt;Var mappings as well.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;LocIdx, DebugVariable&gt;</a>&gt; LostMLocs;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Var : ActiveMLocIt-&gt;second) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keyword">auto</span> ActiveVLocIt = ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Var);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="comment">// Re-state the variable location: if there&#39;s no replacement then NewLoc</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="comment">// is std::nullopt and a $noreg DBG_VALUE will be created. Otherwise, a</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="comment">// DBG_VALUE identifying the alternative location will be emitted.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> &amp;Properties = ActiveVLocIt-&gt;second.Properties;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="comment">// Produce the new list of debug ops - an empty list if no new location</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="comment">// was found, or the existing list with the substitution MLoc -&gt; NewLoc</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="comment">// otherwise.</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ResolvedDbgOp&gt;</a> DbgOps;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">if</span> (NewLoc) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> OldOp(MLoc);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> NewOp(*NewLoc);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="comment">// Insert illegal ops to overwrite afterwards.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        DbgOps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(DbgOps.begin(), ActiveVLocIt-&gt;second.Ops.size(),</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                      <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a>(<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a8567f7c20eae6b2f5beabaa440df1097">LocIdx::MakeIllegalLoc</a>()));</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <a class="code" href="namespacellvm.html#ac1c97b8c8035fa91c5275ffb54d41634">replace_copy</a>(ActiveVLocIt-&gt;second.Ops, DbgOps.begin(), OldOp, NewOp);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      PendingDbgValues.push_back(MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9d11ae775c5fe114200ed3b7a2df6575">emitLoc</a>(DbgOps, Var, Properties));</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="comment">// Update machine locations &lt;=&gt; variable locations maps. Defer updating</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="comment">// ActiveMLocs to avoid invalidating the ActiveMLocIt iterator.</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="keywordflow">if</span> (!NewLoc) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Loc : ActiveVLocIt-&gt;second.loc_indices()) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;          <span class="keywordflow">if</span> (Loc != MLoc)</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            LostMLocs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(Loc, Var);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(ActiveVLocIt);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        ActiveVLocIt-&gt;second.Ops = DbgOps;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        NewMLocs.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(Var);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="comment">// Remove variables from ActiveMLocs if they no longer use any other MLocs</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="comment">// due to being killed by this clobber.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;LocVarIt : LostMLocs) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <span class="keyword">auto</span> LostMLocIt = ActiveMLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(LocVarIt.first);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LostMLocIt != ActiveMLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;             <span class="stringliteral">&quot;Variable was using this MLoc, but ActiveMLocs[MLoc] has no &quot;</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;             <span class="stringliteral">&quot;entries?&quot;</span>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      LostMLocIt-&gt;second.erase(LocVarIt.second);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">// We lazily track what locations have which values; if we&#39;ve found a new</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">// location for the clobbered value, remember it.</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span> (NewLoc)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      VarLocs[NewLoc-&gt;asU64()] = OldValue;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    flushDbgValues(Pos, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// Commit ActiveMLoc changes.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    ActiveMLocIt-&gt;second.clear();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">if</span> (!NewMLocs.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a3c9d867ff6bde97841c2b7983f5c70">empty</a>())</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Var : NewMLocs)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        ActiveMLocs[*NewLoc].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(Var);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">  /// Transfer variables based on \p Src to be based on \p Dst. This handles</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">  /// both register copies as well as spills and restores. Creates DBG_VALUEs</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">  /// describing the movement.</span></div>
<div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="classTransferTracker.html#a787205c8858064b56bad25b823faf3d0">  881</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classTransferTracker.html#a787205c8858064b56bad25b823faf3d0">transferMlocs</a>(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Src, <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Dst, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Pos) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">// Does Src still contain the value num we expect? If not, it&#39;s been</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">// clobbered in the meantime, and our variable locations are stale.</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (VarLocs[Src.asU64()] != MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8ae8456399284b13679782065ee5dfc">readMLoc</a>(Src))</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="comment">// assert(ActiveMLocs[Dst].size() == 0);</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="comment">//^^^ Legitimate scenario on account of un-clobbered slot being assigned to?</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="comment">// Move set of active variables from one location to another.</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keyword">auto</span> MovingVars = ActiveMLocs[Src];</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    ActiveMLocs[Dst].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(MovingVars.begin(), MovingVars.end());</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    VarLocs[Dst.asU64()] = VarLocs[Src.asU64()];</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="comment">// For each variable based on Src; create a location at Dst.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>(Src);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> <a class="code" href="classllvm_1_1DstOp.html">DstOp</a>(Dst);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Var : MovingVars) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keyword">auto</span> ActiveVLocIt = ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Var);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ActiveVLocIt != ActiveVLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>());</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="comment">// Update all instances of Src in the variable&#39;s tracked values to Dst.</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <a class="code" href="ConstantMerge_8cpp.html#acf172e841018fd16e65771f5ade0b297">std::replace</a>(ActiveVLocIt-&gt;second.Ops.begin(),</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                   ActiveVLocIt-&gt;second.Ops.end(), <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>, <a class="code" href="classllvm_1_1DstOp.html">DstOp</a>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9d11ae775c5fe114200ed3b7a2df6575">emitLoc</a>(ActiveVLocIt-&gt;second.Ops, Var,</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                                           ActiveVLocIt-&gt;second.Properties);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      PendingDbgValues.push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    ActiveMLocs[Src].<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    flushDbgValues(Pos, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="comment">// XXX XXX XXX &quot;pretend to be old LDV&quot; means dropping all tracking data</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="comment">// about the old location.</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstrRefBasedImpl_8cpp.html#a948d04e8104e3b4b667e5c7b72ad2250">EmulateOldLDV</a>)</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      VarLocs[Src.asU64()] = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a98d44bec6b754ac8786ab97f219f06f1">ValueIDNum::EmptyValue</a>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno"><a class="line" href="classTransferTracker.html#ab17b4ddf05538aab17dbb53a0f5f4329">  919</a></span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> <a class="code" href="classTransferTracker.html#ab17b4ddf05538aab17dbb53a0f5f4329">emitMOLoc</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO,</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> &amp;Var,</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> &amp;Properties) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">DILocation::get</a>(Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>()-&gt;<a class="code" href="classllvm_1_1MDNode.html#a936739514bcdb01ddd2826fa70cf15a5">getContext</a>(), 0, 0,</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                                  Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>()-&gt;<a class="code" href="classllvm_1_1DILocalVariable.html#accfecccb150b316edf9b05e2d1fe117f">getScope</a>(),</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                                  <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *<span class="keyword">&gt;</span>(Var.<a class="code" href="classllvm_1_1DebugVariable.html#a90b7ea85a03be15ace66f601bf299322">getInlinedAt</a>()));</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keyword">auto</span> MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(TargetOpcode::DBG_VALUE));</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    MIB.add(MO);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">if</span> (Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a7f88fbb422e5e0d5c0e227b3df0bd8a8">Indirect</a>)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      MIB.addImm(0);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      MIB.addReg(0);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    MIB.addMetadata(Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>());</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    MIB.addMetadata(Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a87d598e34086fb45a3a64638bdc6097e">DIExpr</a>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">return</span> MIB;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;};</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">//            Implementation</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a98d44bec6b754ac8786ab97f219f06f1">ValueIDNum::EmptyValue</a> = {UINT_MAX, UINT_MAX, UINT_MAX};</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#ac7728f00d503fabc8c1034d102af140e">ValueIDNum::TombstoneValue</a> = {UINT_MAX, UINT_MAX, UINT_MAX - 1};</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00945"></a><span class="lineno"><a class="line" href="structLiveDebugValues_1_1ResolvedDbgOp.html#ae0c00dfb25229694b92d71199bfaca22">  945</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html#ae0c00dfb25229694b92d71199bfaca22">ResolvedDbgOp::dump</a>(<span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html">MLocTracker</a> *MTrack)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html#a7eb56f89bef382b170cdc8f16022f0c1">IsConst</a>) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html#a3ae6254930be379b5b2a92b5a5d311cc">MO</a>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; MTrack-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afe9d19d27dd82ae73f86937cb41c3d8b">LocIdxToName</a>(<a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html#a050e8d65a2c929b355298de9980ca144">Loc</a>);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;}</div>
<div class="line"><a name="l00952"></a><span class="lineno"><a class="line" href="structLiveDebugValues_1_1DbgOp.html#a645a31ec228d2d3f5ec064b726514cd2">  952</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structLiveDebugValues_1_1DbgOp.html#a645a31ec228d2d3f5ec064b726514cd2">DbgOp::dump</a>(<span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html">MLocTracker</a> *MTrack)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structLiveDebugValues_1_1DbgOp.html#aa155f40c0f7c56ae215ee41a52d5f9ad">IsConst</a>) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="structLiveDebugValues_1_1DbgOp.html#aad8daff935ad1c509d14a73342911354">MO</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="structLiveDebugValues_1_1DbgOp.html#a4e137fe2e3773e0a6f40980d2e99083d">isUndef</a>()) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; MTrack-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a70d5f445ba9f76ce9d0a11bc11e8e1a9">IDAsString</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;}</div>
<div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="structLiveDebugValues_1_1DbgOpID.html#a743561a2288ede30c2992d98e1866505">  959</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structLiveDebugValues_1_1DbgOpID.html#a743561a2288ede30c2992d98e1866505">DbgOpID::dump</a>(<span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html">MLocTracker</a> *MTrack, <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html">DbgOpIDMap</a> *OpStore)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">if</span> (!OpStore) {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ID(&quot;</span> &lt;&lt; <a class="code" href="structLiveDebugValues_1_1DbgOpID.html#a0e6661b8b23bbe5d428f8177ae17656b">asU32</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    OpStore-&gt;<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a0ff8cac5d6ff149c80d136de06314455">find</a>(*this).<a class="code" href="structLiveDebugValues_1_1DbgOp.html#a645a31ec228d2d3f5ec064b726514cd2">dump</a>(MTrack);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;}</div>
<div class="line"><a name="l00966"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1DbgValue.html#a9959e337a4d3e325e795686118700112">  966</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classLiveDebugValues_1_1DbgValue.html#a9959e337a4d3e325e795686118700112">DbgValue::dump</a>(<span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html">MLocTracker</a> *MTrack,</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html">DbgOpIDMap</a> *OpStore)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bbaf26793ed3fb3ea880eb66562c90d1826">NoVal</a>) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;NoVal(&quot;</span> &lt;&lt; <a class="code" href="classLiveDebugValues_1_1DbgValue.html#a0867a91c94f59efa8118215449f8b1d6">BlockNo</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">VPHI</a> || <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba953f120c5617d3f2b42df3fd424222ad">Def</a>) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">VPHI</a>)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;VPHI(&quot;</span> &lt;&lt; <a class="code" href="classLiveDebugValues_1_1DbgValue.html#a0867a91c94f59efa8118215449f8b1d6">BlockNo</a> &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Def(&quot;</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; <a class="code" href="classLiveDebugValues_1_1DbgValue.html#acbfb6abfd838f71de0078b0ed13c47a9">getDbgOpIDs</a>().size(); ++Idx) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <a class="code" href="classLiveDebugValues_1_1DbgValue.html#aa70e8b6292c37300a3ea50fce69b2cdd">getDbgOpID</a>(Idx).<a class="code" href="structLiveDebugValues_1_1DbgOpID.html#a743561a2288ede30c2992d98e1866505">dump</a>(MTrack, OpStore);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="keywordflow">if</span> (Idx != 0)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a127bb33bfa67d26975c12bf33568af48">Properties</a>.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a7f88fbb422e5e0d5c0e227b3df0bd8a8">Indirect</a>)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; indir&quot;</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a127bb33bfa67d26975c12bf33568af48">Properties</a>.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a87d598e34086fb45a3a64638bdc6097e">DIExpr</a>)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a127bb33bfa67d26975c12bf33568af48">Properties</a>.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a87d598e34086fb45a3a64638bdc6097e">DIExpr</a>;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;}</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1MLocTracker.html#ae118b50388837cac4d807896b91f111e">  989</a></span>&#160;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ae118b50388837cac4d807896b91f111e">MLocTracker::MLocTracker</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI)</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    : MF(MF), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>), TLI(TLI),</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      LocIdxToIDNum(<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>::EmptyValue), LocIdxToLocID(0) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3d106e52bda90530904b18edf24f2286">NumRegs</a> = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>();</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a66a31574ce11e5d8dc78ed9a845305c2">reset</a>();</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9b700e192036873e9756f231c9213a34">LocIDToLocIdx</a>.resize(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3d106e52bda90530904b18edf24f2286">NumRegs</a>, <a class="code" href="classLiveDebugValues_1_1LocIdx.html#a8567f7c20eae6b2f5beabaa440df1097">LocIdx::MakeIllegalLoc</a>());</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3d106e52bda90530904b18edf24f2286">NumRegs</a> &lt; (1u &lt;&lt; <a class="code" href="InstrRefBasedImpl_8h.html#a09551aadf1cfb2c7160bcd6314b9f748">NUM_LOC_BITS</a>)); <span class="comment">// Detect bit packing failure</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// Always track SP. This avoids the implicit clobbering caused by regmasks</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// from affectings its values. (LiveDebugValues disbelieves calls and</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// regmasks that claim to clobber SP).</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SP = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2ceb7dab8f0063eec8dff6df6d2a3eda">TLI</a>.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a5de0162fac7c57cab62e5bb81f0b5542">getStackPointerRegisterToSaveRestore</a>();</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">if</span> (SP) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2a28f143303b39650c069b1ce0925287">getLocID</a>(SP);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    (void)<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(SP, &amp;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">TRI</a>, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI)</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2773f3976918a270bac316739f66ffd5">SPAliases</a>.insert(*RAI);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// Build some common stack positions -- full registers being spilt to the</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="comment">// stack.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{8, 0}, 0});</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{16, 0}, 1});</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{32, 0}, 2});</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{64, 0}, 3});</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{128, 0}, 4});</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{256, 0}, 5});</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{512, 0}, 6});</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// Traverse all the subregister idxes, and ensure there&#39;s an index for them.</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="comment">// Duplicates are no problem: we&#39;re interested in their position in the</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="comment">// stack slot, we don&#39;t want to type the slot.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#a04922e6bf2f754ccfad845d7a0ec00a0">getNumSubRegIndices</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordtype">unsigned</span> Size = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#a0a07fa5d83bbdde00209bd67ca61999d">getSubRegIdxSize</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordtype">unsigned</span> Offs = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#ab5f8fcf4162523b2f9ff357da46b4555">getSubRegIdxOffset</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordtype">unsigned</span> Idx = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>();</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="comment">// Some subregs have -1, -2 and so forth fed into their fields, to mean</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="comment">// special backend things. Ignore those.</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (Size &gt; 60000 || Offs &gt; 60000)</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{Size, Offs}, Idx});</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="comment">// There may also be strange register class sizes (think x86 fp80s).</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC : <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a07dfd864dd46de4511b08a1487e2719b">regclasses</a>()) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordtype">unsigned</span> Size = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(*RC);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">// We might see special reserved values as sizes, and classes for other</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// stuff the machine tries to model. If it&#39;s more than 512 bits, then it</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">// is very unlikely to be a register than can be spilt.</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (Size &gt; 512)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordtype">unsigned</span> Idx = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>();</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{Size, 0}, Idx});</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Idx : <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a6fa795efcfec488fc9683b69b1f9a4d3">StackIdxesToPos</a>[Idx.second] = Idx.first;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab2d1c5bd4bf56e5b4124fa4088f5c5d9">NumSlotIdxes</a> = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;}</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1MLocTracker.html#ae0c12fcc919645ec5ae40a9763d756ba"> 1057</a></span>&#160;<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ae0c12fcc919645ec5ae40a9763d756ba">MLocTracker::trackRegister</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> != 0);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> NewIdx = <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a>(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a91fd5d450920e56cbde71ab8708fbab9">LocIdxToIDNum</a>.<a class="code" href="classllvm_1_1IndexedMap.html#a0ab3774b84ae7022216d40470cc59ecb">size</a>());</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a91fd5d450920e56cbde71ab8708fbab9">LocIdxToIDNum</a>.<a class="code" href="classllvm_1_1IndexedMap.html#a5e822b0690502a04b87125e63dbc8316">grow</a>(NewIdx);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>.grow(NewIdx);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="comment">// Default: it&#39;s an mphi.</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> ValNum = {<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2017e35cd152cf2e3885ea8ed8e3d8f5">CurBB</a>, 0, NewIdx};</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">// Was this reg ever touched by a regmask?</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;MaskPair : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab115d98ec0127b8b019aae3e5e296efc">Masks</a>)) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (MaskPair.first-&gt;clobbersPhysReg(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="comment">// There was an earlier def we skipped.</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      ValNum = {<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2017e35cd152cf2e3885ea8ed8e3d8f5">CurBB</a>, MaskPair.second, NewIdx};</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a91fd5d450920e56cbde71ab8708fbab9">LocIdxToIDNum</a>[NewIdx] = ValNum;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[NewIdx] = <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">return</span> NewIdx;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;}</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1MLocTracker.html#a73d25ebef02d1312bd901c694d7321ee"> 1079</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a73d25ebef02d1312bd901c694d7321ee">MLocTracker::writeRegMask</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *MO, <span class="keywordtype">unsigned</span> CurBB,</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                               <span class="keywordtype">unsigned</span> InstID) {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="comment">// Def any register we track have that isn&#39;t preserved. The regmask</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="comment">// terminates the liveness of a register, meaning its value can&#39;t be</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// relied upon -- we represent this by giving it a new value.</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[Location.Idx];</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// Don&#39;t clobber SP, even if the mask says it&#39;s clobbered.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> &lt; <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3d106e52bda90530904b18edf24f2286">NumRegs</a> &amp;&amp; !<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2773f3976918a270bac316739f66ffd5">SPAliases</a>.count(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) &amp;&amp; MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">clobbersPhysReg</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>))</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ad4b28d7abd903bca80aebdd56d893e8b">defReg</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2017e35cd152cf2e3885ea8ed8e3d8f5">CurBB</a>, InstID);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab115d98ec0127b8b019aae3e5e296efc">Masks</a>.push_back(std::make_pair(MO, InstID));</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;}</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1MLocTracker.html#a0ec8c44bc2b0efa41c2a6583f9d75f21"> 1093</a></span>&#160;std::optional&lt;SpillLocationNo&gt; <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a0ec8c44bc2b0efa41c2a6583f9d75f21">MLocTracker::getOrTrackSpillLoc</a>(<a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> L) {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <a class="code" href="classLiveDebugValues_1_1SpillLocationNo.html">SpillLocationNo</a> SpillID(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8795e147779aed8a5d0af6783babaa0">SpillLocs</a>.idFor(L));</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordflow">if</span> (SpillID.<a class="code" href="classLiveDebugValues_1_1SpillLocationNo.html#a2e309fd3b79f17ba6213f7eb9d637329">id</a>() == 0) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// If there is no location, and we have reached the limit of how many stack</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="comment">// slots to track, then don&#39;t track this one.</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8795e147779aed8a5d0af6783babaa0">SpillLocs</a>.size() &gt;= <a class="code" href="InstrRefBasedImpl_8cpp.html#a25c1bd06a0b8e4d75870885a53e8f6e4">StackWorkingSetLimit</a>)</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// Spill location is untracked: create record for this one, and all</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">// subregister slots too.</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    SpillID = <a class="code" href="classLiveDebugValues_1_1SpillLocationNo.html">SpillLocationNo</a>(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8795e147779aed8a5d0af6783babaa0">SpillLocs</a>.insert(L));</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> StackIdx = 0; StackIdx &lt; <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab2d1c5bd4bf56e5b4124fa4088f5c5d9">NumSlotIdxes</a>; ++StackIdx) {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="keywordtype">unsigned</span> L = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a1c44cbd0dca6d3e9736ce4f240af2e25">getSpillIDWithIdx</a>(SpillID, StackIdx);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Idx = <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a>(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a91fd5d450920e56cbde71ab8708fbab9">LocIdxToIDNum</a>.<a class="code" href="classllvm_1_1IndexedMap.html#a0ab3774b84ae7022216d40470cc59ecb">size</a>()); <span class="comment">// New idx</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a91fd5d450920e56cbde71ab8708fbab9">LocIdxToIDNum</a>.<a class="code" href="classllvm_1_1IndexedMap.html#a5e822b0690502a04b87125e63dbc8316">grow</a>(Idx);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>.grow(Idx);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9b700e192036873e9756f231c9213a34">LocIDToLocIdx</a>.push_back(Idx);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[Idx] = L;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="comment">// Initialize to PHI value; corresponds to the location&#39;s live-in value</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <span class="comment">// during transfer function construction.</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a91fd5d450920e56cbde71ab8708fbab9">LocIdxToIDNum</a>[Idx] = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2017e35cd152cf2e3885ea8ed8e3d8f5">CurBB</a>, 0, Idx);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="keywordflow">return</span> SpillID;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1MLocTracker.html#afe9d19d27dd82ae73f86937cb41c3d8b"> 1120</a></span>&#160;std::string <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afe9d19d27dd82ae73f86937cb41c3d8b">MLocTracker::LocIdxToName</a>(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Idx)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[Idx];</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> &gt;= <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3d106e52bda90530904b18edf24f2286">NumRegs</a>) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a758eab2c8cea4d5486874624dba188b4">StackSlotPos</a> Pos = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#af39200a4599a5fc61a89ca83ce64598a">locIDToSpillIdx</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> -= <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3d106e52bda90530904b18edf24f2286">NumRegs</a>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordtype">unsigned</span> Slot = <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> / <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab2d1c5bd4bf56e5b4124fa4088f5c5d9">NumSlotIdxes</a>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;slot &quot;</span>)</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        .<a class="code" href="classllvm_1_1Twine.html#a529bd775f25e1c6ea4a96b34a5d8bde6">concat</a>(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(Slot).<a class="code" href="namespacellvm.html#ad41e0eef31b6a383647c6b3cb7f1c5cd">concat</a>(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot; sz &quot;</span>).<a class="code" href="namespacellvm.html#ad41e0eef31b6a383647c6b3cb7f1c5cd">concat</a>(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(Pos.first)</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        .<a class="code" href="classllvm_1_1Twine.html#a529bd775f25e1c6ea4a96b34a5d8bde6">concat</a>(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot; offs &quot;</span>).<a class="code" href="namespacellvm.html#ad41e0eef31b6a383647c6b3cb7f1c5cd">concat</a>(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(Pos.second))))))</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        .<a class="code" href="classllvm_1_1Twine.html#a4c1c1093a7749409c70838678514cc7c">str</a>();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ad4f8f1aca0bb01f65be1d7dee43f7f83">getRegAsmName</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>).<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;}</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1MLocTracker.html#a70d5f445ba9f76ce9d0a11bc11e8e1a9"> 1135</a></span>&#160;std::string <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a70d5f445ba9f76ce9d0a11bc11e8e1a9">MLocTracker::IDAsString</a>(<span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;Num)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  std::string DefName = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afe9d19d27dd82ae73f86937cb41c3d8b">LocIdxToName</a>(Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#af0ee865517c9747fa74f9eb3ed54578a">getLoc</a>());</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordflow">return</span> Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a9313c0181a7f6ea6097163d55a4a7694">asString</a>(DefName);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1MLocTracker.html#ad60ba0b6dcb54a7fe37863ceb0165626"> 1141</a></span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ad60ba0b6dcb54a7fe37863ceb0165626">MLocTracker::dump</a>() {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    std::string MLocName = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afe9d19d27dd82ae73f86937cb41c3d8b">LocIdxToName</a>(Location.Value.getLoc());</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    std::string DefName = Location.Value.asString(MLocName);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afe9d19d27dd82ae73f86937cb41c3d8b">LocIdxToName</a>(Location.Idx) &lt;&lt; <span class="stringliteral">&quot; --&gt; &quot;</span> &lt;&lt; DefName &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;}</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1MLocTracker.html#af0c9cdac0acbe1745277e6e9544aa575"> 1149</a></span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#af0c9cdac0acbe1745277e6e9544aa575">MLocTracker::dump_mloc_map</a>() {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    std::string <a class="code" href="lib_2Target_2README_8txt.html#a819b717d29c6c488a332fefeeb3815ba">foo</a> = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afe9d19d27dd82ae73f86937cb41c3d8b">LocIdxToName</a>(Location.Idx);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Idx &quot;</span> &lt;&lt; Location.Idx.asU64() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2README_8txt.html#a819b717d29c6c488a332fefeeb3815ba">foo</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a></div>
<div class="line"><a name="l01158"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1MLocTracker.html#a9d11ae775c5fe114200ed3b7a2df6575"> 1158</a></span>&#160;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9d11ae775c5fe114200ed3b7a2df6575">MLocTracker::emitLoc</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ResolvedDbgOp&gt;</a> &amp;DbgOps,</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> &amp;Var,</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> &amp;Properties) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">DILocation::get</a>(Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>()-&gt;<a class="code" href="classllvm_1_1MDNode.html#a936739514bcdb01ddd2826fa70cf15a5">getContext</a>(), 0, 0,</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                                Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>()-&gt;<a class="code" href="classllvm_1_1DILocalVariable.html#accfecccb150b316edf9b05e2d1fe117f">getScope</a>(),</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                                <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *<span class="keyword">&gt;</span>(Var.<a class="code" href="classllvm_1_1DebugVariable.html#a90b7ea85a03be15ace66f601bf299322">getInlinedAt</a>()));</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#aebaf15eb5116df110c1de27c5c8901a2">IsVariadic</a></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                                ? <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a7bcfe28f8a994ea7a5fff050f1c09fd2">TII</a>.<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(TargetOpcode::DBG_VALUE_LIST)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                                : <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a7bcfe28f8a994ea7a5fff050f1c09fd2">TII</a>.<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(TargetOpcode::DBG_VALUE);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(DbgOps,</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                [](<span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.IsConst || !<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.Loc.isIllegal();</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                }) &amp;&amp;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;         <span class="stringliteral">&quot;Did not expect illegal ops in DbgOps.&quot;</span>);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((DbgOps.size() == 0 ||</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;          DbgOps.size() == Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#ae1a6cd7bbbd214de5c1990def99b1c57">getLocationOpCount</a>()) &amp;&amp;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;         <span class="stringliteral">&quot;Expected to have either one DbgOp per MI LocationOp, or none.&quot;</span>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keyword">auto</span> GetRegOp = [](<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) -&gt; <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordflow">return</span> MachineOperand::CreateReg(</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="comment">/* Reg */</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="comment">/* isDef */</span> <span class="keyword">false</span>, <span class="comment">/* isImp */</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="comment">/* isKill */</span> <span class="keyword">false</span>, <span class="comment">/* isDead */</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="comment">/* isUndef */</span> <span class="keyword">false</span>, <span class="comment">/* isEarlyClobber */</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="comment">/* SubReg */</span> 0, <span class="comment">/* isDebug */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  };</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand&gt;</a> MOs;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keyword">auto</span> EmitUndef = [&amp;]() {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    MOs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    MOs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a38c50aa8e3e9588f4f968c2e03a0cee0">assign</a>(Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#ae1a6cd7bbbd214de5c1990def99b1c57">getLocationOpCount</a>(), GetRegOp(0));</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ae1a29742ce2fd47f4b4769dfe5a44f9e">MF</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Desc, <span class="keyword">false</span>, MOs, Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>(),</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                   Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a87d598e34086fb45a3a64638bdc6097e">DIExpr</a>);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  };</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="comment">// Don&#39;t bother passing any real operands to BuildMI if any of them would be</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="comment">// $noreg.</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">if</span> (DbgOps.empty())</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">return</span> EmitUndef();</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160; </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordtype">bool</span> Indirect = Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a7f88fbb422e5e0d5c0e227b3df0bd8a8">Indirect</a>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *Expr = Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a87d598e34086fb45a3a64638bdc6097e">DIExpr</a>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DbgOps.size() == Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#ae1a6cd7bbbd214de5c1990def99b1c57">getLocationOpCount</a>());</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="comment">// If all locations are valid, accumulate them into our list of</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="comment">// MachineOperands. For any spilled locations, either update the indirectness</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="comment">// register or apply the appropriate transformations in the DIExpression.</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Idx = 0; Idx &lt; Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#ae1a6cd7bbbd214de5c1990def99b1c57">getLocationOpCount</a>(); ++Idx) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1ResolvedDbgOp.html">ResolvedDbgOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DbgOps[Idx];</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.IsConst) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      MOs.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.MO);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> MLoc = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.Loc;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordtype">unsigned</span> LocID = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[MLoc];</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordflow">if</span> (LocID &gt;= <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3d106e52bda90530904b18edf24f2286">NumRegs</a>) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <a class="code" href="classLiveDebugValues_1_1SpillLocationNo.html">SpillLocationNo</a> SpillID = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a63cf4d79a939e187701ac667cb07f5d7">locIDToSpill</a>(LocID);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a758eab2c8cea4d5486874624dba188b4">StackSlotPos</a> StackIdx = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#af39200a4599a5fc61a89ca83ce64598a">locIDToSpillIdx</a>(LocID);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> Offset = StackIdx.second;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="comment">// TODO: support variables that are located in spill slots, with non-zero</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="comment">// offsets from the start of the spill slot. It would require some more</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <span class="comment">// complex DIExpression calculations. This doesn&#39;t seem to be produced by</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="comment">// LLVM right now, so don&#39;t try and support it.</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="comment">// Accept no-subregister slots and subregisters where the offset is zero.</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="comment">// The consumer should already have type information to work out how large</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="comment">// the variable is.</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="keywordflow">if</span> (Offset == 0) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> &amp;Spill = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8795e147779aed8a5d0af6783babaa0">SpillLocs</a>[SpillID.<a class="code" href="classLiveDebugValues_1_1SpillLocationNo.html#a2e309fd3b79f17ba6213f7eb9d637329">id</a>()];</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = Spill.<a class="code" href="structLiveDebugValues_1_1SpillLoc.html#aeb3fef2a940a768ea6d7dcb757b62d5e">SpillBase</a>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <span class="comment">// There are several ways we can dereference things, and several inputs</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="comment">// to consider:</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <span class="comment">// * NRVO variables will appear with IsIndirect set, but should have</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="comment">//   nothing else in their DIExpressions,</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="comment">// * Variables with DW_OP_stack_value in their expr already need an</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="comment">//   explicit dereference of the stack location,</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <span class="comment">// * Values that don&#39;t match the variable size need DW_OP_deref_size,</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        <span class="comment">// * Everything else can just become a simple location expression.</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <span class="comment">// We need to use deref_size whenever there&#39;s a mismatch between the</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="comment">// size of value and the size of variable portion being read.</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <span class="comment">// Additionally, we should use it whenever dealing with stack_value</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="comment">// fragments, to avoid the consumer having to determine the deref size</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="comment">// from DW_OP_piece.</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="keywordtype">bool</span> UseDerefSize = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <span class="keywordtype">unsigned</span> ValueSizeInBits = <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a00b889b10d5eaeb7be44d959e67263c6">getLocSizeInBits</a>(MLoc);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordtype">unsigned</span> DerefSizeInBytes = ValueSizeInBits / 8;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> Fragment = Var.<a class="code" href="classllvm_1_1DebugVariable.html#a6bd8dc4b5ad70efa8152ae80ab392b2a">getFragment</a>()) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;          <span class="keywordtype">unsigned</span> VariableSizeInBits = Fragment-&gt;SizeInBits;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;          <span class="keywordflow">if</span> (VariableSizeInBits != ValueSizeInBits || Expr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a7926734793677673e68d8cff410552ec">isComplex</a>())</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            UseDerefSize = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> Size = Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>()-&gt;<a class="code" href="classllvm_1_1DIVariable.html#a6b5977deeb9f99e156685e190de78403">getSizeInBits</a>()) {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;          <span class="keywordflow">if</span> (*Size != ValueSizeInBits) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            UseDerefSize = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;          }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t, 5&gt;</a> OffsetOps;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#af2460aaecee28b4a96ea41286e8aa406">getOffsetOpcodes</a>(Spill.<a class="code" href="structLiveDebugValues_1_1SpillLoc.html#a403bf637b576061fd4fea4c9adba0c7c">SpillOffset</a>, OffsetOps);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="keywordtype">bool</span> StackValue = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordflow">if</span> (Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a7f88fbb422e5e0d5c0e227b3df0bd8a8">Indirect</a>) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;          <span class="comment">// This is something like an NRVO variable, where the pointer has been</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;          <span class="comment">// spilt to the stack. It should end up being a memory location, with</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;          <span class="comment">// the pointer to the variable loaded off the stack with a deref:</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Expr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a40cd3c3332ecc579f7a92924714d6d5c">isImplicit</a>());</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;          OffsetOps.push_back(dwarf::DW_OP_deref);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (UseDerefSize &amp;&amp; Expr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#ac9a4fe1aa8e698aa8cd6a24751a80d91">isSingleLocationExpression</a>()) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;          <span class="comment">// TODO: Figure out how to handle deref size issues for variadic</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;          <span class="comment">// values.</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;          <span class="comment">// We&#39;re loading a value off the stack that&#39;s not the same size as the</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;          <span class="comment">// variable. Add / subtract stack offset, explicitly deref with a</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;          <span class="comment">// size, and add DW_OP_stack_value if not already present.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;          OffsetOps.push_back(dwarf::DW_OP_deref_size);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;          OffsetOps.push_back(DerefSizeInBytes);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;          StackValue = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Expr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a7926734793677673e68d8cff410552ec">isComplex</a>() || Properties.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#aebaf15eb5116df110c1de27c5c8901a2">IsVariadic</a>) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;          <span class="comment">// A variable with no size ambiguity, but with extra elements in it&#39;s</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;          <span class="comment">// expression. Manually dereference the stack location.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;          OffsetOps.push_back(dwarf::DW_OP_deref);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;          <span class="comment">// A plain value that has been spilt to the stack, with no further</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;          <span class="comment">// context. Request a location expression, marking the DBG_VALUE as</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;          <span class="comment">// IsIndirect.</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;          Indirect = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        Expr = DIExpression::appendOpsToArg(Expr, OffsetOps, Idx, StackValue);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        MOs.push_back(GetRegOp(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>));</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <span class="comment">// This is a stack location with a weird subregister offset: emit an</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <span class="comment">// undef DBG_VALUE instead.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <span class="keywordflow">return</span> EmitUndef();</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <span class="comment">// Non-empty, non-stack slot, must be a plain register.</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      MOs.push_back(GetRegOp(LocID));</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  }</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ae1a29742ce2fd47f4b4769dfe5a44f9e">MF</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Desc, Indirect, MOs, Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>(), Expr);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">/// Default construct and initialize the pass.</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment"></span><a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a625f1469290a1b9bb1bc071a5392d3cb">InstrRefBasedLDV::InstrRefBasedLDV</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ac8e3a7e9be90841c721e738db731abbf"> 1313</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ac8e3a7e9be90841c721e738db731abbf">InstrRefBasedLDV::isCalleeSaved</a>(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[L];</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ad778dafd8a5d853569fe78079b6960b7">isCalleeSavedReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;}</div>
<div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ad778dafd8a5d853569fe78079b6960b7"> 1317</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ad778dafd8a5d853569fe78079b6960b7">InstrRefBasedLDV::isCalleeSavedReg</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> R)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(R, TRI, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI)</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">if</span> (CalleeSavedRegs.<a class="code" href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">test</a>(*RAI))</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;}</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment">//            Debug Range Extension Implementation</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="comment">// Something to restore in the future.</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment">// void InstrRefBasedLDV::printVarLocInMBB(..)</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;std::optional&lt;SpillLocationNo&gt;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;InstrRefBasedLDV::extractSpillBaseRegAndOffset(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasOneMemOperand() &amp;&amp;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;         <span class="stringliteral">&quot;Spill instruction does not have exactly one memory operand?&quot;</span>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keyword">auto</span> MMOI = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin();</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PseudoSourceValue.html">PseudoSourceValue</a> *PVal = (*MMOI)-&gt;getPseudoValue();</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PVal-&gt;<a class="code" href="classllvm_1_1PseudoSourceValue.html#ab1969256cc373d72874932779a45b46c">kind</a>() == PseudoSourceValue::FixedStack &amp;&amp;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;         <span class="stringliteral">&quot;Inconsistent memory operand in spill instruction&quot;</span>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keywordtype">int</span> FI = cast&lt;FixedStackPseudoSourceValue&gt;(PVal)-&gt;getFrameIndex();</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> Offset = TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#af88a8f2328543f94aea3ba85d954fafa">getFrameIndexReference</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>(), FI, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">return</span> MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a0ec8c44bc2b0efa41c2a6583f9d75f21">getOrTrackSpillLoc</a>({<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, Offset});</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;}</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;std::optional&lt;LocIdx&gt;</div>
<div class="line"><a name="l01349"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a3c1165eb09769fbc90612ff41c1830b3"> 1349</a></span>&#160;<a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a3c1165eb09769fbc90612ff41c1830b3">InstrRefBasedLDV::findLocationForMemOperand</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  std::optional&lt;SpillLocationNo&gt; <a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> = extractSpillBaseRegAndOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a>)</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="comment">// Where in the stack slot is this value defined -- i.e., what size of value</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="comment">// is this? An important question, because it could be loaded into a register</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="comment">// from the stack at some point. Happily the memory operand will tell us</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="comment">// the size written to the stack.</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="keyword">auto</span> *MemOperand = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin();</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="keywordtype">unsigned</span> SizeInBits = MemOperand-&gt;getSizeInBits();</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="comment">// Find that position in the stack indexes we&#39;re tracking.</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keyword">auto</span> IdxIt = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>({SizeInBits, 0});</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keywordflow">if</span> (IdxIt == MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="comment">// That index is not tracked. This is suprising, and unlikely to ever</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="comment">// occur, but the safe action is to indicate the variable is optimised out.</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a1c44cbd0dca6d3e9736ce4f240af2e25">getSpillIDWithIdx</a>(*<a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a>, IdxIt-&gt;second);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="keywordflow">return</span> MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">getSpillMLoc</a>(SpillID);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;}</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="comment">/// End all previous ranges related to @MI and start a new range from @MI</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="comment">/// if it is a DBG_VALUE instr.</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> InstrRefBasedLDV::transferDebugValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue())</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocalVariable.html">DILocalVariable</a> *Var = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable();</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *Expr = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression();</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *<a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *InlinedAt = <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>-&gt;getInlinedAt();</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Var-&gt;<a class="code" href="classllvm_1_1DILocalVariable.html#ac8c4cb4dde7067286d3e3ce80bf77224">isValidLocationForIntrinsic</a>(<a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>) &amp;&amp;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;         <span class="stringliteral">&quot;Expected inlined-at fields to agree&quot;</span>);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> V(Var, Expr, InlinedAt);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> Properties(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="comment">// If there are no instructions in this lexical scope, do no location tracking</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="comment">// at all, this variable shouldn&#39;t get a legitimate location range.</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="keyword">auto</span> *Scope = LS.<a class="code" href="classllvm_1_1LexicalScopes.html#a3245044b58379359df4673c0ed9308b0">findLexicalScope</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc().get());</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="keywordflow">if</span> (Scope == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// handled it; by doing nothing</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">// MLocTracker needs to know that this register is read, even if it&#39;s only</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="comment">// read by a debug inst.</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.debug_operands())</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">if</span> (MO.isReg() &amp;&amp; MO.getReg() != 0)</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      (void)MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#acb5a8547e6be549b193c89c9202889df">readReg</a>(MO.getReg());</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="comment">// If we&#39;re preparing for the second analysis (variables), the machine value</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="comment">// locations are already solved, and we report this DBG_VALUE and the value</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="comment">// it refers to to VLocTracker.</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="keywordflow">if</span> (VTracker) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgOpID&gt;</a> DebugOps;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="comment">// Feed defVar the new variable location, or if this is a DBG_VALUE $noreg,</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="comment">// feed defVar None.</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isUndefDebugValue()) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.debug_operands()) {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="comment">// There should be no undef registers here, as we&#39;ve screened for undef</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <span class="comment">// debug values.</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordflow">if</span> (MO.isReg()) {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;          DebugOps.push_back(DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a31b80daf003f8250c14e14fbb5d9a283">insert</a>(MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#acb5a8547e6be549b193c89c9202889df">readReg</a>(MO.getReg())));</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.isImm() || MO.isFPImm() || MO.isCImm()) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;          DebugOps.push_back(DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a31b80daf003f8250c14e14fbb5d9a283">insert</a>(MO));</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected debug operand type.&quot;</span>);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    VTracker-&gt;<a class="code" href="classLiveDebugValues_1_1VLocTracker.html#a7ee9cda71a5c099141ed832aae3e70a0">defVar</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Properties, DebugOps);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  }</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160; </div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="comment">// If performing final tracking of transfers, report this variable definition</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="comment">// to the TransferTracker too.</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">if</span> (TTracker)</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    TTracker-&gt;<a class="code" href="classTransferTracker.html#ac1753e9184a776f25f017ac1022f2a13">redefVar</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;}</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;std::optional&lt;ValueIDNum&gt; InstrRefBasedLDV::getValueForInstrRef(</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordtype">unsigned</span> InstNo, <span class="keywordtype">unsigned</span> OpNo, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveOuts, <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveIns) {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="comment">// Various optimizations may have happened to the value during codegen,</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="comment">// recorded in the value substitution table. Apply any substitutions to</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="comment">// the instruction / operand number in this DBG_INSTR_REF, and collect</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="comment">// any subregister extractions performed during optimization.</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="comment">// Create dummy substitution with Src set, for lookup.</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="keyword">auto</span> SoughtSub =</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <a class="code" href="classllvm_1_1MachineFunction_1_1DebugSubstitution.html">MachineFunction::DebugSubstitution</a>({InstNo, OpNo}, {0, 0}, 0);</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> SeenSubregs;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keyword">auto</span> LowerBoundIt = <a class="code" href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a27e242bef133e4b324f5b96791fc5c60">DebugValueSubstitutions</a>, SoughtSub);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="keywordflow">while</span> (LowerBoundIt != MF.<a class="code" href="classllvm_1_1MachineFunction.html#a27e242bef133e4b324f5b96791fc5c60">DebugValueSubstitutions</a>.end() &amp;&amp;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;         LowerBoundIt-&gt;Src == SoughtSub.Src) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    std::tie(InstNo, OpNo) = LowerBoundIt-&gt;Dest;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    SoughtSub.Src = LowerBoundIt-&gt;Dest;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> Subreg = LowerBoundIt-&gt;Subreg)</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      SeenSubregs.push_back(Subreg);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    LowerBoundIt = <a class="code" href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a27e242bef133e4b324f5b96791fc5c60">DebugValueSubstitutions</a>, SoughtSub);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="comment">// Default machine value number is &lt;None&gt; -- if no instruction defines</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="comment">// the corresponding value, it must have been optimized out.</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  std::optional&lt;ValueIDNum&gt; NewID;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="comment">// Try to lookup the instruction number, and find the machine value number</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// that it defines. It could be an instruction, or a PHI.</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keyword">auto</span> InstrIt = DebugInstrNumToInstr.find(InstNo);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keyword">auto</span> PHIIt = <a class="code" href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a>(DebugPHINumToValue, InstNo);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keywordflow">if</span> (InstrIt != DebugInstrNumToInstr.end()) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;TargetInstr = *InstrIt-&gt;second.first;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BlockNo = TargetInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="comment">// Pick out the designated operand. It might be a memory reference, if</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="comment">// a register def was folded into a stack store.</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">if</span> (OpNo == MachineFunction::DebugOperandMemNumber &amp;&amp;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        TargetInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a999795324f5e7c578a97992d780080f1">hasOneMemOperand</a>()) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      std::optional&lt;LocIdx&gt; L = <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a3c1165eb09769fbc90612ff41c1830b3">findLocationForMemOperand</a>(TargetInstr);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <span class="keywordflow">if</span> (L)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        NewID = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(BlockNo, InstrIt-&gt;second.second, *L);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpNo != MachineFunction::DebugOperandMemNumber) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <span class="comment">// Permit the debug-info to be completely wrong: identifying a nonexistant</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="comment">// operand, or one that is not a register definition, means something</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="comment">// unexpected happened during optimisation. Broken debug-info, however,</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      <span class="comment">// shouldn&#39;t crash the compiler -- instead leave the variable value as</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <span class="comment">// None, which will make it appear &quot;optimised out&quot;.</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      <span class="keywordflow">if</span> (OpNo &lt; TargetInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">getNumOperands</a>()) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = TargetInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(OpNo);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;          <span class="keywordtype">unsigned</span> LocID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2a28f143303b39650c069b1ce0925287">getLocID</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;          <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9b700e192036873e9756f231c9213a34">LocIDToLocIdx</a>[LocID];</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;          NewID = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(BlockNo, InstrIt-&gt;second.second, L);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="keywordflow">if</span> (!NewID) {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            { <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Seen instruction reference to illegal operand\n&quot;</span>; });</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="comment">// else: NewID is left as None.</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PHIIt != DebugPHINumToValue.end() &amp;&amp; PHIIt-&gt;InstrNum == InstNo) {</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="comment">// It&#39;s actually a PHI value. Which value it is might not be obvious, use</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="comment">// the resolver helper to find out.</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    NewID = resolveDbgPHIs(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), MLiveOuts, MLiveIns,</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                           <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, InstNo);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  }</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="comment">// Apply any subregister extractions, in reverse. We might have seen code</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="comment">// like this:</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">//    CALL64 @foo, implicit-def $rax</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">//    %0:gr64 = COPY $rax</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">//    %1:gr32 = COPY %0.sub_32bit</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">//    %2:gr16 = COPY %1.sub_16bit</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="comment">//    %3:gr8  = COPY %2.sub_8bit</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">// In which case each copy would have been recorded as a substitution with</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="comment">// a subregister qualifier. Apply those qualifiers now.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordflow">if</span> (NewID &amp;&amp; !SeenSubregs.empty()) {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">Offset</a> = 0;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = 0;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="comment">// Look at each subregister that we passed through, and progressively</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="comment">// narrow in, accumulating any offsets that occur. Substitutions should</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="comment">// only ever be the same or narrower width than what they read from;</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="comment">// iterate in reverse order so that we go from wide to small.</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Subreg : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(SeenSubregs)) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      <span class="keywordtype">unsigned</span> ThisSize = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a0a07fa5d83bbdde00209bd67ca61999d">getSubRegIdxSize</a>(Subreg);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="keywordtype">unsigned</span> ThisOffset = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#ab5f8fcf4162523b2f9ff357da46b4555">getSubRegIdxOffset</a>(Subreg);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">Offset</a> += ThisOffset;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == 0) ? ThisSize : <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Size, ThisSize);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160; </div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="comment">// If that worked, look for an appropriate subregister with the register</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="comment">// where the define happens. Don&#39;t look at values that were defined during</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="comment">// a stack write: we can&#39;t currently express register locations within</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="comment">// spills.</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L = NewID-&gt;getLoc();</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="keywordflow">if</span> (NewID &amp;&amp; !MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a87fc8660fb193f626f9e9a6f0244108e">isSpill</a>(L)) {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="comment">// Find the register class for the register where this def happened.</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="comment">// FIXME: no index for this?</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[L];</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *TRC = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TRCI : TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a07dfd864dd46de4511b08a1487e2719b">regclasses</a>())</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <span class="keywordflow">if</span> (TRCI-&gt;contains(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;          TRC = TRCI;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TRC &amp;&amp; <span class="stringliteral">&quot;Couldn&#39;t find target register class?&quot;</span>);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="comment">// If the register we have isn&#39;t the right size or in the right place,</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="comment">// Try to find a subregister inside it.</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordtype">unsigned</span> MainRegSize = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(*TRC);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keywordflow">if</span> (Size != MainRegSize || Offset) {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="comment">// Enumerate all subregisters, searching.</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> NewReg = 0;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCSubRegIterator.html">MCSubRegIterator</a> SRI(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, TRI, <span class="keyword">false</span>); SRI.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>(); ++SRI) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;          <span class="keywordtype">unsigned</span> Subreg = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#ab2c943894d8d91dead449b33a77981c5">getSubRegIndex</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, *SRI);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;          <span class="keywordtype">unsigned</span> SubregSize = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a0a07fa5d83bbdde00209bd67ca61999d">getSubRegIdxSize</a>(Subreg);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;          <span class="keywordtype">unsigned</span> SubregOffset = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#ab5f8fcf4162523b2f9ff357da46b4555">getSubRegIdxOffset</a>(Subreg);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;          <span class="keywordflow">if</span> (SubregSize == Size &amp;&amp; SubregOffset == Offset) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            NewReg = *SRI;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;          }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        <span class="comment">// If we didn&#39;t find anything: there&#39;s no way to express our value.</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keywordflow">if</span> (!NewReg) {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;          NewID = std::nullopt;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;          <span class="comment">// Re-state the value as being defined within the subregister</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;          <span class="comment">// that we found.</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;          <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> NewLoc = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(NewReg);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;          NewID = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(NewID-&gt;getBlock(), NewID-&gt;getInst(), NewLoc);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="comment">// If we can&#39;t handle subregisters, unset the new value.</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      NewID = std::nullopt;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    }</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="keywordflow">return</span> NewID;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;}</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::transferDebugInstrRef(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveOuts,</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveIns) {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugRef())</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="comment">// Only handle this instruction when we are building the variable value</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <span class="comment">// transfer function.</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="keywordflow">if</span> (!VTracker &amp;&amp; !TTracker)</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocalVariable.html">DILocalVariable</a> *Var = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable();</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *Expr = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression();</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *<a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *InlinedAt = <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>-&gt;getInlinedAt();</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Var-&gt;<a class="code" href="classllvm_1_1DILocalVariable.html#ac8c4cb4dde7067286d3e3ce80bf77224">isValidLocationForIntrinsic</a>(<a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>) &amp;&amp;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;         <span class="stringliteral">&quot;Expected inlined-at fields to agree&quot;</span>);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> V(Var, Expr, InlinedAt);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1jitlink.html#adb322dc6826cf005531ccfdf666260fd">Scope</a> = LS.<a class="code" href="classllvm_1_1LexicalScopes.html#a3245044b58379359df4673c0ed9308b0">findLexicalScope</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc().get());</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keywordflow">if</span> (Scope == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Handled by doing nothing. This variable is never in scope.</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgOpID&gt;</a> DbgOpIDs;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.debug_operands()) {</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad04e186512436ffdefdb16ed8aaea57a">isDbgInstrRef</a>()) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; <span class="stringliteral">&quot;DBG_INSTR_REF should not contain registers&quot;</span>);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <a class="code" href="structLiveDebugValues_1_1DbgOpID.html">DbgOpID</a> ConstOpID = DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a31b80daf003f8250c14e14fbb5d9a283">insert</a>(<a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a>(MO));</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      DbgOpIDs.push_back(ConstOpID);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160; </div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordtype">unsigned</span> InstNo = MO.<a class="code" href="classllvm_1_1MachineOperand.html#a3ac9865fa1ab348b64b4366cfe103f74">getInstrRefInstrIndex</a>();</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordtype">unsigned</span> OpNo = MO.<a class="code" href="classllvm_1_1MachineOperand.html#a082167d36582dece9770d881292f5cf6">getInstrRefOpIndex</a>();</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="comment">// Default machine value number is &lt;None&gt; -- if no instruction defines</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="comment">// the corresponding value, it must have been optimized out.</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    std::optional&lt;ValueIDNum&gt; NewID =</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        getValueForInstrRef(InstNo, OpNo, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MLiveOuts, MLiveIns);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="comment">// We have a value number or std::nullopt. If the latter, then kill the</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="comment">// entire debug value.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">if</span> (NewID) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      DbgOpIDs.push_back(DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a31b80daf003f8250c14e14fbb5d9a283">insert</a>(*NewID));</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      DbgOpIDs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    }</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="comment">// We have a DbgOpID for every value or for none. Tell the variable value</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="comment">// tracker about it. The rest of this LiveDebugValues implementation acts</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="comment">// exactly the same for DBG_INSTR_REFs as DBG_VALUEs (just, the former can</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="comment">// refer to values that aren&#39;t immediately available).</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> Properties(Expr, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">if</span> (VTracker)</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    VTracker-&gt;<a class="code" href="classLiveDebugValues_1_1VLocTracker.html#a7ee9cda71a5c099141ed832aae3e70a0">defVar</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Properties, DbgOpIDs);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="comment">// If we&#39;re on the final pass through the function, decompose this INSTR_REF</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="comment">// into a plain DBG_VALUE.</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <span class="keywordflow">if</span> (!TTracker)</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="comment">// Fetch the concrete DbgOps now, as we will need them later.</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgOp&gt;</a> DbgOps;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structLiveDebugValues_1_1DbgOpID.html">DbgOpID</a> OpID : DbgOpIDs) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    DbgOps.push_back(DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a0ff8cac5d6ff149c80d136de06314455">find</a>(OpID));</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  }</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="comment">// Pick a location for the machine value number, if such a location exists.</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="comment">// (This information could be stored in TransferTracker to make it faster).</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;ValueIDNum, TransferTracker::LocationAndQuality&gt;</a> FoundLocs;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ValueIDNum&gt;</a> ValuesToFind;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">// Initialized the preferred-location map with illegal locations, to be</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="comment">// filled in later.</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : DbgOps) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.IsConst)</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      <span class="keywordflow">if</span> (FoundLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({Op.ID, TransferTracker::LocationAndQuality()})</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;              .second)</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        ValuesToFind.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.ID);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  }</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> CurL = <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Idx;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8ae8456399284b13679782065ee5dfc">readMLoc</a>(CurL);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keyword">auto</span> ValueToFindIt = <a class="code" href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">find</a>(ValuesToFind, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="keywordflow">if</span> (ValueToFindIt == ValuesToFind.end())</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keyword">auto</span> &amp;Previous = FoundLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)-&gt;second;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="comment">// If this is the first location with that value, pick it. Otherwise,</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="comment">// consider whether it&#39;s a &quot;longer term&quot; location.</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    std::optional&lt;TransferTracker::LocationQuality&gt; ReplacementQuality =</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        TTracker-&gt;<a class="code" href="classTransferTracker.html#a9d0bee3986908a755f0a5418d9e4780f">getLocQualityIfBetter</a>(CurL, Previous.getQuality());</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordflow">if</span> (ReplacementQuality) {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      Previous = <a class="code" href="classTransferTracker_1_1LocationAndQuality.html">TransferTracker::LocationAndQuality</a>(CurL, *ReplacementQuality);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <span class="keywordflow">if</span> (Previous.isBest()) {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        ValuesToFind.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(ValueToFindIt);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        <span class="keywordflow">if</span> (ValuesToFind.empty())</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ResolvedDbgOp&gt;</a> NewLocs;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a> &amp;<a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a> : DbgOps) {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a>.<a class="code" href="structLiveDebugValues_1_1DbgOp.html#aa155f40c0f7c56ae215ee41a52d5f9ad">IsConst</a>) {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      NewLocs.push_back(<a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a>.<a class="code" href="structLiveDebugValues_1_1DbgOp.html#aad8daff935ad1c509d14a73342911354">MO</a>);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> FoundLoc = FoundLocs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a>.<a class="code" href="structLiveDebugValues_1_1DbgOp.html#a17b174ad71c91584d987861d5e8e5d2d">ID</a>)-&gt;second.getLoc();</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">if</span> (FoundLoc.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a40076b99dca773c0cc6c994d8445c00a">isIllegal</a>()) {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      NewLocs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    NewLocs.push_back(FoundLoc);</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  }</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="comment">// Tell transfer tracker that the variable value has changed.</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  TTracker-&gt;<a class="code" href="classTransferTracker.html#ac1753e9184a776f25f017ac1022f2a13">redefVar</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Properties, NewLocs);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="comment">// If there were values with no location, but all such values are defined in</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="comment">// later instructions in this block, this is a block-local use-before-def.</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="keywordflow">if</span> (!DbgOps.empty() &amp;&amp; NewLocs.empty()) {</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordtype">bool</span> IsValidUseBeforeDef = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> LastUseBeforeDef = 0;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> ValueLoc : FoundLocs) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> NewID = ValueLoc.first;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> FoundLoc = ValueLoc.second.getLoc();</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="keywordflow">if</span> (!FoundLoc.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a40076b99dca773c0cc6c994d8445c00a">isIllegal</a>())</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="comment">// If we have an value with no location that is not defined in this block,</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="comment">// then it has no location in this block, leaving this value undefined.</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">if</span> (NewID.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#acd482282b8eb9755d8ac0e82ba23c20b">getBlock</a>() != CurBB || NewID.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a3092d50fe696007741e04fca94bd8caf">getInst</a>() &lt;= CurInst) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        IsValidUseBeforeDef = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      }</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      LastUseBeforeDef = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(LastUseBeforeDef, NewID.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a3092d50fe696007741e04fca94bd8caf">getInst</a>());</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="keywordflow">if</span> (IsValidUseBeforeDef) {</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      TTracker-&gt;<a class="code" href="classTransferTracker.html#a7abb17ea0b1fd71d2856d9ae9089086c">addUseBeforeDef</a>(V, {<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression(), <span class="keyword">false</span>, <span class="keyword">true</span>},</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                                DbgOps, LastUseBeforeDef);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    }</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  }</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="comment">// Produce a DBG_VALUE representing what this DBG_INSTR_REF meant.</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="comment">// This DBG_VALUE is potentially a $noreg / undefined location, if</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="comment">// FoundLoc is illegal.</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="comment">// (XXX -- could morph the DBG_INSTR_REF in the future).</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DbgMI = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9d11ae775c5fe114200ed3b7a2df6575">emitLoc</a>(NewLocs, V, Properties);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160; </div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  TTracker-&gt;<a class="code" href="classTransferTracker.html#a726366a0c91e91450e838f0c63ec69a5">PendingDbgValues</a>.push_back(DbgMI);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  TTracker-&gt;<a class="code" href="classTransferTracker.html#acf872fb0e884bca493cc867aac36ed79">flushDbgValues</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator(), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;}</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::transferDebugPHI(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugPHI())</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160; </div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  <span class="comment">// Analyse these only when solving the machine value location problem.</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="keywordflow">if</span> (VTracker || TTracker)</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="comment">// First operand is the value location, either a stack slot or register.</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="comment">// Second is the debug instruction number of the original PHI.</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="keywordtype">unsigned</span> InstrNum = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm();</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="keyword">auto</span> EmitBadPHI = [<span class="keyword">this</span>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, InstrNum]() -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="comment">// Helper lambda to do any accounting when we fail to find a location for</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="comment">// a DBG_PHI. This can happen if DBG_PHIs are malformed, or refer to a</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="comment">// dead stack slot, for example.</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="comment">// Record a DebugPHIRecord with an empty value + location.</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    DebugPHINumToValue.push_back(</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        {InstrNum, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), std::nullopt, std::nullopt});</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  };</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160; </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="comment">// The value is whatever&#39;s currently in the register. Read and record it,</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="comment">// to be analysed later.</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> Num = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#acb5a8547e6be549b193c89c9202889df">readReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keyword">auto</span> PHIRec = DebugPHIRecord(</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        {InstrNum, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), Num, MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)});</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    DebugPHINumToValue.push_back(PHIRec);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160; </div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="comment">// Ensure this register is tracked.</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), TRI, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI)</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(*RAI);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>()) {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="comment">// The value is whatever&#39;s in this stack slot.</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keywordtype">unsigned</span> FI = MO.<a class="code" href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">getIndex</a>();</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="comment">// If the stack slot is dead, then this was optimized away.</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="comment">// FIXME: stack slot colouring should account for slots that get merged.</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">if</span> (MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#af5302d38d9a16eee93f13a1579c8773d">isDeadObjectIndex</a>(FI))</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      <span class="keywordflow">return</span> EmitBadPHI();</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="comment">// Identify this spill slot, ensure it&#39;s tracked.</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> Offs = TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#af88a8f2328543f94aea3ba85d954fafa">getFrameIndexReference</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getMF(), FI, Base);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> SL = {<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Offs};</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    std::optional&lt;SpillLocationNo&gt; SpillNo = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a0ec8c44bc2b0efa41c2a6583f9d75f21">getOrTrackSpillLoc</a>(SL);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="comment">// We might be able to find a value, but have chosen not to, to avoid</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="comment">// tracking too much stack information.</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="keywordflow">if</span> (!SpillNo)</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      <span class="keywordflow">return</span> EmitBadPHI();</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="comment">// Any stack location DBG_PHI should have an associate bit-size.</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() == 3 &amp;&amp; <span class="stringliteral">&quot;Stack DBG_PHI with no size?&quot;</span>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordtype">unsigned</span> slotBitSize = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2a28f143303b39650c069b1ce0925287">getLocID</a>(*SpillNo, {slotBitSize, 0});</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> <a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">getSpillMLoc</a>(SpillID);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8ae8456399284b13679782065ee5dfc">readMLoc</a>(<a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a>);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160; </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="comment">// Record this DBG_PHI for later analysis.</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="keyword">auto</span> DbgPHI = DebugPHIRecord({InstrNum, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), Result, <a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a>});</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    DebugPHINumToValue.push_back(DbgPHI);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="comment">// Else: if the operand is neither a legal register or a stack slot, then</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="comment">// we&#39;re being fed illegal debug-info. Record an empty PHI, so that any</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="comment">// debug users trying to read this number will be put off trying to</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="comment">// interpret the value.</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        { <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Seen DBG_PHI with unrecognised operand format\n&quot;</span>; });</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keywordflow">return</span> EmitBadPHI();</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  }</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160; </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;}</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::transferRegisterDef(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="comment">// Meta Instructions do not affect the debug liveness of any register they</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="comment">// define.</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isImplicitDef()) {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="comment">// Except when there&#39;s an implicit def, and the location it&#39;s defining has</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="comment">// no value number. The whole point of an implicit def is to announce that</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="comment">// the register is live, without be specific about it&#39;s value. So define</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="comment">// a value if there isn&#39;t one already.</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> Num = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#acb5a8547e6be549b193c89c9202889df">readReg</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg());</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="comment">// Has a legitimate value -&gt; ignore the implicit def.</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">if</span> (Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#af0ee865517c9747fa74f9eb3ed54578a">getLoc</a>() != 0)</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <span class="comment">// Otherwise, def it here.</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isMetaInstruction())</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <span class="comment">// We always ignore SP defines on call instructions, they don&#39;t actually</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="comment">// change the value of the stack pointer... except for win32&#39;s _chkstk. This</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <span class="comment">// is rare: filter quickly for the common case (no stack adjustments, not a</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="comment">// call, etc). If it is a call that modifies SP, recognise the SP register</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="comment">// defs.</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="keywordtype">bool</span> CallChangesSP = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="keywordflow">if</span> (AdjustsStackInCalls &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).isSymbol() &amp;&amp;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      !strcmp(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getSymbolName(), StackProbeSymbolName.<a class="code" href="classllvm_1_1StringRef.html#ad04539d64efd58e70c5e828739cf718e">data</a>()))</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    CallChangesSP = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="comment">// Test whether we should ignore a def of this register due to it being part</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <span class="comment">// of the stack pointer.</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <span class="keyword">auto</span> IgnoreSPAlias = [<span class="keyword">this</span>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, CallChangesSP](<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">if</span> (CallChangesSP)</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall() &amp;&amp; MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2773f3976918a270bac316739f66ffd5">SPAliases</a>.count(R);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  };</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160; </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="comment">// Find the regs killed by MI, and find regmasks of preserved regs.</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">// Max out the number of statically allocated elements in `DeadRegs`, as this</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="comment">// prevents fallback to std::set::count() operations.</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;uint32_t, 32&gt;</a> DeadRegs;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const uint32_t *, 4&gt;</a> RegMasks;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const MachineOperand *, 4&gt;</a> RegMaskPtrs;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="comment">// Determine whether the operand is a register def.</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>() &amp;&amp;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        !IgnoreSPAlias(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())) {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <span class="comment">// Remove ranges of all aliased registers.</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), TRI, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI)</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        <span class="comment">// FIXME: Can we break out of this loop early if no insertion occurs?</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        DeadRegs.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(*RAI);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a55fdcb2a9df9a69067eed1bc17a0b927">isRegMask</a>()) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      RegMasks.push_back(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a241be1469eeaecff6550f375c7ce9846">getRegMask</a>());</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      RegMaskPtrs.push_back(&amp;MO);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    }</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="comment">// Tell MLocTracker about all definitions, of regmasks and otherwise.</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> DeadReg : DeadRegs)</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ad4b28d7abd903bca80aebdd56d893e8b">defReg</a>(DeadReg, CurBB, CurInst);</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160; </div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MO : RegMaskPtrs)</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a73d25ebef02d1312bd901c694d7321ee">writeRegMask</a>(MO, CurBB, CurInst);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="comment">// If this instruction writes to a spill slot, def that slot.</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#abe3764a9e5e3a3929c0cef3d6dceaedf">hasFoldedStackStore</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;SpillLocationNo&gt; SpillNo =</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            extractSpillBaseRegAndOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab2d1c5bd4bf56e5b4124fa4088f5c5d9">NumSlotIdxes</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a1c44cbd0dca6d3e9736ce4f240af2e25">getSpillIDWithIdx</a>(*SpillNo, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">getSpillMLoc</a>(SpillID);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a8ed8c7355168afd27f9f47f505026c54">setMLoc</a>(L, <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(CurBB, CurInst, L));</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    }</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  }</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160; </div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="keywordflow">if</span> (!TTracker)</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="comment">// When committing variable values to locations: tell transfer tracker that</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="comment">// we&#39;ve clobbered things. It may be able to recover the variable from a</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="comment">// different location.</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160; </div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="comment">// Inform TTracker about any direct clobbers.</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> DeadReg : DeadRegs) {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Loc = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(DeadReg);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    TTracker-&gt;<a class="code" href="classTransferTracker.html#ac9ed6c9ebb7ede8539a8fe20bfeb36c2">clobberMloc</a>(Loc, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  }</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160; </div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="comment">// Look for any clobbers performed by a register mask. Only test locations</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <span class="comment">// that are actually being tracked.</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  <span class="keywordflow">if</span> (!RegMaskPtrs.empty()) {</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> L : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      <span class="comment">// Stack locations can&#39;t be clobbered by regmasks.</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="keywordflow">if</span> (MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a87fc8660fb193f626f9e9a6f0244108e">isSpill</a>(L.Idx))</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160; </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[L.Idx];</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <span class="keywordflow">if</span> (IgnoreSPAlias(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MO : RegMaskPtrs)</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        <span class="keywordflow">if</span> (MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">clobbersPhysReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;          TTracker-&gt;<a class="code" href="classTransferTracker.html#ac9ed6c9ebb7ede8539a8fe20bfeb36c2">clobberMloc</a>(L.Idx, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160; </div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="comment">// Tell TTracker about any folded stack store.</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#abe3764a9e5e3a3929c0cef3d6dceaedf">hasFoldedStackStore</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;SpillLocationNo&gt; SpillNo =</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            extractSpillBaseRegAndOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab2d1c5bd4bf56e5b4124fa4088f5c5d9">NumSlotIdxes</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a1c44cbd0dca6d3e9736ce4f240af2e25">getSpillIDWithIdx</a>(*SpillNo, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">getSpillMLoc</a>(SpillID);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        TTracker-&gt;<a class="code" href="classTransferTracker.html#ac9ed6c9ebb7ede8539a8fe20bfeb36c2">clobberMloc</a>(L, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    }</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  }</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;}</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::performCopy(<a class="code" href="classllvm_1_1Register.html">Register</a> SrcRegNum, <a class="code" href="classllvm_1_1Register.html">Register</a> DstRegNum) {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="comment">// In all circumstances, re-def all aliases. It&#39;s definitely a new value now.</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(DstRegNum, TRI, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI)</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ad4b28d7abd903bca80aebdd56d893e8b">defReg</a>(*RAI, CurBB, CurInst);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> SrcValue = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#acb5a8547e6be549b193c89c9202889df">readReg</a>(SrcRegNum);</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5f3e7fca669ee92300565d5e78098311">setReg</a>(DstRegNum, SrcValue);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="comment">// Copy subregisters from one location to another.</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCSubRegIndexIterator.html">MCSubRegIndexIterator</a> SRI(SrcRegNum, TRI); SRI.<a class="code" href="classllvm_1_1MCSubRegIndexIterator.html#a4bc33f765fada85ad09c4910d122832d">isValid</a>(); ++SRI) {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordtype">unsigned</span> SrcSubReg = SRI.getSubReg();</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <span class="keywordtype">unsigned</span> SubRegIdx = SRI.getSubRegIndex();</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keywordtype">unsigned</span> DstSubReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">getSubReg</a>(DstRegNum, SubRegIdx);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordflow">if</span> (!DstSubReg)</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="comment">// Do copy. There are two matching subregisters, the source value should</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="comment">// have been def&#39;d when the super-reg was, the latter might not be tracked</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="comment">// yet.</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="comment">// This will force SrcSubReg to be tracked, if it isn&#39;t yet. Will read</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="comment">// mphi values if it wasn&#39;t tracked.</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> SrcL = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(SrcSubReg);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> DstL = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(DstSubReg);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    (void)SrcL;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    (void)DstL;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> CpyValue = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#acb5a8547e6be549b193c89c9202889df">readReg</a>(SrcSubReg);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5f3e7fca669ee92300565d5e78098311">setReg</a>(DstSubReg, CpyValue);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  }</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;}</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;std::optional&lt;SpillLocationNo&gt;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;InstrRefBasedLDV::isSpillInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                                     <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF) {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="comment">// TODO: Handle multiple stores folded into one.</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasOneMemOperand())</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160; </div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="comment">// Reject any memory operand that&#39;s aliased -- we can&#39;t guarantee its value.</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="keyword">auto</span> MMOI = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin();</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PseudoSourceValue.html">PseudoSourceValue</a> *PVal = (*MMOI)-&gt;getPseudoValue();</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordflow">if</span> (PVal-&gt;<a class="code" href="classllvm_1_1PseudoSourceValue.html#a72fec4522e4d7a71936f0b491d1fbafe">isAliased</a>(MFI))</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160; </div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getSpillSize(TII) &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getFoldedSpillSize(TII))</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">return</span> std::nullopt; <span class="comment">// This is not a spill instruction, since no valid size</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                         <span class="comment">// was returned from either function.</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160; </div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordflow">return</span> extractSpillBaseRegAndOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;}</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160; </div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::isLocationSpill(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                                       <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF, <span class="keywordtype">unsigned</span> &amp;<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <span class="keywordflow">if</span> (!isSpillInstruction(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MF))</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160; </div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="keywordtype">int</span> FI;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#aea2e5f1f528d4df176281fd732b55559">isStoreToStackSlotPostFE</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, FI);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != 0;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;}</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160; </div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;std::optional&lt;SpillLocationNo&gt;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;InstrRefBasedLDV::isRestoreInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                                       <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF, <span class="keywordtype">unsigned</span> &amp;<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasOneMemOperand())</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160; </div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <span class="comment">// FIXME: Handle folded restore instructions with more than one memory</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="comment">// operand.</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRestoreSize(TII)) {</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordflow">return</span> extractSpillBaseRegAndOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  }</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160; </div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::transferSpillOrRestoreInst(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <span class="comment">// XXX -- it&#39;s too difficult to implement VarLocBasedImpl&#39;s  stack location</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="comment">// limitations under the new model. Therefore, when comparing them, compare</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="comment">// versions that don&#39;t attempt spills or restores at all.</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstrRefBasedImpl_8cpp.html#a948d04e8104e3b4b667e5c7b72ad2250">EmulateOldLDV</a>)</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160; </div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <span class="comment">// Strictly limit ourselves to plain loads and stores, not all instructions</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="comment">// that can access the stack.</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="keywordtype">int</span> DummyFI = -1;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="keywordflow">if</span> (!TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#aea2e5f1f528d4df176281fd732b55559">isStoreToStackSlotPostFE</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DummyFI) &amp;&amp;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      !TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a57ebdec244ab459050fc26a590a693f1">isLoadFromStackSlotPostFE</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DummyFI))</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160; </div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getMF();</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Examining instruction: &quot;</span>; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>(););</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160; </div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="comment">// Strictly limit ourselves to plain loads and stores, not all instructions</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  <span class="comment">// that can access the stack.</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  <span class="keywordtype">int</span> FIDummy;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="keywordflow">if</span> (!TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#aea2e5f1f528d4df176281fd732b55559">isStoreToStackSlotPostFE</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, FIDummy) &amp;&amp;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      !TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a57ebdec244ab459050fc26a590a693f1">isLoadFromStackSlotPostFE</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, FIDummy))</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160; </div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="comment">// First, if there are any DBG_VALUEs pointing at a spill slot that is</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="comment">// written to, terminate that variable location. The value in memory</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="comment">// will have changed. DbgEntityHistoryCalculator doesn&#39;t try to detect this.</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <span class="keywordflow">if</span> (std::optional&lt;SpillLocationNo&gt; Loc = isSpillInstruction(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MF)) {</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="comment">// Un-set this location and clobber, so that earlier locations don&#39;t</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="comment">// continue past this store.</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> SlotIdx = 0; SlotIdx &lt; MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab2d1c5bd4bf56e5b4124fa4088f5c5d9">NumSlotIdxes</a>; ++SlotIdx) {</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a1c44cbd0dca6d3e9736ce4f240af2e25">getSpillIDWithIdx</a>(*Loc, SlotIdx);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      std::optional&lt;LocIdx&gt; MLoc = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">getSpillMLoc</a>(SpillID);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      <span class="keywordflow">if</span> (!MLoc)</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160; </div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <span class="comment">// We need to over-write the stack slot with something (here, a def at</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <span class="comment">// this instruction) to ensure no values are preserved in this stack slot</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      <span class="comment">// after the spill. It also prevents TTracker from trying to recover the</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="comment">// location and re-installing it in the same place.</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>(CurBB, CurInst, *MLoc);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a8ed8c7355168afd27f9f47f505026c54">setMLoc</a>(*MLoc, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      <span class="keywordflow">if</span> (TTracker)</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        TTracker-&gt;<a class="code" href="classTransferTracker.html#ac9ed6c9ebb7ede8539a8fe20bfeb36c2">clobberMloc</a>(*MLoc, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator());</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="comment">// Try to recognise spill and restore instructions that may transfer a value.</span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  <span class="keywordflow">if</span> (isLocationSpill(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MF, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="comment">// isLocationSpill returning true should guarantee we can extract a</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="comment">// location.</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <a class="code" href="classLiveDebugValues_1_1SpillLocationNo.html">SpillLocationNo</a> Loc = *extractSpillBaseRegAndOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160; </div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keyword">auto</span> DoTransfer = [&amp;](<a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg, <span class="keywordtype">unsigned</span> SpillID) {</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      <span class="keyword">auto</span> ReadValue = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#acb5a8547e6be549b193c89c9202889df">readReg</a>(SrcReg);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> DstLoc = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">getSpillMLoc</a>(SpillID);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a8ed8c7355168afd27f9f47f505026c54">setMLoc</a>(DstLoc, ReadValue);</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      <span class="keywordflow">if</span> (TTracker) {</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> SrcLoc = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a88df5839a1471739fba42290c3a8279a">getRegMLoc</a>(SrcReg);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        TTracker-&gt;<a class="code" href="classTransferTracker.html#a787205c8858064b56bad25b823faf3d0">transferMlocs</a>(SrcLoc, DstLoc, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator());</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      }</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    };</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="comment">// Then, transfer subreg bits.</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCSubRegIterator.html">MCSubRegIterator</a> SRI(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, TRI, <span class="keyword">false</span>); SRI.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>(); ++SRI) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;      <span class="comment">// Ensure this reg is tracked,</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      (void)MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(*SRI);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <span class="keywordtype">unsigned</span> SubregIdx = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#ab2c943894d8d91dead449b33a77981c5">getSubRegIndex</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, *SRI);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2a28f143303b39650c069b1ce0925287">getLocID</a>(Loc, SubregIdx);</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;      DoTransfer(*SRI, SpillID);</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    }</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="comment">// Directly lookup size of main source reg, and transfer.</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, *MRI);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2a28f143303b39650c069b1ce0925287">getLocID</a>(Loc, {<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, 0});</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    DoTransfer(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SpillID);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    std::optional&lt;SpillLocationNo&gt; Loc = isRestoreInstruction(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MF, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordflow">if</span> (!Loc)</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160; </div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="comment">// Assumption: we&#39;re reading from the base of the stack slot, not some</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <span class="comment">// offset into it. It seems very unlikely LLVM would ever generate</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="comment">// restores where this wasn&#39;t true. This then becomes a question of what</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <span class="comment">// subregisters in the destination register line up with positions in the</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="comment">// stack slot.</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="comment">// Def all registers that alias the destination.</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, TRI, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI)</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ad4b28d7abd903bca80aebdd56d893e8b">defReg</a>(*RAI, CurBB, CurInst);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160; </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="comment">// Now find subregisters within the destination register, and load values</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="comment">// from stack slot positions.</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keyword">auto</span> DoTransfer = [&amp;](<a class="code" href="classllvm_1_1Register.html">Register</a> DestReg, <span class="keywordtype">unsigned</span> SpillID) {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> SrcIdx = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">getSpillMLoc</a>(SpillID);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      <span class="keyword">auto</span> ReadValue = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8ae8456399284b13679782065ee5dfc">readMLoc</a>(SrcIdx);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5f3e7fca669ee92300565d5e78098311">setReg</a>(DestReg, ReadValue);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    };</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCSubRegIterator.html">MCSubRegIterator</a> SRI(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, TRI, <span class="keyword">false</span>); SRI.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>(); ++SRI) {</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      <span class="keywordtype">unsigned</span> Subreg = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#ab2c943894d8d91dead449b33a77981c5">getSubRegIndex</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, *SRI);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2a28f143303b39650c069b1ce0925287">getLocID</a>(*Loc, Subreg);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      DoTransfer(*SRI, SpillID);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="comment">// Directly look up this registers slot idx by size, and transfer.</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, *MRI);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2a28f143303b39650c069b1ce0925287">getLocID</a>(*Loc, {<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, 0});</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    DoTransfer(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SpillID);</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  }</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;}</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160; </div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::transferRegisterCopy(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <span class="keyword">auto</span> DestSrc = TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a646db2e0057baacab64c8351e04a1b0d">isCopyInstr</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <span class="keywordflow">if</span> (!DestSrc)</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *DestRegOp = DestSrc-&gt;Destination;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SrcRegOp = DestSrc-&gt;Source;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160; </div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = SrcRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg = DestRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="comment">// Ignore identity copies. Yep, these make it as far as LiveDebugValues.</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <span class="keywordflow">if</span> (SrcReg == DestReg)</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160; </div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <span class="comment">// For emulating VarLocBasedImpl:</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  <span class="comment">// We want to recognize instructions where destination register is callee</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="comment">// saved register. If register that could be clobbered by the call is</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="comment">// included, there would be a great chance that it is going to be clobbered</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="comment">// soon. It is more likely that previous register, which is callee saved, is</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="comment">// going to stay unclobbered longer, even if it is killed.</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="comment">// For InstrRefBasedImpl, we can track multiple locations per value, so</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="comment">// ignore this condition.</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstrRefBasedImpl_8cpp.html#a948d04e8104e3b4b667e5c7b72ad2250">EmulateOldLDV</a> &amp;&amp; !<a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ad778dafd8a5d853569fe78079b6960b7">isCalleeSavedReg</a>(DestReg))</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <span class="comment">// InstrRefBasedImpl only followed killing copies.</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstrRefBasedImpl_8cpp.html#a948d04e8104e3b4b667e5c7b72ad2250">EmulateOldLDV</a> &amp;&amp; !SrcRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>())</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="comment">// Before we update MTracker, remember which values were present in each of</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="comment">// the locations about to be overwritten, so that we can recover any</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="comment">// potentially clobbered variables.</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;LocIdx, ValueIDNum&gt;</a> ClobberedLocs;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <span class="keywordflow">if</span> (TTracker) {</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(DestReg, TRI, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI) {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> ClobberedLoc = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a88df5839a1471739fba42290c3a8279a">getRegMLoc</a>(*RAI);</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      <span class="keyword">auto</span> MLocIt = TTracker-&gt;<a class="code" href="classTransferTracker.html#a62ac77ec1a77ede53b2a3aedd2ebbf94">ActiveMLocs</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(ClobberedLoc);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <span class="comment">// If ActiveMLocs isn&#39;t tracking this location or there are no variables</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      <span class="comment">// using it, don&#39;t bother remembering.</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <span class="keywordflow">if</span> (MLocIt == TTracker-&gt;<a class="code" href="classTransferTracker.html#a62ac77ec1a77ede53b2a3aedd2ebbf94">ActiveMLocs</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() || MLocIt-&gt;second.empty())</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> <a class="code" href="classllvm_1_1Value.html">Value</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#acb5a8547e6be549b193c89c9202889df">readReg</a>(*RAI);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      ClobberedLocs[ClobberedLoc] = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a>;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    }</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  }</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="comment">// Copy MTracker info, including subregs if available.</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  InstrRefBasedLDV::performCopy(SrcReg, DestReg);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160; </div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="comment">// The copy might have clobbered variables based on the destination register.</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="comment">// Tell TTracker about it, passing the old ValueIDNum to search for</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="comment">// alternative locations (or else terminating those variables).</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordflow">if</span> (TTracker) {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> LocVal : ClobberedLocs) {</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      TTracker-&gt;<a class="code" href="classTransferTracker.html#ac9ed6c9ebb7ede8539a8fe20bfeb36c2">clobberMloc</a>(LocVal.first, LocVal.second, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    }</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  }</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160; </div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  <span class="comment">// Only produce a transfer of DBG_VALUE within a block where old LDV</span></div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="comment">// would have. We might make use of the additional value tracking in some</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <span class="comment">// other way, later.</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  <span class="keywordflow">if</span> (TTracker &amp;&amp; <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ad778dafd8a5d853569fe78079b6960b7">isCalleeSavedReg</a>(DestReg) &amp;&amp; SrcRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>())</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    TTracker-&gt;<a class="code" href="classTransferTracker.html#a787205c8858064b56bad25b823faf3d0">transferMlocs</a>(MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a88df5839a1471739fba42290c3a8279a">getRegMLoc</a>(SrcReg),</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;                            MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a88df5839a1471739fba42290c3a8279a">getRegMLoc</a>(DestReg), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator());</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160; </div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  <span class="comment">// VarLocBasedImpl would quit tracking the old location after copying.</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstrRefBasedImpl_8cpp.html#a948d04e8104e3b4b667e5c7b72ad2250">EmulateOldLDV</a> &amp;&amp; SrcReg != DestReg)</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ad4b28d7abd903bca80aebdd56d893e8b">defReg</a>(SrcReg, CurBB, CurInst);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;}</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="comment">/// Accumulate a mapping between each DILocalVariable fragment and other</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;<span class="comment">/// fragments of that DILocalVariable which overlap. This reduces work during</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;<span class="comment">/// the data-flow stage from &quot;Find any overlapping fragments&quot; to &quot;Check if the</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;<span class="comment">/// known-to-overlap fragments are present&quot;.</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;<span class="comment">/// \param MI A previously unprocessed debug instruction to analyze for</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;<span class="comment">///           fragment usage.</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> InstrRefBasedLDV::accumulateFragmentMap(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValueLike());</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> MIVar(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression(),</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc()-&gt;getInlinedAt());</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a8126e881577442cc33511b29b08a0d32">FragmentInfo</a> ThisFragment = MIVar.getFragmentOrDefault();</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160; </div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <span class="comment">// If this is the first sighting of this variable, then we are guaranteed</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="comment">// there are currently no overlapping fragments either. Initialize the set</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <span class="comment">// of seen fragments, record no overlaps for the current one, and return.</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <span class="keyword">auto</span> SeenIt = SeenFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(MIVar.getVariable());</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="keywordflow">if</span> (SeenIt == SeenFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;FragmentInfo, 4&gt;</a> OneFragment;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    OneFragment.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(ThisFragment);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    SeenFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({MIVar.getVariable(), OneFragment});</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160; </div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    OverlapFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{MIVar.getVariable(), ThisFragment}, {}});</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  }</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160; </div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="comment">// If this particular Variable/Fragment pair already exists in the overlap</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="comment">// map, it has already been accounted for.</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <span class="keyword">auto</span> IsInOLapMap =</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;      OverlapFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{MIVar.getVariable(), ThisFragment}, {}});</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="keywordflow">if</span> (!IsInOLapMap.second)</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="keyword">auto</span> &amp;ThisFragmentsOverlaps = IsInOLapMap.first-&gt;second;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <span class="keyword">auto</span> &amp;AllSeenFragments = SeenIt-&gt;second;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160; </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="comment">// Otherwise, examine all other seen fragments for this variable, with &quot;this&quot;</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <span class="comment">// fragment being a previously unseen fragment. Record any pair of</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="comment">// overlapping fragments.</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ASeenFragment : AllSeenFragments) {</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="comment">// Does this previously seen fragment overlap?</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keywordflow">if</span> (DIExpression::fragmentsOverlap(ThisFragment, ASeenFragment)) {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      <span class="comment">// Yes: Mark the current fragment as being overlapped.</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      ThisFragmentsOverlaps.push_back(ASeenFragment);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      <span class="comment">// Mark the previously seen fragment as being overlapped by the current</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      <span class="comment">// one.</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      <span class="keyword">auto</span> ASeenFragmentsOverlaps =</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;          OverlapFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>({MIVar.getVariable(), ASeenFragment});</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ASeenFragmentsOverlaps != OverlapFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;             <span class="stringliteral">&quot;Previously seen var fragment has no vector of overlaps&quot;</span>);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      ASeenFragmentsOverlaps-&gt;second.push_back(ThisFragment);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    }</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  }</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160; </div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  AllSeenFragments.insert(ThisFragment);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;}</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160; </div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::process(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveOuts,</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                               <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveIns) {</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="comment">// Try to interpret an MI as a debug or transfer instruction. Only if it&#39;s</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="comment">// none of these should we interpret it&#39;s register defs as new value</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <span class="comment">// definitions.</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <span class="keywordflow">if</span> (transferDebugValue(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="keywordflow">if</span> (transferDebugInstrRef(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MLiveOuts, MLiveIns))</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <span class="keywordflow">if</span> (transferDebugPHI(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <span class="keywordflow">if</span> (transferRegisterCopy(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="keywordflow">if</span> (transferSpillOrRestoreInst(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  transferRegisterDef(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;}</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160; </div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::produceMLocTransferFunction(</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MLocTransferMap&gt;</a> &amp;MLocTransfer,</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>) {</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="comment">// Because we try to optimize around register mask operands by ignoring regs</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <span class="comment">// that aren&#39;t currently tracked, we set up something ugly for later: RegMask</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <span class="comment">// operands that are seen earlier than the first use of a register, still need</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <span class="comment">// to clobber that register in the transfer function. But this information</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <span class="comment">// isn&#39;t actively recorded. Instead, we track each RegMask used in each block,</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  <span class="comment">// and accumulated the clobbered but untracked registers in each block into</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <span class="comment">// the following bitvector. Later, if new values are tracked, we can add</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="comment">// appropriate clobbers.</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BitVector, 32&gt;</a> BlockMasks;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  BlockMasks.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160; </div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="comment">// Reserve one bit per register for the masks described above.</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <span class="keywordtype">unsigned</span> BVWords = MachineOperand::getRegMaskSize(TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>());</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;BV : BlockMasks)</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    BV.resize(TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="comment">// Step through all instructions and inhale the transfer function.</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF) {</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <span class="comment">// Object fields that are read by trackers to know where we are in the</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <span class="comment">// function.</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    CurBB = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    CurInst = 1;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="comment">// Set all machine locations to a PHI value. For transfer function</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="comment">// production only, this signifies the live-in value to the block.</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a66a31574ce11e5d8dc78ed9a845305c2">reset</a>();</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#abc84cf80598821cf657ee831fce024bc">setMPhis</a>(CurBB);</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160; </div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    <span class="comment">// Step through each instruction in this block.</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <span class="comment">// Pass in an empty unique_ptr for the value tables when accumulating the</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <span class="comment">// machine transfer function.</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      process(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160; </div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <span class="comment">// Also accumulate fragment map.</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValueLike())</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        accumulateFragmentMap(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160; </div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <span class="comment">// Create a map from the instruction number (if present) to the</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      <span class="comment">// MachineInstr and its position.</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> InstrNo = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.peekDebugInstrNum()) {</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <span class="keyword">auto</span> InstrAndPos = std::make_pair(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, CurInst);</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <span class="keyword">auto</span> InsertResult =</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;            DebugInstrNumToInstr.insert(std::make_pair(InstrNo, InstrAndPos));</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160; </div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        <span class="comment">// There should never be duplicate instruction numbers.</span></div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InsertResult.second);</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        (void)InsertResult;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      }</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160; </div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      ++CurInst;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    }</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160; </div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="comment">// Produce the transfer function, a map of machine location to new value. If</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="comment">// any machine location has the live-in phi value from the start of the</span></div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <span class="comment">// block, it&#39;s live-through and doesn&#39;t need recording in the transfer</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="comment">// function.</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Idx = <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Idx;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Value;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.isPHI() &amp;&amp; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getLoc() == Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>())</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160; </div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      <span class="comment">// Insert-or-update.</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      <span class="keyword">auto</span> &amp;TransferMap = MLocTransfer[CurBB];</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = TransferMap.insert(std::make_pair(Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>(), <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>));</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.second)</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;        <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.first-&gt;second = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    }</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160; </div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="comment">// Accumulate any bitmask operands into the clobbered reg mask for this</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="comment">// block.</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab115d98ec0127b8b019aae3e5e296efc">Masks</a>) {</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;      BlockMasks[CurBB].clearBitsNotInMask(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first-&gt;getRegMask(), BVWords);</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    }</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  }</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160; </div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="comment">// Compute a bitvector of all the registers that are tracked in this block.</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> UsedRegs(TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>());</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Idx];</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <span class="comment">// Ignore stack slots, and aliases of the stack pointer.</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> &gt;= TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>() || MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2773f3976918a270bac316739f66ffd5">SPAliases</a>.count(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>))</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    UsedRegs.set(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  }</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="comment">// Check that any regmask-clobber of a register that gets tracked, is not</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  <span class="comment">// live-through in the transfer function. It needs to be clobbered at the</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="comment">// very least.</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;BV = BlockMasks[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    BV.<a class="code" href="classllvm_1_1BitVector.html#a2a8677748ff6a6469bb9185e1d178fd1">flip</a>();</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    BV &amp;= UsedRegs;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <span class="comment">// This produces all the bits that we clobber, but also use. Check that</span></div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <span class="comment">// they&#39;re all clobbered or at least set in the designated transfer</span></div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <span class="comment">// elem.</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a> : BV.<a class="code" href="classllvm_1_1BitVector.html#a1aa4357710f3fd6e616e13b5c16dc0d8">set_bits</a>()) {</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a2a28f143303b39650c069b1ce0925287">getLocID</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Idx = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a9b700e192036873e9756f231c9213a34">LocIDToLocIdx</a>[<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>];</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;      <span class="keyword">auto</span> &amp;TransferMap = MLocTransfer[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160; </div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <span class="comment">// Install a value representing the fact that this location is effectively</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;      <span class="comment">// written to in this block. As there&#39;s no reserved value, instead use</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;      <span class="comment">// a value number that is never generated. Pick the value number for the</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;      <span class="comment">// first instruction in the block, def&#39;ing this location, which we know</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;      <span class="comment">// this block never used anyway.</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;      <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> NotGeneratedNum = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, 1, Idx);</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> =</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        TransferMap.insert(std::make_pair(Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>(), NotGeneratedNum));</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.second) {</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;ValueID = <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.first-&gt;second;</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;        <span class="keywordflow">if</span> (ValueID.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#acd482282b8eb9755d8ac0e82ba23c20b">getBlock</a>() == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &amp;&amp; ValueID.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a29e1496690d23acbdb69c5b882f5bf45">isPHI</a>())</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;          <span class="comment">// It was left as live-through. Set it to clobbered.</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;          ValueID = NotGeneratedNum;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      }</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    }</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  }</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;}</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::mlocJoin(</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 16&gt;</a> &amp;Visited,</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;OutLocs, <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> &amp;InLocs) {</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;join MBB: &quot;</span> &lt;&lt; <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="comment">// Handle value-propagation when control flow merges on entry to a block. For</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <span class="comment">// any location without a PHI already placed, the location has the same value</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="comment">// as its predecessors. If a PHI is placed, test to see whether it&#39;s now a</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="comment">// redundant PHI that we can eliminate.</span></div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160; </div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const MachineBasicBlock *, 8&gt;</a> BlockOrders;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Pred : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">predecessors</a>())</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    BlockOrders.push_back(Pred);</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160; </div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="comment">// Visit predecessors in RPOT order.</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a> = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">return</span> BBToOrder.find(A)-&gt;second &lt; BBToOrder.find(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)-&gt;second;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  };</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(BlockOrders, Cmp);</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160; </div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="comment">// Skip entry block.</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  <span class="keywordflow">if</span> (BlockOrders.size() == 0)</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160; </div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  <span class="comment">// Step through all machine locations, look at each predecessor and test</span></div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <span class="comment">// whether we can eliminate redundant PHIs.</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Idx = <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Idx;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="comment">// Pick out the first predecessors live-out value for this location. It&#39;s</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    <span class="comment">// guaranteed to not be a backedge, as we order by RPO.</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> FirstVal = OutLocs[BlockOrders[0]-&gt;getNumber()][Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()];</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160; </div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="comment">// If we&#39;ve already eliminated a PHI here, do no further checking, just</span></div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <span class="comment">// propagate the first live-in value into this block.</span></div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    <span class="keywordflow">if</span> (InLocs[Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()] != <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>(), 0, Idx)) {</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <span class="keywordflow">if</span> (InLocs[Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()] != FirstVal) {</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        InLocs[Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()] = FirstVal;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;        Changed |= <span class="keyword">true</span>;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      }</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    }</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160; </div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="comment">// We&#39;re now examining a PHI to see whether it&#39;s un-necessary. Loop around</span></div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="comment">// the other live-in values and test whether they&#39;re all the same.</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="keywordtype">bool</span> Disagree = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; BlockOrders.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *PredMBB = BlockOrders[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;PredLiveOut =</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;          OutLocs[PredMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()][Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()];</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160; </div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      <span class="comment">// Incoming values agree, continue trying to eliminate this PHI.</span></div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;      <span class="keywordflow">if</span> (FirstVal == PredLiveOut)</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160; </div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      <span class="comment">// We can also accept a PHI value that feeds back into itself.</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      <span class="keywordflow">if</span> (PredLiveOut == <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>(), 0, Idx))</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160; </div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;      <span class="comment">// Live-out of a predecessor disagrees with the first predecessor.</span></div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      Disagree = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    }</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160; </div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    <span class="comment">// No disagreement? No PHI. Otherwise, leave the PHI in live-ins.</span></div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;    <span class="keywordflow">if</span> (!Disagree) {</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;      InLocs[Idx.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()] = FirstVal;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;      Changed |= <span class="keyword">true</span>;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    }</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  }</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160; </div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  <span class="comment">// TODO: Reimplement NumInserted and NumRemoved.</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;}</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160; </div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::findStackIndexInterference(</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;Slots) {</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="comment">// We could spend a bit of time finding the exact, minimal, set of stack</span></div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="comment">// indexes that interfere with each other, much like reg units. Or, we can</span></div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="comment">// rely on the fact that:</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="comment">//  * The smallest / lowest index will interfere with everything at zero</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <span class="comment">//    offset, which will be the largest set of registers,</span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="comment">//  * Most indexes with non-zero offset will end up being interference units</span></div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  <span class="comment">//    anyway.</span></div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="comment">// So just pick those out and return them.</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160; </div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="comment">// We can rely on a single-byte stack index existing already, because we</span></div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <span class="comment">// initialize them in MLocTracker.</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="keyword">auto</span> It = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>({8, 0});</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(It != MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>());</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  Slots.push_back(It-&gt;second);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160; </div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="comment">// Find anything that has a non-zero offset and add that too.</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Pair : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>) {</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="comment">// Is offset zero? If so, ignore.</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <span class="keywordflow">if</span> (!Pair.first.second)</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    Slots.push_back(Pair.second);</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  }</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;}</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::placeMLocPHIs(</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;MachineBasicBlock *&gt;</a> &amp;AllBlocks,</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;MInLocs, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MLocTransferMap&gt;</a> &amp;MLocTransfer) {</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> StackUnits;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  findStackIndexInterference(StackUnits);</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160; </div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="comment">// To avoid repeatedly running the PHI placement algorithm, leverage the</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="comment">// fact that a def of register MUST also def its register units. Find the</span></div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="comment">// units for registers, place PHIs for them, and then replicate them for</span></div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="comment">// aliasing registers. Some inputs that are never def&#39;d (DBG_PHIs of</span></div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="comment">// arguments) don&#39;t lead to register units being tracked, just place PHIs for</span></div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="comment">// those registers directly. Stack slots have their own form of &quot;unit&quot;,</span></div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  <span class="comment">// store them to one side.</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Register, 32&gt;</a> RegUnitsToPHIUp;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;LocIdx, 32&gt;</a> NormalLocsToPHI;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;SpillLocationNo, 32&gt;</a> StackSlots;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L = <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Idx;</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordflow">if</span> (MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a87fc8660fb193f626f9e9a6f0244108e">isSpill</a>(L)) {</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      StackSlots.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a63cf4d79a939e187701ac667cb07f5d7">locIDToSpill</a>(MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[L]));</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    }</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160; </div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LocIdxToLocID</a>[L];</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Register, 8&gt;</a> FoundRegUnits;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="keywordtype">bool</span> AnyIllegal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> RUI(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.asMCReg(), TRI); RUI.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>(); ++RUI) {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitRootIterator.html">MCRegUnitRootIterator</a> URoot(*RUI, TRI); URoot.<a class="code" href="classllvm_1_1MCRegUnitRootIterator.html#abd29ecab24058fdf823addcad29c6939">isValid</a>(); ++URoot){</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;        <span class="keywordflow">if</span> (!MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a0975fbd8e22dcc611900504cbe982610">isRegisterTracked</a>(*URoot)) {</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;          <span class="comment">// Not all roots were loaded into the tracking map: this register</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;          <span class="comment">// isn&#39;t actually def&#39;d anywhere, we only read from it. Generate PHIs</span></div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;          <span class="comment">// for this reg, but don&#39;t iterate units.</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;          AnyIllegal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;          FoundRegUnits.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(*URoot);</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;        }</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;      }</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    }</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160; </div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordflow">if</span> (AnyIllegal) {</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      NormalLocsToPHI.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(L);</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    }</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160; </div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    RegUnitsToPHIUp.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(FoundRegUnits.<a class="code" href="classllvm_1_1SmallSet.html#a0d7ad8e1022557e52ac17dddf1f5db2f">begin</a>(), FoundRegUnits.<a class="code" href="classllvm_1_1SmallSet.html#ac51f13177f0eb63f139dde87ef60a149">end</a>());</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  }</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160; </div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="comment">// Lambda to fetch PHIs for a given location, and write into the PHIBlocks</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <span class="comment">// collection.</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock *, 32&gt;</a> PHIBlocks;</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  <span class="keyword">auto</span> CollectPHIsForLoc = [&amp;](<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L) {</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <span class="comment">// Collect the set of defs.</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 32&gt;</a> DefBlocks;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; OrderToBB.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = OrderToBB[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;TransferFunc = MLocTransfer[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()];</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      <span class="keywordflow">if</span> (TransferFunc.find(L) != TransferFunc.end())</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        DefBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160; </div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <span class="comment">// The entry block defs the location too: it&#39;s the live-in / argument value.</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <span class="comment">// Only insert if there are other defs though; everything is trivially live</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="comment">// through otherwise.</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    <span class="keywordflow">if</span> (!DefBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">empty</a>())</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      DefBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;*MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">begin</a>());</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160; </div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    <span class="comment">// Ask the SSA construction algorithm where we should put PHIs. Clear</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <span class="comment">// anything that might have been hanging around from earlier.</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    PHIBlocks.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    BlockPHIPlacement(AllBlocks, DefBlocks, PHIBlocks);</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  };</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160; </div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <span class="keyword">auto</span> InstallPHIsAtLoc = [&amp;PHIBlocks, &amp;MInLocs](<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L) {</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : PHIBlocks)</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      MInLocs[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()][L.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()] = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>(), 0, L);</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  };</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160; </div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <span class="comment">// For locations with no reg units, just place PHIs.</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L : NormalLocsToPHI) {</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    CollectPHIsForLoc(L);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="comment">// Install those PHI values into the live-in value array.</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    InstallPHIsAtLoc(L);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  }</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160; </div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  <span class="comment">// For stack slots, calculate PHIs for the equivalent of the units, then</span></div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <span class="comment">// install for each index.</span></div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classLiveDebugValues_1_1SpillLocationNo.html">SpillLocationNo</a> Slot : StackSlots) {</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx : StackUnits) {</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;      <span class="keywordtype">unsigned</span> SpillID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a1c44cbd0dca6d3e9736ce4f240af2e25">getSpillIDWithIdx</a>(Slot, Idx);</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">getSpillMLoc</a>(SpillID);</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;      CollectPHIsForLoc(L);</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;      InstallPHIsAtLoc(L);</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160; </div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      <span class="comment">// Find anything that aliases this stack index, install PHIs for it too.</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">Offset</a>;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      std::tie(Size, Offset) = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a6fa795efcfec488fc9683b69b1f9a4d3">StackIdxesToPos</a>[Idx];</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Pair : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">StackSlotIdxes</a>) {</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;        <span class="keywordtype">unsigned</span> ThisSize, ThisOffset;</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        std::tie(ThisSize, ThisOffset) = Pair.first;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;        <span class="keywordflow">if</span> (ThisSize + ThisOffset &lt;= Offset || Size + Offset &lt;= ThisOffset)</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160; </div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        <span class="keywordtype">unsigned</span> ThisID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a1c44cbd0dca6d3e9736ce4f240af2e25">getSpillIDWithIdx</a>(Slot, Pair.second);</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;        <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> ThisL = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">getSpillMLoc</a>(ThisID);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        InstallPHIsAtLoc(ThisL);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      }</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    }</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  }</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160; </div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <span class="comment">// For reg units, place PHIs, and then place them for any aliasing registers.</span></div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Register.html">Register</a> R : RegUnitsToPHIUp) {</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(R);</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    CollectPHIsForLoc(L);</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160; </div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="comment">// Install those PHI values into the live-in value array.</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    InstallPHIsAtLoc(L);</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160; </div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <span class="comment">// Now find aliases and install PHIs for those.</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(R, TRI, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI) {</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;      <span class="comment">// Super-registers that are &quot;above&quot; the largest register read/written by</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      <span class="comment">// the function will alias, but will not be tracked.</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;      <span class="keywordflow">if</span> (!MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a0975fbd8e22dcc611900504cbe982610">isRegisterTracked</a>(*RAI))</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160; </div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> AliasLoc = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">lookupOrTrackRegister</a>(*RAI);</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      InstallPHIsAtLoc(AliasLoc);</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    }</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  }</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;}</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160; </div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::buildMLocValueMap(</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;MInLocs, <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;MOutLocs,</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MLocTransferMap&gt;</a> &amp;MLocTransfer) {</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  std::priority_queue&lt;unsigned int, std::vector&lt;unsigned int&gt;,</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;                      std::greater&lt;unsigned int&gt;&gt;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;      Worklist, Pending;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160; </div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="comment">// We track what is on the current and pending worklist to avoid inserting</span></div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="comment">// the same thing twice. We could avoid this with a custom priority queue,</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  <span class="comment">// but this is probably not worth it.</span></div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 16&gt;</a> OnPending, OnWorklist;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160; </div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="comment">// Initialize worklist with every block to be visited. Also produce list of</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="comment">// all blocks.</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 32&gt;</a> AllBlocks;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; BBToOrder.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    Worklist.push(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    OnWorklist.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(OrderToBB[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    AllBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(OrderToBB[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  }</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160; </div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  <span class="comment">// Initialize entry block to PHIs. These represent arguments.</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>())</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    MInLocs[0][<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Idx.asU64()] = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(0, 0, <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Idx);</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160; </div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;  MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a66a31574ce11e5d8dc78ed9a845305c2">reset</a>();</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160; </div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  <span class="comment">// Start by placing PHIs, using the usual SSA constructor algorithm. Consider</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <span class="comment">// any machine-location that isn&#39;t live-through a block to be def&#39;d in that</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;  <span class="comment">// block.</span></div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  placeMLocPHIs(MF, AllBlocks, MInLocs, MLocTransfer);</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160; </div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  <span class="comment">// Propagate values to eliminate redundant PHIs. At the same time, this</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <span class="comment">// produces the table of Block x Location =&gt; Value for the entry to each</span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  <span class="comment">// block.</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="comment">// The kind of PHIs we can eliminate are, for example, where one path in a</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  <span class="comment">// conditional spills and restores a register, and the register still has</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="comment">// the same value once control flow joins, unbeknowns to the PHI placement</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  <span class="comment">// code. Propagating values allows us to identify such un-necessary PHIs and</span></div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;  <span class="comment">// remove them.</span></div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 16&gt;</a> Visited;</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty() || !Pending.empty()) {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <span class="comment">// Vector for storing the evaluated block transfer function.</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;LocIdx, ValueIDNum&gt;</a>, 32&gt; ToRemap;</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160; </div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = OrderToBB[Worklist.top()];</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;      CurBB = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;      Worklist.pop();</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160; </div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <span class="comment">// Join the values in all predecessor blocks.</span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      <span class="keywordtype">bool</span> InLocsChanged;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;      InLocsChanged = mlocJoin(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Visited, MOutLocs, MInLocs[CurBB]);</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      InLocsChanged |= Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>).second;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160; </div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;      <span class="comment">// Don&#39;t examine transfer function if we&#39;ve visited this loc at least</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <span class="comment">// once, and inlocs haven&#39;t changed.</span></div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <span class="keywordflow">if</span> (!InLocsChanged)</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160; </div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      <span class="comment">// Load the current set of live-ins into MLocTracker.</span></div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;      MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a0f6a2afd0fe02e3fcfcc5d75d186c21b">loadFromArray</a>(MInLocs[CurBB], CurBB);</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160; </div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;      <span class="comment">// Each element of the transfer function can be a new def, or a read of</span></div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;      <span class="comment">// a live-in value. Evaluate each element, and store to &quot;ToRemap&quot;.</span></div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;      ToRemap.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : MLocTransfer[CurBB]) {</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.getBlock() == CurBB &amp;&amp; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.isPHI()) {</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;          <span class="comment">// This is a movement of whatever was live in. Read it.</span></div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;          <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> NewID = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#ab8ae8456399284b13679782065ee5dfc">readMLoc</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.getLoc());</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;          ToRemap.push_back(std::make_pair(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first, NewID));</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;          <span class="comment">// It&#39;s a def. Just set it.</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.getBlock() == CurBB);</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;          ToRemap.push_back(std::make_pair(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second));</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;        }</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;      }</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160; </div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      <span class="comment">// Commit the transfer function changes into mloc tracker, which</span></div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;      <span class="comment">// transforms the contents of the MLocTracker into the live-outs.</span></div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : ToRemap)</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a8ed8c7355168afd27f9f47f505026c54">setMLoc</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second);</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160; </div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      <span class="comment">// Now copy out-locs from mloc tracker into out-loc vector, checking</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      <span class="comment">// whether changes have occurred. These changes can have come from both</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <span class="comment">// the transfer function, and mlocJoin.</span></div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;      <span class="keywordtype">bool</span> OLChanged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> Location : MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">locations</a>()) {</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        OLChanged |= MOutLocs[CurBB][<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Idx.asU64()] != <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Value;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        MOutLocs[CurBB][<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Idx.asU64()] = <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>.Value;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      }</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160; </div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a66a31574ce11e5d8dc78ed9a845305c2">reset</a>();</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160; </div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      <span class="comment">// No need to examine successors again if out-locs didn&#39;t change.</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      <span class="keywordflow">if</span> (!OLChanged)</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160; </div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      <span class="comment">// All successors should be visited: put any back-edges on the pending</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      <span class="comment">// list for the next pass-through, and any other successors to be</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;      <span class="comment">// visited this pass, if they&#39;re not going to be already.</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">successors</a>()) {</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;        <span class="comment">// Does branching to this successor represent a back-edge?</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;        <span class="keywordflow">if</span> (BBToOrder[<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>] &gt; BBToOrder[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>]) {</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;          <span class="comment">// No: visit it during this dataflow iteration.</span></div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;          <span class="keywordflow">if</span> (OnWorklist.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>).second)</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;            Worklist.push(BBToOrder[<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>]);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;          <span class="comment">// Yes: visit it on the next iteration.</span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;          <span class="keywordflow">if</span> (OnPending.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>).second)</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;            Pending.push(BBToOrder[<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>]);</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;        }</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;      }</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    }</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160; </div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    Worklist.swap(Pending);</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(OnPending, OnWorklist);</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    OnPending.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">clear</a>();</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    <span class="comment">// At this point, pending must be empty, since it was just the empty</span></div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="comment">// worklist</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pending.empty() &amp;&amp; <span class="stringliteral">&quot;Pending should be empty&quot;</span>);</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  }</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160; </div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  <span class="comment">// Once all the live-ins don&#39;t change on mlocJoin(), we&#39;ve eliminated all</span></div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  <span class="comment">// redundant PHIs.</span></div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;}</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160; </div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::BlockPHIPlacement(</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;MachineBasicBlock *&gt;</a> &amp;AllBlocks,</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;MachineBasicBlock *&gt;</a> &amp;DefBlocks,</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineBasicBlock *&gt;</a> &amp;PHIBlocks) {</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="comment">// Apply IDF calculator to the designated set of location defs, storing</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  <span class="comment">// required PHIs into PHIBlocks. Uses the dominator tree stored in the</span></div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  <span class="comment">// InstrRefBasedLDV object.</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  <a class="code" href="classllvm_1_1IDFCalculatorBase.html">IDFCalculatorBase&lt;MachineBasicBlock, false&gt;</a> IDF(DomTree-&gt;<a class="code" href="classllvm_1_1MachineDominatorTree.html#a3ee38e9c699e52fd056b3fb5b8746520">getBase</a>());</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160; </div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  IDF.setLiveInBlocks(AllBlocks);</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  IDF.setDefiningBlocks(DefBlocks);</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  IDF.calculate(PHIBlocks);</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;}</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160; </div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::pickVPHILoc(</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;DbgOpID&gt;</a> &amp;OutValues, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="keyword">const</span> LiveIdxT &amp;LiveOuts, <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;MOutLocs,</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const MachineBasicBlock *&gt;</a> &amp;BlockOrders) {</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160; </div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  <span class="comment">// No predecessors means no PHIs.</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <span class="keywordflow">if</span> (BlockOrders.empty())</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160; </div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <span class="comment">// All the location operands that do not already agree need to be joined,</span></div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  <span class="comment">// track the indices of each such location operand here.</span></div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <a class="code" href="classllvm_1_1SmallDenseSet.html">SmallDenseSet&lt;unsigned&gt;</a> LocOpsToJoin;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160; </div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  <span class="keyword">auto</span> FirstValueIt = LiveOuts.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a56034ec173ce8feff8568c0e29462094">find</a>(BlockOrders[0]);</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <span class="keywordflow">if</span> (FirstValueIt == LiveOuts.end())</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> &amp;FirstValue = *FirstValueIt-&gt;second;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160; </div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> : BlockOrders) {</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    <span class="keyword">auto</span> OutValIt = LiveOuts.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>);</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    <span class="keywordflow">if</span> (OutValIt == LiveOuts.end())</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;      <span class="comment">// If we have a predecessor not in scope, we&#39;ll never find a PHI position.</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> &amp;OutVal = *OutValIt-&gt;second;</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160; </div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    <span class="comment">// No-values cannot have locations we can join on.</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    <span class="keywordflow">if</span> (OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bbaf26793ed3fb3ea880eb66562c90d1826">DbgValue::NoVal</a>)</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160; </div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    <span class="comment">// For unjoined VPHIs where we don&#39;t know the location, we definitely</span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="comment">// can&#39;t find a join loc unless the VPHI is a backedge.</span></div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="keywordflow">if</span> (OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#aa11be25d68038f30cb3e3cbe1e28839b">isUnjoinedPHI</a>() &amp;&amp; OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a0867a91c94f59efa8118215449f8b1d6">BlockNo</a> != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>())</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160; </div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <span class="keywordflow">if</span> (!FirstValue.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a127bb33bfa67d26975c12bf33568af48">Properties</a>.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#aa487b5a6fe6c9f4fac7f809c488f3029">isJoinable</a>(OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a127bb33bfa67d26975c12bf33568af48">Properties</a>))</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160; </div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; FirstValue.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#add403fcd8074cf38d737756d931a013f">getLocationOpCount</a>(); ++Idx) {</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      <span class="comment">// An unjoined PHI has no defined locations, and so a shared location must</span></div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      <span class="comment">// be found for every operand.</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;      <span class="keywordflow">if</span> (OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#aa11be25d68038f30cb3e3cbe1e28839b">isUnjoinedPHI</a>()) {</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;        LocOpsToJoin.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(Idx);</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;      }</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;      <a class="code" href="structLiveDebugValues_1_1DbgOpID.html">DbgOpID</a> FirstValOp = FirstValue.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#aa70e8b6292c37300a3ea50fce69b2cdd">getDbgOpID</a>(Idx);</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;      <a class="code" href="structLiveDebugValues_1_1DbgOpID.html">DbgOpID</a> OutValOp = OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#aa70e8b6292c37300a3ea50fce69b2cdd">getDbgOpID</a>(Idx);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;      <span class="keywordflow">if</span> (FirstValOp != OutValOp) {</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;        <span class="comment">// We can never join constant ops - the ops must either both be equal</span></div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;        <span class="comment">// constant ops or non-const ops.</span></div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;        <span class="keywordflow">if</span> (FirstValOp.<a class="code" href="structLiveDebugValues_1_1DbgOpID.html#aa91469b374d4e14c8e445dc79420c850">isConst</a>() || OutValOp.<a class="code" href="structLiveDebugValues_1_1DbgOpID.html#aa91469b374d4e14c8e445dc79420c850">isConst</a>())</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;          LocOpsToJoin.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(Idx);</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      }</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    }</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  }</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160; </div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgOpID&gt;</a> NewDbgOps;</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160; </div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; FirstValue.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#add403fcd8074cf38d737756d931a013f">getLocationOpCount</a>(); ++Idx) {</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <span class="comment">// If this op doesn&#39;t need to be joined because the values agree, use that</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="comment">// already-agreed value.</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="keywordflow">if</span> (!LocOpsToJoin.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(Idx)) {</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;      NewDbgOps.push_back(FirstValue.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#aa70e8b6292c37300a3ea50fce69b2cdd">getDbgOpID</a>(Idx));</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    }</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160; </div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    std::optional&lt;ValueIDNum&gt; JoinedOpLoc =</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;        pickOperandPHILoc(Idx, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, LiveOuts, MOutLocs, BlockOrders);</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160; </div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <span class="keywordflow">if</span> (!JoinedOpLoc)</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160; </div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    NewDbgOps.push_back(DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a31b80daf003f8250c14e14fbb5d9a283">insert</a>(*JoinedOpLoc));</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160; </div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  OutValues.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(NewDbgOps);</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;}</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160; </div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;std::optional&lt;ValueIDNum&gt; InstrRefBasedLDV::pickOperandPHILoc(</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <span class="keywordtype">unsigned</span> DbgOpIdx, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <span class="keyword">const</span> LiveIdxT &amp;LiveOuts,</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;MOutLocs,</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const MachineBasicBlock *&gt;</a> &amp;BlockOrders) {</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160; </div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  <span class="comment">// Collect a set of locations from predecessor where its live-out value can</span></div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <span class="comment">// be found.</span></div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SmallVector&lt;LocIdx, 4&gt;</a>, 8&gt; Locs;</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;  <span class="keywordtype">unsigned</span> NumLocs = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a48b9880cdbbdc53b8e5446db5dede09b">getNumLocs</a>();</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; </div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> : BlockOrders) {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    <span class="keywordtype">unsigned</span> ThisBBNum = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>-&gt;getNumber();</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="keyword">auto</span> OutValIt = LiveOuts.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>);</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OutValIt != LiveOuts.end());</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> &amp;OutVal = *OutValIt-&gt;second;</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <a class="code" href="structLiveDebugValues_1_1DbgOpID.html">DbgOpID</a> OutValOpID = OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#aa70e8b6292c37300a3ea50fce69b2cdd">getDbgOpID</a>(DbgOpIdx);</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <a class="code" href="structLiveDebugValues_1_1DbgOp.html">DbgOp</a> OutValOp = DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a0ff8cac5d6ff149c80d136de06314455">find</a>(OutValOpID);</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!OutValOp.<a class="code" href="structLiveDebugValues_1_1DbgOp.html#aa155f40c0f7c56ae215ee41a52d5f9ad">IsConst</a>);</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160; </div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <span class="comment">// Create new empty vector of locations.</span></div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    Locs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(Locs.size() + 1);</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160; </div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <span class="comment">// If the live-in value is a def, find the locations where that value is</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <span class="comment">// present. Do the same for VPHIs where we know the VPHI value.</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <span class="keywordflow">if</span> (OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba953f120c5617d3f2b42df3fd424222ad">DbgValue::Def</a> ||</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        (OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">DbgValue::VPHI</a> &amp;&amp; OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a0867a91c94f59efa8118215449f8b1d6">BlockNo</a> != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>() &amp;&amp;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;         !OutValOp.<a class="code" href="structLiveDebugValues_1_1DbgOp.html#a4e137fe2e3773e0a6f40980d2e99083d">isUndef</a>())) {</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;      <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> ValToLookFor = OutValOp.<a class="code" href="structLiveDebugValues_1_1DbgOp.html#a17b174ad71c91584d987861d5e8e5d2d">ID</a>;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;      <span class="comment">// Search the live-outs of the predecessor for the specified value.</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumLocs; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;        <span class="keywordflow">if</span> (MOutLocs[ThisBBNum][<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == ValToLookFor)</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;          Locs.back().push_back(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;      }</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OutVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">DbgValue::VPHI</a>);</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;      <span class="comment">// Otherwise: this is a VPHI on a backedge feeding back into itself, i.e.</span></div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;      <span class="comment">// a value that&#39;s live-through the whole loop. (It has to be a backedge,</span></div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;      <span class="comment">// because a block can&#39;t dominate itself). We can accept as a PHI location</span></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;      <span class="comment">// any location where the other predecessors agree, _and_ the machine</span></div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      <span class="comment">// locations feed back into themselves. Therefore, add all self-looping</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;      <span class="comment">// machine-value PHI locations.</span></div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumLocs; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;        <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> MPHI(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>(), 0, <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;        <span class="keywordflow">if</span> (MOutLocs[ThisBBNum][<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == MPHI)</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;          Locs.back().push_back(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;      }</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    }</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  }</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <span class="comment">// We should have found locations for all predecessors, or returned.</span></div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Locs.size() == BlockOrders.size());</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160; </div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="comment">// Starting with the first set of locations, take the intersection with</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="comment">// subsequent sets.</span></div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LocIdx, 4&gt;</a> CandidateLocs = Locs[0];</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; Locs.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <span class="keyword">auto</span> &amp;LocVec = Locs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LocIdx, 4&gt;</a> NewCandidates;</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    std::set_intersection(CandidateLocs.begin(), CandidateLocs.end(),</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                          LocVec.begin(), LocVec.end(), std::inserter(NewCandidates, NewCandidates.begin()));</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    CandidateLocs = NewCandidates;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  }</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;  <span class="keywordflow">if</span> (CandidateLocs.empty())</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160; </div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  <span class="comment">// We now have a set of LocIdxes that contain the right output value in</span></div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <span class="comment">// each of the predecessors. Pick the lowest; if there&#39;s a register loc,</span></div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <span class="comment">// that&#39;ll be it.</span></div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L = *CandidateLocs.begin();</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160; </div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;  <span class="comment">// Return a PHI-value-number for the found location.</span></div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;  <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> PHIVal = {(<a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>)<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>(), 0, L};</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <span class="keywordflow">return</span> PHIVal;</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;}</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160; </div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::vlocJoin(</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, LiveIdxT &amp;VLOCOutLocs,</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 8&gt;</a> &amp;BlocksToExplore,</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> &amp;LiveIn) {</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;join MBB: &quot;</span> &lt;&lt; <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  <span class="comment">// Order predecessors by RPOT order, for exploring them in that order.</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock *, 8&gt;</a> BlockOrders(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">predecessors</a>());</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160; </div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a> = [&amp;](<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="keywordflow">return</span> BBToOrder[<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>] &lt; BBToOrder[<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>];</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  };</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160; </div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(BlockOrders, Cmp);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160; </div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <span class="keywordtype">unsigned</span> CurBlockRPONum = BBToOrder[&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>];</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160; </div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  <span class="comment">// Collect all the incoming DbgValues for this variable, from predecessor</span></div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;  <span class="comment">// live-out values.</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;InValueT, 8&gt;</a> Values;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keywordtype">bool</span> Bail = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <span class="keywordtype">int</span> BackEdgesStart = 0;</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> : BlockOrders) {</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <span class="comment">// If the predecessor isn&#39;t in scope / to be explored, we&#39;ll never be</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <span class="comment">// able to join any locations.</span></div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <span class="keywordflow">if</span> (!BlocksToExplore.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>)) {</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;      Bail = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    }</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160; </div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    <span class="comment">// All Live-outs will have been initialized.</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> &amp;OutLoc = *VLOCOutLocs.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>)-&gt;second;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160; </div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <span class="comment">// Keep track of where back-edges begin in the Values vector. Relies on</span></div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    <span class="comment">// BlockOrders being sorted by RPO.</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    <span class="keywordtype">unsigned</span> ThisBBRPONum = BBToOrder[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>];</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <span class="keywordflow">if</span> (ThisBBRPONum &lt; CurBlockRPONum)</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;      ++BackEdgesStart;</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160; </div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    Values.push_back(std::make_pair(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>, &amp;OutLoc));</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  }</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160; </div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  <span class="comment">// If there were no values, or one of the predecessors couldn&#39;t have a</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  <span class="comment">// value, then give up immediately. It&#39;s not safe to produce a live-in</span></div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="comment">// value. Leave as whatever it was before.</span></div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  <span class="keywordflow">if</span> (Bail || Values.size() == 0)</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160; </div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <span class="comment">// All (non-entry) blocks have at least one non-backedge predecessor.</span></div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <span class="comment">// Pick the variable value from the first of these, to compare against</span></div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <span class="comment">// all others.</span></div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> &amp;FirstVal = *Values[0].second;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160; </div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  <span class="comment">// If the old live-in value is not a PHI then either a) no PHI is needed</span></div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <span class="comment">// here, or b) we eliminated the PHI that was here. If so, we can just</span></div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  <span class="comment">// propagate in the first parent&#39;s incoming value.</span></div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="keywordflow">if</span> (LiveIn.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> != <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">DbgValue::VPHI</a> || LiveIn.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a0867a91c94f59efa8118215449f8b1d6">BlockNo</a> != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()) {</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    Changed = LiveIn != FirstVal;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;      LiveIn = FirstVal;</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  }</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160; </div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <span class="comment">// Scan for variable values that can never be resolved: if they have</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="comment">// different DIExpressions, different indirectness, or are mixed constants /</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <span class="comment">// non-constants.</span></div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;V : Values) {</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <span class="keywordflow">if</span> (!V.second-&gt;Properties.isJoinable(FirstVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a127bb33bfa67d26975c12bf33568af48">Properties</a>))</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    <span class="keywordflow">if</span> (V.second-&gt;Kind == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bbaf26793ed3fb3ea880eb66562c90d1826">DbgValue::NoVal</a>)</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    <span class="keywordflow">if</span> (!V.second-&gt;hasJoinableLocOps(FirstVal))</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;  }</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160; </div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <span class="comment">// Try to eliminate this PHI. Do the incoming values all agree?</span></div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="keywordtype">bool</span> Disagree = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;V : Values) {</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;    <span class="keywordflow">if</span> (*V.second == FirstVal)</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;      <span class="keywordflow">continue</span>; <span class="comment">// No disagreement.</span></div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160; </div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <span class="comment">// If both values are not equal but have equal non-empty IDs then they refer</span></div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <span class="comment">// to the same value from different sources (e.g. one is VPHI and the other</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    <span class="comment">// is Def), which does not cause disagreement.</span></div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="keywordflow">if</span> (V.second-&gt;hasIdenticalValidLocOps(FirstVal))</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160; </div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <span class="comment">// Eliminate if a backedge feeds a VPHI back into itself.</span></div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    <span class="keywordflow">if</span> (V.second-&gt;Kind == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">DbgValue::VPHI</a> &amp;&amp;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;        V.second-&gt;BlockNo == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>() &amp;&amp;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;        <span class="comment">// Is this a backedge?</span></div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        std::distance(Values.begin(), &amp;V) &gt;= BackEdgesStart)</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160; </div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    Disagree = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;  }</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160; </div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;  <span class="comment">// No disagreement -&gt; live-through value.</span></div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  <span class="keywordflow">if</span> (!Disagree) {</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    Changed = LiveIn != FirstVal;</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;      LiveIn = FirstVal;</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    <span class="comment">// Otherwise use a VPHI.</span></div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> VPHI(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>(), FirstVal.<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a127bb33bfa67d26975c12bf33568af48">Properties</a>, <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">DbgValue::VPHI</a>);</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    Changed = LiveIn != VPHI;</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;      LiveIn = VPHI;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  }</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;}</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160; </div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::getBlocksForScope(</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *DILoc,</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const MachineBasicBlock *&gt;</a> &amp;BlocksToExplore,</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;MachineBasicBlock *&gt;</a> &amp;AssignBlocks) {</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;  <span class="comment">// Get the set of &quot;normal&quot; in-lexical-scope blocks.</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;  LS.<a class="code" href="classllvm_1_1LexicalScopes.html#a6478937e0927f9038e58dca2e03e38ab">getMachineBasicBlocks</a>(DILoc, BlocksToExplore);</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160; </div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  <span class="comment">// VarLoc LiveDebugValues tracks variable locations that are defined in</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;  <span class="comment">// blocks not in scope. This is something we could legitimately ignore, but</span></div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;  <span class="comment">// lets allow it for now for the sake of coverage.</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  BlocksToExplore.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(AssignBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">begin</a>(), AssignBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a7004354fbee1c8cd74ed9001915e1db5">end</a>());</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160; </div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <span class="comment">// Storage for artificial blocks we intend to add to BlocksToExplore.</span></div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;const MachineBasicBlock *&gt;</a> ToAdd;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160; </div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  <span class="comment">// To avoid needlessly dropping large volumes of variable locations, propagate</span></div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;  <span class="comment">// variables through aritifical blocks, i.e. those that don&#39;t have any</span></div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  <span class="comment">// instructions in scope at all. To accurately replicate VarLoc</span></div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  <span class="comment">// LiveDebugValues, this means exploring all artificial successors too.</span></div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;  <span class="comment">// Perform a depth-first-search to enumerate those blocks.</span></div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : BlocksToExplore) {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    <span class="comment">// Depth-first-search state: each node is a block and which successor</span></div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    <span class="comment">// we&#39;re currently exploring.</span></div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt;std::pair&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *,</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;                          <a class="code" href="classllvm_1_1MachineBasicBlock.html#a3e34b01a03b81fb60c034eb05e537978">MachineBasicBlock::const_succ_iterator</a>&gt;,</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;                8&gt;</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;        DFS;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160; </div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    <span class="comment">// Find any artificial successors not already tracked.</span></div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *succ : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">successors</a>()) {</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;      <span class="keywordflow">if</span> (BlocksToExplore.count(succ))</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      <span class="keywordflow">if</span> (!ArtificialBlocks.count(succ))</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      ToAdd.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(succ);</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;      DFS.push_back({succ, succ-&gt;succ_begin()});</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    }</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160; </div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <span class="comment">// Search all those blocks, depth first.</span></div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <span class="keywordflow">while</span> (!DFS.empty()) {</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *CurBB = DFS.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ace3ed0412f841777b7de55d47883890e">back</a>().first;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html#a3e34b01a03b81fb60c034eb05e537978">MachineBasicBlock::const_succ_iterator</a> &amp;CurSucc = DFS.back().second;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;      <span class="comment">// Walk back if we&#39;ve explored this blocks successors to the end.</span></div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;      <span class="keywordflow">if</span> (CurSucc == CurBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">succ_end</a>()) {</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;        DFS.pop_back();</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;      }</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160; </div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;      <span class="comment">// If the current successor is artificial and unexplored, descend into</span></div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;      <span class="comment">// it.</span></div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;      <span class="keywordflow">if</span> (!ToAdd.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(*CurSucc) &amp;&amp; ArtificialBlocks.count(*CurSucc)) {</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;        ToAdd.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(*CurSucc);</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;        DFS.push_back({*CurSucc, (*CurSucc)-&gt;succ_begin()});</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      }</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160; </div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;      ++CurSucc;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    }</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  };</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160; </div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  BlocksToExplore.insert(ToAdd.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad7dc7318244359268414719e0959346e">begin</a>(), ToAdd.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a8cd802dcaed35e1f28ea3cbe4af4eff5">end</a>());</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;}</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160; </div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::buildVLocValueMap(</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *DILoc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;DebugVariable, 4&gt;</a> &amp;VarsWeCareAbout,</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;MachineBasicBlock *&gt;</a> &amp;AssignBlocks, LiveInsT &amp;Output,</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;MOutLocs, <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;MInLocs,</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;VLocTracker&gt;</a> &amp;AllTheVLocs) {</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;  <span class="comment">// This method is much like buildMLocValueMap: but focuses on a single</span></div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;  <span class="comment">// LexicalScope at a time. Pick out a set of blocks and variables that are</span></div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;  <span class="comment">// to have their value assignments solved, then run our dataflow algorithm</span></div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;  <span class="comment">// until a fixedpoint is reached.</span></div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  std::priority_queue&lt;unsigned int, std::vector&lt;unsigned int&gt;,</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;                      std::greater&lt;unsigned int&gt;&gt;</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      Worklist, Pending;</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 16&gt;</a> OnWorklist, OnPending;</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160; </div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  <span class="comment">// The set of blocks we&#39;ll be examining.</span></div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 8&gt;</a> BlocksToExplore;</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160; </div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  <span class="comment">// The order in which to examine them (RPO).</span></div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock *, 8&gt;</a> BlockOrders;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160; </div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;  <span class="comment">// RPO ordering function.</span></div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a> = [&amp;](<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordflow">return</span> BBToOrder[<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>] &lt; BBToOrder[<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>];</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  };</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160; </div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  getBlocksForScope(DILoc, BlocksToExplore, AssignBlocks);</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160; </div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;  <span class="comment">// Single block scope: not interesting! No propagation at all. Note that</span></div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;  <span class="comment">// this could probably go above ArtificialBlocks without damage, but</span></div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;  <span class="comment">// that then produces output differences from original-live-debug-values,</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;  <span class="comment">// which propagates from a single block into many artificial ones.</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;  <span class="keywordflow">if</span> (BlocksToExplore.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">size</a>() == 1)</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160; </div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  <span class="comment">// Convert a const set to a non-const set. LexicalScopes</span></div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  <span class="comment">// getMachineBasicBlocks returns const MBB pointers, IDF wants mutable ones.</span></div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  <span class="comment">// (Neither of them mutate anything).</span></div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 8&gt;</a> MutBlocksToExplore;</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : BlocksToExplore)</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    MutBlocksToExplore.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<span class="keyword">&gt;</span>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160; </div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;  <span class="comment">// Picks out relevants blocks RPO order and sort them.</span></div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : BlocksToExplore)</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    BlockOrders.push_back(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<span class="keyword">&gt;</span>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160; </div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(BlockOrders, Cmp);</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  <span class="keywordtype">unsigned</span> NumBlocks = BlockOrders.size();</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160; </div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  <span class="comment">// Allocate some vectors for storing the live ins and live outs. Large.</span></div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgValue, 32&gt;</a> LiveIns, LiveOuts;</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  LiveIns.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(NumBlocks);</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  LiveOuts.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(NumBlocks);</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160; </div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="comment">// Initialize all values to start as NoVals. This signifies &quot;it&#39;s live</span></div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;  <span class="comment">// through, but we don&#39;t know what it is&quot;.</span></div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  <a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html">DbgValueProperties</a> EmptyProperties(EmptyExpr, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumBlocks; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> EmptyDbgValue(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, EmptyProperties, <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bbaf26793ed3fb3ea880eb66562c90d1826">DbgValue::NoVal</a>);</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    LiveIns.push_back(EmptyDbgValue);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    LiveOuts.push_back(EmptyDbgValue);</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  }</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160; </div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;  <span class="comment">// Produce by-MBB indexes of live-in/live-outs, to ease lookup within</span></div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;  <span class="comment">// vlocJoin.</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;  <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a071c490b55df738e65923aca2cb77a72">LiveIdxT</a> LiveOutIdx, LiveInIdx;</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;  LiveOutIdx.reserve(NumBlocks);</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  LiveInIdx.reserve(NumBlocks);</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumBlocks; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    LiveOutIdx[BlockOrders[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]] = &amp;LiveOuts[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    LiveInIdx[BlockOrders[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]] = &amp;LiveIns[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  }</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160; </div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  <span class="comment">// Loop over each variable and place PHIs for it, then propagate values</span></div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  <span class="comment">// between blocks. This keeps the locality of working on one lexical scope at</span></div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;  <span class="comment">// at time, but avoids re-processing variable values because some other</span></div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  <span class="comment">// variable has been assigned.</span></div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Var : VarsWeCareAbout) {</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    <span class="comment">// Re-initialize live-ins and live-outs, to clear the remains of previous</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <span class="comment">// variables live-ins / live-outs.</span></div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumBlocks; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> EmptyDbgValue(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, EmptyProperties, <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bbaf26793ed3fb3ea880eb66562c90d1826">DbgValue::NoVal</a>);</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      LiveIns[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = EmptyDbgValue;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;      LiveOuts[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = EmptyDbgValue;</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    }</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160; </div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    <span class="comment">// Place PHIs for variable values, using the LLVM IDF calculator.</span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    <span class="comment">// Collect the set of blocks where variables are def&#39;d.</span></div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 32&gt;</a> DefBlocks;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *ExpMBB : BlocksToExplore) {</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;      <span class="keyword">auto</span> &amp;TransferFunc = AllTheVLocs[ExpMBB-&gt;getNumber()].Vars;</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;      <span class="keywordflow">if</span> (TransferFunc.find(Var) != TransferFunc.end())</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;        DefBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<span class="keyword">&gt;</span>(ExpMBB));</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    }</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160; </div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock *, 32&gt;</a> PHIBlocks;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160; </div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <span class="comment">// Request the set of PHIs we should insert for this variable. If there&#39;s</span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="comment">// only one value definition, things are very simple.</span></div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    <span class="keywordflow">if</span> (DefBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">size</a>() == 1) {</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;      placePHIsForSingleVarDefinition(MutBlocksToExplore, *DefBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">begin</a>(),</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                                      AllTheVLocs, Var, Output);</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;    }</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160; </div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <span class="comment">// Otherwise: we need to place PHIs through SSA and propagate values.</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    BlockPHIPlacement(MutBlocksToExplore, DefBlocks, PHIBlocks);</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160; </div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="comment">// Insert PHIs into the per-block live-in tables for this variable.</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *PHIMBB : PHIBlocks) {</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;      <span class="keywordtype">unsigned</span> BlockNo = PHIMBB-&gt;getNumber();</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;      <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> *LiveIn = LiveInIdx[PHIMBB];</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;      *LiveIn = <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a>(BlockNo, EmptyProperties, <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">DbgValue::VPHI</a>);</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    }</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160; </div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : BlockOrders) {</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;      Worklist.push(BBToOrder[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>]);</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;      OnWorklist.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    }</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160; </div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <span class="comment">// Iterate over all the blocks we selected, propagating the variables value.</span></div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <span class="comment">// This loop does two things:</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    <span class="comment">//  * Eliminates un-necessary VPHIs in vlocJoin,</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    <span class="comment">//  * Evaluates the blocks transfer function (i.e. variable assignments) and</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    <span class="comment">//    stores the result to the blocks live-outs.</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    <span class="comment">// Always evaluate the transfer function on the first iteration, and when</span></div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    <span class="comment">// the live-ins change thereafter.</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    <span class="keywordtype">bool</span> FirstTrip = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordflow">while</span> (!Worklist.empty() || !Pending.empty()) {</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;      <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;        <span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = OrderToBB[Worklist.top()];</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;        CurBB = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;        Worklist.pop();</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160; </div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;        <span class="keyword">auto</span> LiveInsIt = LiveInIdx.find(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LiveInsIt != LiveInIdx.end());</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;        <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> *LiveIn = LiveInsIt-&gt;second;</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160; </div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;        <span class="comment">// Join values from predecessors. Updates LiveInIdx, and writes output</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;        <span class="comment">// into JoinedInLocs.</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;        <span class="keywordtype">bool</span> InLocsChanged =</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;            vlocJoin(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, LiveOutIdx, BlocksToExplore, *LiveIn);</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160; </div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const MachineBasicBlock *, 8&gt;</a> Preds;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Pred : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">predecessors</a>())</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;          Preds.push_back(Pred);</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160; </div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;        <span class="comment">// If this block&#39;s live-in value is a VPHI, try to pick a machine-value</span></div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;        <span class="comment">// for it. This makes the machine-value available and propagated</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;        <span class="comment">// through all blocks by the time value propagation finishes. We can&#39;t</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;        <span class="comment">// do this any earlier as it needs to read the block live-outs.</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        <span class="keywordflow">if</span> (LiveIn-&gt;<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">DbgValue::VPHI</a> &amp;&amp; LiveIn-&gt;<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a0867a91c94f59efa8118215449f8b1d6">BlockNo</a> == (<span class="keywordtype">int</span>)CurBB) {</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;          <span class="comment">// There&#39;s a small possibility that on a preceeding path, a VPHI is</span></div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;          <span class="comment">// eliminated and transitions from VPHI-with-location to</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;          <span class="comment">// live-through-value. As a result, the selected location of any VPHI</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;          <span class="comment">// might change, so we need to re-compute it on each iteration.</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgOpID&gt;</a> JoinedOps;</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160; </div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;          <span class="keywordflow">if</span> (pickVPHILoc(JoinedOps, *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, LiveOutIdx, MOutLocs, Preds)) {</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;            <span class="keywordtype">bool</span> NewLocPicked = !<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1abf5ba3ee47e95dae362eb24b6d4f48e5">equal</a>(LiveIn-&gt;<a class="code" href="classLiveDebugValues_1_1DbgValue.html#acbfb6abfd838f71de0078b0ed13c47a9">getDbgOpIDs</a>(), JoinedOps);</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;            InLocsChanged |= NewLocPicked;</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;            <span class="keywordflow">if</span> (NewLocPicked)</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;              LiveIn-&gt;<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a7230438e78079233a5d7b3bc1d4f14b2">setDbgOpIDs</a>(JoinedOps);</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;          }</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;        }</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160; </div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;        <span class="keywordflow">if</span> (!InLocsChanged &amp;&amp; !FirstTrip)</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160; </div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;        <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> *LiveOut = LiveOutIdx[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>];</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;        <span class="keywordtype">bool</span> OLChanged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160; </div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;        <span class="comment">// Do transfer function.</span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;        <span class="keyword">auto</span> &amp;VTracker = AllTheVLocs[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()];</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;        <span class="keyword">auto</span> TransferIt = VTracker.<a class="code" href="classLiveDebugValues_1_1VLocTracker.html#ae0cf81f4c07b11b1581da406e612a039">Vars</a>.find(Var);</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;        <span class="keywordflow">if</span> (TransferIt != VTracker.<a class="code" href="classLiveDebugValues_1_1VLocTracker.html#ae0cf81f4c07b11b1581da406e612a039">Vars</a>.end()) {</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;          <span class="comment">// Erase on empty transfer (DBG_VALUE $noreg).</span></div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;          <span class="keywordflow">if</span> (TransferIt-&gt;second.Kind == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba7c46001b3585fc4e42328dbe7123b5d4">DbgValue::Undef</a>) {</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;            <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> NewVal(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>(), EmptyProperties, <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bbaf26793ed3fb3ea880eb66562c90d1826">DbgValue::NoVal</a>);</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;            <span class="keywordflow">if</span> (*LiveOut != NewVal) {</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;              *LiveOut = NewVal;</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;              OLChanged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            }</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;            <span class="comment">// Insert new variable value; or overwrite.</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            <span class="keywordflow">if</span> (*LiveOut != TransferIt-&gt;second) {</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;              *LiveOut = TransferIt-&gt;second;</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;              OLChanged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;            }</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;          }</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;          <span class="comment">// Just copy live-ins to live-outs, for anything not transferred.</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;          <span class="keywordflow">if</span> (*LiveOut != *LiveIn) {</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;            *LiveOut = *LiveIn;</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;            OLChanged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;          }</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;        }</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160; </div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;        <span class="comment">// If no live-out value changed, there&#39;s no need to explore further.</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;        <span class="keywordflow">if</span> (!OLChanged)</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160; </div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;        <span class="comment">// We should visit all successors. Ensure we&#39;ll visit any non-backedge</span></div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;        <span class="comment">// successors during this dataflow iteration; book backedge successors</span></div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;        <span class="comment">// to be visited next time around.</span></div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">successors</a>()) {</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;          <span class="comment">// Ignore out of scope / not-to-be-explored successors.</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;          <span class="keywordflow">if</span> (LiveInIdx.find(<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>) == LiveInIdx.end())</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160; </div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;          <span class="keywordflow">if</span> (BBToOrder[<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>] &gt; BBToOrder[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>]) {</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;            <span class="keywordflow">if</span> (OnWorklist.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>).second)</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;              Worklist.push(BBToOrder[<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>]);</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OnPending.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>).second &amp;&amp; (FirstTrip || OLChanged)) {</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;            Pending.push(BBToOrder[<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>]);</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;          }</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;        }</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      }</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;      Worklist.swap(Pending);</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(OnWorklist, OnPending);</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;      OnPending.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">clear</a>();</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pending.empty());</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;      FirstTrip = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    }</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160; </div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    <span class="comment">// Save live-ins to output vector. Ignore any that are still marked as being</span></div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    <span class="comment">// VPHIs with no location -- those are variables that we know the value of,</span></div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    <span class="comment">// but are not actually available in the register file.</span></div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : BlockOrders) {</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;      <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> *BlockLiveIn = LiveInIdx[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>];</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;      <span class="keywordflow">if</span> (BlockLiveIn-&gt;<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bbaf26793ed3fb3ea880eb66562c90d1826">DbgValue::NoVal</a>)</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;      <span class="keywordflow">if</span> (BlockLiveIn-&gt;<a class="code" href="classLiveDebugValues_1_1DbgValue.html#aa11be25d68038f30cb3e3cbe1e28839b">isUnjoinedPHI</a>())</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;      <span class="keywordflow">if</span> (BlockLiveIn-&gt;<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">DbgValue::VPHI</a>)</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        BlockLiveIn-&gt;<a class="code" href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">Kind</a> = <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba953f120c5617d3f2b42df3fd424222ad">DbgValue::Def</a>;</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BlockLiveIn-&gt;<a class="code" href="classLiveDebugValues_1_1DbgValue.html#a127bb33bfa67d26975c12bf33568af48">Properties</a>.<a class="code" href="classLiveDebugValues_1_1DbgValueProperties.html#a87d598e34086fb45a3a64638bdc6097e">DIExpr</a>-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a7cc5f1632a4c520497898439c17dc026">getFragmentInfo</a>() ==</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;             Var.getFragment() &amp;&amp; <span class="stringliteral">&quot;Fragment info missing during value prop&quot;</span>);</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;      Output[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()].push_back(std::make_pair(Var, *BlockLiveIn));</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    }</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  } <span class="comment">// Per-variable loop.</span></div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160; </div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  BlockOrders.clear();</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;  BlocksToExplore.clear();</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;}</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160; </div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::placePHIsForSingleVarDefinition(</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;MachineBasicBlock *&gt;</a> &amp;InScopeBlocks,</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *AssignMBB, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;VLocTracker&gt;</a> &amp;AllTheVLocs,</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> &amp;Var, LiveInsT &amp;Output) {</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  <span class="comment">// If there is a single definition of the variable, then working out it&#39;s</span></div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;  <span class="comment">// value everywhere is very simple: it&#39;s every block dominated by the</span></div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <span class="comment">// definition. At the dominance frontier, the usual algorithm would:</span></div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  <span class="comment">//  * Place PHIs,</span></div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;  <span class="comment">//  * Propagate values into them,</span></div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  <span class="comment">//  * Find there&#39;s no incoming variable value from the other incoming branches</span></div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <span class="comment">//    of the dominance frontier,</span></div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;  <span class="comment">//  * Specify there&#39;s no variable value in blocks past the frontier.</span></div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;  <span class="comment">// This is a common case, hence it&#39;s worth special-casing it.</span></div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160; </div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;  <span class="comment">// Pick out the variables value from the block transfer function.</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <a class="code" href="classLiveDebugValues_1_1VLocTracker.html">VLocTracker</a> &amp;VLocs = AllTheVLocs[AssignMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()];</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  <span class="keyword">auto</span> ValueIt = VLocs.<a class="code" href="classLiveDebugValues_1_1VLocTracker.html#ae0cf81f4c07b11b1581da406e612a039">Vars</a>.find(Var);</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;  <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> &amp;<a class="code" href="classllvm_1_1Value.html">Value</a> = ValueIt-&gt;second;</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160; </div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  <span class="comment">// If it&#39;s an explicit assignment of &quot;undef&quot;, that means there is no location</span></div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;  <span class="comment">// anyway, anywhere.</span></div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a>.Kind == <a class="code" href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba7c46001b3585fc4e42328dbe7123b5d4">DbgValue::Undef</a>)</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160; </div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;  <span class="comment">// Assign the variable value to entry to each dominated block that&#39;s in scope.</span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;  <span class="comment">// Skip the definition block -- it&#39;s assigned the variable value in the middle</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;  <span class="comment">// of the block somewhere.</span></div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *ScopeBlock : InScopeBlocks) {</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    <span class="keywordflow">if</span> (!DomTree-&gt;<a class="code" href="classllvm_1_1MachineDominatorTree.html#ab13bd8c59060a1a21651041796177f8a">properlyDominates</a>(AssignMBB, ScopeBlock))</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160; </div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    Output[ScopeBlock-&gt;getNumber()].push_back({Var, <a class="code" href="classllvm_1_1Value.html">Value</a>});</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;  }</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160; </div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;  <span class="comment">// All blocks that aren&#39;t dominated have no live-in value, thus no variable</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;  <span class="comment">// value will be given to them.</span></div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;}</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160; </div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l03376"></a><span class="lineno"><a class="line" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ae270bdce77ec139bf18564e50664dab8"> 3376</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ae270bdce77ec139bf18564e50664dab8">InstrRefBasedLDV::dump_mloc_transfer</a>(</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallDenseMap.html">MLocTransferMap</a> &amp;mloc_transfer)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : mloc_transfer) {</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    std::string <a class="code" href="lib_2Target_2README_8txt.html#a819b717d29c6c488a332fefeeb3815ba">foo</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#afe9d19d27dd82ae73f86937cb41c3d8b">LocIdxToName</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first);</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;    std::string <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a90341ec0034ef3ce30ba4c96acf92173">bar</a> = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a70d5f445ba9f76ce9d0a11bc11e8e1a9">IDAsString</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second);</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Loc &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2README_8txt.html#a819b717d29c6c488a332fefeeb3815ba">foo</a> &lt;&lt; <span class="stringliteral">&quot; --&gt; &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a90341ec0034ef3ce30ba4c96acf92173">bar</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;  }</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;}</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160; </div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::initialSetup(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  <span class="comment">// Build some useful data structures.</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160; </div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">getContext</a>();</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;  EmptyExpr = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">DIExpression::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, {});</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160; </div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;  <span class="keyword">auto</span> hasNonArtificialLocation = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc())</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getLine() != 0;</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;  };</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;  <span class="comment">// Collect a set of all the artificial blocks.</span></div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">none_of</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a40bf8f9579717d3f9be7640f1c6d678b">instrs</a>(), hasNonArtificialLocation))</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;      ArtificialBlocks.insert(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160; </div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;  <span class="comment">// Compute mappings of block &lt;=&gt; RPO order.</span></div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;  <a class="code" href="classllvm_1_1ReversePostOrderTraversal.html">ReversePostOrderTraversal&lt;MachineFunction *&gt;</a> RPOT(&amp;MF);</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> RPONumber = 0;</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;  <span class="keyword">auto</span> processMBB = [&amp;](<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    OrderToBB[RPONumber] = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    BBToOrder[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>] = RPONumber;</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;    BBNumToRPO[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()] = RPONumber;</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    ++RPONumber;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;  };</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : RPOT)</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    processMBB(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    <span class="keywordflow">if</span> (BBToOrder.find(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) == BBToOrder.end())</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;      processMBB(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160; </div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;  <span class="comment">// Order value substitutions by their &quot;source&quot; operand pair, for quick lookup.</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(MF.DebugValueSubstitutions);</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160; </div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;  <span class="comment">// As an expensive check, test whether there are any duplicate substitution</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;  <span class="comment">// sources in the collection.</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;  <span class="keywordflow">if</span> (MF.DebugValueSubstitutions.size() &gt; 2) {</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> It = MF.DebugValueSubstitutions.begin();</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;         It != std::prev(MF.DebugValueSubstitutions.end()); ++It) {</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(It-&gt;Src != std::next(It)-&gt;Src &amp;&amp; <span class="stringliteral">&quot;Duplicate variable location &quot;</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;                                              <span class="stringliteral">&quot;substitution seen&quot;</span>);</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    }</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  }</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;}</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160; </div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;<span class="comment">// Produce an &quot;ejection map&quot; for blocks, i.e., what&#39;s the highest-numbered</span></div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;<span class="comment">// lexical scope it&#39;s used in. When exploring in DFS order and we pass that</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;<span class="comment">// scope, the block can be processed and any tracking information freed.</span></div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;<span class="keywordtype">void</span> InstrRefBasedLDV::makeDepthFirstEjectionMap(</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;EjectionMap,</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    <span class="keyword">const</span> ScopeToDILocT &amp;ScopeToDILocation,</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    ScopeToAssignBlocksT &amp;ScopeToAssignBlocks) {</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 8&gt;</a> BlocksToExplore;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;LexicalScope *, ssize_t&gt;</a>, 4&gt; WorkStack;</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  <span class="keyword">auto</span> *TopScope = LS.<a class="code" href="classllvm_1_1LexicalScopes.html#a0a853e18c226873fce4557643bcaac9d">getCurrentFunctionScope</a>();</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160; </div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  <span class="comment">// Unlike lexical scope explorers, we explore in reverse order, to find the</span></div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;  <span class="comment">// &quot;last&quot; lexical scope used for each block early.</span></div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;  WorkStack.push_back({TopScope, TopScope-&gt;getChildren().<a class="code" href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>() - 1});</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160; </div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  <span class="keywordflow">while</span> (!WorkStack.empty()) {</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    <span class="keyword">auto</span> &amp;ScopePosition = WorkStack.back();</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    <a class="code" href="classllvm_1_1LexicalScope.html">LexicalScope</a> *WS = ScopePosition.first;</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    ssize_t ChildNum = ScopePosition.second--;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160; </div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;LexicalScope *&gt;</a> &amp;<a class="code" href="namespacellvm_1_1logicalview.html#a93d1317dbbd98cf3bdce4d7cb31e81d1a64e4aca4297806247f62a7b5f8cbd3df">Children</a> = WS-&gt;<a class="code" href="classllvm_1_1LexicalScope.html#a0b8657ce0aa24332958157b33db8144e">getChildren</a>();</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="keywordflow">if</span> (ChildNum &gt;= 0) {</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;      <span class="comment">// If ChildNum is positive, there are remaining children to explore.</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;      <span class="comment">// Push the child and its children-count onto the stack.</span></div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;      <span class="keyword">auto</span> &amp;ChildScope = <a class="code" href="namespacellvm_1_1logicalview.html#a93d1317dbbd98cf3bdce4d7cb31e81d1a64e4aca4297806247f62a7b5f8cbd3df">Children</a>[ChildNum];</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      WorkStack.push_back(</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;          std::make_pair(ChildScope, ChildScope-&gt;getChildren().size() - 1));</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      WorkStack.pop_back();</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160; </div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;      <span class="comment">// We&#39;ve explored all children and any later blocks: examine all blocks</span></div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;      <span class="comment">// in our scope. If they haven&#39;t yet had an ejection number set, then</span></div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;      <span class="comment">// this scope will be the last to use that block.</span></div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;      <span class="keyword">auto</span> DILocationIt = ScopeToDILocation.find(WS);</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;      <span class="keywordflow">if</span> (DILocationIt != ScopeToDILocation.end()) {</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;        getBlocksForScope(DILocationIt-&gt;second, BlocksToExplore,</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;                          ScopeToAssignBlocks.find(WS)-&gt;second);</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : BlocksToExplore) {</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;          <span class="keywordtype">unsigned</span> BBNum = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;          <span class="keywordflow">if</span> (EjectionMap[BBNum] == 0)</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;            EjectionMap[BBNum] = WS-&gt;<a class="code" href="classllvm_1_1LexicalScope.html#a6cd93562d70581c0111c3642edc3bc83">getDFSOut</a>();</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;        }</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160; </div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;        BlocksToExplore.clear();</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;      }</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    }</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;  }</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;}</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160; </div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::depthFirstVLocAndEmit(</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>, <span class="keyword">const</span> ScopeToDILocT &amp;ScopeToDILocation,</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    <span class="keyword">const</span> ScopeToVarsT &amp;ScopeToVars, ScopeToAssignBlocksT &amp;ScopeToAssignBlocks,</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    LiveInsT &amp;Output, <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;MOutLocs, <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> &amp;MInLocs,</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;VLocTracker&gt;</a> &amp;AllTheVLocs, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;DebugVariable, unsigned&gt;</a> &amp;AllVarsNumbering,</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetPassConfig.html">TargetPassConfig</a> &amp;TPC) {</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;  TTracker = <span class="keyword">new</span> <a class="code" href="classTransferTracker.html">TransferTracker</a>(TII, MTracker, MF, *TRI, CalleeSavedRegs, TPC);</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;  <span class="keywordtype">unsigned</span> NumLocs = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a48b9880cdbbdc53b8e5446db5dede09b">getNumLocs</a>();</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;  VTracker = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160; </div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;  <span class="comment">// No scopes? No variable locations.</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;  <span class="keywordflow">if</span> (!LS.<a class="code" href="classllvm_1_1LexicalScopes.html#a0a853e18c226873fce4557643bcaac9d">getCurrentFunctionScope</a>())</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160; </div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  <span class="comment">// Build map from block number to the last scope that uses the block.</span></div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 16&gt;</a> EjectionMap;</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  EjectionMap.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>, 0);</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;  makeDepthFirstEjectionMap(EjectionMap, ScopeToDILocation,</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;                            ScopeToAssignBlocks);</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160; </div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;  <span class="comment">// Helper lambda for ejecting a block -- if nothing is going to use the block,</span></div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  <span class="comment">// we can translate the variable location information into DBG_VALUEs and then</span></div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;  <span class="comment">// free all of InstrRefBasedLDV&#39;s data structures.</span></div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  <span class="keyword">auto</span> EjectBlock = [&amp;](<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    <span class="keywordtype">unsigned</span> BBNum = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;    AllTheVLocs[BBNum].<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160; </div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;    <span class="comment">// Prime the transfer-tracker, and then step through all the block</span></div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    <span class="comment">// instructions, installing transfers.</span></div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a66a31574ce11e5d8dc78ed9a845305c2">reset</a>();</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a0f6a2afd0fe02e3fcfcc5d75d186c21b">loadFromArray</a>(MInLocs[BBNum], BBNum);</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    TTracker-&gt;<a class="code" href="classTransferTracker.html#adaa0a69ac7f1c2df0cb82dfed74266b4">loadInlocs</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MInLocs[BBNum], DbgOpStore, Output[BBNum],</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;                         NumLocs);</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160; </div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    CurBB = BBNum;</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    CurInst = 1;</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;      process(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MOutLocs.get(), MInLocs.get());</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;      TTracker-&gt;<a class="code" href="classTransferTracker.html#aa1129d2080e1308fd9bd27d20374ace5">checkInstForNewValues</a>(CurInst, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator());</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;      ++CurInst;</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    }</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160; </div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <span class="comment">// Free machine-location tables for this block.</span></div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    MInLocs[BBNum].reset();</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    MOutLocs[BBNum].reset();</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;    <span class="comment">// We don&#39;t need live-in variable values for this block either.</span></div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    Output[BBNum].clear();</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    AllTheVLocs[BBNum].<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;  };</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160; </div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 8&gt;</a> BlocksToExplore;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;LexicalScope *, ssize_t&gt;</a>, 4&gt; WorkStack;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;  WorkStack.push_back({LS.<a class="code" href="classllvm_1_1LexicalScopes.html#a0a853e18c226873fce4557643bcaac9d">getCurrentFunctionScope</a>(), 0});</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <span class="keywordtype">unsigned</span> HighestDFSIn = 0;</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160; </div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;  <span class="comment">// Proceed to explore in depth first order.</span></div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;  <span class="keywordflow">while</span> (!WorkStack.empty()) {</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <span class="keyword">auto</span> &amp;ScopePosition = WorkStack.back();</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <a class="code" href="classllvm_1_1LexicalScope.html">LexicalScope</a> *WS = ScopePosition.first;</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    ssize_t ChildNum = ScopePosition.second++;</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160; </div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    <span class="comment">// We obesrve scopes with children twice here, once descending in, once</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    <span class="comment">// ascending out of the scope nest. Use HighestDFSIn as a ratchet to ensure</span></div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <span class="comment">// we don&#39;t process a scope twice. Additionally, ignore scopes that don&#39;t</span></div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    <span class="comment">// have a DILocation -- by proxy, this means we never tracked any variable</span></div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;    <span class="comment">// assignments in that scope.</span></div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    <span class="keyword">auto</span> DILocIt = ScopeToDILocation.find(WS);</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    <span class="keywordflow">if</span> (HighestDFSIn &lt;= WS-&gt;getDFSIn() &amp;&amp; DILocIt != ScopeToDILocation.end()) {</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *DILoc = DILocIt-&gt;second;</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;      <span class="keyword">auto</span> &amp;VarsWeCareAbout = ScopeToVars.find(WS)-&gt;second;</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;      <span class="keyword">auto</span> &amp;BlocksInScope = ScopeToAssignBlocks.find(WS)-&gt;second;</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160; </div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;      buildVLocValueMap(DILoc, VarsWeCareAbout, BlocksInScope, Output, MOutLocs,</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;                        MInLocs, AllTheVLocs);</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;    }</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160; </div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    HighestDFSIn = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(HighestDFSIn, WS-&gt;<a class="code" href="classllvm_1_1LexicalScope.html#a15011e35c6917966641150d76521b2d7">getDFSIn</a>());</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160; </div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    <span class="comment">// Descend into any scope nests.</span></div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;LexicalScope *&gt;</a> &amp;<a class="code" href="namespacellvm_1_1logicalview.html#a93d1317dbbd98cf3bdce4d7cb31e81d1a64e4aca4297806247f62a7b5f8cbd3df">Children</a> = WS-&gt;<a class="code" href="classllvm_1_1LexicalScope.html#a0b8657ce0aa24332958157b33db8144e">getChildren</a>();</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <span class="keywordflow">if</span> (ChildNum &lt; (ssize_t)<a class="code" href="namespacellvm_1_1logicalview.html#a93d1317dbbd98cf3bdce4d7cb31e81d1a64e4aca4297806247f62a7b5f8cbd3df">Children</a>.size()) {</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;      <span class="comment">// There are children to explore -- push onto stack and continue.</span></div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;      <span class="keyword">auto</span> &amp;ChildScope = <a class="code" href="namespacellvm_1_1logicalview.html#a93d1317dbbd98cf3bdce4d7cb31e81d1a64e4aca4297806247f62a7b5f8cbd3df">Children</a>[ChildNum];</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;      WorkStack.push_back(std::make_pair(ChildScope, 0));</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;      WorkStack.pop_back();</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160; </div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;      <span class="comment">// We&#39;ve explored a leaf, or have explored all the children of a scope.</span></div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;      <span class="comment">// Try to eject any blocks where this is the last scope it&#39;s relevant to.</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;      <span class="keyword">auto</span> DILocationIt = ScopeToDILocation.find(WS);</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;      <span class="keywordflow">if</span> (DILocationIt == ScopeToDILocation.end())</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160; </div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;      getBlocksForScope(DILocationIt-&gt;second, BlocksToExplore,</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;                        ScopeToAssignBlocks.find(WS)-&gt;second);</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : BlocksToExplore)</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;        <span class="keywordflow">if</span> (WS-&gt;<a class="code" href="classllvm_1_1LexicalScope.html#a6cd93562d70581c0111c3642edc3bc83">getDFSOut</a>() == EjectionMap[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()])</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;          EjectBlock(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<span class="keyword">&gt;</span>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160; </div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;      BlocksToExplore.clear();</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    }</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  }</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160; </div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;  <span class="comment">// Some artificial blocks may not have been ejected, meaning they&#39;re not</span></div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  <span class="comment">// connected to an actual legitimate scope. This can technically happen</span></div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;  <span class="comment">// with things like the entry block. In theory, we shouldn&#39;t need to do</span></div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;  <span class="comment">// anything for such out-of-scope blocks, but for the sake of being similar</span></div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;  <span class="comment">// to VarLocBasedLDV, eject these too.</span></div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : ArtificialBlocks)</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    <span class="keywordflow">if</span> (MOutLocs[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()])</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;      EjectBlock(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160; </div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;  <span class="keywordflow">return</span> emitTransfers(AllVarsNumbering);</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;}</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160; </div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;<span class="keywordtype">bool</span> InstrRefBasedLDV::emitTransfers(</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;DebugVariable, unsigned&gt;</a> &amp;AllVarsNumbering) {</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;  <span class="comment">// Go through all the transfers recorded in the TransferTracker -- this is</span></div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  <span class="comment">// both the live-ins to a block, and any movements of values that happen</span></div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  <span class="comment">// in the middle.</span></div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : TTracker-&gt;<a class="code" href="classTransferTracker.html#af06b11c084b9a4ff7e063e146d4131d3">Transfers</a>) {</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;    <span class="comment">// We have to insert DBG_VALUEs in a consistent order, otherwise they</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    <span class="comment">// appear in DWARF in different orders. Use the order that they appear</span></div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    <span class="comment">// when walking through each block / each instruction, stored in</span></div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;    <span class="comment">// AllVarsNumbering.</span></div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;unsigned, MachineInstr *&gt;</a>&gt; Insts;</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Insts) {</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;      <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> Var(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDebugVariable(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDebugExpression(),</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;                        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDebugLoc()-&gt;getInlinedAt());</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;      Insts.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(AllVarsNumbering.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Var)-&gt;second, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;    }</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Insts, <a class="code" href="structllvm_1_1less__first.html">llvm::less_first</a>());</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160; </div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    <span class="comment">// Insert either before or after the designated point...</span></div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MBB) {</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MBB;</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : Insts)</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;        <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Pos, Pair.second);</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;      <span class="comment">// Terminators, like tail calls, can clobber things. Don&#39;t try and place</span></div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;      <span class="comment">// transfers after them.</span></div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Pos-&gt;isTerminator())</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160; </div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Pos-&gt;getParent();</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : Insts)</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;        <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#aec460b7ed48d97ed84ae2466b498763f">insertAfterBundle</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Pos, Pair.second);</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;    }</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;  }</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160; </div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;  <span class="keywordflow">return</span> TTracker-&gt;<a class="code" href="classTransferTracker.html#af06b11c084b9a4ff7e063e146d4131d3">Transfers</a>.size() != 0;</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;}</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;<span class="comment">/// Calculate the liveness information for the given machine function and</span></div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;<span class="comment">/// extend ranges across basic blocks.</span></div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> InstrRefBasedLDV::ExtendRanges(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;                                    <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *DomTree,</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;                                    <a class="code" href="classllvm_1_1TargetPassConfig.html">TargetPassConfig</a> *TPC,</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;                                    <span class="keywordtype">unsigned</span> <a class="code" href="LiveDebugValues_8cpp.html#a17e0338db8e9291e84b419320b8031b4">InputBBLimit</a>,</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;                                    <span class="keywordtype">unsigned</span> InputDbgValLimit) {</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;  <span class="comment">// No subprogram means this function contains no debuginfo.</span></div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  <span class="keywordflow">if</span> (!MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">getSubprogram</a>())</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160; </div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nDebug Range Extension\n&quot;</span>);</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  this-&gt;TPC = TPC;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160; </div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  this-&gt;DomTree = DomTree;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;  TRI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;  MRI = &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;  TII = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a647fbf2c5d5bb2fe4f4b5b9af7e0ab00">getCalleeSaves</a>(MF, CalleeSavedRegs);</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  MFI = &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  LS.<a class="code" href="classllvm_1_1LexicalScopes.html#a3134ce614dc1b5fc41522648d24ff7cb">initialize</a>(MF);</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160; </div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;STI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>();</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  AdjustsStackInCalls = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a19e260b3bbf8fad8480d151e11919836">adjustsStack</a>() &amp;&amp;</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;                        STI.getFrameLowering()-&gt;stackProbeFunctionModifiesSP();</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  <span class="keywordflow">if</span> (AdjustsStackInCalls)</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    StackProbeSymbolName = STI.getTargetLowering()-&gt;getStackProbeSymbolName(MF);</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160; </div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;  MTracker =</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;      <span class="keyword">new</span> <a class="code" href="classLiveDebugValues_1_1MLocTracker.html">MLocTracker</a>(MF, *TII, *TRI, *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a129ede6f18326075504d4bd0439fd517">getTargetLowering</a>());</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  VTracker = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  TTracker = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160; </div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MLocTransferMap, 32&gt;</a> MLocTransfer;</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;VLocTracker, 8&gt;</a> vlocs;</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a4fcc5fc74d98f09bd495e93cec779cbc">LiveInsT</a> SavedLiveIns;</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160; </div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a> = -1;</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a> = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>(), <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>);</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a> &gt;= 0);</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;  ++<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>;</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160; </div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;  initialSetup(MF);</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160; </div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  MLocTransfer.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>);</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  vlocs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>, <a class="code" href="classLiveDebugValues_1_1VLocTracker.html">VLocTracker</a>(OverlapFragments, EmptyExpr));</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;  SavedLiveIns.resize(<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>);</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160; </div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;  produceMLocTransferFunction(MF, MLocTransfer, <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>);</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160; </div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;  <span class="comment">// Allocate and initialize two array-of-arrays for the live-in and live-out</span></div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  <span class="comment">// machine values. The outer dimension is the block number; while the inner</span></div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  <span class="comment">// dimension is a LocIdx from MLocTracker.</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> MOutLocs = std::make_unique&lt;ValueTable[]&gt;(<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>);</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  <a class="code" href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">FuncValueTable</a> MInLocs = std::make_unique&lt;ValueTable[]&gt;(<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>);</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  <span class="keywordtype">unsigned</span> NumLocs = MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a48b9880cdbbdc53b8e5446db5dede09b">getNumLocs</a>();</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <span class="comment">// These all auto-initialize to ValueIDNum::EmptyValue</span></div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;    MOutLocs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = std::make_unique&lt;ValueIDNum[]&gt;(NumLocs);</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    MInLocs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = std::make_unique&lt;ValueIDNum[]&gt;(NumLocs);</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  }</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160; </div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;  <span class="comment">// Solve the machine value dataflow problem using the MLocTransfer function,</span></div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;  <span class="comment">// storing the computed live-ins / live-outs into the array-of-arrays. We use</span></div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;  <span class="comment">// both live-ins and live-outs for decision making in the variable value</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  <span class="comment">// dataflow problem.</span></div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;  buildMLocValueMap(MF, MInLocs, MOutLocs, MLocTransfer);</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160; </div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <span class="comment">// Patch up debug phi numbers, turning unknown block-live-in values into</span></div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <span class="comment">// either live-through machine values, or PHIs.</span></div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;DBG_PHI : DebugPHINumToValue) {</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    <span class="comment">// Identify unresolved block-live-ins.</span></div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <span class="keywordflow">if</span> (!DBG_PHI.ValueRead)</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160; </div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;Num = *DBG_PHI.ValueRead;</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    <span class="keywordflow">if</span> (!Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a29e1496690d23acbdb69c5b882f5bf45">isPHI</a>())</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160; </div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    <span class="keywordtype">unsigned</span> BlockNo = Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#acd482282b8eb9755d8ac0e82ba23c20b">getBlock</a>();</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;    <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> LocNo = Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#af0ee865517c9747fa74f9eb3ed54578a">getLoc</a>();</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;    Num = MInLocs[BlockNo][LocNo.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()];</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  }</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;  <span class="comment">// Later, we&#39;ll be looking up ranges of instruction numbers.</span></div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(DebugPHINumToValue);</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160; </div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  <span class="comment">// Walk back through each block / instruction, collecting DBG_VALUE</span></div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;  <span class="comment">// instructions and recording what machine value their operands refer to.</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;OrderPair : OrderToBB) {</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *OrderPair.second;</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;    CurBB = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    VTracker = &amp;vlocs[CurBB];</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    VTracker-&gt;<a class="code" href="classLiveDebugValues_1_1VLocTracker.html#a736cdf55e7740ae9a7276e71795f7412">MBB</a> = &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a0f6a2afd0fe02e3fcfcc5d75d186c21b">loadFromArray</a>(MInLocs[CurBB], CurBB);</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    CurInst = 1;</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;      process(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MOutLocs.get(), MInLocs.get());</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;      ++CurInst;</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    }</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;    MTracker-&gt;<a class="code" href="classLiveDebugValues_1_1MLocTracker.html#a66a31574ce11e5d8dc78ed9a845305c2">reset</a>();</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  }</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160; </div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;  <span class="comment">// Number all variables in the order that they appear, to be used as a stable</span></div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;  <span class="comment">// insertion order later.</span></div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;DebugVariable, unsigned&gt;</a> AllVarsNumbering;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160; </div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;  <span class="comment">// Map from one LexicalScope to all the variables in that scope.</span></div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;  <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#af3b8093d659665d900ab82be00c43899">ScopeToVarsT</a> ScopeToVars;</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160; </div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  <span class="comment">// Map from One lexical scope to all blocks where assignments happen for</span></div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;  <span class="comment">// that scope.</span></div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#aca5720d701c102227e8ed09ffda54c73">ScopeToAssignBlocksT</a> ScopeToAssignBlocks;</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160; </div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  <span class="comment">// Store map of DILocations that describes scopes.</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;  <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a2233b318fa41cb9167e82f952f4b6df6">ScopeToDILocT</a> ScopeToDILocation;</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160; </div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;  <span class="comment">// To mirror old LiveDebugValues, enumerate variables in RPOT order. Otherwise</span></div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  <span class="comment">// the order is unimportant, it just has to be stable.</span></div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;  <span class="keywordtype">unsigned</span> VarAssignCount = 0;</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; OrderToBB.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = OrderToBB[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;    <span class="keyword">auto</span> *VTracker = &amp;vlocs[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()];</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    <span class="comment">// Collect each variable with a DBG_VALUE in this block.</span></div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;idx : VTracker-&gt;<a class="code" href="classLiveDebugValues_1_1VLocTracker.html#ae0cf81f4c07b11b1581da406e612a039">Vars</a>) {</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Var = idx.first;</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *ScopeLoc = VTracker-&gt;<a class="code" href="classLiveDebugValues_1_1VLocTracker.html#aca54e84d4225a8bc8e218657ae04435e">Scopes</a>[Var];</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ScopeLoc != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1jitlink.html#adb322dc6826cf005531ccfdf666260fd">Scope</a> = LS.<a class="code" href="classllvm_1_1LexicalScopes.html#a3245044b58379359df4673c0ed9308b0">findLexicalScope</a>(ScopeLoc);</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160; </div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;      <span class="comment">// No insts in scope -&gt; shouldn&#39;t have been recorded.</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Scope != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160; </div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;      AllVarsNumbering.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(Var, AllVarsNumbering.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>()));</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;      ScopeToVars[<a class="code" href="namespacellvm_1_1jitlink.html#adb322dc6826cf005531ccfdf666260fd">Scope</a>].insert(Var);</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;      ScopeToAssignBlocks[<a class="code" href="namespacellvm_1_1jitlink.html#adb322dc6826cf005531ccfdf666260fd">Scope</a>].insert(VTracker-&gt;<a class="code" href="classLiveDebugValues_1_1VLocTracker.html#a736cdf55e7740ae9a7276e71795f7412">MBB</a>);</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;      ScopeToDILocation[<a class="code" href="namespacellvm_1_1jitlink.html#adb322dc6826cf005531ccfdf666260fd">Scope</a>] = ScopeLoc;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;      ++VarAssignCount;</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    }</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;  }</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160; </div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160; </div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  <span class="comment">// If we have an extremely large number of variable assignments and blocks,</span></div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;  <span class="comment">// bail out at this point. We&#39;ve burnt some time doing analysis already,</span></div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  <span class="comment">// however we should cut our losses.</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)<a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a> &gt; <a class="code" href="LiveDebugValues_8cpp.html#a17e0338db8e9291e84b419320b8031b4">InputBBLimit</a> &amp;&amp;</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;      VarAssignCount &gt; InputDbgValLimit) {</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Disabling InstrRefBasedLDV: &quot;</span> &lt;&lt; MF.getName()</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; has &quot;</span> &lt;&lt; <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a> &lt;&lt; <span class="stringliteral">&quot; basic blocks and &quot;</span></div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;                      &lt;&lt; VarAssignCount</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; variable assignments, exceeding limits.\n&quot;</span>);</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;    <span class="comment">// Optionally, solve the variable value problem and emit to blocks by using</span></div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    <span class="comment">// a lexical-scope-depth search. It should be functionally identical to</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    <span class="comment">// the &quot;else&quot; block of this condition.</span></div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    Changed = depthFirstVLocAndEmit(</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;        <a class="code" href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a>, ScopeToDILocation, ScopeToVars, ScopeToAssignBlocks,</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;        SavedLiveIns, MOutLocs, MInLocs, vlocs, MF, AllVarsNumbering, *TPC);</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;  }</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160; </div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;  <span class="keyword">delete</span> MTracker;</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;  <span class="keyword">delete</span> TTracker;</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;  MTracker = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  VTracker = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;  TTracker = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160; </div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  ArtificialBlocks.clear();</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  OrderToBB.clear();</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  BBToOrder.clear();</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  BBNumToRPO.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;  DebugInstrNumToInstr.clear();</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  DebugPHINumToValue.clear();</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  OverlapFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  SeenFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  SeenDbgPHIs.clear();</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  DbgOpStore.<a class="code" href="classLiveDebugValues_1_1DbgOpIDMap.html#a1bf84d11412de4442279efd24fd7fb8d">clear</a>();</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160; </div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;}</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160; </div>
<div class="line"><a name="l03818"></a><span class="lineno"><a class="line" href="namespacellvm.html#a3838b33559305fa08382a0be06217008"> 3818</a></span>&#160;<a class="code" href="classllvm_1_1SharedLiveDebugValues_1_1LDVImpl.html">LDVImpl</a> *<a class="code" href="namespacellvm.html#a3838b33559305fa08382a0be06217008">llvm::makeInstrRefBasedLiveDebugValues</a>() {</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classLiveDebugValues_1_1InstrRefBasedLDV.html">InstrRefBasedLDV</a>();</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;}</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160; </div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;<span class="keyword">class </span>LDVSSABlock;</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;<span class="keyword">class </span>LDVSSAUpdater;</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160; </div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;<span class="comment">// Pick a type to identify incoming block values as we construct SSA. We</span></div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;<span class="comment">// can&#39;t use anything more robust than an integer unfortunately, as SSAUpdater</span></div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;<span class="comment">// expects to zero-initialize the type.</span></div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;<span class="keyword">typedef</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BlockValueNum;</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;<span class="comment">/// Represents an SSA PHI node for the SSA updater class. Contains the block</span></div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;<span class="comment">/// this PHI is in, the value number it would have, and the expected incoming</span></div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;<span class="comment">/// values from parent blocks.</span></div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;<span class="comment"></span><span class="keyword">class </span>LDVSSAPhi {</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;LDVSSABlock *, BlockValueNum&gt;</a>, 4&gt; IncomingValues;</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;  LDVSSABlock *ParentBlock;</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  BlockValueNum PHIValNum;</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  LDVSSAPhi(BlockValueNum PHIValNum, LDVSSABlock *ParentBlock)</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;      : ParentBlock(ParentBlock), PHIValNum(PHIValNum) {}</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160; </div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  LDVSSABlock *<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>() { <span class="keywordflow">return</span> ParentBlock; }</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;};</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;<span class="comment">/// Thin wrapper around a block predecessor iterator. Only difference from a</span></div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;<span class="comment">/// normal block iterator is that it dereferences to an LDVSSABlock.</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;<span class="comment"></span><span class="keyword">class </span>LDVSSABlockIterator {</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#af7bdb491eed9d2c9119dc21d4002de9d">MachineBasicBlock::pred_iterator</a> PredIt;</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  LDVSSAUpdater &amp;Updater;</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160; </div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  LDVSSABlockIterator(<a class="code" href="classllvm_1_1MachineBasicBlock.html#af7bdb491eed9d2c9119dc21d4002de9d">MachineBasicBlock::pred_iterator</a> PredIt,</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;                      LDVSSAUpdater &amp;Updater)</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;      : PredIt(PredIt), Updater(Updater) {}</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160; </div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a2f883c895f4d244f4ed56ed8a8c160c1">operator!=</a>(<span class="keyword">const</span> LDVSSABlockIterator &amp;OtherIt)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    <span class="keywordflow">return</span> OtherIt.PredIt != PredIt;</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;  }</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160; </div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;  LDVSSABlockIterator &amp;operator++() {</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    ++PredIt;</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;  }</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160; </div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  LDVSSABlock *<a class="code" href="namespacellvm.html#a2366b4a30c90d2207626fb717dfb778d">operator*</a>();</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;};</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;<span class="comment">/// Thin wrapper around a block for SSA Updater interface. Necessary because</span></div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;<span class="comment">/// we need to track the PHI value(s) that we may have observed as necessary</span></div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;<span class="comment">/// in this block.</span></div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;<span class="comment"></span><span class="keyword">class </span>LDVSSABlock {</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;  LDVSSAUpdater &amp;Updater;</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;  <span class="keyword">using</span> PHIListT = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LDVSSAPhi, 1&gt;</a>;<span class="comment"></span></div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;<span class="comment">  /// List of PHIs in this block. There should only ever be one.</span></div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;<span class="comment"></span>  PHIListT PHIList;</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160; </div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;  LDVSSABlock(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, LDVSSAUpdater &amp;Updater)</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;      : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>), Updater(Updater) {}</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160; </div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  LDVSSABlockIterator <a class="code" href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">succ_begin</a>() {</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    <span class="keywordflow">return</span> LDVSSABlockIterator(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.succ_begin(), Updater);</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  }</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160; </div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;  LDVSSABlockIterator <a class="code" href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">succ_end</a>() {</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    <span class="keywordflow">return</span> LDVSSABlockIterator(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.succ_end(), Updater);</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  }</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;<span class="comment">  /// SSAUpdater has requested a PHI: create that within this block record.</span></div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;<span class="comment"></span>  LDVSSAPhi *newPHI(BlockValueNum <a class="code" href="classllvm_1_1Value.html">Value</a>) {</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    PHIList.emplace_back(<a class="code" href="classllvm_1_1Value.html">Value</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    <span class="keywordflow">return</span> &amp;PHIList.back();</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;  }</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;<span class="comment">  /// SSAUpdater wishes to know what PHIs already exist in this block.</span></div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;<span class="comment"></span>  PHIListT &amp;phis() { <span class="keywordflow">return</span> PHIList; }</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;};</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;<span class="comment">/// Utility class for the SSAUpdater interface: tracks blocks, PHIs and values</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;<span class="comment">/// while SSAUpdater is exploring the CFG. It&#39;s passed as a handle / baton to</span></div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;<span class="comment"></span><span class="comment">// SSAUpdaterTraits&lt;LDVSSAUpdater&gt;.</span></div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;<span class="keyword">class </span>LDVSSAUpdater {</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;<span class="comment">  /// Map of value numbers to PHI records.</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BlockValueNum, LDVSSAPhi *&gt;</a> PHIs;<span class="comment"></span></div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;<span class="comment">  /// Map of which blocks generate Undef values -- blocks that are not</span></div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;<span class="comment">  /// dominated by any Def.</span></div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MachineBasicBlock *, BlockValueNum&gt;</a> UndefMap;<span class="comment"></span></div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;<span class="comment">  /// Map of machine blocks to our own records of them.</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MachineBasicBlock *, LDVSSABlock *&gt;</a> BlockMap;<span class="comment"></span></div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;<span class="comment">  /// Machine location where any PHI must occur.</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;<span class="comment"></span>  <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Loc;<span class="comment"></span></div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;<span class="comment">  /// Table of live-in machine value numbers for blocks / locations.</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveIns;</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160; </div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;  LDVSSAUpdater(<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> L, <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveIns)</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;      : Loc(L), MLiveIns(MLiveIns) {}</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160; </div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;  <span class="keywordtype">void</span> reset() {</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Block : BlockMap)</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;      <span class="keyword">delete</span> <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a>.second;</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160; </div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;    PHIs.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;    UndefMap.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;    BlockMap.clear();</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  }</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160; </div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;  ~LDVSSAUpdater() { reset(); }</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;<span class="comment">  /// For a given MBB, create a wrapper block for it. Stores it in the</span></div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;<span class="comment">  /// LDVSSAUpdater block map.</span></div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;<span class="comment"></span>  LDVSSABlock *getSSALDVBlock(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    <span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> = BlockMap.find(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> == BlockMap.end()) {</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;      BlockMap[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = <span class="keyword">new</span> LDVSSABlock(*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> = BlockMap.find(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;    }</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>-&gt;second;</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;  }</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;<span class="comment">  /// Find the live-in value number for the given block. Looks up the value at</span></div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;<span class="comment">  /// the PHI location on entry.</span></div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;<span class="comment"></span>  BlockValueNum getValue(LDVSSABlock *LDVBB) {</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    <span class="keywordflow">return</span> MLiveIns[LDVBB-&gt;BB.getNumber()][Loc.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()].asU64();</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;  }</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;};</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160; </div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;LDVSSABlock *<a class="code" href="namespacellvm.html#a2366b4a30c90d2207626fb717dfb778d">LDVSSABlockIterator::operator*</a>() {</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;  <span class="keywordflow">return</span> Updater.getSSALDVBlock(*PredIt);</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;}</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160; </div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160; </div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="namespacellvm.html#a5ee0a415cf089775fd277550b257f74e">operator&lt;&lt;</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;out, <span class="keyword">const</span> LDVSSAPhi &amp;<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>) {</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;  out &lt;&lt; <span class="stringliteral">&quot;SSALDVPHI &quot;</span> &lt;&lt; <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>.PHIValNum;</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <span class="keywordflow">return</span> out;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;}</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160; </div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160; </div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160; </div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;<span class="comment">/// Template specialization to give SSAUpdater access to CFG and value</span></div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;<span class="comment">/// information. SSAUpdater calls methods in these traits, passing in the</span></div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;<span class="comment">/// LDVSSAUpdater object, to learn about blocks and the values they define.</span></div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;<span class="comment">/// It also provides methods to create PHI nodes and track them.</span></div>
<div class="line"><a name="l03970"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html"> 3970</a></span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;&gt; <span class="keyword">class </span><a class="code" href="classllvm_1_1SSAUpdaterTraits.html">SSAUpdaterTraits</a>&lt;LDVSSAUpdater&gt; {</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l03972"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a7604fac2103840a396b49e95b9ba546e"> 3972</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a7604fac2103840a396b49e95b9ba546e">BlkT</a> = LDVSSABlock;</div>
<div class="line"><a name="l03973"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#aed1981dd0e865bb20cebfa9cbfb6568c"> 3973</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#aed1981dd0e865bb20cebfa9cbfb6568c">ValT</a> = BlockValueNum;</div>
<div class="line"><a name="l03974"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a897a36c61777b2428a0bd38d79f70a38"> 3974</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a897a36c61777b2428a0bd38d79f70a38">PhiT</a> = LDVSSAPhi;</div>
<div class="line"><a name="l03975"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a00dee8613a6bcca61ed2158fadf9ef3c"> 3975</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a00dee8613a6bcca61ed2158fadf9ef3c">BlkSucc_iterator</a> = LDVSSABlockIterator;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160; </div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;  <span class="comment">// Methods to access block successors -- dereferencing to our wrapper class.</span></div>
<div class="line"><a name="l03978"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#aff0300fb8cbdf8778eeb19d4d5440660"> 3978</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a00dee8613a6bcca61ed2158fadf9ef3c">BlkSucc_iterator</a> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#aff0300fb8cbdf8778eeb19d4d5440660">BlkSucc_begin</a>(<a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a7604fac2103840a396b49e95b9ba546e">BlkT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) { <span class="keywordflow">return</span> <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;succ_begin(); }</div>
<div class="line"><a name="l03979"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a5a9c3fa37350ad4b187055d61b48ff16"> 3979</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a00dee8613a6bcca61ed2158fadf9ef3c">BlkSucc_iterator</a> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a5a9c3fa37350ad4b187055d61b48ff16">BlkSucc_end</a>(<a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a7604fac2103840a396b49e95b9ba546e">BlkT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) { <span class="keywordflow">return</span> <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;succ_end(); }</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;<span class="comment">  /// Iterator for PHI operands.</span></div>
<div class="line"><a name="l03982"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html"> 3982</a></span>&#160;<span class="comment"></span>  <span class="keyword">class </span>PHI_iterator {</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;    LDVSSAPhi *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;    <span class="keywordtype">unsigned</span> Idx;</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160; </div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l03988"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#ad271e7b369ba8db92f87cffe8cd8fea1"> 3988</a></span>&#160;    <span class="keyword">explicit</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#ad271e7b369ba8db92f87cffe8cd8fea1">PHI_iterator</a>(LDVSSAPhi *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) <span class="comment">// begin iterator</span></div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;        : <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>), Idx(0) {}</div>
<div class="line"><a name="l03990"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#a634b9aa909970c15fecc431125905432"> 3990</a></span>&#160;    <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#a634b9aa909970c15fecc431125905432">PHI_iterator</a>(LDVSSAPhi *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <span class="keywordtype">bool</span>) <span class="comment">// end iterator</span></div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;        : <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>), Idx(<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;IncomingValues.<a class="code" href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>()) {}</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160; </div>
<div class="line"><a name="l03993"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#a2defe5ddcd6b96a09e5304973e1ae8ae"> 3993</a></span>&#160;    PHI_iterator &amp;<a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#a2defe5ddcd6b96a09e5304973e1ae8ae">operator++</a>() {</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;      Idx++;</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;    }</div>
<div class="line"><a name="l03997"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#afee958da1eec7b6b56701847fefde452"> 3997</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#afee958da1eec7b6b56701847fefde452">operator==</a>(<span class="keyword">const</span> PHI_iterator &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Idx == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Idx; }</div>
<div class="line"><a name="l03998"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#acbbbcc887540e8d1c4a7f03ef18d0233"> 3998</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#acbbbcc887540e8d1c4a7f03ef18d0233">operator!=</a>(<span class="keyword">const</span> PHI_iterator &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">operator==</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>); }</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160; </div>
<div class="line"><a name="l04000"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#a3984406f0b556b64055a90c1a3615b6f"> 4000</a></span>&#160;    BlockValueNum <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#a3984406f0b556b64055a90c1a3615b6f">getIncomingValue</a>() { <span class="keywordflow">return</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;IncomingValues[Idx].second; }</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160; </div>
<div class="line"><a name="l04002"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#af9a06cba99c4f751a4c9397b9dcdd4b8"> 4002</a></span>&#160;    LDVSSABlock *<a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#af9a06cba99c4f751a4c9397b9dcdd4b8">getIncomingBlock</a>() { <span class="keywordflow">return</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;IncomingValues[Idx].first; }</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;  };</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160; </div>
<div class="line"><a name="l04005"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a77330dfa97bc91b53a5e9e1d6f75cab1"> 4005</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> PHI_iterator <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a77330dfa97bc91b53a5e9e1d6f75cab1">PHI_begin</a>(<a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a897a36c61777b2428a0bd38d79f70a38">PhiT</a> *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>) { <span class="keywordflow">return</span> PHI_iterator(<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>); }</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160; </div>
<div class="line"><a name="l04007"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#af172763cc276913cd13e89b5b2bcbc69"> 4007</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> PHI_iterator <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#af172763cc276913cd13e89b5b2bcbc69">PHI_end</a>(<a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a897a36c61777b2428a0bd38d79f70a38">PhiT</a> *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>) {</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    <span class="keywordflow">return</span> PHI_iterator(<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;  }</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;<span class="comment">  /// FindPredecessorBlocks - Put the predecessors of BB into the Preds</span></div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;<span class="comment">  /// vector.</span></div>
<div class="line"><a name="l04013"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#ac031b6154536f289d3c8962a2d9efd48"> 4013</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#ac031b6154536f289d3c8962a2d9efd48">FindPredecessorBlocks</a>(LDVSSABlock *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;                                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;LDVSSABlock *&gt;</a> *Preds) {</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Pred : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;BB.predecessors())</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;      Preds-&gt;push_back(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;Updater.getSSALDVBlock(Pred));</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;  }</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;<span class="comment">  /// GetUndefVal - Normally creates an IMPLICIT_DEF instruction with a new</span></div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;<span class="comment">  /// register. For LiveDebugValues, represents a block identified as not having</span></div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;<span class="comment">  /// any DBG_PHI predecessors.</span></div>
<div class="line"><a name="l04022"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a525a66a605fbe3145dbac17bccbde262"> 4022</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> BlockValueNum <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a525a66a605fbe3145dbac17bccbde262">GetUndefVal</a>(LDVSSABlock *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, LDVSSAUpdater *Updater) {</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    <span class="comment">// Create a value number for this block -- it needs to be unique and in the</span></div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;    <span class="comment">// &quot;undef&quot; collection, so that we know it&#39;s not real. Use a number</span></div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;    <span class="comment">// representing a PHI into this block.</span></div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;    BlockValueNum Num = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;BB.getNumber(), 0, Updater-&gt;Loc).<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#ab797179b6d9bdda6c2f182fbb8011704">asU64</a>();</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;    Updater-&gt;UndefMap[&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;BB] = Num;</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;    <span class="keywordflow">return</span> Num;</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  }</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;<span class="comment">  /// CreateEmptyPHI - Create a (representation of a) PHI in the given block.</span></div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;<span class="comment">  /// SSAUpdater will populate it with information about incoming values. The</span></div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;<span class="comment">  /// value number of this PHI is whatever the  machine value number problem</span></div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;<span class="comment">  /// solution determined it to be. This includes non-phi values if SSAUpdater</span></div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;<span class="comment">  /// tries to create a PHI where the incoming values are identical.</span></div>
<div class="line"><a name="l04036"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a1ba7a4f9025c38ba1d2d612e49551dcb"> 4036</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> BlockValueNum <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a1ba7a4f9025c38ba1d2d612e49551dcb">CreateEmptyPHI</a>(LDVSSABlock *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keywordtype">unsigned</span> NumPreds,</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;                                   LDVSSAUpdater *Updater) {</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;    BlockValueNum PHIValNum = Updater-&gt;getValue(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;    LDVSSAPhi *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;newPHI(PHIValNum);</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    Updater-&gt;PHIs[PHIValNum] = <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>;</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;    <span class="keywordflow">return</span> PHIValNum;</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;  }</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;<span class="comment">  /// AddPHIOperand - Add the specified value as an operand of the PHI for</span></div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;<span class="comment">  /// the specified predecessor block.</span></div>
<div class="line"><a name="l04046"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a84a697406586a81c7ece9b9818929ab6"> 4046</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a84a697406586a81c7ece9b9818929ab6">AddPHIOperand</a>(LDVSSAPhi *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>, BlockValueNum Val, LDVSSABlock *Pred) {</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;    <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;IncomingValues.push_back(std::make_pair(Pred, Val));</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;  }</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;<span class="comment">  /// ValueIsPHI - Check if the instruction that defines the specified value</span></div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;<span class="comment">  /// is a PHI instruction.</span></div>
<div class="line"><a name="l04052"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a0760fd7e778d18070dd3e2fae8fa02ce"> 4052</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> LDVSSAPhi *<a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a0760fd7e778d18070dd3e2fae8fa02ce">ValueIsPHI</a>(BlockValueNum Val, LDVSSAUpdater *Updater) {</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    <span class="keyword">auto</span> PHIIt = Updater-&gt;PHIs.find(Val);</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;    <span class="keywordflow">if</span> (PHIIt == Updater-&gt;PHIs.end())</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    <span class="keywordflow">return</span> PHIIt-&gt;second;</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;  }</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;<span class="comment">  /// ValueIsNewPHI - Like ValueIsPHI but also check if the PHI has no source</span></div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;<span class="comment">  /// operands, i.e., it was just added.</span></div>
<div class="line"><a name="l04061"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a026d751e97a7bf15e1220019bd02fc99"> 4061</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> LDVSSAPhi *<a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a026d751e97a7bf15e1220019bd02fc99">ValueIsNewPHI</a>(BlockValueNum Val, LDVSSAUpdater *Updater) {</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    LDVSSAPhi *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> = ValueIsPHI(Val, Updater);</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> &amp;&amp; <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;IncomingValues.size() == 0)</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>;</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;  }</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;<span class="comment">  /// GetPHIValue - For the specified PHI instruction, return the value</span></div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;<span class="comment">  /// that it defines.</span></div>
<div class="line"><a name="l04070"></a><span class="lineno"><a class="line" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#ac588486afd7ad9e56feeeaf30a2db1c0"> 4070</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> BlockValueNum <a class="code" href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#ac588486afd7ad9e56feeeaf30a2db1c0">GetPHIValue</a>(LDVSSAPhi *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>) { <span class="keywordflow">return</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;PHIValNum; }</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;};</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160; </div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160; </div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;std::optional&lt;ValueIDNum&gt; InstrRefBasedLDV::resolveDbgPHIs(</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveOuts,</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveIns, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Here, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> InstrNum) {</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MLiveOuts &amp;&amp; MLiveIns &amp;&amp;</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;         <span class="stringliteral">&quot;Tried to resolve DBG_PHI before location &quot;</span></div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;         <span class="stringliteral">&quot;tables allocated?&quot;</span>);</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160; </div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;  <span class="comment">// This function will be called twice per DBG_INSTR_REF, and might end up</span></div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;  <span class="comment">// computing lots of SSA information: memoize it.</span></div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;  <span class="keyword">auto</span> SeenDbgPHIIt = SeenDbgPHIs.find(std::make_pair(&amp;Here, InstrNum));</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;  <span class="keywordflow">if</span> (SeenDbgPHIIt != SeenDbgPHIs.end())</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;    <span class="keywordflow">return</span> SeenDbgPHIIt-&gt;second;</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160; </div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;  std::optional&lt;ValueIDNum&gt; <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> =</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;      resolveDbgPHIsImpl(MF, MLiveOuts, MLiveIns, Here, InstrNum);</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;  SeenDbgPHIs.insert({std::make_pair(&amp;Here, InstrNum), <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>});</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;}</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160; </div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;std::optional&lt;ValueIDNum&gt; InstrRefBasedLDV::resolveDbgPHIsImpl(</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveOuts,</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> *MLiveIns, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Here, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> InstrNum) {</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;  <span class="comment">// Pick out records of DBG_PHI instructions that have been observed. If there</span></div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;  <span class="comment">// are none, then we cannot compute a value number.</span></div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;  <span class="keyword">auto</span> RangePair = std::equal_range(DebugPHINumToValue.begin(),</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;                                    DebugPHINumToValue.end(), InstrNum);</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;  <span class="keyword">auto</span> LowerIt = RangePair.first;</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;  <span class="keyword">auto</span> UpperIt = RangePair.second;</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160; </div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;  <span class="comment">// No DBG_PHI means there can be no location.</span></div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;  <span class="keywordflow">if</span> (LowerIt == UpperIt)</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160; </div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;  <span class="comment">// If any DBG_PHIs referred to a location we didn&#39;t understand, don&#39;t try to</span></div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;  <span class="comment">// compute a value. There might be scenarios where we could recover a value</span></div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;  <span class="comment">// for some range of DBG_INSTR_REFs, but at this point we can have high</span></div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;  <span class="comment">// confidence that we&#39;ve seen a bug.</span></div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;  <span class="keyword">auto</span> DBGPHIRange = <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(LowerIt, UpperIt);</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> DebugPHIRecord &amp;DBG_PHI : DBGPHIRange)</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;    <span class="keywordflow">if</span> (!DBG_PHI.ValueRead)</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160; </div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;  <span class="comment">// If there&#39;s only one DBG_PHI, then that is our value number.</span></div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;  <span class="keywordflow">if</span> (std::distance(LowerIt, UpperIt) == 1)</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    <span class="keywordflow">return</span> *LowerIt-&gt;ValueRead;</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160; </div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;  <span class="comment">// Pick out the location (physreg, slot) where any PHIs must occur. It&#39;s</span></div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;  <span class="comment">// technically possible for us to merge values in different registers in each</span></div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <span class="comment">// block, but highly unlikely that LLVM will generate such code after register</span></div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;  <span class="comment">// allocation.</span></div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> Loc = *LowerIt-&gt;ReadLoc;</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160; </div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  <span class="comment">// We have several DBG_PHIs, and a use position (the Here inst). All each</span></div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  <span class="comment">// DBG_PHI does is identify a value at a program position. We can treat each</span></div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  <span class="comment">// DBG_PHI like it&#39;s a Def of a value, and the use position is a Use of a</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  <span class="comment">// value, just like SSA. We use the bulk-standard LLVM SSA updater class to</span></div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  <span class="comment">// determine which Def is used at the Use, and any PHIs that happen along</span></div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;  <span class="comment">// the way.</span></div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;  <span class="comment">// Adapted LLVM SSA Updater:</span></div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;  LDVSSAUpdater Updater(Loc, MLiveIns);</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;  <span class="comment">// Map of which Def or PHI is the current value in each block.</span></div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;LDVSSABlock *, BlockValueNum&gt;</a> AvailableValues;</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;  <span class="comment">// Set of PHIs that we have created along the way.</span></div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LDVSSAPhi *, 8&gt;</a> CreatedPHIs;</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160; </div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;  <span class="comment">// Each existing DBG_PHI is a Def&#39;d value under this model. Record these Defs</span></div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;  <span class="comment">// for the SSAUpdater.</span></div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DBG_PHI : DBGPHIRange) {</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;    LDVSSABlock *<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> = Updater.getSSALDVBlock(DBG_PHI.MBB);</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;    <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;Num = *DBG_PHI.ValueRead;</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;    AvailableValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(Block, Num.<a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#ab797179b6d9bdda6c2f182fbb8011704">asU64</a>()));</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;  }</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160; </div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;  LDVSSABlock *HereBlock = Updater.getSSALDVBlock(Here.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>());</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;AvailIt = AvailableValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(HereBlock);</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;  <span class="keywordflow">if</span> (AvailIt != AvailableValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;    <span class="comment">// Actually, we already know what the value is -- the Use is in the same</span></div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;    <span class="comment">// block as the Def.</span></div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a7b9139c86fb99f4651b4830fe1f93742">ValueIDNum::fromU64</a>(AvailIt-&gt;second);</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;  }</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160; </div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;  <span class="comment">// Otherwise, we must use the SSA Updater. It will identify the value number</span></div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;  <span class="comment">// that we are to use, and the PHIs that must happen along the way.</span></div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;  <a class="code" href="classllvm_1_1SSAUpdaterImpl.html">SSAUpdaterImpl&lt;LDVSSAUpdater&gt;</a> Impl(&amp;Updater, &amp;AvailableValues, &amp;CreatedPHIs);</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;  BlockValueNum ResultInt = Impl.GetValue(Updater.getSSALDVBlock(Here.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()));</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;  <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html#a7b9139c86fb99f4651b4830fe1f93742">ValueIDNum::fromU64</a>(ResultInt);</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160; </div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;  <span class="comment">// We have the number for a PHI, or possibly live-through value, to be used</span></div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;  <span class="comment">// at this Use. There are a number of things we have to check about it though:</span></div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;  <span class="comment">//  * Does any PHI use an &#39;Undef&#39; (like an IMPLICIT_DEF) value? If so, this</span></div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;  <span class="comment">//    Use was not completely dominated by DBG_PHIs and we should abort.</span></div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;  <span class="comment">//  * Are the Defs or PHIs clobbered in a block? SSAUpdater isn&#39;t aware that</span></div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;  <span class="comment">//    we&#39;ve left SSA form. Validate that the inputs to each PHI are the</span></div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;  <span class="comment">//    expected values.</span></div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;  <span class="comment">//  * Is a PHI we&#39;ve created actually a merging of values, or are all the</span></div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;  <span class="comment">//    predecessor values the same, leading to a non-PHI machine value number?</span></div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;  <span class="comment">//    (SSAUpdater doesn&#39;t know that either). Remap validated PHIs into the</span></div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;  <span class="comment">//    the ValidatedValues collection below to sort this out.</span></div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;LDVSSABlock *, ValueIDNum&gt;</a> ValidatedValues;</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160; </div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;  <span class="comment">// Define all the input DBG_PHI values in ValidatedValues.</span></div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DBG_PHI : DBGPHIRange) {</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;    LDVSSABlock *<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> = Updater.getSSALDVBlock(DBG_PHI.MBB);</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;    <span class="keyword">const</span> <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> &amp;Num = *DBG_PHI.ValueRead;</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    ValidatedValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(Block, Num));</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  }</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160; </div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;  <span class="comment">// Sort PHIs to validate into RPO-order.</span></div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LDVSSAPhi *, 8&gt;</a> SortedPHIs;</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> : CreatedPHIs)</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    SortedPHIs.push_back(<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>);</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160; </div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(SortedPHIs, [&amp;](LDVSSAPhi *A, LDVSSAPhi *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;    <span class="keywordflow">return</span> BBToOrder[&amp;<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getParent()-&gt;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] &lt; BBToOrder[&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getParent()-&gt;BB];</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;  });</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160; </div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> : SortedPHIs) {</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> ThisBlockValueNum =</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;        MLiveIns[<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;ParentBlock-&gt;BB.getNumber()][Loc.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()];</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160; </div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    <span class="comment">// Are all these things actually defined?</span></div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;PHIIt : <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;IncomingValues) {</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;      <span class="comment">// Any undef input means DBG_PHIs didn&#39;t dominate the use point.</span></div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;      <span class="keywordflow">if</span> (Updater.UndefMap.find(&amp;PHIIt.first-&gt;BB) != Updater.UndefMap.end())</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160; </div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;      <a class="code" href="classLiveDebugValues_1_1ValueIDNum.html">ValueIDNum</a> ValueToCheck;</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> &amp;BlockLiveOuts = MLiveOuts[PHIIt.first-&gt;BB.getNumber()];</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160; </div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;      <span class="keyword">auto</span> VVal = ValidatedValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(PHIIt.first);</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;      <span class="keywordflow">if</span> (VVal == ValidatedValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;        <span class="comment">// We cross a loop, and this is a backedge. LLVMs tail duplication</span></div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;        <span class="comment">// happens so late that DBG_PHI instructions should not be able to</span></div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;        <span class="comment">// migrate into loops -- meaning we can only be live-through this</span></div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;        <span class="comment">// loop.</span></div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;        ValueToCheck = ThisBlockValueNum;</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;        <span class="comment">// Does the block have as a live-out, in the location we&#39;re examining,</span></div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;        <span class="comment">// the value that we expect? If not, it&#39;s been moved or clobbered.</span></div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;        ValueToCheck = VVal-&gt;second;</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;      }</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160; </div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;      <span class="keywordflow">if</span> (BlockLiveOuts[Loc.<a class="code" href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">asU64</a>()] != ValueToCheck)</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    }</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160; </div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    <span class="comment">// Record this value as validated.</span></div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;    ValidatedValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;ParentBlock, ThisBlockValueNum});</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;  }</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160; </div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;  <span class="comment">// All the PHIs are valid: we can return what the SSAUpdater said our value</span></div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;  <span class="comment">// number was.</span></div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1DIExpression_html_ab804b15bb92ff685d7c1464b2816d608"><div class="ttname"><a href="classllvm_1_1DIExpression.html#ab804b15bb92ff685d7c1464b2816d608">llvm::DIExpression::prepend</a></div><div class="ttdeci">static DIExpression * prepend(const DIExpression *Expr, uint8_t Flags, int64_t Offset=0)</div><div class="ttdoc">Prepend DIExpr with a deref and offset operation and optionally turn it into a stack value or/and an ...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01635">DebugInfoMetadata.cpp:1635</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ad4f8f1aca0bb01f65be1d7dee43f7f83"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ad4f8f1aca0bb01f65be1d7dee43f7f83">llvm::TargetRegisterInfo::getRegAsmName</a></div><div class="ttdeci">virtual StringRef getRegAsmName(MCRegister Reg) const</div><div class="ttdoc">Return the assembly name for Reg.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l01058">TargetRegisterInfo.h:1058</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a5f3e7fca669ee92300565d5e78098311"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a5f3e7fca669ee92300565d5e78098311">LiveDebugValues::MLocTracker::setReg</a></div><div class="ttdeci">void setReg(Register R, ValueIDNum ValueID)</div><div class="ttdoc">Set a register to a value number.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00862">InstrRefBasedImpl.h:862</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a647fbf2c5d5bb2fe4f4b5b9af7e0ab00"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a647fbf2c5d5bb2fe4f4b5b9af7e0ab00">llvm::TargetFrameLowering::getCalleeSaves</a></div><div class="ttdeci">virtual void getCalleeSaves(const MachineFunction &amp;MF, BitVector &amp;SavedRegs) const</div><div class="ttdoc">Returns the callee-saved registers as computed by determineCalleeSaves in the BitVector SavedRegs.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLoweringImpl_8cpp_source.html#l00069">TargetFrameLoweringImpl.cpp:69</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_ae0c12fcc919645ec5ae40a9763d756ba"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#ae0c12fcc919645ec5ae40a9763d756ba">LiveDebugValues::MLocTracker::trackRegister</a></div><div class="ttdeci">LocIdx trackRegister(unsigned ID)</div><div class="ttdoc">Create a LocIdx for an untracked register ID.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01057">InstrRefBasedImpl.cpp:1057</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_aed1981dd0e865bb20cebfa9cbfb6568c"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#aed1981dd0e865bb20cebfa9cbfb6568c">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::ValT</a></div><div class="ttdeci">BlockValueNum ValT</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03973">InstrRefBasedImpl.cpp:3973</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_af3b8093d659665d900ab82be00c43899"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#af3b8093d659665d900ab82be00c43899">LiveDebugValues::InstrRefBasedLDV::ScopeToVarsT</a></div><div class="ttdeci">DenseMap&lt; const LexicalScope *, SmallSet&lt; DebugVariable, 4 &gt; &gt; ScopeToVarsT</div><div class="ttdoc">Mapping from lexical scopes to variables in that scope.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l01070">InstrRefBasedImpl.h:1070</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_ae485598414179a9523e127ad2df4756c"><div class="ttname"><a href="classTransferTracker.html#ae485598414179a9523e127ad2df4756c">TransferTracker::UseBeforeDefs</a></div><div class="ttdeci">DenseMap&lt; unsigned, SmallVector&lt; UseBeforeDef, 1 &gt; &gt; UseBeforeDefs</div><div class="ttdoc">Map from instruction index (within the block) to the set of UseBeforeDefs that become defined at that...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00258">InstrRefBasedImpl.cpp:258</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a5b61ea519375d4dcd47c370e442e0eca"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a5b61ea519375d4dcd47c370e442e0eca">LiveDebugValues::MLocTracker::locations</a></div><div class="ttdeci">iterator_range&lt; MLocIterator &gt; locations()</div><div class="ttdoc">Return a range over all locations currently tracked.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00931">InstrRefBasedImpl.h:931</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a5de0162fac7c57cab62e5bb81f0b5542"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a5de0162fac7c57cab62e5bb81f0b5542">llvm::TargetLoweringBase::getStackPointerRegisterToSaveRestore</a></div><div class="ttdeci">Register getStackPointerRegisterToSaveRestore() const</div><div class="ttdoc">If a physical register, this specifies the register that llvm.savestack/llvm.restorestack should save...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01827">TargetLowering.h:1827</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator_html_a634b9aa909970c15fecc431125905432"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#a634b9aa909970c15fecc431125905432">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PHI_iterator::PHI_iterator</a></div><div class="ttdeci">PHI_iterator(LDVSSAPhi *P, bool)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03990">InstrRefBasedImpl.cpp:3990</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a646db2e0057baacab64c8351e04a1b0d"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a646db2e0057baacab64c8351e04a1b0d">llvm::TargetInstrInfo::isCopyInstr</a></div><div class="ttdeci">std::optional&lt; DestSourcePair &gt; isCopyInstr(const MachineInstr &amp;MI) const</div><div class="ttdoc">If the specific machine instruction is a instruction that moves/copies value from one register to ano...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01035">TargetInstrInfo.h:1035</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a897a36c61777b2428a0bd38d79f70a38"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a897a36c61777b2428a0bd38d79f70a38">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PhiT</a></div><div class="ttdeci">LDVSSAPhi PhiT</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03974">InstrRefBasedImpl.cpp:3974</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00492">Compiler.h:492</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a563ffc2ff61c499b3be2e00100cb72fa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">llvm::SmallVectorImpl::erase</a></div><div class="ttdeci">iterator erase(const_iterator CI)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00741">SmallVector.h:741</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator_html_acbbbcc887540e8d1c4a7f03ef18d0233"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#acbbbcc887540e8d1c4a7f03ef18d0233">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PHI_iterator::operator!=</a></div><div class="ttdeci">bool operator!=(const PHI_iterator &amp;X) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03998">InstrRefBasedImpl.cpp:3998</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html_ab797179b6d9bdda6c2f182fbb8011704"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html#ab797179b6d9bdda6c2f182fbb8011704">LiveDebugValues::ValueIDNum::asU64</a></div><div class="ttdeci">uint64_t asU64() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00139">InstrRefBasedImpl.h:139</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValueProperties_html_a87d598e34086fb45a3a64638bdc6097e"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValueProperties.html#a87d598e34086fb45a3a64638bdc6097e">LiveDebugValues::DbgValueProperties::DIExpr</a></div><div class="ttdeci">const DIExpression * DIExpr</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00269">InstrRefBasedImpl.h:269</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubRegIndexIterator_html"><div class="ttname"><a href="classllvm_1_1MCSubRegIndexIterator.html">llvm::MCSubRegIndexIterator</a></div><div class="ttdoc">Iterator that enumerates the sub-registers of a Reg and the associated sub-register indices.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00610">MCRegisterInfo.h:610</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_abb4ce3bc3096a12d4b93460bf78bcf95"><div class="ttname"><a href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in it</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00081">README-SSE.txt:81</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7dc3069afa2ce5ea62ac2eb183e51c00"><div class="ttname"><a href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">llvm::none_of</a></div><div class="ttdeci">bool none_of(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::none_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01749">STLExtras.h:1749</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_ac588486afd7ad9e56feeeaf30a2db1c0"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#ac588486afd7ad9e56feeeaf30a2db1c0">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::GetPHIValue</a></div><div class="ttdeci">static BlockValueNum GetPHIValue(LDVSSAPhi *PHI)</div><div class="ttdoc">GetPHIValue - For the specified PHI instruction, return the value that it defines.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04070">InstrRefBasedImpl.cpp:4070</a></div></div>
<div class="ttc" id="aTargetFrameLowering_8h_html"><div class="ttname"><a href="TargetFrameLowering_8h.html">TargetFrameLowering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af2c351dad09a71aa08e1d85c67ae6e53"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(Register Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false, bool isRenamable=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00833">MachineOperand.h:833</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1UseBeforeDef_html_a32d518a616a8974fbaa7f68e48d0df50"><div class="ttname"><a href="structTransferTracker_1_1UseBeforeDef.html#a32d518a616a8974fbaa7f68e48d0df50">TransferTracker::UseBeforeDef::Var</a></div><div class="ttdeci">DebugVariable Var</div><div class="ttdoc">Identity of this variable.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00247">InstrRefBasedImpl.cpp:247</a></div></div>
<div class="ttc" id="aclassllvm_1_1PseudoSourceValue_html_a72fec4522e4d7a71936f0b491d1fbafe"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html#a72fec4522e4d7a71936f0b491d1fbafe">llvm::PseudoSourceValue::isAliased</a></div><div class="ttdeci">virtual bool isAliased(const MachineFrameInfo *) const</div><div class="ttdoc">Test whether the memory pointed to by this PseudoSourceValue may also be pointed to by an LLVM IR Val...</div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8cpp_source.html#l00047">PseudoSourceValue.cpp:47</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a3d106e52bda90530904b18edf24f2286"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a3d106e52bda90530904b18edf24f2286">LiveDebugValues::MLocTracker::NumRegs</a></div><div class="ttdeci">unsigned NumRegs</div><div class="ttdoc">Cached local copy of the number of registers the target has.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00662">InstrRefBasedImpl.h:662</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1SharedLiveDebugValues_1_1LDVImpl_html"><div class="ttname"><a href="classllvm_1_1SharedLiveDebugValues_1_1LDVImpl.html">llvm::SharedLiveDebugValues::LDVImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveDebugValues_8h_source.html#l00025">LiveDebugValues.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_ab13bd8c59060a1a21651041796177f8a"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#ab13bd8c59060a1a21651041796177f8a">llvm::MachineDominatorTree::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const MachineDomTreeNode *A, const MachineDomTreeNode *B) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00146">MachineDominators.h:146</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a069c4ae2290101bde0f8d6a5074dc72b"><div class="ttname"><a href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">llvm::succ_end</a></div><div class="ttdeci">Interval::succ_iterator succ_end(Interval *I)</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00102">Interval.h:102</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_ae118b50388837cac4d807896b91f111e"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#ae118b50388837cac4d807896b91f111e">LiveDebugValues::MLocTracker::MLocTracker</a></div><div class="ttdeci">MLocTracker(MachineFunction &amp;MF, const TargetInstrInfo &amp;TII, const TargetRegisterInfo &amp;TRI, const TargetLowering &amp;TLI)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00989">InstrRefBasedImpl.cpp:989</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa81eb67f09ee4944eaeeddbc54c0c0de"><div class="ttname"><a href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a></div><div class="ttdeci">auto lower_bound(R &amp;&amp;Range, T &amp;&amp;Value)</div><div class="ttdoc">Provide wrappers to std::lower_bound which take ranges instead of having to pass begin/end explicitly...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01923">STLExtras.h:1923</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_ac546420f6cd906a9b17e41c43e720e98"><div class="ttname"><a href="classTransferTracker.html#ac546420f6cd906a9b17e41c43e720e98">TransferTracker::isCalleeSaved</a></div><div class="ttdeci">bool isCalleeSaved(LocIdx L) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00278">InstrRefBasedImpl.cpp:278</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_ad34f7e3cd7a9add3ab2529e267b48004"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">llvm::TargetSubtargetInfo::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00095">TargetSubtargetInfo.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a40bf8f9579717d3f9be7640f1c6d678b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a40bf8f9579717d3f9be7640f1c6d678b">llvm::MachineBasicBlock::instrs</a></div><div class="ttdeci">instr_range instrs()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00304">MachineBasicBlock.h:304</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_a625f1469290a1b9bb1bc071a5392d3cb"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a625f1469290a1b9bb1bc071a5392d3cb">LiveDebugValues::InstrRefBasedLDV::InstrRefBasedLDV</a></div><div class="ttdeci">InstrRefBasedLDV()</div><div class="ttdoc">Default construct and initialize the pass.</div></div>
<div class="ttc" id="aTypeSize_8h_html"><div class="ttname"><a href="TypeSize_8h.html">TypeSize.h</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1Transfer_html_a8f3fd2af02224f971a011c03f5110db3"><div class="ttname"><a href="structTransferTracker_1_1Transfer.html#a8f3fd2af02224f971a011c03f5110db3">TransferTracker::Transfer::MBB</a></div><div class="ttdeci">MachineBasicBlock * MBB</div><div class="ttdoc">Position to insert DBG_VALUes.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00193">InstrRefBasedImpl.cpp:193</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1a90341ec0034ef3ce30ba4c96acf92173"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a90341ec0034ef3ce30ba4c96acf92173">llvm::lltok::bar</a></div><div class="ttdeci">@ bar</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00037">LLToken.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; MachineInstr *, 4 &gt;</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a73d25ebef02d1312bd901c694d7321ee"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a73d25ebef02d1312bd901c694d7321ee">LiveDebugValues::MLocTracker::writeRegMask</a></div><div class="ttdeci">void writeRegMask(const MachineOperand *MO, unsigned CurBB, unsigned InstID)</div><div class="ttdoc">Record a RegMask operand being executed.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01079">InstrRefBasedImpl.cpp:1079</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html">LiveDebugValues::ValueIDNum</a></div><div class="ttdoc">Unique identifier for a value defined by an instruction, as a value type.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00107">InstrRefBasedImpl.h:107</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_aec460b7ed48d97ed84ae2466b498763f"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aec460b7ed48d97ed84ae2466b498763f">llvm::MachineBasicBlock::insertAfterBundle</a></div><div class="ttdeci">instr_iterator insertAfterBundle(instr_iterator I, MachineInstr *MI)</div><div class="ttdoc">If I is bundled then insert MI into the instruction list after the end of the bundle,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00968">MachineBasicBlock.h:968</a></div></div>
<div class="ttc" id="aclassTransferTracker_1_1LocationAndQuality_html_af0b8f6f7382ed160594fea63e8341c5e"><div class="ttname"><a href="classTransferTracker_1_1LocationAndQuality.html#af0b8f6f7382ed160594fea63e8341c5e">TransferTracker::LocationAndQuality::LocationAndQuality</a></div><div class="ttdeci">LocationAndQuality()</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00306">InstrRefBasedImpl.cpp:306</a></div></div>
<div class="ttc" id="aclassllvm_1_1LexicalScope_html"><div class="ttname"><a href="classllvm_1_1LexicalScope.html">llvm::LexicalScope</a></div><div class="ttdoc">LexicalScope - This class is used to track scope information.</div><div class="ttdef"><b>Definition:</b> <a href="LexicalScopes_8h_source.html#l00044">LexicalScopes.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a56034ec173ce8feff8568c0e29462094"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a56034ec173ce8feff8568c0e29462094">llvm::detail::DenseSetImpl::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; ValueT &gt; V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00179">DenseSet.h:179</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_a7230438e78079233a5d7b3bc1d4f14b2"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#a7230438e78079233a5d7b3bc1d4f14b2">LiveDebugValues::DbgValue::setDbgOpIDs</a></div><div class="ttdeci">void setDbgOpIDs(ArrayRef&lt; DbgOpID &gt; NewIDs)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00540">InstrRefBasedImpl.h:540</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a4d834f9897d15e3a6349063b5d637cd8"><div class="ttname"><a href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">llvm::Function::getSubprogram</a></div><div class="ttdeci">DISubprogram * getSubprogram() const</div><div class="ttdoc">Get the attached subprogram.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01625">Metadata.cpp:1625</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a726366a0c91e91450e838f0c63ec69a5"><div class="ttname"><a href="classTransferTracker.html#a726366a0c91e91450e838f0c63ec69a5">TransferTracker::PendingDbgValues</a></div><div class="ttdeci">SmallVector&lt; MachineInstr *, 4 &gt; PendingDbgValues</div><div class="ttdoc">Temporary cache of DBG_VALUEs to be entered into the Transfers collection.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00238">InstrRefBasedImpl.cpp:238</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_af946f316ed42f8b5eb99735a3b587ab5"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">llvm::MCRegisterInfo::getNumRegs</a></div><div class="ttdeci">unsigned getNumRegs() const</div><div class="ttdoc">Return the number of registers this target has (useful for sizing arrays holding per register informa...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00491">MCRegisterInfo.h:491</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallDenseSet_html"><div class="ttname"><a href="classllvm_1_1SmallDenseSet.html">llvm::SmallDenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set with some number of buckets stored inline.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00286">DenseSet.h:286</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_a071c490b55df738e65923aca2cb77a72"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a071c490b55df738e65923aca2cb77a72">LiveDebugValues::InstrRefBasedLDV::LiveIdxT</a></div><div class="ttdeci">DenseMap&lt; const MachineBasicBlock *, DbgValue * &gt; LiveIdxT</div><div class="ttdoc">Live in/out structure for the variable values: a per-block map of variables to their values.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l01055">InstrRefBasedImpl.h:1055</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a930c119c5ebcb496e7665a4521f42b94"><div class="ttname"><a href="classTransferTracker.html#a930c119c5ebcb496e7665a4521f42b94">TransferTracker::isEntryValueVariable</a></div><div class="ttdeci">bool isEntryValueVariable(const DebugVariable &amp;Var, const DIExpression *Expr) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00596">InstrRefBasedImpl.cpp:596</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallDenseMap_html"><div class="ttname"><a href="classllvm_1_1SmallDenseMap.html">llvm::SmallDenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00880">DenseMap.h:880</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a1aa4357710f3fd6e616e13b5c16dc0d8"><div class="ttname"><a href="classllvm_1_1BitVector.html#a1aa4357710f3fd6e616e13b5c16dc0d8">llvm::BitVector::set_bits</a></div><div class="ttdeci">iterator_range&lt; const_set_bits_iterator &gt; set_bits() const</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00133">BitVector.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_af2460aaecee28b4a96ea41286e8aa406"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#af2460aaecee28b4a96ea41286e8aa406">llvm::TargetRegisterInfo::getOffsetOpcodes</a></div><div class="ttdeci">virtual void getOffsetOpcodes(const StackOffset &amp;Offset, SmallVectorImpl&lt; uint64_t &gt; &amp;Ops) const</div><div class="ttdoc">Gets the DWARF expression opcodes for Offset.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00647">TargetRegisterInfo.cpp:647</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a854dc7a14b5443f6244301690474c7a0"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a854dc7a14b5443f6244301690474c7a0">llvm::DIExpression::convertToNonVariadicExpression</a></div><div class="ttdeci">static std::optional&lt; const DIExpression * &gt; convertToNonVariadicExpression(const DIExpression *Expr)</div><div class="ttdoc">If Expr is a valid single-location expression, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01492">DebugInfoMetadata.cpp:1492</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a8ed8c7355168afd27f9f47f505026c54"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a8ed8c7355168afd27f9f47f505026c54">LiveDebugValues::MLocTracker::setMLoc</a></div><div class="ttdeci">void setMLoc(LocIdx L, ValueIDNum Num)</div><div class="ttdoc">Set a locaiton to a certain value.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00822">InstrRefBasedImpl.h:822</a></div></div>
<div class="ttc" id="aMachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a87849514193302b75f50a8092f94b98a"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">llvm::TargetSubtargetInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - If register information is available, return it.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00127">TargetSubtargetInfo.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="aclassNewExpr_html"><div class="ttname"><a href="classNewExpr.html">NewExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ItaniumDemangle_8h_source.html#l01935">ItaniumDemangle.h:1935</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1LexicalScope_html_a15011e35c6917966641150d76521b2d7"><div class="ttname"><a href="classllvm_1_1LexicalScope.html#a15011e35c6917966641150d76521b2d7">llvm::LexicalScope::getDFSIn</a></div><div class="ttdeci">unsigned getDFSIn() const</div><div class="ttdef"><b>Definition:</b> <a href="LexicalScopes_8h_source.html#l00115">LexicalScopes.h:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocation_html"><div class="ttname"><a href="classllvm_1_1DILocation.html">llvm::DILocation</a></div><div class="ttdoc">Debug location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01605">DebugInfoMetadata.h:1605</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a9fffac2512fe651f0d5e37e27f5bd51c"><div class="ttname"><a href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">getContext - Return a reference to the LLVMContext associated with this function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00315">Function.cpp:315</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_aa11be25d68038f30cb3e3cbe1e28839b"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#aa11be25d68038f30cb3e3cbe1e28839b">LiveDebugValues::DbgValue::isUnjoinedPHI</a></div><div class="ttdeci">bool isUnjoinedPHI() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00569">InstrRefBasedImpl.h:569</a></div></div>
<div class="ttc" id="aInstrRefBasedImpl_8h_html_a09551aadf1cfb2c7160bcd6314b9f748"><div class="ttname"><a href="InstrRefBasedImpl_8h.html#a09551aadf1cfb2c7160bcd6314b9f748">NUM_LOC_BITS</a></div><div class="ttdeci">#define NUM_LOC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00051">InstrRefBasedImpl.h:51</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOp_html"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOp.html">LiveDebugValues::DbgOp</a></div><div class="ttdoc">TODO: Might pack better if we changed this to a Struct of Arrays, since MachineOperand is width 32,...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00282">InstrRefBasedImpl.h:282</a></div></div>
<div class="ttc" id="aTargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00235">Path.cpp:235</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_add403fcd8074cf38d737756d931a013f"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#add403fcd8074cf38d737756d931a013f">LiveDebugValues::DbgValue::getLocationOpCount</a></div><div class="ttdeci">unsigned getLocationOpCount() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00552">InstrRefBasedImpl.h:552</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1VLocTracker_html_aca54e84d4225a8bc8e218657ae04435e"><div class="ttname"><a href="classLiveDebugValues_1_1VLocTracker.html#aca54e84d4225a8bc8e218657ae04435e">LiveDebugValues::VLocTracker::Scopes</a></div><div class="ttdeci">SmallDenseMap&lt; DebugVariable, const DILocation *, 8 &gt; Scopes</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00976">InstrRefBasedImpl.h:976</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a00a76a729b319dc47beffbe07325565f"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a00a76a729b319dc47beffbe07325565f">llvm::sys::path::begin</a></div><div class="ttdeci">const_iterator begin(StringRef path, Style style=Style::native)</div><div class="ttdoc">Get begin iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00226">Path.cpp:226</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a552d84e8ccd1528ee7de663ac9750f99"><div class="ttname"><a href="classTransferTracker.html#a552d84e8ccd1528ee7de663ac9750f99">TransferTracker::ActiveVLocs</a></div><div class="ttdeci">DenseMap&lt; DebugVariable, ResolvedDbgValue &gt; ActiveVLocs</div><div class="ttdoc">Map from DebugVariable to it's current location and qualifying meta information.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00235">InstrRefBasedImpl.cpp:235</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_acf872fb0e884bca493cc867aac36ed79"><div class="ttname"><a href="classTransferTracker.html#acf872fb0e884bca493cc867aac36ed79">TransferTracker::flushDbgValues</a></div><div class="ttdeci">void flushDbgValues(MachineBasicBlock::iterator Pos, MachineBasicBlock *MBB)</div><div class="ttdoc">Helper to move created DBG_VALUEs into Transfers collection.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00581">InstrRefBasedImpl.cpp:581</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_af06b11c084b9a4ff7e063e146d4131d3"><div class="ttname"><a href="classTransferTracker.html#af06b11c084b9a4ff7e063e146d4131d3">TransferTracker::Transfers</a></div><div class="ttdeci">SmallVector&lt; Transfer, 32 &gt; Transfers</div><div class="ttdoc">Collection of transfers (DBG_VALUEs) to be inserted.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00219">InstrRefBasedImpl.cpp:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a658c61ad97794f6ab64b8331317dd285"><div class="ttname"><a href="classTransferTracker.html#a658c61ad97794f6ab64b8331317dd285">TransferTracker::recoverAsEntryValue</a></div><div class="ttdeci">bool recoverAsEntryValue(const DebugVariable &amp;Var, const DbgValueProperties &amp;Prop, const ValueIDNum &amp;Num)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00625">InstrRefBasedImpl.cpp:625</a></div></div>
<div class="ttc" id="aclassllvm_1_1LexicalScopes_html_a6478937e0927f9038e58dca2e03e38ab"><div class="ttname"><a href="classllvm_1_1LexicalScopes.html#a6478937e0927f9038e58dca2e03e38ab">llvm::LexicalScopes::getMachineBasicBlocks</a></div><div class="ttdeci">void getMachineBasicBlocks(const DILocation *DL, SmallPtrSetImpl&lt; const MachineBasicBlock * &gt; &amp;MBBs)</div><div class="ttdoc">getMachineBasicBlocks - Populate given set using machine basic blocks which have machine instructions...</div><div class="ttdef"><b>Definition:</b> <a href="LexicalScopes_8cpp_source.html#l00280">LexicalScopes.cpp:280</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2f883c895f4d244f4ed56ed8a8c160c1"><div class="ttname"><a href="namespacellvm.html#a2f883c895f4d244f4ed56ed8a8c160c1">llvm::operator!=</a></div><div class="ttdeci">bool operator!=(uint64_t V1, const APInt &amp;V2)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02040">APInt.h:2040</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocalVariable_html_a45c267092569766aa684c6ba3bae9634"><div class="ttname"><a href="classllvm_1_1DILocalVariable.html#a45c267092569766aa684c6ba3bae9634">llvm::DILocalVariable::isParameter</a></div><div class="ttdeci">bool isParameter() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03232">DebugInfoMetadata.h:3232</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_adaa0a69ac7f1c2df0cb82dfed74266b4"><div class="ttname"><a href="classTransferTracker.html#adaa0a69ac7f1c2df0cb82dfed74266b4">TransferTracker::loadInlocs</a></div><div class="ttdeci">void loadInlocs(MachineBasicBlock &amp;MBB, ValueTable &amp;MLocs, DbgOpIDMap &amp;DbgOpStore, const SmallVectorImpl&lt; std::pair&lt; DebugVariable, DbgValue &gt;&gt; &amp;VLocs, unsigned NumLocs)</div><div class="ttdoc">Load object with live-in variable values.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00432">InstrRefBasedImpl.cpp:432</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a3870dfac7df420149911b3e81c6c155a"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a3870dfac7df420149911b3e81c6c155a">LiveDebugValues::MLocTracker::TRI</a></div><div class="ttdeci">const TargetRegisterInfo &amp; TRI</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00625">InstrRefBasedImpl.h:625</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ace3ed0412f841777b7de55d47883890e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ace3ed0412f841777b7de55d47883890e">llvm::MachineBasicBlock::back</a></div><div class="ttdeci">MachineInstr &amp; back()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00289">MachineBasicBlock.h:289</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html_a29e1496690d23acbdb69c5b882f5bf45"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html#a29e1496690d23acbdb69c5b882f5bf45">LiveDebugValues::ValueIDNum::isPHI</a></div><div class="ttdeci">bool isPHI() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00137">InstrRefBasedImpl.h:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html"><div class="ttname"><a href="classllvm_1_1DIExpression.html">llvm::DIExpression</a></div><div class="ttdoc">DWARF expression.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02611">DebugInfoMetadata.h:2611</a></div></div>
<div class="ttc" id="aclassllvm_1_1LexicalScopes_html_a3134ce614dc1b5fc41522648d24ff7cb"><div class="ttname"><a href="classllvm_1_1LexicalScopes.html#a3134ce614dc1b5fc41522648d24ff7cb">llvm::LexicalScopes::initialize</a></div><div class="ttdeci">void initialize(const MachineFunction &amp;)</div><div class="ttdoc">initialize - Scan machine function and constuct lexical scope nest, resets the instance if necessary.</div><div class="ttdef"><b>Definition:</b> <a href="LexicalScopes_8cpp_source.html#l00051">LexicalScopes.cpp:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad7213433bd60dc33020246384dc18b9b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">llvm::MachineOperand::isFI</a></div><div class="ttdeci">bool isFI() const</div><div class="ttdoc">isFI - Tests if this is a MO_FrameIndex operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00339">MachineOperand.h:339</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_ad778dafd8a5d853569fe78079b6960b7"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ad778dafd8a5d853569fe78079b6960b7">LiveDebugValues::InstrRefBasedLDV::isCalleeSavedReg</a></div><div class="ttdeci">bool isCalleeSavedReg(Register R) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01317">InstrRefBasedImpl.cpp:1317</a></div></div>
<div class="ttc" id="aConstantMerge_8cpp_html_acf172e841018fd16e65771f5ade0b297"><div class="ttname"><a href="ConstantMerge_8cpp.html#acf172e841018fd16e65771f5ade0b297">replace</a></div><div class="ttdeci">static void replace(Module &amp;M, GlobalVariable *Old, GlobalVariable *New)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantMerge_8cpp_source.html#l00116">ConstantMerge.cpp:116</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOp_html_a17b174ad71c91584d987861d5e8e5d2d"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOp.html#a17b174ad71c91584d987861d5e8e5d2d">LiveDebugValues::DbgOp::ID</a></div><div class="ttdeci">ValueIDNum ID</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00284">InstrRefBasedImpl.h:284</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a7bcfe28f8a994ea7a5fff050f1c09fd2"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a7bcfe28f8a994ea7a5fff050f1c09fd2">LiveDebugValues::MLocTracker::TII</a></div><div class="ttdeci">const TargetInstrInfo &amp; TII</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00624">InstrRefBasedImpl.h:624</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a04922e6bf2f754ccfad845d7a0ec00a0"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a04922e6bf2f754ccfad845d7a0ec00a0">llvm::MCRegisterInfo::getNumSubRegIndices</a></div><div class="ttdeci">unsigned getNumSubRegIndices() const</div><div class="ttdoc">Return the number of sub-register indices understood by the target.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00498">MCRegisterInfo.h:498</a></div></div>
<div class="ttc" id="aclassTransferTracker_html"><div class="ttname"><a href="classTransferTracker.html">TransferTracker</a></div><div class="ttdoc">Tracker for converting machine value locations and variable values into variable locations (the outpu...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00177">InstrRefBasedImpl.cpp:177</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_ac1753e9184a776f25f017ac1022f2a13"><div class="ttname"><a href="classTransferTracker.html#ac1753e9184a776f25f017ac1022f2a13">TransferTracker::redefVar</a></div><div class="ttdeci">void redefVar(const MachineInstr &amp;MI)</div><div class="ttdoc">Change a variable value after encountering a DBG_VALUE inside a block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00666">InstrRefBasedImpl.cpp:666</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a38e79c83dad9b9a5f38c9693371a8709"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a></div><div class="ttdeci">the resulting code requires compare and branches when and if * p</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00396">README.txt:396</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a787205c8858064b56bad25b823faf3d0"><div class="ttname"><a href="classTransferTracker.html#a787205c8858064b56bad25b823faf3d0">TransferTracker::transferMlocs</a></div><div class="ttdeci">void transferMlocs(LocIdx Src, LocIdx Dst, MachineBasicBlock::iterator Pos)</div><div class="ttdoc">Transfer variables based on Src to be based on Dst.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00881">InstrRefBasedImpl.cpp:881</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a999795324f5e7c578a97992d780080f1"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a999795324f5e7c578a97992d780080f1">llvm::MachineInstr::hasOneMemOperand</a></div><div class="ttdeci">bool hasOneMemOperand() const</div><div class="ttdoc">Return true if this instruction has exactly one MachineMemOperand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00746">MachineInstr.h:746</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1ResolvedDbgValue_html_a8b103990018b8ee3072ebbf858b53a69"><div class="ttname"><a href="structTransferTracker_1_1ResolvedDbgValue.html#a8b103990018b8ee3072ebbf858b53a69">TransferTracker::ResolvedDbgValue::loc_indices</a></div><div class="ttdeci">auto loc_indices() const</div><div class="ttdoc">Returns all the LocIdx values used in this struct, in the order in which they appear as operands in t...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00210">InstrRefBasedImpl.cpp:210</a></div></div>
<div class="ttc" id="anamespaceLiveDebugValues_html"><div class="ttname"><a href="namespaceLiveDebugValues.html">LiveDebugValues</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00031">InstrRefBasedImpl.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1abf5ba3ee47e95dae362eb24b6d4f48e5"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1abf5ba3ee47e95dae362eb24b6d4f48e5">llvm::lltok::equal</a></div><div class="ttdeci">@ equal</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00025">LLToken.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a525a66a605fbe3145dbac17bccbde262"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a525a66a605fbe3145dbac17bccbde262">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::GetUndefVal</a></div><div class="ttdeci">static BlockValueNum GetUndefVal(LDVSSABlock *BB, LDVSSAUpdater *Updater)</div><div class="ttdoc">GetUndefVal - Normally creates an IMPLICIT_DEF instruction with a new register.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04022">InstrRefBasedImpl.cpp:4022</a></div></div>
<div class="ttc" id="anamespaceLiveDebugValues_html_a6f207179e6aa077fad11dc82a07bbfc8"><div class="ttname"><a href="namespaceLiveDebugValues.html#a6f207179e6aa077fad11dc82a07bbfc8">LiveDebugValues::FuncValueTable</a></div><div class="ttdeci">std::unique_ptr&lt; ValueTable[]&gt; FuncValueTable</div><div class="ttdoc">Type for a table-of-table-of-values, i.e., the collection of either live-in or live-out values for ea...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00212">InstrRefBasedImpl.h:212</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOp_html_aa155f40c0f7c56ae215ee41a52d5f9ad"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOp.html#aa155f40c0f7c56ae215ee41a52d5f9ad">LiveDebugValues::DbgOp::IsConst</a></div><div class="ttdeci">bool IsConst</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00287">InstrRefBasedImpl.h:287</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_afad351d7bf10ac0446b64e7827634e94"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a></div><div class="ttdeci">LLVMContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00066">NVVMIntrRange.cpp:66</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a026d751e97a7bf15e1220019bd02fc99"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a026d751e97a7bf15e1220019bd02fc99">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::ValueIsNewPHI</a></div><div class="ttdeci">static LDVSSAPhi * ValueIsNewPHI(BlockValueNum Val, LDVSSAUpdater *Updater)</div><div class="ttdoc">ValueIsNewPHI - Like ValueIsPHI but also check if the PHI has no source operands, i....</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04061">InstrRefBasedImpl.cpp:4061</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_ab17b4ddf05538aab17dbb53a0f5f4329"><div class="ttname"><a href="classTransferTracker.html#ab17b4ddf05538aab17dbb53a0f5f4329">TransferTracker::emitMOLoc</a></div><div class="ttdeci">MachineInstrBuilder emitMOLoc(const MachineOperand &amp;MO, const DebugVariable &amp;Var, const DbgValueProperties &amp;Properties)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00919">InstrRefBasedImpl.cpp:919</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_acbfb6abfd838f71de0078b0ed13c47a9"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#acbfb6abfd838f71de0078b0ed13c47a9">LiveDebugValues::DbgValue::getDbgOpIDs</a></div><div class="ttdeci">ArrayRef&lt; DbgOpID &gt; getDbgOpIDs() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00525">InstrRefBasedImpl.h:525</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a8cd802dcaed35e1f28ea3cbe4af4eff5"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a8cd802dcaed35e1f28ea3cbe4af4eff5">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00174">DenseSet.h:174</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4046212ebc647b17e811837ae4ea3afd"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">llvm::MachineOperand::isKill</a></div><div class="ttdeci">bool isKill() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00399">MachineOperand.h:399</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a758eab2c8cea4d5486874624dba188b4"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a758eab2c8cea4d5486874624dba188b4">LiveDebugValues::MLocTracker::StackSlotPos</a></div><div class="ttdeci">std::pair&lt; unsigned short, unsigned short &gt; StackSlotPos</div><div class="ttdoc">Pair for describing a position within a stack slot – first the size in bits, then the offset.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00677">InstrRefBasedImpl.h:677</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_ab115d98ec0127b8b019aae3e5e296efc"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#ab115d98ec0127b8b019aae3e5e296efc">LiveDebugValues::MLocTracker::Masks</a></div><div class="ttdeci">SmallVector&lt; std::pair&lt; const MachineOperand *, unsigned &gt;, 32 &gt; Masks</div><div class="ttdoc">Collection of register mask operands that have been observed.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00673">InstrRefBasedImpl.h:673</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1UseBeforeDef_html_a4ea6a66deb8d30b11cceab65d5cda94e"><div class="ttname"><a href="structTransferTracker_1_1UseBeforeDef.html#a4ea6a66deb8d30b11cceab65d5cda94e">TransferTracker::UseBeforeDef::Properties</a></div><div class="ttdeci">DbgValueProperties Properties</div><div class="ttdoc">Additional variable properties.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00249">InstrRefBasedImpl.cpp:249</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a13bd3dae94013a7bf38afc9391c8fa8f"><div class="ttname"><a href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">llvm::Register::isPhysical</a></div><div class="ttdeci">bool isPhysical() const</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00097">Register.h:97</a></div></div>
<div class="ttc" id="aTargetLowering_8h_html"><div class="ttname"><a href="TargetLowering_8h.html">TargetLowering.h</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValueProperties_html_aa487b5a6fe6c9f4fac7f809c488f3029"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValueProperties.html#aa487b5a6fe6c9f4fac7f809c488f3029">LiveDebugValues::DbgValueProperties::isJoinable</a></div><div class="ttdeci">bool isJoinable(const DbgValueProperties &amp;Other) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00251">InstrRefBasedImpl.h:251</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1Transfer_html_ab78f8c81ffd3f747bc238579afba9299"><div class="ttname"><a href="structTransferTracker_1_1Transfer.html#ab78f8c81ffd3f747bc238579afba9299">TransferTracker::Transfer::Pos</a></div><div class="ttdeci">MachineBasicBlock::instr_iterator Pos</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00192">InstrRefBasedImpl.cpp:192</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1PseudoSourceValue_html_ab1969256cc373d72874932779a45b46c"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html#ab1969256cc373d72874932779a45b46c">llvm::PseudoSourceValue::kind</a></div><div class="ttdeci">unsigned kind() const</div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8h_source.html#l00066">PseudoSourceValue.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdoc">TargetInstrInfo - Interface to description of machine instruction set.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00098">TargetInstrInfo.h:98</a></div></div>
<div class="ttc" id="aTarget_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1UseBeforeDef_html_a6b4cddff9a13c0b5b465ecab3fdc931e"><div class="ttname"><a href="structTransferTracker_1_1UseBeforeDef.html#a6b4cddff9a13c0b5b465ecab3fdc931e">TransferTracker::UseBeforeDef::Values</a></div><div class="ttdeci">SmallVector&lt; DbgOp &gt; Values</div><div class="ttdoc">Value of this variable, def'd in block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00245">InstrRefBasedImpl.cpp:245</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a0114254853f29888343670f0159a6634"><div class="ttname"><a href="classTransferTracker.html#a0114254853f29888343670f0159a6634">TransferTracker::loadVarInloc</a></div><div class="ttdeci">void loadVarInloc(MachineBasicBlock &amp;MBB, DbgOpIDMap &amp;DbgOpStore, const DenseMap&lt; ValueIDNum, LocationAndQuality &gt; &amp;ValueToLoc, DebugVariable Var, DbgValue Value)</div><div class="ttdoc">For a variable Var with the live-in value Value, attempts to resolve the DbgValue to a concrete DBG_V...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00346">InstrRefBasedImpl.cpp:346</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a66a31574ce11e5d8dc78ed9a845305c2"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a66a31574ce11e5d8dc78ed9a845305c2">LiveDebugValues::MLocTracker::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Wipe any un-necessary location records after traversing a block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00798">InstrRefBasedImpl.h:798</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocalVariable_html"><div class="ttname"><a href="classllvm_1_1DILocalVariable.html">llvm::DILocalVariable</a></div><div class="ttdoc">Local variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03170">DebugInfoMetadata.h:3170</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1ResolvedDbgValue_html_a1950d59e67278bcf2a7585a02de976a7"><div class="ttname"><a href="structTransferTracker_1_1ResolvedDbgValue.html#a1950d59e67278bcf2a7585a02de976a7">TransferTracker::ResolvedDbgValue::Ops</a></div><div class="ttdeci">SmallVector&lt; ResolvedDbgOp &gt; Ops</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00201">InstrRefBasedImpl.cpp:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1IndexedMap_html_a0ab3774b84ae7022216d40470cc59ecb"><div class="ttname"><a href="classllvm_1_1IndexedMap.html#a0ab3774b84ae7022216d40470cc59ecb">llvm::IndexedMap::size</a></div><div class="ttdeci">StorageT::size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="IndexedMap_8h_source.html#l00078">IndexedMap.h:78</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a48b9880cdbbdc53b8e5446db5dede09b"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a48b9880cdbbdc53b8e5446db5dede09b">LiveDebugValues::MLocTracker::getNumLocs</a></div><div class="ttdeci">unsigned getNumLocs() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00776">InstrRefBasedImpl.h:776</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3ddd708642d60c1661992ff8ba1b215d"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">llvm::MachineBasicBlock::succ_end</a></div><div class="ttdeci">succ_iterator succ_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00375">MachineBasicBlock.h:375</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a79f160cf45e05ebc07c2751e0bd4d944"><div class="ttname"><a href="classTransferTracker.html#a79f160cf45e05ebc07c2751e0bd4d944">TransferTracker::MF</a></div><div class="ttdeci">MachineFunction &amp; MF</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00185">InstrRefBasedImpl.cpp:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator_html_af9a06cba99c4f751a4c9397b9dcdd4b8"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#af9a06cba99c4f751a4c9397b9dcdd4b8">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PHI_iterator::getIncomingBlock</a></div><div class="ttdeci">LDVSSABlock * getIncomingBlock()</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04002">InstrRefBasedImpl.cpp:4002</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a2ceb7dab8f0063eec8dff6df6d2a3eda"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a2ceb7dab8f0063eec8dff6df6d2a3eda">LiveDebugValues::MLocTracker::TLI</a></div><div class="ttdeci">const TargetLowering &amp; TLI</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00626">InstrRefBasedImpl.h:626</a></div></div>
<div class="ttc" id="astructllvm_1_1less__first_html"><div class="ttname"><a href="structllvm_1_1less__first.html">llvm::less_first</a></div><div class="ttdoc">Function object to check whether the first component of a std::pair compares less than the first comp...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01477">STLExtras.h:1477</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a3f7a45f6e10668a5f702e26bca80d18e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00526">MachineInstr.h:526</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdeci">@ A</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00034">ARMBaseInfo.h:34</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_af39200a4599a5fc61a89ca83ce64598a"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#af39200a4599a5fc61a89ca83ce64598a">LiveDebugValues::MLocTracker::locIDToSpillIdx</a></div><div class="ttdeci">StackSlotPos locIDToSpillIdx(unsigned ID) const</div><div class="ttdoc">Returns the spill-slot size/offs that a location ID corresponds to.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00769">InstrRefBasedImpl.h:769</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">llvm::IRSimilarity::Illegal</a></div><div class="ttdeci">@ Illegal</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html"><div class="ttname"><a href="classllvm_1_1TargetLowering.html">llvm::TargetLowering</a></div><div class="ttdoc">This class defines information used to lower LLVM code to legal SelectionDAG operators that the targe...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03515">TargetLowering.h:3515</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a241be1469eeaecff6550f375c7ce9846"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a241be1469eeaecff6550f375c7ce9846">llvm::MachineOperand::getRegMask</a></div><div class="ttdeci">const uint32_t * getRegMask() const</div><div class="ttdoc">getRegMask - Returns a bit mask of registers preserved by this RegMask operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00659">MachineOperand.h:659</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubRegIndexIterator_html_a4bc33f765fada85ad09c4910d122832d"><div class="ttname"><a href="classllvm_1_1MCSubRegIndexIterator.html#a4bc33f765fada85ad09c4910d122832d">llvm::MCSubRegIndexIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Returns true if this iterator is not yet at the end.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00633">MCRegisterInfo.h:633</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a9b700e192036873e9756f231c9213a34"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a9b700e192036873e9756f231c9213a34">LiveDebugValues::MLocTracker::LocIDToLocIdx</a></div><div class="ttdeci">std::vector&lt; LocIdx &gt; LocIDToLocIdx</div><div class="ttdoc">&quot;Map&quot; of machine location IDs (i.e., raw register or spill number) to the LocIdx key / number for tha...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00643">InstrRefBasedImpl.h:643</a></div></div>
<div class="ttc" id="aSSAUpdaterImpl_8h_html"><div class="ttname"><a href="SSAUpdaterImpl_8h.html">SSAUpdaterImpl.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00045">TargetRegisterInfo.h:45</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOp_html_a645a31ec228d2d3f5ec064b726514cd2"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOp.html#a645a31ec228d2d3f5ec064b726514cd2">LiveDebugValues::DbgOp::dump</a></div><div class="ttdeci">void dump(const MLocTracker *MTrack) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00952">InstrRefBasedImpl.cpp:952</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1UseBeforeDef_html"><div class="ttname"><a href="structTransferTracker_1_1UseBeforeDef.html">TransferTracker::UseBeforeDef</a></div><div class="ttdoc">Record of a use-before-def: created when a value that's live-in to the current block isn't available ...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00243">InstrRefBasedImpl.cpp:243</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a1ba7a4f9025c38ba1d2d612e49551dcb"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a1ba7a4f9025c38ba1d2d612e49551dcb">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::CreateEmptyPHI</a></div><div class="ttdeci">static BlockValueNum CreateEmptyPHI(LDVSSABlock *BB, unsigned NumPreds, LDVSSAUpdater *Updater)</div><div class="ttdoc">CreateEmptyPHI - Create a (representation of a) PHI in the given block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04036">InstrRefBasedImpl.cpp:4036</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgOpIDMap_html"><div class="ttname"><a href="classLiveDebugValues_1_1DbgOpIDMap.html">LiveDebugValues::DbgOpIDMap</a></div><div class="ttdoc">Class storing the complete set of values that are observed by DbgValues within the current function.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00371">InstrRefBasedImpl.h:371</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1ResolvedDbgValue_html_a4883f929e1d52849ed5911e1ffad6e8a"><div class="ttname"><a href="structTransferTracker_1_1ResolvedDbgValue.html#a4883f929e1d52849ed5911e1ffad6e8a">TransferTracker::ResolvedDbgValue::Properties</a></div><div class="ttdeci">DbgValueProperties Properties</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00202">InstrRefBasedImpl.cpp:202</a></div></div>
<div class="ttc" id="aPseudoSourceValue_8h_html"><div class="ttname"><a href="PseudoSourceValue_8h.html">PseudoSourceValue.h</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_ab2c943894d8d91dead449b33a77981c5"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#ab2c943894d8d91dead449b33a77981c5">llvm::MCRegisterInfo::getSubRegIndex</a></div><div class="ttdeci">unsigned getSubRegIndex(MCRegister RegNo, MCRegister SubRegNo) const</div><div class="ttdoc">For a given register pair, return the sub-register index if the second register is a sub-register of ...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8cpp_source.html#l00044">MCRegisterInfo.cpp:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdoc">Describe properties that are true of each instruction in the target description file.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00198">MCInstrDesc.h:198</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_ae1a29742ce2fd47f4b4769dfe5a44f9e"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#ae1a29742ce2fd47f4b4769dfe5a44f9e">LiveDebugValues::MLocTracker::MF</a></div><div class="ttdeci">MachineFunction &amp; MF</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00623">InstrRefBasedImpl.h:623</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_afd78a5b47f366715a6871891a6ad5fb0"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#afd78a5b47f366715a6871891a6ad5fb0">LiveDebugValues::MLocTracker::getSpillMLoc</a></div><div class="ttdeci">LocIdx getSpillMLoc(unsigned SpillID)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00903">InstrRefBasedImpl.h:903</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValueProperties_html_a7f88fbb422e5e0d5c0e227b3df0bd8a8"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValueProperties.html#a7f88fbb422e5e0d5c0e227b3df0bd8a8">LiveDebugValues::DbgValueProperties::Indirect</a></div><div class="ttdeci">bool Indirect</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00270">InstrRefBasedImpl.h:270</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a3ac9865fa1ab348b64b4366cfe103f74"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a3ac9865fa1ab348b64b4366cfe103f74">llvm::MachineOperand::getInstrRefInstrIndex</a></div><div class="ttdeci">unsigned getInstrRefInstrIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00597">MachineOperand.h:597</a></div></div>
<div class="ttc" id="aMachineInstrBundle_8h_html"><div class="ttname"><a href="MachineInstrBundle_8h.html">MachineInstrBundle.h</a></div></div>
<div class="ttc" id="aLexicalScopes_8h_html"><div class="ttname"><a href="LexicalScopes_8h.html">LexicalScopes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOpID_html_aa91469b374d4e14c8e445dc79420c850"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOpID.html#aa91469b374d4e14c8e445dc79420c850">LiveDebugValues::DbgOpID::isConst</a></div><div class="ttdeci">bool isConst() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00359">InstrRefBasedImpl.h:359</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgOpIDMap_html_a1bf84d11412de4442279efd24fd7fb8d"><div class="ttname"><a href="classLiveDebugValues_1_1DbgOpIDMap.html#a1bf84d11412de4442279efd24fd7fb8d">LiveDebugValues::DbgOpIDMap::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00401">InstrRefBasedImpl.h:401</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ad0b3d8447f88377b62d9c019f3c4e118"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00642">SmallVector.h:642</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5ee0a415cf089775fd277550b257f74e"><div class="ttname"><a href="namespacellvm.html#a5ee0a415cf089775fd277550b257f74e">llvm::operator&lt;&lt;</a></div><div class="ttdeci">raw_ostream &amp; operator&lt;&lt;(raw_ostream &amp;OS, const APFixedPoint &amp;FX)</div><div class="ttdef"><b>Definition:</b> <a href="APFixedPoint_8h_source.html#l00292">APFixedPoint.h:292</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_a4fcc5fc74d98f09bd495e93cec779cbc"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a4fcc5fc74d98f09bd495e93cec779cbc">LiveDebugValues::InstrRefBasedLDV::LiveInsT</a></div><div class="ttdeci">SmallVector&lt; SmallVector&lt; VarAndLoc, 8 &gt;, 8 &gt; LiveInsT</div><div class="ttdoc">Vector (per block) of a collection (inner smallvector) of live-ins.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l01064">InstrRefBasedImpl.h:1064</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab0789854909cf47f640a85fa2bac29c7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">llvm::MachineFunction::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00870">MachineFunction.h:870</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocalVariable_html_ac8c4cb4dde7067286d3e3ce80bf77224"><div class="ttname"><a href="classllvm_1_1DILocalVariable.html#ac8c4cb4dde7067286d3e3ce80bf77224">llvm::DILocalVariable::isValidLocationForIntrinsic</a></div><div class="ttdeci">bool isValidLocationForIntrinsic(const DILocation *DL) const</div><div class="ttdoc">Check that a location is valid for this variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03249">DebugInfoMetadata.h:3249</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ad04539d64efd58e70c5e828739cf718e"><div class="ttname"><a href="classllvm_1_1StringRef.html#ad04539d64efd58e70c5e828739cf718e">llvm::StringRef::data</a></div><div class="ttdeci">const char * data() const</div><div class="ttdoc">data - Get a pointer to the start of the string (which may not be null terminated).</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00131">StringRef.h:131</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LexicalScope_html_a6cd93562d70581c0111c3642edc3bc83"><div class="ttname"><a href="classllvm_1_1LexicalScope.html#a6cd93562d70581c0111c3642edc3bc83">llvm::LexicalScope::getDFSOut</a></div><div class="ttdeci">unsigned getDFSOut() const</div><div class="ttdef"><b>Definition:</b> <a href="LexicalScopes_8h_source.html#l00113">LexicalScopes.h:113</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a2a28f143303b39650c069b1ce0925287"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a2a28f143303b39650c069b1ce0925287">LiveDebugValues::MLocTracker::getLocID</a></div><div class="ttdeci">unsigned getLocID(Register Reg)</div><div class="ttdoc">Produce location ID number for a Register.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00726">InstrRefBasedImpl.h:726</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00075">BitVector.h:75</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1LocIdx_html_a76c83b1cb30fe85e09f35ad1103fe75b"><div class="ttname"><a href="classLiveDebugValues_1_1LocIdx.html#a76c83b1cb30fe85e09f35ad1103fe75b">LiveDebugValues::LocIdx::asU64</a></div><div class="ttdeci">uint64_t asU64() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00065">InstrRefBasedImpl.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a84a697406586a81c7ece9b9818929ab6"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a84a697406586a81c7ece9b9818929ab6">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::AddPHIOperand</a></div><div class="ttdeci">static void AddPHIOperand(LDVSSAPhi *PHI, BlockValueNum Val, LDVSSABlock *Pred)</div><div class="ttdoc">AddPHIOperand - Add the specified value as an operand of the PHI for the specified predecessor block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04046">InstrRefBasedImpl.cpp:4046</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00687">SmallVector.h:687</a></div></div>
<div class="ttc" id="aclassllvm_1_1PseudoSourceValue_html"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html">llvm::PseudoSourceValue</a></div><div class="ttdoc">Special value supplied for machine level alias analysis.</div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8h_source.html#l00035">PseudoSourceValue.h:35</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html_acd482282b8eb9755d8ac0e82ba23c20b"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html#acd482282b8eb9755d8ac0e82ba23c20b">LiveDebugValues::ValueIDNum::getBlock</a></div><div class="ttdeci">uint64_t getBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00134">InstrRefBasedImpl.h:134</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a3f277366a28b13874114e6f3172404fd"><div class="ttname"><a href="classTransferTracker.html#a3f277366a28b13874114e6f3172404fd">TransferTracker::UseBeforeDefVariables</a></div><div class="ttdeci">DenseSet&lt; DebugVariable &gt; UseBeforeDefVariables</div><div class="ttdoc">The set of variables that are in UseBeforeDefs and can become a location once the relevant value is d...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00263">InstrRefBasedImpl.cpp:263</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html_af0ee865517c9747fa74f9eb3ed54578a"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html#af0ee865517c9747fa74f9eb3ed54578a">LiveDebugValues::ValueIDNum::getLoc</a></div><div class="ttdeci">uint64_t getLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00136">InstrRefBasedImpl.h:136</a></div></div>
<div class="ttc" id="aMem2Reg_8cpp_html_a6fde3eb6ca09ddf2fd76432176d817bb"><div class="ttname"><a href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a></div><div class="ttdeci">Promote Memory to Register</div><div class="ttdef"><b>Definition:</b> <a href="Mem2Reg_8cpp_source.html#l00110">Mem2Reg.cpp:110</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_ad4b28d7abd903bca80aebdd56d893e8b"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#ad4b28d7abd903bca80aebdd56d893e8b">LiveDebugValues::MLocTracker::defReg</a></div><div class="ttdeci">void defReg(Register R, unsigned BB, unsigned Inst)</div><div class="ttdoc">Record a definition of the specified register at the given block / inst.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00853">InstrRefBasedImpl.h:853</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValueProperties_html_ae1a6cd7bbbd214de5c1990def99b1c57"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValueProperties.html#ae1a6cd7bbbd214de5c1990def99b1c57">LiveDebugValues::DbgValueProperties::getLocationOpCount</a></div><div class="ttdeci">unsigned getLocationOpCount() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00265">InstrRefBasedImpl.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugVariable_html_ae5969d48a72e8641cb15bc81a3bb1af8"><div class="ttname"><a href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">llvm::DebugVariable::getVariable</a></div><div class="ttdeci">const DILocalVariable * getVariable() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03758">DebugInfoMetadata.h:3758</a></div></div>
<div class="ttc" id="aAssignmentTrackingAnalysis_8cpp_html_a5dacd5924df31c782e0fd0fdada03e8b"><div class="ttname"><a href="AssignmentTrackingAnalysis_8cpp.html#a5dacd5924df31c782e0fd0fdada03e8b">MaxNumBlocks</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxNumBlocks(&quot;debug-ata-max-blocks&quot;, cl::init(10000), cl::desc(&quot;Maximum num basic blocks before debug info dropped&quot;), cl::Hidden)</div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_a127bb33bfa67d26975c12bf33568af48"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#a127bb33bfa67d26975c12bf33568af48">LiveDebugValues::DbgValue::Properties</a></div><div class="ttdeci">DbgValueProperties Properties</div><div class="ttdoc">Qualifiers for the ValueIDNum above.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00455">InstrRefBasedImpl.h:455</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegUnitRootIterator_html_abd29ecab24058fdf823addcad29c6939"><div class="ttname"><a href="classllvm_1_1MCRegUnitRootIterator.html#abd29ecab24058fdf823addcad29c6939">llvm::MCRegUnitRootIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Check if the iterator is at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00773">MCRegisterInfo.h:773</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_af5302d38d9a16eee93f13a1579c8773d"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#af5302d38d9a16eee93f13a1579c8773d">llvm::MachineFrameInfo::isDeadObjectIndex</a></div><div class="ttdeci">bool isDeadObjectIndex(int ObjectIdx) const</div><div class="ttdoc">Returns true if the specified index corresponds to a dead object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00745">MachineFrameInfo.h:745</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1ResolvedDbgOp_html"><div class="ttname"><a href="structLiveDebugValues_1_1ResolvedDbgOp.html">LiveDebugValues::ResolvedDbgOp</a></div><div class="ttdoc">A DbgOp whose ID (if any) has resolved to an actual location, LocIdx.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00304">InstrRefBasedImpl.h:304</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a12a921bb359eb2ab39e43e4c4ba780f3"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a12a921bb359eb2ab39e43e4c4ba780f3">LiveDebugValues::MLocTracker::LocIdxToLocID</a></div><div class="ttdeci">IndexedMap&lt; unsigned, LocIdxToIndexFunctor &gt; LocIdxToLocID</div><div class="ttdoc">Inverse map of LocIDToLocIdx.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00646">InstrRefBasedImpl.h:646</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a819b717d29c6c488a332fefeeb3815ba"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a819b717d29c6c488a332fefeeb3815ba">foo</a></div><div class="ttdeci">&lt; i32 &gt; tmp foo</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00383">README.txt:383</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1Transfer_html"><div class="ttname"><a href="structTransferTracker_1_1Transfer.html">TransferTracker::Transfer</a></div><div class="ttdoc">Record of all changes in variable locations at a block position.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00191">InstrRefBasedImpl.cpp:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html_a4c1c1093a7749409c70838678514cc7c"><div class="ttname"><a href="classllvm_1_1Twine.html#a4c1c1093a7749409c70838678514cc7c">llvm::Twine::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">Return the twine contents as a std::string.</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8cpp_source.html#l00017">Twine.cpp:17</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a07dfd864dd46de4511b08a1487e2719b"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a07dfd864dd46de4511b08a1487e2719b">llvm::TargetRegisterInfo::regclasses</a></div><div class="ttdeci">iterator_range&lt; regclass_iterator &gt; regclasses() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00768">TargetRegisterInfo.h:768</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_aff0300fb8cbdf8778eeb19d4d5440660"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#aff0300fb8cbdf8778eeb19d4d5440660">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::BlkSucc_begin</a></div><div class="ttdeci">static BlkSucc_iterator BlkSucc_begin(BlkT *BB)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03978">InstrRefBasedImpl.cpp:3978</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1SpillLoc_html"><div class="ttname"><a href="structLiveDebugValues_1_1SpillLoc.html">LiveDebugValues::SpillLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00082">InstrRefBasedImpl.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocalVariable_html_accfecccb150b316edf9b05e2d1fe117f"><div class="ttname"><a href="classllvm_1_1DILocalVariable.html#accfecccb150b316edf9b05e2d1fe117f">llvm::DILocalVariable::getScope</a></div><div class="ttdeci">DILocalScope * getScope() const</div><div class="ttdoc">Get the local scope for this variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03228">DebugInfoMetadata.h:3228</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a0f6a2afd0fe02e3fcfcc5d75d186c21b"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a0f6a2afd0fe02e3fcfcc5d75d186c21b">LiveDebugValues::MLocTracker::loadFromArray</a></div><div class="ttdeci">void loadFromArray(ValueTable &amp;Locs, unsigned NewCurBB)</div><div class="ttdoc">Load values for each location from array of ValueIDNums.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00789">InstrRefBasedImpl.h:789</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01683">STLExtras.h:1683</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetPassConfig_html"><div class="ttname"><a href="classllvm_1_1TargetPassConfig.html">llvm::TargetPassConfig</a></div><div class="ttdoc">Target-Independent Code Generator Pass Configuration Options.</div><div class="ttdef"><b>Definition:</b> <a href="TargetPassConfig_8h_source.html#l00084">TargetPassConfig.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator_html_ad271e7b369ba8db92f87cffe8cd8fea1"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#ad271e7b369ba8db92f87cffe8cd8fea1">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PHI_iterator::PHI_iterator</a></div><div class="ttdeci">PHI_iterator(LDVSSAPhi *P)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03988">InstrRefBasedImpl.cpp:3988</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1VLocTracker_html_a736cdf55e7740ae9a7276e71795f7412"><div class="ttname"><a href="classLiveDebugValues_1_1VLocTracker.html#a736cdf55e7740ae9a7276e71795f7412">LiveDebugValues::VLocTracker::MBB</a></div><div class="ttdeci">MachineBasicBlock * MBB</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00977">InstrRefBasedImpl.h:977</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a40cd3c3332ecc579f7a92924714d6d5c"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a40cd3c3332ecc579f7a92924714d6d5c">llvm::DIExpression::isImplicit</a></div><div class="ttdeci">bool isImplicit() const</div><div class="ttdoc">Return whether this is an implicit location description.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01408">DebugInfoMetadata.cpp:1408</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_af8a50544090e81ac83601aff8f4b0142"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">llvm::SmallPtrSetImplBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00092">SmallPtrSet.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; DebugVariable &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a5c7000ce75181a4ad413b79566e11eea"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a5c7000ce75181a4ad413b79566e11eea">LiveDebugValues::MLocTracker::lookupOrTrackRegister</a></div><div class="ttdeci">LocIdx lookupOrTrackRegister(unsigned ID)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00837">InstrRefBasedImpl.h:837</a></div></div>
<div class="ttc" id="aclassTransferTracker_1_1LocationAndQuality_html_adc6ac95ebdfc8629136cea7fa61e3041"><div class="ttname"><a href="classTransferTracker_1_1LocationAndQuality.html#adc6ac95ebdfc8629136cea7fa61e3041">TransferTracker::LocationAndQuality::isBest</a></div><div class="ttdeci">bool isBest() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00316">InstrRefBasedImpl.cpp:316</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ae4ecf5483b94e2bb72967b80cc2008d2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">llvm::MachineOperand::clobbersPhysReg</a></div><div class="ttdeci">static bool clobbersPhysReg(const uint32_t *RegMask, MCRegister PhysReg)</div><div class="ttdoc">clobbersPhysReg - Returns true if this RegMask clobbers PhysReg.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00646">MachineOperand.h:646</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html">LiveDebugValues::DbgValue</a></div><div class="ttdoc">Class recording the (high level) value of a variable.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00441">InstrRefBasedImpl.h:441</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_aa10ee7493bddf2c751ca6e05451ef410"><div class="ttname"><a href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a082167d36582dece9770d881292f5cf6"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a082167d36582dece9770d881292f5cf6">llvm::MachineOperand::getInstrRefOpIndex</a></div><div class="ttdeci">unsigned getInstrRefOpIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00602">MachineOperand.h:602</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_af0c9cdac0acbe1745277e6e9544aa575"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#af0c9cdac0acbe1745277e6e9544aa575">LiveDebugValues::MLocTracker::dump_mloc_map</a></div><div class="ttdeci">LLVM_DUMP_METHOD void dump_mloc_map()</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01149">InstrRefBasedImpl.cpp:1149</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6110fc30bc7311a6cf99814530362e21"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">llvm::AMDGPU::Hwreg::Offset</a></div><div class="ttdeci">Offset</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00432">SIDefines.h:432</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_ac9ed6c9ebb7ede8539a8fe20bfeb36c2"><div class="ttname"><a href="classTransferTracker.html#ac9ed6c9ebb7ede8539a8fe20bfeb36c2">TransferTracker::clobberMloc</a></div><div class="ttdeci">void clobberMloc(LocIdx MLoc, MachineBasicBlock::iterator Pos, bool MakeUndef=true)</div><div class="ttdoc">Account for a location mloc being clobbered.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00773">InstrRefBasedImpl.cpp:773</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adf4e7878fc0b3b8dcde545178564190d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00110">DenseMap.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00069">MachineInstrBuilder.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a7cc5f1632a4c520497898439c17dc026"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a7cc5f1632a4c520497898439c17dc026">llvm::DIExpression::getFragmentInfo</a></div><div class="ttdeci">static std::optional&lt; FragmentInfo &gt; getFragmentInfo(expr_op_iterator Start, expr_op_iterator End)</div><div class="ttdoc">Retrieve the details of this fragment expression.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01555">DebugInfoMetadata.cpp:1555</a></div></div>
<div class="ttc" id="aGenericIteratedDominanceFrontier_8h_html"><div class="ttname"><a href="GenericIteratedDominanceFrontier_8h.html">GenericIteratedDominanceFrontier.h</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1ResolvedDbgOp_html_ae0c00dfb25229694b92d71199bfaca22"><div class="ttname"><a href="structLiveDebugValues_1_1ResolvedDbgOp.html#ae0c00dfb25229694b92d71199bfaca22">LiveDebugValues::ResolvedDbgOp::dump</a></div><div class="ttdeci">void dump(const MLocTracker *MTrack) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00945">InstrRefBasedImpl.cpp:945</a></div></div>
<div class="ttc" id="anamespacellvm_html_a086e9fbdb06276db7753101a08a63adf"><div class="ttname"><a href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">llvm::find</a></div><div class="ttdeci">auto find(R &amp;&amp;Range, const T &amp;Val)</div><div class="ttdoc">Provide wrappers to std::find which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01755">STLExtras.h:1755</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a7004354fbee1c8cd74ed9001915e1db5"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a7004354fbee1c8cd74ed9001915e1db5">llvm::SmallPtrSetImpl::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00408">SmallPtrSet.h:408</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_aca5720d701c102227e8ed09ffda54c73"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#aca5720d701c102227e8ed09ffda54c73">LiveDebugValues::InstrRefBasedLDV::ScopeToAssignBlocksT</a></div><div class="ttdeci">DenseMap&lt; const LexicalScope *, SmallPtrSet&lt; MachineBasicBlock *, 4 &gt; &gt; ScopeToAssignBlocksT</div><div class="ttdoc">Mapping from lexical scopes to blocks where variables in that scope are assigned.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l01075">InstrRefBasedImpl.h:1075</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_ac8e3a7e9be90841c721e738db731abbf"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ac8e3a7e9be90841c721e738db731abbf">LiveDebugValues::InstrRefBasedLDV::isCalleeSaved</a></div><div class="ttdeci">bool isCalleeSaved(LocIdx L) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01313">InstrRefBasedImpl.cpp:1313</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgOpIDMap_html_a0ff8cac5d6ff149c80d136de06314455"><div class="ttname"><a href="classLiveDebugValues_1_1DbgOpIDMap.html#a0ff8cac5d6ff149c80d136de06314455">LiveDebugValues::DbgOpIDMap::find</a></div><div class="ttdeci">DbgOp find(DbgOpID ID) const</div><div class="ttdoc">Returns the DbgOp associated with ID.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00393">InstrRefBasedImpl.h:393</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a5a6a05b7d9e9efb3f7b098c20fa0088a"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a></div><div class="ttdeci">multiplies can be turned into SHL s</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00370">README.txt:370</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a77330dfa97bc91b53a5e9e1d6f75cab1"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a77330dfa97bc91b53a5e9e1d6f75cab1">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PHI_begin</a></div><div class="ttdeci">static PHI_iterator PHI_begin(PhiT *PHI)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04005">InstrRefBasedImpl.cpp:4005</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a8facdaa3e5cf886085dbc81082bc8d41"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a8facdaa3e5cf886085dbc81082bc8d41">llvm::DIExpression::isDeref</a></div><div class="ttdeci">bool isDeref() const</div><div class="ttdoc">Return whether there is exactly one operator and it is a DW_OP_deref;.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01288">DebugInfoMetadata.cpp:1288</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_aefb3b77455d0e0f2e1e8b56604c63c0c"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#aefb3b77455d0e0f2e1e8b56604c63c0c">llvm::TargetRegisterInfo::getFrameRegister</a></div><div class="ttdeci">virtual Register getFrameRegister(const MachineFunction &amp;MF) const =0</div><div class="ttdoc">Debug information queries.</div></div>
<div class="ttc" id="aclassTransferTracker_html_aa1cef6664a3e135245b35927b6db11e5"><div class="ttname"><a href="classTransferTracker.html#aa1cef6664a3e135245b35927b6db11e5">TransferTracker::TII</a></div><div class="ttdeci">const TargetInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00179">InstrRefBasedImpl.cpp:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a5d4fa52db0e402c87b29ba625290eb88"><div class="ttname"><a href="classTransferTracker.html#a5d4fa52db0e402c87b29ba625290eb88">TransferTracker::TransferTracker</a></div><div class="ttdeci">TransferTracker(const TargetInstrInfo *TII, MLocTracker *MTracker, MachineFunction &amp;MF, const TargetRegisterInfo &amp;TRI, const BitVector &amp;CalleeSavedRegs, const TargetPassConfig &amp;TPC)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00268">InstrRefBasedImpl.cpp:268</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3720211f6e6389ab53734b989bfb6fce"><div class="ttname"><a href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">llvm::succ_begin</a></div><div class="ttdeci">Interval::succ_iterator succ_begin(Interval *I)</div><div class="ttdoc">succ_begin/succ_end - define methods so that Intervals may be used just like BasicBlocks can with the...</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00099">Interval.h:99</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a62ac77ec1a77ede53b2a3aedd2ebbf94"><div class="ttname"><a href="classTransferTracker.html#a62ac77ec1a77ede53b2a3aedd2ebbf94">TransferTracker::ActiveMLocs</a></div><div class="ttdeci">DenseMap&lt; LocIdx, SmallSet&lt; DebugVariable, 4 &gt; &gt; ActiveMLocs</div><div class="ttdoc">Map from LocIdxes to which DebugVariables are based that location.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00230">InstrRefBasedImpl.cpp:230</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a9a3c9d867ff6bde97841c2b7983f5c70"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a3c9d867ff6bde97841c2b7983f5c70">llvm::detail::DenseSetImpl::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00080">DenseSet.h:80</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a498b0782412a1488e7cb5c22a635188d"><div class="ttname"><a href="classTransferTracker.html#a498b0782412a1488e7cb5c22a635188d">TransferTracker::VarLocs</a></div><div class="ttdeci">SmallVector&lt; ValueIDNum, 32 &gt; VarLocs</div><div class="ttdoc">Local cache of what-value-is-in-what-LocIdx.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00225">InstrRefBasedImpl.cpp:225</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1LocIdx_html_a40076b99dca773c0cc6c994d8445c00a"><div class="ttname"><a href="classLiveDebugValues_1_1LocIdx.html#a40076b99dca773c0cc6c994d8445c00a">LiveDebugValues::LocIdx::isIllegal</a></div><div class="ttdeci">bool isIllegal() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00063">InstrRefBasedImpl.h:63</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_af1088d1f2ac99145846bedd829c2a05e"><div class="ttname"><a href="classTransferTracker.html#af1088d1f2ac99145846bedd829c2a05e">TransferTracker::ShouldEmitDebugEntryValues</a></div><div class="ttdeci">bool ShouldEmitDebugEntryValues</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00186">InstrRefBasedImpl.cpp:186</a></div></div>
<div class="ttc" id="aMCRegisterInfo_8h_html"><div class="ttname"><a href="MCRegisterInfo_8h.html">MCRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugVariable_html"><div class="ttname"><a href="classllvm_1_1DebugVariable.html">llvm::DebugVariable</a></div><div class="ttdoc">Identifies a unique instance of a variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03733">DebugInfoMetadata.h:3733</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00166">README.txt:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_abf73a826b5d6f739eb4af48ddf14c5b4"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">llvm::SmallPtrSetImpl::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00403">SmallPtrSet.h:403</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOpID_html"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOpID.html">LiveDebugValues::DbgOpID</a></div><div class="ttdoc">An ID used in the DbgOpIDMap (below) to lookup a stored DbgOp.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00334">InstrRefBasedImpl.h:334</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad41e0eef31b6a383647c6b3cb7f1c5cd"><div class="ttname"><a href="namespacellvm.html#ad41e0eef31b6a383647c6b3cb7f1c5cd">llvm::concat</a></div><div class="ttdeci">detail::concat_range&lt; ValueT, RangeTs... &gt; concat(RangeTs &amp;&amp;... Ranges)</div><div class="ttdoc">Concatenated range across two or more ranges.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01209">STLExtras.h:1209</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_ac144ecd93e2625852097b3cab8a9d9bbaf26793ed3fb3ea880eb66562c90d1826"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bbaf26793ed3fb3ea880eb66562c90d1826">LiveDebugValues::DbgValue::NoVal</a></div><div class="ttdeci">@ NoVal</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00463">InstrRefBasedImpl.h:463</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a2a8677748ff6a6469bb9185e1d178fd1"><div class="ttname"><a href="classllvm_1_1BitVector.html#a2a8677748ff6a6469bb9185e1d178fd1">llvm::BitVector::flip</a></div><div class="ttdeci">BitVector &amp; flip()</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00424">BitVector.h:424</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_aea2e5f1f528d4df176281fd732b55559"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#aea2e5f1f528d4df176281fd732b55559">llvm::TargetInstrInfo::isStoreToStackSlotPostFE</a></div><div class="ttdeci">virtual unsigned isStoreToStackSlotPostFE(const MachineInstr &amp;MI, int &amp;FrameIndex) const</div><div class="ttdoc">Check for post-frame ptr elimination stack locations as well.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00321">TargetInstrInfo.h:321</a></div></div>
<div class="ttc" id="aTargetPassConfig_8h_html"><div class="ttname"><a href="TargetPassConfig_8h.html">TargetPassConfig.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_af7bdb491eed9d2c9119dc21d4002de9d"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af7bdb491eed9d2c9119dc21d4002de9d">llvm::MachineBasicBlock::pred_iterator</a></div><div class="ttdeci">std::vector&lt; MachineBasicBlock * &gt;::iterator pred_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00345">MachineBasicBlock.h:345</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_ad7dc7318244359268414719e0959346e"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#ad7dc7318244359268414719e0959346e">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00173">DenseSet.h:173</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1VLocTracker_html"><div class="ttname"><a href="classLiveDebugValues_1_1VLocTracker.html">LiveDebugValues::VLocTracker</a></div><div class="ttdoc">Collection of DBG_VALUEs observed when traversing a block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00965">InstrRefBasedImpl.h:965</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a6fa795efcfec488fc9683b69b1f9a4d3"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a6fa795efcfec488fc9683b69b1f9a4d3">LiveDebugValues::MLocTracker::StackIdxesToPos</a></div><div class="ttdeci">DenseMap&lt; unsigned, StackSlotPos &gt; StackIdxesToPos</div><div class="ttdoc">Inverse of StackSlotIdxes.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00685">InstrRefBasedImpl.h:685</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a5a9c3fa37350ad4b187055d61b48ff16"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a5a9c3fa37350ad4b187055d61b48ff16">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::BlkSucc_end</a></div><div class="ttdeci">static BlkSucc_iterator BlkSucc_end(BlkT *BB)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03979">InstrRefBasedImpl.cpp:3979</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdoc">Primary interface to the complete machine description for the target machine.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00078">TargetMachine.h:78</a></div></div>
<div class="ttc" id="aclassTransferTracker_1_1LocationAndQuality_html_a088495756a3cd53da4efab38c8050a53"><div class="ttname"><a href="classTransferTracker_1_1LocationAndQuality.html#a088495756a3cd53da4efab38c8050a53">TransferTracker::LocationAndQuality::LocationAndQuality</a></div><div class="ttdeci">LocationAndQuality(LocIdx L, LocationQuality Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00307">InstrRefBasedImpl.cpp:307</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a18fcadd076ad53e6df94e0ca7a80a9ef"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo &amp; getFrameInfo()</div><div class="ttdoc">getFrameInfo - Return the frame info object for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00688">MachineFunction.h:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4e21760f681d6f97f95c8414e7b83ea5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const</div><div class="ttdoc">Return the MachineFunction containing this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00265">MachineBasicBlock.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a57ebdec244ab459050fc26a590a693f1"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a57ebdec244ab459050fc26a590a693f1">llvm::TargetInstrInfo::isLoadFromStackSlotPostFE</a></div><div class="ttdeci">virtual unsigned isLoadFromStackSlotPostFE(const MachineInstr &amp;MI, int &amp;FrameIndex) const</div><div class="ttdoc">Check for post-frame ptr elimination stack locations as well.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00283">TargetInstrInfo.h:283</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a0d7ad8e1022557e52ac17dddf1f5db2f"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a0d7ad8e1022557e52ac17dddf1f5db2f">llvm::SmallSet::begin</a></div><div class="ttdeci">const_iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00221">SmallSet.h:221</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_aee68454c02cb09e9dc1213c607ee78b9"><div class="ttname"><a href="classTransferTracker.html#aee68454c02cb09e9dc1213c607ee78b9">TransferTracker::clobberMloc</a></div><div class="ttdeci">void clobberMloc(LocIdx MLoc, ValueIDNum OldValue, MachineBasicBlock::iterator Pos, bool MakeUndef=true)</div><div class="ttdoc">Overload that takes an explicit value OldValue for when the value in MLoc has changed and the Transfe...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00786">InstrRefBasedImpl.cpp:786</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a55fdcb2a9df9a69067eed1bc17a0b927"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a55fdcb2a9df9a69067eed1bc17a0b927">llvm::MachineOperand::isRegMask</a></div><div class="ttdeci">bool isRegMask() const</div><div class="ttdoc">isRegMask - Tests if this is a MO_RegisterMask operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00353">MachineOperand.h:353</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_abe3764a9e5e3a3929c0cef3d6dceaedf"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#abe3764a9e5e3a3929c0cef3d6dceaedf">LiveDebugValues::InstrRefBasedLDV::hasFoldedStackStore</a></div><div class="ttdeci">bool hasFoldedStackStore(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l01423">InstrRefBasedImpl.h:1423</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1SpillLocationNo_html_a2e309fd3b79f17ba6213f7eb9d637329"><div class="ttname"><a href="classLiveDebugValues_1_1SpillLocationNo.html#a2e309fd3b79f17ba6213f7eb9d637329">LiveDebugValues::SpillLocationNo::id</a></div><div class="ttdeci">unsigned id() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00220">InstrRefBasedImpl.h:220</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_afd9b9b8655c008bf6cd6afb05d41b69e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">llvm::MachineBasicBlock::predecessors</a></div><div class="ttdeci">iterator_range&lt; pred_iterator &gt; predecessors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00390">MachineBasicBlock.h:390</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3838b33559305fa08382a0be06217008"><div class="ttname"><a href="namespacellvm.html#a3838b33559305fa08382a0be06217008">llvm::makeInstrRefBasedLiveDebugValues</a></div><div class="ttdeci">LDVImpl * makeInstrRefBasedLiveDebugValues()</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03818">InstrRefBasedImpl.cpp:3818</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a172e7bd9150eb0519ef04c796086f93d"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a172e7bd9150eb0519ef04c796086f93d">llvm::MachineBasicBlock::instr_begin</a></div><div class="ttdeci">instr_iterator instr_begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00293">MachineBasicBlock.h:293</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValueProperties_html_aebaf15eb5116df110c1de27c5c8901a2"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValueProperties.html#aebaf15eb5116df110c1de27c5c8901a2">LiveDebugValues::DbgValueProperties::IsVariadic</a></div><div class="ttdeci">bool IsVariadic</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00271">InstrRefBasedImpl.h:271</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html">LiveDebugValues::MLocTracker</a></div><div class="ttdoc">Tracker for what values are in machine locations.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00621">InstrRefBasedImpl.h:621</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_a8126e881577442cc33511b29b08a0d32"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a8126e881577442cc33511b29b08a0d32">LiveDebugValues::InstrRefBasedLDV::FragmentInfo</a></div><div class="ttdeci">DIExpression::FragmentInfo FragmentInfo</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l01041">InstrRefBasedImpl.h:1041</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4d812a2dd18aa186c164447e20e348e7"><div class="ttname"><a href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">llvm::operator==</a></div><div class="ttdeci">bool operator==(const AddressRangeValuePair &amp;LHS, const AddressRangeValuePair &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00153">AddressRanges.h:153</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a1fbf4d66a9eeaa9ade03e8febee097ee"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a1fbf4d66a9eeaa9ade03e8febee097ee">llvm::detail::DenseSetImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00092">DenseSet.h:92</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a7abb17ea0b1fd71d2856d9ae9089086c"><div class="ttname"><a href="classTransferTracker.html#a7abb17ea0b1fd71d2856d9ae9089086c">TransferTracker::addUseBeforeDef</a></div><div class="ttdeci">void addUseBeforeDef(const DebugVariable &amp;Var, const DbgValueProperties &amp;Properties, const SmallVectorImpl&lt; DbgOp &gt; &amp;DbgOps, unsigned Inst)</div><div class="ttdoc">Record that Var has value ID, a value that becomes available later in the function.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00489">InstrRefBasedImpl.cpp:489</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">llvm::logicalview::LVAttributeKind::Location</a></div><div class="ttdeci">@ Location</div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator_html_afee958da1eec7b6b56701847fefde452"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#afee958da1eec7b6b56701847fefde452">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PHI_iterator::operator==</a></div><div class="ttdeci">bool operator==(const PHI_iterator &amp;X) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03997">InstrRefBasedImpl.cpp:3997</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_ab8795e147779aed8a5d0af6783babaa0"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#ab8795e147779aed8a5d0af6783babaa0">LiveDebugValues::MLocTracker::SpillLocs</a></div><div class="ttdeci">UniqueVector&lt; SpillLoc &gt; SpillLocs</div><div class="ttdoc">Unique-ification of spill.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00655">InstrRefBasedImpl.h:655</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1SpillLoc_html_a403bf637b576061fd4fea4c9adba0c7c"><div class="ttname"><a href="structLiveDebugValues_1_1SpillLoc.html#a403bf637b576061fd4fea4c9adba0c7c">LiveDebugValues::SpillLoc::SpillOffset</a></div><div class="ttdeci">StackOffset SpillOffset</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00084">InstrRefBasedImpl.h:84</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1LocIdx_html"><div class="ttname"><a href="classLiveDebugValues_1_1LocIdx.html">LiveDebugValues::LocIdx</a></div><div class="ttdoc">Handle-class for a particular &quot;location&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00043">InstrRefBasedImpl.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1IndexedMap_html_a5e822b0690502a04b87125e63dbc8316"><div class="ttname"><a href="classllvm_1_1IndexedMap.html#a5e822b0690502a04b87125e63dbc8316">llvm::IndexedMap::grow</a></div><div class="ttdeci">void grow(IndexT n)</div><div class="ttdef"><b>Definition:</b> <a href="IndexedMap_8h_source.html#l00068">IndexedMap.h:68</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html_a3092d50fe696007741e04fca94bd8caf"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html#a3092d50fe696007741e04fca94bd8caf">LiveDebugValues::ValueIDNum::getInst</a></div><div class="ttdeci">uint64_t getInst() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00135">InstrRefBasedImpl.h:135</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2366b4a30c90d2207626fb717dfb778d"><div class="ttname"><a href="namespacellvm.html#a2366b4a30c90d2207626fb717dfb778d">llvm::operator*</a></div><div class="ttdeci">APInt operator*(APInt a, uint64_t RHS)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02162">APInt.h:2162</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_a16413f1a88d8baca228d0a1b4cc0bfc6"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">llvm::SmallPtrSetImplBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00095">SmallPtrSet.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html_a7b9139c86fb99f4651b4830fe1f93742"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html#a7b9139c86fb99f4651b4830fe1f93742">LiveDebugValues::ValueIDNum::fromU64</a></div><div class="ttdeci">static ValueIDNum fromU64(uint64_t v)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00141">InstrRefBasedImpl.h:141</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_ae270bdce77ec139bf18564e50664dab8"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#ae270bdce77ec139bf18564e50664dab8">LiveDebugValues::InstrRefBasedLDV::dump_mloc_transfer</a></div><div class="ttdeci">LLVM_DUMP_METHOD void dump_mloc_transfer(const MLocTransferMap &amp;mloc_transfer) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03376">InstrRefBasedImpl.cpp:3376</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_html_adb322dc6826cf005531ccfdf666260fd"><div class="ttname"><a href="namespacellvm_1_1jitlink.html#adb322dc6826cf005531ccfdf666260fd">llvm::jitlink::Scope</a></div><div class="ttdeci">Scope</div><div class="ttdoc">Defines the scope in which this symbol should be visible: Default – Visible in the public interface o...</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l00384">JITLink.h:384</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3aa22d521bd6a7e6b9f35545dc7b0f1e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const</div><div class="ttdoc">MachineBasicBlocks are uniquely numbered at the function level, unless they're not in a MachineFuncti...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01143">MachineBasicBlock.h:1143</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_aa5d994f6e3b0b93e697c85ca2002834d"><div class="ttname"><a href="classTransferTracker.html#aa5d994f6e3b0b93e697c85ca2002834d">TransferTracker::LocationQuality</a></div><div class="ttdeci">LocationQuality</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00293">InstrRefBasedImpl.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4d2c96836214c1f13357ffb99125fb4a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">llvm::MachineBasicBlock::successors</a></div><div class="ttdeci">iterator_range&lt; succ_iterator &gt; successors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00396">MachineBasicBlock.h:396</a></div></div>
<div class="ttc" id="aDwarf_8h_html"><div class="ttname"><a href="Dwarf_8h.html">Dwarf.h</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOpID_html_a743561a2288ede30c2992d98e1866505"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOpID.html#a743561a2288ede30c2992d98e1866505">LiveDebugValues::DbgOpID::dump</a></div><div class="ttdeci">void dump(const MLocTracker *MTrack, const DbgOpIDMap *OpStore) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00959">InstrRefBasedImpl.cpp:959</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a2773f3976918a270bac316739f66ffd5"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a2773f3976918a270bac316739f66ffd5">LiveDebugValues::MLocTracker::SPAliases</a></div><div class="ttdeci">SmallSet&lt; Register, 8 &gt; SPAliases</div><div class="ttdoc">When clobbering register masks, we chose to not believe the machine model and don't clobber SP.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00651">InstrRefBasedImpl.h:651</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_ad409c2de8502b94c8a0b1193307c63b6"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">llvm::detail::DenseSetImpl&lt; ValueT, SmallDenseMap&lt; ValueT, detail::DenseSetEmpty, 4, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::contains</a></div><div class="ttdeci">bool contains(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Check if the set contains the given element.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00185">DenseSet.h:185</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_a2675de1d8479c7b00387979714da43f7"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a></div><div class="ttdeci">static const Function * getParent(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00806">BasicAliasAnalysis.cpp:806</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html"><div class="ttname"><a href="classllvm_1_1StackOffset.html">llvm::StackOffset</a></div><div class="ttdoc">StackOffset holds a fixed and a scalable offset in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00036">TypeSize.h:36</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0b1a8d3b98bc35fd5cb5b04843beeea5"><div class="ttname"><a href="namespacellvm.html#a0b1a8d3b98bc35fd5cb5b04843beeea5">llvm::getBundleStart</a></div><div class="ttdeci">MachineBasicBlock::instr_iterator getBundleStart(MachineBasicBlock::instr_iterator I)</div><div class="ttdoc">Returns an iterator to the first instruction in the bundle containing I.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8h_source.html#l00044">MachineInstrBundle.h:44</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetPassConfig_html_a2ead47220440ce8f11a2496059534654"><div class="ttname"><a href="classllvm_1_1TargetPassConfig.html#a2ead47220440ce8f11a2496059534654">llvm::TargetPassConfig::getTM</a></div><div class="ttdeci">TMC &amp; getTM() const</div><div class="ttdoc">Get the right type of TargetMachine for this target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetPassConfig_8h_source.html#l00151">TargetPassConfig.h:151</a></div></div>
<div class="ttc" id="aInstrRefBasedImpl_8h_html"><div class="ttname"><a href="InstrRefBasedImpl_8h.html">InstrRefBasedImpl.h</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a63cf4d79a939e187701ac667cb07f5d7"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a63cf4d79a939e187701ac667cb07f5d7">LiveDebugValues::MLocTracker::locIDToSpill</a></div><div class="ttdeci">SpillLocationNo locIDToSpill(unsigned ID) const</div><div class="ttdoc">Return the spill number that a location ID corresponds to.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00760">InstrRefBasedImpl.h:760</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a75eb135014670ce946e78739cdc9b51b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00384">MachineOperand.h:384</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a00b889b10d5eaeb7be44d959e67263c6"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a00b889b10d5eaeb7be44d959e67263c6">LiveDebugValues::MLocTracker::getLocSizeInBits</a></div><div class="ttdeci">unsigned getLocSizeInBits(LocIdx L) const</div><div class="ttdoc">How large is this location (aka, how wide is a value defined there?).</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00912">InstrRefBasedImpl.h:912</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValueProperties_html"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValueProperties.html">LiveDebugValues::DbgValueProperties</a></div><div class="ttdoc">Meta qualifiers for a value.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00236">InstrRefBasedImpl.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html_aa26f1f3bfe5b5022b1bd495151b3757a"><div class="ttname"><a href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">llvm::Pass::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00136">Pass.cpp:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a00dee8613a6bcca61ed2158fadf9ef3c"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a00dee8613a6bcca61ed2158fadf9ef3c">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::BlkSucc_iterator</a></div><div class="ttdeci">LDVSSABlockIterator BlkSucc_iterator</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03975">InstrRefBasedImpl.cpp:3975</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a1c44cbd0dca6d3e9736ce4f240af2e25"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a1c44cbd0dca6d3e9736ce4f240af2e25">LiveDebugValues::MLocTracker::getSpillIDWithIdx</a></div><div class="ttdeci">unsigned getSpillIDWithIdx(SpillLocationNo Spill, unsigned Idx)</div><div class="ttdoc">Given a spill number, and a slot within the spill, calculate the ID number for that location.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00751">InstrRefBasedImpl.h:751</a></div></div>
<div class="ttc" id="aclassTransferTracker_1_1LocationAndQuality_html_aafbc8ed2fac417ad446be5834b07a1cc"><div class="ttname"><a href="classTransferTracker_1_1LocationAndQuality.html#aafbc8ed2fac417ad446be5834b07a1cc">TransferTracker::LocationAndQuality::getLoc</a></div><div class="ttdeci">LocIdx getLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00309">InstrRefBasedImpl.cpp:309</a></div></div>
<div class="ttc" id="anamespacellvm_html_a943f22024cba236f495239754ca3c74b"><div class="ttname"><a href="namespacellvm.html#a943f22024cba236f495239754ca3c74b">llvm::make_filter_range</a></div><div class="ttdeci">iterator_range&lt; filter_iterator&lt; detail::IterOfRange&lt; RangeT &gt;, PredicateT &gt; &gt; make_filter_range(RangeT &amp;&amp;Range, PredicateT Pred)</div><div class="ttdoc">Convenience function that takes a range of elements and a predicate, and return a new filter_iterator...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00637">STLExtras.h:637</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1LocIdx_html_a8567f7c20eae6b2f5beabaa440df1097"><div class="ttname"><a href="classLiveDebugValues_1_1LocIdx.html#a8567f7c20eae6b2f5beabaa440df1097">LiveDebugValues::LocIdx::MakeIllegalLoc</a></div><div class="ttdeci">static LocIdx MakeIllegalLoc()</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00056">InstrRefBasedImpl.h:56</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac1c97b8c8035fa91c5275ffb54d41634"><div class="ttname"><a href="namespacellvm.html#ac1c97b8c8035fa91c5275ffb54d41634">llvm::replace_copy</a></div><div class="ttdeci">OutputIt replace_copy(R &amp;&amp;Range, OutputIt Out, const T &amp;OldValue, const T &amp;NewValue)</div><div class="ttdoc">Provide wrappers to std::replace_copy which take ranges instead of having to pass begin/end explicitl...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01853">STLExtras.h:1853</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a31452b4b5d9984ee5ed52db4b1a52d5e"><div class="ttname"><a href="classTransferTracker.html#a31452b4b5d9984ee5ed52db4b1a52d5e">TransferTracker::TLI</a></div><div class="ttdeci">const TargetLowering * TLI</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00180">InstrRefBasedImpl.cpp:180</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1ResolvedDbgValue_html_a73ba0d2dd65dbf02973218eb35f3f443"><div class="ttname"><a href="structTransferTracker_1_1ResolvedDbgValue.html#a73ba0d2dd65dbf02973218eb35f3f443">TransferTracker::ResolvedDbgValue::ResolvedDbgValue</a></div><div class="ttdeci">ResolvedDbgValue(SmallVectorImpl&lt; ResolvedDbgOp &gt; &amp;Ops, DbgValueProperties Properties)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00204">InstrRefBasedImpl.cpp:204</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_a0e1c3175b0ac22fe3853651c28e1ecb8"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">llvm::SmallPtrSetImplBase::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00093">SmallPtrSet.h:93</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_ad5057e38ab74080fe88552c870519a84"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#ad5057e38ab74080fe88552c870519a84">LiveDebugValues::DbgValue::Kind</a></div><div class="ttdeci">KindT Kind</div><div class="ttdoc">Discriminator for whether this is a constant or an in-program value.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00467">InstrRefBasedImpl.h:467</a></div></div>
<div class="ttc" id="aInstrRefBasedImpl_8cpp_html_a948d04e8104e3b4b667e5c7b72ad2250"><div class="ttname"><a href="InstrRefBasedImpl_8cpp.html#a948d04e8104e3b4b667e5c7b72ad2250">EmulateOldLDV</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EmulateOldLDV(&quot;emulate-old-livedebugvalues&quot;, cl::Hidden, cl::desc(&quot;Act like old LiveDebugValues did&quot;), cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator_html_a2defe5ddcd6b96a09e5304973e1ae8ae"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#a2defe5ddcd6b96a09e5304973e1ae8ae">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PHI_iterator::operator++</a></div><div class="ttdeci">PHI_iterator &amp; operator++()</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03993">InstrRefBasedImpl.cpp:3993</a></div></div>
<div class="ttc" id="aInstrRefBasedImpl_8cpp_html_a25c1bd06a0b8e4d75870885a53e8f6e4"><div class="ttname"><a href="InstrRefBasedImpl_8cpp.html#a25c1bd06a0b8e4d75870885a53e8f6e4">StackWorkingSetLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; StackWorkingSetLimit(&quot;livedebugvalues-max-stack-slots&quot;, cl::Hidden, cl::desc(&quot;livedebugvalues-stack-ws-limit&quot;), cl::init(250))</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_1_1DebugSubstitution_html"><div class="ttname"><a href="classllvm_1_1MachineFunction_1_1DebugSubstitution.html">llvm::MachineFunction::DebugSubstitution</a></div><div class="ttdoc">Replacement definition for a debug instruction reference.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00489">MachineFunction.h:489</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_af172763cc276913cd13e89b5b2bcbc69"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#af172763cc276913cd13e89b5b2bcbc69">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PHI_end</a></div><div class="ttdeci">static PHI_iterator PHI_end(PhiT *PHI)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04007">InstrRefBasedImpl.cpp:4007</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a936739514bcdb01ddd2826fa70cf15a5"><div class="ttname"><a href="classllvm_1_1MDNode.html#a936739514bcdb01ddd2826fa70cf15a5">llvm::MDNode::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01107">Metadata.h:1107</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_abf13e97a9a5cff9aa06c88d1ac5172fb"><div class="ttname"><a href="classTransferTracker.html#abf13e97a9a5cff9aa06c88d1ac5172fb">TransferTracker::TRI</a></div><div class="ttdeci">const TargetRegisterInfo &amp; TRI</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00265">InstrRefBasedImpl.cpp:265</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a0ec8c44bc2b0efa41c2a6583f9d75f21"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a0ec8c44bc2b0efa41c2a6583f9d75f21">LiveDebugValues::MLocTracker::getOrTrackSpillLoc</a></div><div class="ttdeci">std::optional&lt; SpillLocationNo &gt; getOrTrackSpillLoc(SpillLoc L)</div><div class="ttdoc">Find LocIdx for SpillLoc L, creating a new one if it's not tracked.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01093">InstrRefBasedImpl.cpp:1093</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a5afcbfb84f0bb09c726e9a777d9f01e7"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a5afcbfb84f0bb09c726e9a777d9f01e7">LiveDebugValues::MLocTracker::StackSlotIdxes</a></div><div class="ttdeci">DenseMap&lt; StackSlotPos, unsigned &gt; StackSlotIdxes</div><div class="ttdoc">Map from a size/offset pair describing a position in a stack slot, to a numeric identifier for that p...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00682">InstrRefBasedImpl.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1VLocTracker_html_ae0cf81f4c07b11b1581da406e612a039"><div class="ttname"><a href="classLiveDebugValues_1_1VLocTracker.html#ae0cf81f4c07b11b1581da406e612a039">LiveDebugValues::VLocTracker::Vars</a></div><div class="ttdeci">MapVector&lt; DebugVariable, DbgValue &gt; Vars</div><div class="ttdoc">Map DebugVariable to the latest Value it's defined to have.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00975">InstrRefBasedImpl.h:975</a></div></div>
<div class="ttc" id="anamespacellvm_html_a51c7cbd21e1104ee6841c18d7daa6edb"><div class="ttname"><a href="namespacellvm.html#a51c7cbd21e1104ee6841c18d7daa6edb">llvm::map_range</a></div><div class="ttdeci">auto map_range(ContainerTy &amp;&amp;C, FuncTy F)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00434">STLExtras.h:434</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a15d63c566878e964c19139b2c76c0dab"><div class="ttname"><a href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">llvm::BitVector::test</a></div><div class="ttdeci">bool test(unsigned Idx) const</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00454">BitVector.h:454</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_acb5a8547e6be549b193c89c9202889df"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#acb5a8547e6be549b193c89c9202889df">LiveDebugValues::MLocTracker::readReg</a></div><div class="ttdeci">ValueIDNum readReg(Register R)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00868">InstrRefBasedImpl.h:868</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1ResolvedDbgValue_html"><div class="ttname"><a href="structTransferTracker_1_1ResolvedDbgValue.html">TransferTracker::ResolvedDbgValue</a></div><div class="ttdoc">Stores the resolved operands (machine locations and constants) and qualifying meta-information needed...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00200">InstrRefBasedImpl.cpp:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_adbcdb952830bd8c5eeb802ab06dd5bb1"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">llvm::TargetSubtargetInfo::getFrameLowering</a></div><div class="ttdeci">virtual const TargetFrameLowering * getFrameLowering() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00096">TargetSubtargetInfo.h:96</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOp_html_a4e137fe2e3773e0a6f40980d2e99083d"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOp.html#a4e137fe2e3773e0a6f40980d2e99083d">LiveDebugValues::DbgOp::isUndef</a></div><div class="ttdeci">bool isUndef() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00293">InstrRefBasedImpl.h:293</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html">LiveDebugValues::InstrRefBasedLDV</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l01037">InstrRefBasedImpl.h:1037</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a251557179fe64bb09bd7e327c60c6b24"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">llvm::TargetRegisterInfo::getRegSizeInBits</a></div><div class="ttdeci">unsigned getRegSizeInBits(const TargetRegisterClass &amp;RC) const</div><div class="ttdoc">Return the size in bits of a register from class RC.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00279">TargetRegisterInfo.h:279</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1ResolvedDbgOp_html_a3ae6254930be379b5b2a92b5a5d311cc"><div class="ttname"><a href="structLiveDebugValues_1_1ResolvedDbgOp.html#a3ae6254930be379b5b2a92b5a5d311cc">LiveDebugValues::ResolvedDbgOp::MO</a></div><div class="ttdeci">MachineOperand MO</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00307">InstrRefBasedImpl.h:307</a></div></div>
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_aa91241c8c54738377749dc47ee489e0d"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">get</a></div><div class="ttdeci">Should compile to something r4 addze r3 instead we get</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2PowerPC_2README_8txt_source.html#l00024">README.txt:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a38c50aa8e3e9588f4f968c2e03a0cee0"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a38c50aa8e3e9588f4f968c2e03a0cee0">llvm::SmallVectorImpl::assign</a></div><div class="ttdeci">void assign(size_type NumElts, ValueParamT Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00708">SmallVector.h:708</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_a2233b318fa41cb9167e82f952f4b6df6"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a2233b318fa41cb9167e82f952f4b6df6">LiveDebugValues::InstrRefBasedLDV::ScopeToDILocT</a></div><div class="ttdeci">DenseMap&lt; const LexicalScope *, const DILocation * &gt; ScopeToDILocT</div><div class="ttdoc">Mapping from lexical scopes to a DILocation in that scope.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l01067">InstrRefBasedImpl.h:1067</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1SpillLocationNo_html"><div class="ttname"><a href="classLiveDebugValues_1_1SpillLocationNo.html">LiveDebugValues::SpillLocationNo</a></div><div class="ttdoc">Thin wrapper around an integer – designed to give more type safety to spill location numbers.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00216">InstrRefBasedImpl.h:216</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86_html_a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e"><div class="ttname"><a href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">llvm::X86::FirstMacroFusionInstKind::Cmp</a></div><div class="ttdeci">@ Cmp</div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3435a2381e60e842e915f85c931b7dde"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">llvm::MachineBasicBlock::insert</a></div><div class="ttdeci">instr_iterator insert(instr_iterator I, MachineInstr *M)</div><div class="ttdoc">Insert MI into the instruction list before I, possibly inside a bundle.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01336">MachineBasicBlock.cpp:1336</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="aMachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_af88a8f2328543f94aea3ba85d954fafa"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#af88a8f2328543f94aea3ba85d954fafa">llvm::TargetFrameLowering::getFrameIndexReference</a></div><div class="ttdeci">virtual StackOffset getFrameIndexReference(const MachineFunction &amp;MF, int FI, Register &amp;FrameReg) const</div><div class="ttdoc">getFrameIndexReference - This method should return the base register and offset used to reference a f...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLoweringImpl_8cpp_source.html#l00049">TargetFrameLoweringImpl.cpp:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_aaa68daaf8d7b773d012887c92c2023ce"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">llvm::MachineOperand::getIndex</a></div><div class="ttdeci">int getIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00576">MachineOperand.h:576</a></div></div>
<div class="ttc" id="aclassTransferTracker_1_1LocationAndQuality_html_a14fc47dd260079d24f239d40e88f0371"><div class="ttname"><a href="classTransferTracker_1_1LocationAndQuality.html#a14fc47dd260079d24f239d40e88f0371">TransferTracker::LocationAndQuality::getQuality</a></div><div class="ttdeci">LocationQuality getQuality() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00314">InstrRefBasedImpl.cpp:314</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_aa1129d2080e1308fd9bd27d20374ace5"><div class="ttname"><a href="classTransferTracker.html#aa1129d2080e1308fd9bd27d20374ace5">TransferTracker::checkInstForNewValues</a></div><div class="ttdeci">void checkInstForNewValues(unsigned Inst, MachineBasicBlock::iterator pos)</div><div class="ttdoc">After the instruction at index Inst and position pos has been processed, check whether it defines a v...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00500">InstrRefBasedImpl.cpp:500</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1UseBeforeDef_html_ae104551bc2a3a41a9a475102787f0af7"><div class="ttname"><a href="structTransferTracker_1_1UseBeforeDef.html#ae104551bc2a3a41a9a475102787f0af7">TransferTracker::UseBeforeDef::UseBeforeDef</a></div><div class="ttdeci">UseBeforeDef(ArrayRef&lt; DbgOp &gt; Values, const DebugVariable &amp;Var, const DbgValueProperties &amp;Properties)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00250">InstrRefBasedImpl.cpp:250</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a88df5839a1471739fba42290c3a8279a"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a88df5839a1471739fba42290c3a8279a">LiveDebugValues::MLocTracker::getRegMLoc</a></div><div class="ttdeci">LocIdx getRegMLoc(Register R)</div><div class="ttdoc">Determine the LocIdx of an existing register.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00885">InstrRefBasedImpl.h:885</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab6395548cae73865213e279ae461db54"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab6395548cae73865213e279ae461db54">llvm::MachineBasicBlock::instr_iterator</a></div><div class="ttdeci">Instructions::iterator instr_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00268">MachineBasicBlock.h:268</a></div></div>
<div class="ttc" id="aclassllvm_1_1LexicalScopes_html_a3245044b58379359df4673c0ed9308b0"><div class="ttname"><a href="classllvm_1_1LexicalScopes.html#a3245044b58379359df4673c0ed9308b0">llvm::LexicalScopes::findLexicalScope</a></div><div class="ttdeci">LexicalScope * findLexicalScope(const DILocation *DL)</div><div class="ttdoc">findLexicalScope - Find lexical scope, either regular or inlined, for the given DebugLoc.</div><div class="ttdef"><b>Definition:</b> <a href="LexicalScopes_8cpp_source.html#l00124">LexicalScopes.cpp:124</a></div></div>
<div class="ttc" id="aLiveDebugValues_8cpp_html_a17e0338db8e9291e84b419320b8031b4"><div class="ttname"><a href="LiveDebugValues_8cpp.html#a17e0338db8e9291e84b419320b8031b4">InputBBLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; InputBBLimit(&quot;livedebugvalues-input-bb-limit&quot;, cl::desc(&quot;Maximum input basic blocks before DBG_VALUE limit applies&quot;), cl::init(10000), cl::Hidden)</div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1VLocTracker_html_a7ee9cda71a5c099141ed832aae3e70a0"><div class="ttname"><a href="classLiveDebugValues_1_1VLocTracker.html#a7ee9cda71a5c099141ed832aae3e70a0">LiveDebugValues::VLocTracker::defVar</a></div><div class="ttdeci">void defVar(const MachineInstr &amp;MI, const DbgValueProperties &amp;Properties, const SmallVectorImpl&lt; DbgOpID &gt; &amp;DebugOps)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00985">InstrRefBasedImpl.h:985</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a7926734793677673e68d8cff410552ec"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a7926734793677673e68d8cff410552ec">llvm::DIExpression::isComplex</a></div><div class="ttdeci">bool isComplex() const</div><div class="ttdoc">Return whether the location is computed on the expression stack, meaning it cannot be a simple regist...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01428">DebugInfoMetadata.cpp:1428</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a9d0bee3986908a755f0a5418d9e4780f"><div class="ttname"><a href="classTransferTracker.html#a9d0bee3986908a755f0a5418d9e4780f">TransferTracker::getLocQualityIfBetter</a></div><div class="ttdeci">std::optional&lt; LocationQuality &gt; getLocQualityIfBetter(LocIdx L, LocationQuality Min) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00322">InstrRefBasedImpl.cpp:322</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a3d95cc2d359b8d9ed5bd9504b44930b5"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">llvm::DenseMapBase::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00099">DenseMap.h:99</a></div></div>
<div class="ttc" id="anamespacellvm_1_1TargetStackID_html_a71392100eb15ba746b1f898986f5d8a5"><div class="ttname"><a href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">llvm::TargetStackID::Value</a></div><div class="ttdeci">Value</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00027">TargetFrameLowering.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1IDFCalculatorBase_html"><div class="ttname"><a href="classllvm_1_1IDFCalculatorBase.html">llvm::IDFCalculatorBase</a></div><div class="ttdoc">Determine the iterated dominance frontier, given a set of defining blocks, and optionally,...</div><div class="ttdef"><b>Definition:</b> <a href="GenericIteratedDominanceFrontier_8h_source.html#l00057">GenericIteratedDominanceFrontier.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad04e186512436ffdefdb16ed8aaea57a"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad04e186512436ffdefdb16ed8aaea57a">llvm::MachineOperand::isDbgInstrRef</a></div><div class="ttdeci">bool isDbgInstrRef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00359">MachineOperand.h:359</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a91fd5d450920e56cbde71ab8708fbab9"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a91fd5d450920e56cbde71ab8708fbab9">LiveDebugValues::MLocTracker::LocIdxToIDNum</a></div><div class="ttdeci">LocToValueType LocIdxToIDNum</div><div class="ttdoc">Map of LocIdxes to the ValueIDNums that they store.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00633">InstrRefBasedImpl.h:633</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator_html_a3984406f0b556b64055a90c1a3615b6f"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_1_1PHI__iterator.html#a3984406f0b556b64055a90c1a3615b6f">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::PHI_iterator::getIncomingValue</a></div><div class="ttdeci">BlockValueNum getIncomingValue()</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04000">InstrRefBasedImpl.cpp:4000</a></div></div>
<div class="ttc" id="aLiveDebugValues_8h_html"><div class="ttname"><a href="LiveDebugValues_8h.html">LiveDebugValues.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="aclassTransferTracker_1_1LocationAndQuality_html"><div class="ttname"><a href="classTransferTracker_1_1LocationAndQuality.html">TransferTracker::LocationAndQuality</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00301">InstrRefBasedImpl.cpp:301</a></div></div>
<div class="ttc" id="anamespaceLiveDebugValues_html_a81b68b689eaf0c725c1e591da8ddb45d"><div class="ttname"><a href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">LiveDebugValues::ValueTable</a></div><div class="ttdeci">std::unique_ptr&lt; ValueIDNum[]&gt; ValueTable</div><div class="ttdoc">Type for a table of values in a block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00208">InstrRefBasedImpl.h:208</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a87fc8660fb193f626f9e9a6f0244108e"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a87fc8660fb193f626f9e9a6f0244108e">LiveDebugValues::MLocTracker::isSpill</a></div><div class="ttdeci">bool isSpill(LocIdx Idx) const</div><div class="ttdoc">Return true if Idx is a spill machine location.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00909">InstrRefBasedImpl.h:909</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_ac51f13177f0eb63f139dde87ef60a149"><div class="ttname"><a href="classllvm_1_1SmallSet.html#ac51f13177f0eb63f139dde87ef60a149">llvm::SmallSet::end</a></div><div class="ttdeci">const_iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00227">SmallSet.h:227</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html_a9313c0181a7f6ea6097163d55a4a7694"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html#a9313c0181a7f6ea6097163d55a4a7694">LiveDebugValues::ValueIDNum::asString</a></div><div class="ttdeci">std::string asString(const std::string &amp;mlocname) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00157">InstrRefBasedImpl.h:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReversePostOrderTraversal_html"><div class="ttname"><a href="classllvm_1_1ReversePostOrderTraversal.html">llvm::ReversePostOrderTraversal</a></div><div class="ttdef"><b>Definition:</b> <a href="PostOrderIterator_8h_source.html#l00293">PostOrderIterator.h:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_html"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits.html">llvm::SSAUpdaterTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineSSAUpdater_8h_source.html#l00028">MachineSSAUpdater.h:28</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_aa70e8b6292c37300a3ea50fce69b2cdd"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#aa70e8b6292c37300a3ea50fce69b2cdd">LiveDebugValues::DbgValue::getDbgOpID</a></div><div class="ttdeci">DbgOpID getDbgOpID(unsigned Index) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00530">InstrRefBasedImpl.h:530</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_af3b3d27cd53936e3c52e01a34817d6be"><div class="ttname"><a href="classTransferTracker.html#af3b3d27cd53936e3c52e01a34817d6be">TransferTracker::redefVar</a></div><div class="ttdeci">void redefVar(const MachineInstr &amp;MI, const DbgValueProperties &amp;Properties, SmallVectorImpl&lt; ResolvedDbgOp &gt; &amp;NewLocs)</div><div class="ttdoc">Handle a change in variable location within a block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00704">InstrRefBasedImpl.cpp:704</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a5ccc49e3b9263bbfcdeb391f17b84c2d"><div class="ttname"><a href="classTransferTracker.html#a5ccc49e3b9263bbfcdeb391f17b84c2d">TransferTracker::MTracker</a></div><div class="ttdeci">MLocTracker * MTracker</div><div class="ttdoc">This machine location tracker is assumed to always contain the up-to-date value mapping for all machi...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00184">InstrRefBasedImpl.cpp:184</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1SpillLoc_html_aeb3fef2a940a768ea6d7dcb757b62d5e"><div class="ttname"><a href="structLiveDebugValues_1_1SpillLoc.html#aeb3fef2a940a768ea6d7dcb757b62d5e">LiveDebugValues::SpillLoc::SpillBase</a></div><div class="ttdeci">unsigned SpillBase</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00083">InstrRefBasedImpl.h:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_ac9a4fe1aa8e698aa8cd6a24751a80d91"><div class="ttname"><a href="classllvm_1_1DIExpression.html#ac9a4fe1aa8e698aa8cd6a24751a80d91">llvm::DIExpression::isSingleLocationExpression</a></div><div class="ttdeci">bool isSingleLocationExpression() const</div><div class="ttdoc">Return whether the evaluated expression makes use of a single location at the start of the expression...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01451">DebugInfoMetadata.cpp:1451</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIVariable_html_a6b5977deeb9f99e156685e190de78403"><div class="ttname"><a href="classllvm_1_1DIVariable.html#a6b5977deeb9f99e156685e190de78403">llvm::DIVariable::getSizeInBits</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getSizeInBits() const</div><div class="ttdoc">Determines the size of the variable's type.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01240">DebugInfoMetadata.cpp:1240</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubRegIterator_html"><div class="ttname"><a href="classllvm_1_1MCSubRegIterator.html">llvm::MCSubRegIterator</a></div><div class="ttdoc">MCSubRegIterator enumerates all sub-registers of Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00597">MCRegisterInfo.h:597</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOpID_html_a0e6661b8b23bbe5d428f8177ae17656b"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOpID.html#a0e6661b8b23bbe5d428f8177ae17656b">LiveDebugValues::DbgOpID::asU32</a></div><div class="ttdeci">uint32_t asU32() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00356">InstrRefBasedImpl.h:356</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_abc84cf80598821cf657ee831fce024bc"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#abc84cf80598821cf657ee831fce024bc">LiveDebugValues::MLocTracker::setMPhis</a></div><div class="ttdeci">void setMPhis(unsigned NewCurBB)</div><div class="ttdoc">Reset all locations to contain a PHI value at the designated block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00781">InstrRefBasedImpl.h:781</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegUnitIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegUnitIterator.html">llvm::MCRegUnitIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00680">MCRegisterInfo.h:680</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegUnitRootIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegUnitRootIterator.html">llvm::MCRegUnitRootIterator</a></div><div class="ttdoc">MCRegUnitRootIterator enumerates the root registers of a register unit.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00754">MCRegisterInfo.h:754</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_ad60ba0b6dcb54a7fe37863ceb0165626"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#ad60ba0b6dcb54a7fe37863ceb0165626">LiveDebugValues::MLocTracker::dump</a></div><div class="ttdeci">LLVM_DUMP_METHOD void dump()</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01141">InstrRefBasedImpl.cpp:1141</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegAliasIterator_html_ac336c049c12ead7be5b86e6d046f8ab0"><div class="ttname"><a href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">llvm::MCRegAliasIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00813">MCRegisterInfo.h:813</a></div></div>
<div class="ttc" id="aPostOrderIterator_8h_html"><div class="ttname"><a href="PostOrderIterator_8h.html">PostOrderIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a129ede6f18326075504d4bd0439fd517"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a129ede6f18326075504d4bd0439fd517">llvm::TargetSubtargetInfo::getTargetLowering</a></div><div class="ttdeci">virtual const TargetLowering * getTargetLowering() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00099">TargetSubtargetInfo.h:99</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17e04afcf0c5efeb0eb6a9a45287b5e4"><div class="ttname"><a href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, const MIMetadata &amp;MIMD, const MCInstrDesc &amp;MCID)</div><div class="ttdoc">Builder interface. Specify how to create the initial instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00357">MachineInstrBuilder.h:357</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_a3ee38e9c699e52fd056b3fb5b8746520"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#a3ee38e9c699e52fd056b3fb5b8746520">llvm::MachineDominatorTree::getBase</a></div><div class="ttdeci">MachineDomTree &amp; getBase()</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00091">MachineDominators.h:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="aMachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_ac144ecd93e2625852097b3cab8a9d9bba7c46001b3585fc4e42328dbe7123b5d4"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba7c46001b3585fc4e42328dbe7123b5d4">LiveDebugValues::DbgValue::Undef</a></div><div class="ttdeci">@ Undef</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00458">InstrRefBasedImpl.h:458</a></div></div>
<div class="ttc" id="aclassTransferTracker_1_1LocationAndQuality_html_aeb178c08bc77adce5c52045faeca87b4"><div class="ttname"><a href="classTransferTracker_1_1LocationAndQuality.html#aeb178c08bc77adce5c52045faeca87b4">TransferTracker::LocationAndQuality::isIllegal</a></div><div class="ttdeci">bool isIllegal() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00315">InstrRefBasedImpl.cpp:315</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_a1b1735405477716ee8dd95236d3257bf"><div class="ttname"><a href="classTransferTracker.html#a1b1735405477716ee8dd95236d3257bf">TransferTracker::CalleeSavedRegs</a></div><div class="ttdeci">const BitVector &amp; CalleeSavedRegs</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00266">InstrRefBasedImpl.cpp:266</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_1_1DiffListIterator_html_a82f1c2dcfab9e27af4497fb0e13c4c6f"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">llvm::MCRegisterInfo::DiffListIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">isValid - returns true if this iterator is not yet at the end.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00224">MCRegisterInfo.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1DstOp_html"><div class="ttname"><a href="classllvm_1_1DstOp.html">llvm::DstOp</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8h_source.html#l00067">MachineIRBuilder.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a27e242bef133e4b324f5b96791fc5c60"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a27e242bef133e4b324f5b96791fc5c60">llvm::MachineFunction::DebugValueSubstitutions</a></div><div class="ttdeci">SmallVector&lt; DebugSubstitution, 8 &gt; DebugValueSubstitutions</div><div class="ttdoc">Debug value substitutions: a collection of DebugSubstitution objects, recording changes in where a va...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00510">MachineFunction.h:510</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a432824f0975bb863478bf4ef3a5df258"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Retuns the total number of operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00519">MachineInstr.h:519</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_ac031b6154536f289d3c8962a2d9efd48"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#ac031b6154536f289d3c8962a2d9efd48">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::FindPredecessorBlocks</a></div><div class="ttdeci">static void FindPredecessorBlocks(LDVSSABlock *BB, SmallVectorImpl&lt; LDVSSABlock * &gt; *Preds)</div><div class="ttdoc">FindPredecessorBlocks - Put the predecessors of BB into the Preds vector.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04013">InstrRefBasedImpl.cpp:4013</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgOpIDMap_html_a31b80daf003f8250c14e14fbb5d9a283"><div class="ttname"><a href="classLiveDebugValues_1_1DbgOpIDMap.html#a31b80daf003f8250c14e14fbb5d9a283">LiveDebugValues::DbgOpIDMap::insert</a></div><div class="ttdeci">DbgOpID insert(DbgOp Op)</div><div class="ttdoc">If Op does not already exist in this map, it is inserted and the corresponding DbgOpID is returned.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00384">InstrRefBasedImpl.h:384</a></div></div>
<div class="ttc" id="aAArch64ISelDAGToDAG_8cpp_html_a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081"><div class="ttname"><a href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">SelectTypeKind::FP</a></div><div class="ttdeci">@ FP</div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html_a98d44bec6b754ac8786ab97f219f06f1"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html#a98d44bec6b754ac8786ab97f219f06f1">LiveDebugValues::ValueIDNum::EmptyValue</a></div><div class="ttdeci">static ValueIDNum EmptyValue</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00169">InstrRefBasedImpl.h:169</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">llvm::tgtok::Bit</a></div><div class="ttdeci">@ Bit</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3e34b01a03b81fb60c034eb05e537978"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3e34b01a03b81fb60c034eb05e537978">llvm::MachineBasicBlock::const_succ_iterator</a></div><div class="ttdeci">std::vector&lt; MachineBasicBlock * &gt;::const_iterator const_succ_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00348">MachineBasicBlock.h:348</a></div></div>
<div class="ttc" id="aclassllvm_1_1LexicalScopes_html_a0a853e18c226873fce4557643bcaac9d"><div class="ttname"><a href="classllvm_1_1LexicalScopes.html#a0a853e18c226873fce4557643bcaac9d">llvm::LexicalScopes::getCurrentFunctionScope</a></div><div class="ttdeci">LexicalScope * getCurrentFunctionScope() const</div><div class="ttdoc">getCurrentFunctionScope - Return lexical scope for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="LexicalScopes_8h_source.html#l00156">LexicalScopes.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_ae292a4b96e7f74eb95a4176ddba7b821"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#ae292a4b96e7f74eb95a4176ddba7b821">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::reserve</a></div><div class="ttdeci">void reserve(size_type NumEntries)</div><div class="ttdoc">Grow the densemap so that it can contain at least NumEntries items before resizing again.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00103">DenseMap.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_af972d87e15b5f6ed61bd5c3956c5213d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#af972d87e15b5f6ed61bd5c3956c5213d">llvm::detail::DenseSetImpl::erase</a></div><div class="ttdeci">bool erase(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00101">DenseSet.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a1b59c8fe81267b338774bf6c542f90ee"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a1b59c8fe81267b338774bf6c542f90ee">llvm::DIExpression::getNumElements</a></div><div class="ttdeci">unsigned getNumElements() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02637">DebugInfoMetadata.h:2637</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_ab5f8fcf4162523b2f9ff357da46b4555"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#ab5f8fcf4162523b2f9ff357da46b4555">llvm::MCRegisterInfo::getSubRegIdxOffset</a></div><div class="ttdeci">unsigned getSubRegIdxOffset(unsigned Idx) const</div><div class="ttdoc">Get the offset of the bit range covered by a sub-register index.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8cpp_source.html#l00062">MCRegisterInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_a9959e337a4d3e325e795686118700112"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#a9959e337a4d3e325e795686118700112">LiveDebugValues::DbgValue::dump</a></div><div class="ttdeci">void dump(const MLocTracker *MTrack=nullptr, const DbgOpIDMap *OpStore=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00966">InstrRefBasedImpl.cpp:966</a></div></div>
<div class="ttc" id="aMachineMemOperand_8h_html"><div class="ttname"><a href="MachineMemOperand_8h.html">MachineMemOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; ResolvedDbgOp &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aMachineOperand_8h_html"><div class="ttname"><a href="MachineOperand_8h.html">MachineOperand.h</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOp_html_aad8daff935ad1c509d14a73342911354"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOp.html#aad8daff935ad1c509d14a73342911354">LiveDebugValues::DbgOp::MO</a></div><div class="ttdeci">MachineOperand MO</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00285">InstrRefBasedImpl.h:285</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ab2147cc6810c7774110ebed17d4a2242"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">llvm::TargetRegisterInfo::getSubReg</a></div><div class="ttdeci">MCRegister getSubReg(MCRegister Reg, unsigned Idx) const</div><div class="ttdoc">Returns the physical register number of sub-register &quot;Index&quot; for physical register RegNo.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l01149">TargetRegisterInfo.h:1149</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html">llvm::SmallPtrSetImpl</a></div><div class="ttdoc">A templated base class for SmallPtrSet which provides the typesafe interface that is common across al...</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00344">SmallPtrSet.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a223dd14e7d12bc5cea01889b972a98b2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">str - Get the contents as an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00222">StringRef.h:222</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1ValueIDNum_html_ac7728f00d503fabc8c1034d102af140e"><div class="ttname"><a href="classLiveDebugValues_1_1ValueIDNum.html#ac7728f00d503fabc8c1034d102af140e">LiveDebugValues::ValueIDNum::TombstoneValue</a></div><div class="ttdeci">static ValueIDNum TombstoneValue</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00170">InstrRefBasedImpl.h:170</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1DbgOpID_html_a91064aebe93d3d6b7776a90451f2a854"><div class="ttname"><a href="structLiveDebugValues_1_1DbgOpID.html#a91064aebe93d3d6b7776a90451f2a854">LiveDebugValues::DbgOpID::UndefID</a></div><div class="ttdeci">static DbgOpID UndefID</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00351">InstrRefBasedImpl.h:351</a></div></div>
<div class="ttc" id="astructTransferTracker_1_1Transfer_html_a0f49de4a2fce4559e356823119f0853c"><div class="ttname"><a href="structTransferTracker_1_1Transfer.html#a0f49de4a2fce4559e356823119f0853c">TransferTracker::Transfer::Insts</a></div><div class="ttdeci">SmallVector&lt; MachineInstr *, 4 &gt; Insts</div><div class="ttdoc">non-null if we should insert after.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00194">InstrRefBasedImpl.cpp:194</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_afe9d19d27dd82ae73f86937cb41c3d8b"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#afe9d19d27dd82ae73f86937cb41c3d8b">LiveDebugValues::MLocTracker::LocIdxToName</a></div><div class="ttdeci">std::string LocIdxToName(LocIdx Idx) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01120">InstrRefBasedImpl.cpp:1120</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrInfo_html_a0587abbded61717d8a153b7e5bfdbfed"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">llvm::MCInstrInfo::get</a></div><div class="ttdeci">const MCInstrDesc &amp; get(unsigned Opcode) const</div><div class="ttdoc">Return the machine instruction descriptor that corresponds to the specified instruction opcode.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00063">MCInstrInfo.h:63</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a9d11ae775c5fe114200ed3b7a2df6575"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a9d11ae775c5fe114200ed3b7a2df6575">LiveDebugValues::MLocTracker::emitLoc</a></div><div class="ttdeci">MachineInstrBuilder emitLoc(const SmallVectorImpl&lt; ResolvedDbgOp &gt; &amp;DbgOps, const DebugVariable &amp;Var, const DbgValueProperties &amp;Properties)</div><div class="ttdoc">Create a DBG_VALUE based on debug operands DbgOps.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01158">InstrRefBasedImpl.cpp:1158</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1ResolvedDbgOp_html_a7eb56f89bef382b170cdc8f16022f0c1"><div class="ttname"><a href="structLiveDebugValues_1_1ResolvedDbgOp.html#a7eb56f89bef382b170cdc8f16022f0c1">LiveDebugValues::ResolvedDbgOp::IsConst</a></div><div class="ttdeci">bool IsConst</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00309">InstrRefBasedImpl.h:309</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a19e260b3bbf8fad8480d151e11919836"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a19e260b3bbf8fad8480d151e11919836">llvm::MachineFrameInfo::adjustsStack</a></div><div class="ttdeci">bool adjustsStack() const</div><div class="ttdoc">Return true if this function adjusts the stack – e.g., when calling another function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00609">MachineFrameInfo.h:609</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a0975fbd8e22dcc611900504cbe982610"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a0975fbd8e22dcc611900504cbe982610">LiveDebugValues::MLocTracker::isRegisterTracked</a></div><div class="ttdeci">bool isRegisterTracked(Register R)</div><div class="ttdoc">Is register R currently tracked by MLocTracker?</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00845">InstrRefBasedImpl.h:845</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1InstrRefBasedLDV_html_a3c1165eb09769fbc90612ff41c1830b3"><div class="ttname"><a href="classLiveDebugValues_1_1InstrRefBasedLDV.html#a3c1165eb09769fbc90612ff41c1830b3">LiveDebugValues::InstrRefBasedLDV::findLocationForMemOperand</a></div><div class="ttdeci">std::optional&lt; LocIdx &gt; findLocationForMemOperand(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01349">InstrRefBasedImpl.cpp:1349</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1ResolvedDbgOp_html_a050e8d65a2c929b355298de9980ca144"><div class="ttname"><a href="structLiveDebugValues_1_1ResolvedDbgOp.html#a050e8d65a2c929b355298de9980ca144">LiveDebugValues::ResolvedDbgOp::Loc</a></div><div class="ttdeci">LocIdx Loc</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00306">InstrRefBasedImpl.h:306</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdoc">DominatorTree Class - Concrete subclass of DominatorTreeBase that is used to compute a normal dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00051">MachineDominators.h:51</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_af74676a3c7447be34bd2c1da76ec0c48"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">llvm::SmallPtrSetImpl::contains</a></div><div class="ttdeci">bool contains(ConstPtrType Ptr) const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00389">SmallPtrSet.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a499ea32ca1b8d16cedfe01d1e5b08f29"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00667">SmallVector.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">llvm::pdb::PDB_SymType::Block</a></div><div class="ttdeci">@ Block</div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_ab8ae8456399284b13679782065ee5dfc"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#ab8ae8456399284b13679782065ee5dfc">LiveDebugValues::MLocTracker::readMLoc</a></div><div class="ttdeci">ValueIDNum readMLoc(LocIdx L)</div><div class="ttdoc">Read the value of a particular location.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00828">InstrRefBasedImpl.h:828</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a7604fac2103840a396b49e95b9ba546e"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a7604fac2103840a396b49e95b9ba546e">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::BlkT</a></div><div class="ttdeci">LDVSSABlock BlkT</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l03972">InstrRefBasedImpl.cpp:3972</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_a0867a91c94f59efa8118215449f8b1d6"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#a0867a91c94f59efa8118215449f8b1d6">LiveDebugValues::DbgValue::BlockNo</a></div><div class="ttdeci">int BlockNo</div><div class="ttdoc">For a NoVal or VPHI DbgValue, which block it was generated in.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00452">InstrRefBasedImpl.h:452</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a6472489551b8960cc115a93d95eef9f6a732b32a9387e1f0a0b49cd59b96905ae"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a732b32a9387e1f0a0b49cd59b96905ae">llvm::DIExpression::EntryValue</a></div><div class="ttdeci">@ EntryValue</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02879">DebugInfoMetadata.h:2879</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_ac144ecd93e2625852097b3cab8a9d9bba953f120c5617d3f2b42df3fd424222ad"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba953f120c5617d3f2b42df3fd424222ad">LiveDebugValues::DbgValue::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00459">InstrRefBasedImpl.h:459</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a93d1317dbbd98cf3bdce4d7cb31e81d1a64e4aca4297806247f62a7b5f8cbd3df"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a93d1317dbbd98cf3bdce4d7cb31e81d1a64e4aca4297806247f62a7b5f8cbd3df">llvm::logicalview::LVReportKind::Children</a></div><div class="ttdeci">@ Children</div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4_html_a0760fd7e778d18070dd3e2fae8fa02ce"><div class="ttname"><a href="classllvm_1_1SSAUpdaterTraits_3_01LDVSSAUpdater_01_4.html#a0760fd7e778d18070dd3e2fae8fa02ce">llvm::SSAUpdaterTraits&lt; LDVSSAUpdater &gt;::ValueIsPHI</a></div><div class="ttdeci">static LDVSSAPhi * ValueIsPHI(BlockValueNum Val, LDVSSAUpdater *Updater)</div><div class="ttdoc">ValueIsPHI - Check if the instruction that defines the specified value is a PHI instruction.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l04052">InstrRefBasedImpl.cpp:4052</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugVariable_html_a6bd8dc4b5ad70efa8152ae80ab392b2a"><div class="ttname"><a href="classllvm_1_1DebugVariable.html#a6bd8dc4b5ad70efa8152ae80ab392b2a">llvm::DebugVariable::getFragment</a></div><div class="ttdeci">std::optional&lt; FragmentInfo &gt; getFragment() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03759">DebugInfoMetadata.h:3759</a></div></div>
<div class="ttc" id="aclassllvm_1_1SrcOp_html"><div class="ttname"><a href="classllvm_1_1SrcOp.html">llvm::SrcOp</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8h_source.html#l00128">MachineIRBuilder.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1LexicalScope_html_a0b8657ce0aa24332958157b33db8144e"><div class="ttname"><a href="classllvm_1_1LexicalScope.html#a0b8657ce0aa24332958157b33db8144e">llvm::LexicalScope::getChildren</a></div><div class="ttdeci">SmallVectorImpl&lt; LexicalScope * &gt; &amp; getChildren()</div><div class="ttdef"><b>Definition:</b> <a href="LexicalScopes_8h_source.html#l00065">LexicalScopes.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegAliasIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegAliasIterator.html">llvm::MCRegAliasIterator</a></div><div class="ttdoc">MCRegAliasIterator enumerates all registers aliasing Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00788">MCRegisterInfo.h:788</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="aclassTransferTracker_html_ab76cea3708e144106a37446994e2482c"><div class="ttname"><a href="classTransferTracker.html#ab76cea3708e144106a37446994e2482c">TransferTracker::isEntryValueValue</a></div><div class="ttdeci">bool isEntryValueValue(const ValueIDNum &amp;Val) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l00610">InstrRefBasedImpl.cpp:610</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aMachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a396fcfee6914c76974b73c3d203da6a5"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">llvm::SmallVectorImpl::emplace_back</a></div><div class="ttdeci">reference emplace_back(ArgTypes &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00941">SmallVector.h:941</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_ab2d1c5bd4bf56e5b4124fa4088f5c5d9"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#ab2d1c5bd4bf56e5b4124fa4088f5c5d9">LiveDebugValues::MLocTracker::NumSlotIdxes</a></div><div class="ttdeci">unsigned NumSlotIdxes</div><div class="ttdoc">Number of slot indexes the target has – distinct segments of a stack slot that can take on the value ...</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00667">InstrRefBasedImpl.h:667</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a70d5f445ba9f76ce9d0a11bc11e8e1a9"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a70d5f445ba9f76ce9d0a11bc11e8e1a9">LiveDebugValues::MLocTracker::IDAsString</a></div><div class="ttdeci">std::string IDAsString(const ValueIDNum &amp;Num) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8cpp_source.html#l01135">InstrRefBasedImpl.cpp:1135</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1MLocTracker_html_a2017e35cd152cf2e3885ea8ed8e3d8f5"><div class="ttname"><a href="classLiveDebugValues_1_1MLocTracker.html#a2017e35cd152cf2e3885ea8ed8e3d8f5">LiveDebugValues::MLocTracker::CurBB</a></div><div class="ttdeci">unsigned CurBB</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00659">InstrRefBasedImpl.h:659</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugVariable_html_a90b7ea85a03be15ace66f601bf299322"><div class="ttname"><a href="classllvm_1_1DebugVariable.html#a90b7ea85a03be15ace66f601bf299322">llvm::DebugVariable::getInlinedAt</a></div><div class="ttdeci">const DILocation * getInlinedAt() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03760">DebugInfoMetadata.h:3760</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a94d23373106467003722f7d6c17b1528"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, T &amp;&amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00809">SmallVector.h:809</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html_a529bd775f25e1c6ea4a96b34a5d8bde6"><div class="ttname"><a href="classllvm_1_1Twine.html#a529bd775f25e1c6ea4a96b34a5d8bde6">llvm::Twine::concat</a></div><div class="ttdeci">Twine concat(const Twine &amp;Suffix) const</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00506">Twine.h:506</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a0a07fa5d83bbdde00209bd67ca61999d"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a0a07fa5d83bbdde00209bd67ca61999d">llvm::MCRegisterInfo::getSubRegIdxSize</a></div><div class="ttdeci">unsigned getSubRegIdxSize(unsigned Idx) const</div><div class="ttdoc">Get the size of the bit range covered by a sub-register index.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8cpp_source.html#l00056">MCRegisterInfo.cpp:56</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html_ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html#ac144ecd93e2625852097b3cab8a9d9bba520dc455d7fa69d828e881474255e2ed">LiveDebugValues::DbgValue::VPHI</a></div><div class="ttdeci">@ VPHI</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00461">InstrRefBasedImpl.h:461</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdaterImpl_html"><div class="ttname"><a href="classllvm_1_1SSAUpdaterImpl.html">llvm::SSAUpdaterImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="SSAUpdaterImpl_8h_source.html#l00030">SSAUpdaterImpl.h:30</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:53:06 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
