<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Analysis/IRSimilarityIdentifier.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a25db018342d3ae6c7e6779086c18378.html">Analysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">IRSimilarityIdentifier.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="IRSimilarityIdentifier_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- IRSimilarityIdentifier.cpp - Find similarity in a module -----------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// Implementation file for the IRSimilarityIdentifier for identifying</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// similarities in IR including the IRInstructionMapper.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRSimilarityIdentifier_8h.html">llvm/Analysis/IRSimilarityIdentifier.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SuffixTree_8h.html">llvm/Support/SuffixTree.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">using namespace </span>IRSimilarity;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="namespacellvm.html#a93b773511cf2c25df41bdd74e8718bd3">DisableBranches</a>(<span class="stringliteral">&quot;no-ir-sim-branch-matching&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>,</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;disable similarity matching, and outlining, &quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                             <span class="stringliteral">&quot;across branches for debugging purposes.&quot;</span>));</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="namespacellvm.html#a59a51d46c30287fc47551914e29de21e">DisableIndirectCalls</a>(<span class="stringliteral">&quot;no-ir-sim-indirect-calls&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                         <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                         <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;disable outlining indirect calls.&quot;</span>));</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="namespacellvm.html#a79bdec7db0da9518a1d0ff94f0411fbc">MatchCallsByName</a>(<span class="stringliteral">&quot;ir-sim-calls-by-name&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                     <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;only allow matching call instructions if the &quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                              <span class="stringliteral">&quot;name and type signature match.&quot;</span>));</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="namespacellvm.html#a98fea048f88b5fe74294b5bf72acb93c">DisableIntrinsics</a>(<span class="stringliteral">&quot;no-ir-sim-intrinsics&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                      <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Don&#39;t match or outline intrinsics&quot;</span>));</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a31d26022f657b77aa802a9190611e87b">   48</a></span>&#160;<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a31d26022f657b77aa802a9190611e87b">IRInstructionData::IRInstructionData</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keywordtype">bool</span> Legality,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                     <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionDataList.html">IRInstructionDataList</a> &amp;IDList)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    : Inst(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">Legal</a>(Legality), IDL(&amp;IDList) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a11f86f876fc26e82aaa048a2215da380">initializeInstruction</a>();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a11f86f876fc26e82aaa048a2215da380">   54</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a11f86f876fc26e82aaa048a2215da380">IRInstructionData::initializeInstruction</a>() {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="comment">// We check for whether we have a comparison instruction.  If it is, we</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// find the &quot;less than&quot; version of the predicate for consistency for</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">// comparison instructions throught the program.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;CmpInst&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>)) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a> = <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aa7aa1c92fb184b145e4841fc114e790b">predicateForConsistency</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a> != <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getPredicate())</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aed3027a8796d2aa6a899077856e14da4">RevisedPredicate</a> = <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// Here we collect the operands and their types for determining whether</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// the structure of the operand use matches between two different candidates.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;OI : <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>()) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> (isa&lt;CmpInst&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>) &amp;&amp; <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aed3027a8796d2aa6a899077856e14da4">RevisedPredicate</a>) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="comment">// If we have a CmpInst where the predicate is reversed, it means the</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="comment">// operands must be reversed as well.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ab39a288c69393c860063b5d0348dc05a">OperVals</a>.insert(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ab39a288c69393c860063b5d0348dc05a">OperVals</a>.begin(), OI.get());</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ab39a288c69393c860063b5d0348dc05a">OperVals</a>.push_back(OI.get());</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// We capture the incoming BasicBlocks as values as well as the incoming</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// Values in order to check for structural similarity.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>))</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : PN-&gt;blocks())</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ab39a288c69393c860063b5d0348dc05a">OperVals</a>.push_back(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a5e5e827e16f5593372018118eb77460d">   84</a></span>&#160;<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a31d26022f657b77aa802a9190611e87b">IRInstructionData::IRInstructionData</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionDataList.html">IRInstructionDataList</a> &amp;IDList)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    : IDL(&amp;IDList) {}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ac69ce6b6aa6400d488d250ce4998691b">   87</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ac69ce6b6aa6400d488d250ce4998691b">IRInstructionData::setBranchSuccessors</a>(</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, unsigned&gt;</a> &amp;BasicBlockToInteger) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;BranchInst&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>) &amp;&amp; <span class="stringliteral">&quot;Instruction must be branch&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = cast&lt;BranchInst&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, unsigned&gt;::iterator</a> BBNumIt;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  BBNumIt = BasicBlockToInteger.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(BI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BBNumIt != BasicBlockToInteger.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;         <span class="stringliteral">&quot;Could not find location for BasicBlock!&quot;</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordtype">int</span> CurrentBlockNumber = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(BBNumIt-&gt;second);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a> : BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad37b3ffc4c5f3cbe9248d587a2efb850">successors</a>()) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    BBNumIt = BasicBlockToInteger.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BBNumIt != BasicBlockToInteger.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;           <span class="stringliteral">&quot;Could not find number for BasicBlock!&quot;</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">int</span> OtherBlockNumber = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(BBNumIt-&gt;second);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">int</span> Relative = OtherBlockNumber - CurrentBlockNumber;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a2606c92d4c122037d9065123c3db3093">RelativeBlockLocations</a>.push_back(Relative);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ae0683ad49b9a0ccca8bd1c97987a8cf9">  111</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ae0683ad49b9a0ccca8bd1c97987a8cf9">IRInstructionData::setCalleeName</a>(<span class="keywordtype">bool</span> MatchByName) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CI &amp;&amp; <span class="stringliteral">&quot;Instruction must be call&quot;</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a292aaa1e14576c8e38a2aad65d44f833">CalleeName</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>)) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// To hash intrinsics, we use the opcode, and types like the other</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// instructions, but also, the Intrinsic ID, and the Name of the</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// intrinsic.</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IntrinsicID = II-&gt;getIntrinsicID();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = II-&gt;getFunctionType();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// If there is an overloaded name, we have to use the complex version</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// of getName to get the entire string.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Intrinsic.html#ab2d91e185087b0ac1f22ef439a170c7f">Intrinsic::isOverloaded</a>(IntrinsicID))</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a292aaa1e14576c8e38a2aad65d44f833">CalleeName</a> =</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(IntrinsicID, FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a0400b7a6fcffcd3892d7bb6de435674a">params</a>(), II-&gt;getModule(), FT);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// If there is not an overloaded name, we only need to use this version.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a292aaa1e14576c8e38a2aad65d44f833">CalleeName</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(IntrinsicID).<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a574efc7d85ff014d5f15e077f3c82e6b">isIndirectCall</a>() &amp;&amp; MatchByName)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a292aaa1e14576c8e38a2aad65d44f833">CalleeName</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ab11b9d6834e7a409b18c71e0b19876f5">  138</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ab11b9d6834e7a409b18c71e0b19876f5">IRInstructionData::setPHIPredecessors</a>(</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, unsigned&gt;</a> &amp;BasicBlockToInteger) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;PHINode&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>) &amp;&amp; <span class="stringliteral">&quot;Instruction must be phi node&quot;</span>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = cast&lt;PHINode&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, unsigned&gt;::iterator</a> BBNumIt;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  BBNumIt = BasicBlockToInteger.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BBNumIt != BasicBlockToInteger.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;         <span class="stringliteral">&quot;Could not find location for BasicBlock!&quot;</span>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordtype">int</span> CurrentBlockNumber = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(BBNumIt-&gt;second);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// Convert the incoming blocks of the PHINode to an integer value, based on</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// the relative distances between the current block and the incoming block.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); Idx++) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Incoming = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(Idx);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    BBNumIt = BasicBlockToInteger.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Incoming);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BBNumIt != BasicBlockToInteger.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;           <span class="stringliteral">&quot;Could not find number for BasicBlock!&quot;</span>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">int</span> OtherBlockNumber = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(BBNumIt-&gt;second);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordtype">int</span> Relative = OtherBlockNumber - CurrentBlockNumber;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a2606c92d4c122037d9065123c3db3093">RelativeBlockLocations</a>.push_back(Relative);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a2606c92d4c122037d9065123c3db3093">RelativeBlockLocations</a>.push_back(Relative);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aa7aa1c92fb184b145e4841fc114e790b">  166</a></span>&#160;<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aa7aa1c92fb184b145e4841fc114e790b">IRInstructionData::predicateForConsistency</a>(<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *CI) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">switch</span> (CI-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">getPredicate</a>()) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8">CmpInst::FCMP_OGT</a>:</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba959268ceeae23abe5c9ad9e895669d0c">CmpInst::FCMP_UGT</a>:</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba541533f34077bbbcfb703a90f6d2da9b">CmpInst::FCMP_OGE</a>:</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344">CmpInst::FCMP_UGE</a>:</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">getSwappedPredicate</a>();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">getPredicate</a>();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aec8cb8d34e83a9cfee265a5f8c9ca313">  182</a></span>&#160;<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aec8cb8d34e83a9cfee265a5f8c9ca313">IRInstructionData::getPredicate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;CmpInst&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>) &amp;&amp;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;         <span class="stringliteral">&quot;Can only get a predicate from a compare instruction&quot;</span>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aed3027a8796d2aa6a899077856e14da4">RevisedPredicate</a>)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aed3027a8796d2aa6a899077856e14da4">RevisedPredicate</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">return</span> cast&lt;CmpInst&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>)-&gt;getPredicate();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a0bab19cf37f51e4f51c8b9118e0f41bf">  192</a></span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a0bab19cf37f51e4f51c8b9118e0f41bf">IRInstructionData::getCalleeName</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;CallInst&gt;(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">Inst</a>) &amp;&amp;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;         <span class="stringliteral">&quot;Can only get a name from a call instruction&quot;</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a292aaa1e14576c8e38a2aad65d44f833">CalleeName</a> &amp;&amp; <span class="stringliteral">&quot;CalleeName has not been set&quot;</span>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a292aaa1e14576c8e38a2aad65d44f833">CalleeName</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="namespacellvm_1_1IRSimilarity.html#ad7518d710d81c7c4c04cc6a61e7d65bc">  201</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#ad7518d710d81c7c4c04cc6a61e7d65bc">IRSimilarity::isClose</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> &amp;A,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                           <span class="keyword">const</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">if</span> (!A.Legal || !<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Legal)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// Check if we are performing the same sort of operation on the same types</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// but not on the same values.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">if</span> (!A.Inst-&gt;isSameOperationAs(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Inst)) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// If there is a predicate, this means that either there is a swapped</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// predicate, or that the types are different, we want to make sure that</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// the predicates are equivalent via swapping.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">if</span> (isa&lt;CmpInst&gt;(A.Inst) &amp;&amp; isa&lt;CmpInst&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Inst)) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordflow">if</span> (A.getPredicate() != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getPredicate())</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">// If the predicates are the same via swap, make sure that the types are</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">// still the same.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keyword">auto</span> ZippedTypes = <a class="code" href="namespacellvm.html#a2edb650de7b28add81349f5abf7ed7aa">zip</a>(A.OperVals, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.OperVals);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          ZippedTypes, [](std::tuple&lt;llvm::Value *, llvm::Value *&gt; R) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">return</span> std::get&lt;0&gt;(R)-&gt;getType() == std::get&lt;1&gt;(R)-&gt;getType();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;          });</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// Since any GEP Instruction operands after the first operand cannot be</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// defined by a register, we must make sure that the operands after the first</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// are the same in the two instructions</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GetElementPtrInst&gt;(A.Inst)) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keyword">auto</span> *OtherGEP = cast&lt;GetElementPtrInst&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Inst);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// If the instructions do not have the same inbounds restrictions, we do</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// not consider them the same.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;isInBounds() != OtherGEP-&gt;isInBounds())</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keyword">auto</span> ZippedOperands = <a class="code" href="namespacellvm.html#a2edb650de7b28add81349f5abf7ed7aa">zip</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;indices(), OtherGEP-&gt;indices());</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// We increment here since we do not care about the first instruction,</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// we only care about the following operands since they must be the</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">// exact same to be considered similar.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(<a class="code" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">drop_begin</a>(ZippedOperands),</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                  [](std::tuple&lt;llvm::Use &amp;, llvm::Use &amp;&gt; R) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <span class="keywordflow">return</span> std::get&lt;0&gt;(R) == std::get&lt;1&gt;(R);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                  });</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// If the instructions are functions calls, we make sure that the function</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// name is the same.  We already know that the types are since is</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// isSameOperationAs is true.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (isa&lt;CallInst&gt;(A.Inst) &amp;&amp; isa&lt;CallInst&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Inst)) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (A.getCalleeName().str() != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getCalleeName().str())</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> (isa&lt;BranchInst&gt;(A.Inst) &amp;&amp; isa&lt;BranchInst&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Inst) &amp;&amp;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      A.RelativeBlockLocations.size() != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.RelativeBlockLocations.size())</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">// TODO: This is the same as the MachineOutliner, and should be consolidated</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">// into the same interface.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ae3af188e096e8a1152a33285a1c83c33">  270</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ae3af188e096e8a1152a33285a1c83c33">IRInstructionMapper::convertToUnsignedVec</a>(</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, std::vector&lt;IRInstructionData *&gt; &amp;<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    std::vector&lt;unsigned&gt; &amp;IntegerMapping) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> It = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.begin();</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  std::vector&lt;unsigned&gt; IntegerMappingForBB;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  std::vector&lt;IRInstructionData *&gt; InstrListForBB;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Et = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.end(); It != Et; ++It) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">InstClassifier</a>.<a class="code" href="classllvm_1_1InstVisitor.html#a6352e72d11377a9c62f24434ae869bf0">visit</a>(*It)) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">InstrType::Legal</a>:</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ae392ae2bd47b6a65a6d70f61ad7225a3">mapToLegalUnsigned</a>(It, IntegerMappingForBB, InstrListForBB);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">InstrType::Illegal</a>:</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aee2e5f8ff22ce6063643fea5c5b282d5">mapToIllegalUnsigned</a>(It, IntegerMappingForBB, InstrListForBB);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda47b7bba75c0c242b40fece427c2bfefa">InstrType::Invisible</a>:</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aed7023ae0be840bc273712a9905e3c06">AddedIllegalLastTime</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aed7023ae0be840bc273712a9905e3c06">AddedIllegalLastTime</a>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aee2e5f8ff22ce6063643fea5c5b282d5">mapToIllegalUnsigned</a>(It, IntegerMappingForBB, InstrListForBB, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> *<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : InstrListForBB)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    this-&gt;<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aba61492b976936c3faf96a7713e175d9">IDL</a>-&gt;<a class="code" href="classllvm_1_1simple__ilist.html#acd9e9e84ef0b4b94fdda7d6ceff1e01d">push_back</a>(*<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>, InstrListForBB);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(IntegerMapping, IntegerMappingForBB);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">// TODO: This is the same as the MachineOutliner, and should be consolidated</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">// into the same interface.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ae392ae2bd47b6a65a6d70f61ad7225a3">  302</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ae392ae2bd47b6a65a6d70f61ad7225a3">IRInstructionMapper::mapToLegalUnsigned</a>(</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> &amp;It, std::vector&lt;unsigned&gt; &amp;IntegerMappingForBB,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    std::vector&lt;IRInstructionData *&gt; &amp;InstrListForBB) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// We added something legal, so we should unset the AddedLegalLastTime</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">// flag.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aed7023ae0be840bc273712a9905e3c06">AddedIllegalLastTime</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// If we have at least two adjacent legal instructions (which may have</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// invisible instructions in between), remember that.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ab943fd711b08ed084ecf2ed90abf1832">CanCombineWithPrevInstr</a>)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aa21c1493313104ffa2d57c0379c4d145">HaveLegalRange</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ab943fd711b08ed084ecf2ed90abf1832">CanCombineWithPrevInstr</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// Get the integer for this instruction or give it the current</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">// LegalInstrNumber.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> *<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aac95ccee9d5cbc582a1bab1d1e9e854d">allocateIRInstructionData</a>(*It, <span class="keyword">true</span>, *<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aba61492b976936c3faf96a7713e175d9">IDL</a>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  InstrListForBB.push_back(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">if</span> (isa&lt;BranchInst&gt;(*It))</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;setBranchSuccessors(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ac340be8c899d6572628a6944b17110bc">BasicBlockToInteger</a>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">if</span> (isa&lt;CallInst&gt;(*It))</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;setCalleeName(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a3ab651a0029c43f8639d98cbe3a4bc0c">EnableMatchCallsByName</a>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(*It))</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;setPHIPredecessors(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ac340be8c899d6572628a6944b17110bc">BasicBlockToInteger</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">// Add to the instruction list</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordtype">bool</span> WasInserted;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">DenseMap&lt;IRInstructionData *, unsigned, IRInstructionDataTraits&gt;::iterator</a></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      ResultIt;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  std::tie(ResultIt, WasInserted) =</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a0f22f1cd41d211cd1c0f3ada0f43d576">InstructionIntegerMap</a>.insert(std::make_pair(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a586d66c347a83ddac2d4552c720d3511">LegalInstrNumber</a>));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordtype">unsigned</span> INumber = ResultIt-&gt;second;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="comment">// There was an insertion.</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">if</span> (WasInserted)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a586d66c347a83ddac2d4552c720d3511">LegalInstrNumber</a>++;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  IntegerMappingForBB.push_back(INumber);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// Make sure we don&#39;t overflow or use any integers reserved by the DenseMap.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a586d66c347a83ddac2d4552c720d3511">LegalInstrNumber</a> &lt; <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a60e5af3b7e239b6fdad88efbe1e861bd">IllegalInstrNumber</a> &amp;&amp;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;         <span class="stringliteral">&quot;Instruction mapping overflow!&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a586d66c347a83ddac2d4552c720d3511">LegalInstrNumber</a> != <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getEmptyKey</a>() &amp;&amp;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;         <span class="stringliteral">&quot;Tried to assign DenseMap tombstone or empty key to instruction.&quot;</span>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a586d66c347a83ddac2d4552c720d3511">LegalInstrNumber</a> != <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getTombstoneKey</a>() &amp;&amp;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;         <span class="stringliteral">&quot;Tried to assign DenseMap tombstone or empty key to instruction.&quot;</span>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">return</span> INumber;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> *</div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aac95ccee9d5cbc582a1bab1d1e9e854d">  356</a></span>&#160;<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aac95ccee9d5cbc582a1bab1d1e9e854d">IRInstructionMapper::allocateIRInstructionData</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keywordtype">bool</span> Legality,</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                               <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionDataList.html">IRInstructionDataList</a> &amp;IDL) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> (<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a300223e253d8cc149948becb9ef98378">InstDataAllocator</a>-&gt;Allocate()) <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Legality, <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aba61492b976936c3faf96a7713e175d9">IDL</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> *</div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a0a81ca571e91f33e3a9e433e8bb075b3">  362</a></span>&#160;<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aac95ccee9d5cbc582a1bab1d1e9e854d">IRInstructionMapper::allocateIRInstructionData</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionDataList.html">IRInstructionDataList</a> &amp;IDL) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> (<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a300223e253d8cc149948becb9ef98378">InstDataAllocator</a>-&gt;Allocate()) <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aba61492b976936c3faf96a7713e175d9">IDL</a>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionDataList.html">IRInstructionDataList</a> *</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#accaaf76a12845e506563d51d9617773d">  367</a></span>&#160;<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#accaaf76a12845e506563d51d9617773d">IRInstructionMapper::allocateIRInstructionDataList</a>() {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> (<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a2fdad6185139f685b846369c634a04cf">IDLAllocator</a>-&gt;Allocate()) <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionDataList.html">IRInstructionDataList</a>();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">// TODO: This is the same as the MachineOutliner, and should be consolidated</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">// into the same interface.</span></div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aee2e5f8ff22ce6063643fea5c5b282d5">  373</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aee2e5f8ff22ce6063643fea5c5b282d5">IRInstructionMapper::mapToIllegalUnsigned</a>(</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> &amp;It, std::vector&lt;unsigned&gt; &amp;IntegerMappingForBB,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    std::vector&lt;IRInstructionData *&gt; &amp;InstrListForBB, <span class="keywordtype">bool</span> End) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// Can&#39;t combine an illegal instruction. Set the flag.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ab943fd711b08ed084ecf2ed90abf1832">CanCombineWithPrevInstr</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// Only add one illegal number per range of legal numbers.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aed7023ae0be840bc273712a9905e3c06">AddedIllegalLastTime</a>)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a60e5af3b7e239b6fdad88efbe1e861bd">IllegalInstrNumber</a>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> *<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">if</span> (!End)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aac95ccee9d5cbc582a1bab1d1e9e854d">allocateIRInstructionData</a>(*It, <span class="keyword">false</span>, *<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aba61492b976936c3faf96a7713e175d9">IDL</a>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aac95ccee9d5cbc582a1bab1d1e9e854d">allocateIRInstructionData</a>(*<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aba61492b976936c3faf96a7713e175d9">IDL</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  InstrListForBB.push_back(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// Remember that we added an illegal number last time.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aed7023ae0be840bc273712a9905e3c06">AddedIllegalLastTime</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordtype">unsigned</span> INumber = <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a60e5af3b7e239b6fdad88efbe1e861bd">IllegalInstrNumber</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  IntegerMappingForBB.push_back(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a60e5af3b7e239b6fdad88efbe1e861bd">IllegalInstrNumber</a>--);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a586d66c347a83ddac2d4552c720d3511">LegalInstrNumber</a> &lt; <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a60e5af3b7e239b6fdad88efbe1e861bd">IllegalInstrNumber</a> &amp;&amp;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;         <span class="stringliteral">&quot;Instruction mapping overflow!&quot;</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a60e5af3b7e239b6fdad88efbe1e861bd">IllegalInstrNumber</a> != <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getEmptyKey</a>() &amp;&amp;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;         <span class="stringliteral">&quot;IllegalInstrNumber cannot be DenseMap tombstone or empty key!&quot;</span>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a60e5af3b7e239b6fdad88efbe1e861bd">IllegalInstrNumber</a> != <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getTombstoneKey</a>() &amp;&amp;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;         <span class="stringliteral">&quot;IllegalInstrNumber cannot be DenseMap tombstone or empty key!&quot;</span>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">return</span> INumber;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ae35aff2dc6fcdec60f53cdcfabea59f7">  407</a></span>&#160;<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ae35aff2dc6fcdec60f53cdcfabea59f7">IRSimilarityCandidate::IRSimilarityCandidate</a>(<span class="keywordtype">unsigned</span> StartIdx, <span class="keywordtype">unsigned</span> Len,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                             <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> *FirstInstIt,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                             <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> *LastInstIt)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    : StartIdx(StartIdx), Len(Len) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FirstInstIt != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;Instruction is nullptr!&quot;</span>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LastInstIt != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;Instruction is nullptr!&quot;</span>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(StartIdx + Len &gt; StartIdx &amp;&amp;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;         <span class="stringliteral">&quot;Overflow for IRSimilarityCandidate range?&quot;</span>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Len - 1 == <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(std::distance(</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#aa35442169d90583b71e568b9a27690b0">iterator</a>(FirstInstIt), <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#aa35442169d90583b71e568b9a27690b0">iterator</a>(LastInstIt))) &amp;&amp;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;         <span class="stringliteral">&quot;Length of the first and last IRInstructionData do not match the &quot;</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;         <span class="stringliteral">&quot;given length&quot;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// We iterate over the given instructions, and map each unique value</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// to a unique number in the IRSimilarityCandidate ValueToNumber and</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// NumberToValue maps.  A constant get its own value globally, the individual</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// uses of the constants are not considered to be unique.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// IR:                    Mapping Added:</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="comment">// %add1 = add i32 %a, c1    %add1 -&gt; 3, %a -&gt; 1, c1 -&gt; 2</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// %add2 = add i32 %a, %1    %add2 -&gt; 4</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="comment">// %add3 = add i32 c2, c1    %add3 -&gt; 6, c2 -&gt; 5</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// when replace with global values, starting from 1, would be</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// 3 = add i32 1, 2</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">// 4 = add i32 1, 3</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// 6 = add i32 5, 2</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordtype">unsigned</span> LocalValNumber = 1;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">IRInstructionDataList::iterator</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#aa35442169d90583b71e568b9a27690b0">iterator</a>(*FirstInstIt);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Loc = StartIdx; Loc &lt; StartIdx + Len; Loc++, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>++) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// Map the operand values to an unsigned integer if it does not already</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// have an unsigned integer assigned to it.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;OperVals)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">if</span> (ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>) == ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a98c685a0c53f3f7ed5f4793890a6c850">try_emplace</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, LocalValNumber);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        NumberToValue.try_emplace(LocalValNumber, <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        LocalValNumber++;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">// Mapping the instructions to an unsigned integer if it is not already</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">// exist in the mapping.</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> (ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;Inst) == ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a98c685a0c53f3f7ed5f4793890a6c850">try_emplace</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;Inst, LocalValNumber);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      NumberToValue.try_emplace(LocalValNumber, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;Inst);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      LocalValNumber++;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">// Setting the first and last instruction data pointers for the candidate.  If</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="comment">// we got through the entire for loop without hitting an assert, we know</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="comment">// that both of these instructions are not nullptrs.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  FirstInst = FirstInstIt;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  LastInst = LastInstIt;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// Add the basic blocks contained in the set into the global value numbering.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;BasicBlock *&gt;</a> BBSet;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a93f165686cbc3ed0554ec8431f9c9b21">getBasicBlocks</a>(BBSet);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : BBSet) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> (ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) != ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a98c685a0c53f3f7ed5f4793890a6c850">try_emplace</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, LocalValNumber);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    NumberToValue.try_emplace(LocalValNumber, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    LocalValNumber++;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a23d2b4941adb672f1a2ce945399065e3">  476</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a23d2b4941adb672f1a2ce945399065e3">IRSimilarityCandidate::isSimilar</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;A,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">if</span> (A.getLength() != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getLength())</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keyword">auto</span> InstrDataForBoth =</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <a class="code" href="namespacellvm.html#a2edb650de7b28add81349f5abf7ed7aa">zip</a>(<a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(A.begin(), A.end()), <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.begin(), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.end()));</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(InstrDataForBoth,</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                [](std::tuple&lt;IRInstructionData &amp;, IRInstructionData &amp;&gt; R) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> &amp;A = std::get&lt;0&gt;(R);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = std::get&lt;1&gt;(R);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                  <span class="keywordflow">if</span> (!A.Legal || !<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Legal)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#ad7518d710d81c7c4c04cc6a61e7d65bc">isClose</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                });</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">/// Determine if one or more of the assigned global value numbers for the</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">/// operands in \p TargetValueNumbers is in the current mapping set for operand</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">/// numbers in \p SourceOperands.  The set of possible corresponding global</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">/// value numbers are replaced with the most recent version of compatible</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">/// values.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">/// \param [in] SourceValueToNumberMapping - The mapping of a Value to global</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">/// value number for the source IRInstructionCandidate.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">/// \param [in, out] CurrentSrcTgtNumberMapping - The current mapping of source</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">/// IRSimilarityCandidate global value numbers to a set of possible numbers in</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">/// the target.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">/// \param [in] SourceOperands - The operands in the original</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">/// IRSimilarityCandidate in the current instruction.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">/// \param [in] TargetValueNumbers - The global value numbers of the operands in</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">/// the corresponding Instruction in the other IRSimilarityCandidate.</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">/// \returns true if there exists a possible mapping between the source</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">/// Instruction operands and the target Instruction operands, and false if not.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="IRSimilarityIdentifier_8cpp.html#a2e0a6a332b9fe6a5c95d41848e94c4b3">  511</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="IRSimilarityIdentifier_8cpp.html#a2e0a6a332b9fe6a5c95d41848e94c4b3">checkNumberingAndReplaceCommutative</a>(</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, unsigned&gt;</a> &amp;SourceValueToNumberMapping,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>&gt; &amp;CurrentSrcTgtNumberMapping,</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> &amp;SourceOperands,</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> &amp;TargetValueNumbers){</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, DenseSet&lt;unsigned&gt;</a>&gt;::iterator ValueMappingIt;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordtype">unsigned</span> ArgVal;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordtype">bool</span> WasInserted;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// Iterate over the operands in the source IRSimilarityCandidate to determine</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// whether there exists an operand in the other IRSimilarityCandidate that</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="comment">// creates a valid mapping of Value to Value between the</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// IRSimilarityCaniddates.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : SourceOperands) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    ArgVal = SourceValueToNumberMapping.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(V)-&gt;second;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// Instead of finding a current mapping, we attempt to insert a set.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    std::tie(ValueMappingIt, WasInserted) = CurrentSrcTgtNumberMapping.insert(</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        std::make_pair(ArgVal, TargetValueNumbers));</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// We need to iterate over the items in other IRSimilarityCandidate&#39;s</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="comment">// Instruction to determine whether there is a valid mapping of</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// Value to Value.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> NewSet;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> &amp;Curr : ValueMappingIt-&gt;second)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="comment">// If we can find the value in the mapping, we add it to the new set.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">if</span> (TargetValueNumbers.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(Curr))</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        NewSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(Curr);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// If we could not find a Value, return 0.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (NewSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a3c9d867ff6bde97841c2b7983f5c70">empty</a>())</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// Otherwise replace the old mapping with the newly constructed one.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (NewSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a025cb106832026cd05c2b4648a699f">size</a>() != ValueMappingIt-&gt;second.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>())</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      ValueMappingIt-&gt;second.<a class="code" href="classllvm_1_1DenseMap.html#aa67dc49a37f9cee49ebd4d3bde73d8e4">swap</a>(NewSet);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">// We have reached no conclusions about the mapping, and cannot remove</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">// any items from the other operands, so we move to check the next operand.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> (ValueMappingIt-&gt;second.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>() != 1)</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordtype">unsigned</span> ValToRemove = *ValueMappingIt-&gt;second.<a class="code" href="classllvm_1_1DenseMapBase.html#a50d461a887e200e704e5157d3b21514d">begin</a>();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">// When there is only one item left in the mapping for and operand, remove</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// the value from the other operands.  If it results in there being no</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="comment">// mapping, return false, it means the mapping is wrong</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *InnerV : SourceOperands) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">if</span> (V == InnerV)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <span class="keywordtype">unsigned</span> InnerVal = SourceValueToNumberMapping.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(InnerV)-&gt;second;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      ValueMappingIt = CurrentSrcTgtNumberMapping.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(InnerVal);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keywordflow">if</span> (ValueMappingIt == CurrentSrcTgtNumberMapping.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      ValueMappingIt-&gt;second.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(ValToRemove);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="keywordflow">if</span> (ValueMappingIt-&gt;second.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>())</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">/// Determine if operand number \p TargetArgVal is in the current mapping set</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">/// for operand number \p SourceArgVal.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">/// \param [in, out] CurrentSrcTgtNumberMapping current mapping of global</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">/// value numbers from source IRSimilarityCandidate to target</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">/// IRSimilarityCandidate.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">/// \param [in] SourceArgVal The global value number for an operand in the</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">/// in the original candidate.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">/// \param [in] TargetArgVal The global value number for the corresponding</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">/// operand in the other candidate.</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">/// \returns True if there exists a mapping and false if not.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="IRSimilarityIdentifier_8cpp.html#a43af37cebdaf106e26effd6495f2dba3">  588</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="IRSimilarityIdentifier_8cpp.html#a43af37cebdaf106e26effd6495f2dba3">checkNumberingAndReplace</a>(</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>&gt; &amp;CurrentSrcTgtNumberMapping,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordtype">unsigned</span> SourceArgVal, <span class="keywordtype">unsigned</span> TargetArgVal) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="comment">// We are given two unsigned integers representing the global values of</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="comment">// the operands in different IRSimilarityCandidates and a current mapping</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="comment">// between the two.</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="comment">// Source Operand GVN: 1</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="comment">// Target Operand GVN: 2</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="comment">// CurrentMapping: {1: {1, 2}}</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="comment">// Since we have mapping, and the target operand is contained in the set, we</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="comment">// update it to:</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="comment">// CurrentMapping: {1: {2}}</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="comment">// and can return true. But, if the mapping was</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">// CurrentMapping: {1: {3}}</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">// we would return false.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordtype">bool</span> WasInserted;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, DenseSet&lt;unsigned&gt;</a>&gt;::iterator Val;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  std::tie(Val, WasInserted) = CurrentSrcTgtNumberMapping.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      std::make_pair(SourceArgVal, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>({TargetArgVal})));</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="comment">// If we created a new mapping, then we are done.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">if</span> (WasInserted)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="comment">// If there is more than one option in the mapping set, and the target value</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// is included in the mapping set replace that set with one that only includes</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="comment">// the target value, as it is the only valid mapping via the non commutative</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="comment">// instruction.</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> &amp;TargetSet = Val-&gt;second;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">if</span> (TargetSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a025cb106832026cd05c2b4648a699f">size</a>() &gt; 1 &amp;&amp; TargetSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(TargetArgVal)) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    TargetSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a1fbf4d66a9eeaa9ade03e8febee097ee">clear</a>();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    TargetSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(TargetArgVal);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="comment">// Return true if we can find the value in the set.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">return</span> TargetSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(TargetArgVal);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#afaccf8f3711195931b9eaaa317eb637c">  632</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#afaccf8f3711195931b9eaaa317eb637c">IRSimilarityCandidate::compareNonCommutativeOperandMapping</a>(</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1OperandMapping.html">OperandMapping</a> A, <a class="code" href="structllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1OperandMapping.html">OperandMapping</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// Iterators to keep track of where we are in the operands for each</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// Instruction.</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html#a9b76b9e6f7d06ec15424e309cf440114">ArrayRef&lt;Value *&gt;::iterator</a> VItA = A.OperVals.begin();</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html#a9b76b9e6f7d06ec15424e309cf440114">ArrayRef&lt;Value *&gt;::iterator</a> VItB = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.OperVals.begin();</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordtype">unsigned</span> OperandLength = A.OperVals.size();</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// For each operand, get the value numbering and ensure it is consistent.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; OperandLength; Idx++, VItA++, VItB++) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordtype">unsigned</span> OperValA = A.IRSC.ValueToNumber.find(*VItA)-&gt;second;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordtype">unsigned</span> OperValB = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.IRSC.ValueToNumber.find(*VItB)-&gt;second;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// Attempt to add a set with only the target value.  If there is no mapping</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">// we can create it here.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// For an instruction like a subtraction:</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// IRSimilarityCandidateA:  IRSimilarityCandidateB:</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// %resultA = sub %a, %b    %resultB = sub %d, %e</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="comment">// We map %a -&gt; %d and %b -&gt; %e.</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// And check to see whether their mapping is consistent in</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// checkNumberingAndReplace.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (!<a class="code" href="IRSimilarityIdentifier_8cpp.html#a43af37cebdaf106e26effd6495f2dba3">checkNumberingAndReplace</a>(A.ValueNumberMapping, OperValA, OperValB))</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRSimilarityIdentifier_8cpp.html#a43af37cebdaf106e26effd6495f2dba3">checkNumberingAndReplace</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.ValueNumberMapping, OperValB, OperValA))</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#afe6bd5545903e7ba1de9af2e7d0d2a4a">  666</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#afe6bd5545903e7ba1de9af2e7d0d2a4a">IRSimilarityCandidate::compareCommutativeOperandMapping</a>(</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="structllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1OperandMapping.html">OperandMapping</a> A, <a class="code" href="structllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1OperandMapping.html">OperandMapping</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> ValueNumbersA;      </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> ValueNumbersB;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html#a9b76b9e6f7d06ec15424e309cf440114">ArrayRef&lt;Value *&gt;::iterator</a> VItA = A.OperVals.begin();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html#a9b76b9e6f7d06ec15424e309cf440114">ArrayRef&lt;Value *&gt;::iterator</a> VItB = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.OperVals.begin();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordtype">unsigned</span> OperandLength = A.OperVals.size();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="comment">// Find the value number sets for the operands.</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; OperandLength;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;       Idx++, VItA++, VItB++) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    ValueNumbersA.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(A.IRSC.ValueToNumber.find(*VItA)-&gt;second);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    ValueNumbersB.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.IRSC.ValueToNumber.find(*VItB)-&gt;second);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="comment">// Iterate over the operands in the first IRSimilarityCandidate and make sure</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// there exists a possible mapping with the operands in the second</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">// IRSimilarityCandidate.</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRSimilarityIdentifier_8cpp.html#a2e0a6a332b9fe6a5c95d41848e94c4b3">checkNumberingAndReplaceCommutative</a>(A.IRSC.ValueToNumber,</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                                           A.ValueNumberMapping, A.OperVals,</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                                           ValueNumbersB))</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">// Iterate over the operands in the second IRSimilarityCandidate and make sure</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// there exists a possible mapping with the operands in the first</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// IRSimilarityCandidate.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRSimilarityIdentifier_8cpp.html#a2e0a6a332b9fe6a5c95d41848e94c4b3">checkNumberingAndReplaceCommutative</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.IRSC.ValueToNumber,</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                                           <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.ValueNumberMapping, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.OperVals,</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                                           ValueNumbersA))</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#aa8a8f00e0169503c48f26bffcf4d6646">  701</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#aa8a8f00e0169503c48f26bffcf4d6646">IRSimilarityCandidate::checkRelativeLocations</a>(<a class="code" href="structllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1RelativeLocMapping.html">RelativeLocMapping</a> A,</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                                                   <a class="code" href="structllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1RelativeLocMapping.html">RelativeLocMapping</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="comment">// Get the basic blocks the label refers to.</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ABB = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<span class="keyword">&gt;</span>(A.OperVal);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BBB = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<span class="keyword">&gt;</span>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.OperVal);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">// Get the basic blocks contained in each region.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;BasicBlock *&gt;</a> BasicBlockA;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;BasicBlock *&gt;</a> BasicBlockB;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  A.IRSC.getBasicBlocks(BasicBlockA);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.IRSC.getBasicBlocks(BasicBlockB);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="comment">// Determine if the block is contained in the region.</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordtype">bool</span> AContained = BasicBlockA.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(ABB);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordtype">bool</span> BContained = BasicBlockB.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(BBB);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// Both blocks need to be contained in the region, or both need to be outside</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="comment">// the reigon.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keywordflow">if</span> (AContained != BContained)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">// If both are contained, then we need to make sure that the relative</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// distance to the target blocks are the same.</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">if</span> (AContained)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">return</span> A.RelativeLocation == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.RelativeLocation;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;}</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab7090e2692a1125bbf970b981dbe21ce">  729</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab7090e2692a1125bbf970b981dbe21ce">IRSimilarityCandidate::compareStructure</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;A,</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, DenseSet&lt;unsigned&gt;</a>&gt; MappingA;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, DenseSet&lt;unsigned&gt;</a>&gt; MappingB;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab7090e2692a1125bbf970b981dbe21ce">IRSimilarityCandidate::compareStructure</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, MappingA, MappingB);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="keyword">typedef</span> <a class="code" href="classllvm_1_1detail_1_1zippy.html">detail::zippy&lt;detail::zip_shortest, SmallVector&lt;int, 4&gt;</a> &amp;,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 4&gt;</a> &amp;, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> &amp;,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> &amp;&gt;</div>
<div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="IRSimilarityIdentifier_8cpp.html#a461e1adc16a7dc9d148b35c8751a1002">  739</a></span>&#160;    <a class="code" href="IRSimilarityIdentifier_8cpp.html#a461e1adc16a7dc9d148b35c8751a1002">ZippedRelativeLocationsT</a>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a2096eaed88026a1bfe9d6f7c8619130d">  741</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab7090e2692a1125bbf970b981dbe21ce">IRSimilarityCandidate::compareStructure</a>(</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>,</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>&gt; &amp;ValueNumberMappingA,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>&gt; &amp;ValueNumberMappingB) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">if</span> (A.getLength() != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getLength())</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">if</span> (A.ValueToNumber.size() != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.ValueToNumber.size())</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">iterator</a> ItA = A.begin();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">iterator</a> ItB = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.begin();</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="comment">// These ValueNumber Mapping sets create a create a mapping between the values</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="comment">// in one candidate to values in the other candidate.  If we create a set with</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="comment">// one element, and that same element maps to the original element in the</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">// candidate we have a good mapping.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, DenseSet&lt;unsigned&gt;</a>&gt;<a class="code" href="classllvm_1_1ilist__iterator.html">::iterator</a> ValueMappingIt;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="comment">// Iterate over the instructions contained in each candidate</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordtype">unsigned</span> SectionLength = A.getStartIdx() + A.getLength();</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Loc = A.getStartIdx(); Loc &lt; SectionLength;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;       ItA++, ItB++, Loc++) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">// Make sure the instructions are similar to one another.</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1IRSimilarity.html#ad7518d710d81c7c4c04cc6a61e7d65bc">isClose</a>(*ItA, *ItB))</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a> = ItA-&gt;Inst;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a438dbcc76b79fb10acb447ec5d141287">IB</a> = ItB-&gt;Inst;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (!ItA-&gt;Legal || !ItB-&gt;Legal)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// Get the operand sets for the instructions.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> OperValsA = ItA-&gt;OperVals;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> OperValsB = ItB-&gt;OperVals;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordtype">unsigned</span> InstValA = A.ValueToNumber.find(<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>)-&gt;second;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordtype">unsigned</span> InstValB = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.ValueToNumber.find(<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a438dbcc76b79fb10acb447ec5d141287">IB</a>)-&gt;second;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordtype">bool</span> WasInserted;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// Ensure that the mappings for the instructions exists.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    std::tie(ValueMappingIt, WasInserted) = ValueNumberMappingA.insert(</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        std::make_pair(InstValA, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>({InstValB})));</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">if</span> (!WasInserted &amp;&amp; !ValueMappingIt-&gt;second.contains(InstValB))</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    std::tie(ValueMappingIt, WasInserted) = ValueNumberMappingB.insert(</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        std::make_pair(InstValB, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>({InstValA})));</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">if</span> (!WasInserted &amp;&amp; !ValueMappingIt-&gt;second.contains(InstValA))</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// We have different paths for commutative instructions and non-commutative</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// instructions since commutative instructions could allow multiple mappings</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">// to certain values.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>-&gt;isCommutative() &amp;&amp; !isa&lt;FPMathOperator&gt;(<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>) &amp;&amp;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        !isa&lt;IntrinsicInst&gt;(<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>)) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#afe6bd5545903e7ba1de9af2e7d0d2a4a">compareCommutativeOperandMapping</a>(</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;              {A, OperValsA, ValueNumberMappingA},</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;              {<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, OperValsB, ValueNumberMappingB}))</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// Handle the non-commutative cases.</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#afaccf8f3711195931b9eaaa317eb637c">compareNonCommutativeOperandMapping</a>(</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            {A, OperValsA, ValueNumberMappingA},</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            {<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, OperValsB, ValueNumberMappingB}))</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// Here we check that between two corresponding instructions,</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// when referring to a basic block in the same region, the</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">// relative locations are the same. And, that the instructions refer to</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="comment">// basic blocks outside the region in the same corresponding locations.</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="comment">// We are able to make the assumption about blocks outside of the region</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">// since the target block labels are considered values and will follow the</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">// same number matching that we defined for the other instructions in the</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="comment">// region.  So, at this point, in each location we target a specific block</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="comment">// outside the region, we are targeting a corresponding block in each</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="comment">// analagous location in the region we are comparing to.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">if</span> (!(isa&lt;BranchInst&gt;(<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>) &amp;&amp; isa&lt;BranchInst&gt;(<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a438dbcc76b79fb10acb447ec5d141287">IB</a>)) &amp;&amp;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        !(isa&lt;PHINode&gt;(<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>) &amp;&amp; isa&lt;PHINode&gt;(<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a438dbcc76b79fb10acb447ec5d141287">IB</a>)))</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 4&gt;</a> &amp;RelBlockLocsA = ItA-&gt;RelativeBlockLocations;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 4&gt;</a> &amp;RelBlockLocsB = ItB-&gt;RelativeBlockLocations;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">if</span> (RelBlockLocsA.size() != RelBlockLocsB.size() &amp;&amp;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        OperValsA.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() != OperValsB.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>())</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="classllvm_1_1detail_1_1zippy.html">ZippedRelativeLocationsT</a> ZippedRelativeLocations =</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="namespacellvm.html#a2edb650de7b28add81349f5abf7ed7aa">zip</a>(RelBlockLocsA, RelBlockLocsB, OperValsA, OperValsB);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(ZippedRelativeLocations,</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;               [&amp;A, &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>](std::tuple&lt;int, int, Value *, Value *&gt; R) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                 <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#aa8a8f00e0169503c48f26bffcf4d6646">checkRelativeLocations</a>(</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                     {A, std::get&lt;0&gt;(R), std::get&lt;2&gt;(R)},</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                     {<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, std::get&lt;1&gt;(R), std::get&lt;3&gt;(R)});</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;               }))</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ad02bc9bd1feca133eb84b3618e93fb37">  846</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ad02bc9bd1feca133eb84b3618e93fb37">IRSimilarityCandidate::overlap</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;A,</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keyword">auto</span> DoesOverlap = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">// Check:</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// XXXXXX        X starts before Y ends</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="comment">//      YYYYYYY  Y starts after X starts</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.StartIdx &lt;= <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>.getEndIdx() &amp;&amp; <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>.StartIdx &gt;= <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.StartIdx;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  };</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordflow">return</span> DoesOverlap(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) || DoesOverlap(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, A);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;}</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="keywordtype">void</span> IRSimilarityIdentifier::populateMapper(</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, std::vector&lt;IRInstructionData *&gt; &amp;<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>,</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    std::vector&lt;unsigned&gt; &amp;IntegerMapping) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  std::vector&lt;IRInstructionData *&gt; InstrListForModule;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  std::vector&lt;unsigned&gt; IntegerMappingForModule;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="comment">// Iterate over the functions in the module to map each Instruction in each</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="comment">// BasicBlock to an unsigned integer.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7c35c00b1125706d72f31c37b442fdc2">initializeForBBs</a>(M);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : M) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.empty())</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="comment">// BB has potential to have similarity since it has a size greater than 2</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="comment">// and can therefore match other regions greater than 2. Map it to a list</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <span class="comment">// of unsigned integers.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ae3af188e096e8a1152a33285a1c83c33">convertToUnsignedVec</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, InstrListForModule,</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                  IntegerMappingForModule);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> It = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.begin()-&gt;end();</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aee2e5f8ff22ce6063643fea5c5b282d5">mapToIllegalUnsigned</a>(It, IntegerMappingForModule, InstrListForModule,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                <span class="keyword">true</span>);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (InstrListForModule.size() &gt; 0)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aba61492b976936c3faf96a7713e175d9">IDL</a>-&gt;<a class="code" href="classllvm_1_1simple__ilist.html#acd9e9e84ef0b4b94fdda7d6ceff1e01d">push_back</a>(*InstrListForModule.back());</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="comment">// Insert the InstrListForModule at the end of the overall InstrList so that</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">// we can have a long InstrList for the entire set of Modules being analyzed.</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>, InstrListForModule);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="comment">// Do the same as above, but for IntegerMapping.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(IntegerMapping, IntegerMappingForModule);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;}</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="keywordtype">void</span> IRSimilarityIdentifier::populateMapper(</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt;std::unique_ptr&lt;Module&gt;&gt; &amp;Modules,</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    std::vector&lt;IRInstructionData *&gt; &amp;<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>,</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    std::vector&lt;unsigned&gt; &amp;IntegerMapping) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="comment">// Iterate over, and map the instructions in each module.</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::unique_ptr&lt;Module&gt; &amp;M : Modules)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    populateMapper(*M, <a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>, IntegerMapping);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;}</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">/// From a repeated subsequence, find all the different instances of the</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">/// subsequence from the \p InstrList, and create an IRSimilarityCandidate from</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">/// the IRInstructionData in subsequence.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">/// \param [in] Mapper - The instruction mapper for basic correctness checks.</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">/// \param [in] InstrList - The vector that holds the instruction data.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">/// \param [in] IntegerMapping - The vector that holds the mapped integers.</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">/// \param [out] CandsForRepSubstring - The vector to store the generated</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">/// IRSimilarityCandidates.</span></div>
<div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="IRSimilarityIdentifier_8cpp.html#adb57434f498dac697cfa36cd1cb9394c">  916</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="IRSimilarityIdentifier_8cpp.html#adb57434f498dac697cfa36cd1cb9394c">createCandidatesFromSuffixTree</a>(</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html">IRInstructionMapper</a>&amp; Mapper, std::vector&lt;IRInstructionData *&gt; &amp;<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>,</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    std::vector&lt;unsigned&gt; &amp;IntegerMapping, <a class="code" href="structllvm_1_1SuffixTree_1_1RepeatedSubstring.html">SuffixTree::RepeatedSubstring</a> &amp;RS,</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    std::vector&lt;IRSimilarityCandidate&gt; &amp;CandsForRepSubstring) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordtype">unsigned</span> StringLen = RS.<a class="code" href="structllvm_1_1SuffixTree_1_1RepeatedSubstring.html#ad780377fbb89deb15edff3b2a46a0087">Length</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span> (StringLen &lt; 2)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// Create an IRSimilarityCandidate for instance of this subsequence \p RS.</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> &amp;StartIdx : RS.<a class="code" href="structllvm_1_1SuffixTree_1_1RepeatedSubstring.html#aad6ddbc1a3f079b548de9f43990488ac">StartIndices</a>) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordtype">unsigned</span> EndIdx = StartIdx + StringLen - 1;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="comment">// Check that this subsequence does not contain an illegal instruction.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordtype">bool</span> ContainsIllegal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> CurrIdx = StartIdx; CurrIdx &lt;= EndIdx; CurrIdx++) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> = IntegerMapping[CurrIdx];</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> &gt; Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a60e5af3b7e239b6fdad88efbe1e861bd">IllegalInstrNumber</a>) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        ContainsIllegal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">// If we have an illegal instruction, we should not create an</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="comment">// IRSimilarityCandidate for this region.</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">if</span> (ContainsIllegal)</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="comment">// We are getting iterators to the instructions in this region of code</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="comment">// by advancing the start and end indices from the start of the</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="comment">// InstrList.</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    std::vector&lt;IRInstructionData *&gt;::iterator StartIt = <a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>.begin();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    std::advance(StartIt, StartIdx);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    std::vector&lt;IRInstructionData *&gt;::iterator EndIt = <a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>.begin();</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    std::advance(EndIt, EndIdx);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    CandsForRepSubstring.emplace_back(StartIdx, StringLen, *StartIt, *EndIt);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a250b4ef23fbe03d8e65ceb9b5ed0e147">  956</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a250b4ef23fbe03d8e65ceb9b5ed0e147">IRSimilarityCandidate::createCanonicalRelationFrom</a>(</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;SourceCand,</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>&gt; &amp;ToSourceMapping,</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>&gt; &amp;FromSourceMapping) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SourceCand.CanonNumToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>() != 0 &amp;&amp;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;         <span class="stringliteral">&quot;Base canonical relationship is empty!&quot;</span>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SourceCand.NumberToCanonNum.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>() != 0 &amp;&amp;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;         <span class="stringliteral">&quot;Base canonical relationship is empty!&quot;</span>);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CanonNumToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;Canonical Relationship is non-empty&quot;</span>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumberToCanonNum.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;Canonical Relationship is non-empty&quot;</span>);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> UsedGVNs;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="comment">// Iterate over the mappings provided from this candidate to SourceCand.  We</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="comment">// are then able to map the GVN in this candidate to the same canonical number</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="comment">// given to the corresponding GVN in SourceCand.</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordflow">for</span> (std::pair&lt;<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a>&gt; &amp;GVNMapping : ToSourceMapping) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordtype">unsigned</span> SourceGVN = GVNMapping.first;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(GVNMapping.second.size() != 0 &amp;&amp; <span class="stringliteral">&quot;Possible GVNs is 0!&quot;</span>);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordtype">unsigned</span> ResultGVN;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="comment">// We need special handling if we have more than one potential value.  This</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="comment">// means that there are at least two GVNs that could correspond to this GVN.</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="comment">// This could lead to potential swapping later on, so we make a decision</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="comment">// here to ensure a one-to-one mapping.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">if</span> (GVNMapping.second.size() &gt; 1) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Val : GVNMapping.second) {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="comment">// We make sure the target value number hasn&#39;t already been reserved.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <span class="keywordflow">if</span> (UsedGVNs.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(Val))</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="comment">// We make sure that the opposite mapping is still consistent.</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, DenseSet&lt;unsigned&gt;</a>&gt;<a class="code" href="classllvm_1_1ilist__iterator.html">::iterator</a> It =</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            FromSourceMapping.find(Val);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="keywordflow">if</span> (!It-&gt;second.contains(SourceGVN))</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="comment">// We pick the first item that satisfies these conditions.</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        Found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        ResultGVN = Val;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Found &amp;&amp; <span class="stringliteral">&quot;Could not find matching value for source GVN&quot;</span>);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      (void)Found;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      ResultGVN = *GVNMapping.second.begin();</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">// Whatever GVN is found, we mark it as used.</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    UsedGVNs.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(ResultGVN);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordtype">unsigned</span> CanonNum = *SourceCand.<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a431c03fe7b1e48d27e7b0ee98bb2010a">getCanonicalNum</a>(ResultGVN);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    CanonNumToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(CanonNum, SourceGVN));</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    NumberToCanonNum.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(SourceGVN, CanonNum));</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;BasicBlock *&gt;</a> BBSet;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a93f165686cbc3ed0554ec8431f9c9b21">getBasicBlocks</a>(BBSet);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="comment">// Find canonical numbers for the BasicBlocks in the current candidate.</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="comment">// This is done by finding the corresponding value for the first instruction</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// in the block in the current candidate, finding the matching value in the</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// source candidate.  Then by finding the parent of this value, use the</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="comment">// canonical number of the block in the source candidate for the canonical</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="comment">// number in the current candidate.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : BBSet) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordtype">unsigned</span> BBGVNForCurrCand = ValueToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)-&gt;second;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="comment">// We can skip the BasicBlock if the canonical numbering has already been</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="comment">// found in a separate instruction.</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">if</span> (NumberToCanonNum.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(BBGVNForCurrCand) != NumberToCanonNum.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">// If the basic block is the starting block, then the shared instruction may</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="comment">// not be the first instruction in the block, it will be the first</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">// instruction in the similarity region.</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *FirstOutlineInst = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> == <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#acdc2a32b416aa0739ab483a4283c5dd2">getStartBB</a>()</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                                  ? <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab44909ab25d57089c66d6d0a1f71da1d">frontInstruction</a>()</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                                  : &amp;*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;instructionsWithoutDebug().begin();</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordtype">unsigned</span> FirstInstGVN = *<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#abb75d7b6c8ca68d35e459834c5616e00">getGVN</a>(FirstOutlineInst);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordtype">unsigned</span> FirstInstCanonNum = *<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a431c03fe7b1e48d27e7b0ee98bb2010a">getCanonicalNum</a>(FirstInstGVN);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordtype">unsigned</span> SourceGVN = *SourceCand.<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a8e420adc727bd3242716099d95bcce85">fromCanonicalNum</a>(FirstInstCanonNum);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *SourceV = *SourceCand.<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab9acc8ba64b5db314d86e38227750600">fromGVN</a>(SourceGVN);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *SourceBB = cast&lt;Instruction&gt;(SourceV)-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>();</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordtype">unsigned</span> SourceBBGVN = *SourceCand.<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#abb75d7b6c8ca68d35e459834c5616e00">getGVN</a>(SourceBB);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordtype">unsigned</span> SourceCanonBBGVN = *SourceCand.<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a431c03fe7b1e48d27e7b0ee98bb2010a">getCanonicalNum</a>(SourceBBGVN);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    CanonNumToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(SourceCanonBBGVN, BBGVNForCurrCand));</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    NumberToCanonNum.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(BBGVNForCurrCand, SourceCanonBBGVN));</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;}</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab887db0898db0bfae23199acc51e4f48"> 1051</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab887db0898db0bfae23199acc51e4f48">IRSimilarityCandidate::createCanonicalMappingFor</a>(</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;CurrCand) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurrCand.CanonNumToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>() == 0 &amp;&amp;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;         <span class="stringliteral">&quot;Canonical Relationship is non-empty&quot;</span>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurrCand.NumberToCanonNum.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>() == 0 &amp;&amp;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;         <span class="stringliteral">&quot;Canonical Relationship is non-empty&quot;</span>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordtype">unsigned</span> CanonNum = 0;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="comment">// Iterate over the value numbers found, the order does not matter in this</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="comment">// case.</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keywordflow">for</span> (std::pair&lt;unsigned, Value *&gt; &amp;NumToVal : CurrCand.NumberToValue) {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    CurrCand.NumberToCanonNum.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NumToVal.first, CanonNum));</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    CurrCand.CanonNumToNumber.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(CanonNum, NumToVal.first));</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    CanonNum++;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment">/// From the list of IRSimilarityCandidates, perform a comparison between each</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">/// IRSimilarityCandidate to determine if there are overlapping</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">/// IRInstructionData, or if they do not have the same structure.</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">/// \param [in] CandsForRepSubstring - The vector containing the</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">/// IRSimilarityCandidates.</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">/// \param [out] StructuralGroups - the mapping of unsigned integers to vector</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">/// of IRSimilarityCandidates where each of the IRSimilarityCandidates in the</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">/// vector are structurally similar to one another.</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="IRSimilarityIdentifier_8cpp.html#a2945144b22c6ae078f37c6cf220f52c5"> 1077</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="IRSimilarityIdentifier_8cpp.html#a2945144b22c6ae078f37c6cf220f52c5">findCandidateStructures</a>(</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    std::vector&lt;IRSimilarityCandidate&gt; &amp;CandsForRepSubstring,</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, SimilarityGroup&gt;</a> &amp;StructuralGroups) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  std::vector&lt;IRSimilarityCandidate&gt;::iterator CandIt, CandEndIt, InnerCandIt,</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      InnerCandEndIt;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// IRSimilarityCandidates each have a structure for operand use.  It is</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="comment">// possible that two instances of the same subsequences have different</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="comment">// structure. Each type of structure found is assigned a number.  This</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="comment">// DenseMap maps an IRSimilarityCandidate to which type of similarity</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// discovered it fits within.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;IRSimilarityCandidate *, unsigned&gt;</a> CandToGroup;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">// Find the compatibility from each candidate to the others to determine</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="comment">// which candidates overlap and which have the same structure by mapping</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="comment">// each structure to a different group.</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="keywordtype">bool</span> SameStructure;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordtype">bool</span> Inserted;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordtype">unsigned</span> CurrentGroupNum = 0;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordtype">unsigned</span> OuterGroupNum;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;IRSimilarityCandidate *, unsigned&gt;::iterator</a> CandToGroupIt;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;IRSimilarityCandidate *, unsigned&gt;::iterator</a> CandToGroupItInner;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, SimilarityGroup&gt;::iterator</a> CurrentGroupPair;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="comment">// Iterate over the candidates to determine its structural and overlapping</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="comment">// compatibility with other instructions</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, DenseSet&lt;unsigned&gt;</a>&gt; ValueNumberMappingA;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, DenseSet&lt;unsigned&gt;</a>&gt; ValueNumberMappingB;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">for</span> (CandIt = CandsForRepSubstring.begin(),</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      CandEndIt = CandsForRepSubstring.end();</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;       CandIt != CandEndIt; CandIt++) {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">// Determine if it has an assigned structural group already.</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    CandToGroupIt = CandToGroup.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(&amp;*CandIt);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">if</span> (CandToGroupIt == CandToGroup.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="comment">// If not, we assign it one, and add it to our mapping.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      std::tie(CandToGroupIt, Inserted) =</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;          CandToGroup.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(&amp;*CandIt, CurrentGroupNum++));</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="comment">// Get the structural group number from the iterator.</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    OuterGroupNum = CandToGroupIt-&gt;second;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="comment">// Check if we already have a list of IRSimilarityCandidates for the current</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">// structural group.  Create one if one does not exist.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    CurrentGroupPair = StructuralGroups.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(OuterGroupNum);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (CurrentGroupPair == StructuralGroups.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab887db0898db0bfae23199acc51e4f48">IRSimilarityCandidate::createCanonicalMappingFor</a>(*CandIt);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      std::tie(CurrentGroupPair, Inserted) = StructuralGroups.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;          std::make_pair(OuterGroupNum, <a class="code" href="namespacellvm_1_1IRSimilarity.html#a2198f86ce16da838bdeea4de7e59ef31">SimilarityGroup</a>({*CandIt})));</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="comment">// Iterate over the IRSimilarityCandidates following the current</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="comment">// IRSimilarityCandidate in the list to determine whether the two</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="comment">// IRSimilarityCandidates are compatible.  This is so we do not repeat pairs</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="comment">// of IRSimilarityCandidates.</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">for</span> (InnerCandIt = std::next(CandIt),</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        InnerCandEndIt = CandsForRepSubstring.end();</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;         InnerCandIt != InnerCandEndIt; InnerCandIt++) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <span class="comment">// We check if the inner item has a group already, if it does, we skip it.</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      CandToGroupItInner = CandToGroup.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(&amp;*InnerCandIt);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <span class="keywordflow">if</span> (CandToGroupItInner != CandToGroup.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="comment">// Otherwise we determine if they have the same structure and add it to</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="comment">// vector if they match.</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      ValueNumberMappingA.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      ValueNumberMappingB.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      SameStructure = <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab7090e2692a1125bbf970b981dbe21ce">IRSimilarityCandidate::compareStructure</a>(</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;          *CandIt, *InnerCandIt, ValueNumberMappingA, ValueNumberMappingB);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">if</span> (!SameStructure)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      InnerCandIt-&gt;createCanonicalRelationFrom(*CandIt, ValueNumberMappingA,</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                                               ValueNumberMappingB);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      CandToGroup.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(&amp;*InnerCandIt, OuterGroupNum));</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      CurrentGroupPair-&gt;second.push_back(*InnerCandIt);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="keywordtype">void</span> IRSimilarityIdentifier::findCandidates(</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    std::vector&lt;IRInstructionData *&gt; &amp;<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>,</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    std::vector&lt;unsigned&gt; &amp;IntegerMapping) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <a class="code" href="classllvm_1_1SuffixTree.html">SuffixTree</a> <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>(IntegerMapping);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  std::vector&lt;IRSimilarityCandidate&gt; CandsForRepSubstring;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  std::vector&lt;SimilarityGroup&gt; NewCandidateGroups;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, SimilarityGroup&gt;</a> StructuralGroups;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// Iterate over the subsequences found by the Suffix Tree to create</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// IRSimilarityCandidates for each repeated subsequence and determine which</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">// instances are structurally similar to one another.</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1SuffixTree_1_1RepeatedSubstring.html">SuffixTree::RepeatedSubstring</a> &amp;RS : <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="IRSimilarityIdentifier_8cpp.html#adb57434f498dac697cfa36cd1cb9394c">createCandidatesFromSuffixTree</a>(Mapper, <a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>, IntegerMapping, RS,</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                                   CandsForRepSubstring);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">if</span> (CandsForRepSubstring.size() &lt; 2)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <a class="code" href="IRSimilarityIdentifier_8cpp.html#a2945144b22c6ae078f37c6cf220f52c5">findCandidateStructures</a>(CandsForRepSubstring, StructuralGroups);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">for</span> (std::pair&lt;unsigned, SimilarityGroup&gt; &amp;Group : StructuralGroups)</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="comment">// We only add the group if it contains more than one</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="comment">// IRSimilarityCandidate.  If there is only one, that means there is no</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="comment">// other repeated subsequence with the same structure.</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <span class="keywordflow">if</span> (Group.second.size() &gt; 1)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        SimilarityCandidates-&gt;push_back(Group.second);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    CandsForRepSubstring.clear();</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    StructuralGroups.clear();</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    NewCandidateGroups.clear();</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;}</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#aa9ff642a99c7eb480fac0e80747b49bd"> 1193</a></span>&#160;<a class="code" href="namespacellvm_1_1IRSimilarity.html#a1e2d2e59b2467bacdc6db54dcc9bc4a1">SimilarityGroupList</a> &amp;<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#aa9ff642a99c7eb480fac0e80747b49bd">IRSimilarityIdentifier::findSimilarity</a>(</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt;std::unique_ptr&lt;Module&gt;&gt; Modules) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#a8d29ff1a4c56ed95827f1fc696fd1803">resetSimilarityCandidates</a>();</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  std::vector&lt;IRInstructionData *&gt; <a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  std::vector&lt;unsigned&gt; IntegerMapping;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">InstClassifier</a>.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a81d93aa1687a9d3f6ac0a8834c7e7561">EnableBranches</a> = this-&gt;EnableBranches;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">InstClassifier</a>.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a671ffaa984bf298ae382d9f58dc225f2">EnableIndirectCalls</a> = EnableIndirectCalls;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a3ab651a0029c43f8639d98cbe3a4bc0c">EnableMatchCallsByName</a> = EnableMatchingCallsByName;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">InstClassifier</a>.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a91076ddc38d476378445f30f56d33d9f">EnableIntrinsics</a> = EnableIntrinsics;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">InstClassifier</a>.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a3cbd3975f4f2c07b133544d0bfac94b3">EnableMustTailCalls</a> = EnableMustTailCalls;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  populateMapper(Modules, <a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>, IntegerMapping);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  findCandidates(<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>, IntegerMapping);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">return</span> *SimilarityCandidates;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;}</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#a9fe9caa9c99e1cdbc21e56f9f82417f0"> 1211</a></span>&#160;<a class="code" href="namespacellvm_1_1IRSimilarity.html#a1e2d2e59b2467bacdc6db54dcc9bc4a1">SimilarityGroupList</a> &amp;<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#aa9ff642a99c7eb480fac0e80747b49bd">IRSimilarityIdentifier::findSimilarity</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#a8d29ff1a4c56ed95827f1fc696fd1803">resetSimilarityCandidates</a>();</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">InstClassifier</a>.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a81d93aa1687a9d3f6ac0a8834c7e7561">EnableBranches</a> = this-&gt;EnableBranches;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">InstClassifier</a>.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a671ffaa984bf298ae382d9f58dc225f2">EnableIndirectCalls</a> = EnableIndirectCalls;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a3ab651a0029c43f8639d98cbe3a4bc0c">EnableMatchCallsByName</a> = EnableMatchingCallsByName;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">InstClassifier</a>.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a91076ddc38d476378445f30f56d33d9f">EnableIntrinsics</a> = EnableIntrinsics;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  Mapper.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">InstClassifier</a>.<a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a3cbd3975f4f2c07b133544d0bfac94b3">EnableMustTailCalls</a> = EnableMustTailCalls;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  std::vector&lt;IRInstructionData *&gt; <a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  std::vector&lt;unsigned&gt; IntegerMapping;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  populateMapper(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>, IntegerMapping);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  findCandidates(<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>, IntegerMapping);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="keywordflow">return</span> *SimilarityCandidates;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"><a class="line" href="IRSimilarityIdentifier_8cpp.html#a0ee6d21a9c3c91cd985c0b25cc11af59"> 1228</a></span>&#160;<a class="code" href="IRSimilarityIdentifier_8cpp.html#a0ee6d21a9c3c91cd985c0b25cc11af59">INITIALIZE_PASS</a>(<a class="code" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html">IRSimilarityIdentifierWrapperPass</a>, <span class="stringliteral">&quot;ir-similarity-identifier&quot;</span>,</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                <span class="stringliteral">&quot;ir-similarity-identifier&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<a class="code" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html">IRSimilarityIdentifierWrapperPass</a>::<a class="code" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html">IRSimilarityIdentifierWrapperPass</a>()</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    : <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <a class="code" href="namespacellvm.html#aa08a8e8f8a5ca6f473894b1e5bcb6343">initializeIRSimilarityIdentifierWrapperPassPass</a>(</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      *<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#a2e6f3893d43e369fbc9e1bf4121a4fb8"> 1237</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#a2e6f3893d43e369fbc9e1bf4121a4fb8">IRSimilarityIdentifierWrapperPass::doInitialization</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  IRSI.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html">IRSimilarityIdentifier</a>(!<a class="code" href="namespacellvm.html#a93b773511cf2c25df41bdd74e8718bd3">DisableBranches</a>, !<a class="code" href="namespacellvm.html#a59a51d46c30287fc47551914e29de21e">DisableIndirectCalls</a>,</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                                        <a class="code" href="namespacellvm.html#a79bdec7db0da9518a1d0ff94f0411fbc">MatchCallsByName</a>, !<a class="code" href="namespacellvm.html#a98fea048f88b5fe74294b5bf72acb93c">DisableIntrinsics</a>,</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                                        <span class="keyword">false</span>));</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;}</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#a5605fa8ce9ae566b7379cd66bf2846dc"> 1244</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#a5605fa8ce9ae566b7379cd66bf2846dc">IRSimilarityIdentifierWrapperPass::doFinalization</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  IRSI.reset();</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;}</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#aa8fe542dde43a4e21c7b7c5ac4ebd739"> 1249</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#aa8fe542dde43a4e21c7b7c5ac4ebd739">IRSimilarityIdentifierWrapperPass::runOnModule</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  IRSI-&gt;findSimilarity(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<a class="code" href="structllvm_1_1AnalysisKey.html">AnalysisKey</a> IRSimilarityAnalysis::Key;</div>
<div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarityAnalysis.html#af15fa99c8517521d8facac9bb5145af4"> 1255</a></span>&#160;<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html">IRSimilarityIdentifier</a> <a class="code" href="classllvm_1_1IRSimilarityAnalysis.html#af15fa99c8517521d8facac9bb5145af4">IRSimilarityAnalysis::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                                                 <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;) {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keyword">auto</span> IRSI = <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html">IRSimilarityIdentifier</a>(!<a class="code" href="namespacellvm.html#a93b773511cf2c25df41bdd74e8718bd3">DisableBranches</a>, !<a class="code" href="namespacellvm.html#a59a51d46c30287fc47551914e29de21e">DisableIndirectCalls</a>,</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                                     <a class="code" href="namespacellvm.html#a79bdec7db0da9518a1d0ff94f0411fbc">MatchCallsByName</a>, !<a class="code" href="namespacellvm.html#a98fea048f88b5fe74294b5bf72acb93c">DisableIntrinsics</a>,</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                                     <span class="keyword">false</span>);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  IRSI.findSimilarity(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="keywordflow">return</span> IRSI;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;}</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a></div>
<div class="line"><a name="l01265"></a><span class="lineno"><a class="line" href="classllvm_1_1IRSimilarityAnalysisPrinterPass.html#a8dde7acadd30b1860704841855a1a07d"> 1265</a></span>&#160;<a class="code" href="classllvm_1_1IRSimilarityAnalysisPrinterPass.html#a8dde7acadd30b1860704841855a1a07d">IRSimilarityAnalysisPrinterPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html">IRSimilarityIdentifier</a> &amp;IRSI = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1IRSimilarityAnalysis.html">IRSimilarityAnalysis</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  std::optional&lt;SimilarityGroupList&gt; &amp;SimilarityCandidatesOpt =</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      IRSI.<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#ac4b0ee9995b68de5356146df068c966a">getSimilarity</a>();</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160; </div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">for</span> (std::vector&lt;IRSimilarityCandidate&gt; &amp;CandVec : *SimilarityCandidatesOpt) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; CandVec.size() &lt;&lt; <span class="stringliteral">&quot; candidates of length &quot;</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;       &lt;&lt; CandVec.begin()-&gt;getLength() &lt;&lt; <span class="stringliteral">&quot;.  Found in: \n&quot;</span>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;Cand : CandVec) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;  Function: &quot;</span> &lt;&lt; Cand.front()-&gt;Inst-&gt;getFunction()-&gt;getName().str()</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, Basic Block: &quot;</span>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordflow">if</span> (Cand.front()-&gt;Inst-&gt;getParent()-&gt;getName().str() == <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;(unnamed)&quot;</span>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; Cand.front()-&gt;Inst-&gt;getParent()-&gt;getName().str();</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n    Start Instruction: &quot;</span>;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      Cand.frontInstruction()-&gt;print(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n      End Instruction: &quot;</span>;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      Cand.backInstruction()-&gt;print(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;}</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#a242dd4a82ba7cb32369c04ecca9e6856">IRSimilarityIdentifierWrapperPass::ID</a> = 0;</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="astructllvm_1_1SuffixTree_1_1RepeatedSubstring_html_ad780377fbb89deb15edff3b2a46a0087"><div class="ttname"><a href="structllvm_1_1SuffixTree_1_1RepeatedSubstring.html#ad780377fbb89deb15edff3b2a46a0087">llvm::SuffixTree::RepeatedSubstring::Length</a></div><div class="ttdeci">unsigned Length</div><div class="ttdoc">The length of the string.</div><div class="ttdef"><b>Definition:</b> <a href="SuffixTree_8h_source.html#l00145">SuffixTree.h:145</a></div></div>
<div class="ttc" id="anamespacellvm_html_a98fea048f88b5fe74294b5bf72acb93c"><div class="ttname"><a href="namespacellvm.html#a98fea048f88b5fe74294b5bf72acb93c">llvm::DisableIntrinsics</a></div><div class="ttdeci">cl::opt&lt; bool &gt; DisableIntrinsics(&quot;no-ir-sim-intrinsics&quot;, cl::init(false), cl::ReallyHidden, cl::desc(&quot;Don't match or outline intrinsics&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8cpp_source.html#l00048">IROutliner.cpp:48</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_ab2d91e185087b0ac1f22ef439a170c7f"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#ab2d91e185087b0ac1f22ef439a170c7f">llvm::Intrinsic::isOverloaded</a></div><div class="ttdeci">bool isOverloaded(ID id)</div><div class="ttdoc">Returns true if the intrinsic can be overloaded.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01491">Function.cpp:1491</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a49a2d8f483ea08a3d6ea75f90c640d76"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">llvm::CmpInst::getSwappedPredicate</a></div><div class="ttdeci">Predicate getSwappedPredicate() const</div><div class="ttdoc">For example, EQ-&gt;EQ, SLE-&gt;SGE, ULT-&gt;UGT, OEQ-&gt;OEQ, ULE-&gt;UGE, OLT-&gt;OGT, etc.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00859">InstrTypes.h:859</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_afe6bd5545903e7ba1de9af2e7d0d2a4a"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#afe6bd5545903e7ba1de9af2e7d0d2a4a">llvm::IRSimilarity::IRSimilarityCandidate::compareCommutativeOperandMapping</a></div><div class="ttdeci">static bool compareCommutativeOperandMapping(OperandMapping A, OperandMapping B)</div><div class="ttdoc">Compare the operands in A and B and check that the current mapping of global value numbers from A to ...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00666">IRSimilarityIdentifier.cpp:666</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier_html_aa9ff642a99c7eb480fac0e80747b49bd"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#aa9ff642a99c7eb480fac0e80747b49bd">llvm::IRSimilarity::IRSimilarityIdentifier::findSimilarity</a></div><div class="ttdeci">SimilarityGroupList &amp; findSimilarity(ArrayRef&lt; std::unique_ptr&lt; Module &gt;&gt; Modules)</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l01193">IRSimilarityIdentifier.cpp:1193</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_html_a02981de53fb6ffd384d39addc4d25f37"><div class="ttname"><a href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a></div><div class="ttdeci">auto drop_begin(T &amp;&amp;RangeOrContainer, size_t N=1)</div><div class="ttdoc">Return a range covering RangeOrContainer with the first N elements excluded.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00386">STLExtras.h:386</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_ac69ce6b6aa6400d488d250ce4998691b"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ac69ce6b6aa6400d488d250ce4998691b">llvm::IRSimilarity::IRInstructionData::setBranchSuccessors</a></div><div class="ttdeci">void setBranchSuccessors(DenseMap&lt; BasicBlock *, unsigned &gt; &amp;BasicBlockToInteger)</div><div class="ttdoc">For an IRInstructionData containing a branch, finds the relative distances from the source basic bloc...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00087">IRSimilarityIdentifier.cpp:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_ad37b3ffc4c5f3cbe9248d587a2efb850"><div class="ttname"><a href="classllvm_1_1BranchInst.html#ad37b3ffc4c5f3cbe9248d587a2efb850">llvm::BranchInst::successors</a></div><div class="ttdeci">iterator_range&lt; succ_op_iterator &gt; successors()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03249">Instructions.h:3249</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_ad7518d710d81c7c4c04cc6a61e7d65bc"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#ad7518d710d81c7c4c04cc6a61e7d65bc">llvm::IRSimilarity::isClose</a></div><div class="ttdeci">bool isClose(const IRInstructionData &amp;A, const IRInstructionData &amp;B)</div><div class="ttdoc">Compare one IRInstructionData class to another IRInstructionData class for whether they are performin...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00201">IRSimilarityIdentifier.cpp:201</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionDataList_html"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionDataList.html">llvm::IRSimilarity::IRInstructionDataList</a></div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00298">IRSimilarityIdentifier.h:298</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_ac340be8c899d6572628a6944b17110bc"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ac340be8c899d6572628a6944b17110bc">llvm::IRSimilarity::IRInstructionMapper::BasicBlockToInteger</a></div><div class="ttdeci">DenseMap&lt; BasicBlock *, unsigned &gt; BasicBlockToInteger</div><div class="ttdoc">A mapping for a basic block in a module to its assigned number/location in the module.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00391">IRSimilarityIdentifier.h:391</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification_html_a91076ddc38d476378445f30f56d33d9f"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a91076ddc38d476378445f30f56d33d9f">llvm::IRSimilarity::IRInstructionMapper::InstructionClassification::EnableIntrinsics</a></div><div class="ttdeci">bool EnableIntrinsics</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00596">IRSimilarityIdentifier.h:596</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">This enumeration lists the possible predicates for CmpInst subclasses.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00718">InstrTypes.h:718</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a0b931781aa589c6ebe64a76c1447e5b2"><div class="ttname"><a href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">llvm::User::operands</a></div><div class="ttdeci">op_range operands()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00242">User.h:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a98c0a84a5dfa8bce341c829709f171e5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">llvm::BasicBlock::iterator</a></div><div class="ttdeci">InstListType::iterator iterator</div><div class="ttdoc">Instruction iterators...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00087">BasicBlock.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModulePass_html"><div class="ttname"><a href="classllvm_1_1ModulePass.html">llvm::ModulePass</a></div><div class="ttdoc">ModulePass class - This class is used to implement unstructured interprocedural optimizations and ana...</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00248">Pass.h:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_a586d66c347a83ddac2d4552c720d3511"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a586d66c347a83ddac2d4552c720d3511">llvm::IRSimilarity::IRInstructionMapper::LegalInstrNumber</a></div><div class="ttdeci">unsigned LegalInstrNumber</div><div class="ttdoc">The next available integer to assign to a legal Instruction to.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00383">IRSimilarityIdentifier.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_ab7090e2692a1125bbf970b981dbe21ce"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab7090e2692a1125bbf970b981dbe21ce">llvm::IRSimilarity::IRSimilarityCandidate::compareStructure</a></div><div class="ttdeci">static bool compareStructure(const IRSimilarityCandidate &amp;A, const IRSimilarityCandidate &amp;B)</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00729">IRSimilarityIdentifier.cpp:729</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarityAnalysis_html"><div class="ttname"><a href="classllvm_1_1IRSimilarityAnalysis.html">llvm::IRSimilarityAnalysis</a></div><div class="ttdoc">An analysis pass that runs and returns the IRSimilarityIdentifier run on the Module.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l01116">IRSimilarityIdentifier.h:1116</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a9b76b9e6f7d06ec15424e309cf440114"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a9b76b9e6f7d06ec15424e309cf440114">llvm::ArrayRef::iterator</a></div><div class="ttdeci">const_pointer iterator</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00048">ArrayRef.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; int, 4 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_afaccf8f3711195931b9eaaa317eb637c"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#afaccf8f3711195931b9eaaa317eb637c">llvm::IRSimilarity::IRSimilarityCandidate::compareNonCommutativeOperandMapping</a></div><div class="ttdeci">static bool compareNonCommutativeOperandMapping(OperandMapping A, OperandMapping B)</div><div class="ttdoc">Compare the operands in A and B and check that the current mapping of global value numbers from A to ...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00632">IRSimilarityIdentifier.cpp:632</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a7157f9fa9dd11f234ec3c58517cb6d96"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">llvm::Intrinsic::getName</a></div><div class="ttdeci">StringRef getName(ID id)</div><div class="ttdoc">Return the LLVM name for an intrinsic, such as &quot;llvm.ppc.altivec.lvx&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00975">Function.cpp:975</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_a93f165686cbc3ed0554ec8431f9c9b21"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a93f165686cbc3ed0554ec8431f9c9b21">llvm::IRSimilarity::IRSimilarityCandidate::getBasicBlocks</a></div><div class="ttdeci">void getBasicBlocks(DenseSet&lt; BasicBlock * &gt; &amp;BBSet) const</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00832">IRSimilarityIdentifier.h:832</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda47b7bba75c0c242b40fece427c2bfefa"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda47b7bba75c0c242b40fece427c2bfefa">llvm::IRSimilarity::Invisible</a></div><div class="ttdeci">@ Invisible</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPIRV_html_a2337541bc5463462ac9dd28b96875f45"><div class="ttname"><a href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">llvm::SPIRV::InstrList</a></div><div class="ttdeci">SmallVector&lt; MachineInstr * &gt; InstrList</div><div class="ttdef"><b>Definition:</b> <a href="SPIRVModuleAnalysis_8h_source.html#l00115">SPIRVModuleAnalysis.h:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a50d461a887e200e704e5157d3b21514d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a50d461a887e200e704e5157d3b21514d">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00075">DenseMap.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">llvm::CmpInst::ICMP_SGT</a></div><div class="ttdeci">@ ICMP_SGT</div><div class="ttdoc">signed greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00745">InstrTypes.h:745</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SuffixTree_html"><div class="ttname"><a href="classllvm_1_1SuffixTree.html">llvm::SuffixTree</a></div><div class="ttdoc">A data structure for fast substring queries.</div><div class="ttdef"><b>Definition:</b> <a href="SuffixTree_8h_source.html#l00137">SuffixTree.h:137</a></div></div>
<div class="ttc" id="anamespacellvm_html_a93b773511cf2c25df41bdd74e8718bd3"><div class="ttname"><a href="namespacellvm.html#a93b773511cf2c25df41bdd74e8718bd3">llvm::DisableBranches</a></div><div class="ttdeci">cl::opt&lt; bool &gt; DisableBranches(&quot;no-ir-sim-branch-matching&quot;, cl::init(false), cl::ReallyHidden, cl::desc(&quot;disable similarity matching, and outlining, &quot; &quot;across branches for debugging purposes.&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8cpp_source.html#l00040">IROutliner.cpp:40</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_a2198f86ce16da838bdeea4de7e59ef31"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#a2198f86ce16da838bdeea4de7e59ef31">llvm::IRSimilarity::SimilarityGroup</a></div><div class="ttdeci">std::vector&lt; IRSimilarityCandidate &gt; SimilarityGroup</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00953">IRSimilarityIdentifier.h:953</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier_html_a8d29ff1a4c56ed95827f1fc696fd1803"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#a8d29ff1a4c56ed95827f1fc696fd1803">llvm::IRSimilarity::IRSimilarityIdentifier::resetSimilarityCandidates</a></div><div class="ttdeci">void resetSimilarityCandidates()</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l01039">IRSimilarityIdentifier.h:1039</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_aed3027a8796d2aa6a899077856e14da4"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aed3027a8796d2aa6a899077856e14da4">llvm::IRSimilarity::IRInstructionData::RevisedPredicate</a></div><div class="ttdeci">std::optional&lt; CmpInst::Predicate &gt; RevisedPredicate</div><div class="ttdoc">This is only relevant if we are wrapping a CmpInst where we needed to change the predicate of a compa...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00131">IRSimilarityIdentifier.h:131</a></div></div>
<div class="ttc" id="aOperator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_abb75d7b6c8ca68d35e459834c5616e00"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#abb75d7b6c8ca68d35e459834c5616e00">llvm::IRSimilarity::IRSimilarityCandidate::getGVN</a></div><div class="ttdeci">std::optional&lt; unsigned &gt; getGVN(Value *V)</div><div class="ttdoc">Finds the positive number associated with V if it has been mapped.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00892">IRSimilarityIdentifier.h:892</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_a292aaa1e14576c8e38a2aad65d44f833"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a292aaa1e14576c8e38a2aad65d44f833">llvm::IRSimilarity::IRInstructionData::CalleeName</a></div><div class="ttdeci">std::optional&lt; std::string &gt; CalleeName</div><div class="ttdoc">This is only relevant if we are wrapping a CallInst.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00141">IRSimilarityIdentifier.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_a1e2d2e59b2467bacdc6db54dcc9bc4a1"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#a1e2d2e59b2467bacdc6db54dcc9bc4a1">llvm::IRSimilarity::SimilarityGroupList</a></div><div class="ttdeci">std::vector&lt; SimilarityGroup &gt; SimilarityGroupList</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00954">IRSimilarityIdentifier.h:954</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html_aa67dc49a37f9cee49ebd4d3bde73d8e4"><div class="ttname"><a href="classllvm_1_1DenseMap.html#aa67dc49a37f9cee49ebd4d3bde73d8e4">llvm::DenseMap::swap</a></div><div class="ttdeci">void swap(DenseMap &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00758">DenseMap.h:758</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8">llvm::CmpInst::FCMP_OGT</a></div><div class="ttdeci">@ FCMP_OGT</div><div class="ttdoc">0 0 1 0 True if ordered and greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00722">InstrTypes.h:722</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">llvm::cl::ReallyHidden</a></div><div class="ttdeci">@ ReallyHidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00139">CommandLine.h:139</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_a2fdad6185139f685b846369c634a04cf"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a2fdad6185139f685b846369c634a04cf">llvm::IRSimilarity::IRInstructionMapper::IDLAllocator</a></div><div class="ttdeci">SpecificBumpPtrAllocator&lt; IRInstructionDataList &gt; * IDLAllocator</div><div class="ttdoc">This allocator pointer is in charge of creating the IRInstructionDataList so it is not deallocated un...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00418">IRSimilarityIdentifier.h:418</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_aba61492b976936c3faf96a7713e175d9"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aba61492b976936c3faf96a7713e175d9">llvm::IRSimilarity::IRInstructionMapper::IDL</a></div><div class="ttdeci">IRInstructionDataList * IDL</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00444">IRSimilarityIdentifier.h:444</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_ae35aff2dc6fcdec60f53cdcfabea59f7"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ae35aff2dc6fcdec60f53cdcfabea59f7">llvm::IRSimilarity::IRSimilarityCandidate::IRSimilarityCandidate</a></div><div class="ttdeci">IRSimilarityCandidate(unsigned StartIdx, unsigned Len, IRInstructionData *FirstInstIt, IRInstructionData *LastInstIt)</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00407">IRSimilarityIdentifier.cpp:407</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_html"><div class="ttname"><a href="structllvm_1_1DenseMapInfo.html">llvm::DenseMapInfo</a></div><div class="ttdoc">An information struct used to provide DenseMap with the various necessary components for a given valu...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00034">APInt.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification_html_a81d93aa1687a9d3f6ac0a8834c7e7561"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a81d93aa1687a9d3f6ac0a8834c7e7561">llvm::IRSimilarity::IRInstructionMapper::InstructionClassification::EnableBranches</a></div><div class="ttdeci">bool EnableBranches</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00588">IRSimilarityIdentifier.h:588</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarityIdentifierWrapperPass_html"><div class="ttname"><a href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html">llvm::IRSimilarityIdentifierWrapperPass</a></div><div class="ttdoc">An analysis pass based on legacy pass manager that runs and returns IRSimilarityIdentifier run on the...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l01096">IRSimilarityIdentifier.h:1096</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">llvm::IRSimilarity::Illegal</a></div><div class="ttdeci">@ Illegal</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_ab11b9d6834e7a409b18c71e0b19876f5"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ab11b9d6834e7a409b18c71e0b19876f5">llvm::IRSimilarity::IRInstructionData::setPHIPredecessors</a></div><div class="ttdeci">void setPHIPredecessors(DenseMap&lt; BasicBlock *, unsigned &gt; &amp;BasicBlockToInteger)</div><div class="ttdoc">For an IRInstructionData containing a PHINode, finds the relative distances from the incoming basic b...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00138">IRSimilarityIdentifier.cpp:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="aOcamlGCPrinter_8cpp_html_afcf2f797ed287a723263583c9b1c1bce"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="aIRSimilarityIdentifier_8cpp_html_a2945144b22c6ae078f37c6cf220f52c5"><div class="ttname"><a href="IRSimilarityIdentifier_8cpp.html#a2945144b22c6ae078f37c6cf220f52c5">findCandidateStructures</a></div><div class="ttdeci">static void findCandidateStructures(std::vector&lt; IRSimilarityCandidate &gt; &amp;CandsForRepSubstring, DenseMap&lt; unsigned, SimilarityGroup &gt; &amp;StructuralGroups)</div><div class="ttdoc">From the list of IRSimilarityCandidates, perform a comparison between each IRSimilarityCandidate to d...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l01077">IRSimilarityIdentifier.cpp:1077</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344">llvm::CmpInst::FCMP_UGE</a></div><div class="ttdeci">@ FCMP_UGE</div><div class="ttdoc">1 0 1 1 True if unordered, greater than, or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00731">InstrTypes.h:731</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00486">AMDGPUMetadata.h:486</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html">llvm::IRSimilarity::IRInstructionMapper</a></div><div class="ttdoc">Helper struct for converting the Instructions in a Module into a vector of unsigned integers.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00376">IRSimilarityIdentifier.h:376</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification_html_a671ffaa984bf298ae382d9f58dc225f2"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a671ffaa984bf298ae382d9f58dc225f2">llvm::IRSimilarity::IRInstructionMapper::InstructionClassification::EnableIndirectCalls</a></div><div class="ttdeci">bool EnableIndirectCalls</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00592">IRSimilarityIdentifier.h:592</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1OperandMapping_html"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1OperandMapping.html">llvm::IRSimilarity::IRSimilarityCandidate::OperandMapping</a></div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00715">IRSimilarityIdentifier.h:715</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_aa21c1493313104ffa2d57c0379c4d145"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aa21c1493313104ffa2d57c0379c4d145">llvm::IRSimilarity::IRInstructionMapper::HaveLegalRange</a></div><div class="ttdeci">bool HaveLegalRange</div><div class="ttdoc">Marks whether we have found a set of instructions that is long enough to be considered for similarity...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00404">IRSimilarityIdentifier.h:404</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_ab9acc8ba64b5db314d86e38227750600"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab9acc8ba64b5db314d86e38227750600">llvm::IRSimilarity::IRSimilarityCandidate::fromGVN</a></div><div class="ttdeci">std::optional&lt; Value * &gt; fromGVN(unsigned Num)</div><div class="ttdoc">Finds the Value associate with Num if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00904">IRSimilarityIdentifier.h:904</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a9a025cb106832026cd05c2b4648a699f"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a025cb106832026cd05c2b4648a699f">llvm::detail::DenseSetImpl::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00081">DenseSet.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_a23d2b4941adb672f1a2ce945399065e3"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a23d2b4941adb672f1a2ce945399065e3">llvm::IRSimilarity::IRSimilarityCandidate::isSimilar</a></div><div class="ttdeci">static bool isSimilar(const IRSimilarityCandidate &amp;A, const IRSimilarityCandidate &amp;B)</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00476">IRSimilarityIdentifier.cpp:476</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a0400b7a6fcffcd3892d7bb6de435674a"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a0400b7a6fcffcd3892d7bb6de435674a">llvm::FunctionType::params</a></div><div class="ttdeci">ArrayRef&lt; Type * &gt; params() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00130">DerivedTypes.h:130</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">llvm::AArch64PACKey::IA</a></div><div class="ttdeci">@ IA</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00791">AArch64BaseInfo.h:791</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_aa35442169d90583b71e568b9a27690b0"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#aa35442169d90583b71e568b9a27690b0">llvm::IRSimilarity::IRSimilarityCandidate::iterator</a></div><div class="ttdeci">IRInstructionDataList::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00945">IRSimilarityIdentifier.h:945</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_a300223e253d8cc149948becb9ef98378"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a300223e253d8cc149948becb9ef98378">llvm::IRSimilarity::IRInstructionMapper::InstDataAllocator</a></div><div class="ttdeci">SpecificBumpPtrAllocator&lt; IRInstructionData &gt; * InstDataAllocator</div><div class="ttdoc">This allocator pointer is in charge of holding on to the IRInstructionData so it is not deallocated u...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00413">IRSimilarityIdentifier.h:413</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_a7a0011906a29aacd3db06d94b41193e2"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7a0011906a29aacd3db06d94b41193e2">llvm::IRSimilarity::IRInstructionMapper::InstClassifier</a></div><div class="ttdeci">InstructionClassification InstClassifier</div><div class="ttdoc">Maps an Instruction to a member of InstrType.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00604">IRSimilarityIdentifier.h:604</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aef51af4b490af6b3bf2dfbc8737a8f9f"><div class="ttname"><a href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const</div><div class="ttdoc">Return the number of incoming edges.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02790">Instructions.h:2790</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aIRSimilarityIdentifier_8cpp_html_a43af37cebdaf106e26effd6495f2dba3"><div class="ttname"><a href="IRSimilarityIdentifier_8cpp.html#a43af37cebdaf106e26effd6495f2dba3">checkNumberingAndReplace</a></div><div class="ttdeci">bool checkNumberingAndReplace(DenseMap&lt; unsigned, DenseSet&lt; unsigned &gt;&gt; &amp;CurrentSrcTgtNumberMapping, unsigned SourceArgVal, unsigned TargetArgVal)</div><div class="ttdoc">Determine if operand number TargetArgVal is in the current mapping set for operand number SourceArgVa...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00588">IRSimilarityIdentifier.cpp:588</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">This class is the base class for the comparison instructions.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00708">InstrTypes.h:708</a></div></div>
<div class="ttc" id="aIRSimilarityIdentifier_8cpp_html_a461e1adc16a7dc9d148b35c8751a1002"><div class="ttname"><a href="IRSimilarityIdentifier_8cpp.html#a461e1adc16a7dc9d148b35c8751a1002">ZippedRelativeLocationsT</a></div><div class="ttdeci">detail::zippy&lt; detail::zip_shortest, SmallVector&lt; int, 4 &gt; &amp;, SmallVector&lt; int, 4 &gt; &amp;, ArrayRef&lt; Value * &gt; &amp;, ArrayRef&lt; Value * &gt; &amp; &gt; ZippedRelativeLocationsT</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00739">IRSimilarityIdentifier.cpp:739</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; BasicBlock * &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_a3ab651a0029c43f8639d98cbe3a4bc0c"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a3ab651a0029c43f8639d98cbe3a4bc0c">llvm::IRSimilarity::IRInstructionMapper::EnableMatchCallsByName</a></div><div class="ttdeci">bool EnableMatchCallsByName</div><div class="ttdoc">Marks whether we should use exact function names, as well as types to find similarity between calls.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00408">IRSimilarityIdentifier.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarityIdentifierWrapperPass_html_aa8fe542dde43a4e21c7b7c5ac4ebd739"><div class="ttname"><a href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#aa8fe542dde43a4e21c7b7c5ac4ebd739">llvm::IRSimilarityIdentifierWrapperPass::runOnModule</a></div><div class="ttdeci">bool runOnModule(Module &amp;M) override</div><div class="ttdoc">runOnModule - Virtual method overriden by subclasses to process the module being operated on.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l01249">IRSimilarityIdentifier.cpp:1249</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_acdc2a32b416aa0739ab483a4283c5dd2"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#acdc2a32b416aa0739ab483a4283c5dd2">llvm::IRSimilarity::IRSimilarityCandidate::getStartBB</a></div><div class="ttdeci">BasicBlock * getStartBB()</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00881">IRSimilarityIdentifier.h:881</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00026">PPCPredicates.h:26</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_a0f22f1cd41d211cd1c0f3ada0f43d576"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a0f22f1cd41d211cd1c0f3ada0f43d576">llvm::IRSimilarity::IRInstructionMapper::InstructionIntegerMap</a></div><div class="ttdeci">DenseMap&lt; IRInstructionData *, unsigned, IRInstructionDataTraits &gt; InstructionIntegerMap</div><div class="ttdoc">Correspondence from IRInstructionData to unsigned integers.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00387">IRSimilarityIdentifier.h:387</a></div></div>
<div class="ttc" id="aIRSimilarityIdentifier_8cpp_html_a2e0a6a332b9fe6a5c95d41848e94c4b3"><div class="ttname"><a href="IRSimilarityIdentifier_8cpp.html#a2e0a6a332b9fe6a5c95d41848e94c4b3">checkNumberingAndReplaceCommutative</a></div><div class="ttdeci">static bool checkNumberingAndReplaceCommutative(const DenseMap&lt; Value *, unsigned &gt; &amp;SourceValueToNumberMapping, DenseMap&lt; unsigned, DenseSet&lt; unsigned &gt;&gt; &amp;CurrentSrcTgtNumberMapping, ArrayRef&lt; Value * &gt; &amp;SourceOperands, DenseSet&lt; unsigned &gt; &amp;TargetValueNumbers)</div><div class="ttdoc">Determine if one or more of the assigned global value numbers for the operands in TargetValueNumbers ...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00511">IRSimilarityIdentifier.cpp:511</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adf4e7878fc0b3b8dcde545178564190d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00110">DenseMap.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">llvm::IRSimilarity::Legal</a></div><div class="ttdeci">@ Legal</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_ad02bc9bd1feca133eb84b3618e93fb37"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ad02bc9bd1feca133eb84b3618e93fb37">llvm::IRSimilarity::IRSimilarityCandidate::overlap</a></div><div class="ttdeci">static bool overlap(const IRSimilarityCandidate &amp;A, const IRSimilarityCandidate &amp;B)</div><div class="ttdoc">Compare the start and end indices of the two IRSimilarityCandidates for whether they overlap.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00846">IRSimilarityIdentifier.cpp:846</a></div></div>
<div class="ttc" id="astructllvm_1_1SuffixTree_1_1RepeatedSubstring_html"><div class="ttname"><a href="structllvm_1_1SuffixTree_1_1RepeatedSubstring.html">llvm::SuffixTree::RepeatedSubstring</a></div><div class="ttdoc">A repeated substring in the tree.</div><div class="ttdef"><b>Definition:</b> <a href="SuffixTree_8h_source.html#l00143">SuffixTree.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarityAnalysis_html_af15fa99c8517521d8facac9bb5145af4"><div class="ttname"><a href="classllvm_1_1IRSimilarityAnalysis.html#af15fa99c8517521d8facac9bb5145af4">llvm::IRSimilarityAnalysis::run</a></div><div class="ttdeci">Result run(Module &amp;M, ModuleAnalysisManager &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l01255">IRSimilarityIdentifier.cpp:1255</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_aac95ccee9d5cbc582a1bab1d1e9e854d"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aac95ccee9d5cbc582a1bab1d1e9e854d">llvm::IRSimilarity::IRInstructionMapper::allocateIRInstructionData</a></div><div class="ttdeci">IRInstructionData * allocateIRInstructionData(Instruction &amp;I, bool Legality, IRInstructionDataList &amp;IDL)</div><div class="ttdoc">Get an allocated IRInstructionData struct using the InstDataAllocator.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00356">IRSimilarityIdentifier.cpp:356</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; BasicBlock *, unsigned &gt;</a></div></div>
<div class="ttc" id="astructllvm_1_1AnalysisKey_html"><div class="ttname"><a href="structllvm_1_1AnalysisKey.html">llvm::AnalysisKey</a></div><div class="ttdoc">A special type used by analysis passes to provide an address that identifies that particular analysis...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00069">PassManager.h:69</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46a438dbcc76b79fb10acb447ec5d141287"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a438dbcc76b79fb10acb447ec5d141287">llvm::AArch64PACKey::IB</a></div><div class="ttdeci">@ IB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00792">AArch64BaseInfo.h:792</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a9a3c9d867ff6bde97841c2b7983f5c70"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a3c9d867ff6bde97841c2b7983f5c70">llvm::detail::DenseSetImpl::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00080">DenseSet.h:80</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstVisitor_html_a6352e72d11377a9c62f24434ae869bf0"><div class="ttname"><a href="classllvm_1_1InstVisitor.html#a6352e72d11377a9c62f24434ae869bf0">llvm::InstVisitor::visit</a></div><div class="ttdeci">void visit(Iterator Start, Iterator End)</div><div class="ttdef"><b>Definition:</b> <a href="InstVisitor_8h_source.html#l00087">InstVisitor.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1zippy_html"><div class="ttname"><a href="classllvm_1_1detail_1_1zippy.html">llvm::detail::zippy</a></div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00848">STLExtras.h:848</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_ae3af188e096e8a1152a33285a1c83c33"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ae3af188e096e8a1152a33285a1c83c33">llvm::IRSimilarity::IRInstructionMapper::convertToUnsignedVec</a></div><div class="ttdeci">void convertToUnsignedVec(BasicBlock &amp;BB, std::vector&lt; IRInstructionData * &gt; &amp;InstrList, std::vector&lt; unsigned &gt; &amp;IntegerMapping)</div><div class="ttdoc">Maps the Instructions in a BasicBlock BB to legal or illegal integers determined by InstrType.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00270">IRSimilarityIdentifier.cpp:270</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarityIdentifierWrapperPass_html_a5605fa8ce9ae566b7379cd66bf2846dc"><div class="ttname"><a href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#a5605fa8ce9ae566b7379cd66bf2846dc">llvm::IRSimilarityIdentifierWrapperPass::doFinalization</a></div><div class="ttdeci">bool doFinalization(Module &amp;M) override</div><div class="ttdoc">doFinalization - Virtual method overriden by subclasses to do any necessary clean up after all passes...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l01244">IRSimilarityIdentifier.cpp:1244</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_aa7aa1c92fb184b145e4841fc114e790b"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aa7aa1c92fb184b145e4841fc114e790b">llvm::IRSimilarity::IRInstructionData::predicateForConsistency</a></div><div class="ttdeci">static CmpInst::Predicate predicateForConsistency(CmpInst *CI)</div><div class="ttdoc">A function that swaps the predicates to their less than form if they are in a greater than form.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00166">IRSimilarityIdentifier.cpp:166</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="astructllvm_1_1SuffixTree_1_1RepeatedSubstring_html_aad6ddbc1a3f079b548de9f43990488ac"><div class="ttname"><a href="structllvm_1_1SuffixTree_1_1RepeatedSubstring.html#aad6ddbc1a3f079b548de9f43990488ac">llvm::SuffixTree::RepeatedSubstring::StartIndices</a></div><div class="ttdeci">SmallVector&lt; unsigned &gt; StartIndices</div><div class="ttdoc">The start indices of each occurrence.</div><div class="ttdef"><b>Definition:</b> <a href="SuffixTree_8h_source.html#l00148">SuffixTree.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1simple__ilist_html_acd9e9e84ef0b4b94fdda7d6ceff1e01d"><div class="ttname"><a href="classllvm_1_1simple__ilist.html#acd9e9e84ef0b4b94fdda7d6ceff1e01d">llvm::simple_ilist::push_back</a></div><div class="ttdeci">void push_back(reference Node)</div><div class="ttdoc">Insert a node at the back; never copies.</div><div class="ttdef"><b>Definition:</b> <a href="simple__ilist_8h_source.html#l00145">simple_ilist.h:145</a></div></div>
<div class="ttc" id="aSuffixTree_8h_html"><div class="ttname"><a href="SuffixTree_8h.html">SuffixTree.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba541533f34077bbbcfb703a90f6d2da9b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba541533f34077bbbcfb703a90f6d2da9b">llvm::CmpInst::FCMP_OGE</a></div><div class="ttdeci">@ FCMP_OGE</div><div class="ttdoc">0 0 1 1 True if ordered and greater than or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00723">InstrTypes.h:723</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">llvm::IRSimilarity::IRInstructionData</a></div><div class="ttdoc">This provides the utilities for hashing an Instruction to an unsigned integer.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00115">IRSimilarityIdentifier.h:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">llvm::CmpInst::ICMP_UGE</a></div><div class="ttdeci">@ ICMP_UGE</div><div class="ttdoc">unsigned greater or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00742">InstrTypes.h:742</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_a0bab19cf37f51e4f51c8b9118e0f41bf"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a0bab19cf37f51e4f51c8b9118e0f41bf">llvm::IRSimilarity::IRInstructionData::getCalleeName</a></div><div class="ttdeci">StringRef getCalleeName() const</div><div class="ttdoc">Get the callee name that the call instruction is using for hashing the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00192">IRSimilarityIdentifier.cpp:192</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_a31d26022f657b77aa802a9190611e87b"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a31d26022f657b77aa802a9190611e87b">llvm::IRSimilarity::IRInstructionData::IRInstructionData</a></div><div class="ttdeci">IRInstructionData(Instruction &amp;I, bool Legality, IRInstructionDataList &amp;IDL)</div><div class="ttdoc">Gather the information that is difficult to gather for an Instruction, or is changed.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00048">IRSimilarityIdentifier.cpp:48</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_aee2e5f8ff22ce6063643fea5c5b282d5"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aee2e5f8ff22ce6063643fea5c5b282d5">llvm::IRSimilarity::IRInstructionMapper::mapToIllegalUnsigned</a></div><div class="ttdeci">unsigned mapToIllegalUnsigned(BasicBlock::iterator &amp;It, std::vector&lt; unsigned &gt; &amp;IntegerMappingForBB, std::vector&lt; IRInstructionData * &gt; &amp;InstrListForBB, bool End=false)</div><div class="ttdoc">Maps an Instruction to an illegal integer.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00373">IRSimilarityIdentifier.cpp:373</a></div></div>
<div class="ttc" id="anamespacellvm_html_a59a51d46c30287fc47551914e29de21e"><div class="ttname"><a href="namespacellvm.html#a59a51d46c30287fc47551914e29de21e">llvm::DisableIndirectCalls</a></div><div class="ttdeci">cl::opt&lt; bool &gt; DisableIndirectCalls(&quot;no-ir-sim-indirect-calls&quot;, cl::init(false), cl::ReallyHidden, cl::desc(&quot;disable outlining indirect calls.&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8cpp_source.html#l00044">IROutliner.cpp:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa08a8e8f8a5ca6f473894b1e5bcb6343"><div class="ttname"><a href="namespacellvm.html#aa08a8e8f8a5ca6f473894b1e5bcb6343">llvm::initializeIRSimilarityIdentifierWrapperPassPass</a></div><div class="ttdeci">void initializeIRSimilarityIdentifierWrapperPassPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarityAnalysisPrinterPass_html_a8dde7acadd30b1860704841855a1a07d"><div class="ttname"><a href="classllvm_1_1IRSimilarityAnalysisPrinterPass.html#a8dde7acadd30b1860704841855a1a07d">llvm::IRSimilarityAnalysisPrinterPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Module &amp;M, ModuleAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l01265">IRSimilarityIdentifier.cpp:1265</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_ab887db0898db0bfae23199acc51e4f48"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab887db0898db0bfae23199acc51e4f48">llvm::IRSimilarity::IRSimilarityCandidate::createCanonicalMappingFor</a></div><div class="ttdeci">static void createCanonicalMappingFor(IRSimilarityCandidate &amp;CurrCand)</div><div class="ttdoc">Create a mapping from the value numbering to a different separate set of numbers.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l01051">IRSimilarityIdentifier.cpp:1051</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_ae0683ad49b9a0ccca8bd1c97987a8cf9"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ae0683ad49b9a0ccca8bd1c97987a8cf9">llvm::IRSimilarity::IRInstructionData::setCalleeName</a></div><div class="ttdeci">void setCalleeName(bool MatchByName=true)</div><div class="ttdoc">For an IRInstructionData containing a CallInst, set the function name appropriately.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00111">IRSimilarityIdentifier.cpp:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a1fbf4d66a9eeaa9ade03e8febee097ee"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a1fbf4d66a9eeaa9ade03e8febee097ee">llvm::detail::DenseSetImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00092">DenseSet.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_a2606c92d4c122037d9065123c3db3093"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a2606c92d4c122037d9065123c3db3093">llvm::IRSimilarity::IRInstructionData::RelativeBlockLocations</a></div><div class="ttdeci">SmallVector&lt; int, 4 &gt; RelativeBlockLocations</div><div class="ttdoc">This structure holds the distances of how far &quot;ahead of&quot; or &quot;behind&quot; the target blocks of a branch,...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00165">IRSimilarityIdentifier.h:165</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_a8f280453f9963266308cb61e428f5268"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a8f280453f9963266308cb61e428f5268">llvm::IRSimilarity::IRInstructionData::Inst</a></div><div class="ttdeci">Instruction * Inst</div><div class="ttdoc">The source Instruction that is being wrapped.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00119">IRSimilarityIdentifier.h:119</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarityIdentifierWrapperPass_html_a242dd4a82ba7cb32369c04ecca9e6856"><div class="ttname"><a href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#a242dd4a82ba7cb32369c04ecca9e6856">llvm::IRSimilarityIdentifierWrapperPass::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l01100">IRSimilarityIdentifier.h:1100</a></div></div>
<div class="ttc" id="ainclude_2llvm_2Support_2CMakeLists_8txt_html_aef9367eb0b7430eaf70b1f2725488f2a"><div class="ttname"><a href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a></div><div class="ttdeci">if(llvm_vc STREQUAL &quot;&quot;) set(fake_version_inc &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Support_2CMakeLists_8txt_source.html#l00014">CMakeLists.txt:14</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_ad409c2de8502b94c8a0b1193307c63b6"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">llvm::detail::DenseSetImpl::contains</a></div><div class="ttdeci">bool contains(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Check if the set contains the given element.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00185">DenseSet.h:185</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_ae392ae2bd47b6a65a6d70f61ad7225a3"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ae392ae2bd47b6a65a6d70f61ad7225a3">llvm::IRSimilarity::IRInstructionMapper::mapToLegalUnsigned</a></div><div class="ttdeci">unsigned mapToLegalUnsigned(BasicBlock::iterator &amp;It, std::vector&lt; unsigned &gt; &amp;IntegerMappingForBB, std::vector&lt; IRInstructionData * &gt; &amp;InstrListForBB)</div><div class="ttdoc">Maps an Instruction to a legal integer.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00302">IRSimilarityIdentifier.cpp:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification_html_a3cbd3975f4f2c07b133544d0bfac94b3"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper_1_1InstructionClassification.html#a3cbd3975f4f2c07b133544d0bfac94b3">llvm::IRSimilarity::IRInstructionMapper::InstructionClassification::EnableMustTailCalls</a></div><div class="ttdeci">bool EnableMustTailCalls</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00600">IRSimilarityIdentifier.h:600</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_a250b4ef23fbe03d8e65ceb9b5ed0e147"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a250b4ef23fbe03d8e65ceb9b5ed0e147">llvm::IRSimilarity::IRSimilarityCandidate::createCanonicalRelationFrom</a></div><div class="ttdeci">void createCanonicalRelationFrom(IRSimilarityCandidate &amp;SourceCand, DenseMap&lt; unsigned, DenseSet&lt; unsigned &gt;&gt; &amp;ToSourceMapping, DenseMap&lt; unsigned, DenseSet&lt; unsigned &gt;&gt; &amp;FromSourceMapping)</div><div class="ttdoc">Create a mapping for the value numbering of the calling IRSimilarityCandidate, to a different separat...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00956">IRSimilarityIdentifier.cpp:956</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba959268ceeae23abe5c9ad9e895669d0c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba959268ceeae23abe5c9ad9e895669d0c">llvm::CmpInst::FCMP_UGT</a></div><div class="ttdeci">@ FCMP_UGT</div><div class="ttdoc">1 0 1 0 True if unordered or greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00730">InstrTypes.h:730</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarityIdentifierWrapperPass_html_a2e6f3893d43e369fbc9e1bf4121a4fb8"><div class="ttname"><a href="classllvm_1_1IRSimilarityIdentifierWrapperPass.html#a2e6f3893d43e369fbc9e1bf4121a4fb8">llvm::IRSimilarityIdentifierWrapperPass::doInitialization</a></div><div class="ttdeci">bool doInitialization(Module &amp;M) override</div><div class="ttdoc">doInitialization - Virtual method overridden by subclasses to do any necessary initialization before ...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l01237">IRSimilarityIdentifier.cpp:1237</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">llvm::Successor</a></div><div class="ttdeci">@ Successor</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00035">SIMachineScheduler.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_a60e5af3b7e239b6fdad88efbe1e861bd"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a60e5af3b7e239b6fdad88efbe1e861bd">llvm::IRSimilarity::IRInstructionMapper::IllegalInstrNumber</a></div><div class="ttdeci">unsigned IllegalInstrNumber</div><div class="ttdoc">The starting illegal instruction number to map to.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00380">IRSimilarityIdentifier.h:380</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_a8e420adc727bd3242716099d95bcce85"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a8e420adc727bd3242716099d95bcce85">llvm::IRSimilarity::IRSimilarityCandidate::fromCanonicalNum</a></div><div class="ttdeci">std::optional&lt; unsigned &gt; fromCanonicalNum(unsigned N)</div><div class="ttdoc">Find the global value number from the canonical number N stored in the candidate.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00931">IRSimilarityIdentifier.h:931</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_accaaf76a12845e506563d51d9617773d"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#accaaf76a12845e506563d51d9617773d">llvm::IRSimilarity::IRInstructionMapper::allocateIRInstructionDataList</a></div><div class="ttdeci">IRInstructionDataList * allocateIRInstructionDataList()</div><div class="ttdoc">Get an allocated IRInstructionDataList object using the IDLAllocator.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00367">IRSimilarityIdentifier.cpp:367</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_aa8a8f00e0169503c48f26bffcf4d6646"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#aa8a8f00e0169503c48f26bffcf4d6646">llvm::IRSimilarity::IRSimilarityCandidate::checkRelativeLocations</a></div><div class="ttdeci">static bool checkRelativeLocations(RelativeLocMapping A, RelativeLocMapping B)</div><div class="ttdoc">Compare the relative locations in A and B and check that the distances match if both locations are co...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00701">IRSimilarityIdentifier.cpp:701</a></div></div>
<div class="ttc" id="aIRSimilarityIdentifier_8h_html"><div class="ttname"><a href="IRSimilarityIdentifier_8h.html">IRSimilarityIdentifier.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a3d95cc2d359b8d9ed5bd9504b44930b5"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00099">DenseMap.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_ab44909ab25d57089c66d6d0a1f71da1d"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#ab44909ab25d57089c66d6d0a1f71da1d">llvm::IRSimilarity::IRSimilarityCandidate::frontInstruction</a></div><div class="ttdeci">Instruction * frontInstruction()</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00876">IRSimilarityIdentifier.h:876</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a574efc7d85ff014d5f15e077f3c82e6b"><div class="ttname"><a href="classllvm_1_1CallBase.html#a574efc7d85ff014d5f15e077f3c82e6b">llvm::CallBase::isIndirectCall</a></div><div class="ttdeci">bool isIndirectCall() const</div><div class="ttdoc">Return true if the callsite is an indirect call.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00300">Instructions.cpp:300</a></div></div>
<div class="ttc" id="anamespacellvm_html_a79bdec7db0da9518a1d0ff94f0411fbc"><div class="ttname"><a href="namespacellvm.html#a79bdec7db0da9518a1d0ff94f0411fbc">llvm::MatchCallsByName</a></div><div class="ttdeci">cl::opt&lt; bool &gt; MatchCallsByName(&quot;ir-sim-calls-by-name&quot;, cl::init(false), cl::ReallyHidden, cl::desc(&quot;only allow matching call instructions if the &quot; &quot;name and type signature match.&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">llvm::IRSimilarity::IRSimilarityCandidate</a></div><div class="ttdoc">This is a class that wraps a range of IRInstructionData from one point to another in the vector of IR...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00649">IRSimilarityIdentifier.h:649</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">llvm::CmpInst::ICMP_SGE</a></div><div class="ttdeci">@ ICMP_SGE</div><div class="ttdoc">signed greater or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00746">InstrTypes.h:746</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdoc">A wrapper class for inspecting calls to intrinsic functions.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00047">IntrinsicInst.h:47</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_a7c35c00b1125706d72f31c37b442fdc2"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#a7c35c00b1125706d72f31c37b442fdc2">llvm::IRSimilarity::IRInstructionMapper::initializeForBBs</a></div><div class="ttdeci">void initializeForBBs(Function &amp;F, unsigned &amp;BBNumber)</div><div class="ttdoc">Assigns values to all the basic blocks in function F starting from integer BBNumber.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00451">IRSimilarityIdentifier.h:451</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_a11f86f876fc26e82aaa048a2215da380"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#a11f86f876fc26e82aaa048a2215da380">llvm::IRSimilarity::IRInstructionData::initializeInstruction</a></div><div class="ttdeci">void initializeInstruction()</div><div class="ttdoc">Fills data stuctures for IRInstructionData when it is constructed from a.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00054">IRSimilarityIdentifier.cpp:54</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2edb650de7b28add81349f5abf7ed7aa"><div class="ttname"><a href="namespacellvm.html#a2edb650de7b28add81349f5abf7ed7aa">llvm::zip</a></div><div class="ttdeci">detail::zippy&lt; detail::zip_shortest, T, U, Args... &gt; zip(T &amp;&amp;t, U &amp;&amp;u, Args &amp;&amp;...args)</div><div class="ttdoc">zip iterator for two or more iteratable types.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00882">STLExtras.h:882</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_aec8cb8d34e83a9cfee265a5f8c9ca313"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#aec8cb8d34e83a9cfee265a5f8c9ca313">llvm::IRSimilarity::IRInstructionData::getPredicate</a></div><div class="ttdeci">CmpInst::Predicate getPredicate() const</div><div class="ttdoc">Get the predicate that the compare instruction is using for hashing the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00182">IRSimilarityIdentifier.cpp:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">llvm::CmpInst::ICMP_UGT</a></div><div class="ttdeci">@ ICMP_UGT</div><div class="ttdoc">unsigned greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00741">InstrTypes.h:741</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1RelativeLocMapping_html"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_1_1RelativeLocMapping.html">llvm::IRSimilarity::IRSimilarityCandidate::RelativeLocMapping</a></div><div class="ttdoc">A helper struct to hold the candidate, for a branch instruction, the relative location of a label,...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00731">IRSimilarityIdentifier.h:731</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a98c685a0c53f3f7ed5f4793890a6c850"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a98c685a0c53f3f7ed5f4793890a6c850">llvm::DenseMapBase::try_emplace</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; try_emplace(KeyT &amp;&amp;Key, Ts &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00222">DenseMap.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_aa7414ba9f658ff1287d22a4b8fe81bcb"><div class="ttname"><a href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const</div><div class="ttdoc">Return the predicate for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00808">InstrTypes.h:808</a></div></div>
<div class="ttc" id="aIRSimilarityIdentifier_8cpp_html_a0ee6d21a9c3c91cd985c0b25cc11af59"><div class="ttname"><a href="IRSimilarityIdentifier_8cpp.html#a0ee6d21a9c3c91cd985c0b25cc11af59">INITIALIZE_PASS</a></div><div class="ttdeci">INITIALIZE_PASS(IRSimilarityIdentifierWrapperPass, &quot;ir-similarity-identifier&quot;, &quot;ir-similarity-identifier&quot;, false, true) IRSimilarityIdentifierWrapperPass</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l01228">IRSimilarityIdentifier.cpp:1228</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a8ce0c4746a1ec805e66409d20ae93922"><div class="ttname"><a href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">llvm::PHINode::getIncomingBlock</a></div><div class="ttdeci">BasicBlock * getIncomingBlock(unsigned i) const</div><div class="ttdoc">Return incoming basic block number i.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02814">Instructions.h:2814</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_aed7023ae0be840bc273712a9905e3c06"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#aed7023ae0be840bc273712a9905e3c06">llvm::IRSimilarity::IRInstructionMapper::AddedIllegalLastTime</a></div><div class="ttdeci">bool AddedIllegalLastTime</div><div class="ttdoc">Set if we added an illegal number in the previous step.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00397">IRSimilarityIdentifier.h:397</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aIRSimilarityIdentifier_8cpp_html_adb57434f498dac697cfa36cd1cb9394c"><div class="ttname"><a href="IRSimilarityIdentifier_8cpp.html#adb57434f498dac697cfa36cd1cb9394c">createCandidatesFromSuffixTree</a></div><div class="ttdeci">static void createCandidatesFromSuffixTree(const IRInstructionMapper &amp;Mapper, std::vector&lt; IRInstructionData * &gt; &amp;InstrList, std::vector&lt; unsigned &gt; &amp;IntegerMapping, SuffixTree::RepeatedSubstring &amp;RS, std::vector&lt; IRSimilarityCandidate &gt; &amp;CandsForRepSubstring)</div><div class="ttdoc">From a repeated subsequence, find all the different instances of the subsequence from the InstrList,...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8cpp_source.html#l00916">IRSimilarityIdentifier.cpp:916</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a223dd14e7d12bc5cea01889b972a98b2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">str - Get the contents as an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00222">StringRef.h:222</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionMapper_html_ab943fd711b08ed084ecf2ed90abf1832"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionMapper.html#ab943fd711b08ed084ecf2ed90abf1832">llvm::IRSimilarity::IRInstructionMapper::CanCombineWithPrevInstr</a></div><div class="ttdeci">bool CanCombineWithPrevInstr</div><div class="ttdoc">Marks whether we found a illegal instruction in the previous step.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00400">IRSimilarityIdentifier.h:400</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html_ab39a288c69393c860063b5d0348dc05a"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html#ab39a288c69393c860063b5d0348dc05a">llvm::IRSimilarity::IRInstructionData::OperVals</a></div><div class="ttdeci">SmallVector&lt; Value *, 4 &gt; OperVals</div><div class="ttdoc">The values of the operands in the Instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00121">IRSimilarityIdentifier.h:121</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier_html"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html">llvm::IRSimilarity::IRSimilarityIdentifier</a></div><div class="ttdoc">This class puts all the pieces of the IRInstructionData, IRInstructionMapper, IRSimilarityCandidate t...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00979">IRSimilarityIdentifier.h:979</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdoc">Conditional or Unconditional Branch instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03139">Instructions.h:3139</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html_a431c03fe7b1e48d27e7b0ee98bb2010a"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html#a431c03fe7b1e48d27e7b0ee98bb2010a">llvm::IRSimilarity::IRSimilarityCandidate::getCanonicalNum</a></div><div class="ttdeci">std::optional&lt; unsigned &gt; getCanonicalNum(unsigned N)</div><div class="ttdoc">Find the canonical number from the global value number N stored in the candidate.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00918">IRSimilarityIdentifier.h:918</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier_html_ac4b0ee9995b68de5356146df068c966a"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html#ac4b0ee9995b68de5356146df068c966a">llvm::IRSimilarity::IRSimilarityIdentifier::getSimilarity</a></div><div class="ttdeci">std::optional&lt; SimilarityGroupList &gt; &amp; getSimilarity()</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l01051">IRSimilarityIdentifier.h:1051</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdoc">Class to represent function types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00103">DerivedTypes.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:49:09 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
