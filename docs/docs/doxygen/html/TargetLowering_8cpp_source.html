<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/SelectionDAG/TargetLowering.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li><li class="navelem"><a class="el" href="dir_6afb80854b358a1199136b8d045fe4e9.html">SelectionDAG</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">TargetLowering.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="TargetLowering_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- TargetLowering.cpp - Implement the TargetLowering class -----------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This implements the TargetLowering class.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLowering_8h.html">llvm/CodeGen/TargetLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VectorUtils_8h.html">llvm/Analysis/VectorUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConvLower_8h.html">llvm/CodeGen/CallingConvLower.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeGenCommonISel_8h.html">llvm/CodeGen/CodeGenCommonISel.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineJumpTableInfo_8h.html">llvm/CodeGen/MachineJumpTableInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SelectionDAG_8h.html">llvm/CodeGen/SelectionDAG.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmInfo_8h.html">llvm/MC/MCAsmInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCExpr_8h.html">llvm/MC/MCExpr.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DivisionByConstantInfo_8h.html">llvm/Support/DivisionByConstantInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KnownBits_8h.html">llvm/Support/KnownBits.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;cctype&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/// NOTE: The TargetMachine owns TLOF.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#afe1e996d32560cca1f0a7d85b691a4ec">   39</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1TargetLowering.html#aaa96f111a59a7a2e7f9c689b344543df">TargetLowering::TargetLowering</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;tm)</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    : <a class="code" href="classllvm_1_1TargetLoweringBase.html">TargetLoweringBase</a>(tm) {}</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a6e790c9b8a58da97902f450571d237c8">   42</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1TargetLowering.html#a6e790c9b8a58da97902f450571d237c8">TargetLowering::getTargetNodeName</a>(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a946fedb8af1dc83622a53b2ebdd1c7ad">   46</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a946fedb8af1dc83622a53b2ebdd1c7ad">TargetLowering::isPositionIndependent</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a1ae2ee148379ed3d041b4bce586f7f99">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a0e5ffac7fd84af772a216629f8bd6da9">isPositionIndependent</a>();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/// Check whether a given call node is in tail position within its function. If</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/// so, it sets Chain to the input chain of the tail call.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aae5737c5c8f1d8355f5679a668b9dbbe">   52</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#aae5737c5c8f1d8355f5679a668b9dbbe">TargetLowering::isInTailCallPosition</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Chain)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// First, check if tail calls have been disabled in this function.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFnAttribute(<span class="stringliteral">&quot;disable-tail-calls&quot;</span>).getValueAsBool())</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// Conservatively require the attributes of the call to match those of</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">// the return. Ignore following attributes because they don&#39;t affect the</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// call sequence.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classllvm_1_1AttrBuilder.html">AttrBuilder</a> CallerAttrs(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getContext(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getAttributes().getRetAttrs());</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Attr : {Attribute::Alignment, Attribute::Dereferenceable,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                           Attribute::DereferenceableOrNull, Attribute::NoAlias,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                           Attribute::NonNull, Attribute::NoUndef})</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    CallerAttrs.<a class="code" href="classllvm_1_1AttrBuilder.html#aa63e528eeff5082f6920b10244143920">removeAttribute</a>(Attr);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">if</span> (CallerAttrs.<a class="code" href="classllvm_1_1AttrBuilder.html#a4cf3cb56358d18065c78992569c32d2f">hasAttributes</a>())</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// It&#39;s not safe to eliminate the sign / zero extension of the return value.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">if</span> (CallerAttrs.<a class="code" href="classllvm_1_1AttrBuilder.html#a6abb550fd00c7568af7b045429491d9e">contains</a>(Attribute::ZExt) ||</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      CallerAttrs.<a class="code" href="classllvm_1_1AttrBuilder.html#a6abb550fd00c7568af7b045429491d9e">contains</a>(Attribute::SExt))</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// Check if the only use is a function return node.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetLowering.html#a138a6e09184eae2d1d412cd4e8d60e11">isUsedByReturnOnly</a>(Node, Chain);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a71269a2478f041a4c4651f9ca277f83a">   81</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a71269a2478f041a4c4651f9ca277f83a">TargetLowering::parametersInCSRMatch</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> *CallerPreservedMask,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;CCValAssign&gt;</a> &amp;ArgLocs,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OutVals)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = ArgLocs.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;ArgLoc = ArgLocs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (!ArgLoc.<a class="code" href="classllvm_1_1CCValAssign.html#a07dddcff2886a2b840f993f7ce17dd28">isRegLoc</a>())</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = ArgLoc.<a class="code" href="classllvm_1_1CCValAssign.html#a17dbc2feaea84ef8d353095d6e618f29">getLocReg</a>();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// Only look at callee saved registers.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">MachineOperand::clobbersPhysReg</a>(CallerPreservedMask, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// Check that we pass the value used for the caller.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// (We look for a CopyFromReg reading a virtual register that is used</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">//  for the function live-in value of register Reg)</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1Value.html">Value</a> = OutVals[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> = <a class="code" href="classllvm_1_1Value.html">Value</a>.getOperand(0);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a>-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">ISD::CopyFromReg</a>)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> ArgReg = cast&lt;RegisterSDNode&gt;(<a class="code" href="classllvm_1_1Value.html">Value</a>-&gt;getOperand(1))-&gt;getReg();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8826883c66d420e0b7a9dd216eeaa388">getLiveInPhysReg</a>(ArgReg) != <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">/// Set CallLoweringInfo attribute flags based on a call instruction</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">/// and called function attributes.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a2b5fc958c69057eb6752424f6417ef42">  110</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a2b5fc958c69057eb6752424f6417ef42">TargetLoweringBase::ArgListEntry::setAttributes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *Call,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                                     <span class="keywordtype">unsigned</span> ArgIdx) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a5c1b1d84bde13caeff8e555ead3e6d9d">IsSExt</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::SExt);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a85eb2b7ee5e85704da2b36df39830417">IsZExt</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::ZExt);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#ab3dd98c54113e246837a884db6281c89">IsInReg</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::InReg);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a3a13938353e01eb66fd02918029d7471">IsSRet</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::StructRet);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a502a6587d506fc454cd0dea3493c8233">IsNest</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::Nest);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#af13178a29af7ffd19f78abcdf6f5be50">IsByVal</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::ByVal);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a94c07537049909255aa5481832383ea8">IsPreallocated</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::Preallocated);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a45c4a1254d0282fe537c4c3e3d5c95e7">IsInAlloca</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::InAlloca);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a6211cdb7031b6d72a4f9db2b73d4ff14">IsReturned</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::Returned);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a9c5c55349d97e80ea41acf500118ffc7">IsSwiftSelf</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::SwiftSelf);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a2bbde6375c87630d6da3bc5d8c302d69">IsSwiftAsync</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::SwiftAsync);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#af228c1ab50d777eb5b70bad47c3061af">IsSwiftError</a> = Call-&gt;paramHasAttr(ArgIdx, Attribute::SwiftError);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a6057564ee6302f901f383e5811fb0ec0">Alignment</a> = Call-&gt;getParamStackAlign(ArgIdx);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a55f8cc1b1837a33a225a76116fae2bf7">IndirectType</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#af13178a29af7ffd19f78abcdf6f5be50">IsByVal</a> + <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a94c07537049909255aa5481832383ea8">IsPreallocated</a> + <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a45c4a1254d0282fe537c4c3e3d5c95e7">IsInAlloca</a> + <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a3a13938353e01eb66fd02918029d7471">IsSRet</a> &lt;= 1 &amp;&amp;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;         <span class="stringliteral">&quot;multiple ABI attributes?&quot;</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#af13178a29af7ffd19f78abcdf6f5be50">IsByVal</a>) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a55f8cc1b1837a33a225a76116fae2bf7">IndirectType</a> = Call-&gt;getParamByValType(ArgIdx);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a6057564ee6302f901f383e5811fb0ec0">Alignment</a>)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a6057564ee6302f901f383e5811fb0ec0">Alignment</a> = Call-&gt;getParamAlign(ArgIdx);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a94c07537049909255aa5481832383ea8">IsPreallocated</a>)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a55f8cc1b1837a33a225a76116fae2bf7">IndirectType</a> = Call-&gt;getParamPreallocatedType(ArgIdx);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a45c4a1254d0282fe537c4c3e3d5c95e7">IsInAlloca</a>)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a55f8cc1b1837a33a225a76116fae2bf7">IndirectType</a> = Call-&gt;getParamInAllocaType(ArgIdx);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a3a13938353e01eb66fd02918029d7471">IsSRet</a>)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a55f8cc1b1837a33a225a76116fae2bf7">IndirectType</a> = Call-&gt;getParamStructRetType(ArgIdx);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">/// Generate a libcall taking the given operands as arguments and returning a</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">/// result of type RetVT.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"></span>std::pair&lt;SDValue, SDValue&gt;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a30f3f5dc999b1dda8f20ff2242ea285a">  144</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#a30f3f5dc999b1dda8f20ff2242ea285a">TargetLowering::makeLibCall</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447">RTLIB::Libcall</a> LC, <a class="code" href="structllvm_1_1EVT.html">EVT</a> RetVT,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                            <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SDValue&gt;</a> Ops,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                            <a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html">MakeLibCallOptions</a> CallOptions,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InChain)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">if</span> (!InChain)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    InChain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">getEntryNode</a>();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#ae4ac6bc14db22dbd7b94a3b1bd276796">TargetLowering::ArgListTy</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.reserve(Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>());</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html">TargetLowering::ArgListEntry</a> Entry;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    Entry.Node = NewOp;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    Entry.Ty = Entry.Node.getValueType().getTypeForEVT(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>());</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    Entry.IsSExt = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a0a602c996b7668a0a80db1c0194f144a">shouldSignExtendTypeInLibCall</a>(NewOp.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                                 CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a84618d70c70e76bfd167ba4660d2aa4f">IsSExt</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    Entry.IsZExt = !Entry.IsSExt;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a87460ac8a2a87af4f31aff4205f06d3d">IsSoften</a> &amp;&amp;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#a6b71455962e4ef36ac855018496368c4">shouldExtendTypeInLibCall</a>(CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a364ab3316f12c7e616321c99042976d4">OpsVTBeforeSoften</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      Entry.IsSExt = Entry.IsZExt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(Entry);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> (LC == RTLIB::UNKNOWN_LIBCALL)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unsupported library call operation!&quot;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8f1c26a4e070ead6c67b4e9a5d93124">getExternalSymbol</a>(<a class="code" href="classllvm_1_1TargetLoweringBase.html#a37d07c2039ddd3ffe787ae9cb81344d0">getLibcallName</a>(LC),</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                         <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>()));</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RetTy = RetVT.<a class="code" href="structllvm_1_1EVT.html#ab0cfceeb37508e56f9c127e59766a668">getTypeForEVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>());</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html">TargetLowering::CallLoweringInfo</a> CLI(DAG);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordtype">bool</span> signExtend = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a0a602c996b7668a0a80db1c0194f144a">shouldSignExtendTypeInLibCall</a>(RetVT, CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a84618d70c70e76bfd167ba4660d2aa4f">IsSExt</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordtype">bool</span> zeroExtend = !signExtend;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">if</span> (CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a87460ac8a2a87af4f31aff4205f06d3d">IsSoften</a> &amp;&amp;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      !<a class="code" href="classllvm_1_1TargetLoweringBase.html#a6b71455962e4ef36ac855018496368c4">shouldExtendTypeInLibCall</a>(CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a9eef0efd7cc80c2bda832ce6efbbe773">RetVTBeforeSoften</a>)) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    signExtend = zeroExtend = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a1cc4fec79b89ecd469ae1fe4b86b242a">setDebugLoc</a>(dl)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      .<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a1d747845f1b76415136d5713cdfa828f">setChain</a>(InChain)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      .<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a6681829b8f3dc7f15aaa53621a4dc602">setLibCallee</a>(<a class="code" href="classllvm_1_1TargetLoweringBase.html#a165e3da23cb77e612919b366f1978af2">getLibcallCallingConv</a>(LC), RetTy, <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>))</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      .<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a07654363c645328113b19c8772f9dc68">setNoReturn</a>(CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a6aced439f1cb92715496bc80dd4d2336">DoesNotReturn</a>)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      .<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#ad5cf76737759f216ba840ca2eda7c2bc">setDiscardResult</a>(!CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a63fca221e2dec9fcba757a30ff8f37a2">IsReturnValueUsed</a>)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      .<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a473f320dfda19e58aae543df31d4bbeb">setIsPostTypeLegalization</a>(CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a445e4efb3b76e845742b7179c9e1f219">IsPostTypeLegalization</a>)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      .<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#abc2ed4525e493f7469b0bf3a8c42cc2e">setSExtResult</a>(signExtend)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      .<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#af54e7f3a39a713cace514e9ccbcf9dbd">setZExtResult</a>(zeroExtend);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">return</span> LowerCallTo(CLI);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a5c66b411f6b9a7f7d25dbdbed39f2925">  197</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a5c66b411f6b9a7f7d25dbdbed39f2925">TargetLowering::findOptimalMemOpLowering</a>(</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    std::vector&lt;EVT&gt; &amp;MemOps, <span class="keywordtype">unsigned</span> Limit, <span class="keyword">const</span> <a class="code" href="structllvm_1_1MemOp.html">MemOp</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keywordtype">unsigned</span> DstAS,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">unsigned</span> SrcAS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> &amp;FuncAttributes)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">if</span> (Limit != ~<span class="keywordtype">unsigned</span>(0) &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isMemcpyWithFixedDstAlign() &amp;&amp;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getSrcAlign() &lt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getDstAlign())</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a4263600a293f38086f37d30782c2ddf8">getOptimalMemOpType</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, FuncAttributes);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// Use the largest integer type whose alignment constraints are satisfied.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// We only need to check DstAlign here as SrcAlign is always greater or</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// equal to DstAlign (or zero).</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    VT = <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isFixedDstAlign())</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getDstAlign() &lt; (VT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() / 8) &amp;&amp;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;             !<a class="code" href="classllvm_1_1TargetLoweringBase.html#a63b5343b9da17f8bcc83ec545022f5c7">allowsMisalignedMemoryAccesses</a>(VT, DstAS, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getDstAlign()))</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        VT = (<a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346">MVT::SimpleValueType</a>)(VT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a> - 1);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>());</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// Find the largest legal integer type.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> LVT = <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(LVT))</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      LVT = (<a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346">MVT::SimpleValueType</a>)(LVT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a> - 1);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LVT.<a class="code" href="classllvm_1_1MVT.html#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>());</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// If the type we&#39;ve chosen is larger than the largest legal integer type</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// then use that instead.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a3ad406477784397709a339d5a2957b43">bitsGT</a>(LVT))</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      VT = LVT;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordtype">unsigned</span> NumMemOps = 0;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.size();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">while</span> (Size) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordtype">unsigned</span> VTSize = VT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() / 8;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">while</span> (VTSize &gt; Size) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">// For now, only use non-vector load / store&#39;s for the left-over pieces.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVT = VT;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordtype">unsigned</span> NewVTSize;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() || VT.<a class="code" href="structllvm_1_1EVT.html#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>()) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        NewVT = (VT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &gt; 64) ? <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> : <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>, NewVT) &amp;&amp;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2e1a572dcdde338698d9f94f0039f09f">isSafeMemOpType</a>(NewVT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>()))</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          Found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NewVT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                 <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) &amp;&amp;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                 <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2e1a572dcdde338698d9f94f0039f09f">isSafeMemOpType</a>(<a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          <span class="comment">// i64 is usually not legal on 32-bit targets, but f64 may be.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          NewVT = <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;          Found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">if</span> (!Found) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;          NewVT = (<a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346">MVT::SimpleValueType</a>)(NewVT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a> - 1);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;          <span class="keywordflow">if</span> (NewVT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        } <span class="keywordflow">while</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2e1a572dcdde338698d9f94f0039f09f">isSafeMemOpType</a>(NewVT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>()));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      NewVTSize = NewVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() / 8;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="comment">// If the new VT cannot cover all of the remaining bits, then consider</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">// issuing a (or a pair of) unaligned and overlapping load / store.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordtype">unsigned</span> Fast;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">if</span> (NumMemOps &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.allowOverlap() &amp;&amp; NewVTSize &lt; Size &amp;&amp;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;          <a class="code" href="classllvm_1_1TargetLoweringBase.html#a63b5343b9da17f8bcc83ec545022f5c7">allowsMisalignedMemoryAccesses</a>(</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;              VT, DstAS, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isFixedDstAlign() ? <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getDstAlign() : <a class="code" href="structllvm_1_1Align.html">Align</a>(1),</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;              <a class="code" href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2ddac2989bebe46c9b9fcb7a92e5ade8dde6">MachineMemOperand::MONone</a>, &amp;Fast) &amp;&amp;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          Fast)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        VTSize = Size;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        VT = NewVT;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        VTSize = NewVTSize;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (++NumMemOps &gt; Limit)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    MemOps.push_back(VT);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    Size -= VTSize;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">/// Soften the operands of a comparison. This code is shared among BR_CC,</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">/// SELECT_CC, and SETCC handlers.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a2e836f71ed0ea3e2bdd35923fe5364b8">  289</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#a2e836f71ed0ea3e2bdd35923fe5364b8">TargetLowering::softenSetCCOperands</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT,</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;NewLHS, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;NewRHS,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                         <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> &amp;CCCode,</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OldLHS,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OldRHS)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">return</span> softenSetCCOperands(DAG, VT, NewLHS, NewRHS, CCCode, dl, OldLHS,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                             OldRHS, Chain);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ab82eaadc35982883624fe254b6327458">  299</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#a2e836f71ed0ea3e2bdd35923fe5364b8">TargetLowering::softenSetCCOperands</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT,</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;NewLHS, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;NewRHS,</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                         <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> &amp;CCCode,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OldLHS,</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OldRHS,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Chain,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                         <span class="keywordtype">bool</span> IsSignaling)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">// FIXME: Currently we cannot really respect all IEEE predicates due to libgcc</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// not supporting it. We can update this code when libgcc provides such</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// functions.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a> || VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> || VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a> || VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;         &amp;&amp; <span class="stringliteral">&quot;Unsupported setcc type!&quot;</span>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// Expand into one or more soft-fp libcall(s).</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447">RTLIB::Libcall</a> LC1 = RTLIB::UNKNOWN_LIBCALL, LC2 = RTLIB::UNKNOWN_LIBCALL;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keywordtype">bool</span> ShouldInvertCC = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">switch</span> (CCCode) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>:</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862">ISD::SETOEQ</a>:</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OEQ_F32 :</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OEQ_F64 :</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OEQ_F128 : RTLIB::OEQ_PPCF128;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>:</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0d1546187d4d526fcbdd43183689075e">ISD::SETUNE</a>:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::UNE_F32 :</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::UNE_F64 :</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::UNE_F128 : RTLIB::UNE_PPCF128;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a>:</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f">ISD::SETOGE</a>:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OGE_F32 :</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OGE_F64 :</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OGE_F128 : RTLIB::OGE_PPCF128;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>:</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a20257a4d3833cf88afd42caeaed70dde">ISD::SETOLT</a>:</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OLT_F32 :</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OLT_F64 :</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OLT_F128 : RTLIB::OLT_PPCF128;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>:</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea">ISD::SETOLE</a>:</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OLE_F32 :</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OLE_F64 :</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OLE_F128 : RTLIB::OLE_PPCF128;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>:</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a31d1e24e08b255d6aa290d67d16ce2c9">ISD::SETOGT</a>:</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OGT_F32 :</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OGT_F64 :</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OGT_F128 : RTLIB::OGT_PPCF128;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">ISD::SETO</a>:</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    ShouldInvertCC = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::SETUO</a>:</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::UO_F32 :</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::UO_F64 :</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::UO_F128 : RTLIB::UO_PPCF128;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72">ISD::SETONE</a>:</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// SETONE = O &amp;&amp; UNE</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    ShouldInvertCC = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848">ISD::SETUEQ</a>:</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::UO_F32 :</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::UO_F64 :</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::UO_F128 : RTLIB::UO_PPCF128;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    LC2 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OEQ_F32 :</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OEQ_F64 :</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OEQ_F128 : RTLIB::OEQ_PPCF128;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// Invert CC for unordered comparisons</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    ShouldInvertCC = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">switch</span> (CCCode) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>:</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OGE_F32 :</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OGE_F64 :</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OGE_F128 : RTLIB::OGE_PPCF128;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>:</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OGT_F32 :</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OGT_F64 :</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OGT_F128 : RTLIB::OGT_PPCF128;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>:</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OLE_F32 :</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OLE_F64 :</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OLE_F128 : RTLIB::OLE_PPCF128;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a>:</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      LC1 = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? RTLIB::OLT_F32 :</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) ? RTLIB::OLT_F64 :</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) ? RTLIB::OLT_F128 : RTLIB::OLT_PPCF128;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Do not know how to soften this setcc!&quot;</span>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// Use the target specific return value for comparison lib calls.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> RetVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a525f2430c0744940e57aa0586fbfba8d">getCmpLibcallReturnType</a>();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[2] = {NewLHS, NewRHS};</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html">TargetLowering::MakeLibCallOptions</a> CallOptions;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OpsVT[2] = { OldLHS.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                   OldRHS.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() };</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a0e0eec2bc485ea4429e847585d75645d">setTypeListBeforeSoften</a>(OpsVT, RetVT, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keyword">auto</span> Call = makeLibCall(DAG, LC1, RetVT, Ops, CallOptions, dl, Chain);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  NewLHS = Call.first;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  NewRHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, RetVT);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  CCCode = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad85fc60334b97452e632a353e5a4b814">getCmpLibcallCC</a>(LC1);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (ShouldInvertCC) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RetVT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>());</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    CCCode = <a class="code" href="namespacellvm_1_1ISD.html#a5fbc38db5c4f3ef878ab19245d3f381d">getSetCCInverse</a>(CCCode, RetVT);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">if</span> (LC2 == RTLIB::UNKNOWN_LIBCALL) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">// Update Chain.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    Chain = Call.second;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SetCCVT =</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), RetVT);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT, NewLHS, NewRHS, CCCode);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keyword">auto</span> Call2 = makeLibCall(DAG, LC2, RetVT, Ops, CallOptions, dl, Chain);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    CCCode = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad85fc60334b97452e632a353e5a4b814">getCmpLibcallCC</a>(LC2);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (ShouldInvertCC)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      CCCode = <a class="code" href="namespacellvm_1_1ISD.html#a5fbc38db5c4f3ef878ab19245d3f381d">getSetCCInverse</a>(CCCode, RetVT);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    NewLHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT, Call2.first, NewRHS, CCCode);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (Chain)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, Call.second,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                          Call2.second);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    NewLHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ShouldInvertCC ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                         Tmp.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Tmp, NewLHS);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    NewRHS = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">/// Return the entry encoding for a jump table in the current function. The</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">/// returned value is a member of the MachineJumpTableInfo::JTEntryKind enum.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#adc0f0b496eb788d740e4fa54b82f4477">  441</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1TargetLowering.html#adc0f0b496eb788d740e4fa54b82f4477">TargetLowering::getJumpTableEncoding</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// In non-pic modes, just use the address of a block.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">if</span> (!isPositionIndependent())</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineJumpTableInfo.html#aaa21facdbb167f7c33d21907b8e5b9d3ab0c4687afc1a6858d37711a814f8f5b3">MachineJumpTableInfo::EK_BlockAddress</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// In PIC mode, if the target supports a GPRel32 directive, use it.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a1ae2ee148379ed3d041b4bce586f7f99">getTargetMachine</a>().getMCAsmInfo()-&gt;getGPRel32Directive() != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineJumpTableInfo.html#aaa21facdbb167f7c33d21907b8e5b9d3a0145ef8496d090993849ec0d7ca947f7">MachineJumpTableInfo::EK_GPRel32BlockAddress</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="comment">// Otherwise, use a label difference.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineJumpTableInfo.html#aaa21facdbb167f7c33d21907b8e5b9d3a6e05991949952d4e85600b0868dcd803">MachineJumpTableInfo::EK_LabelDifference32</a>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aa515729d5d6441d6c9aa337986629320">  454</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#aa515729d5d6441d6c9aa337986629320">TargetLowering::getPICJumpTableRelocBase</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Table,</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                                 <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="comment">// If our PIC model is GP relative, use the global offset table as the base.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordtype">unsigned</span> JTEncoding = getJumpTableEncoding();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">if</span> ((JTEncoding == <a class="code" href="classllvm_1_1MachineJumpTableInfo.html#aaa21facdbb167f7c33d21907b8e5b9d3aba174e822c60ce5af99bdb57ab3ec640">MachineJumpTableInfo::EK_GPRel64BlockAddress</a>) ||</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      (JTEncoding == <a class="code" href="classllvm_1_1MachineJumpTableInfo.html#aaa21facdbb167f7c33d21907b8e5b9d3a0145ef8496d090993849ec0d7ca947f7">MachineJumpTableInfo::EK_GPRel32BlockAddress</a>))</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3e014fd645491da79c3ccabd345c2709">getGLOBAL_OFFSET_TABLE</a>(<a class="code" href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>()));</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">return</span> Table;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">/// This returns the relocation base for the given PIC jumptable, the same as</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">/// getPICJumpTableRelocBase, but as an MCExpr.</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1MCExpr.html">MCExpr</a> *</div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a0c644b2264cbfb220c327b1c6aa9ebf7">  469</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#a0c644b2264cbfb220c327b1c6aa9ebf7">TargetLowering::getPICJumpTableRelocBaseExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF,</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                             <span class="keywordtype">unsigned</span> JTI,<a class="code" href="classllvm_1_1MCContext.html">MCContext</a> &amp;Ctx)<span class="keyword"> const</span>{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">// The normal PIC reloc base is the label at the start of the jump table.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#a6a80122686401107aecb1cb750d4a698">MCSymbolRefExpr::create</a>(MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6e9c232101c30e91126209154a047a63">getJTISymbol</a>(JTI, Ctx), Ctx);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ac2ae48be42971dba7cc418da96444f1c">  476</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#ac2ae48be42971dba7cc418da96444f1c">TargetLowering::isOffsetFoldingLegal</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAddressSDNode.html">GlobalAddressSDNode</a> *GA)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;TM = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a1ae2ee148379ed3d041b4bce586f7f99">getTargetMachine</a>();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = GA-&gt;<a class="code" href="classllvm_1_1GlobalAddressSDNode.html#a0622a72b15dee45d1694b152ccb7f15b">getGlobal</a>();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">// If the address is not even local to this DSO we will have to load it from</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="comment">// a got and then add the offset.</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.shouldAssumeDSOLocal(*GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>(), GV))</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// If the code is position independent we will have to add a base register.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">if</span> (isPositionIndependent())</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">// Otherwise we can do it.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">//  Optimization Methods</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">/// If the specified instruction has a constant integer operand and there are</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">/// bits set in that constant that are not demanded, then clear those bits and</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">/// return true.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a660b8657f5cf4e2425fda502d2ff22c5">  500</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a660b8657f5cf4e2425fda502d2ff22c5">TargetLowering::ShrinkDemandedConstant</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>,</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                            <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> &amp;TLO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// Do target-specific constant optimization.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (targetShrinkDemandedConstant(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO))</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aa59ebff339822e9d6912a36acbeff118">New</a>.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// FIXME: ISD::SELECT, ISD::SELECT_CC</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>:</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>:</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>: {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keyword">auto</span> *Op1C = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1));</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (!Op1C || Op1C-&gt;isOpaque())</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="comment">// If this is a &#39;not&#39; op, don&#39;t touch it because that&#39;s a canonical form.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Op1C-&gt;getAPIntValue();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a> &amp;&amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isSubsetOf(<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>)) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewC = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> &amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), NewC);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a3690bc83a111f4641ff3ed8aa3be1d8c">  541</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a660b8657f5cf4e2425fda502d2ff22c5">TargetLowering::ShrinkDemandedConstant</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                            <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> &amp;TLO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedElts = VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                           ? <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>())</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                           : <a class="code" href="classllvm_1_1APInt.html">APInt</a>(1, 1);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstCombineSimplifyDemanded_8cpp.html#a83ba6ab779541297eb331d3a56aa7cdd">ShrinkDemandedConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">/// Convert x+y to (VT)((SmallVT)x+(SmallVT)y) if the casts are free.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">/// This uses isZExtFree and ZERO_EXTEND for the widening cast, but it could be</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">/// generalized for targets with other types of implicit widening casts.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a794008429218ce6d45147c450cb769fa">  554</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a794008429218ce6d45147c450cb769fa">TargetLowering::ShrinkDemandedOp</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Demanded,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                      <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> &amp;TLO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNumOperands() == 2 &amp;&amp;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;         <span class="stringliteral">&quot;ShrinkDemandedOp only supports binary operators!&quot;</span>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode()-&gt;getNumValues() == 1 &amp;&amp;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;         <span class="stringliteral">&quot;ShrinkDemandedOp only supports nodes with one result!&quot;</span>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// Early return, as this function cannot handle vector types.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType().isVector())</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">// Don&#39;t do this if the node has another user, which may require the</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="comment">// full value.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode()-&gt;hasOneUse())</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// Search for the smallest integer type with free casts to and from</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// Op&#39;s type. For expedience, just check power-of-2 integer types.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>();</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordtype">unsigned</span> DemandedSize = Demanded.<a class="code" href="classllvm_1_1APInt.html#a3015474e70e59c0a3ed4f9f0e8644b75">getActiveBits</a>();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordtype">unsigned</span> SmallVTBits = DemandedSize;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  SmallVTBits = <a class="code" href="namespacellvm.html#a4cc11b26432f9343b3c532f06171ad04">llvm::bit_ceil</a>(SmallVTBits);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">for</span> (; SmallVTBits &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>; SmallVTBits = <a class="code" href="namespacellvm.html#afb65eef479f0473d0fe1666b80155237">NextPowerOf2</a>(SmallVTBits)) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SmallVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), SmallVTBits);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a6f992bc4ca89f1b5f0b34f5b29978c31">isTruncateFree</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType(), SmallVT) &amp;&amp;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a342be90695496b88a8854a775dfd030f">isZExtFree</a>(SmallVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType())) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="comment">// We found a type with free casts.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, SmallVT,</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, SmallVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0)),</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, SmallVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1)));</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DemandedSize &lt;= SmallVTBits &amp;&amp; <span class="stringliteral">&quot;Narrowed below demanded bits?&quot;</span>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, dl, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType(), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a992d3a50e94e90d70248397e11683395">  597</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#aa6d77ede0c0d9cc01cf96c45e4d6baa4">TargetLowering::SimplifyDemandedBits</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>,</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                          <a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">DAGCombinerInfo</a> &amp;DCI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#acf37bd7e831bdb2a5c9da8d63f843101">DAG</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> TLO(DAG, !DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#ac79f060cd8d4b63fc6d682c076cbeec0">isBeforeLegalize</a>(),</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                        !DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>());</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> = SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, Known, TLO);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode());</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aeecdb6a29a24d717a83fc1c948e00d98">CommitTargetLoweringOpt</a>(TLO);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#afa5a9d0e5651cc582fd5509d92c97380">  612</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#aa6d77ede0c0d9cc01cf96c45e4d6baa4">TargetLowering::SimplifyDemandedBits</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>,</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                                          <a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">DAGCombinerInfo</a> &amp;DCI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#acf37bd7e831bdb2a5c9da8d63f843101">DAG</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> TLO(DAG, !DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#ac79f060cd8d4b63fc6d682c076cbeec0">isBeforeLegalize</a>(),</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        !DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>());</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> =</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, Known, TLO);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode());</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aeecdb6a29a24d717a83fc1c948e00d98">CommitTargetLoweringOpt</a>(TLO);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ad91444fa2b4739c6740dada187105a8c">  629</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#aa6d77ede0c0d9cc01cf96c45e4d6baa4">TargetLowering::SimplifyDemandedBits</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>,</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                                          <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> &amp;Known,</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                                          <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> &amp;TLO,</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                                          <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                          <span class="keywordtype">bool</span> AssumeSingleUse)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// Since the number of lanes in a scalable vector is unknown at compile time,</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="comment">// we track one bit which is implicitly broadcast to all lanes.  This means</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">// that all lanes in a scalable vector are considered demanded.</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedElts = VT.<a class="code" href="structllvm_1_1EVT.html#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>()</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                           ? <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>())</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                           : <a class="code" href="classllvm_1_1APInt.html">APInt</a>(1, 1);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">return</span> SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, Known, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>,</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                              AssumeSingleUse);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">// TODO: Under what circumstances can we create nodes? Constant folding?</span></div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a4f85f5016df4fe07ad95d18e4ba5b99c">  647</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a4f85f5016df4fe07ad95d18e4ba5b99c">TargetLowering::SimplifyMultipleUseDemandedBits</a>(</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// Limit search depth.</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt;= <a class="code" href="classllvm_1_1SelectionDAG.html#a4d5e16cbde22f5e6f007940d57a428fd">SelectionDAG::MaxRecursionDepth</a>)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">// Ignore UNDEFs.</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isUndef())</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="comment">// Not demanding any bits/elts from Op.</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> == 0 || DemandedElts == 0)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(VT);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordtype">bool</span> IsLE = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a377365b0288a4d06a07e09252d7d583f">isLittleEndian</a>();</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getBitWidth();</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> LHSKnown, RHSKnown;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode()) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>: {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm.html#a1f4429b3a6cbf22cea042b77cf055f40">peekThroughBitcasts</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0));</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (SrcVT == DstVT)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">return</span> Src;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcEltBits = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordtype">unsigned</span> NumDstEltBits = DstVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">if</span> (NumSrcEltBits == NumDstEltBits)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;              Src, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, DAG, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(DstVT, V);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; (NumDstEltBits % NumSrcEltBits) == 0) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordtype">unsigned</span> Scale = NumDstEltBits / NumSrcEltBits;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordtype">unsigned</span> NumSrcElts = SrcVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcBits = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSrcEltBits);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSrcElts);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != Scale; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordtype">unsigned</span> EltOffset = IsLE ? <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> : (Scale - 1 - <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordtype">unsigned</span> BitOffset = EltOffset * NumSrcEltBits;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> Sub = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.extractBits(NumSrcEltBits, BitOffset);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordflow">if</span> (!Sub.<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>()) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          DemandedSrcBits |= Sub;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keywordflow">if</span> (DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>])</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;              DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>((<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> * Scale) + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;              Src, DemandedSrcBits, DemandedSrcElts, DAG, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(DstVT, V);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// TODO - bigendian once we have test coverage.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">if</span> (IsLE &amp;&amp; (NumSrcEltBits % NumDstEltBits) == 0) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="keywordtype">unsigned</span> Scale = NumSrcEltBits / NumDstEltBits;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="keywordtype">unsigned</span> NumSrcElts = SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() ? SrcVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() : 1;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcBits = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSrcEltBits);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSrcElts);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">if</span> (DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;          <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % Scale) * NumDstEltBits;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;          DemandedSrcBits.<a class="code" href="classllvm_1_1APInt.html#aabe301a4f18d38478700ad44ba2245bc">insertBits</a>(<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> / Scale);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;              Src, DemandedSrcBits, DemandedSrcElts, DAG, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(DstVT, V);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>: {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    LHSKnown = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    RHSKnown = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1), DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">// If all of the demanded bits are known 1 on one side, return the other.</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// These bits cannot contribute to the result of the &#39;and&#39; in this</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">// context.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> | RHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>))</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(RHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> | LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>))</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>: {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    LHSKnown = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    RHSKnown = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1), DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// If all of the demanded bits are known zero on one side, return the</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// other.  These bits cannot contribute to the result of the &#39;or&#39; in this</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// context.</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> | RHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(RHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> | LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>: {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    LHSKnown = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    RHSKnown = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1), DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="comment">// If all of the demanded bits are known zero on one side, return the</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// other.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(RHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>: {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// If we are only demanding sign bits then we can use the shift source</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">// directly.</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *MaxSA =</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a15f028bddbf4fabbf0b8b4d1570e2b90">getValidMaximumShiftAmountConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts)) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt = MaxSA-&gt;getZExtValue();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordtype">unsigned</span> NumSignBits =</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">ComputeNumSignBits</a>(Op0, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordtype">unsigned</span> UpperDemandedBits = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countTrailingZeros();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="keywordflow">if</span> (NumSignBits &gt; ShAmt &amp;&amp; (NumSignBits - ShAmt) &gt;= (UpperDemandedBits))</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>: {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = cast&lt;CondCodeSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2))-&gt;get();</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">// If (1) we only need the sign-bit, (2) the setcc operands are the same</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="comment">// width as the setcc result, and (3) the result of a setcc conforms to 0 or</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="comment">// -1, we may be able to bypass the setcc.</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSignMask() &amp;&amp;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        Op0.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>() == <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(Op0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()) ==</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            BooleanContent::ZeroOrNegativeOneBooleanContent) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="comment">// If we&#39;re testing X &lt; 0, then this compare isn&#39;t needed - just use X!</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="comment">// FIXME: We&#39;re limiting to integer types here, but this should also work</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="comment">// if we don&#39;t care about FP signed-zero. The use of SETLT with FP means</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="comment">// that we don&#39;t care about NaNs.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a> &amp;&amp; Op1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;          (<a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>(Op1) || <a class="code" href="namespacellvm_1_1ISD.html#aaac3e239cbdfe15a8e9bad4f8e1e3a95">ISD::isBuildVectorAllZeros</a>(Op1.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>())))</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>: {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="comment">// If none of the extended bits are demanded, eliminate the sextinreg.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ExVT = cast&lt;VTSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1))-&gt;getVT();</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordtype">unsigned</span> ExBits = ExVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getActiveBits() &lt;= ExBits)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// If the input is already sign extended, just drop the extension.</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordtype">unsigned</span> NumSignBits = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">ComputeNumSignBits</a>(Op0, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">if</span> (NumSignBits &gt;= (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - ExBits + 1))</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa275bf149ab5df1067cfb721936ecbc">ISD::ANY_EXTEND_VECTOR_INREG</a>:</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3893859b5caa079593b9bf91b96e05fb">ISD::SIGN_EXTEND_VECTOR_INREG</a>:</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adf7f4fc30c272a1987e075d7470df84c">ISD::ZERO_EXTEND_VECTOR_INREG</a>: {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="comment">// If we only want the lowest element and none of extended bits, then we can</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="comment">// return the bitcasted source vector.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">if</span> (IsLE &amp;&amp; DemandedElts == 1 &amp;&amp;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        DstVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == SrcVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &amp;&amp;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getActiveBits() &lt;= SrcVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>()) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(DstVT, Src);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>: {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="comment">// If we don&#39;t demand the inserted element, return the base vector.</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Vec = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keyword">auto</span> *CIdx = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2));</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VecVT = Vec.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">if</span> (CIdx &amp;&amp; CIdx-&gt;getAPIntValue().ult(VecVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>()) &amp;&amp;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        !DemandedElts[CIdx-&gt;getZExtValue()])</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="keywordflow">return</span> Vec;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">ISD::INSERT_SUBVECTOR</a>: {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Vec = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Idx = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getConstantOperandVal(2);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordtype">unsigned</span> NumSubElts = Sub.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSubElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(NumSubElts, Idx);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="comment">// If we don&#39;t demand the inserted subvector, return the base vector.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (DemandedSubElts == 0)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <span class="keywordflow">return</span> Vec;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>: {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>());</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> ShuffleMask = cast&lt;ShuffleVectorSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getMask();</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">// If all the demanded elts are from one operand and are inline,</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">// then we can use the operand directly.</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordtype">bool</span> AllUndef = <span class="keyword">true</span>, IdentityLHS = <span class="keyword">true</span>, IdentityRHS = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = ShuffleMask[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; 0 || !DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      AllUndef = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      IdentityLHS &amp;= (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> == (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      IdentityRHS &amp;= ((<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> - NumElts) == <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">if</span> (AllUndef)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType());</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (IdentityLHS)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">if</span> (IdentityRHS)</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// TODO: Probably okay to remove after audit; here to reduce change size</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="comment">// in initial enablement patch for scalable vectors</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a>)</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = SimplifyMultipleUseDemandedBitsForTargetNode(</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;              <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, DAG, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>))</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;}</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#add3ee82b58bd297afac9a9a34fd17f5e">  899</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a4f85f5016df4fe07ad95d18e4ba5b99c">TargetLowering::SimplifyMultipleUseDemandedBits</a>(</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="comment">// Since the number of lanes in a scalable vector is unknown at compile time,</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="comment">// we track one bit which is implicitly broadcast to all lanes.  This means</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="comment">// that all lanes in a scalable vector are considered demanded.</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedElts = VT.<a class="code" href="structllvm_1_1EVT.html#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>()</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                           ? <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>())</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                           : <a class="code" href="classllvm_1_1APInt.html">APInt</a>(1, 1);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordflow">return</span> SimplifyMultipleUseDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, DAG,</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                         <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;}</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a57aa9aca1eaf764d871cf7df9521c3d3">  913</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a57aa9aca1eaf764d871cf7df9521c3d3">TargetLowering::SimplifyMultipleUseDemandedVectorElts</a>(</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> = <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getScalarValueSizeInBits());</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordflow">return</span> SimplifyMultipleUseDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, DAG,</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                                         <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;}</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">// Attempt to form ext(avgfloor(A, B)) from shr(add(ext(A), ext(B)), 1).</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">//      or to form ext(avgceil(A, B)) from shr(add(ext(A), ext(B), 1), 1).</span></div>
<div class="line"><a name="l00923"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#addadecf5eb17d047842cc7b1a82e8914">  923</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLowering_8cpp.html#addadecf5eb17d047842cc7b1a82e8914">combineShiftToAVG</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI,</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>,</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                                 <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a> || <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>) &amp;&amp;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;         <span class="stringliteral">&quot;SRL or SRA node is required here!&quot;</span>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// Is the right shift using an immediate value of 1?</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *N1C = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1), DemandedElts);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keywordflow">if</span> (!N1C || !N1C-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a3309ab99db347b0a0bd63f859bce62a7">isOne</a>())</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="comment">// We are looking for an avgfloor</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="comment">// add(ext, ext)</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="comment">// or one of these as a avgceil</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="comment">// add(add(ext, ext), 1)</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="comment">// add(add(ext, 1), ext)</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// add(ext, add(ext, 1))</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Add = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">if</span> (Add.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>)</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExtOpA = Add.getOperand(0);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExtOpB = Add.getOperand(1);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Add2;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keyword">auto</span> MatchOperands = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op2, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op3, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> A) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *ConstOp;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> ((ConstOp = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(Op2, DemandedElts)) &amp;&amp;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        ConstOp-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a3309ab99db347b0a0bd63f859bce62a7">isOne</a>()) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      ExtOpA = Op1;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      ExtOpB = Op3;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      Add2 = A;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> ((ConstOp = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(Op3, DemandedElts)) &amp;&amp;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        ConstOp-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a3309ab99db347b0a0bd63f859bce62a7">isOne</a>()) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      ExtOpA = Op1;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      ExtOpB = Op2;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      Add2 = A;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  };</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordtype">bool</span> IsCeil =</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      (ExtOpA.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> &amp;&amp;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;       MatchOperands(ExtOpA.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), ExtOpA.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), ExtOpB, ExtOpA)) ||</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      (ExtOpB.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> &amp;&amp;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;       MatchOperands(ExtOpB.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), ExtOpB.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), ExtOpA, ExtOpB));</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="comment">// If the shift is signed (sra):</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">//  - Needs &gt;= 2 sign bit for both operands.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="comment">//  - Needs &gt;= 2 zero bits.</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="comment">// If the shift is unsigned (srl):</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="comment">//  - Needs &gt;= 1 zero bit for both operands.</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="comment">//  - Needs 1 demanded bit zero and &gt;= 2 sign bits.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239ef">ShiftOpc</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordtype">bool</span> IsSigned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordtype">unsigned</span> NumSignedA = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">ComputeNumSignBits</a>(ExtOpA, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordtype">unsigned</span> NumSignedB = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">ComputeNumSignBits</a>(ExtOpB, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordtype">unsigned</span> NumSigned = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(NumSignedA, NumSignedB) - 1;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordtype">unsigned</span> NumZeroA =</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(ExtOpA, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>).<a class="code" href="structllvm_1_1KnownBits.html#a7f47812e8e75b0616a97d7004e5fb909">countMinLeadingZeros</a>();</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keywordtype">unsigned</span> NumZeroB =</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(ExtOpB, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>).<a class="code" href="structllvm_1_1KnownBits.html#a7f47812e8e75b0616a97d7004e5fb909">countMinLeadingZeros</a>();</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordtype">unsigned</span> NumZero = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(NumZeroA, NumZeroB);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239ef">ShiftOpc</a>) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected ShiftOpc in combineShiftToAVG&quot;</span>);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>: {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">if</span> (NumZero &gt;= 2 &amp;&amp; NumSigned &lt; NumZero) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      IsSigned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> = NumZero;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span> (NumSigned &gt;= 1) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      IsSigned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> = NumSigned;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>: {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span> (NumZero &gt;= 1 &amp;&amp; NumSigned &lt; NumZero) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      IsSigned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> = NumZero;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (NumSigned &gt;= 1 &amp;&amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSignBitClear()) {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      IsSigned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> = NumSigned;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="keywordtype">unsigned</span> AVGOpc = IsCeil ? (IsSigned ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a55a4b1d94ca6176bcb5449196d67e798">ISD::AVGCEILS</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8489c40b1b3f92b0c4fc98d06099c441">ISD::AVGCEILU</a>)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                           : (IsSigned ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110acc5444f2e2933b551e3afbdd93a9bfc8">ISD::AVGFLOORS</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5096628a43b16ff34ace64193ded1c93">ISD::AVGFLOORU</a>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="comment">// Find the smallest power-2 type that is legal for this vector size and</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="comment">// operation, given the original type size and the number of known sign/zero</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="comment">// bits.</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="keywordtype">unsigned</span> MinWidth =</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      std::max&lt;unsigned&gt;(VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() - <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a>, 8);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), <a class="code" href="namespacellvm.html#a4cc11b26432f9343b3c532f06171ad04">llvm::bit_ceil</a>(MinWidth));</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>())</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    NVT = <a class="code" href="structllvm_1_1EVT.html#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), NVT, VT.<a class="code" href="structllvm_1_1EVT.html#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">if</span> (!TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(AVGOpc, NVT)) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">// If we could not transform, and (both) adds are nuw/nsw, we can use the</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="comment">// larger type size to do the transform.</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">if</span> (((!IsSigned &amp;&amp; Add-&gt;getFlags().hasNoUnsignedWrap() &amp;&amp;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;          (!Add2 || Add2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a5023bb0687db0b35d3b2d19327217ce5">getFlags</a>().<a class="code" href="structllvm_1_1SDNodeFlags.html#a7952a7f73530f15076b2d88a671ef480">hasNoUnsignedWrap</a>())) ||</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;         (IsSigned &amp;&amp; Add-&gt;getFlags().hasNoSignedWrap() &amp;&amp;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;          (!Add2 || Add2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a5023bb0687db0b35d3b2d19327217ce5">getFlags</a>().<a class="code" href="structllvm_1_1SDNodeFlags.html#ad03ee82e34dac079eca6da220393888d">hasNoSignedWrap</a>()))) &amp;&amp;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(AVGOpc, VT)) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      NVT = VT;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ResultAVG =</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(AVGOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NVT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NVT, ExtOpA),</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NVT, ExtOpB));</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(IsSigned ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                     ResultAVG);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;}</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="comment">/// Look at Op. At this point, we know that only the OriginalDemandedBits of the</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">/// result of Op are ever used downstream. If we can use this information to</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">/// simplify Op, create a new simplified DAG node and return true, returning the</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">/// original and new nodes in Old and New. Otherwise, analyze the expression and</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment">/// return a mask of Known bits for the expression (used to simplify the</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment">/// caller).  The Known bits may only be accurate for those bits in the</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">/// OriginalDemandedBits and OriginalDemandedElts.</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aa6d77ede0c0d9cc01cf96c45e4d6baa4"> 1061</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#aa6d77ede0c0d9cc01cf96c45e4d6baa4">TargetLowering::SimplifyDemandedBits</a>(</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;OriginalDemandedBits,</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;OriginalDemandedElts, <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> &amp;Known, <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> &amp;TLO,</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>, <span class="keywordtype">bool</span> AssumeSingleUse)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = OriginalDemandedBits.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>();</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getScalarValueSizeInBits() == <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;         <span class="stringliteral">&quot;Mask size mismatches value type size!&quot;</span>);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="comment">// Don&#39;t know anything.</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  Known = <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordtype">bool</span> IsLE = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a377365b0288a4d06a07e09252d7d583f">isLittleEndian</a>();</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = OriginalDemandedElts.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>();</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!VT.<a class="code" href="structllvm_1_1EVT.html#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>() || NumElts == VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>()) &amp;&amp;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;         <span class="stringliteral">&quot;Unexpected vector size&quot;</span>);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> = OriginalDemandedBits;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedElts = OriginalDemandedElts;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>();</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// Undef operand.</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isUndef())</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// We can&#39;t simplify target constants.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac479e53ca98903b1028ec80e12fb0af8">ISD::TargetConstant</a>)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">ISD::Constant</a>) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// We know all of the bits for a constant!</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    Known = <a class="code" href="structllvm_1_1KnownBits.html#a066220c7a472d8793de64a0ad23487d2">KnownBits::makeConstant</a>(cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getAPIntValue());</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">ISD::ConstantFP</a>) {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="comment">// We know all of the bits for a floating point constant!</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    Known = <a class="code" href="structllvm_1_1KnownBits.html#a066220c7a472d8793de64a0ad23487d2">KnownBits::makeConstant</a>(</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        cast&lt;ConstantFPSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getValueAPF().bitcastToAPInt());</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="comment">// Other users may use these bits.</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordtype">bool</span> HasMultiUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">if</span> (!AssumeSingleUse &amp;&amp; !<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode()-&gt;hasOneUse()) {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt;= <a class="code" href="classllvm_1_1SelectionDAG.html#a4d5e16cbde22f5e6f007940d57a428fd">SelectionDAG::MaxRecursionDepth</a>) {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="comment">// Limit search depth.</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// Allow multiple uses, just set the DemandedBits/Elts to all bits.</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> = <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    DemandedElts = <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(NumElts);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    HasMultiUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OriginalDemandedBits == 0 || OriginalDemandedElts == 0) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="comment">// Not demanding any bits/elts from Op.</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(VT));</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt;= <a class="code" href="classllvm_1_1SelectionDAG.html#a4d5e16cbde22f5e6f007940d57a428fd">SelectionDAG::MaxRecursionDepth</a>) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="comment">// Limit search depth.</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known2;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode()) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>: {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">if</span> (!DemandedElts[0])</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(VT));</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> SrcKnown;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordtype">unsigned</span> SrcBitWidth = Src.getScalarValueSizeInBits();</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> SrcDemandedBits = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.zext(SrcBitWidth);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, SrcDemandedBits, SrcKnown, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="comment">// Upper elements are undef, so only get the knownbits if we just demand</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="comment">// the bottom element.</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">if</span> (DemandedElts == 1)</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      Known = SrcKnown.<a class="code" href="structllvm_1_1KnownBits.html#a0c649ec21217b3feb2f2a28b4736b689">anyextOrTrunc</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>:</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="comment">// Collect the known bits that are shared by every demanded element.</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="comment">// TODO: Call SimplifyDemandedBits for non-constant demanded elements.</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    Known = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Don&#39;t fall through, will infinitely loop.</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>: {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a> = cast&lt;LoadSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">if</span> (getTargetConstantFromLoad(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>)) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      Known = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Don&#39;t fall through, will infinitely loop.</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a35edacef22fcaed7a8681fa573476131">ISD::isZEXTLoad</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode()) &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getResNo() == 0) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="comment">// If this is a ZEXTLoad and we are looking at the loaded value.</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> MemVT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemoryVT();</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="keywordtype">unsigned</span> MemBits = MemVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#a286d4fa2a50c9ac6ac3a8069cccfcd0c">setBitsFrom</a>(MemBits);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Don&#39;t fall through, will infinitely loop.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>: {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Vec = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Scl = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keyword">auto</span> *CIdx = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2));</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VecVT = Vec.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="comment">// If index isn&#39;t constant, assume we need all vector elements AND the</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="comment">// inserted element.</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedVecElts(DemandedElts);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordflow">if</span> (CIdx &amp;&amp; CIdx-&gt;getAPIntValue().ult(VecVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>())) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keywordtype">unsigned</span> Idx = CIdx-&gt;getZExtValue();</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      DemandedVecElts.<a class="code" href="classllvm_1_1APInt.html#a155466c9ea0a2bd00e09c62fdce2c052">clearBit</a>(Idx);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="comment">// Inserted element is not required.</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="keywordflow">if</span> (!DemandedElts[Idx])</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Vec);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownScl;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordtype">unsigned</span> NumSclBits = Scl.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>();</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSclBits = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.zextOrTrunc(NumSclBits);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Scl, DemandedSclBits, KnownScl, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    Known = KnownScl.<a class="code" href="structllvm_1_1KnownBits.html#a0c649ec21217b3feb2f2a28b4736b689">anyextOrTrunc</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownVec;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Vec, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedVecElts, KnownVec, TLO,</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">if</span> (!!DemandedVecElts)</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      Known = <a class="code" href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">KnownBits::commonBits</a>(Known, KnownVec);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">ISD::INSERT_SUBVECTOR</a>: {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="comment">// Demand any elements from the subvector and the remainder from the src its</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">// inserted into.</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Idx = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getConstantOperandVal(2);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordtype">unsigned</span> NumSubElts = Sub.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSubElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(NumSubElts, Idx);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = DemandedElts;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#aabe301a4f18d38478700ad44ba2245bc">insertBits</a>(<a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSubElts), Idx);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownSub, KnownSrc;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Sub, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedSubElts, KnownSub, TLO,</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedSrcElts, KnownSrc, TLO,</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">if</span> (!!DemandedSubElts)</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      Known = <a class="code" href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">KnownBits::commonBits</a>(Known, KnownSub);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">if</span> (!!DemandedSrcElts)</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      Known = <a class="code" href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">KnownBits::commonBits</a>(Known, KnownSrc);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// Attempt to avoid multi-use src if we don&#39;t need anything from it.</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isAllOnes() || !DemandedSubElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>() ||</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        !DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSub = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;          Sub, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedSubElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSrc = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;          Src, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedSrcElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      <span class="keywordflow">if</span> (NewSub || NewSrc) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        NewSub = NewSub ? NewSub : Sub;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        NewSrc = NewSrc ? NewSrc : Src;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, NewSrc, NewSub,</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                                        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2));</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>: {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="comment">// Offset the demanded elts by the subvector index.</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">if</span> (Src.getValueType().isScalableVector())</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Idx = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getConstantOperandVal(1);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcElts = Src.getValueType().getVectorNumElements();</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(NumSrcElts).<a class="code" href="classllvm_1_1APInt.html#acb9c55b6986369948507ca5241b4e411">shl</a>(Idx);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedSrcElts, Known, TLO,</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="comment">// Attempt to avoid multi-use src if we don&#39;t need anything from it.</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isAllOnes() || !DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedSrc = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;          Src, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedSrcElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <span class="keywordflow">if</span> (DemandedSrc) {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, DemandedSrc,</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                                        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1));</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    }</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>: {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SubVT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0).getValueType();</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordtype">unsigned</span> NumSubVecs = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNumOperands();</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordtype">unsigned</span> NumSubElts = SubVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumSubVecs; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSubElts =</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;          DemandedElts.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(NumSubElts, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * NumSubElts);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedSubElts,</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                               Known2, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <span class="comment">// Known bits are shared by every demanded subvector element.</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <span class="keywordflow">if</span> (!!DemandedSubElts)</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        Known = <a class="code" href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">KnownBits::commonBits</a>(Known, Known2);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  }</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>: {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>());</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> ShuffleMask = cast&lt;ShuffleVectorSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getMask();</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160; </div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">// Collect demanded elements from shuffle operands..</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedLHS, DemandedRHS;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a6302b532981eadcac10d0d3ab01e3805">getShuffleDemandedElts</a>(NumElts, ShuffleMask, DemandedElts, DemandedLHS,</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                                DemandedRHS))</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (!!DemandedLHS || !!DemandedRHS) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <span class="keywordflow">if</span> (!!DemandedLHS) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedLHS, Known2, TLO,</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                                 <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        Known = <a class="code" href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">KnownBits::commonBits</a>(Known, Known2);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <span class="keywordflow">if</span> (!!DemandedRHS) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <span class="keywordflow">if</span> (SimplifyDemandedBits(Op1, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedRHS, Known2, TLO,</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                                 <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        Known = <a class="code" href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">KnownBits::commonBits</a>(Known, Known2);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp0 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;          Op0, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedLHS, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp1 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;          Op1, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedRHS, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">if</span> (DemandedOp0 || DemandedOp1) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        Op0 = DemandedOp0 ? DemandedOp0 : Op0;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        Op1 = DemandedOp1 ? DemandedOp1 : Op1;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#afa7e233051b9ed8ebc0191f42698cb14">getVectorShuffle</a>(VT, dl, Op0, Op1, ShuffleMask);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    }</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>: {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="comment">// If the RHS is a constant, check to see if the LHS would be zero without</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="comment">// using the bits from the RHS.  Below, we use knowledge about the RHS to</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="comment">// simplify the LHS, here we&#39;re using information from the LHS to simplify</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// the RHS.</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *RHSC = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(Op1)) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="comment">// Do not increment Depth here; that can cause an infinite loop.</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> LHSKnown = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(Op0, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="comment">// If the LHS already has zeros where RHSC does, this &#39;and&#39; is dead.</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="keywordflow">if</span> ((LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> &amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>) ==</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;          (~RHSC-&gt;getAPIntValue() &amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>))</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="comment">// If any of the set bits in the RHS are known zero on the LHS, shrink</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="comment">// the constant.</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="InstCombineSimplifyDemanded_8cpp.html#a83ba6ab779541297eb331d3a56aa7cdd">ShrinkDemandedConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, ~LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> &amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>,</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                                 DemandedElts, TLO))</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <span class="comment">// Bitwise-not (xor X, -1) is a special case: we don&#39;t usually shrink its</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="comment">// constant, but if this &#39;and&#39; is only clearing bits that were just set by</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <span class="comment">// the xor, then this &#39;and&#39; can be eliminated by shrinking the mask of</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <span class="comment">// the xor. For example, for a 32-bit X:</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <span class="comment">// and (xor (srl X, 31), -1), 1 --&gt; xor (srl X, 31), 1</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a673c00ccea29abc2bab001b9c84603d1">isBitwiseNot</a>(Op0) &amp;&amp; Op0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;          LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> == ~RHSC-&gt;getAPIntValue()) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a> = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, VT, Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), Op1);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="comment">// AND(INSERT_SUBVECTOR(C,X,I),M) -&gt; INSERT_SUBVECTOR(AND(C,M),X,I)</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="comment">// iff &#39;C&#39; is Undef/Constant and AND(X,M) == X (for DemandedBits).</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">ISD::INSERT_SUBVECTOR</a> &amp;&amp; !VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>() &amp;&amp;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        (Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a1c861a21f795c3108ab690f3a45c881a">isUndef</a>() ||</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;         <a class="code" href="namespacellvm_1_1ISD.html#a2f37af786c5ba90887c1b4ec137a066c">ISD::isBuildVectorOfConstantSDNodes</a>(Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>())) &amp;&amp;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        Op0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">hasOneUse</a>()) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="keywordtype">unsigned</span> NumSubElts =</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;          Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <span class="keywordtype">unsigned</span> SubIdx = Op0.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(2);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSub =</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;          <a class="code" href="classllvm_1_1APInt.html#a46ceedee591f92727b85641794a96061">APInt::getBitsSet</a>(NumElts, SubIdx, SubIdx + NumSubElts);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownSubMask =</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;          TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(Op1, DemandedSub &amp; DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(KnownSubMask.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>)) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewAnd =</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), Op1);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewInsert =</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">ISD::INSERT_SUBVECTOR</a>, dl, VT, NewAnd,</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                            Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(2));</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewInsert);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Op1, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, ~Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> &amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts,</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                             Known2, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known2.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="comment">// If all of the demanded bits are known one on one side, return the other.</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="comment">// These bits cannot contribute to the result of the &#39;and&#39;.</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> | Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>))</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> | Known2.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>))</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op1);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="comment">// If all of the demanded bits in the inputs are known zeros, return zero.</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> | Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT));</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="comment">// If the RHS is a constant, see if we can simplify it.</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstCombineSimplifyDemanded_8cpp.html#a83ba6ab779541297eb331d3a56aa7cdd">ShrinkDemandedConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, ~Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> &amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                               TLO))</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">// If the operation can be done in a smaller type, do so.</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">if</span> (ShrinkDemandedOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, TLO))</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isAllOnes() || !DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp0 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;          Op0, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp1 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;          Op1, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <span class="keywordflow">if</span> (DemandedOp0 || DemandedOp1) {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        Op0 = DemandedOp0 ? DemandedOp0 : Op0;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        Op1 = DemandedOp1 ? DemandedOp1 : Op1;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, Op0, Op1);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    Known &amp;= Known2;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>: {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Op1, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, ~Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> &amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts,</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                             Known2, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known2.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="comment">// If all of the demanded bits are known zero on one side, return the other.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="comment">// These bits cannot contribute to the result of the &#39;or&#39;.</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(Known2.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> | Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> | Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op1);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="comment">// If the RHS is a constant, see if we can simplify it.</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstCombineSimplifyDemanded_8cpp.html#a83ba6ab779541297eb331d3a56aa7cdd">ShrinkDemandedConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO))</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="comment">// If the operation can be done in a smaller type, do so.</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">if</span> (ShrinkDemandedOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, TLO))</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isAllOnes() || !DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp0 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;          Op0, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp1 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;          Op1, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      <span class="keywordflow">if</span> (DemandedOp0 || DemandedOp1) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        Op0 = DemandedOp0 ? DemandedOp0 : Op0;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        Op1 = DemandedOp1 ? DemandedOp1 : Op1;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, Op0, Op1);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      }</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    }</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="comment">// (or (and X, C1), (and (or X, Y), C2)) -&gt; (or (and X, C1|C2), (and Y, C2))</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="comment">// TODO: Use SimplifyMultipleUseDemandedBits to peek through masks.</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; Op1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        Op0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">hasOneUse</a>() &amp;&amp; Op1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">hasOneUse</a>()) {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="comment">// Attempt to match all commutations - m_c_Or would&#39;ve been useful!</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != 2; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).getOperand(0);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).getOperand(1);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#af3a4e8c94127ff27b004aa01fb262b33">Alt</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1 - <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).getOperand(0);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> C2 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1 - <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).getOperand(1);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#af3a4e8c94127ff27b004aa01fb262b33">Alt</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> J = 0; J != 2; ++J) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> == <a class="code" href="lib_2Target_2README_8txt.html#af3a4e8c94127ff27b004aa01fb262b33">Alt</a>.getOperand(J)) {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="lib_2Target_2README_8txt.html#af3a4e8c94127ff27b004aa01fb262b33">Alt</a>.getOperand(1 - J);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> C12 = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acaa3c5dd0df27acd60c98ef9641829fc">FoldConstantArithmetic</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT,</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                                                               {C1, C2})) {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaskX = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, C12);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaskY = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, C2);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                    <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, MaskX, MaskY));</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;              }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;          }</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        }</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    Known |= Known2;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>: {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Op1, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, Known2, TLO,</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known2.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="comment">// If all of the demanded bits are known zero on one side, return the other.</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="comment">// These bits cannot contribute to the result of the &#39;xor&#39;.</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op1);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="comment">// If the operation can be done in a smaller type, do so.</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">if</span> (ShrinkDemandedOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, TLO))</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="comment">// If all of the unknown bits are known to be zero on one side or the other</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="comment">// turn this into an *inclusive* or.</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="comment">//    e.g. (A &amp; C1)^(B &amp; C2) -&gt; (A &amp; C1)|(B &amp; C2) iff C1&amp;C2 == 0</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> | Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Op0, Op1));</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(Op1, DemandedElts);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <span class="comment">// If one side is a constant, and all of the set bits in the constant are</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <span class="comment">// also known set on the other side, turn this into an AND, as we know</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="comment">// the bits will be cleared.</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="comment">//    e.g. (X | C1) ^ C2 --&gt; (X | C1) &amp; ~C2 iff (C1&amp;C2) == C2</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="comment">// NB: it is okay if more bits are known than are requested</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue() == Known2.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>) {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ANDC =</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(~<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue() &amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, dl, VT);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Op0, ANDC));</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <span class="comment">// If the RHS is a constant, see if we can change it. Don&#39;t alter a -1</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="comment">// constant because that&#39;s a &#39;not&#39; op, and that is better for combining</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <span class="comment">// and codegen.</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnes() &amp;&amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue())) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="comment">// We&#39;re flipping all demanded bits. Flip the undemanded bits too.</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> New = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, Op0, VT);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, New);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="keywordtype">unsigned</span> Op0Opcode = Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>();</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keywordflow">if</span> ((Op0Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a> || Op0Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>) &amp;&amp; Op0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>()) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *ShiftC =</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), DemandedElts)) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;          <span class="comment">// Don&#39;t crash on an oversized shift. We can not guarantee that a</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;          <span class="comment">// bogus shift has been simplified to undef.</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;          <span class="keywordflow">if</span> (ShiftC-&gt;getAPIntValue().ult(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShiftAmt = ShiftC-&gt;<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            <a class="code" href="classllvm_1_1APInt.html">APInt</a> Ones = <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            Ones = Op0Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a> ? Ones.<a class="code" href="classllvm_1_1APInt.html#acb9c55b6986369948507ca5241b4e411">shl</a>(ShiftAmt)</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                                         : Ones.<a class="code" href="classllvm_1_1APInt.html#af34549c39d6f741fbdaf9a795aa306e9">lshr</a>(ShiftAmt);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>();</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> &amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue()) == (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> &amp; Ones) &amp;&amp;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                TLI.<a class="code" href="classllvm_1_1TargetLowering.html#aaa536ba062854f0951a19b7457665c96">isDesirableToCommuteXorWithShift</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode())) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;              <span class="comment">// If the xor constant is a demanded mask, do a &#39;not&#39; before the</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;              <span class="comment">// shift:</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;              <span class="comment">// xor (X &lt;&lt; ShiftC), XorC --&gt; (not X) &lt;&lt; ShiftC</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;              <span class="comment">// xor (X &gt;&gt; ShiftC), XorC --&gt; (not X) &gt;&gt; ShiftC</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Not = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), VT);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;              <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Op0Opcode, dl, VT, Not,</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                                                       Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)));</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;          }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      }</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    }</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="comment">// If we can&#39;t turn this into a &#39;not&#39;, try to shrink the constant.</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> || !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnes())</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="InstCombineSimplifyDemanded_8cpp.html#a83ba6ab779541297eb331d3a56aa7cdd">ShrinkDemandedConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO))</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isAllOnes() || !DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp0 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;          Op0, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp1 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;          Op1, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      <span class="keywordflow">if</span> (DemandedOp0 || DemandedOp1) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        Op0 = DemandedOp0 ? DemandedOp0 : Op0;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        Op1 = DemandedOp1 ? DemandedOp1 : Op1;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, Op0, Op1);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    Known ^= Known2;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  }</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>:</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2), <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, Known, TLO,</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1), <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, Known2, TLO,</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known2.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="comment">// If the operands are constants, see if we can simplify them.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstCombineSimplifyDemanded_8cpp.html#a83ba6ab779541297eb331d3a56aa7cdd">ShrinkDemandedConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO))</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="comment">// Only known if known in both the LHS and RHS.</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    Known = <a class="code" href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">KnownBits::commonBits</a>(Known, Known2);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>:</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2), <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts,</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                             Known, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1), <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts,</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                             Known2, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known2.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="comment">// Only known if known in both the LHS and RHS.</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    Known = <a class="code" href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">KnownBits::commonBits</a>(Known, Known2);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">ISD::SELECT_CC</a>:</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(3), <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, Known, TLO,</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2), <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, Known2, TLO,</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known2.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="comment">// If the operands are constants, see if we can simplify them.</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstCombineSimplifyDemanded_8cpp.html#a83ba6ab779541297eb331d3a56aa7cdd">ShrinkDemandedConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts, TLO))</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="comment">// Only known if known in both the LHS and RHS.</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    Known = <a class="code" href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">KnownBits::commonBits</a>(Known, Known2);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>: {</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = cast&lt;CondCodeSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2))-&gt;get();</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="comment">// If (1) we only need the sign-bit, (2) the setcc operands are the same</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="comment">// width as the setcc result, and (3) the result of a setcc conforms to 0 or</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="comment">// -1, we may be able to bypass the setcc.</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSignMask() &amp;&amp;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        Op0.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>() == <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(Op0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()) ==</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            BooleanContent::ZeroOrNegativeOneBooleanContent) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      <span class="comment">// If we&#39;re testing X &lt; 0, then this compare isn&#39;t needed - just use X!</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      <span class="comment">// FIXME: We&#39;re limiting to integer types here, but this should also work</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      <span class="comment">// if we don&#39;t care about FP signed-zero. The use of SETLT with FP means</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <span class="comment">// that we don&#39;t care about NaNs.</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a> &amp;&amp; Op1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;          (<a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>(Op1) || <a class="code" href="namespacellvm_1_1ISD.html#aaac3e239cbdfe15a8e9bad4f8e1e3a95">ISD::isBuildVectorAllZeros</a>(Op1.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>())))</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="comment">// TODO: Should we check for other forms of sign-bit comparisons?</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <span class="comment">// Examples: X &lt;= -1, X &gt;= 0</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(Op0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()) ==</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">TargetLowering::ZeroOrOneBooleanContent</a> &amp;&amp;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &gt; 1)</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#a286d4fa2a50c9ac6ac3a8069cccfcd0c">setBitsFrom</a>(1);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  }</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>: {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftVT = Op1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *SA =</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a8747bf52b49077e9bd99c692b2e0c1a5">getValidShiftAmountConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts)) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt = SA-&gt;getZExtValue();</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="keywordflow">if</span> (ShAmt == 0)</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="comment">// If this is ((X &gt;&gt;u C1) &lt;&lt; ShAmt), see if we can simplify this into a</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="comment">// single shift.  We can do this if the bottom bits (which are shifted</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      <span class="comment">// out) are never demanded.</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <span class="comment">// TODO - support non-uniform vector amounts.</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>) {</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.intersects(<a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, ShAmt))) {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *SA2 =</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                  TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a8747bf52b49077e9bd99c692b2e0c1a5">getValidShiftAmountConstant</a>(Op0, DemandedElts)) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = SA2-&gt;getZExtValue();</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            <span class="keywordtype">unsigned</span> Opc = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            <span class="keywordtype">int</span> Diff = ShAmt - <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            <span class="keywordflow">if</span> (Diff &lt; 0) {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;              Diff = -Diff;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;              Opc = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSA = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Diff, dl, ShiftVT);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opc, dl, VT, Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), NewSA));</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;          }</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      }</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160; </div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      <span class="comment">// Convert (shl (anyext x, c)) to (anyext (shl x, c)) if the high bits</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <span class="comment">// are not demanded. This will likely allow the anyext to be folded away.</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <span class="comment">// TODO - support non-uniform vector amounts.</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InnerOp = Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> InnerVT = InnerOp.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        <span class="keywordtype">unsigned</span> InnerBits = InnerVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <span class="keywordflow">if</span> (ShAmt &lt; InnerBits &amp;&amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getActiveBits() &lt;= InnerBits &amp;&amp;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            isTypeDesirableForOp(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, InnerVT)) {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;          <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShTy = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(InnerVT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, ShAmt).<a class="code" href="namespacellvm.html#aad80b46c754cc7216244a866ec9b1cb0">isIntN</a>(ShTy.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()))</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;            ShTy = InnerVT;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NarrowShl =</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;              TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, InnerVT, InnerOp,</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                              TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShAmt, dl, ShTy));</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;          <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;              <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, dl, VT, NarrowShl));</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        }</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160; </div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="comment">// Repeat the SHL optimization above in cases where an extension</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="comment">// intervenes: (shl (anyext (shr x, c1)), c2) to</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="comment">// (shl (anyext x), c2-c1).  This requires that the bottom c1 bits</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <span class="comment">// aren&#39;t demanded (as above) and that the shifted upper c1 bits of</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="comment">// x aren&#39;t demanded.</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="comment">// TODO - support non-uniform vector amounts.</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="keywordflow">if</span> (InnerOp.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a> &amp;&amp; Op0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            InnerOp.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>()) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *SA2 =</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                  TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a8747bf52b49077e9bd99c692b2e0c1a5">getValidShiftAmountConstant</a>(InnerOp, DemandedElts)) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            <span class="keywordtype">unsigned</span> InnerShAmt = SA2-&gt;getZExtValue();</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            <span class="keywordflow">if</span> (InnerShAmt &lt; ShAmt &amp;&amp; InnerShAmt &lt; InnerBits &amp;&amp;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getActiveBits() &lt;=</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                    (InnerBits - InnerShAmt + ShAmt) &amp;&amp;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countTrailingZeros() &gt;= ShAmt) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSA =</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                  TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShAmt - InnerShAmt, dl, ShiftVT);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewExt = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, dl, VT,</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                                               InnerOp.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0));</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;              <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, NewExt, NewSA));</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;          }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160; </div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> InDemandedMask = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.lshr(ShAmt);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, InDemandedMask, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                               <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> &lt;&lt;= ShAmt;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> &lt;&lt;= ShAmt;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <span class="comment">// low bits known zero.</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#ade8e20ecea1091e835395746448e262e">setLowBits</a>(ShAmt);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160; </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <span class="keywordflow">if</span> (!InDemandedMask.<a class="code" href="classllvm_1_1APInt.html#ab242ccd4f07a4c82ec8150971616b491">isAllOnesValue</a>() || !DemandedElts.<a class="code" href="classllvm_1_1APInt.html#ab242ccd4f07a4c82ec8150971616b491">isAllOnesValue</a>()) {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp0 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            Op0, InDemandedMask, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="keywordflow">if</span> (DemandedOp0) {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, DemandedOp0, Op1);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;          <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      }</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      <span class="comment">// Try shrinking the operation as long as the shift amount will still be</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <span class="comment">// in range.</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      <span class="keywordflow">if</span> ((ShAmt &lt; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getActiveBits()) &amp;&amp;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;          ShrinkDemandedOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, TLO))</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      <span class="comment">// This is a variable shift, so we can&#39;t shift the demand mask by a known</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      <span class="comment">// amount. But if we are not demanding high bits, then we are not</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      <span class="comment">// demanding those bits from the pre-shifted operand either.</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">CTLZ</a> = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countLeadingZeros()) {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedFromOp(<a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">CTLZ</a>));</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, DemandedFromOp, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                                 <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1)) {</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;          <a class="code" href="structllvm_1_1SDNodeFlags.html">SDNodeFlags</a> Flags = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode()-&gt;getFlags();</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;          <span class="keywordflow">if</span> (Flags.hasNoSignedWrap() || Flags.hasNoUnsignedWrap()) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            <span class="comment">// Disable the nsw and nuw flags. We can no longer guarantee that we</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            <span class="comment">// won&#39;t wrap after simplification.</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            Flags.setNoSignedWrap(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            Flags.setNoUnsignedWrap(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;setFlags(Flags);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;          }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        Known.<a class="code" href="structllvm_1_1KnownBits.html#a538f22b4ea2ff04a0b41403f26eaeb67">resetAll</a>();</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      }</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    }</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="comment">// If we are only demanding sign bits then we can use the shift source</span></div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="comment">// directly.</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *MaxSA =</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a15f028bddbf4fabbf0b8b4d1570e2b90">getValidMaximumShiftAmountConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts)) {</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt = MaxSA-&gt;getZExtValue();</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <span class="keywordtype">unsigned</span> NumSignBits =</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;          TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">ComputeNumSignBits</a>(Op0, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <span class="keywordtype">unsigned</span> UpperDemandedBits = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countTrailingZeros();</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      <span class="keywordflow">if</span> (NumSignBits &gt; ShAmt &amp;&amp; (NumSignBits - ShAmt) &gt;= (UpperDemandedBits))</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    }</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  }</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>: {</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftVT = Op1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="comment">// Try to match AVG patterns.</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AVG = <a class="code" href="TargetLowering_8cpp.html#addadecf5eb17d047842cc7b1a82e8914">combineShiftToAVG</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, *<span class="keyword">this</span>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>,</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                                        DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, AVG);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *SA =</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a8747bf52b49077e9bd99c692b2e0c1a5">getValidShiftAmountConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts)) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt = SA-&gt;getZExtValue();</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      <span class="keywordflow">if</span> (ShAmt == 0)</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160; </div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      <span class="comment">// If this is ((X &lt;&lt; C1) &gt;&gt;u ShAmt), see if we can simplify this into a</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <span class="comment">// single shift.  We can do this if the top bits (which are shifted out)</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      <span class="comment">// are never demanded.</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      <span class="comment">// TODO - support non-uniform vector amounts.</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.intersects(<a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, ShAmt))) {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *SA2 =</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;                  TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a8747bf52b49077e9bd99c692b2e0c1a5">getValidShiftAmountConstant</a>(Op0, DemandedElts)) {</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = SA2-&gt;getZExtValue();</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            <span class="keywordtype">unsigned</span> Opc = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;            <span class="keywordtype">int</span> Diff = ShAmt - <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            <span class="keywordflow">if</span> (Diff &lt; 0) {</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;              Diff = -Diff;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;              Opc = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;            }</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSA = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Diff, dl, ShiftVT);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opc, dl, VT, Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), NewSA));</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;          }</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        }</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      }</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> InDemandedMask = (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> &lt;&lt; ShAmt);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      <span class="comment">// If the shift is exact, then it does demand the low bits (and knows that</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <span class="comment">// they are zero).</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getFlags().hasExact())</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        InDemandedMask.<a class="code" href="classllvm_1_1APInt.html#ade8e20ecea1091e835395746448e262e">setLowBits</a>(ShAmt);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      <span class="comment">// Compute the new bits that are at the top now.</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, InDemandedMask, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                               <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">lshrInPlace</a>(ShAmt);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">lshrInPlace</a>(ShAmt);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <span class="comment">// High bits known zero.</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#a2780c5606880394d3f07cd2079a27697">setHighBits</a>(ShAmt);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="keywordflow">if</span> (!InDemandedMask.<a class="code" href="classllvm_1_1APInt.html#ab242ccd4f07a4c82ec8150971616b491">isAllOnesValue</a>() || !DemandedElts.<a class="code" href="classllvm_1_1APInt.html#ab242ccd4f07a4c82ec8150971616b491">isAllOnesValue</a>()) {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp0 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            Op0, InDemandedMask, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        <span class="keywordflow">if</span> (DemandedOp0) {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, DemandedOp0, Op1);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;          <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      }</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    }</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  }</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>: {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftVT = Op1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160; </div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="comment">// If we only want bits that already match the signbit then we don&#39;t need</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="comment">// to shift.</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordtype">unsigned</span> NumHiDemandedBits = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countTrailingZeros();</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">if</span> (TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">ComputeNumSignBits</a>(Op0, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1) &gt;=</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        NumHiDemandedBits)</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="comment">// If this is an arithmetic shift right and only the low-bit is set, we can</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="comment">// always convert this into a logical shr, even if the shift amount is</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="comment">// variable.  The low bit of the shift cannot be an input sign bit unless</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="comment">// the shift amount is &gt;= the size of the datatype, which is undefined.</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isOne())</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Op0, Op1));</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; </div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="comment">// Try to match AVG patterns.</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AVG = <a class="code" href="TargetLowering_8cpp.html#addadecf5eb17d047842cc7b1a82e8914">combineShiftToAVG</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, *<span class="keyword">this</span>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>,</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                                        DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, AVG);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160; </div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *SA =</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a8747bf52b49077e9bd99c692b2e0c1a5">getValidShiftAmountConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts)) {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt = SA-&gt;getZExtValue();</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      <span class="keywordflow">if</span> (ShAmt == 0)</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> InDemandedMask = (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> &lt;&lt; ShAmt);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160; </div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <span class="comment">// If the shift is exact, then it does demand the low bits (and knows that</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      <span class="comment">// they are zero).</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getFlags().hasExact())</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        InDemandedMask.<a class="code" href="classllvm_1_1APInt.html#ade8e20ecea1091e835395746448e262e">setLowBits</a>(ShAmt);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160; </div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <span class="comment">// If any of the demanded bits are produced by the sign extension, we also</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      <span class="comment">// demand the input sign bit.</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countLeadingZeros() &lt; ShAmt)</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        InDemandedMask.<a class="code" href="classllvm_1_1APInt.html#a4f1e1a4449b58958c5884c689e7f4861">setSignBit</a>();</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160; </div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, InDemandedMask, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                               <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">lshrInPlace</a>(ShAmt);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">lshrInPlace</a>(ShAmt);</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160; </div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      <span class="comment">// If the input sign bit is known to be zero, or if none of the top bits</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      <span class="comment">// are demanded, turn this into an unsigned shift right.</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>[<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - ShAmt - 1] ||</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;          <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countLeadingZeros() &gt;= ShAmt) {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;        <a class="code" href="structllvm_1_1SDNodeFlags.html">SDNodeFlags</a> Flags;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        Flags.setExact(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getFlags().hasExact());</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;            <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Op0, Op1, Flags));</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160; </div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#ad82de9da62635df78a534de0f16c1129">Log2</a> = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.exactLogBase2();</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ad82de9da62635df78a534de0f16c1129">Log2</a> &gt;= 0) {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <span class="comment">// The bit must come from the sign.</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSA = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - 1 - <a class="code" href="namespacellvm.html#ad82de9da62635df78a534de0f16c1129">Log2</a>, dl, ShiftVT);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Op0, NewSA));</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>[<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - ShAmt - 1])</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        <span class="comment">// New bits are known one.</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#a2780c5606880394d3f07cd2079a27697">setHighBits</a>(ShAmt);</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      <span class="keywordflow">if</span> (!InDemandedMask.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>() || !DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp0 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;            Op0, InDemandedMask, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <span class="keywordflow">if</span> (DemandedOp0) {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, DemandedOp0, Op1);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;          <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        }</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  }</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a822b0d02b601898e2d6db5b39e12cc8a">ISD::FSHL</a>:</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a874350de5b4f6b8f4db13940e17ed81b">ISD::FSHR</a>: {</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op2 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2);</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordtype">bool</span> IsFSHL = (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a822b0d02b601898e2d6db5b39e12cc8a">ISD::FSHL</a>);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160; </div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *SA = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(Op2, DemandedElts)) {</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      <span class="keywordtype">unsigned</span> Amt = SA-&gt;getAPIntValue().urem(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160; </div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      <span class="comment">// For fshl, 0-shift returns the 1st arg.</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;      <span class="comment">// For fshr, 0-shift returns the 2nd arg.</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      <span class="keywordflow">if</span> (Amt == 0) {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        <span class="keywordflow">if</span> (SimplifyDemandedBits(IsFSHL ? Op0 : Op1, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts,</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                                 Known, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      }</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160; </div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <span class="comment">// fshl: (Op0 &lt;&lt; Amt) | (Op1 &gt;&gt; (BW - Amt))</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;      <span class="comment">// fshr: (Op0 &lt;&lt; (BW - Amt)) | (Op1 &gt;&gt; Amt)</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Demanded0 = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.lshr(IsFSHL ? Amt : (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - Amt));</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Demanded1 = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> &lt;&lt; (IsFSHL ? (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - Amt) : Amt);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, Demanded0, DemandedElts, Known2, TLO,</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                               <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Op1, Demanded1, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                               <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      Known2.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> &lt;&lt;= (IsFSHL ? Amt : (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - Amt));</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> &lt;&lt;= (IsFSHL ? Amt : (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - Amt));</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">lshrInPlace</a>(IsFSHL ? (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - Amt) : Amt);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">lshrInPlace</a>(IsFSHL ? (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - Amt) : Amt);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> |= Known2.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> |= Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160; </div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      <span class="keywordflow">if</span> (!Demanded0.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>() || !Demanded1.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>() ||</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;          !DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp0 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            Op0, Demanded0, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp1 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            Op1, Demanded1, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <span class="keywordflow">if</span> (DemandedOp0 || DemandedOp1) {</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;          DemandedOp0 = DemandedOp0 ? DemandedOp0 : Op0;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;          DemandedOp1 = DemandedOp1 ? DemandedOp1 : Op1;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, DemandedOp0,</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                                          DemandedOp1, Op2);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;          <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      }</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    }</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160; </div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <span class="comment">// For pow-2 bitwidths we only demand the bottom modulo amt bits.</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)) {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedAmtBits(Op2.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>(), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - 1);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Op2, DemandedAmtBits, DemandedElts,</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                               Known2, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    }</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d">ISD::ROTL</a>:</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>: {</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordtype">bool</span> IsROTL = (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d">ISD::ROTL</a>);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160; </div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="comment">// If we&#39;re rotating an 0/-1 value, then it stays an 0/-1 value.</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> == TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">ComputeNumSignBits</a>(Op0, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160; </div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *SA = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(Op1, DemandedElts)) {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="keywordtype">unsigned</span> Amt = SA-&gt;getAPIntValue().urem(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      <span class="keywordtype">unsigned</span> RevAmt = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - Amt;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160; </div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      <span class="comment">// rotl: (Op0 &lt;&lt; Amt) | (Op0 &gt;&gt; (BW - Amt))</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="comment">// rotr: (Op0 &lt;&lt; (BW - Amt)) | (Op0 &gt;&gt; Amt)</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Demanded0 = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.rotr(IsROTL ? Amt : RevAmt);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, Demanded0, DemandedElts, Known2, TLO,</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                               <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <span class="comment">// rot*(x, 0) --&gt; x</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <span class="keywordflow">if</span> (Amt == 0)</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160; </div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;      <span class="comment">// See if we don&#39;t demand either half of the rotated bits.</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      <span class="keywordflow">if</span> ((!TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aab1c3b0fca0b73909f226868e3c41df1">LegalOperations</a>() || <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, VT)) &amp;&amp;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;          <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countTrailingZeros() &gt;= (IsROTL ? Amt : RevAmt)) {</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;        Op1 = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(IsROTL ? Amt : RevAmt, dl, Op1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Op0, Op1));</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      }</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <span class="keywordflow">if</span> ((!TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aab1c3b0fca0b73909f226868e3c41df1">LegalOperations</a>() || <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, VT)) &amp;&amp;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;          <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countLeadingZeros() &gt;= (IsROTL ? RevAmt : Amt)) {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        Op1 = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(IsROTL ? RevAmt : Amt, dl, Op1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Op0, Op1));</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      }</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="comment">// For pow-2 bitwidths we only demand the bottom modulo amt bits.</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)) {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedAmtBits(Op1.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>(), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - 1);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Op1, DemandedAmtBits, DemandedElts, Known2, TLO,</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                               <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    }</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  }</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>: {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="comment">// Check if one arg is always less than (or equal) to the other arg.</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known0 = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(Op0, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known1 = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(Op1, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    Known = <a class="code" href="structllvm_1_1KnownBits.html#aea97402782d7e8098b6ae00c7a6365dd">KnownBits::umin</a>(Known0, Known1);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; IsULE = <a class="code" href="structllvm_1_1KnownBits.html#aa8a47d48d5537edfc125ee8ed5659955">KnownBits::ule</a>(Known0, Known1))</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, *IsULE ? Op0 : Op1);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; IsULT = <a class="code" href="structllvm_1_1KnownBits.html#aa0d9eb764d22c7fabfecf5164123cc18">KnownBits::ult</a>(Known0, Known1))</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, *IsULT ? Op0 : Op1);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  }</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af675e759c0ffff8d48ea14a60fe3517b">ISD::UMAX</a>: {</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="comment">// Check if one arg is always greater than (or equal) to the other arg.</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known0 = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(Op0, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known1 = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(Op1, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    Known = <a class="code" href="structllvm_1_1KnownBits.html#a5120eaa394627e6c1ec3d66ef77947cd">KnownBits::umax</a>(Known0, Known1);</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; IsUGE = <a class="code" href="structllvm_1_1KnownBits.html#ad86f53ca31fd59930678248efbfaf516">KnownBits::uge</a>(Known0, Known1))</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, *IsUGE ? Op0 : Op1);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; IsUGT = <a class="code" href="structllvm_1_1KnownBits.html#a92e582ead745c86654cd8d0e1228f0c5">KnownBits::ugt</a>(Known0, Known1))</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, *IsUGT ? Op0 : Op1);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  }</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeea401cc0b7fa5aa6f4d3a0612140e1d">ISD::BITREVERSE</a>: {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcBits = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.reverseBits();</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, DemandedSrcBits, DemandedElts, Known2, TLO,</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> = Known2.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#a7b8b4253b618610eb5cb497b4104ebc3">reverseBits</a>();</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> = Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#a7b8b4253b618610eb5cb497b4104ebc3">reverseBits</a>();</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  }</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">ISD::BSWAP</a>: {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160; </div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="comment">// If the only bits demanded come from one byte of the bswap result,</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="comment">// just shift the input byte into position to eliminate the bswap.</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="keywordtype">unsigned</span> NLZ = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countLeadingZeros();</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <span class="keywordtype">unsigned</span> NTZ = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countTrailingZeros();</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="comment">// Round NTZ down to the next byte.  If we have 11 trailing zeros, then</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="comment">// we need all the bits down to bit 8.  Likewise, round NLZ.  If we</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="comment">// have 14 leading zeros, round to 8.</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    NLZ = <a class="code" href="namespacellvm.html#ad9be86c95736bfa4bb0dc52322a0002a">alignDown</a>(NLZ, 8);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    NTZ = <a class="code" href="namespacellvm.html#ad9be86c95736bfa4bb0dc52322a0002a">alignDown</a>(NTZ, 8);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="comment">// If we need exactly one byte, we can do this transformation.</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - NLZ - NTZ == 8) {</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="comment">// Replace this with either a left or right shift to get the byte into</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      <span class="comment">// the right place.</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="keywordtype">unsigned</span> ShiftOpcode = NLZ &gt; NTZ ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      <span class="keywordflow">if</span> (!TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aab1c3b0fca0b73909f226868e3c41df1">LegalOperations</a>() || <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(ShiftOpcode, VT)) {</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftAmtTy = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        <span class="keywordtype">unsigned</span> ShiftAmount = NLZ &gt; NTZ ? NLZ - NTZ : NTZ - NLZ;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShAmt = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShiftAmount, dl, ShiftAmtTy);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ShiftOpcode, dl, VT, Src, ShAmt);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      }</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    }</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160; </div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcBits = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.byteSwap();</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, DemandedSrcBits, DemandedElts, Known2, TLO,</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> = Known2.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#ace0bd40e4bee1851ebebb276178d65fc">byteSwap</a>();</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> = Known2.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#ace0bd40e4bee1851ebebb276178d65fc">byteSwap</a>();</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  }</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>: {</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="comment">// If only 1 bit is demanded, replace with PARITY as long as we&#39;re before</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="comment">// op legalization.</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="comment">// FIXME: Limit to scalars for now.</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isOne() &amp;&amp; !TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aa945b77fd77cdc5cf80e7b7f6ae78a98">LegalOps</a> &amp;&amp; !VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>())</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa47439d20ce0879ea68ca293e018b4f5">ISD::PARITY</a>, dl, VT,</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                                               <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0)));</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160; </div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    Known = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  }</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>: {</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ExVT = cast&lt;VTSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1))-&gt;getVT();</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordtype">unsigned</span> ExVTBits = ExVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="comment">// If we only care about the highest bit, don&#39;t bother shifting right.</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSignMask()) {</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      <span class="keywordtype">unsigned</span> MinSignedBits =</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;          TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a0a2081911053ceb07370842200df3e7c">ComputeMaxSignificantBits</a>(Op0, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;      <span class="keywordtype">bool</span> AlreadySignExtended = ExVTBits &gt;= MinSignedBits;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      <span class="comment">// However if the input is already sign extended we expect the sign</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      <span class="comment">// extension to be dropped altogether later and do not simplify.</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;      <span class="keywordflow">if</span> (!AlreadySignExtended) {</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        <span class="comment">// Compute the correct shift amount type, which must be getShiftAmountTy</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        <span class="comment">// for scalar types after legalization.</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftAmt = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - ExVTBits, dl,</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                                               <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                             TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Op0, ShiftAmt));</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;      }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    }</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160; </div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="comment">// If none of the extended bits are demanded, eliminate the sextinreg.</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getActiveBits() &lt;= ExVTBits)</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op0);</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160; </div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InputDemandedBits = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getLoBits(ExVTBits);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <span class="comment">// Since the sign extended bits are demanded, we know that the sign</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <span class="comment">// bit is demanded.</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    InputDemandedBits.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(ExVTBits - 1);</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160; </div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, InputDemandedBits, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160; </div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="comment">// If the sign bit of the input is known set or clear, then we know the</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="comment">// top bits of the result.</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160; </div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="comment">// If the input sign bit is known zero, convert this into a zero extension.</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>[ExVTBits - 1])</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a6a52e913507400fcde94fd2e023a149c">getZeroExtendInReg</a>(Op0, dl, ExVT));</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160; </div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, ExVTBits);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>[ExVTBits - 1]) { <span class="comment">// Input sign bit known set</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#a286d4fa2a50c9ac6ac3a8069cccfcd0c">setBitsFrom</a>(ExVTBits);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> &amp;= <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// Input sign bit unknown</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> &amp;= <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> &amp;= <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD_PAIR</a>: {</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> HalfVT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0).getValueType();</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    <span class="keywordtype">unsigned</span> HalfBitWidth = HalfVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160; </div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaskLo = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getLoBits(HalfBitWidth).trunc(HalfBitWidth);</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaskHi = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getHiBits(HalfBitWidth).trunc(HalfBitWidth);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160; </div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownLo, KnownHi;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), MaskLo, KnownLo, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160; </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1), MaskHi, KnownHi, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    Known = KnownHi.<a class="code" href="structllvm_1_1KnownBits.html#a4d1c9028cc02b58ce040aa83456c9129">concat</a>(KnownLo);</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  }</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adf7f4fc30c272a1987e075d7470df84c">ISD::ZERO_EXTEND_VECTOR_INREG</a>:</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>: {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordtype">unsigned</span> InBits = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keywordtype">unsigned</span> InElts = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>() ? SrcVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() : 1;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keywordtype">bool</span> IsVecInReg = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adf7f4fc30c272a1987e075d7470df84c">ISD::ZERO_EXTEND_VECTOR_INREG</a>;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160; </div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="comment">// If none of the top bits are demanded, convert this into an any_extend.</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getActiveBits() &lt;= InBits) {</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="comment">// If we only need the non-extended bits of the bottom element</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      <span class="comment">// then we can just bitcast to the result.</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      <span class="keywordflow">if</span> (IsLE &amp;&amp; IsVecInReg &amp;&amp; DemandedElts == 1 &amp;&amp;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;          VT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == SrcVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>())</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(VT, Src));</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160; </div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;      <span class="keywordtype">unsigned</span> Opc =</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;          IsVecInReg ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa275bf149ab5df1067cfb721936ecbc">ISD::ANY_EXTEND_VECTOR_INREG</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;      <span class="keywordflow">if</span> (!TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aab1c3b0fca0b73909f226868e3c41df1">LegalOperations</a>() || <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(Opc, VT))</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opc, dl, VT, Src));</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    }</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160; </div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InDemandedBits = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.trunc(InBits);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InDemandedElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(InElts);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, InDemandedBits, InDemandedElts, Known, TLO,</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Known.<a class="code" href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">getBitWidth</a>() == InBits &amp;&amp; <span class="stringliteral">&quot;Src width has changed?&quot;</span>);</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    Known = Known.<a class="code" href="structllvm_1_1KnownBits.html#a51c3c203b80468b8761416d14e6f5b7f">zext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160; </div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSrc = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;            Src, InDemandedBits, InDemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, NewSrc));</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3893859b5caa079593b9bf91b96e05fb">ISD::SIGN_EXTEND_VECTOR_INREG</a>:</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>: {</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <span class="keywordtype">unsigned</span> InBits = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordtype">unsigned</span> InElts = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>() ? SrcVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() : 1;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordtype">bool</span> IsVecInReg = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3893859b5caa079593b9bf91b96e05fb">ISD::SIGN_EXTEND_VECTOR_INREG</a>;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160; </div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="comment">// If none of the top bits are demanded, convert this into an any_extend.</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.getActiveBits() &lt;= InBits) {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;      <span class="comment">// If we only need the non-extended bits of the bottom element</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;      <span class="comment">// then we can just bitcast to the result.</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;      <span class="keywordflow">if</span> (IsLE &amp;&amp; IsVecInReg &amp;&amp; DemandedElts == 1 &amp;&amp;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;          VT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == SrcVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>())</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(VT, Src));</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      <span class="keywordtype">unsigned</span> Opc =</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;          IsVecInReg ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa275bf149ab5df1067cfb721936ecbc">ISD::ANY_EXTEND_VECTOR_INREG</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      <span class="keywordflow">if</span> (!TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aab1c3b0fca0b73909f226868e3c41df1">LegalOperations</a>() || <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(Opc, VT))</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opc, dl, VT, Src));</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    }</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160; </div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InDemandedBits = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.trunc(InBits);</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InDemandedElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(InElts);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160; </div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <span class="comment">// Since some of the sign extended bits are demanded, we know that the sign</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <span class="comment">// bit is demanded.</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    InDemandedBits.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(InBits - 1);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160; </div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, InDemandedBits, InDemandedElts, Known, TLO,</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Known.<a class="code" href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">getBitWidth</a>() == InBits &amp;&amp; <span class="stringliteral">&quot;Src width has changed?&quot;</span>);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160; </div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <span class="comment">// If the sign bit is known one, the top bits match.</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    Known = Known.<a class="code" href="structllvm_1_1KnownBits.html#a781ca23d84995ffb2efaa51267053c19">sext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160; </div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="comment">// If the sign bit is known zero, convert this to a zero extend.</span></div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>()) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      <span class="keywordtype">unsigned</span> Opc =</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;          IsVecInReg ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adf7f4fc30c272a1987e075d7470df84c">ISD::ZERO_EXTEND_VECTOR_INREG</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      <span class="keywordflow">if</span> (!TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aab1c3b0fca0b73909f226868e3c41df1">LegalOperations</a>() || <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(Opc, VT))</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opc, dl, VT, Src));</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    }</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160; </div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSrc = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;            Src, InDemandedBits, InDemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, NewSrc));</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  }</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa275bf149ab5df1067cfb721936ecbc">ISD::ANY_EXTEND_VECTOR_INREG</a>:</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>: {</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;    <span class="keywordtype">unsigned</span> InBits = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <span class="keywordtype">unsigned</span> InElts = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>() ? SrcVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() : 1;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <span class="keywordtype">bool</span> IsVecInReg = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa275bf149ab5df1067cfb721936ecbc">ISD::ANY_EXTEND_VECTOR_INREG</a>;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160; </div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="comment">// If we only need the bottom element then we can just bitcast.</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="comment">// TODO: Handle ANY_EXTEND?</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <span class="keywordflow">if</span> (IsLE &amp;&amp; IsVecInReg &amp;&amp; DemandedElts == 1 &amp;&amp;</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        VT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == SrcVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>())</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(VT, Src));</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160; </div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InDemandedBits = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.trunc(InBits);</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InDemandedElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(InElts);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, InDemandedBits, InDemandedElts, Known, TLO,</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Known.<a class="code" href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">getBitWidth</a>() == InBits &amp;&amp; <span class="stringliteral">&quot;Src width has changed?&quot;</span>);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    Known = Known.<a class="code" href="structllvm_1_1KnownBits.html#ac6661654e5ce1b32651508eec50b6d58">anyext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSrc = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            Src, InDemandedBits, InDemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, NewSrc));</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  }</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>: {</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160; </div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <span class="comment">// Simplify the input, using demanded bit information, and compute the known</span></div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <span class="comment">// zero/one bits live out.</span></div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <span class="keywordtype">unsigned</span> OperandBitWidth = Src.getScalarValueSizeInBits();</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> TruncMask = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.zext(OperandBitWidth);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, TruncMask, DemandedElts, Known, TLO,</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    Known = Known.<a class="code" href="structllvm_1_1KnownBits.html#a40a666d8a3b58f5eca5d7f9f26796bc7">trunc</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160; </div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSrc = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;            Src, TruncMask, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT, NewSrc));</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160; </div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="comment">// If the input is only used by this truncate, see if we can shrink it based</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="comment">// on the known demanded bits.</span></div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <span class="keywordflow">switch</span> (Src.getOpcode()) {</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>:</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      <span class="comment">// Shrink SRL by a constant if none of the high bits shifted in are</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      <span class="comment">// demanded.</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;      <span class="keywordflow">if</span> (TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a7d982597884ec2aa6f04e651bb718e44">LegalTypes</a>() &amp;&amp; !isTypeDesirableForOp(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, VT))</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        <span class="comment">// Do not turn (vt1 truncate (vt2 srl)) into (vt1 srl) if vt1 is</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        <span class="comment">// undesirable.</span></div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160; </div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      <span class="keywordflow">if</span> (Src.getNode()-&gt;hasOneUse()) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *ShAmtC =</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a8747bf52b49077e9bd99c692b2e0c1a5">getValidShiftAmountConstant</a>(Src, DemandedElts);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <span class="keywordflow">if</span> (!ShAmtC || ShAmtC-&gt;<a class="code" href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">uge</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>))</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShVal = ShAmtC-&gt;<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160; </div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> HighBits =</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;            <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(OperandBitWidth, OperandBitWidth - <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        HighBits.<a class="code" href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">lshrInPlace</a>(ShVal);</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        HighBits = HighBits.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160; </div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;        <span class="keywordflow">if</span> (!(HighBits &amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>)) {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;          <span class="comment">// None of the shifted in bits are needed.  Add a truncate of the</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;          <span class="comment">// shift input, then shift it.</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewShAmt = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;              ShVal, dl, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a7d982597884ec2aa6f04e651bb718e44">LegalTypes</a>()));</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewTrunc =</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;              TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT, Src.getOperand(0));</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;          <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;              <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, NewTrunc, NewShAmt));</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        }</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      }</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    }</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160; </div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  }</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>: {</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    <span class="comment">// AssertZext demands all of the high bits, plus any of the low bits</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <span class="comment">// demanded by its users.</span></div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ZVT = cast&lt;VTSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1))-&gt;getVT();</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InMask = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, ZVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>());</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), ~InMask | <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, Known,</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;                             TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Known.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>() &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160; </div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> |= ~InMask;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a> &amp;= (~Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>);</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  }</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>: {</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Idx = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> SrcEltCnt = Src.getValueType().getVectorElementCount();</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="keywordtype">unsigned</span> EltBitWidth = Src.getScalarValueSizeInBits();</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160; </div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="keywordflow">if</span> (SrcEltCnt.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>())</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160; </div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    <span class="comment">// Demand the bits from every vector element without a constant index.</span></div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcElts = SrcEltCnt.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>();</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(NumSrcElts);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CIdx = dyn_cast&lt;ConstantSDNode&gt;(Idx))</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      <span class="keywordflow">if</span> (CIdx-&gt;getAPIntValue().ult(NumSrcElts))</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        DemandedSrcElts = <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(NumSrcElts, CIdx-&gt;getZExtValue());</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160; </div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="comment">// If BitWidth &gt; EltBitWidth the value is anyext:ed. So we do not know</span></div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    <span class="comment">// anything about the extended bits.</span></div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcBits = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &gt; EltBitWidth)</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      DemandedSrcBits = DemandedSrcBits.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(EltBitWidth);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160; </div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, DemandedSrcBits, DemandedSrcElts, Known2, TLO,</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160; </div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <span class="keywordflow">if</span> (!DemandedSrcBits.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>() || !DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedSrc = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;              Src, DemandedSrcBits, DemandedSrcElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1)) {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp =</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, DemandedSrc, Idx);</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      }</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    }</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160; </div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    Known = Known2;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &gt; EltBitWidth)</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;      Known = Known.<a class="code" href="structllvm_1_1KnownBits.html#ac6661654e5ce1b32651508eec50b6d58">anyext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  }</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>: {</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcEltBits = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160; </div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="comment">// If this is an FP-&gt;Int bitcast and if the sign bit is the only</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <span class="comment">// thing demanded, turn this into a FGETSIGN.</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="keywordflow">if</span> (!TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aab1c3b0fca0b73909f226868e3c41df1">LegalOperations</a>() &amp;&amp; !VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; !SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;        <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> == <a class="code" href="classllvm_1_1APInt.html#a1e6f0d8dfed0ab631b488a3e6317718e">APInt::getSignMask</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueSizeInBits()) &amp;&amp;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        SrcVT.<a class="code" href="structllvm_1_1EVT.html#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>()) {</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;      <span class="keywordtype">bool</span> OpVTLegal = <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a130b6a6d409367c8a61dd14dfa39785c">ISD::FGETSIGN</a>, VT);</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;      <span class="keywordtype">bool</span> i32Legal = <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a130b6a6d409367c8a61dd14dfa39785c">ISD::FGETSIGN</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      <span class="keywordflow">if</span> ((OpVTLegal || i32Legal) &amp;&amp; VT.<a class="code" href="structllvm_1_1EVT.html#a19738f4334d4de357b22349bbb56fb5c">isSimple</a>() &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a1e0cfc795f0b068229dcec6eecb69499">MVT::f16</a> &amp;&amp;</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;          SrcVT != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">MVT::f128</a>) {</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        <span class="comment">// Cannot eliminate/lower SHL for f128 yet.</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> Ty = OpVTLegal ? VT : <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;        <span class="comment">// Make a FGETSIGN + SHL to move the sign bit into the appropriate</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        <span class="comment">// place.  We expect the SHL to be eliminated by other optimizations.</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sign = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a130b6a6d409367c8a61dd14dfa39785c">ISD::FGETSIGN</a>, dl, Ty, Src);</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;        <span class="keywordtype">unsigned</span> OpVTSizeInBits = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueSizeInBits();</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        <span class="keywordflow">if</span> (!OpVTLegal &amp;&amp; OpVTSizeInBits &gt; 32)</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;          Sign = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, VT, Sign);</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        <span class="keywordtype">unsigned</span> ShVal = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueSizeInBits() - 1;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShAmt = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShVal, dl, VT);</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;                             TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Sign, ShAmt));</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;      }</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    }</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160; </div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <span class="comment">// Bitcast from a vector using SimplifyDemanded Bits/VectorElts.</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="comment">// Demand the elt/bit if any of the original elts/bits are demanded.</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="keywordflow">if</span> (SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> % NumSrcEltBits) == 0) {</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;      <span class="keywordtype">unsigned</span> Scale = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> / NumSrcEltBits;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      <span class="keywordtype">unsigned</span> NumSrcElts = SrcVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcBits = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSrcEltBits);</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSrcElts);</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != Scale; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        <span class="keywordtype">unsigned</span> EltOffset = IsLE ? <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> : (Scale - 1 - <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        <span class="keywordtype">unsigned</span> BitOffset = EltOffset * NumSrcEltBits;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> Sub = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.extractBits(NumSrcEltBits, BitOffset);</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;        <span class="keywordflow">if</span> (!Sub.<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>()) {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;          DemandedSrcBits |= Sub;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>)</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;            <span class="keywordflow">if</span> (DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>])</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;              DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>((<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> * Scale) + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;        }</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      }</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160; </div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownSrcUndef, KnownSrcZero;</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Src, DemandedSrcElts, KnownSrcUndef,</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                                     KnownSrcZero, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160; </div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownSrcBits;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, DemandedSrcBits, DemandedSrcElts,</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                               KnownSrcBits, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsLE &amp;&amp; (NumSrcEltBits % <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) == 0) {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;      <span class="comment">// TODO - bigendian once we have test coverage.</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      <span class="keywordtype">unsigned</span> Scale = NumSrcEltBits / <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>;</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      <span class="keywordtype">unsigned</span> NumSrcElts = SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() ? SrcVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() : 1;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcBits = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSrcEltBits);</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSrcElts);</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        <span class="keywordflow">if</span> (DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;          <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % Scale) * <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;          DemandedSrcBits.<a class="code" href="classllvm_1_1APInt.html#aabe301a4f18d38478700ad44ba2245bc">insertBits</a>(<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;          DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> / Scale);</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;        }</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160; </div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      <span class="keywordflow">if</span> (SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()) {</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownSrcUndef, KnownSrcZero;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Src, DemandedSrcElts, KnownSrcUndef,</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;                                       KnownSrcZero, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;      }</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160; </div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownSrcBits;</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, DemandedSrcBits, DemandedSrcElts,</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;                               KnownSrcBits, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    }</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160; </div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    <span class="comment">// If this is a bitcast, let computeKnownBits handle it.  Only do this on a</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    <span class="comment">// recursive call where Known may be useful to the caller.</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; 0) {</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      Known = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    }</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  }</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>:</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isPowerOf2()) {</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;      <span class="comment">// The LSB of X*Y is set only if (X &amp; 1) == 1 and (Y &amp; 1) == 1.</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <span class="comment">// If we demand exactly one bit N and we have &quot;X * (C&#39; &lt;&lt; N)&quot; where C&#39; is</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      <span class="comment">// odd (has LSB set), then the left-shifted low bit of X is the answer.</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;      <span class="keywordtype">unsigned</span> CTZ = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countTrailingZeros();</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;      <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1), DemandedElts);</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue().countTrailingZeros() == CTZ) {</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftAmtTy = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AmtC = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(CTZ, dl, ShiftAmtTy);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Shl = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), AmtC);</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Shl);</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;      }</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    }</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="comment">// For a squared value &quot;X * X&quot;, the bottom 2 bits are 0 and X[0] because:</span></div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <span class="comment">// X * X is odd iff X is odd.</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="comment">// &#39;Quadratic Reciprocity&#39;: X * X -&gt; 0 for bit[1]</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0) == <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1) &amp;&amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.ult(4)) {</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> One = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, VT);</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> And1 = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), One);</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, And1);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    }</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>:</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>: {</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <span class="comment">// Add, Sub, and Mul don&#39;t demand any bits in positions beyond that</span></div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <span class="comment">// of the highest bit demanded of them.</span></div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    <a class="code" href="structllvm_1_1SDNodeFlags.html">SDNodeFlags</a> Flags = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode()-&gt;getFlags();</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    <span class="keywordtype">unsigned</span> DemandedBitsLZ = <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.countLeadingZeros();</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> LoMask = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - DemandedBitsLZ);</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(Op0, LoMask, DemandedElts, Known2, TLO,</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1) ||</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;        SimplifyDemandedBits(Op1, LoMask, DemandedElts, Known2, TLO,</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1) ||</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        <span class="comment">// See if the operation should be performed at a smaller bit width.</span></div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        ShrinkDemandedOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, TLO)) {</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;      <span class="keywordflow">if</span> (Flags.hasNoSignedWrap() || Flags.hasNoUnsignedWrap()) {</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        <span class="comment">// Disable the nsw and nuw flags. We can no longer guarantee that we</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        <span class="comment">// won&#39;t wrap after simplification.</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        Flags.setNoSignedWrap(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;        Flags.setNoUnsignedWrap(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;setFlags(Flags);</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      }</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    }</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160; </div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="comment">// neg x with only low bit demanded is simply x.</span></div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> &amp;&amp; <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isOne() &amp;&amp;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        isa&lt;ConstantSDNode&gt;(Op0) &amp;&amp; cast&lt;ConstantSDNode&gt;(Op0)-&gt;isZero())</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Op1);</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160; </div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    <span class="keywordflow">if</span> (!LoMask.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>() || !DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp0 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;          Op0, LoMask, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DemandedOp1 = SimplifyMultipleUseDemandedBits(</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;          Op1, LoMask, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;      <span class="keywordflow">if</span> (DemandedOp0 || DemandedOp1) {</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;        Flags.setNoSignedWrap(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;        Flags.setNoUnsignedWrap(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;        Op0 = DemandedOp0 ? DemandedOp0 : Op0;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        Op1 = DemandedOp1 ? DemandedOp1 : Op1;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp =</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, Op0, Op1, Flags);</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;      }</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    }</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160; </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    <span class="comment">// If we have a constant operand, we may be able to turn it into -1 if we</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="comment">// do not demand the high bits. This can make the constant smaller to</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="comment">// encode, allow more general folding, or match specialized instruction</span></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="comment">// patterns (eg, &#39;blsr&#39; on x86). Don&#39;t bother changing 1 to -1 because that</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <span class="comment">// is probably not useful (and could be detrimental).</span></div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(Op1);</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> HighMask = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, DemandedBitsLZ);</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnes() &amp;&amp; !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isOne() &amp;&amp;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;        (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue() | HighMask).isAllOnes()) {</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Neg1 = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a8100b5a4f22f962b81df4353c7dca01a">getAllOnesConstant</a>(dl, VT);</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;      <span class="comment">// Disable the nsw and nuw flags. We can no longer guarantee that we</span></div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;      <span class="comment">// won&#39;t wrap after simplification.</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;      Flags.setNoSignedWrap(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;      Flags.setNoUnsignedWrap(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), dl, VT, Op0, Neg1, Flags);</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    }</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160; </div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="comment">// Match a multiply with a disguised negated-power-of-2 and convert to a</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <span class="comment">// an equivalent shift-left amount.</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    <span class="comment">// Example: (X * MulC) + Op1 --&gt; Op1 - (X &lt;&lt; log2(-MulC))</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keyword">auto</span> getShiftLeftAmt = [&amp;HighMask](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>) -&gt; <span class="keywordtype">unsigned</span> {</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>.<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a> || !<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>.<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>())</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160; </div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;      <span class="comment">// Don&#39;t touch opaque constants. Also, ignore zero and power-of-2</span></div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;      <span class="comment">// multiplies. Those will get folded later.</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;      <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *MulC = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1));</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;      <span class="keywordflow">if</span> (MulC &amp;&amp; !MulC-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a7fb32f2b4aee1957c1c0ef3bc6589a5a">isOpaque</a>() &amp;&amp; !MulC-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#ae91378660e4c7198b4de645a1d207b91">isZero</a>() &amp;&amp;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;          !MulC-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a8913b35cb4401e4e849fa244c7c279d1">getAPIntValue</a>().<a class="code" href="classllvm_1_1APInt.html#ad1b0513de876d1c85cf6268ca21b2c86">isPowerOf2</a>()) {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> UnmaskedC = MulC-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a8913b35cb4401e4e849fa244c7c279d1">getAPIntValue</a>() | HighMask;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;        <span class="keywordflow">if</span> (UnmaskedC.<a class="code" href="classllvm_1_1APInt.html#a1b6b4785fa27be394cf040e543d9fe7c">isNegatedPowerOf2</a>())</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;          <span class="keywordflow">return</span> (-UnmaskedC).<a class="code" href="classllvm_1_1APInt.html#aae3b959a0a2981340fd03c29f528f2f0">logBase2</a>();</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;      }</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    };</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160; </div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <span class="keyword">auto</span> foldMul = [&amp;](<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <span class="keywordtype">unsigned</span> ShlAmt) {</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftAmtTy = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShlAmtC = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShlAmt, dl, ShiftAmtTy);</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Shl = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, ShlAmtC);</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a>, dl, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Shl);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Res);</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    };</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160; </div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, VT)) {</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;        <span class="comment">// (X * MulC) + Op1 --&gt; Op1 - (X &lt;&lt; log2(-MulC))</span></div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> ShAmt = getShiftLeftAmt(Op0))</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;          <span class="keywordflow">return</span> foldMul(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), Op1, ShAmt);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;        <span class="comment">// Op0 + (X * MulC) --&gt; Op0 - (X &lt;&lt; log2(-MulC))</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> ShAmt = getShiftLeftAmt(Op1))</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;          <span class="keywordflow">return</span> foldMul(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, Op1.getOperand(0), Op0, ShAmt);</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;      }</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>) {</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        <span class="comment">// Op0 - (X * MulC) --&gt; Op0 + (X &lt;&lt; log2(-MulC))</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> ShAmt = getShiftLeftAmt(Op1))</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;          <span class="keywordflow">return</span> foldMul(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, Op1.getOperand(0), Op0, ShAmt);</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      }</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    }</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  }</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="comment">// We also ask the target about intrinsics (which could be specific to it).</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>) {</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      <span class="comment">// TODO: Probably okay to remove after audit; here to reduce change size</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      <span class="comment">// in initial enablement patch for scalable vectors</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType().isScalableVector())</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBitsForTargetNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, DemandedElts,</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;                                            Known, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>))</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    }</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160; </div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <span class="comment">// Just use computeKnownBits to compute output bits.</span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    Known = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  }</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160; </div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="comment">// If we know the value of all of the demanded bits, return this as a</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  <span class="comment">// constant.</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;  <span class="keywordflow">if</span> (!isTargetCanonicalConstantNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) &amp;&amp;</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>.isSubsetOf(Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a> | Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>)) {</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="comment">// Avoid folding to a constant if any OpaqueConstant is involved.</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode();</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> :</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;         <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a>(<a class="code" href="classllvm_1_1SDNodeIterator.html#af14c003d9f4913dbc8b7daed0807183d">SDNodeIterator::begin</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), <a class="code" href="classllvm_1_1SDNodeIterator.html#a3607d62a16488ad561958ccaf04dd511">SDNodeIterator::end</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))) {</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isOpaque())</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    }</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>())</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>, dl, VT));</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>())</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;          TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;              <a class="code" href="classllvm_1_1APFloat.html">APFloat</a>(TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7742fb3f3703dcf2a7d32e22dbe6a6df">EVTToAPFloatSemantics</a>(VT), Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>), dl, VT));</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  }</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160; </div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <span class="comment">// A multi use &#39;all demanded elts&#39; simplify failed to find any knownbits.</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  <span class="comment">// Try again just for the original demanded elts.</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="comment">// Ensure we do this AFTER constant folding above.</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keywordflow">if</span> (HasMultiUse &amp;&amp; Known.<a class="code" href="structllvm_1_1KnownBits.html#a28cf355963391ab8781b2347d495553d">isUnknown</a>() &amp;&amp; !OriginalDemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>())</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    Known = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, OriginalDemandedElts, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;}</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160; </div>
<div class="line"><a name="l02748"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a6a4188562bbd0a11535924fa978f5b8b"> 2748</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a13766ecddfb7da212a5b7623dd58725f">TargetLowering::SimplifyDemandedVectorElts</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;                                                <a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">DAGCombinerInfo</a> &amp;DCI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#acf37bd7e831bdb2a5c9da8d63f843101">DAG</a>;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> TLO(DAG, !DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#ac79f060cd8d4b63fc6d682c076cbeec0">isBeforeLegalize</a>(),</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;                        !DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>());</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160; </div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownUndef, KnownZero;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> =</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;      SimplifyDemandedVectorElts(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts, KnownUndef, KnownZero, TLO);</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>) {</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode());</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aeecdb6a29a24d717a83fc1c948e00d98">CommitTargetLoweringOpt</a>(TLO);</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  }</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160; </div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>;</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;}</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;<span class="comment">/// Given a vector binary operation and known undefined elements for each input</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;<span class="comment">/// operand, compute whether each element of the output is undefined.</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#a17fca146e0dc0228bae32fe5548ab48a"> 2768</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="TargetLowering_8cpp.html#a17fca146e0dc0228bae32fe5548ab48a">getKnownUndefForVectorBinop</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BO, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;UndefOp0,</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;UndefOp1) {</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = BO.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#ab3598cfe4665dac7e694fb4be22158b8">isBinOp</a>(BO.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>()) &amp;&amp; VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;         <span class="stringliteral">&quot;Vector binop only&quot;</span>);</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160; </div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = VT.<a class="code" href="structllvm_1_1EVT.html#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>() ? VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() : 1;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UndefOp0.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>() == NumElts &amp;&amp;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;         UndefOp1.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>() == NumElts &amp;&amp; <span class="stringliteral">&quot;Bad type for undef analysis&quot;</span>);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160; </div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <span class="keyword">auto</span> getUndefOrConstantElt = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V, <span class="keywordtype">unsigned</span> <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>,</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;UndefVals) {</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <span class="keywordflow">if</span> (UndefVals[<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>])</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(EltVT);</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160; </div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BV = dyn_cast&lt;BuildVectorSDNode&gt;(V)) {</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      <span class="comment">// Try hard to make sure that the getNode() call is not creating temporary</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      <span class="comment">// nodes. Ignore opaque integers because they do not constant fold.</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt = BV-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(Elt);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ConstantFPSDNode&gt;(Elt) || Elt.<a class="code" href="classllvm_1_1SDValue.html#a1c861a21f795c3108ab690f3a45c881a">isUndef</a>() || (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isOpaque()))</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;        <span class="keywordflow">return</span> Elt;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    }</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160; </div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  };</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160; </div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownUndef = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumElts);</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;    <span class="comment">// If both inputs for this element are either constant or undef and match</span></div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    <span class="comment">// the element type, compute the constant/undef result for this element of</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <span class="comment">// the vector.</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="comment">// TODO: Ideally we would use FoldConstantArithmetic() here, but that does</span></div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <span class="comment">// not handle FP constants. The code within getNode() should be refactored</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <span class="comment">// to avoid the danger of creating a bogus temporary node here.</span></div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> C0 = getUndefOrConstantElt(BO.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, UndefOp0);</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = getUndefOrConstantElt(BO.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, UndefOp1);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <span class="keywordflow">if</span> (C0 &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> &amp;&amp; C0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == EltVT &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getValueType() == EltVT)</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;      <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(BO.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(BO), EltVT, C0, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>).<a class="code" href="HexagonISelDAGToDAGHVX_8cpp.html#a3389e6c42731436e57f87a2cd630bf49">isUndef</a>())</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;        KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  }</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">return</span> KnownUndef;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;}</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160; </div>
<div class="line"><a name="l02814"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a13766ecddfb7da212a5b7623dd58725f"> 2814</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a13766ecddfb7da212a5b7623dd58725f">TargetLowering::SimplifyDemandedVectorElts</a>(</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;OriginalDemandedElts, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownUndef,</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownZero, <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> &amp;TLO, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>,</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="keywordtype">bool</span> AssumeSingleUse)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode();</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedElts = OriginalDemandedElts;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>();</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; <span class="stringliteral">&quot;Expected vector op&quot;</span>);</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160; </div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  KnownUndef = KnownZero = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumElts);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160; </div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>();</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;  <span class="keywordflow">if</span> (!TLI.<a class="code" href="classllvm_1_1TargetLowering.html#aaad0d7dc149e145475abe9f7c9769d93">shouldSimplifyDemandedVectorElts</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO))</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160; </div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;  <span class="comment">// TODO: For now we assume we know nothing about scalable vectors.</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160; </div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() == NumElts &amp;&amp;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;         <span class="stringliteral">&quot;Mask size mismatches value type element count!&quot;</span>);</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160; </div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="comment">// Undef operand.</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isUndef()) {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    KnownUndef.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  }</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160; </div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <span class="comment">// If Op has other users, assume that all elements are needed.</span></div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  <span class="keywordflow">if</span> (!AssumeSingleUse &amp;&amp; !<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode()-&gt;hasOneUse())</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    DemandedElts.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160; </div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <span class="comment">// Not demanding any elements from Op.</span></div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">if</span> (DemandedElts == 0) {</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    KnownUndef.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(VT));</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;  }</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160; </div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <span class="comment">// Limit search depth.</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt;= <a class="code" href="classllvm_1_1SelectionDAG.html#a4d5e16cbde22f5e6f007940d57a428fd">SelectionDAG::MaxRecursionDepth</a>)</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160; </div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <span class="keywordtype">unsigned</span> EltSizeInBits = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  <span class="keywordtype">bool</span> IsLE = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a377365b0288a4d06a07e09252d7d583f">isLittleEndian</a>();</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160; </div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;  <span class="comment">// Helper for demanding the specified elements and all the bits of both binary</span></div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;  <span class="comment">// operands.</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;  <span class="keyword">auto</span> SimplifyDemandedVectorEltsBinOp = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1) {</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp0 = SimplifyMultipleUseDemandedVectorElts(Op0, DemandedElts,</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                                                           TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp1 = SimplifyMultipleUseDemandedVectorElts(Op1, DemandedElts,</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                                                           TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    <span class="keywordflow">if</span> (NewOp0 || NewOp1) {</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;          Opcode, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), VT, NewOp0 ? NewOp0 : Op0, NewOp1 ? NewOp1 : Op1);</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    }</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  };</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160; </div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>: {</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="keywordflow">if</span> (!DemandedElts[0]) {</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;      KnownUndef.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(VT));</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    }</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ScalarSrc = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <span class="keywordflow">if</span> (ScalarSrc.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>) {</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = ScalarSrc.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Idx = ScalarSrc.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160; </div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> SrcEltCnt = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>();</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160; </div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;      <span class="keywordflow">if</span> (SrcEltCnt.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>())</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160; </div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;      <span class="keywordtype">unsigned</span> NumSrcElts = SrcEltCnt.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>();</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>(Idx)) {</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> SrcDemandedElts = <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(NumSrcElts, 0);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> SrcUndef = KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a2ed912a28808268e35bd58e8f11251aa">zextOrTrunc</a>(NumSrcElts);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> SrcZero = KnownZero.<a class="code" href="classllvm_1_1APInt.html#a2ed912a28808268e35bd58e8f11251aa">zextOrTrunc</a>(NumSrcElts);</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Src, SrcDemandedElts, SrcUndef, SrcZero,</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                                       TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;      }</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    }</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a2780c5606880394d3f07cd2079a27697">setHighBits</a>(NumElts - 1);</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  }</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>: {</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160; </div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    <span class="comment">// We only handle vectors here.</span></div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="comment">// TODO - investigate calling SimplifyDemandedBits/ComputeKnownBits?</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    <span class="keywordflow">if</span> (!SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>())</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160; </div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <span class="comment">// Fast handling of &#39;identity&#39; bitcasts.</span></div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcElts = SrcVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <span class="keywordflow">if</span> (NumSrcElts == NumElts)</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;      <span class="keywordflow">return</span> SimplifyDemandedVectorElts(Src, DemandedElts, KnownUndef,</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                                        KnownZero, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160; </div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> SrcDemandedElts, SrcZero, SrcUndef;</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160; </div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    <span class="comment">// Bitcast from &#39;large element&#39; src vector to &#39;small element&#39; vector, we</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    <span class="comment">// must demand a source element if any DemandedElt maps to it.</span></div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <span class="keywordflow">if</span> ((NumElts % NumSrcElts) == 0) {</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;      <span class="keywordtype">unsigned</span> Scale = NumElts / NumSrcElts;</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;      SrcDemandedElts = <a class="code" href="namespacellvm_1_1APIntOps.html#ab455b98d2cc1e2a8ff7a9486ec4c2982">APIntOps::ScaleBitMask</a>(DemandedElts, NumSrcElts);</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Src, SrcDemandedElts, SrcUndef, SrcZero,</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;                                     TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160; </div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;      <span class="comment">// Try calling SimplifyDemandedBits, converting demanded elts to the bits</span></div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;      <span class="comment">// of the large element.</span></div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;      <span class="comment">// TODO - bigendian once we have test coverage.</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;      <span class="keywordflow">if</span> (IsLE) {</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;        <span class="keywordtype">unsigned</span> SrcEltSizeInBits = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> SrcDemandedBits = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(SrcEltSizeInBits);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;          <span class="keywordflow">if</span> (DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;            <span class="keywordtype">unsigned</span> Ofs = (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % Scale) * EltSizeInBits;</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;            SrcDemandedBits.<a class="code" href="classllvm_1_1APInt.html#acb95d5d8e87df053e1b53e2ec60de4b6">setBits</a>(Ofs, Ofs + EltSizeInBits);</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;          }</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160; </div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;        <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known;</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;        <span class="keywordflow">if</span> (SimplifyDemandedBits(Src, SrcDemandedBits, SrcDemandedElts, Known,</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;                                 TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160; </div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        <span class="comment">// The bitcast has split each wide element into a number of</span></div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;        <span class="comment">// narrow subelements. We have just computed the Known bits</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;        <span class="comment">// for wide elements. See if element splitting results in</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <span class="comment">// some subelements being zero. Only for demanded elements!</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> SubElt = 0; SubElt != Scale; ++SubElt) {</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;          <span class="keywordflow">if</span> (!Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(EltSizeInBits, SubElt * EltSizeInBits)</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;                   .<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>())</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> SrcElt = 0; SrcElt != NumSrcElts; ++SrcElt) {</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;            <span class="keywordtype">unsigned</span> Elt = Scale * SrcElt + SubElt;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;            <span class="keywordflow">if</span> (DemandedElts[Elt])</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;              KnownZero.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(Elt);</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;          }</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;        }</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;      }</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160; </div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;      <span class="comment">// If the src element is zero/undef then all the output elements will be -</span></div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;      <span class="comment">// only demanded elements are guaranteed to be correct.</span></div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumSrcElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;        <span class="keywordflow">if</span> (SrcDemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;          <span class="keywordflow">if</span> (SrcZero[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;            KnownZero.<a class="code" href="classllvm_1_1APInt.html#acb95d5d8e87df053e1b53e2ec60de4b6">setBits</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * Scale, (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) * Scale);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;          <span class="keywordflow">if</span> (SrcUndef[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;            KnownUndef.<a class="code" href="classllvm_1_1APInt.html#acb95d5d8e87df053e1b53e2ec60de4b6">setBits</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * Scale, (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) * Scale);</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;        }</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;      }</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    }</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160; </div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <span class="comment">// Bitcast from &#39;small element&#39; src vector to &#39;large element&#39; vector, we</span></div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    <span class="comment">// demand all smaller source elements covered by the larger demanded element</span></div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    <span class="comment">// of this vector.</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <span class="keywordflow">if</span> ((NumSrcElts % NumElts) == 0) {</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;      <span class="keywordtype">unsigned</span> Scale = NumSrcElts / NumElts;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;      SrcDemandedElts = <a class="code" href="namespacellvm_1_1APIntOps.html#ab455b98d2cc1e2a8ff7a9486ec4c2982">APIntOps::ScaleBitMask</a>(DemandedElts, NumSrcElts);</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Src, SrcDemandedElts, SrcUndef, SrcZero,</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;                                     TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160; </div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;      <span class="comment">// If all the src elements covering an output element are zero/undef, then</span></div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      <span class="comment">// the output element will be as well, assuming it was demanded.</span></div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        <span class="keywordflow">if</span> (DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;          <span class="keywordflow">if</span> (SrcZero.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(Scale, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * Scale).<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>())</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;            KnownZero.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;          <span class="keywordflow">if</span> (SrcUndef.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(Scale, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * Scale).<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>())</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;            KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;        }</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;      }</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    }</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  }</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>: {</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <span class="comment">// Check all elements and simplify any unused elements with UNDEF.</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    <span class="keywordflow">if</span> (!DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;      <span class="comment">// Don&#39;t simplify BROADCASTS.</span></div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;op_values(),</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;                       [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt) { return Op.getOperand(0) != Elt; })) {</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 32&gt;</a> Ops(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;op_begin(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;op_end());</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        <span class="keywordtype">bool</span> Updated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;          <span class="keywordflow">if</span> (!DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; !Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="HexagonISelDAGToDAGHVX_8cpp.html#a3389e6c42731436e57f87a2cd630bf49">isUndef</a>()) {</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;            Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(Ops[0].<a class="code" href="classllvm_1_1TargetLoweringBase.html#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>());</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;            KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;            Updated = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;          }</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;        }</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;        <span class="keywordflow">if</span> (Updated)</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;          <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Ops));</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;      }</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    }</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isUndef()) {</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;        KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EltSizeInBits == <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.getScalarValueSizeInBits() &amp;&amp;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                 (<a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>) || <a class="code" href="namespacellvm.html#acfd2e840c7c480f45753b81b504ff587">isNullFPConstant</a>(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>))) {</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;        KnownZero.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;      }</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    }</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;  }</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>: {</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SubVT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0).getValueType();</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;    <span class="keywordtype">unsigned</span> NumSubVecs = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNumOperands();</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    <span class="keywordtype">unsigned</span> NumSubElts = SubVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumSubVecs; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SubOp = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> SubElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(NumSubElts, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * NumSubElts);</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> SubUndef, SubZero;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(SubOp, SubElts, SubUndef, SubZero, TLO,</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;                                     <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      KnownUndef.<a class="code" href="classllvm_1_1APInt.html#aabe301a4f18d38478700ad44ba2245bc">insertBits</a>(SubUndef, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * NumSubElts);</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;      KnownZero.<a class="code" href="classllvm_1_1APInt.html#aabe301a4f18d38478700ad44ba2245bc">insertBits</a>(SubZero, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * NumSubElts);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    }</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160; </div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <span class="keywordflow">if</span> (!DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      <span class="keywordtype">bool</span> FoundNewSub = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 2&gt;</a> DemandedSubOps;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumSubVecs; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SubOp = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> SubElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(NumSubElts, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * NumSubElts);</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSubOp = SimplifyMultipleUseDemandedVectorElts(</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;            SubOp, SubElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;        DemandedSubOps.push_back(NewSubOp ? NewSubOp : SubOp);</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;        FoundNewSub = NewSubOp ? <a class="code" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a> : FoundNewSub;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      }</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;      <span class="keywordflow">if</span> (FoundNewSub) {</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp =</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;            TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), VT, DemandedSubOps);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      }</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    }</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  }</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">ISD::INSERT_SUBVECTOR</a>: {</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <span class="comment">// Demand any elements from the subvector and the remainder from the src its</span></div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <span class="comment">// inserted into.</span></div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Idx = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getConstantOperandVal(2);</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;    <span class="keywordtype">unsigned</span> NumSubElts = Sub.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSubElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(NumSubElts, Idx);</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = DemandedElts;</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#aabe301a4f18d38478700ad44ba2245bc">insertBits</a>(<a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(NumSubElts), Idx);</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160; </div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> SubUndef, SubZero;</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Sub, DemandedSubElts, SubUndef, SubZero, TLO,</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160; </div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="comment">// If none of the src operand elements are demanded, replace it with undef.</span></div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    <span class="keywordflow">if</span> (!DemandedSrcElts &amp;&amp; !Src.isUndef())</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">ISD::INSERT_SUBVECTOR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;                                               TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(VT), Sub,</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;                                               <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2)));</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160; </div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Src, DemandedSrcElts, KnownUndef, KnownZero,</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;                                   TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    KnownUndef.<a class="code" href="classllvm_1_1APInt.html#aabe301a4f18d38478700ad44ba2245bc">insertBits</a>(SubUndef, Idx);</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    KnownZero.<a class="code" href="classllvm_1_1APInt.html#aabe301a4f18d38478700ad44ba2245bc">insertBits</a>(SubZero, Idx);</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160; </div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <span class="keywordflow">if</span> (!DemandedSrcElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>() || !DemandedSubElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSrc = SimplifyMultipleUseDemandedVectorElts(</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;          Src, DemandedSrcElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSub = SimplifyMultipleUseDemandedVectorElts(</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;          Sub, DemandedSubElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;      <span class="keywordflow">if</span> (NewSrc || NewSub) {</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;        NewSrc = NewSrc ? NewSrc : Src;</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        NewSub = NewSub ? NewSub : Sub;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), VT, NewSrc,</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                                        NewSub, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2));</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;      }</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    }</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;  }</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>: {</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    <span class="comment">// Offset the demanded elts by the subvector index.</span></div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    <span class="keywordflow">if</span> (Src.getValueType().isScalableVector())</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Idx = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getConstantOperandVal(1);</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcElts = Src.getValueType().getVectorNumElements();</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(NumSrcElts).<a class="code" href="classllvm_1_1APInt.html#acb9c55b6986369948507ca5241b4e411">shl</a>(Idx);</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160; </div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> SrcUndef, SrcZero;</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Src, DemandedSrcElts, SrcUndef, SrcZero, TLO,</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    KnownUndef = SrcUndef.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(NumElts, Idx);</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    KnownZero = SrcZero.<a class="code" href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">extractBits</a>(NumElts, Idx);</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160; </div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="keywordflow">if</span> (!DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSrc = SimplifyMultipleUseDemandedVectorElts(</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;          Src, DemandedSrcElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;      <span class="keywordflow">if</span> (NewSrc) {</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOp = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), VT, NewSrc,</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                                        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1));</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NewOp);</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;      }</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    }</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;  }</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>: {</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Vec = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Scl = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    <span class="keyword">auto</span> *CIdx = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2));</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160; </div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    <span class="comment">// For a legal, constant insertion index, if we don&#39;t need this insertion</span></div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <span class="comment">// then strip it, else remove it from the demanded elts.</span></div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    <span class="keywordflow">if</span> (CIdx &amp;&amp; CIdx-&gt;getAPIntValue().ult(NumElts)) {</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;      <span class="keywordtype">unsigned</span> Idx = CIdx-&gt;getZExtValue();</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;      <span class="keywordflow">if</span> (!DemandedElts[Idx])</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Vec);</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160; </div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedVecElts(DemandedElts);</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;      DemandedVecElts.<a class="code" href="classllvm_1_1APInt.html#a155466c9ea0a2bd00e09c62fdce2c052">clearBit</a>(Idx);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Vec, DemandedVecElts, KnownUndef,</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                                     KnownZero, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160; </div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;      KnownUndef.<a class="code" href="classllvm_1_1APInt.html#af5f9dd7fb931d5c71749761348534109">setBitVal</a>(Idx, Scl.<a class="code" href="classllvm_1_1SDValue.html#a1c861a21f795c3108ab690f3a45c881a">isUndef</a>());</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160; </div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;      KnownZero.<a class="code" href="classllvm_1_1APInt.html#af5f9dd7fb931d5c71749761348534109">setBitVal</a>(Idx, <a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>(Scl) || <a class="code" href="namespacellvm.html#acfd2e840c7c480f45753b81b504ff587">isNullFPConstant</a>(Scl));</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    }</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160; </div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> VecUndef, VecZero;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Vec, DemandedElts, VecUndef, VecZero, TLO,</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    <span class="comment">// Without knowing the insertion index we can&#39;t set KnownUndef/KnownZero.</span></div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  }</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>: {</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sel = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2);</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160; </div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <span class="comment">// Try to transform the select condition based on the current demanded</span></div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    <span class="comment">// elements.</span></div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefSel, UndefZero;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Sel, DemandedElts, UndefSel, UndefZero, TLO,</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160; </div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    <span class="comment">// See if we can simplify either vselect operand.</span></div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedLHS(DemandedElts);</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedRHS(DemandedElts);</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefLHS, ZeroLHS;</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefRHS, ZeroRHS;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, DemandedLHS, UndefLHS, ZeroLHS, TLO,</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, DemandedRHS, UndefRHS, ZeroRHS, TLO,</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160; </div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    KnownUndef = UndefLHS &amp; UndefRHS;</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    KnownZero = ZeroLHS &amp; ZeroRHS;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160; </div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <span class="comment">// If we know that the selected element is always zero, we don&#39;t need the</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <span class="comment">// select value element.</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSel = DemandedElts &amp; ~KnownZero;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    <span class="keywordflow">if</span> (DemandedSel != DemandedElts)</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Sel, DemandedSel, UndefSel, UndefZero, TLO,</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;                                     <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160; </div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  }</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>: {</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> ShuffleMask = cast&lt;ShuffleVectorSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getMask();</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160; </div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <span class="comment">// Collect demanded elements from shuffle operands..</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedLHS(NumElts, 0);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedRHS(NumElts, 0);</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = ShuffleMask[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; 0 || !DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(0 &lt;= <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &amp;&amp; <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; (<span class="keywordtype">int</span>)(2 * NumElts) &amp;&amp; <span class="stringliteral">&quot;Shuffle index out of range&quot;</span>);</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; (<span class="keywordtype">int</span>)NumElts)</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;        DemandedLHS.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;        DemandedRHS.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> - NumElts);</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    }</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160; </div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;    <span class="comment">// See if we can simplify either shuffle operand.</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefLHS, ZeroLHS;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefRHS, ZeroRHS;</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, DemandedLHS, UndefLHS, ZeroLHS, TLO,</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, DemandedRHS, UndefRHS, ZeroRHS, TLO,</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160; </div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <span class="comment">// Simplify mask using undef elements from LHS/RHS.</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <span class="keywordtype">bool</span> Updated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordtype">bool</span> IdentityLHS = <span class="keyword">true</span>, IdentityRHS = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 32&gt;</a> NewMask(ShuffleMask);</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;      <span class="keywordtype">int</span> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = NewMask[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; 0)</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;      <span class="keywordflow">if</span> (!DemandedElts[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] || (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; (<span class="keywordtype">int</span>)NumElts &amp;&amp; UndefLHS[<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>]) ||</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;          (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &gt;= (<span class="keywordtype">int</span>)NumElts &amp;&amp; UndefRHS[<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> - NumElts])) {</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;        Updated = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = -1;</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;      }</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;      IdentityLHS &amp;= (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; 0) || (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> == (<span class="keywordtype">int</span>)<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;      IdentityRHS &amp;= (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; 0) || ((<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> - NumElts) == <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    }</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160; </div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    <span class="comment">// Update legal shuffle masks based on demanded elements if it won&#39;t reduce</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="comment">// to Identity which can cause premature removal of the shuffle mask.</span></div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    <span class="keywordflow">if</span> (Updated &amp;&amp; !IdentityLHS &amp;&amp; !IdentityRHS &amp;&amp; !TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aa945b77fd77cdc5cf80e7b7f6ae78a98">LegalOps</a>) {</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LegalShuffle =</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;          buildLegalVectorShuffle(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, NewMask, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>);</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;      <span class="keywordflow">if</span> (LegalShuffle)</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, LegalShuffle);</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;    }</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160; </div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <span class="comment">// Propagate undef/zero elements from LHS/RHS.</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = ShuffleMask[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; 0) {</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;        KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt; (<span class="keywordtype">int</span>)NumElts) {</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;        <span class="keywordflow">if</span> (UndefLHS[<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>])</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;          KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;        <span class="keywordflow">if</span> (ZeroLHS[<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>])</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;          KnownZero.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;        <span class="keywordflow">if</span> (UndefRHS[<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> - NumElts])</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;          KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;        <span class="keywordflow">if</span> (ZeroRHS[<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> - NumElts])</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;          KnownZero.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;      }</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;    }</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  }</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa275bf149ab5df1067cfb721936ecbc">ISD::ANY_EXTEND_VECTOR_INREG</a>:</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3893859b5caa079593b9bf91b96e05fb">ISD::SIGN_EXTEND_VECTOR_INREG</a>:</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adf7f4fc30c272a1987e075d7470df84c">ISD::ZERO_EXTEND_VECTOR_INREG</a>: {</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> SrcUndef, SrcZero;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcElts = Src.getValueType().getVectorNumElements();</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedSrcElts = DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(NumSrcElts);</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Src, DemandedSrcElts, SrcUndef, SrcZero, TLO,</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    KnownZero = SrcZero.<a class="code" href="classllvm_1_1APInt.html#a2ed912a28808268e35bd58e8f11251aa">zextOrTrunc</a>(NumElts);</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    KnownUndef = SrcUndef.<a class="code" href="classllvm_1_1APInt.html#a2ed912a28808268e35bd58e8f11251aa">zextOrTrunc</a>(NumElts);</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160; </div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <span class="keywordflow">if</span> (IsLE &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa275bf149ab5df1067cfb721936ecbc">ISD::ANY_EXTEND_VECTOR_INREG</a> &amp;&amp;</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueSizeInBits() == Src.getValueSizeInBits() &amp;&amp;</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;        DemandedSrcElts == 1) {</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;      <span class="comment">// aext - if we just need the bottom element then we can bitcast.</span></div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(VT, Src));</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    }</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160; </div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adf7f4fc30c272a1987e075d7470df84c">ISD::ZERO_EXTEND_VECTOR_INREG</a>) {</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;      <span class="comment">// zext(undef) upper bits are guaranteed to be zero.</span></div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;      <span class="keywordflow">if</span> (DemandedElts.<a class="code" href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">isSubsetOf</a>(KnownUndef))</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), VT));</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;      KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">clearAllBits</a>();</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160; </div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;      <span class="comment">// zext - if we just need the bottom element then we can mask:</span></div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;      <span class="comment">// zext(and(x,c)) -&gt; and(x,c&#39;) iff the zext is the only user of the and.</span></div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;      <span class="keywordflow">if</span> (IsLE &amp;&amp; DemandedSrcElts == 1 &amp;&amp; Src.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;isOnlyUserOf(Src.getNode()) &amp;&amp;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueSizeInBits() == Src.getValueSizeInBits()) {</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;        <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcSVT = SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue&gt;</a> MaskElts;</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;        MaskElts.push_back(TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a8100b5a4f22f962b81df4353c7dca01a">getAllOnesConstant</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SrcSVT));</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;        MaskElts.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(NumSrcElts - 1, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SrcSVT));</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(SrcVT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MaskElts);</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Fold = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#acaa3c5dd0df27acd60c98ef9641829fc">FoldConstantArithmetic</a>(</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;                <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SrcVT, {Src.getOperand(1), Mask})) {</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;          Fold = TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SrcVT, Src.getOperand(0), Fold);</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;          <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(VT, Fold));</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;        }</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;      }</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    }</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;  }</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160; </div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  <span class="comment">// TODO: There are more binop opcodes that could be handled here - MIN,</span></div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;  <span class="comment">// MAX, saturated math, etc.</span></div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>: {</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <span class="keywordflow">if</span> (Op0 == Op1 &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;isOnlyUserOf(Op0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>())) {</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefLHS, ZeroLHS;</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Op0, DemandedElts, UndefLHS, ZeroLHS, TLO,</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                                     <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, <span class="comment">/*AssumeSingleUse*/</span> <span class="keyword">true</span>))</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    }</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;  }</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>:</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>:</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>:</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>:</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>:</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>:</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>:</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">ISD::FREM</a>: {</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160; </div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefRHS, ZeroRHS;</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Op1, DemandedElts, UndefRHS, ZeroRHS, TLO,</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefLHS, ZeroLHS;</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Op0, DemandedElts, UndefLHS, ZeroLHS, TLO,</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160; </div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    KnownZero = ZeroLHS &amp; ZeroRHS;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    KnownUndef = <a class="code" href="TargetLowering_8cpp.html#a17fca146e0dc0228bae32fe5548ab48a">getKnownUndefForVectorBinop</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, UndefLHS, UndefRHS);</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160; </div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    <span class="comment">// TODO - use KnownUndef to relax the demandedelts?</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    <span class="keywordflow">if</span> (!DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>())</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorEltsBinOp(Op0, Op1))</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;  }</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>:</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>:</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>:</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d">ISD::ROTL</a>:</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>: {</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160; </div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefRHS, ZeroRHS;</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Op1, DemandedElts, UndefRHS, ZeroRHS, TLO,</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefLHS, ZeroLHS;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Op0, DemandedElts, UndefLHS, ZeroLHS, TLO,</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160; </div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;    KnownZero = ZeroLHS;</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    KnownUndef = UndefLHS &amp; UndefRHS; <span class="comment">// TODO: use getKnownUndefForVectorBinop?</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160; </div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    <span class="comment">// TODO - use KnownUndef to relax the demandedelts?</span></div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    <span class="keywordflow">if</span> (!DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>())</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorEltsBinOp(Op0, Op1))</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;  }</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>:</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">ISD::MULHU</a>:</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">ISD::MULHS</a>:</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>: {</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160; </div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> SrcUndef, SrcZero;</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Op1, DemandedElts, SrcUndef, SrcZero, TLO,</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;                                   <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;    <span class="comment">// If we know that a demanded element was zero in Op1 we don&#39;t need to</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <span class="comment">// demand it in Op0 - its guaranteed to be zero.</span></div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedElts0 = DemandedElts &amp; ~SrcZero;</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(Op0, DemandedElts0, KnownUndef, KnownZero,</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;                                   TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160; </div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    KnownUndef &amp;= DemandedElts0;</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    KnownZero &amp;= DemandedElts0;</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160; </div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;    <span class="comment">// If every element pair has a zero/undef then just fold to zero.</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    <span class="comment">// fold (and x, undef) -&gt; 0  /  (and x, 0) -&gt; 0</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    <span class="comment">// fold (mul x, undef) -&gt; 0  /  (mul x, 0) -&gt; 0</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <span class="keywordflow">if</span> (DemandedElts.<a class="code" href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">isSubsetOf</a>(SrcZero | KnownZero | SrcUndef | KnownUndef))</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;      <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), VT));</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160; </div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <span class="comment">// If either side has a zero element, then the result element is zero, even</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    <span class="comment">// if the other is an UNDEF.</span></div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    <span class="comment">// TODO: Extend getKnownUndefForVectorBinop to also deal with known zeros</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    <span class="comment">// and then handle &#39;and&#39; nodes with the rest of the binop opcodes.</span></div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    KnownZero |= SrcZero;</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    KnownUndef &amp;= SrcUndef;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    KnownUndef &amp;= ~KnownZero;</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160; </div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    <span class="comment">// Attempt to avoid multi-use ops if we don&#39;t need anything from them.</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    <span class="keywordflow">if</span> (!DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>())</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorEltsBinOp(Op0, Op1))</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;  }</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>:</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>:</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>:</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedVectorElts(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), DemandedElts, KnownUndef,</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;                                   KnownZero, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160; </div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>) {</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;      <span class="comment">// zext(undef) upper bits are guaranteed to be zero.</span></div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;      <span class="keywordflow">if</span> (DemandedElts.<a class="code" href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">isSubsetOf</a>(KnownUndef))</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;        <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), VT));</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;      KnownUndef.<a class="code" href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">clearAllBits</a>();</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    }</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a>) {</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedVectorEltsForTargetNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DemandedElts, KnownUndef,</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;                                                  KnownZero, TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>))</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known;</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a> = <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(EltSizeInBits);</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;      <span class="keywordflow">if</span> (SimplifyDemandedBits(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, OriginalDemandedElts, Known,</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;                               TLO, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>, AssumeSingleUse))</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    }</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  }</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  }</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((KnownUndef &amp; KnownZero) == 0 &amp;&amp; <span class="stringliteral">&quot;Elements flagged as undef AND zero&quot;</span>);</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160; </div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;  <span class="comment">// Constant fold all undef cases.</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;  <span class="comment">// TODO: Handle zero cases as well.</span></div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;  <span class="keywordflow">if</span> (DemandedElts.<a class="code" href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">isSubsetOf</a>(KnownUndef))</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <span class="keywordflow">return</span> TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">CombineTo</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(VT));</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160; </div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;}</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;<span class="comment">/// Determine which of the bits specified in Mask are known to be either zero or</span></div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;<span class="comment">/// one and return them in the Known.</span></div>
<div class="line"><a name="l03479"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a907dc8a0ba3c57ca48f90fa885c42822"> 3479</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#a907dc8a0ba3c57ca48f90fa885c42822">TargetLowering::computeKnownBitsForTargetNode</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;                                                   <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> &amp;Known,</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;                                                   <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> ||</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> ||</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>) &amp;&amp;</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;         <span class="stringliteral">&quot;Should use MaskedValueIsZero if you don&#39;t know whether Op&quot;</span></div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;         <span class="stringliteral">&quot; is a target node!&quot;</span>);</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;  Known.<a class="code" href="structllvm_1_1KnownBits.html#a538f22b4ea2ff04a0b41403f26eaeb67">resetAll</a>();</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;}</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160; </div>
<div class="line"><a name="l03493"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#af2117bd386bdbed11ed20ee13f65376b"> 3493</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#af2117bd386bdbed11ed20ee13f65376b">TargetLowering::computeKnownBitsForTargetInstr</a>(</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    <a class="code" href="classllvm_1_1GISelKnownBits.html">GISelKnownBits</a> &amp;Analysis, <a class="code" href="classllvm_1_1Register.html">Register</a> R, <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> &amp;Known,</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  Known.<a class="code" href="structllvm_1_1KnownBits.html#a538f22b4ea2ff04a0b41403f26eaeb67">resetAll</a>();</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;}</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160; </div>
<div class="line"><a name="l03500"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a183745ce185b10bf02c4de08104e3589"> 3500</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#a183745ce185b10bf02c4de08104e3589">TargetLowering::computeKnownBitsForFrameIndex</a>(</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> FrameIdx, <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> &amp;Known, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  <span class="comment">// The low bits are known zero if the pointer is aligned.</span></div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;  Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#ade8e20ecea1091e835395746448e262e">setLowBits</a>(<a class="code" href="namespacellvm.html#ad82de9da62635df78a534de0f16c1129">Log2</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>().<a class="code" href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(FrameIdx)));</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;}</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160; </div>
<div class="line"><a name="l03506"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a3bd6f5f6112a6332044d8fb6c12a6050"> 3506</a></span>&#160;<a class="code" href="structllvm_1_1Align.html">Align</a> <a class="code" href="classllvm_1_1TargetLowering.html#a3bd6f5f6112a6332044d8fb6c12a6050">TargetLowering::computeKnownAlignForTargetInstr</a>(</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  <a class="code" href="classllvm_1_1GISelKnownBits.html">GISelKnownBits</a> &amp;Analysis, <a class="code" href="classllvm_1_1Register.html">Register</a> R, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1);</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;}</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;<span class="comment">/// This method can be implemented by targets that want to expose additional</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;<span class="comment">/// information about sign bits to the DAG Combiner.</span></div>
<div class="line"><a name="l03514"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a1e1f38797b68cb9a30a751a8802fffef"> 3514</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1TargetLowering.html#a1e1f38797b68cb9a30a751a8802fffef">TargetLowering::ComputeNumSignBitsForTargetNode</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;                                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;,</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;                                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;,</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;                                                         <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> ||</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> ||</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>) &amp;&amp;</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;         <span class="stringliteral">&quot;Should use ComputeNumSignBits if you don&#39;t know whether Op&quot;</span></div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;         <span class="stringliteral">&quot; is a target node!&quot;</span>);</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;}</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160; </div>
<div class="line"><a name="l03527"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a29a296c88db1981a1f1a11fb478465c0"> 3527</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1TargetLowering.html#a29a296c88db1981a1f1a11fb478465c0">TargetLowering::computeNumSignBitsForTargetInstr</a>(</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;  <a class="code" href="classllvm_1_1GISelKnownBits.html">GISelKnownBits</a> &amp;Analysis, <a class="code" href="classllvm_1_1Register.html">Register</a> R, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;}</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160; </div>
<div class="line"><a name="l03533"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a71cf568b5e1f19d6382926d2634acd2c"> 3533</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a71cf568b5e1f19d6382926d2634acd2c">TargetLowering::SimplifyDemandedVectorEltsForTargetNode</a>(</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownUndef, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownZero,</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> &amp;TLO, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> ||</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> ||</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>) &amp;&amp;</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;         <span class="stringliteral">&quot;Should use SimplifyDemandedVectorElts if you don&#39;t know whether Op&quot;</span></div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;         <span class="stringliteral">&quot; is a target node!&quot;</span>);</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;}</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160; </div>
<div class="line"><a name="l03545"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aa8b94f8e9d7cd31e49c932250de8bf0e"> 3545</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#aa8b94f8e9d7cd31e49c932250de8bf0e">TargetLowering::SimplifyDemandedBitsForTargetNode</a>(</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> &amp;Known, <a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">TargetLoweringOpt</a> &amp;TLO, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> ||</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> ||</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>) &amp;&amp;</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;         <span class="stringliteral">&quot;Should use SimplifyDemandedBits if you don&#39;t know whether Op&quot;</span></div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;         <span class="stringliteral">&quot; is a target node!&quot;</span>);</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;  computeKnownBitsForTargetNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Known, DemandedElts, TLO.<a class="code" href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">DAG</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;}</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160; </div>
<div class="line"><a name="l03558"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a9ffeb949f6e945ab38edfca83ff24431"> 3558</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a9ffeb949f6e945ab38edfca83ff24431">TargetLowering::SimplifyMultipleUseDemandedBitsForTargetNode</a>(</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="classllvm_1_1DemandedBits.html">DemandedBits</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;      (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;       <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> ||</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;       <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> ||</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;       <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>) &amp;&amp;</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;      <span class="stringliteral">&quot;Should use SimplifyMultipleUseDemandedBits if you don&#39;t know whether Op&quot;</span></div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;      <span class="stringliteral">&quot; is a target node!&quot;</span>);</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;}</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160; </div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div>
<div class="line"><a name="l03572"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aa1e23426caed5f96a3f807b39f4c1b14"> 3572</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#aa1e23426caed5f96a3f807b39f4c1b14">TargetLowering::buildLegalVectorShuffle</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0,</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1, <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;int&gt;</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;                                        <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;  <span class="keywordtype">bool</span> LegalMask = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a0d6b509080e384efa570bbb54754bbd2">isShuffleMaskLegal</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VT);</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;  <span class="keywordflow">if</span> (!LegalMask) {</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(N0, N1);</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    <a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#adce8d98c6b50fa65b2a213f40873e919">ShuffleVectorSDNode::commuteMask</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    LegalMask = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a0d6b509080e384efa570bbb54754bbd2">isShuffleMaskLegal</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VT);</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;  }</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160; </div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;  <span class="keywordflow">if</span> (!LegalMask)</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160; </div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#afa7e233051b9ed8ebc0191f42698cb14">getVectorShuffle</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, N0, N1, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;}</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160; </div>
<div class="line"><a name="l03588"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ad0ca2613f95bcc8581dbc7cf80a3e3d6"> 3588</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="classllvm_1_1TargetLowering.html#ad0ca2613f95bcc8581dbc7cf80a3e3d6">TargetLowering::getTargetConstantFromLoad</a>(<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a>*)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;}</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160; </div>
<div class="line"><a name="l03592"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#adbf9a0f19f80eb901b31813c02691fee"> 3592</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#adbf9a0f19f80eb901b31813c02691fee">TargetLowering::isGuaranteedNotToBeUndefOrPoisonForTargetNode</a>(</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;    <span class="keywordtype">bool</span> PoisonOnly, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;      (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;       <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> ||</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;       <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> ||</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;       <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>) &amp;&amp;</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;      <span class="stringliteral">&quot;Should use isGuaranteedNotToBeUndefOrPoison if you don&#39;t know whether Op&quot;</span></div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;      <span class="stringliteral">&quot; is a target node!&quot;</span>);</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;}</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160; </div>
<div class="line"><a name="l03605"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ae7aaf249138fabe6013033160f83b3a2"> 3605</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#ae7aaf249138fabe6013033160f83b3a2">TargetLowering::canCreateUndefOrPoisonForTargetNode</a>(</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;    <span class="keywordtype">bool</span> PoisonOnly, <span class="keywordtype">bool</span> ConsiderFlags, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> ||</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> ||</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>) &amp;&amp;</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;         <span class="stringliteral">&quot;Should use canCreateUndefOrPoison if you don&#39;t know whether Op&quot;</span></div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;         <span class="stringliteral">&quot; is a target node!&quot;</span>);</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;  <span class="comment">// Be conservative and return true.</span></div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;}</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160; </div>
<div class="line"><a name="l03618"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a8cb736aaf5669f1f58af004b85f21661"> 3618</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a8cb736aaf5669f1f58af004b85f21661">TargetLowering::isKnownNeverNaNForTargetNode</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;                                                  <span class="keywordtype">bool</span> SNaN,</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;                                                  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> ||</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> ||</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>) &amp;&amp;</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;         <span class="stringliteral">&quot;Should use isKnownNeverNaN if you don&#39;t know whether Op&quot;</span></div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;         <span class="stringliteral">&quot; is a target node!&quot;</span>);</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;}</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160; </div>
<div class="line"><a name="l03631"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ab39b8344ba817aaef1101ffbb545214b"> 3631</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#ab39b8344ba817aaef1101ffbb545214b">TargetLowering::isSplatValueForTargetNode</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DemandedElts,</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;                                               <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;UndefElts,</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;                                               <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() &gt;= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">ISD::BUILTIN_OP_END</a> ||</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> ||</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> ||</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>) &amp;&amp;</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;         <span class="stringliteral">&quot;Should use isSplatValue if you don&#39;t know whether Op&quot;</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;         <span class="stringliteral">&quot; is a target node!&quot;</span>);</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;}</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160; </div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;<span class="comment">// FIXME: Ideally, this would use ISD::isConstantSplatVector(), but that must</span></div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;<span class="comment">// work with truncating build vectors and vectors with elements of less than</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;<span class="comment">// 8 bits.</span></div>
<div class="line"><a name="l03648"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ac4b87590b82a99014fceab7b10b52c67"> 3648</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#ac4b87590b82a99014fceab7b10b52c67">TargetLowering::isConstTrueVal</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160; </div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;  <span class="keywordtype">unsigned</span> EltWidth;</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> CVal;</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CN = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="comment">/*AllowUndefs=*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;                                               <span class="comment">/*AllowTruncation=*/</span><span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    CVal = CN-&gt;getAPIntValue();</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    EltWidth = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType().getScalarSizeInBits();</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160; </div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;  <span class="comment">// If this is a truncating splat, truncate the splat value.</span></div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  <span class="comment">// Otherwise, we may fail to match the expected values below.</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;  <span class="keywordflow">if</span> (EltWidth &lt; CVal.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>())</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    CVal = CVal.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(EltWidth);</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160; </div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType())) {</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce">UndefinedBooleanContent</a>:</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    <span class="keywordflow">return</span> CVal[0];</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">ZeroOrOneBooleanContent</a>:</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <span class="keywordflow">return</span> CVal.<a class="code" href="classllvm_1_1APInt.html#aea5f26deda5ef97e02f6afc57c0c3920">isOne</a>();</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">ZeroOrNegativeOneBooleanContent</a>:</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    <span class="keywordflow">return</span> CVal.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>();</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;  }</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160; </div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid boolean contents&quot;</span>);</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;}</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160; </div>
<div class="line"><a name="l03678"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aaaed395b080f8b47a0775847997f5040"> 3678</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#aaaed395b080f8b47a0775847997f5040">TargetLowering::isConstFalseVal</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160; </div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CN = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <span class="keywordflow">if</span> (!CN) {</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BuildVectorSDNode.html">BuildVectorSDNode</a> *BV = dyn_cast&lt;BuildVectorSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    <span class="keywordflow">if</span> (!BV)</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160; </div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <span class="comment">// Only interested in constant splats, we don&#39;t care about undef</span></div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    <span class="comment">// elements in identifying boolean constants and getConstantSplatNode</span></div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <span class="comment">// returns NULL if all ops are undef;</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    CN = BV-&gt;<a class="code" href="classllvm_1_1BuildVectorSDNode.html#a72a594eb8072e3372e2e9935ecc21fda">getConstantSplatNode</a>();</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    <span class="keywordflow">if</span> (!CN)</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  }</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160; </div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0)) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce">UndefinedBooleanContent</a>)</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    <span class="keywordflow">return</span> !CN-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a8913b35cb4401e4e849fa244c7c279d1">getAPIntValue</a>()[0];</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160; </div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  <span class="keywordflow">return</span> CN-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#ae91378660e4c7198b4de645a1d207b91">isZero</a>();</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;}</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160; </div>
<div class="line"><a name="l03702"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ac39c56aa177d8ff22fcffe90bd43ca8a"> 3702</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#ac39c56aa177d8ff22fcffe90bd43ca8a">TargetLowering::isExtendedTrueVal</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT,</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;                                       <span class="keywordtype">bool</span> SExt)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a>)</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isOne();</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160; </div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755">TargetLowering::BooleanContent</a> Cnt = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(VT);</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  <span class="keywordflow">switch</span> (Cnt) {</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">TargetLowering::ZeroOrOneBooleanContent</a>:</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <span class="comment">// An extended value of 1 is always true, unless its original type is i1,</span></div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <span class="comment">// in which case it will be sign extended to -1.</span></div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isOne() &amp;&amp; !SExt) || (SExt &amp;&amp; (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0) != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a>));</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce">TargetLowering::UndefinedBooleanContent</a>:</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">TargetLowering::ZeroOrNegativeOneBooleanContent</a>:</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isAllOnes() &amp;&amp; SExt;</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  }</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected enumeration.&quot;</span>);</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;}</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;<span class="comment">/// This helper function of SimplifySetCC tries to optimize the comparison when</span></div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;<span class="comment">/// either operand of the SetCC node is a bitwise-and instruction.</span></div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TargetLowering::foldSetCCWithAnd(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1,</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;                                         <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;                                         DAGCombinerInfo &amp;DCI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;  <span class="keywordflow">if</span> (N1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>)</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(N0, N1);</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160; </div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.DAG;</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OpVT = N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;  <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> || !OpVT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() ||</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;      (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> != <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> &amp;&amp; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> != <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>))</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160; </div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;  <span class="comment">// (X &amp; Y) != 0 --&gt; zextOrTrunc(X &amp; Y)</span></div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;  <span class="comment">// iff everything but LSB is known zero:</span></div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> &amp;&amp; <a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>(N1) &amp;&amp;</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;      (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(OpVT) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce">TargetLowering::UndefinedBooleanContent</a> ||</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;       <a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(OpVT) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">TargetLowering::ZeroOrOneBooleanContent</a>)) {</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    <span class="keywordtype">unsigned</span> NumEltBits = OpVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UpperBits = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(NumEltBits, NumEltBits - 1);</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;    <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad5386f4196a9eab5701c451469f2e20e">MaskedValueIsZero</a>(N0, UpperBits))</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa7e66d5a43444879fa5037f2cfaa4de5">getBoolExtOrTrunc</a>(N0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, OpVT);</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  }</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160; </div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;  <span class="comment">// Try to eliminate a power-of-2 mask constant by converting to a signbit</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;  <span class="comment">// test in a narrow type that we can truncate to with no cost. Examples:</span></div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  <span class="comment">// (i32 X &amp; 32768) == 0 --&gt; (trunc X to i16) &gt;= 0</span></div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;  <span class="comment">// (i32 X &amp; 32768) != 0 --&gt; (trunc X to i16) &lt; 0</span></div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  <span class="comment">// TODO: This conservatively checks for type legality on the source and</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;  <span class="comment">//       destination types. That may inhibit optimizations, but it also</span></div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  <span class="comment">//       allows setcc-&gt;shift transforms that may be more beneficial.</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;  <span class="keyword">auto</span> *AndC = dyn_cast&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1));</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;  <span class="keywordflow">if</span> (AndC &amp;&amp; <a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>(N1) &amp;&amp; AndC-&gt;getAPIntValue().isPowerOf2() &amp;&amp;</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(OpVT) &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>()) {</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> NarrowVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(),</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;                                     AndC-&gt;getAPIntValue().getActiveBits());</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a6f992bc4ca89f1b5f0b34f5b29978c31">isTruncateFree</a>(OpVT, NarrowVT) &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(NarrowVT)) {</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Trunc = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NarrowVT);</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NarrowVT);</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Trunc, Zero,</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;                          <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    }</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;  }</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160; </div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  <span class="comment">// Match these patterns in any of their permutations:</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="comment">// (X &amp; Y) == Y</span></div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  <span class="comment">// (X &amp; Y) != Y</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0) == N1) {</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;    <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1) == N1) {</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  }</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160; </div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpVT);</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a88ce017798b6aec8666c35f026efbdbf">isKnownToBeAPowerOfTwo</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)) {</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    <span class="comment">// Simplify X &amp; Y == Y to X &amp; Y != 0 if Y has exactly one bit set.</span></div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    <span class="comment">// Note that where Y is variable and is known to have at most one bit set</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;    <span class="comment">// (for example, if it is Z &amp; 1) we cannot do this; the expressions are not</span></div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;    <span class="comment">// equivalent when Y == 0.</span></div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpVT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>());</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="namespacellvm_1_1ISD.html#a5fbc38db5c4f3ef878ab19245d3f381d">ISD::getSetCCInverse</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, OpVT);</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <span class="keywordflow">if</span> (DCI.isBeforeLegalizeOps() ||</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, N0.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>()))</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0, Zero, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#aad4749fd44e2f7c1b8908f6d5e8a9d1f">hasAndNotCompare</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)) {</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    <span class="comment">// If the target supports an &#39;and-not&#39; or &#39;and-complement&#39; logic operation,</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    <span class="comment">// try to use that to make a comparison operation more efficient.</span></div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <span class="comment">// But don&#39;t do this transform if the mask is a single bit because there are</span></div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    <span class="comment">// more efficient ways to deal with that case (for example, &#39;bt&#39; on x86 or</span></div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;    <span class="comment">// &#39;rlwinm&#39; on PPC).</span></div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160; </div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    <span class="comment">// Bail out if the compare operand that we want to turn into a zero is</span></div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;    <span class="comment">// already a zero (otherwise, infinite loop).</span></div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;    <span class="keyword">auto</span> *YConst = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;    <span class="keywordflow">if</span> (YConst &amp;&amp; YConst-&gt;isZero())</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160; </div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    <span class="comment">// Transform this into: ~X &amp; Y == 0.</span></div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NotX = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(<a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, OpVT);</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewAnd = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N0), OpVT, NotX, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, NewAnd, Zero, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  }</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160; </div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;}</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;<span class="comment">/// There are multiple IR patterns that could be checking whether certain</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;<span class="comment">/// truncation of a signed number would be lossy or not. The pattern which is</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;<span class="comment">/// best at IR level, may not lower optimally. Thus, we want to unfold it.</span></div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;<span class="comment">/// We are looking for the following pattern: (KeptBits is a constant)</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;<span class="comment">///   (add %x, (1 &lt;&lt; (KeptBits-1))) srccond (1 &lt;&lt; KeptBits)</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;<span class="comment">/// KeptBits won&#39;t be bitwidth(x), that will be constant-folded to true/false.</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;<span class="comment">/// KeptBits also can&#39;t be 1, that would have been folded to  %x dstcond 0</span></div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;<span class="comment">/// We will unfold it into the natural trunc+sext pattern:</span></div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;<span class="comment">///   ((%x &lt;&lt; C) a&gt;&gt; C) dstcond %x</span></div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;<span class="comment">/// Where  C = bitwidth(x) - KeptBits  and  C u&lt; bitwidth(x)</span></div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TargetLowering::optimizeSetCCOfSignedTruncationCheck(</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SCCVT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, DAGCombinerInfo &amp;DCI,</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="comment">// We must be comparing with a constant.</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = dyn_cast&lt;ConstantSDNode&gt;(N1)))</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160; </div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  <span class="comment">// N0 should be:  add %x, (1 &lt;&lt; (KeptBits-1))</span></div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;  <span class="keywordflow">if</span> (N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a23f2f5947fc429aff1270651c6d019ea">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>)</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160; </div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  <span class="comment">// And we must be &#39;add&#39;ing a constant.</span></div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *C01;</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <span class="keywordflow">if</span> (!(C01 = dyn_cast&lt;ConstantSDNode&gt;(N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(1))))</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160; </div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0);</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> XVT = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getValueType();</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160; </div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  <span class="comment">// Validate constants ...</span></div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160; </div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1dxil.html#af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b">I1</a> = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getAPIntValue();</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160; </div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> NewCond;</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::CondCode::SETULT</a>) {</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    NewCond = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::CondCode::SETEQ</a>;</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::CondCode::SETULE</a>) {</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;    NewCond = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::CondCode::SETEQ</a>;</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    <span class="comment">// But need to &#39;canonicalize&#39; the constant.</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;    <a class="code" href="namespacellvm_1_1dxil.html#af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b">I1</a> += 1;</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::CondCode::SETUGT</a>) {</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;    NewCond = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::CondCode::SETNE</a>;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;    <span class="comment">// But need to &#39;canonicalize&#39; the constant.</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    <a class="code" href="namespacellvm_1_1dxil.html#af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b">I1</a> += 1;</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::CondCode::SETUGE</a>) {</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;    NewCond = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::CondCode::SETNE</a>;</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160; </div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> I01 = C01-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a8913b35cb4401e4e849fa244c7c279d1">getAPIntValue</a>();</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;  <span class="keyword">auto</span> checkConstants = [&amp;<a class="code" href="namespacellvm_1_1dxil.html#af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b">I1</a>, &amp;I01]() -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;    <span class="comment">// Both of them must be power-of-two, and the constant from setcc is bigger.</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1dxil.html#af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b">I1</a>.ugt(I01) &amp;&amp; <a class="code" href="namespacellvm_1_1dxil.html#af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b">I1</a>.isPowerOf2() &amp;&amp; I01.<a class="code" href="classllvm_1_1APInt.html#ad1b0513de876d1c85cf6268ca21b2c86">isPowerOf2</a>();</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  };</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160; </div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;  <span class="keywordflow">if</span> (checkConstants()) {</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;    <span class="comment">// Great, e.g. got  icmp ult i16 (add i16 %x, 128), 256</span></div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;    <span class="comment">// What if we invert constants? (and the target predicate)</span></div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;    <a class="code" href="namespacellvm_1_1dxil.html#af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b">I1</a>.negate();</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;    I01.<a class="code" href="classllvm_1_1APInt.html#a8376734f311508662dd7e737752e5953">negate</a>();</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(XVT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>());</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;    NewCond = <a class="code" href="namespacellvm_1_1ISD.html#a5fbc38db5c4f3ef878ab19245d3f381d">getSetCCInverse</a>(NewCond, XVT);</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;    <span class="keywordflow">if</span> (!checkConstants())</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    <span class="comment">// Great, e.g. got  icmp uge i16 (add i16 %x, -128), -256</span></div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;  }</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160; </div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  <span class="comment">// They are power-of-two, so which bit is set?</span></div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> KeptBits = <a class="code" href="namespacellvm_1_1dxil.html#af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b">I1</a>.logBase2();</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> KeptBitsMinusOne = I01.<a class="code" href="classllvm_1_1APInt.html#aae3b959a0a2981340fd03c29f528f2f0">logBase2</a>();</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160; </div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;  <span class="comment">// Magic!</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;  <span class="keywordflow">if</span> (KeptBits != (KeptBitsMinusOne + 1))</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(KeptBits &gt; 0 &amp;&amp; KeptBits &lt; XVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &amp;&amp; <span class="stringliteral">&quot;unreachable&quot;</span>);</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160; </div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;  <span class="comment">// We don&#39;t want to do this in every single case.</span></div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.DAG;</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;  <span class="keywordflow">if</span> (!DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a583ad984c8f06e187574d2c0e6b137d5">shouldTransformSignedTruncationCheck</a>(</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;          XVT, KeptBits))</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160; </div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MaskedBits = XVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() - KeptBits;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MaskedBits &gt; 0 &amp;&amp; MaskedBits &lt; XVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &amp;&amp; <span class="stringliteral">&quot;unreachable&quot;</span>);</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160; </div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;  <span class="comment">// Unfold into:  ((%x &lt;&lt; C) a&gt;&gt; C) cond %x</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;  <span class="comment">// Where &#39;cond&#39; will be either &#39;eq&#39; or &#39;ne&#39;.</span></div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MaskedBits, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XVT);</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> T0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XVT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, ShiftAmt);</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XVT, T0, ShiftAmt);</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> T2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SCCVT, <a class="code" href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, NewCond);</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160; </div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;  <span class="keywordflow">return</span> T2;</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;}</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160; </div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;<span class="comment">// (X &amp; (C l&gt;&gt;/&lt;&lt; Y)) ==/!= 0  --&gt;  ((X &lt;&lt;/l&gt;&gt; Y) &amp; C) ==/!= 0</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TargetLowering::optimizeSetCCByHoistingAndByConstFromLogicalShift(</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SCCVT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1C, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    DAGCombinerInfo &amp;DCI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N1C) &amp;&amp;</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;         <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N1C)-&gt;getAPIntValue().<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>() &amp;&amp;</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;         <span class="stringliteral">&quot;Should be a comparison with 0.&quot;</span>);</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;         <span class="stringliteral">&quot;Valid only for [in]equality comparisons.&quot;</span>);</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160; </div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;  <span class="keywordtype">unsigned</span> NewShiftOpcode;</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160; </div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.DAG;</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>();</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160; </div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;  <span class="comment">// Look for &#39;(C l&gt;&gt;/&lt;&lt; Y)&#39;.</span></div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a> = [&amp;NewShiftOpcode, &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, &amp;<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, &amp;TLI, &amp;DAG](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V) {</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;    <span class="comment">// The shift should be one-use.</span></div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;    <span class="keywordflow">if</span> (!V.hasOneUse())</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;    <span class="keywordtype">unsigned</span> OldShiftOpcode = V.getOpcode();</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;    <span class="keywordflow">switch</span> (OldShiftOpcode) {</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>:</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;      NewShiftOpcode = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>;</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>:</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      NewShiftOpcode = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>;</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// must be a logical shift.</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;    }</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;    <span class="comment">// We should be shifting a constant.</span></div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    <span class="comment">// FIXME: best to use isConstantOrConstantVector().</span></div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = V.getOperand(0);</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> =</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;        <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <span class="comment">/*AllowUndefs=*/</span><span class="keyword">true</span>, <span class="comment">/*AllowTruncation=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>)</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = V.getOperand(1);</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160; </div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="namespacellvm_1_1SystemZISD.html#a24fe7decb4ebdd8b4c7a774d65fcaa7ea9cac76531875c59c8d879507bc72e282">XC</a> =</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;        <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <span class="comment">/*AllowUndefs=*/</span><span class="keyword">true</span>, <span class="comment">/*AllowTruncation=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;    <span class="keywordflow">return</span> TLI.shouldProduceAndByConstByHoistingConstFromShiftsLHSOfAnd(</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;        <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1SystemZISD.html#a24fe7decb4ebdd8b4c7a774d65fcaa7ea9cac76531875c59c8d879507bc72e282">XC</a>, <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, OldShiftOpcode, NewShiftOpcode, DAG);</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;  };</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160; </div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <span class="comment">// LHS of comparison should be an one-use &#39;and&#39;.</span></div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> || !N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>())</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160; </div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;  <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160; </div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;  <span class="comment">// &#39;and&#39; is commutative!</span></div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)) {</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;  }</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160; </div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getValueType();</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160; </div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  <span class="comment">// Produce:</span></div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;  <span class="comment">// ((X &#39;OppositeShiftOpcode&#39; Y) &amp; C) Cond 0</span></div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> T0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(NewShiftOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, T0, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> T2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SCCVT, <a class="code" href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a>, N1C, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;  <span class="keywordflow">return</span> T2;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;}</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;<span class="comment">/// Try to fold an equality comparison with a {add/sub/xor} binary operation as</span></div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;<span class="comment">/// the 1st operand (N0). Callers are expected to swap the N0/N1 parameters to</span></div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;<span class="comment">/// handle the commuted versions of these patterns.</span></div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TargetLowering::foldSetCCWithBinOp(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1,</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;                                           <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;                                           DAGCombinerInfo &amp;DCI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;  <span class="keywordtype">unsigned</span> BOpcode = N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>();</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((BOpcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> || BOpcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> || BOpcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>) &amp;&amp;</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;         <span class="stringliteral">&quot;Unexpected binop&quot;</span>);</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp; <span class="stringliteral">&quot;Unexpected condcode&quot;</span>);</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160; </div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;  <span class="comment">// (X + Y) == X --&gt; Y == 0</span></div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  <span class="comment">// (X - Y) == X --&gt; Y == 0</span></div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  <span class="comment">// (X ^ Y) == X --&gt; Y == 0</span></div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.DAG;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OpVT = N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> == N1)</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpVT), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160; </div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> != N1)</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160; </div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;  <span class="comment">// (X + Y) == Y --&gt; X == 0</span></div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;  <span class="comment">// (X ^ Y) == Y --&gt; X == 0</span></div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;  <span class="keywordflow">if</span> (BOpcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> || BOpcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>)</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpVT), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160; </div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;  <span class="comment">// The shift would not be valid if the operands are boolean (i1).</span></div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;  <span class="keywordflow">if</span> (!N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() || OpVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() == 1)</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160; </div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;  <span class="comment">// (X - Y) == Y --&gt; X == Y &lt;&lt; 1</span></div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(OpVT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(),</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;                                 !DCI.isBeforeLegalize());</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> One = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShiftVT);</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> YShl1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, N1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, One);</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;  <span class="keywordflow">if</span> (!DCI.isCalledByLegalizer())</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;    DCI.AddToWorklist(YShl1.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, YShl1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;}</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160; </div>
<div class="line"><a name="l04024"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#af16b5429cba93f00c53d5d4627725516"> 4024</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLowering_8cpp.html#af16b5429cba93f00c53d5d4627725516">simplifySetCCWithCTPOP</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT,</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;                                      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>,</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;                                      <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl,</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;                                      <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG) {</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  <span class="comment">// Look through truncs that don&#39;t change the value of a ctpop.</span></div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  <span class="comment">// FIXME: Add vector support? Need to be careful with setcc result type below.</span></div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">CTPOP</a> = N0;</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;  <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a> &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp; !VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;      N0.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>() &gt; <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>()))</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">CTPOP</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160; </div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">CTPOP</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a> || !<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">CTPOP</a>.hasOneUse())</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160; </div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> CTVT = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">CTPOP</a>.getValueType();</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CTOp = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">CTPOP</a>.getOperand(0);</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160; </div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;  <span class="comment">// Expand a power-of-2-or-zero comparison based on ctpop:</span></div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;  <span class="comment">// (ctpop x) u&lt; 2 -&gt; (x &amp; x-1) == 0</span></div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;  <span class="comment">// (ctpop x) u&gt; 1 -&gt; (x &amp; x-1) != 0</span></div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>) {</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    <span class="comment">// Keep the CTPOP if it is a legal vector op.</span></div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;    <span class="keywordflow">if</span> (CTVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, CTVT))</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160; </div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;    <span class="keywordtype">unsigned</span> CostLimit = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9b569696b9b75b8382ea48c2d196ebf3">getCustomCtpopCost</a>(CTVT, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.ugt(CostLimit + (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>)))</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == 0 &amp;&amp; (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>))</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(); <span class="comment">// This is handled elsewhere.</span></div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160; </div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="PassBuilderBindings_8cpp.html#ae0d075136095c7ea6db40715be638cf3">Passes</a> = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getLimitedValue() - (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>);</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160; </div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegOne = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8100b5a4f22f962b81df4353c7dca01a">getAllOnesConstant</a>(dl, CTVT);</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = CTOp;</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="PassBuilderBindings_8cpp.html#ae0d075136095c7ea6db40715be638cf3">Passes</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Add = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, CTVT, Result, NegOne);</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;      Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, CTVT, Result, Add);</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    }</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a> ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>;</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, Result, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, CTVT), <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;  }</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160; </div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;  <span class="comment">// Expand a power-of-2 comparison based on ctpop:</span></div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;  <span class="comment">// (ctpop x) == 1 --&gt; (x != 0) &amp;&amp; ((x &amp; x-1) == 0)</span></div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;  <span class="comment">// (ctpop x) != 1 --&gt; (x == 0) || ((x &amp; x-1) != 0)</span></div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == 1) {</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;    <span class="comment">// Keep the CTPOP if it is legal.</span></div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, CTVT))</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160; </div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, CTVT);</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegOne = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8100b5a4f22f962b81df4353c7dca01a">getAllOnesConstant</a>(dl, CTVT);</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CTVT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>());</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> InvCond = <a class="code" href="namespacellvm_1_1ISD.html#a5fbc38db5c4f3ef878ab19245d3f381d">ISD::getSetCCInverse</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, CTVT);</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Add = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, CTVT, CTOp, NegOne);</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">And</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, CTVT, CTOp, Add);</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, CTOp, Zero, InvCond);</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">And</a>, Zero, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;    <span class="keywordtype">unsigned</span> LogicOpcode = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>;</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(LogicOpcode, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;  }</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160; </div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;}</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160; </div>
<div class="line"><a name="l04090"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#ad061307c0dae639c75d944338bd7b15d"> 4090</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLowering_8cpp.html#ad061307c0dae639c75d944338bd7b15d">foldSetCCWithRotate</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1,</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;                                   <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl,</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;                                   <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG) {</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> != <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> &amp;&amp; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> != <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>)</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160; </div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N1, <span class="comment">/* AllowUndefs */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> || !(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;isZero() || <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;isAllOnes()))</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160; </div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;  <span class="keyword">auto</span> getRotateSource = [](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>) {</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d">ISD::ROTL</a> || <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>)</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOperand(0);</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;  };</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160; </div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;  <span class="comment">// Peek through a rotated value compared against 0 or -1:</span></div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;  <span class="comment">// (rot X, Y) == 0/-1 --&gt; X == 0/-1</span></div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;  <span class="comment">// (rot X, Y) != 0/-1 --&gt; X != 0/-1</span></div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> R = getRotateSource(N0))</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, R, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160; </div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;  <span class="comment">// Peek through an &#39;or&#39; of a rotated value compared against 0:</span></div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;  <span class="comment">// or (rot X, Y), Z ==/!= 0 --&gt; (or X, Z) ==/!= 0</span></div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;  <span class="comment">// or Z, (rot X, Y) ==/!= 0 --&gt; (or X, Z) ==/!= 0</span></div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;  <span class="comment">// TODO: Add the &#39;and&#39; with -1 sibling.</span></div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;  <span class="comment">// TODO: Recurse through a series of &#39;or&#39; ops to find the rotate.</span></div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OpVT = N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;  <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;isZero()) {</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> R = getRotateSource(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0))) {</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, OpVT, R, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1));</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, NewOr, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;    }</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> R = getRotateSource(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, OpVT, R, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0));</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, NewOr, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;    }</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  }</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160; </div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;}</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160; </div>
<div class="line"><a name="l04133"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#a07df6b2f8ad8ae0dd165bdedc3c97da6"> 4133</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLowering_8cpp.html#a07df6b2f8ad8ae0dd165bdedc3c97da6">foldSetCCWithFunnelShift</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1,</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;                                        <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl,</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;                                        <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG) {</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;  <span class="comment">// If we are testing for all-bits-clear, we might be able to do that with</span></div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;  <span class="comment">// less shifting since bit-order does not matter.</span></div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> != <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> &amp;&amp; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> != <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>)</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160; </div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N1, <span class="comment">/* AllowUndefs */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> || !<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;isZero())</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160; </div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;  <span class="keywordflow">if</span> (!N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() ||</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;      (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a822b0d02b601898e2d6db5b39e12cc8a">ISD::FSHL</a> &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a874350de5b4f6b8f4db13940e17ed81b">ISD::FSHR</a>))</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160; </div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>();</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;  <span class="keyword">auto</span> *ShAmtC = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(2));</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;  <span class="keywordflow">if</span> (!ShAmtC || ShAmtC-&gt;getAPIntValue().uge(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>))</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160; </div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;  <span class="comment">// Canonicalize fshr as fshl to reduce pattern-matching.</span></div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;  <span class="keywordtype">unsigned</span> ShAmt = ShAmtC-&gt;getZExtValue();</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;  <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a874350de5b4f6b8f4db13940e17ed81b">ISD::FSHR</a>)</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    ShAmt = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - ShAmt;</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160; </div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;  <span class="comment">// Match an &#39;or&#39; with a specific operand &#39;Other&#39; in either commuted variant.</span></div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;  <span class="keyword">auto</span> matchOr = [&amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, &amp;<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> || !<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>.hasOneUse())</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>.getOperand(0) == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;      <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>.getOperand(0);</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;      <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>.getOperand(1);</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    }</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>.getOperand(1) == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;      <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>.getOperand(1);</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;      <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>.getOperand(0);</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    }</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;  };</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160; </div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OpVT = N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShAmtVT = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(2).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> F0 = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> F1 = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;  <span class="keywordflow">if</span> (matchOr(F0, F1)) {</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    <span class="comment">// fshl (or X, Y), X, C ==/!= 0 --&gt; or (shl Y, C), X ==/!= 0</span></div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShAmt, dl, ShAmtVT);</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, OpVT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, NewShAmt);</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, OpVT, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, NewOr, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;  }</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;  <span class="keywordflow">if</span> (matchOr(F1, F0)) {</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;    <span class="comment">// fshl X, (or X, Y), C ==/!= 0 --&gt; or (srl Y, BW-C), X ==/!= 0</span></div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - ShAmt, dl, ShAmtVT);</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, OpVT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, NewShAmt);</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewOr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, OpVT, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, NewOr, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  }</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160; </div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;}</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;<span class="comment">/// Try to simplify a setcc built with the specified operands and cc. If it is</span></div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;<span class="comment">/// unable to simplify it, return a null SDValue.</span></div>
<div class="line"><a name="l04201"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ac16686da29a8a1a231b6a18209c7558c"> 4201</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#ac16686da29a8a1a231b6a18209c7558c">TargetLowering::SimplifySetCC</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1,</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;                                      <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <span class="keywordtype">bool</span> foldBooleans,</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;                                      <a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">DAGCombinerInfo</a> &amp;DCI,</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#acf37bd7e831bdb2a5c9da8d63f843101">DAG</a>;</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;Layout = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>();</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OpVT = N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> Attr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">getAttributes</a>();</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160; </div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;  <span class="comment">// Constant fold or commute setcc.</span></div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Fold = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1ae915deb8e22ab5d8617a090149d0e6">FoldSetCC</a>(VT, N0, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, dl))</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;    <span class="keywordflow">return</span> Fold;</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160; </div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;  <span class="keywordtype">bool</span> N0ConstOrSplat =</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;      <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N0, <span class="comment">/*AllowUndefs*/</span> <span class="keyword">false</span>, <span class="comment">/*AllowTruncate*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  <span class="keywordtype">bool</span> N1ConstOrSplat =</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;      <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N1, <span class="comment">/*AllowUndefs*/</span> <span class="keyword">false</span>, <span class="comment">/*AllowTruncate*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160; </div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;  <span class="comment">// Ensure that the constant occurs on the RHS and fold constant comparisons.</span></div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;  <span class="comment">// TODO: Handle non-splat vector constants. All undef causes trouble.</span></div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;  <span class="comment">// FIXME: We can&#39;t yet fold constant scalable vector splats, so avoid an</span></div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;  <span class="comment">// infinite loop here when we encounter one.</span></div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> SwappedCC = <a class="code" href="namespacellvm_1_1ISD.html#a9cc23aed232ccdeadbd8648c349236a6">ISD::getSetCCSwappedOperands</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;  <span class="keywordflow">if</span> (N0ConstOrSplat &amp;&amp; (!OpVT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>() || !N1ConstOrSplat) &amp;&amp;</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;      (DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>() ||</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;       <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(SwappedCC, N0.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>())))</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N1, N0, SwappedCC);</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160; </div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;  <span class="comment">// If we have a subtract with the same 2 non-constant operands as this setcc</span></div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;  <span class="comment">// -- but in reverse order -- then try to commute the operands of this setcc</span></div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;  <span class="comment">// to match. A matching pair of setcc (cmp) and sub may be combined into 1</span></div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;  <span class="comment">// instruction on some targets.</span></div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;  <span class="keywordflow">if</span> (!N0ConstOrSplat &amp;&amp; !N1ConstOrSplat &amp;&amp;</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;      (DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>() ||</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;       <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(SwappedCC, N0.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>())) &amp;&amp;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a74d7d9a331f1d1e05a16d9ae96e3f602">doesNodeExist</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(OpVT), {N1, N0}) &amp;&amp;</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;      !DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a74d7d9a331f1d1e05a16d9ae96e3f602">doesNodeExist</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(OpVT), {N0, N1}))</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N1, N0, SwappedCC);</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160; </div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = <a class="code" href="TargetLowering_8cpp.html#ad061307c0dae639c75d944338bd7b15d">foldSetCCWithRotate</a>(VT, N0, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, dl, DAG))</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160; </div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = <a class="code" href="TargetLowering_8cpp.html#a07df6b2f8ad8ae0dd165bdedc3c97da6">foldSetCCWithFunnelShift</a>(VT, N0, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, dl, DAG))</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160; </div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *N1C = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N1)) {</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = N1C-&gt;getAPIntValue();</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160; </div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;    <span class="comment">// Optimize some CTPOP cases.</span></div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = <a class="code" href="TargetLowering_8cpp.html#af16b5429cba93f00c53d5d4627725516">simplifySetCCWithCTPOP</a>(*<span class="keyword">this</span>, VT, N0, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, dl, DAG))</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160; </div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    <span class="comment">// For equality to 0 of a no-wrap multiply, decompose and test each op:</span></div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    <span class="comment">// X * Y == 0 --&gt; (X == 0) || (Y == 0)</span></div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;    <span class="comment">// X * Y != 0 --&gt; (X != 0) &amp;&amp; (Y != 0)</span></div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;    <span class="comment">// TODO: This bails out if minsize is set, but if the target doesn&#39;t have a</span></div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;    <span class="comment">//       single instruction multiply for this type, it would likely be</span></div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    <span class="comment">//       smaller to decompose.</span></div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isZero() &amp;&amp; (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a> &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp;</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;        (N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a5023bb0687db0b35d3b2d19327217ce5">getFlags</a>().<a class="code" href="structllvm_1_1SDNodeFlags.html#a7952a7f73530f15076b2d88a671ef480">hasNoUnsignedWrap</a>() ||</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;         N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a5023bb0687db0b35d3b2d19327217ce5">getFlags</a>().<a class="code" href="structllvm_1_1SDNodeFlags.html#ad03ee82e34dac079eca6da220393888d">hasNoSignedWrap</a>()) &amp;&amp;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;        !Attr.<a class="code" href="classllvm_1_1AttributeList.html#a61054ea97168f709c1e46345f80c16a3">hasFnAttr</a>(Attribute::MinSize)) {</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IsXZero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IsYZero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;      <span class="keywordtype">unsigned</span> LogicOp = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>;</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(LogicOp, dl, VT, IsXZero, IsYZero);</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    }</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160; </div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;    <span class="comment">// If the LHS is &#39;(srl (ctlz x), 5)&#39;, the RHS is 0/1, and this is an</span></div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    <span class="comment">// equality comparison, then we&#39;re just comparing whether X itself is</span></div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;    <span class="comment">// zero.</span></div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a> &amp;&amp; (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isZero() || <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isOne()) &amp;&amp;</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a> &amp;&amp;</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;        llvm::has_single_bit&lt;uint32_t&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>())) {</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *ShAmt = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;            ShAmt-&gt;getAPIntValue() == <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>())) {</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;          <span class="keywordflow">if</span> ((<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == 0) == (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>)) {</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;            <span class="comment">// (srl (ctlz x), 5) == 0  -&gt; X != 0</span></div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;            <span class="comment">// (srl (ctlz x), 5) != 1  -&gt; X != 0</span></div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;            <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>;</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;            <span class="comment">// (srl (ctlz x), 5) != 0  -&gt; X == 0</span></div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;            <span class="comment">// (srl (ctlz x), 5) == 1  -&gt; X == 0</span></div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;            <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>;</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;          }</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), Zero,</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;                              <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;        }</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;      }</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;    }</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;  }</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160; </div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;  <span class="comment">// FIXME: Support vectors.</span></div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *N1C = dyn_cast&lt;ConstantSDNode&gt;(N1.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>())) {</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = N1C-&gt;getAPIntValue();</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160; </div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    <span class="comment">// (zext x) == C --&gt; x == (trunc C)</span></div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    <span class="comment">// (sext x) == C --&gt; x == (trunc C)</span></div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#ac79f060cd8d4b63fc6d682c076cbeec0">isBeforeLegalize</a>() &amp;&amp; N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">hasOneUse</a>()) {</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;      <span class="keywordtype">unsigned</span> MinBits = N0.<a class="code" href="classllvm_1_1SDValue.html#a8915297f72f1020167562805827f7160">getValueSizeInBits</a>();</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PreExt;</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;      <span class="keywordflow">if</span> (N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a23f2f5947fc429aff1270651c6d019ea">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>) {</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;        <span class="comment">// ZExt</span></div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;        MinBits = N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a8915297f72f1020167562805827f7160">getValueSizeInBits</a>();</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;        PreExt = N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0);</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a23f2f5947fc429aff1270651c6d019ea">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>) {</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;        <span class="comment">// DAGCombine turns costly ZExts into ANDs</span></div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(1)))</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;          <span class="keywordflow">if</span> ((<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue()+1).isPowerOf2()) {</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;            MinBits = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue().countTrailingOnes();</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;            PreExt = N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0);</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;          }</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a23f2f5947fc429aff1270651c6d019ea">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>) {</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;        <span class="comment">// SExt</span></div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;        MinBits = N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a8915297f72f1020167562805827f7160">getValueSizeInBits</a>();</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;        PreExt = N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0);</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;        <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LN0 = dyn_cast&lt;LoadSDNode&gt;(N0)) {</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;        <span class="comment">// ZEXTLOAD / SEXTLOAD</span></div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;        <span class="keywordflow">if</span> (LN0-&gt;getExtensionType() == <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">ISD::ZEXTLOAD</a>) {</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;          MinBits = LN0-&gt;getMemoryVT().getSizeInBits();</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;          PreExt = N0;</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LN0-&gt;getExtensionType() == <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">ISD::SEXTLOAD</a>) {</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;          <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;          MinBits = LN0-&gt;getMemoryVT().getSizeInBits();</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;          PreExt = N0;</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;        }</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;      }</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160; </div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;      <span class="comment">// Figure out how many bits we need to preserve this constant.</span></div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;      <span class="keywordtype">unsigned</span> ReqdBits = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getMinSignedBits() : <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getActiveBits();</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160; </div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;      <span class="comment">// Make sure we&#39;re not losing bits from the constant.</span></div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;      <span class="keywordflow">if</span> (MinBits &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;          MinBits &lt; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getBitWidth() &amp;&amp;</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;          MinBits &gt;= ReqdBits) {</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> MinVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), MinBits);</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;        <span class="keywordflow">if</span> (isTypeDesirableForOp(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, MinVT)) {</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;          <span class="comment">// Will get folded away.</span></div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Trunc = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, MinVT, PreExt);</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;          <span class="keywordflow">if</span> (MinBits == 1 &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == 1)</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;            <span class="comment">// Invert the condition.</span></div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;            <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, Trunc, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a>),</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;                                <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.trunc(MinBits), dl, MinVT);</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, Trunc, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;        }</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160; </div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;        <span class="comment">// If truncating the setcc operands is not desirable, we can still</span></div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;        <span class="comment">// simplify the expression in some cases:</span></div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;        <span class="comment">// setcc ([sz]ext (setcc x, y, cc)), 0, setne) -&gt; setcc (x, y, cc)</span></div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;        <span class="comment">// setcc ([sz]ext (setcc x, y, cc)), 0, seteq) -&gt; setcc (x, y, inv(cc))</span></div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;        <span class="comment">// setcc (zext (setcc x, y, cc)), 1, setne) -&gt; setcc (x, y, inv(cc))</span></div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;        <span class="comment">// setcc (zext (setcc x, y, cc)), 1, seteq) -&gt; setcc (x, y, cc)</span></div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;        <span class="comment">// setcc (sext (setcc x, y, cc)), -1, setne) -&gt; setcc (x, y, inv(cc))</span></div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;        <span class="comment">// setcc (sext (setcc x, y, cc)), -1, seteq) -&gt; setcc (x, y, cc)</span></div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TopSetCC = N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0);</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;        <span class="keywordtype">unsigned</span> N0Opc = N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a23f2f5947fc429aff1270651c6d019ea">getOpcode</a>();</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;        <span class="keywordtype">bool</span> SExt = (N0Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>);</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;        <span class="keywordflow">if</span> (TopSetCC.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a> &amp;&amp; VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a> &amp;&amp;</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;            TopSetCC.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a> &amp;&amp;</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;            (N0Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a> || N0Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>) &amp;&amp;</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;            (<a class="code" href="namespacellvm.html#abc5add4546a05bb6c8749c009524d5ae">isConstFalseVal</a>(N1) ||</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;             isExtendedTrueVal(N1C, N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#ac0a534d63ac5c5b87f36acdade953fbe">getValueType</a>(0), SExt))) {</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160; </div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;          <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1Inverse.html">Inverse</a> = (N1C-&gt;isZero() &amp;&amp; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>) ||</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;                         (!N1C-&gt;isZero() &amp;&amp; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160; </div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1Inverse.html">Inverse</a>)</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;            <span class="keywordflow">return</span> TopSetCC;</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160; </div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;          <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> InvCond = <a class="code" href="namespacellvm_1_1ISD.html#a5fbc38db5c4f3ef878ab19245d3f381d">ISD::getSetCCInverse</a>(</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;              cast&lt;CondCodeSDNode&gt;(TopSetCC.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(2))-&gt;get(),</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;              TopSetCC.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, TopSetCC.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;                                      TopSetCC.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1),</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;                                      InvCond);</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;        }</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;      }</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;    }</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160; </div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;    <span class="comment">// If the LHS is &#39;(and load, const)&#39;, the RHS is 0, the test is for</span></div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;    <span class="comment">// equality or unsigned, and all 1 bits of the const are in the same</span></div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;    <span class="comment">// partial word, see if we can shorten the load.</span></div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;    <span class="keywordflow">if</span> (DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#ac79f060cd8d4b63fc6d682c076cbeec0">isBeforeLegalize</a>() &amp;&amp;</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;        !<a class="code" href="namespacellvm_1_1ISD.html#aae86ddfa346964171caa61f29d46294b">ISD::isSignedIntSetCC</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>) &amp;&amp;</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == 0 &amp;&amp;</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">hasOneUse</a>() &amp;&amp;</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;        isa&lt;LoadSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0)) &amp;&amp;</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">hasOneUse</a>() &amp;&amp;</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;        isa&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;      <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *Lod = cast&lt;LoadSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0));</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> bestMask;</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;      <span class="keywordtype">unsigned</span> bestWidth = 0, bestOffset = 0;</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;      <span class="keywordflow">if</span> (Lod-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a8f317cf85de4c00ba81d5b5309afd4db">isSimple</a>() &amp;&amp; Lod-&gt;<a class="code" href="classllvm_1_1LSBaseSDNode.html#a6fd7837015d721d85d0dfed4623fb0f9">isUnindexed</a>()) {</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;        <span class="keywordtype">unsigned</span> origWidth = N0.<a class="code" href="classllvm_1_1SDValue.html#a8915297f72f1020167562805827f7160">getValueSizeInBits</a>();</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;        <span class="keywordtype">unsigned</span> maskWidth = origWidth;</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;        <span class="comment">// We can narrow (e.g.) 16-bit extending loads on 32-bit target to</span></div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;        <span class="comment">// 8 bits, but have to be careful...</span></div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;        <span class="keywordflow">if</span> (Lod-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#ad85ec82447c2f1824538de9b449ffed0">getExtensionType</a>() != <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">ISD::NON_EXTLOAD</a>)</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;          origWidth = Lod-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#aee0e58997cd08983518f051e79b855d9">getMemoryVT</a>().<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>();</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#abb7cd0abf43d415da943eb8e4fe4f01b">getConstantOperandAPInt</a>(1);</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> width = origWidth / 2; width&gt;=8; width /= 2) {</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;          <a class="code" href="classllvm_1_1APInt.html">APInt</a> newMask = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(maskWidth, width);</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> offset=0; offset&lt;origWidth/width; offset++) {</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.isSubsetOf(newMask)) {</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;              <span class="keywordflow">if</span> (Layout.<a class="code" href="classllvm_1_1DataLayout.html#a377365b0288a4d06a07e09252d7d583f">isLittleEndian</a>())</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;                bestOffset = (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)offset * (width/8);</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;                bestOffset = (origWidth/width - offset - 1) * (width/8);</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;              bestMask = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.lshr(offset * (width/8) * 8);</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;              bestWidth = width;</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;            }</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;            newMask &lt;&lt;= width;</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;          }</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;        }</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;      }</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;      <span class="keywordflow">if</span> (bestWidth) {</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> newVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), bestWidth);</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;        <span class="keywordflow">if</span> (newVT.<a class="code" href="structllvm_1_1EVT.html#ab41e50273c70287914ded0ae668bc507">isRound</a>() &amp;&amp;</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;            <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9a0590fb25613550cffc505a2affc293">shouldReduceLoadWidth</a>(Lod, <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">ISD::NON_EXTLOAD</a>, newVT)) {</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = Lod-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#ac9f1cc5985b1840e29407c526f7f9f34">getBasePtr</a>();</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;          <span class="keywordflow">if</span> (bestOffset != 0)</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;            <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> =</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7ec0665296f2e3099a8f4d083e77f425">getMemBasePlusOffset</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(bestOffset), dl);</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewLoad =</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3c3b16945cf064f59363bdefdfe2b492">getLoad</a>(newVT, dl, Lod-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a1001931b4896740f5f37ce4c8b35b171">getChain</a>(), <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;                          Lod-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7c8aa148dc4bee3fc230a5db79d51f8c">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#a9459055a98e20980521289e8d20fcc7e">getWithOffset</a>(bestOffset),</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;                          Lod-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a85cc92919f7704331920d260e71a7439">getOriginalAlign</a>());</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT,</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, newVT, NewLoad,</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;                                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(bestMask.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(bestWidth),</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;                                                      dl, newVT)),</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0LL, dl, newVT), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;        }</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;      }</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;    }</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160; </div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;    <span class="comment">// If the LHS is a ZERO_EXTEND, perform the comparison on the input.</span></div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>) {</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;      <span class="keywordtype">unsigned</span> InSize = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a8915297f72f1020167562805827f7160">getValueSizeInBits</a>();</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160; </div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;      <span class="comment">// If the comparison constant has bits in the upper part, the</span></div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;      <span class="comment">// zero-extended value could never match.</span></div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.intersects(<a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getBitWidth(),</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;                                              <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getBitWidth() - InSize))) {</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>) {</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>:</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a>:</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>:</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>:</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>:</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>:</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, VT);</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>:</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a>:</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;          <span class="comment">// True if the sign bit of C1 is set.</span></div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isNegative(), dl, VT);</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>:</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>:</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;          <span class="comment">// True if the sign bit of C1 isn&#39;t set.</span></div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isNonNegative(), dl, VT);</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;        }</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;      }</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160; </div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;      <span class="comment">// Otherwise, we can perform the comparison with the low bits.</span></div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>) {</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>:</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>:</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>:</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a>:</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>:</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>: {</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> newVT = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;        <span class="keywordflow">if</span> (DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>() ||</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;            (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, newVT) &amp;&amp;</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;             <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, newVT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>()))) {</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;          <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewSetCCVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(Layout, *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), newVT);</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewConst = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.trunc(InSize), dl, newVT);</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160; </div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSetCC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, NewSetCCVT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;                                          NewConst, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa7e66d5a43444879fa5037f2cfaa4de5">getBoolExtOrTrunc</a>(NewSetCC, dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;        }</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;      }</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// todo, be more careful with signed comparisons</span></div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;      }</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a> &amp;&amp;</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;               (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;               !<a class="code" href="classllvm_1_1TargetLoweringBase.html#a29366507d51536f380af3c2184bfe374">isSExtCheaperThanZExt</a>(cast&lt;VTSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))-&gt;getVT(),</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;                                      OpVT)) {</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> ExtSrcTy = cast&lt;VTSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))-&gt;getVT();</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;      <span class="keywordtype">unsigned</span> ExtSrcTyBits = ExtSrcTy.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>();</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> ExtDstTy = N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;      <span class="keywordtype">unsigned</span> ExtDstTyBits = ExtDstTy.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>();</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160; </div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;      <span class="comment">// If the constant doesn&#39;t fit into the number of bits for the source of</span></div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;      <span class="comment">// the sign extension, it is impossible for both sides to be equal.</span></div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getMinSignedBits() &gt; ExtSrcTyBits)</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>, dl, VT, OpVT);</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160; </div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ExtDstTy == N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() &amp;&amp;</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;             ExtDstTy != ExtSrcTy &amp;&amp; <span class="stringliteral">&quot;Unexpected types!&quot;</span>);</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(ExtDstTyBits, ExtSrcTyBits);</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ZextOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, ExtDstTy, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;                                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, dl, ExtDstTy));</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;      <span class="keywordflow">if</span> (!DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aa571393f242ebc7da5682b7e85394d60">isCalledByLegalizer</a>())</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(ZextOp.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;      <span class="comment">// Otherwise, make this a use of a zext.</span></div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, ZextOp,</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> &amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, dl, ExtDstTy), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((N1C-&gt;isZero() || N1C-&gt;isOne()) &amp;&amp;</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;               (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>)) {</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;      <span class="comment">// SETCC (SETCC), [0|1], [EQ|NE]  -&gt; SETCC</span></div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;      <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a> &amp;&amp;</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;          <a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT) &amp;&amp; VT.<a class="code" href="structllvm_1_1EVT.html#ae67a729c436915221367d8e77412dff4">bitsLE</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()) &amp;&amp;</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;          (N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a> ||</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;           <a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()) ==</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;                       <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">ZeroOrOneBooleanContent</a>)) {</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;        <span class="keywordtype">bool</span> TrueWhenTrue = (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>) ^ (!N1C-&gt;isOne());</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;        <span class="keywordflow">if</span> (TrueWhenTrue)</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT, N0);</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;        <span class="comment">// Invert the condition.</span></div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;        <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = cast&lt;CondCodeSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(2))-&gt;get();</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;        <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1ISD.html#a5fbc38db5c4f3ef878ab19245d3f381d">ISD::getSetCCInverse</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;        <span class="keywordflow">if</span> (DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>() ||</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;            <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>()))</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;      }</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160; </div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;      <span class="keywordflow">if</span> ((N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a> ||</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;           (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp;</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;            N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a> &amp;&amp;</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;            N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1) == N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) &amp;&amp;</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;          <a class="code" href="namespacellvm.html#ac926ae0b6871c2207db3e787f6dbcb80">isOneConstant</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;        <span class="comment">// If this is (X^1) == 0/1, swap the RHS and eliminate the xor.  We</span></div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;        <span class="comment">// can only do this if the top bits are known zero.</span></div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a8915297f72f1020167562805827f7160">getValueSizeInBits</a>();</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;        <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad5386f4196a9eab5701c451469f2e20e">MaskedValueIsZero</a>(N0,</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;                                  <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>,</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;                                                        <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>-1))) {</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;          <span class="comment">// Okay, get the un-inverted input value.</span></div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val;</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;          <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>) {</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;            Val = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp;</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;                    N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>);</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;            <span class="comment">// ((X^1)&amp;1)^1 -&gt; X &amp; 1</span></div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;            Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;                              N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;                              N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1));</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;          }</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160; </div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, Val, N1,</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;                              <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;        }</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N1C-&gt;isOne()) {</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = N0;</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;        <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>)</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;          Op0 = Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160; </div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;        <span class="keywordflow">if</span> ((Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>) &amp;&amp;</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;            Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a> &amp;&amp;</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;            Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>) {</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> XorLHS = Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> XorRHS = Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;          <span class="comment">// Ensure that the input setccs return an i1 type or 0/1 value.</span></div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;          <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a> ||</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;              (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(XorLHS.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()) ==</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;                      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">ZeroOrOneBooleanContent</a> &amp;&amp;</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;               <a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(XorRHS.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()) ==</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;                        <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">ZeroOrOneBooleanContent</a>)) {</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;            <span class="comment">// (xor (setcc), (setcc)) == / != 1 -&gt; (setcc) != / == (setcc)</span></div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;            <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>) ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>;</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;            <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, XorLHS, XorRHS, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;          }</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;        }</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;        <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; <a class="code" href="namespacellvm.html#ac926ae0b6871c2207db3e787f6dbcb80">isOneConstant</a>(Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;          <span class="comment">// If this is (X&amp;1) == / != 1, normalize it to (X&amp;1) != / == 0.</span></div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;          <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a3ad406477784397709a339d5a2957b43">bitsGT</a>(VT))</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;            Op0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT,</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT, Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0)),</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, VT));</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(VT))</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;            Op0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT,</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, dl, VT, Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0)),</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, VT));</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160; </div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, Op0,</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, Op0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;                              <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;        }</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;        <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a> &amp;&amp;</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;            cast&lt;VTSDNode&gt;(Op0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))-&gt;getVT() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a>)</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, Op0,</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, Op0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;                              <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;      }</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;    }</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160; </div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;    <span class="comment">// Given:</span></div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;    <span class="comment">//   icmp eq/ne (urem %x, %y), 0</span></div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;    <span class="comment">// Iff %x has 0 or 1 bits set, and %y has at least 2 bits set, omit &#39;urem&#39;:</span></div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;    <span class="comment">//   icmp eq/ne %x, 0</span></div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a> &amp;&amp; N1C-&gt;isZero() &amp;&amp;</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;        (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>)) {</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> XKnown = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0));</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> YKnown = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1));</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;      <span class="keywordflow">if</span> (XKnown.<a class="code" href="structllvm_1_1KnownBits.html#a4676f4bc7da9235ff3b6683dd670d7be">countMaxPopulation</a>() == 1 &amp;&amp; YKnown.<a class="code" href="structllvm_1_1KnownBits.html#ad2ecbbccee1ca4e3ddde24cc714ec79e">countMinPopulation</a>() &gt;= 2)</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;    }</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160; </div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;    <span class="comment">// Fold set_cc seteq (ashr X, BW-1), -1 -&gt; set_cc setlt X, 0</span></div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;    <span class="comment">//  and set_cc setne (ashr X, BW-1), -1 -&gt; set_cc setge X, 0</span></div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a> &amp;&amp; isa&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)) &amp;&amp;</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#abb7cd0abf43d415da943eb8e4fe4f01b">getConstantOperandAPInt</a>(1) == OpVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() - 1 &amp;&amp;</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;        N1C &amp;&amp; N1C-&gt;isAllOnes()) {</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, OpVT),</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;                          <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a>);</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;    }</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160; </div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V =</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;            optimizeSetCCOfSignedTruncationCheck(VT, N0, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, DCI, dl))</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  }</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160; </div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;  <span class="comment">// These simplifications apply to splat vectors as well.</span></div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;  <span class="comment">// TODO: Handle more splat vector cases.</span></div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *N1C = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(N1)) {</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = N1C-&gt;getAPIntValue();</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160; </div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinVal, MaxVal;</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;    <span class="keywordtype">unsigned</span> OperandBitSize = N1C-&gt;<a class="code" href="classllvm_1_1SDNode.html#ac0a534d63ac5c5b87f36acdade953fbe">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#aae86ddfa346964171caa61f29d46294b">ISD::isSignedIntSetCC</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)) {</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;      MinVal = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(OperandBitSize);</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;      MaxVal = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(OperandBitSize);</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;      MinVal = <a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(OperandBitSize);</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;      MaxVal = <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(OperandBitSize);</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;    }</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160; </div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;    <span class="comment">// Canonicalize GE/LE comparisons to use GT/LT comparisons.</span></div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a>) {</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;      <span class="comment">// X &gt;= MIN --&gt; true</span></div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == MinVal)</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(<span class="keyword">true</span>, dl, VT, OpVT);</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160; </div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;      <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()) { <span class="comment">// TODO: Support this for vectors.</span></div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;        <span class="comment">// X &gt;= C0 --&gt; X &gt; (C0 - 1)</span></div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> - 1;</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;        <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> NewCC = (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a>) ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>;</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;        <span class="keywordflow">if</span> ((DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>() ||</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;             <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(NewCC, VT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>())) &amp;&amp;</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;            (!N1C-&gt;isOpaque() || (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getBitWidth() &lt;= 64 &amp;&amp;</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;                                  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a1946f350ff6d981eb8ec0f7f044625fd">isLegalICmpImmediate</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getSExtValue())))) {</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0,</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, dl, N1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;                              NewCC);</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;        }</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;      }</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    }</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160; </div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>) {</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;      <span class="comment">// X &lt;= MAX --&gt; true</span></div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == MaxVal)</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(<span class="keyword">true</span>, dl, VT, OpVT);</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160; </div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;      <span class="comment">// X &lt;= C0 --&gt; X &lt; (C0 + 1)</span></div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;      <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()) { <span class="comment">// TODO: Support this for vectors.</span></div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> + 1;</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;        <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> NewCC = (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>) ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>;</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;        <span class="keywordflow">if</span> ((DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>() ||</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;             <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(NewCC, VT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>())) &amp;&amp;</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;            (!N1C-&gt;isOpaque() || (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getBitWidth() &lt;= 64 &amp;&amp;</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;                                  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a1946f350ff6d981eb8ec0f7f044625fd">isLegalICmpImmediate</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getSExtValue())))) {</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0,</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, dl, N1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;                              NewCC);</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;        }</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;      }</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;    }</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160; </div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>) {</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == MinVal)</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(<span class="keyword">false</span>, dl, VT, OpVT); <span class="comment">// X &lt; MIN --&gt; false</span></div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160; </div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;      <span class="comment">// TODO: Support this for vectors after legalize ops.</span></div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;      <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() || DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>()) {</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;        <span class="comment">// Canonicalize setlt X, Max --&gt; setne X, Max</span></div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == MaxVal)</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0, N1, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160; </div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;        <span class="comment">// If we have setult X, 1, turn it into seteq X, 0</span></div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == MinVal+1)</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0,</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MinVal, dl, N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;                              <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;      }</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;    }</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160; </div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>) {</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == MaxVal)</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(<span class="keyword">false</span>, dl, VT, OpVT); <span class="comment">// X &gt; MAX --&gt; false</span></div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160; </div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;      <span class="comment">// TODO: Support this for vectors after legalize ops.</span></div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;      <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() || DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>()) {</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;        <span class="comment">// Canonicalize setgt X, Min --&gt; setne X, Min</span></div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == MinVal)</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0, N1, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160; </div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;        <span class="comment">// If we have setugt X, Max-1, turn it into seteq X, Max</span></div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == MaxVal-1)</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0,</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MaxVal, dl, N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;                              <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;      }</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;    }</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160; </div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) {</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;      <span class="comment">// (X &amp; (C l&gt;&gt;/&lt;&lt; Y)) ==/!= 0  --&gt;  ((X &lt;&lt;/l&gt;&gt; Y) &amp; C) ==/!= 0</span></div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isZero())</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = optimizeSetCCByHoistingAndByConstFromLogicalShift(</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;                VT, N0, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, DCI, dl))</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>;</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160; </div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;      <span class="comment">// For all/any comparisons, replace or(x,shl(y,bw/2)) with and/or(x,y).</span></div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;      <span class="comment">// For example, when high 32-bits of i64 X are known clear:</span></div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;      <span class="comment">// all bits clear: (X | (Y&lt;&lt;32)) ==  0 --&gt; (X | Y) ==  0</span></div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;      <span class="comment">// all bits set:   (X | (Y&lt;&lt;32)) == -1 --&gt; (X &amp; Y) == -1</span></div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;      <span class="keywordtype">bool</span> CmpZero = N1C-&gt;getAPIntValue().isZero();</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;      <span class="keywordtype">bool</span> CmpNegOne = N1C-&gt;getAPIntValue().isAllOnes();</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;      <span class="keywordflow">if</span> ((CmpZero || CmpNegOne) &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>()) {</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;        <span class="comment">// Match or(lo,shl(hi,bw/2)) pattern.</span></div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;        <span class="keyword">auto</span> IsConcat = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;          <span class="keywordtype">unsigned</span> EltBits = V.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>();</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;          <span class="keywordflow">if</span> (V.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> || (EltBits % 2) != 0)</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = V.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = V.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;          <a class="code" href="classllvm_1_1APInt.html">APInt</a> HiBits = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(EltBits, EltBits / 2);</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;          <span class="comment">// Unshifted element must have zero upperbits.</span></div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a> &amp;&amp;</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;              isa&lt;ConstantSDNode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.getOperand(1)) &amp;&amp;</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;              <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.getConstantOperandAPInt(1) == (EltBits / 2) &amp;&amp;</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad5386f4196a9eab5701c451469f2e20e">MaskedValueIsZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, HiBits)) {</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;            Lo = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;            Hi = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.getOperand(0);</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;          }</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a> &amp;&amp;</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;              isa&lt;ConstantSDNode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getOperand(1)) &amp;&amp;</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;              <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getConstantOperandAPInt(1) == (EltBits / 2) &amp;&amp;</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad5386f4196a9eab5701c451469f2e20e">MaskedValueIsZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, HiBits)) {</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;            Lo = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;            Hi = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getOperand(0);</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;          }</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;        };</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160; </div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;        <span class="keyword">auto</span> MergeConcat = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Hi) {</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;          <span class="keywordtype">unsigned</span> EltBits = N0.<a class="code" href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">getScalarValueSizeInBits</a>();</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;          <span class="keywordtype">unsigned</span> HalfBits = EltBits / 2;</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;          <a class="code" href="classllvm_1_1APInt.html">APInt</a> HiBits = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(EltBits, HalfBits);</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoBits = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(~HiBits, dl, OpVT);</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, OpVT, Hi, LoBits);</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewN0 =</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(CmpZero ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, OpVT, Lo, HiMask);</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewN1 = CmpZero ? DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, OpVT) : LoBits;</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, NewN0, NewN1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;        };</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160; </div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo, Hi;</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;        <span class="keywordflow">if</span> (IsConcat(N0, Lo, Hi))</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;          <span class="keywordflow">return</span> MergeConcat(Lo, Hi);</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160; </div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;        <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> || N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>) {</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo0, Lo1, Hi0, Hi1;</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;          <span class="keywordflow">if</span> (IsConcat(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), Lo0, Hi0) &amp;&amp;</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;              IsConcat(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), Lo1, Hi1)) {</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;            <span class="keywordflow">return</span> MergeConcat(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>(), dl, OpVT, Lo0, Lo1),</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>(), dl, OpVT, Hi0, Hi1));</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;          }</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;        }</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;      }</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;    }</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160; </div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    <span class="comment">// If we have &quot;setcc X, C0&quot;, check to see if we can shrink the immediate</span></div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    <span class="comment">// by changing cc.</span></div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;    <span class="comment">// TODO: Support this for vectors after legalize ops.</span></div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;    <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() || DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>()) {</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;      <span class="comment">// SETUGT X, SINTMAX  -&gt; SETLT X, 0</span></div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;      <span class="comment">// SETUGE X, SINTMIN -&gt; SETLT X, 0</span></div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isMaxSignedValue()) ||</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;          (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isMinSignedValue()))</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0,</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, N1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;                            <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160; </div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;      <span class="comment">// SETULT X, SINTMIN  -&gt; SETGT X, -1</span></div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;      <span class="comment">// SETULE X, SINTMAX  -&gt; SETGT X, -1</span></div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isMinSignedValue()) ||</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;          (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isMaxSignedValue()))</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0,</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8100b5a4f22f962b81df4353c7dca01a">getAllOnesConstant</a>(dl, N1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;                            <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>);</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;    }</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;  }</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160; </div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;  <span class="comment">// Back to non-vector simplifications.</span></div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;  <span class="comment">// TODO: Can we do these for vector splats?</span></div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *N1C = dyn_cast&lt;ConstantSDNode&gt;(N1.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>())) {</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>();</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = N1C-&gt;getAPIntValue();</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShValTy = N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160; </div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;    <span class="comment">// Fold bit comparisons when we can. This will result in an</span></div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;    <span class="comment">// incorrect value when boolean false is negative one, unless</span></div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    <span class="comment">// the bitsize is 1 in which case the false value is the same</span></div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    <span class="comment">// in practice regardless of the representation.</span></div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;    <span class="keywordflow">if</span> ((VT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == 1 ||</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;         <a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">ZeroOrOneBooleanContent</a>) &amp;&amp;</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;        (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;        (VT == ShValTy || (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT) &amp;&amp; VT.<a class="code" href="structllvm_1_1EVT.html#ae67a729c436915221367d8e77412dff4">bitsLE</a>(ShValTy))) &amp;&amp;</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>) {</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AndRHS = dyn_cast&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftTy =</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;            <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(ShValTy, Layout, !DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#ac79f060cd8d4b63fc6d682c076cbeec0">isBeforeLegalize</a>());</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == 0) {<span class="comment">// (X &amp; 8) != 0  --&gt;  (X &amp; 8) &gt;&gt; 3</span></div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;          <span class="comment">// Perform the xform if the AND RHS is a single bit.</span></div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;          <span class="keywordtype">unsigned</span> ShCt = AndRHS-&gt;getAPIntValue().logBase2();</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;          <span class="keywordflow">if</span> (AndRHS-&gt;getAPIntValue().isPowerOf2() &amp;&amp;</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;              !TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a73287af67238556f601b5255cd6e6274">shouldAvoidTransformToShift</a>(ShValTy, ShCt)) {</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;            <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT,</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, ShValTy, N0,</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;                                           DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShCt, dl, ShiftTy)));</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;          }</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == AndRHS-&gt;getAPIntValue()) {</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;          <span class="comment">// (X &amp; 8) == 8  --&gt;  (X &amp; 8) &gt;&gt; 3</span></div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;          <span class="comment">// Perform the xform if C1 is a single bit.</span></div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;          <span class="keywordtype">unsigned</span> ShCt = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.logBase2();</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isPowerOf2() &amp;&amp;</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;              !TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a73287af67238556f601b5255cd6e6274">shouldAvoidTransformToShift</a>(ShValTy, ShCt)) {</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;            <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT,</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, ShValTy, N0,</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;                                           DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShCt, dl, ShiftTy)));</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;          }</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;        }</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;      }</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;    }</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160; </div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getMinSignedBits() &lt;= 64 &amp;&amp;</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#a1946f350ff6d981eb8ec0f7f044625fd">isLegalICmpImmediate</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.getSExtValue())) {</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftTy = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(ShValTy, Layout, !DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#ac79f060cd8d4b63fc6d682c076cbeec0">isBeforeLegalize</a>());</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;      <span class="comment">// (X &amp; -256) == 256 -&gt; (X &gt;&gt; 8) == 1</span></div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;          N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>()) {</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AndRHS = dyn_cast&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;AndRHSC = AndRHS-&gt;getAPIntValue();</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;          <span class="keywordflow">if</span> (AndRHSC.<a class="code" href="classllvm_1_1APInt.html#a1b6b4785fa27be394cf040e543d9fe7c">isNegatedPowerOf2</a>() &amp;&amp; (AndRHSC &amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>) == <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>) {</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;            <span class="keywordtype">unsigned</span> ShiftBits = AndRHSC.<a class="code" href="classllvm_1_1APInt.html#a9a99431f0828d0222c617eb876bc5d34">countTrailingZeros</a>();</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;            <span class="keywordflow">if</span> (!TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a73287af67238556f601b5255cd6e6274">shouldAvoidTransformToShift</a>(ShValTy, ShiftBits)) {</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> =</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, ShValTy, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShiftBits, dl, ShiftTy));</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CmpRHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.lshr(ShiftBits), dl, ShValTy);</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;              <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, CmpRHS, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;            }</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;          }</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;        }</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a> ||</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;                 <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>) {</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;        <span class="keywordtype">bool</span> AdjOne = (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>);</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;        <span class="comment">// X &lt;  0x100000000 -&gt; (X &gt;&gt; 32) &lt;  1</span></div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;        <span class="comment">// X &gt;= 0x100000000 -&gt; (X &gt;&gt; 32) &gt;= 1</span></div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;        <span class="comment">// X &lt;= 0x0ffffffff -&gt; (X &gt;&gt; 32) &lt;  1</span></div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;        <span class="comment">// X &gt;  0x0ffffffff -&gt; (X &gt;&gt; 32) &gt;= 1</span></div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;        <span class="keywordtype">unsigned</span> ShiftBits;</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewC = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;        <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> NewCond = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>;</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;        <span class="keywordflow">if</span> (AdjOne) {</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;          ShiftBits = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.countTrailingOnes();</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;          NewC = NewC + 1;</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;          NewCond = (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>) ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a>;</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;          ShiftBits = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.countTrailingZeros();</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;        }</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;        NewC.<a class="code" href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">lshrInPlace</a>(ShiftBits);</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        <span class="keywordflow">if</span> (ShiftBits &amp;&amp; NewC.<a class="code" href="classllvm_1_1APInt.html#a1c9300bfa022ac28948bd4336376e3c1">getMinSignedBits</a>() &lt;= 64 &amp;&amp;</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;            <a class="code" href="classllvm_1_1TargetLoweringBase.html#a1946f350ff6d981eb8ec0f7f044625fd">isLegalICmpImmediate</a>(NewC.<a class="code" href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">getSExtValue</a>()) &amp;&amp;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;            !TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a73287af67238556f601b5255cd6e6274">shouldAvoidTransformToShift</a>(ShValTy, ShiftBits)) {</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, ShValTy, N0,</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;                                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShiftBits, dl, ShiftTy));</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CmpRHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(NewC, dl, ShValTy);</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, CmpRHS, NewCond);</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;        }</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;      }</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;    }</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;  }</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160; </div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ConstantFPSDNode&gt;(N0) &amp;&amp; isa&lt;ConstantFPSDNode&gt;(N1)) {</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;    <span class="keyword">auto</span> *CFP = cast&lt;ConstantFPSDNode&gt;(N1);</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!CFP-&gt;getValueAPF().isNaN() &amp;&amp; <span class="stringliteral">&quot;Unexpected NaN value&quot;</span>);</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160; </div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;    <span class="comment">// Otherwise, we know the RHS is not a NaN.  Simplify the node to drop the</span></div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;    <span class="comment">// constant if knowing that the operand is non-nan is enough.  We prefer to</span></div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;    <span class="comment">// have SETO(x,x) instead of SETO(x, 0.0) because this avoids having to</span></div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;    <span class="comment">// materialize 0.0.</span></div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">ISD::SETO</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::SETUO</a>)</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0, N0, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160; </div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;    <span class="comment">// setcc (fneg x), C -&gt; setcc swap(pred) x, -C</span></div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>) {</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> SwapCond = <a class="code" href="namespacellvm_1_1ISD.html#a9cc23aed232ccdeadbd8648c349236a6">ISD::getSetCCSwappedOperands</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;      <span class="keywordflow">if</span> (DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>() ||</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;          <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(SwapCond, N0.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>())) {</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegN1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>, dl, N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), N1);</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), NegN1, SwapCond);</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;      }</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;    }</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160; </div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;    <span class="comment">// If the condition is not legal, see if we can find an equivalent one</span></div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;    <span class="comment">// which is legal.</span></div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, N0.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>())) {</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;      <span class="comment">// If the comparison was an awkward floating-point == or != and one of</span></div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;      <span class="comment">// the comparison operands is infinity or negative infinity, convert the</span></div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;      <span class="comment">// condition to a less-awkward &lt;= or &gt;=.</span></div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;      <span class="keywordflow">if</span> (CFP-&gt;getValueAPF().isInfinity()) {</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;        <span class="keywordtype">bool</span> IsNegInf = CFP-&gt;getValueAPF().isNegative();</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;        <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> NewCond = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07aeded54fe1be320194e9ff0f5825df0e5">ISD::SETCC_INVALID</a>;</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>) {</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862">ISD::SETOEQ</a>: NewCond = IsNegInf ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea">ISD::SETOLE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f">ISD::SETOGE</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848">ISD::SETUEQ</a>: NewCond = IsNegInf ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0d1546187d4d526fcbdd43183689075e">ISD::SETUNE</a>: NewCond = IsNegInf ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72">ISD::SETONE</a>: NewCond = IsNegInf ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a31d1e24e08b255d6aa290d67d16ce2c9">ISD::SETOGT</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a20257a4d3833cf88afd42caeaed70dde">ISD::SETOLT</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;        }</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;        <span class="keywordflow">if</span> (NewCond != <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07aeded54fe1be320194e9ff0f5825df0e5">ISD::SETCC_INVALID</a> &amp;&amp;</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;            <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(NewCond, N0.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>()))</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0, N1, NewCond);</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;      }</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    }</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;  }</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160; </div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;  <span class="keywordflow">if</span> (N0 == N1) {</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;    <span class="comment">// The sext(setcc()) =&gt; setcc() optimization relies on the appropriate</span></div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;    <span class="comment">// constant being emitted.</span></div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp;</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;           <span class="stringliteral">&quot;Integer types should be handled by FoldSetCC&quot;</span>);</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160; </div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;    <span class="keywordtype">bool</span> EqTrue = <a class="code" href="namespacellvm_1_1ISD.html#a6eaea873272c138c801dae8542b1be46">ISD::isTrueWhenEqual</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;    <span class="keywordtype">unsigned</span> UOF = <a class="code" href="namespacellvm_1_1ISD.html#a7cfab76369f71a9f62a02815c5aa0777">ISD::getUnorderedFlavor</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;    <span class="keywordflow">if</span> (UOF == 2) <span class="comment">// FP operators that are undefined on NaNs.</span></div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(EqTrue, dl, VT, OpVT);</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;    <span class="keywordflow">if</span> (UOF == <span class="keywordtype">unsigned</span>(EqTrue))</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(EqTrue, dl, VT, OpVT);</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;    <span class="comment">// Otherwise, we can&#39;t fold it.  However, we can simplify it to SETUO/SETO</span></div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;    <span class="comment">// if it is not already.</span></div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> NewCond = UOF == 0 ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">ISD::SETO</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::SETUO</a>;</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;    <span class="keywordflow">if</span> (NewCond != <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> &amp;&amp;</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;        (DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">isBeforeLegalizeOps</a>() ||</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;                            <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(NewCond, N0.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>())))</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0, N1, NewCond);</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  }</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160; </div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;      N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>()) {</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> || N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> ||</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>) {</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;      <span class="comment">// Simplify (X+Y) == (X+Z) --&gt;  Y == Z</span></div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;      <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == N1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>()) {</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;        <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0) == N1.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0))</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), N1.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;        <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1) == N1.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;          <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), N1.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a4c3a10f878938b827a268d6ab66dbb77">isCommutativeBinOp</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>())) {</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;          <span class="comment">// If X op Y == Y op X, try other combinations.</span></div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;          <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0) == N1.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;            <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1), N1.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;                                <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;          <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1) == N1.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0))</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;            <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), N1.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1),</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;                                <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;        }</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;      }</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160; </div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;      <span class="comment">// If RHS is a legal immediate value for a compare instruction, we need</span></div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;      <span class="comment">// to be careful about increasing register pressure needlessly.</span></div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;      <span class="keywordtype">bool</span> LegalRHSImm = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160; </div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *RHSC = dyn_cast&lt;ConstantSDNode&gt;(N1)) {</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LHSR = dyn_cast&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;          <span class="comment">// Turn (X+C1) == C2 --&gt; X == C2-C1</span></div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;          <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">hasOneUse</a>())</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;            <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;                dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(RHSC-&gt;getAPIntValue() - LHSR-&gt;getAPIntValue(),</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;                                dl, N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;                <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160; </div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;          <span class="comment">// Turn (X^C1) == C2 --&gt; X == C1^C2</span></div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;          <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a> &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">hasOneUse</a>())</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;            <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;                dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(LHSR-&gt;getAPIntValue() ^ RHSC-&gt;getAPIntValue(),</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;                                dl, N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;                <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;        }</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160; </div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;        <span class="comment">// Turn (C1-X) == C2 --&gt; X == C1-C2</span></div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2ab6db512a611d1ef4ff8069e2bbfd0d">SUBC</a> = dyn_cast&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0)))</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;          <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">hasOneUse</a>())</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;            <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;                dl, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1),</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2ab6db512a611d1ef4ff8069e2bbfd0d">SUBC</a>-&gt;getAPIntValue() - RHSC-&gt;getAPIntValue(),</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;                                dl, N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;                <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160; </div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;        <span class="comment">// Could RHSC fold directly into a compare?</span></div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;        <span class="keywordflow">if</span> (RHSC-&gt;getValueType(0).getSizeInBits() &lt;= 64)</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;          LegalRHSImm = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a1946f350ff6d981eb8ec0f7f044625fd">isLegalICmpImmediate</a>(RHSC-&gt;getSExtValue());</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;      }</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160; </div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;      <span class="comment">// (X+Y) == X --&gt; Y == 0 and similar folds.</span></div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;      <span class="comment">// Don&#39;t do this if X is an immediate that can fold into a cmp</span></div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;      <span class="comment">// instruction and X+Y has other uses. It could be an induction variable</span></div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;      <span class="comment">// chain, and the transform would increase register pressure.</span></div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;      <span class="keywordflow">if</span> (!LegalRHSImm || N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>())</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = foldSetCCWithBinOp(VT, N0, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, dl, DCI))</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;          <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;    }</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160; </div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;    <span class="keywordflow">if</span> (N1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> || N1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> ||</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;        N1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>)</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = foldSetCCWithBinOp(VT, N1, N0, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, dl, DCI))</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160; </div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = foldSetCCWithAnd(VT, N0, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, dl, DCI))</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;  }</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160; </div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;  <span class="comment">// Fold remainder of division by a constant.</span></div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;  <span class="keywordflow">if</span> ((N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a> || N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>) &amp;&amp;</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;      N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp; (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>)) {</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    <span class="comment">// When division is cheap or optimizing for minimum size,</span></div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;    <span class="comment">// fall through to DIVREM creation by skipping this fold.</span></div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa8253e8cffce52e1615827da53089978">isIntDivCheap</a>(VT, Attr) &amp;&amp; !Attr.<a class="code" href="classllvm_1_1AttributeList.html#a61054ea97168f709c1e46345f80c16a3">hasFnAttr</a>(Attribute::MinSize)) {</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;      <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>) {</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Folded = buildUREMEqFold(VT, N0, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, DCI, dl))</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;          <span class="keywordflow">return</span> Folded;</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>) {</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Folded = buildSREMEqFold(VT, N0, N1, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, DCI, dl))</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;          <span class="keywordflow">return</span> Folded;</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;      }</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;    }</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;  }</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160; </div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;  <span class="comment">// Fold away ALL boolean setcc&#39;s.</span></div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;  <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a> &amp;&amp; foldBooleans) {</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Temp;</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>) {</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown integer setcc!&quot;</span>);</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>:  <span class="comment">// X == Y  -&gt; ~(X^Y)</span></div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;      Temp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, OpVT, N0, N1);</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;      N0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, Temp, OpVT);</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;      <span class="keywordflow">if</span> (!DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aa571393f242ebc7da5682b7e85394d60">isCalledByLegalizer</a>())</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Temp.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>:  <span class="comment">// X != Y   --&gt;  (X^Y)</span></div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;      N0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, OpVT, N0, N1);</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>:  <span class="comment">// X &gt;s Y   --&gt;  X == 0 &amp; Y == 1  --&gt;  ~X &amp; Y</span></div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>: <span class="comment">// X &lt;u Y   --&gt;  X == 0 &amp; Y == 1  --&gt;  ~X &amp; Y</span></div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;      Temp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, N0, OpVT);</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;      N0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, OpVT, N1, Temp);</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;      <span class="keywordflow">if</span> (!DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aa571393f242ebc7da5682b7e85394d60">isCalledByLegalizer</a>())</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Temp.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>:  <span class="comment">// X &lt;s Y   --&gt; X == 1 &amp; Y == 0  --&gt;  ~Y &amp; X</span></div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>: <span class="comment">// X &gt;u Y   --&gt; X == 1 &amp; Y == 0  --&gt;  ~Y &amp; X</span></div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;      Temp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, N1, OpVT);</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;      N0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, OpVT, N0, Temp);</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;      <span class="keywordflow">if</span> (!DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aa571393f242ebc7da5682b7e85394d60">isCalledByLegalizer</a>())</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Temp.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>: <span class="comment">// X &lt;=u Y  --&gt; X == 0 | Y == 1  --&gt;  ~X | Y</span></div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a>:  <span class="comment">// X &gt;=s Y  --&gt; X == 0 | Y == 1  --&gt;  ~X | Y</span></div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;      Temp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, N0, OpVT);</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;      N0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, OpVT, N1, Temp);</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;      <span class="keywordflow">if</span> (!DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aa571393f242ebc7da5682b7e85394d60">isCalledByLegalizer</a>())</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Temp.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a>: <span class="comment">// X &gt;=u Y  --&gt; X == 1 | Y == 0  --&gt;  ~Y | X</span></div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>:  <span class="comment">// X &lt;=s Y  --&gt; X == 1 | Y == 0  --&gt;  ~Y | X</span></div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;      Temp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, N1, OpVT);</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;      N0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, OpVT, N0, Temp);</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;    }</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>() != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">MVT::i1</a>) {</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;      <span class="keywordflow">if</span> (!DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aa571393f242ebc7da5682b7e85394d60">isCalledByLegalizer</a>())</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(N0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;      <span class="comment">// FIXME: If running after legalize, we probably can&#39;t do this.</span></div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtendCode = <a class="code" href="classllvm_1_1TargetLoweringBase.html#affa111c5fcedf4f9c7eaf11be9977f32">getExtendForContent</a>(<a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(OpVT));</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;      N0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ExtendCode, dl, VT, N0);</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    }</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;    <span class="keywordflow">return</span> N0;</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;  }</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160; </div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;  <span class="comment">// Could not fold it.</span></div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;}</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;<span class="comment">/// Returns true (and the GlobalValue and the offset) if the node is a</span></div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;<span class="comment">/// GlobalAddress + offset.</span></div>
<div class="line"><a name="l05129"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#adaa48a9ffc9de44a999a9862667ce082"> 5129</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#adaa48a9ffc9de44a999a9862667ce082">TargetLowering::isGAPlusOffset</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *WN, <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *&amp;GA,</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;                                    int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160; </div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = unwrapAddress(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(WN, 0)).getNode();</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160; </div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GASD = dyn_cast&lt;GlobalAddressSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;    GA = GASD-&gt;getGlobal();</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += GASD-&gt;getOffset();</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;  }</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160; </div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N2 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;    <span class="keywordflow">if</span> (isGAPlusOffset(N1.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>(), GA, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)) {</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *V = dyn_cast&lt;ConstantSDNode&gt;(N2)) {</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;        <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += V-&gt;getSExtValue();</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;      }</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isGAPlusOffset(N2.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>(), GA, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)) {</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *V = dyn_cast&lt;ConstantSDNode&gt;(N1)) {</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;        <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += V-&gt;getSExtValue();</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;      }</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;    }</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;  }</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160; </div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;}</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160; </div>
<div class="line"><a name="l05159"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ae68e9d64fc90ea5529fd680ffa730f93"> 5159</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#ae68e9d64fc90ea5529fd680ffa730f93">TargetLowering::PerformDAGCombine</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;                                          <a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">DAGCombinerInfo</a> &amp;DCI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;  <span class="comment">// Default implementation: no optimization.</span></div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;}</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160; </div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;<span class="comment">//  Inline Assembler Implementation Methods</span></div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160; </div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116">TargetLowering::ConstraintType</a></div>
<div class="line"><a name="l05170"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a5ef5081d01bdfeac5defece3566fe14c"> 5170</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#a5ef5081d01bdfeac5defece3566fe14c">TargetLowering::getConstraintType</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Constraint)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = Constraint.<a class="code" href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">size</a>();</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160; </div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> == 1) {</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;    <span class="keywordflow">switch</span> (Constraint[0]) {</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;      <span class="keywordflow">return</span> C_RegisterClass;</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>: <span class="comment">// memory</span></div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>: <span class="comment">// offsetable</span></div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;V&#39;</span>: <span class="comment">// not offsetable</span></div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;      <span class="keywordflow">return</span> C_Memory;</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>: <span class="comment">// Address.</span></div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;      <span class="keywordflow">return</span> C_Address;</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: <span class="comment">// Simple Integer</span></div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>: <span class="comment">// Floating Point Constant</span></div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>: <span class="comment">// Floating Point Constant</span></div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;      <span class="keywordflow">return</span> C_Immediate;</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>: <span class="comment">// Simple Integer or Relocatable Constant</span></div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: <span class="comment">// Relocatable Constant</span></div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>: <span class="comment">// Allow ANY value.</span></div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>: <span class="comment">// Target registers.</span></div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;J&#39;</span>:</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>:</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>:</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>:</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>:</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>:</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>:</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;      <span class="keywordflow">return</span> C_Other;</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;    }</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;  }</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160; </div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &gt; 1 &amp;&amp; Constraint[0] == <span class="charliteral">&#39;{&#39;</span> &amp;&amp; Constraint[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> - 1] == <span class="charliteral">&#39;}&#39;</span>) {</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> == 8 &amp;&amp; Constraint.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(1, 6) == <span class="stringliteral">&quot;memory&quot;</span>) <span class="comment">// &quot;{memory}&quot;</span></div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;      <span class="keywordflow">return</span> C_Memory;</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;    <span class="keywordflow">return</span> C_Register;</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  }</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;  <span class="keywordflow">return</span> C_Unknown;</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;}</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;<span class="comment">/// Try to replace an X constraint, which matches anything, with another that</span></div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;<span class="comment">/// has more specific requirements based on the type of the corresponding</span></div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;<span class="comment">/// operand.</span></div>
<div class="line"><a name="l05216"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a7f014d86215983a968bd908b7e40c5c3"> 5216</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1TargetLowering.html#a7f014d86215983a968bd908b7e40c5c3">TargetLowering::LowerXConstraint</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> ConstraintVT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;  <span class="keywordflow">if</span> (ConstraintVT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>())</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;r&quot;</span>;</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;  <span class="keywordflow">if</span> (ConstraintVT.<a class="code" href="structllvm_1_1EVT.html#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>())</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;f&quot;</span>; <span class="comment">// works for many targets</span></div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;}</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160; </div>
<div class="line"><a name="l05224"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ad5abe848f37c3c9d960e16486c993e7d"> 5224</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#ad5abe848f37c3c9d960e16486c993e7d">TargetLowering::LowerAsmOutputForConstraint</a>(</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Chain, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;OpInfo, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;}</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;<span class="comment">/// Lower the specified operand into the Ops vector.</span></div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;<span class="comment">/// If it is invalid, don&#39;t add anything to Ops.</span></div>
<div class="line"><a name="l05232"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a556f35d8a6a0497584093bab410a2c12"> 5232</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#a556f35d8a6a0497584093bab410a2c12">TargetLowering::LowerAsmOperandForConstraint</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;                                                  std::string &amp;Constraint,</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;                                                  std::vector&lt;SDValue&gt; &amp;Ops,</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;                                                  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160; </div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;  <span class="keywordflow">if</span> (Constraint.length() &gt; 1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160; </div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;  <span class="keywordtype">char</span> ConstraintLetter = Constraint[0];</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;  <span class="keywordflow">switch</span> (ConstraintLetter) {</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:    <span class="comment">// Allows any operand</span></div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:    <span class="comment">// Simple Integer or Relocatable Constant</span></div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:    <span class="comment">// Simple Integer</span></div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: {  <span class="comment">// Relocatable Constant</span></div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160; </div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160; </div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;    <span class="comment">// Match (GA) or (C) or (GA+C) or (GA-C) or ((GA+C)+C) or (((GA+C)+C)+C),</span></div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;    <span class="comment">// etc., since getelementpointer is variadic. We can&#39;t use</span></div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;    <span class="comment">// SelectionDAG::FoldSymbolOffset because it expects the GA to be accessible</span></div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;    <span class="comment">// while in this case the GA may be furthest from the root node which is</span></div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;    <span class="comment">// likely an ISD::ADD.</span></div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) &amp;&amp; ConstraintLetter != <span class="charliteral">&#39;s&#39;</span>) {</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;        <span class="comment">// gcc prints these as sign extended.  Sign extend value to 64 bits</span></div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;        <span class="comment">// now; without this it would get ZExt&#39;d later in</span></div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;        <span class="comment">// ScheduleDAGSDNodes::EmitNode, which is very generic.</span></div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;        <span class="keywordtype">bool</span> IsBool = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getConstantIntValue()-&gt;getBitWidth() == 1;</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755">BooleanContent</a> BCont = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(<a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;        <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtOpc =</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;            IsBool ? <a class="code" href="classllvm_1_1TargetLoweringBase.html#affa111c5fcedf4f9c7eaf11be9977f32">getExtendForContent</a>(BCont) : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>;</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;        int64_t ExtVal =</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;            ExtOpc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a> ? <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue() : <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSExtValue();</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;        Ops.push_back(</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> + ExtVal, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>));</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;      }</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;      <span class="keywordflow">if</span> (ConstraintLetter != <span class="charliteral">&#39;n&#39;</span>) {</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *GA = dyn_cast&lt;GlobalAddressSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;          Ops.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a05c0ae3eb411a8c53a6ce48b66c0d3f8">getTargetGlobalAddress</a>(GA-&gt;getGlobal(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>),</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;                                                   GA-&gt;getValueType(0),</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;                                                   <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> + GA-&gt;getOffset()));</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;        }</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *BA = dyn_cast&lt;BlockAddressSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;          Ops.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac28c549afb9f9751d45c37dc9a9b9a7d">getTargetBlockAddress</a>(</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;              BA-&gt;getBlockAddress(), BA-&gt;getValueType(0),</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;              <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> + BA-&gt;getOffset(), BA-&gt;getTargetFlags()));</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;        }</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;        <span class="keywordflow">if</span> (isa&lt;BasicBlockSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;          Ops.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;        }</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;      }</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> OpCode = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode();</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;      <span class="keywordflow">if</span> (OpCode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> || OpCode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>) {</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0))))</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;        <span class="comment">// Subtraction is not commutative.</span></div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpCode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> &amp;&amp;</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;                 (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1))))</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;        <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += (OpCode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> ? 1 : -1) * <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSExtValue();</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;      }</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;    }</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;  }</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;  }</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;}</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160; </div>
<div class="line"><a name="l05308"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#acbb8a2bf7d82cabfdbc17aced23c5345"> 5308</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#acbb8a2bf7d82cabfdbc17aced23c5345">TargetLowering::CollectTargetIntrinsicOperands</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;                                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;Ops,</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;                                           <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;}</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160; </div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;std::pair&lt;unsigned, const TargetRegisterClass *&gt;</div>
<div class="line"><a name="l05315"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aa6212c76af6dce96dfd1b788278f7239"> 5315</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#aa6212c76af6dce96dfd1b788278f7239">TargetLowering::getRegForInlineAsmConstraint</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *RI,</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;                                             <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Constraint,</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;                                             <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;  <span class="keywordflow">if</span> (Constraint.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>() || Constraint[0] != <span class="charliteral">&#39;{&#39;</span>)</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;    <span class="keywordflow">return</span> std::make_pair(0u, <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *<span class="keyword">&gt;</span>(<span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(*(Constraint.<a class="code" href="classllvm_1_1StringRef.html#a996c7ca3dd6843ba5d55a7c217770270">end</a>() - 1) == <span class="charliteral">&#39;}&#39;</span> &amp;&amp; <span class="stringliteral">&quot;Not a brace enclosed constraint?&quot;</span>);</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160; </div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;  <span class="comment">// Remove the braces from around the name.</span></div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="LVLGen_8cpp.html#a0a198e38a5def54ba58bebc655eda8e7">RegName</a>(Constraint.<a class="code" href="classllvm_1_1StringRef.html#ad04539d64efd58e70c5e828739cf718e">data</a>() + 1, Constraint.<a class="code" href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">size</a>() - 2);</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160; </div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;  std::pair&lt;unsigned, const TargetRegisterClass *&gt; R =</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;      std::make_pair(0u, <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *<span class="keyword">&gt;</span>(<span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160; </div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;  <span class="comment">// Figure out which register class contains this reg.</span></div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC : RI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a07dfd864dd46de4511b08a1487e2719b">regclasses</a>()) {</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;    <span class="comment">// If none of the value types for this register class are valid, we</span></div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;    <span class="comment">// can&#39;t use it.  For example, 64-bit reg classes on 32-bit targets.</span></div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#a59078941da3e0dedf257050df111a8d1">isLegalRC</a>(*RI, *RC))</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160; </div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classuint16__t.html">MCPhysReg</a> &amp;PR : *RC) {</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="LVLGen_8cpp.html#a0a198e38a5def54ba58bebc655eda8e7">RegName</a>.equals_insensitive(RI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ad4f8f1aca0bb01f65be1d7dee43f7f83">getRegAsmName</a>(PR))) {</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;        std::pair&lt;unsigned, const TargetRegisterClass *&gt; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;            std::make_pair(PR, RC);</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160; </div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;        <span class="comment">// If this register class has the requested value type, return it,</span></div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;        <span class="comment">// otherwise keep searching and return the first class found</span></div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;        <span class="comment">// if no other is found which explicitly has the requested type.</span></div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;        <span class="keywordflow">if</span> (RI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#adaf5c0a9d9f810432a85bd299081e0a7">isTypeLegalForClass</a>(*RC, VT))</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;        <span class="keywordflow">if</span> (!R.second)</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;          R = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;      }</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;    }</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;  }</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160; </div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;  <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;}</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160; </div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;<span class="comment">// Constraint Selection.</span></div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;<span class="comment">/// Return true of this is an input operand that is a matching constraint like</span></div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;<span class="comment">/// &quot;4&quot;.</span></div>
<div class="line"><a name="l05359"></a><span class="lineno"><a class="line" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#afd6e275c2987abf718d772b908b06557"> 5359</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#afd6e275c2987abf718d772b908b06557">TargetLowering::AsmOperandInfo::isMatchingInputConstraint</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ConstraintCode.empty() &amp;&amp; <span class="stringliteral">&quot;No known constraint!&quot;</span>);</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;  <span class="keywordflow">return</span> isdigit(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(ConstraintCode[0]));</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;}</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;<span class="comment">/// If this is an input matching constraint, this method returns the output</span></div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;<span class="comment">/// operand it matches.</span></div>
<div class="line"><a name="l05366"></a><span class="lineno"><a class="line" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#af95c6ddf8fb7d70a4d3f25fd996433ec"> 5366</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#af95c6ddf8fb7d70a4d3f25fd996433ec">TargetLowering::AsmOperandInfo::getMatchedOperand</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ConstraintCode.empty() &amp;&amp; <span class="stringliteral">&quot;No known constraint!&quot;</span>);</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;  <span class="keywordflow">return</span> atoi(ConstraintCode.c_str());</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;}</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;<span class="comment">/// Split up the constraint string from the inline assembly value into the</span></div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;<span class="comment">/// specific constraints and their prefixes, and also tie in the associated</span></div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;<span class="comment">/// operand values.</span></div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;<span class="comment">/// If this returns an empty vector, and if the constraint string itself</span></div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;<span class="comment">/// isn&#39;t empty, there was an error parsing.</span></div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1TargetLowering.html#a3db162658a7687e8a5df34f5a6aaa840">TargetLowering::AsmOperandInfoVector</a></div>
<div class="line"><a name="l05377"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ab37c33cd1796e553461f26aefbf498fa"> 5377</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#ab37c33cd1796e553461f26aefbf498fa">TargetLowering::ParseConstraints</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;Call)<span class="keyword"> const </span>{<span class="comment"></span></div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;<span class="comment">  /// Information about all of the constraints.</span></div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1TargetLowering.html#a3db162658a7687e8a5df34f5a6aaa840">AsmOperandInfoVector</a> ConstraintOperands;</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1InlineAsm.html">InlineAsm</a> *<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a> = cast&lt;InlineAsm&gt;(Call.getCalledOperand());</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;  <span class="keywordtype">unsigned</span> maCount = 0; <span class="comment">// Largest number of multiple alternative constraints.</span></div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160; </div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;  <span class="comment">// Do a prepass over the constraints, canonicalizing them, and building up the</span></div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;  <span class="comment">// ConstraintOperands list.</span></div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;  <span class="keywordtype">unsigned</span> ArgNo = 0; <span class="comment">// ArgNo - The argument of the CallInst.</span></div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;  <span class="keywordtype">unsigned</span> ResNo = 0; <span class="comment">// ResNo - The result number of the next output.</span></div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;  <span class="keywordtype">unsigned</span> LabelNo = 0; <span class="comment">// LabelNo - CallBr indirect dest number.</span></div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160; </div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html">InlineAsm::ConstraintInfo</a> &amp;CI : <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>-&gt;ParseConstraints()) {</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;    ConstraintOperands.emplace_back(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(CI));</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;    <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;OpInfo = ConstraintOperands.back();</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160; </div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    <span class="comment">// Update multiple alternative constraint count.</span></div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;    <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#abceda5166e96dabf2ea376669b86699d">multipleAlternatives</a>.size() &gt; maCount)</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;      maCount = OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#abceda5166e96dabf2ea376669b86699d">multipleAlternatives</a>.size();</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160; </div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;    OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a> = <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>;</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160; </div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;    <span class="comment">// Compute the value type for each operand.</span></div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;    <span class="keywordflow">switch</span> (OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a3400e49d5c9d94f96aa1117ecd0b799d">Type</a>) {</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34aabfa616f81b4833fdf462b07aabfa53f">InlineAsm::isOutput</a>:</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;      <span class="comment">// Indirect outputs just consume an argument.</span></div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;      <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#acbf697bfd59727faf13eeb80fdf90d79">isIndirect</a>) {</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;        OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">CallOperandVal</a> = Call.getArgOperand(ArgNo);</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;      }</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160; </div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;      <span class="comment">// The return value of the call is this value.  As such, there is no</span></div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;      <span class="comment">// corresponding argument.</span></div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Call.getType()-&gt;isVoidTy() &amp;&amp; <span class="stringliteral">&quot;Bad inline asm!&quot;</span>);</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(Call.getType())) {</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;        OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a> =</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;            <a class="code" href="classllvm_1_1TargetLoweringBase.html#a795c61cf1031636a1f7d90056da39afc">getSimpleValueType</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, STy-&gt;getElementType(ResNo));</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ResNo == 0 &amp;&amp; <span class="stringliteral">&quot;Asm only has one result!&quot;</span>);</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;        OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a> =</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;            <a class="code" href="classllvm_1_1TargetLoweringBase.html#aee7335adfdf89d9bc00d567a1e53db23">getAsmOperandValueType</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Call.getType()).<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>();</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;      }</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;      ++ResNo;</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6">InlineAsm::isInput</a>:</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;      OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">CallOperandVal</a> = Call.getArgOperand(ArgNo);</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34a2903cfed1fe44719f76b46abcac40955">InlineAsm::isLabel</a>:</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;      OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">CallOperandVal</a> = cast&lt;CallBrInst&gt;(&amp;Call)-&gt;getIndirectDest(LabelNo);</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;      ++LabelNo;</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34adf39e7f7e158f2ccacae6d4446197322">InlineAsm::isClobber</a>:</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;      <span class="comment">// Nothing to do.</span></div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;    }</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160; </div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;    <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">CallOperandVal</a>) {</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;      <a class="code" href="classllvm_1_1Type.html">llvm::Type</a> *OpTy = OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">CallOperandVal</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;      <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#acbf697bfd59727faf13eeb80fdf90d79">isIndirect</a>) {</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;        OpTy = Call.getParamElementType(ArgNo);</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpTy &amp;&amp; <span class="stringliteral">&quot;Indirect operand must have elementtype attribute&quot;</span>);</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;      }</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160; </div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;      <span class="comment">// Look for vector wrapped in a struct. e.g. { &lt;16 x i8&gt; }.</span></div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(OpTy))</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;        <span class="keywordflow">if</span> (STy-&gt;getNumElements() == 1)</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;          OpTy = STy-&gt;getElementType(0);</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160; </div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;      <span class="comment">// If OpTy is not a single value, it may be a struct/union that we</span></div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;      <span class="comment">// can tile with integers.</span></div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;      <span class="keywordflow">if</span> (!OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a5f6edc5246188225b3f49bd5c974c759">isSingleValueType</a>() &amp;&amp; OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">isSized</a>()) {</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;        <span class="keywordtype">unsigned</span> BitSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeSizeInBits(OpTy);</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;        <span class="keywordflow">switch</span> (BitSize) {</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;        <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;        <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;        <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;        <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;        <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;          OpTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>(), BitSize);</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;        }</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;      }</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160; </div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#aee7335adfdf89d9bc00d567a1e53db23">getAsmOperandValueType</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpTy, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;      OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a> = VT.<a class="code" href="structllvm_1_1EVT.html#a19738f4334d4de357b22349bbb56fb5c">isSimple</a>() ? VT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>() : <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>;</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;      ArgNo++;</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;    }</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;  }</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160; </div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;  <span class="comment">// If we have multiple alternative constraints, select the best alternative.</span></div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;  <span class="keywordflow">if</span> (!ConstraintOperands.empty()) {</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;    <span class="keywordflow">if</span> (maCount) {</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;      <span class="keywordtype">unsigned</span> bestMAIndex = 0;</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;      <span class="keywordtype">int</span> bestWeight = -1;</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;      <span class="comment">// weight:  -1 = invalid match, and 0 = so-so match to 5 = good match.</span></div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;      <span class="keywordtype">int</span> weight = -1;</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;      <span class="keywordtype">unsigned</span> maIndex;</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;      <span class="comment">// Compute the sums of the weights for each alternative, keeping track</span></div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;      <span class="comment">// of the best (highest weight) one so far.</span></div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;      <span class="keywordflow">for</span> (maIndex = 0; maIndex &lt; maCount; ++maIndex) {</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;        <span class="keywordtype">int</span> weightSum = 0;</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> cIndex = 0, eIndex = ConstraintOperands.size();</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;             cIndex != eIndex; ++cIndex) {</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;          <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;OpInfo = ConstraintOperands[cIndex];</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;          <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a3400e49d5c9d94f96aa1117ecd0b799d">Type</a> == <a class="code" href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34adf39e7f7e158f2ccacae6d4446197322">InlineAsm::isClobber</a>)</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160; </div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;          <span class="comment">// If this is an output operand with a matching input operand,</span></div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;          <span class="comment">// look up the matching input. If their types mismatch, e.g. one</span></div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;          <span class="comment">// is an integer, the other is floating point, or their sizes are</span></div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;          <span class="comment">// different, flag it as an maCantMatch.</span></div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;          <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#af8e8a75156972d158e5d2ad295dc3abd">hasMatchingInput</a>()) {</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;            <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;Input = ConstraintOperands[OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45ceac563ee359193e4d45e3bafeeb64">MatchingInput</a>];</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;            <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a> != Input.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>) {</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;              <span class="keywordflow">if</span> ((OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>.<a class="code" href="classllvm_1_1MVT.html#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>() !=</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;                   Input.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>.<a class="code" href="classllvm_1_1MVT.html#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>()) ||</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;                  (OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>.<a class="code" href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() !=</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;                   Input.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>.<a class="code" href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>())) {</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;                weightSum = -1; <span class="comment">// Can&#39;t match.</span></div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;              }</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;            }</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;          }</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;          weight = getMultipleConstraintMatchWeight(OpInfo, maIndex);</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;          <span class="keywordflow">if</span> (weight == -1) {</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;            weightSum = -1;</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;          }</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;          weightSum += weight;</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;        }</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;        <span class="comment">// Update best.</span></div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;        <span class="keywordflow">if</span> (weightSum &gt; bestWeight) {</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;          bestWeight = weightSum;</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;          bestMAIndex = maIndex;</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;        }</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;      }</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160; </div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;      <span class="comment">// Now select chosen alternative in each constraint.</span></div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;cInfo : ConstraintOperands)</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;        <span class="keywordflow">if</span> (cInfo.Type != <a class="code" href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34adf39e7f7e158f2ccacae6d4446197322">InlineAsm::isClobber</a>)</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;          cInfo.selectAlternative(bestMAIndex);</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;    }</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;  }</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160; </div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;  <span class="comment">// Check and hook up tied operands, choose constraint code to use.</span></div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> cIndex = 0, eIndex = ConstraintOperands.size();</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;       cIndex != eIndex; ++cIndex) {</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;    <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;OpInfo = ConstraintOperands[cIndex];</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160; </div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;    <span class="comment">// If this is an output operand with a matching input operand, look up the</span></div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;    <span class="comment">// matching input. If their types mismatch, e.g. one is an integer, the</span></div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;    <span class="comment">// other is floating point, or their sizes are different, flag it as an</span></div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;    <span class="comment">// error.</span></div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;    <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#af8e8a75156972d158e5d2ad295dc3abd">hasMatchingInput</a>()) {</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;      <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;Input = ConstraintOperands[OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45ceac563ee359193e4d45e3bafeeb64">MatchingInput</a>];</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160; </div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;      <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a> != Input.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>) {</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;        std::pair&lt;unsigned, const TargetRegisterClass *&gt; MatchRC =</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;            getRegForInlineAsmConstraint(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">ConstraintCode</a>,</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;                                         OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>);</div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;        std::pair&lt;unsigned, const TargetRegisterClass *&gt; InputRC =</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;            getRegForInlineAsmConstraint(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, Input.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">ConstraintCode</a>,</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;                                         Input.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>);</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;        <span class="keywordflow">if</span> ((OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>.<a class="code" href="classllvm_1_1MVT.html#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>() !=</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;             Input.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>.<a class="code" href="classllvm_1_1MVT.html#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>()) ||</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;            (MatchRC.second != InputRC.second)) {</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;          <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unsupported asm: input constraint&quot;</span></div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;                             <span class="stringliteral">&quot; with a matching output constraint of&quot;</span></div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;                             <span class="stringliteral">&quot; incompatible type!&quot;</span>);</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;        }</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;      }</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;    }</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;  }</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160; </div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;  <span class="keywordflow">return</span> ConstraintOperands;</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;}</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;<span class="comment">/// Return an integer indicating how general CT is.</span></div>
<div class="line"><a name="l05559"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#a81468a66b43bb8ae17811337afee9984"> 5559</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="TargetLowering_8cpp.html#a81468a66b43bb8ae17811337afee9984">getConstraintGenerality</a>(<a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116">TargetLowering::ConstraintType</a> CT) {</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;  <span class="keywordflow">switch</span> (CT) {</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a7bc0fe0fa6be5eaabb77e46c8d9ab2c8">TargetLowering::C_Immediate</a>:</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116abc9c279d343d2f957ab51b37ff39e88e">TargetLowering::C_Other</a>:</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116ad4cd486b7360ed34c9553b6c9056b764">TargetLowering::C_Unknown</a>:</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a85f9b8131f0608c03c58e4e23d875dfc">TargetLowering::C_Register</a>:</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89">TargetLowering::C_RegisterClass</a>:</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;    <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C_Memory</a>:</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116abd588753884964e239e61d80ebc2f039">TargetLowering::C_Address</a>:</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;    <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;  }</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid constraint type&quot;</span>);</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;}</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;<span class="comment">/// Examine constraint type and operand type and determine a weight value.</span></div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;<span class="comment">/// This object must already have been set up with the operand type</span></div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;<span class="comment">/// and the current alternative constraint selected.</span></div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abc">TargetLowering::ConstraintWeight</a></div>
<div class="line"><a name="l05580"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a039b096d4eba5c5293451f12200cd011"> 5580</a></span>&#160;  <a class="code" href="classllvm_1_1TargetLowering.html#a039b096d4eba5c5293451f12200cd011">TargetLowering::getMultipleConstraintMatchWeight</a>(</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;    <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;<a class="code" href="LazyValueInfo_8cpp.html#add11cb1bc38847ce70e526af765dcce7">info</a>, <span class="keywordtype">int</span> maIndex)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;  <a class="code" href="classllvm_1_1InlineAsm.html#adbd59a81e5e06598a94e8b0e3b216d99">InlineAsm::ConstraintCodeVector</a> *rCodes;</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;  <span class="keywordflow">if</span> (maIndex &gt;= (<span class="keywordtype">int</span>)<a class="code" href="LazyValueInfo_8cpp.html#add11cb1bc38847ce70e526af765dcce7">info</a>.multipleAlternatives.size())</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;    rCodes = &amp;<a class="code" href="LazyValueInfo_8cpp.html#add11cb1bc38847ce70e526af765dcce7">info</a>.Codes;</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;    rCodes = &amp;<a class="code" href="LazyValueInfo_8cpp.html#add11cb1bc38847ce70e526af765dcce7">info</a>.multipleAlternatives[maIndex].Codes;</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;  <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abc">ConstraintWeight</a> BestWeight = CW_Invalid;</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160; </div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;  <span class="comment">// Loop over the options, keeping track of the most general one.</span></div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string &amp;rCode : *rCodes) {</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;    <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abc">ConstraintWeight</a> weight =</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;        getSingleConstraintMatchWeight(<a class="code" href="LazyValueInfo_8cpp.html#add11cb1bc38847ce70e526af765dcce7">info</a>, rCode.c_str());</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;    <span class="keywordflow">if</span> (weight &gt; BestWeight)</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;      BestWeight = weight;</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;  }</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160; </div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;  <span class="keywordflow">return</span> BestWeight;</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;}</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;<span class="comment">/// Examine constraint type and operand type and determine a weight value.</span></div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;<span class="comment">/// This object must already have been set up with the operand type</span></div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;<span class="comment">/// and the current alternative constraint selected.</span></div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abc">TargetLowering::ConstraintWeight</a></div>
<div class="line"><a name="l05604"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a9609e4232b2d3ff707a9225ea295420d"> 5604</a></span>&#160;  <a class="code" href="classllvm_1_1TargetLowering.html#a9609e4232b2d3ff707a9225ea295420d">TargetLowering::getSingleConstraintMatchWeight</a>(</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;    <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;<a class="code" href="LazyValueInfo_8cpp.html#add11cb1bc38847ce70e526af765dcce7">info</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *constraint)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;  <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abc">ConstraintWeight</a> weight = CW_Invalid;</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CallOperandVal = <a class="code" href="LazyValueInfo_8cpp.html#add11cb1bc38847ce70e526af765dcce7">info</a>.CallOperandVal;</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;    <span class="comment">// If we don&#39;t have a value, we can&#39;t do a match,</span></div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;    <span class="comment">// but allow it at the lowest weight.</span></div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;  <span class="keywordflow">if</span> (!CallOperandVal)</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;    <span class="keywordflow">return</span> CW_Default;</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;  <span class="comment">// Look at the constraint type.</span></div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;  <span class="keywordflow">switch</span> (*constraint) {</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>: <span class="comment">// immediate integer.</span></div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: <span class="comment">// immediate integer with a known value.</span></div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(CallOperandVal))</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;        weight = CW_Constant;</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: <span class="comment">// non-explicit intregal immediate.</span></div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;      <span class="keywordflow">if</span> (isa&lt;GlobalValue&gt;(CallOperandVal))</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;        weight = CW_Constant;</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>: <span class="comment">// immediate float if host format.</span></div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>: <span class="comment">// immediate float.</span></div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ConstantFP&gt;(CallOperandVal))</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;        weight = CW_Constant;</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>: <span class="comment">// memory operand with autodecrement.</span></div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>: <span class="comment">// memory operand with autoincrement.</span></div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>: <span class="comment">// memory operand.</span></div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>: <span class="comment">// offsettable memory operand</span></div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;V&#39;</span>: <span class="comment">// non-offsettable memory operand</span></div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;      weight = CW_Memory;</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>: <span class="comment">// general register.</span></div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>: <span class="comment">// general register, memory operand or immediate integer.</span></div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;              <span class="comment">// note: Clang converts &quot;g&quot; to &quot;imr&quot;.</span></div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;      <span class="keywordflow">if</span> (CallOperandVal-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>())</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;        weight = CW_Register;</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>: <span class="comment">// any operand.</span></div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;    weight = CW_Default;</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;  }</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;  <span class="keywordflow">return</span> weight;</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;}</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;<span class="comment">/// If there are multiple different constraints that we could pick for this</span></div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;<span class="comment">/// operand (e.g. &quot;imr&quot;) try to pick the &#39;best&#39; one.</span></div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;<span class="comment">/// This is somewhat tricky: constraints fall into four classes:</span></div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;<span class="comment">///    Other         -&gt; immediates and magic values</span></div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;<span class="comment">///    Register      -&gt; one specific register</span></div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;<span class="comment">///    RegisterClass -&gt; a group of regs</span></div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;<span class="comment">///    Memory        -&gt; memory</span></div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;<span class="comment">/// Ideally, we would pick the most specific constraint possible: if we have</span></div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;<span class="comment">/// something that fits into a register, we would pick it.  The problem here</span></div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;<span class="comment">/// is that if we have something that could either be in a register or in</span></div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;<span class="comment">/// memory that use of the register could cause selection of *other*</span></div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;<span class="comment">/// operands to fail: they might only succeed if we pick memory.  Because of</span></div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;<span class="comment">/// this the heuristic we use is:</span></div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;<span class="comment">///  1) If there is an &#39;other&#39; constraint, and if the operand is valid for</span></div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;<span class="comment">///     that constraint, use it.  This makes us take advantage of &#39;i&#39;</span></div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;<span class="comment">///     constraints when available.</span></div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;<span class="comment">///  2) Otherwise, pick the most general constraint present.  This prefers</span></div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;<span class="comment">///     &#39;m&#39; over &#39;r&#39;, for example.</span></div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l05669"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#a728be1611c0d0c8b36e3d4e8150da932"> 5669</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="TargetLowering_8cpp.html#a728be1611c0d0c8b36e3d4e8150da932">ChooseConstraint</a>(<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">TargetLowering::AsmOperandInfo</a> &amp;OpInfo,</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI,</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;                             <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> *DAG) {</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">Codes</a>.size() &gt; 1 &amp;&amp; <span class="stringliteral">&quot;Doesn&#39;t have multiple constraint options&quot;</span>);</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;  <span class="keywordtype">unsigned</span> BestIdx = 0;</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;  <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116">TargetLowering::ConstraintType</a> BestType = <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116ad4cd486b7360ed34c9553b6c9056b764">TargetLowering::C_Unknown</a>;</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;  <span class="keywordtype">int</span> BestGenerality = -1;</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160; </div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;  <span class="comment">// Loop over the options, keeping track of the most general one.</span></div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">Codes</a>.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;    <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116">TargetLowering::ConstraintType</a> CType =</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;      TLI.<a class="code" href="classllvm_1_1TargetLowering.html#a5ef5081d01bdfeac5defece3566fe14c">getConstraintType</a>(OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">Codes</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160; </div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;    <span class="comment">// Indirect &#39;other&#39; or &#39;immediate&#39; constraints are not allowed.</span></div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;    <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#acbf697bfd59727faf13eeb80fdf90d79">isIndirect</a> &amp;&amp; !(CType == <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C_Memory</a> ||</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;                               CType == <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a85f9b8131f0608c03c58e4e23d875dfc">TargetLowering::C_Register</a> ||</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;                               CType == <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89">TargetLowering::C_RegisterClass</a>))</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160; </div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;    <span class="comment">// If this is an &#39;other&#39; or &#39;immediate&#39; constraint, see if the operand is</span></div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;    <span class="comment">// valid for it. For example, on X86 we might have an &#39;rI&#39; constraint. If</span></div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;    <span class="comment">// the operand is an integer in the range [0..31] we want to use I (saving a</span></div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;    <span class="comment">// load of a register), otherwise we must use &#39;r&#39;.</span></div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    <span class="keywordflow">if</span> ((CType == <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116abc9c279d343d2f957ab51b37ff39e88e">TargetLowering::C_Other</a> ||</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;         CType == <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a7bc0fe0fa6be5eaabb77e46c8d9ab2c8">TargetLowering::C_Immediate</a>) &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode()) {</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">Codes</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].size() == 1 &amp;&amp;</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;             <span class="stringliteral">&quot;Unhandled multi-letter &#39;other&#39; constraint&quot;</span>);</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;      std::vector&lt;SDValue&gt; ResultOps;</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;      TLI.<a class="code" href="classllvm_1_1TargetLowering.html#a556f35d8a6a0497584093bab410a2c12">LowerAsmOperandForConstraint</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">Codes</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;                                       ResultOps, *DAG);</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;      <span class="keywordflow">if</span> (!ResultOps.empty()) {</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;        BestType = CType;</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;        BestIdx = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;      }</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;    }</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160; </div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;    <span class="comment">// Things with matching constraints can only be registers, per gcc</span></div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;    <span class="comment">// documentation.  This mainly affects &quot;g&quot; constraints.</span></div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;    <span class="keywordflow">if</span> (CType == <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C_Memory</a> &amp;&amp; OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#af8e8a75156972d158e5d2ad295dc3abd">hasMatchingInput</a>())</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160; </div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;    <span class="comment">// This constraint letter is more general than the previous one, use it.</span></div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;    <span class="keywordtype">int</span> Generality = <a class="code" href="TargetLowering_8cpp.html#a81468a66b43bb8ae17811337afee9984">getConstraintGenerality</a>(CType);</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;    <span class="keywordflow">if</span> (Generality &gt; BestGenerality) {</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;      BestType = CType;</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;      BestIdx = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;      BestGenerality = Generality;</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;    }</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;  }</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160; </div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;  OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">ConstraintCode</a> = OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">Codes</a>[BestIdx];</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;  OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#ab6af857f66a2fc271535a12203d7dad6">ConstraintType</a> = BestType;</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;}</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;<span class="comment">/// Determines the constraint code and constraint type to use for the specific</span></div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;<span class="comment">/// AsmOperandInfo, setting OpInfo.ConstraintCode and OpInfo.ConstraintType.</span></div>
<div class="line"><a name="l05726"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#acb82500e7e47e76d087ce8606ae8e625"> 5726</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#acb82500e7e47e76d087ce8606ae8e625">TargetLowering::ComputeConstraintToUse</a>(<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;OpInfo,</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;                                            <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> *DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">Codes</a>.empty() &amp;&amp; <span class="stringliteral">&quot;Must have at least one constraint&quot;</span>);</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160; </div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;  <span class="comment">// Single-letter constraints (&#39;r&#39;) are very common.</span></div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;  <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">Codes</a>.size() == 1) {</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;    OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">ConstraintCode</a> = OpInfo.<a class="code" href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">Codes</a>[0];</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;    OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#ab6af857f66a2fc271535a12203d7dad6">ConstraintType</a> = getConstraintType(OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">ConstraintCode</a>);</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;    <a class="code" href="TargetLowering_8cpp.html#a728be1611c0d0c8b36e3d4e8150da932">ChooseConstraint</a>(OpInfo, *<span class="keyword">this</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG);</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;  }</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160; </div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;  <span class="comment">// &#39;X&#39; matches anything.</span></div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;  <span class="keywordflow">if</span> (OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">ConstraintCode</a> == <span class="stringliteral">&quot;X&quot;</span> &amp;&amp; OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">CallOperandVal</a>) {</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;    <span class="comment">// Constants are handled elsewhere.  For Functions, the type here is the</span></div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;    <span class="comment">// type of the result, which is not what we want to look at; leave them</span></div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;    <span class="comment">// alone.</span></div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *v = OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">CallOperandVal</a>;</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(v) || isa&lt;Function&gt;(v)) {</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;    }</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160; </div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    <span class="keywordflow">if</span> (isa&lt;BasicBlock&gt;(v) || isa&lt;BlockAddress&gt;(v)) {</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;      OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">ConstraintCode</a> = <span class="stringliteral">&quot;i&quot;</span>;</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;    }</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160; </div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;    <span class="comment">// Otherwise, try to resolve it to something we know about by looking at</span></div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;    <span class="comment">// the actual operand type.</span></div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *Repl = LowerXConstraint(OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">ConstraintVT</a>)) {</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;      OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">ConstraintCode</a> = Repl;</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;      OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#ab6af857f66a2fc271535a12203d7dad6">ConstraintType</a> = getConstraintType(OpInfo.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">ConstraintCode</a>);</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;    }</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;  }</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;}</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;<span class="comment">/// Given an exact SDIV by a constant, create a multiplication</span></div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;<span class="comment">/// with the multiplicative inverse of the constant.</span></div>
<div class="line"><a name="l05765"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#af1364d76011b791bbac39ca8470dd2bf"> 5765</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLowering_8cpp.html#af1364d76011b791bbac39ca8470dd2bf">BuildExactSDIV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDNode *&gt;</a> &amp;Created) {</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SVT = VT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShSVT = ShVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160; </div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;  <span class="keywordtype">bool</span> UseSRA = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Shifts, Factors;</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160; </div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;  <span class="keyword">auto</span> BuildSDIVPattern = [&amp;](<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero())</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Divisor = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue();</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = Divisor.<a class="code" href="classllvm_1_1APInt.html#a9a99431f0828d0222c617eb876bc5d34">countTrailingZeros</a>();</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>) {</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;      Divisor.<a class="code" href="classllvm_1_1APInt.html#a7e30b3aa214eba50eed018b5b19fc6aa">ashrInPlace</a>(<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;      UseSRA = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;    }</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;    <span class="comment">// Calculate the multiplicative inverse, using Newton&#39;s method.</span></div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="README-SSE_8txt.html#a50fd53d9a3e55ae78555e11827355565">t</a>;</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Factor = Divisor;</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="README-SSE_8txt.html#a50fd53d9a3e55ae78555e11827355565">t</a> = Divisor * Factor) != 1)</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;      Factor *= <a class="code" href="classllvm_1_1APInt.html">APInt</a>(Divisor.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>(), 2) - <a class="code" href="README-SSE_8txt.html#a50fd53d9a3e55ae78555e11827355565">t</a>;</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;    Shifts.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, dl, ShSVT));</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;    Factors.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Factor, dl, SVT));</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;  };</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160; </div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;  <span class="comment">// Collect all magic values from the build vector.</span></div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ISD.html#a309c11edf22da984f95cf9ba7a699c11">ISD::matchUnaryPredicate</a>(Op1, BuildSDIVPattern))</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160; </div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, Factor;</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;  <span class="keywordflow">if</span> (Op1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>) {</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(ShVT, dl, Shifts);</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;    Factor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, dl, Factors);</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Op1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">ISD::SPLAT_VECTOR</a>) {</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Shifts.size() == 1 &amp;&amp; Factors.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;           <span class="stringliteral">&quot;Expected matchUnaryPredicate to return one element for scalable &quot;</span></div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;           <span class="stringliteral">&quot;vectors&quot;</span>);</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(ShVT, dl, Shifts[0]);</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;    Factor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, dl, Factors[0]);</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;ConstantSDNode&gt;(Op1) &amp;&amp; <span class="stringliteral">&quot;Expected a constant&quot;</span>);</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = Shifts[0];</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;    Factor = Factors[0];</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;  }</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160; </div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = Op0;</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160; </div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;  <span class="comment">// Shift the value upfront if it is even, so the LSB is one.</span></div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;  <span class="keywordflow">if</span> (UseSRA) {</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;    <span class="comment">// TODO: For UDIV use SRL instead of SRA.</span></div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;    <a class="code" href="structllvm_1_1SDNodeFlags.html">SDNodeFlags</a> Flags;</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;    Flags.setExact(<span class="keyword">true</span>);</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;    Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, Res, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, Flags);</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;    Created.push_back(Res.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;  }</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160; </div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, VT, Res, Factor);</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;}</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160; </div>
<div class="line"><a name="l05831"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#af733c4038dc9aeec1b4a4bc962fa2412"> 5831</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#af733c4038dc9aeec1b4a4bc962fa2412">TargetLowering::BuildSDIVPow2</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Divisor,</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;                              <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDNode *&gt;</a> &amp;Created)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;  <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> Attr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">getAttributes</a>();</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>();</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa8253e8cffce52e1615827da53089978">isIntDivCheap</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0), Attr))</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0); <span class="comment">// Lower SDIV as SDIV</span></div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;}</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160; </div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div>
<div class="line"><a name="l05842"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#af7cb7f84d8be2c76df1936f03c598a39"> 5842</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#af7cb7f84d8be2c76df1936f03c598a39">TargetLowering::BuildSREMPow2</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Divisor,</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;                              <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDNode *&gt;</a> &amp;Created)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;  <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> Attr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">getAttributes</a>();</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>();</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa8253e8cffce52e1615827da53089978">isIntDivCheap</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0), Attr))</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0); <span class="comment">// Lower SREM as SREM</span></div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;}</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;<span class="comment">/// Given an ISD::SDIV node expressing a divide by constant,</span></div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;<span class="comment">/// return a DAG expression to select that will generate the same value by</span></div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;<span class="comment">/// multiplying by a magic number.</span></div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;<span class="comment">/// Ref: &quot;Hacker&#39;s Delight&quot; or &quot;The PowerPC Compiler Writer&#39;s Guide&quot;.</span></div>
<div class="line"><a name="l05856"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#af6f999a919162f7473555e2baf045bfc"> 5856</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#af6f999a919162f7473555e2baf045bfc">TargetLowering::BuildSDIV</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;                                  <span class="keywordtype">bool</span> IsAfterLegalization,</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDNode *&gt;</a> &amp;Created)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SVT = VT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShSVT = ShVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;  <span class="keywordtype">unsigned</span> EltBits = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> MulVT;</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160; </div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;  <span class="comment">// Check to see if we can do this.</span></div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;  <span class="comment">// FIXME: We should be more aggressive here.</span></div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT)) {</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;    <span class="comment">// Limit this to simple scalars for now.</span></div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() || !VT.<a class="code" href="structllvm_1_1EVT.html#a19738f4334d4de357b22349bbb56fb5c">isSimple</a>())</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160; </div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;    <span class="comment">// If this type will be promoted to a large enough type with a legal</span></div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;    <span class="comment">// multiply operation, we can go ahead and do this transform.</span></div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#ad859786d7e54bdc5c568ac20c69816e0">getTypeAction</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>()) != <a class="code" href="classllvm_1_1TargetLoweringBase.html#a35dc101b509721ffbfb58aba316de681a26f35604723482a1aee6514940c2987d">TypePromoteInteger</a>)</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160; </div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;    MulVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a77f7add8733417370a56154e8b560617">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;    <span class="keywordflow">if</span> (MulVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &lt; (2 * EltBits) ||</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, MulVT))</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;  }</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160; </div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;  <span class="comment">// If the sdiv has an &#39;exact&#39; bit we can use a simpler lowering.</span></div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getFlags().hasExact())</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="TargetLowering_8cpp.html#af1364d76011b791bbac39ca8470dd2bf">BuildExactSDIV</a>(*<span class="keyword">this</span>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, dl, DAG, Created);</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160; </div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> MagicFactors, Factors, Shifts, ShiftMasks;</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160; </div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;  <span class="keyword">auto</span> BuildSDIVPattern = [&amp;](<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero())</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160; </div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Divisor = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue();</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;    <a class="code" href="structllvm_1_1SignedDivisionByConstantInfo.html">SignedDivisionByConstantInfo</a> magics = <a class="code" href="structllvm_1_1SignedDivisionByConstantInfo.html#affa10b6ac03585fea6d8f1832071ebd5">SignedDivisionByConstantInfo::get</a>(Divisor);</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;    <span class="keywordtype">int</span> NumeratorFactor = 0;</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;    <span class="keywordtype">int</span> ShiftMask = -1;</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160; </div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;    <span class="keywordflow">if</span> (Divisor.<a class="code" href="classllvm_1_1APInt.html#aea5f26deda5ef97e02f6afc57c0c3920">isOne</a>() || Divisor.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;      <span class="comment">// If d is +1/-1, we just multiply the numerator by +1/-1.</span></div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;      NumeratorFactor = Divisor.<a class="code" href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">getSExtValue</a>();</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;      magics.<a class="code" href="structllvm_1_1SignedDivisionByConstantInfo.html#aa54b0543973a6ef974f769d0e9383850">Magic</a> = 0;</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;      magics.<a class="code" href="structllvm_1_1SignedDivisionByConstantInfo.html#a4cfbfc736687e2b99cd2cc6cd2d208c4">ShiftAmount</a> = 0;</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;      ShiftMask = 0;</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Divisor.<a class="code" href="classllvm_1_1APInt.html#aa17c104fbda554c818cf87e53f32f20a">isStrictlyPositive</a>() &amp;&amp; magics.<a class="code" href="structllvm_1_1SignedDivisionByConstantInfo.html#aa54b0543973a6ef974f769d0e9383850">Magic</a>.<a class="code" href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">isNegative</a>()) {</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;      <span class="comment">// If d &gt; 0 and m &lt; 0, add the numerator.</span></div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;      NumeratorFactor = 1;</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Divisor.<a class="code" href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">isNegative</a>() &amp;&amp; magics.<a class="code" href="structllvm_1_1SignedDivisionByConstantInfo.html#aa54b0543973a6ef974f769d0e9383850">Magic</a>.<a class="code" href="classllvm_1_1APInt.html#aa17c104fbda554c818cf87e53f32f20a">isStrictlyPositive</a>()) {</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;      <span class="comment">// If d &lt; 0 and m &gt; 0, subtract the numerator.</span></div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;      NumeratorFactor = -1;</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;    }</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160; </div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;    MagicFactors.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(magics.<a class="code" href="structllvm_1_1SignedDivisionByConstantInfo.html#aa54b0543973a6ef974f769d0e9383850">Magic</a>, dl, SVT));</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;    Factors.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(NumeratorFactor, dl, SVT));</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;    Shifts.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(magics.<a class="code" href="structllvm_1_1SignedDivisionByConstantInfo.html#a4cfbfc736687e2b99cd2cc6cd2d208c4">ShiftAmount</a>, dl, ShSVT));</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;    ShiftMasks.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShiftMask, dl, SVT));</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;  };</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160; </div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160; </div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;  <span class="comment">// Collect the shifts / magic values from each element.</span></div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ISD.html#a309c11edf22da984f95cf9ba7a699c11">ISD::matchUnaryPredicate</a>(N1, BuildSDIVPattern))</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160; </div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MagicFactor, Factor, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, ShiftMask;</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;  <span class="keywordflow">if</span> (N1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>) {</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    MagicFactor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, dl, MagicFactors);</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;    Factor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, dl, Factors);</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(ShVT, dl, Shifts);</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;    ShiftMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, dl, ShiftMasks);</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">ISD::SPLAT_VECTOR</a>) {</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MagicFactors.size() == 1 &amp;&amp; Factors.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;           Shifts.size() == 1 &amp;&amp; ShiftMasks.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;           <span class="stringliteral">&quot;Expected matchUnaryPredicate to return one element for scalable &quot;</span></div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;           <span class="stringliteral">&quot;vectors&quot;</span>);</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;    MagicFactor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, dl, MagicFactors[0]);</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;    Factor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, dl, Factors[0]);</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(ShVT, dl, Shifts[0]);</div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;    ShiftMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, dl, ShiftMasks[0]);</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;ConstantSDNode&gt;(N1) &amp;&amp; <span class="stringliteral">&quot;Expected a constant&quot;</span>);</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;    MagicFactor = MagicFactors[0];</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;    Factor = Factors[0];</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = Shifts[0];</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;    ShiftMask = ShiftMasks[0];</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;  }</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160; </div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;  <span class="comment">// Multiply the numerator (operand 0) by the magic value.</span></div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;  <span class="comment">// FIXME: We should support doing a MUL in a wider type.</span></div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;  <span class="keyword">auto</span> GetMULHS = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>) {</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;    <span class="comment">// If the type isn&#39;t legal, use a wider mul of the the type calculated</span></div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    <span class="comment">// earlier.</span></div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT)) {</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;      <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>, dl, MulVT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;      <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>, dl, MulVT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;      <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, MulVT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;      <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, MulVT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>,</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae2810b3cf01b222cc31fac876f9580ee">getShiftAmountConstant</a>(EltBits, MulVT, dl));</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;    }</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160; </div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">ISD::MULHS</a>, VT, IsAfterLegalization))</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">ISD::MULHS</a>, dl, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>, VT, IsAfterLegalization)) {</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoHi =</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, VT), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(LoHi.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>(), 1);</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;    }</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;  };</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160; </div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Q = GetMULHS(N0, MagicFactor);</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;  <span class="keywordflow">if</span> (!Q)</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160; </div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;  Created.push_back(Q.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160; </div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;  <span class="comment">// (Optionally) Add/subtract the numerator using Factor.</span></div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;  Factor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, VT, N0, Factor);</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;  Created.push_back(Factor.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;  Q = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, VT, Q, Factor);</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;  Created.push_back(Q.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160; </div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;  <span class="comment">// Shift right algebraic by shift value.</span></div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;  Q = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, Q, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;  Created.push_back(Q.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160; </div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;  <span class="comment">// Extract the sign bit, mask it and add it to the quotient.</span></div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SignShift = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(EltBits - 1, dl, ShVT);</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classT.html">T</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Q, SignShift);</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;  Created.push_back(<a class="code" href="classT.html">T</a>.getNode());</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;  <a class="code" href="classT.html">T</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, <a class="code" href="classT.html">T</a>, ShiftMask);</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;  Created.push_back(<a class="code" href="classT.html">T</a>.getNode());</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, VT, Q, <a class="code" href="classT.html">T</a>);</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;}</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;<span class="comment">/// Given an ISD::UDIV node expressing a divide by constant,</span></div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;<span class="comment">/// return a DAG expression to select that will generate the same value by</span></div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;<span class="comment">/// multiplying by a magic number.</span></div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;<span class="comment">/// Ref: &quot;Hacker&#39;s Delight&quot; or &quot;The PowerPC Compiler Writer&#39;s Guide&quot;.</span></div>
<div class="line"><a name="l06004"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aab02cae39021298de712f76e16cbc9fd"> 6004</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#aab02cae39021298de712f76e16cbc9fd">TargetLowering::BuildUDIV</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;                                  <span class="keywordtype">bool</span> IsAfterLegalization,</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDNode *&gt;</a> &amp;Created)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SVT = VT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShSVT = ShVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;  <span class="keywordtype">unsigned</span> EltBits = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> MulVT;</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160; </div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;  <span class="comment">// Check to see if we can do this.</span></div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;  <span class="comment">// FIXME: We should be more aggressive here.</span></div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT)) {</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;    <span class="comment">// Limit this to simple scalars for now.</span></div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() || !VT.<a class="code" href="structllvm_1_1EVT.html#a19738f4334d4de357b22349bbb56fb5c">isSimple</a>())</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160; </div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;    <span class="comment">// If this type will be promoted to a large enough type with a legal</span></div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;    <span class="comment">// multiply operation, we can go ahead and do this transform.</span></div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#ad859786d7e54bdc5c568ac20c69816e0">getTypeAction</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>()) != <a class="code" href="classllvm_1_1TargetLoweringBase.html#a35dc101b509721ffbfb58aba316de681a26f35604723482a1aee6514940c2987d">TypePromoteInteger</a>)</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160; </div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;    MulVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a77f7add8733417370a56154e8b560617">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;    <span class="keywordflow">if</span> (MulVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &lt; (2 * EltBits) ||</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, MulVT))</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;  }</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160; </div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160; </div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;  <span class="comment">// Try to use leading zeros of the dividend to reduce the multiplier and</span></div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;  <span class="comment">// avoid expensive fixups.</span></div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;  <span class="comment">// TODO: Support vectors.</span></div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;  <span class="keywordtype">unsigned</span> LeadingZeros = 0;</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;  <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; isa&lt;ConstantSDNode&gt;(N1)) {</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm.html#ac926ae0b6871c2207db3e787f6dbcb80">isOneConstant</a>(N1) &amp;&amp; <span class="stringliteral">&quot;Unexpected divisor&quot;</span>);</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;    LeadingZeros = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(N0).<a class="code" href="structllvm_1_1KnownBits.html#a7f47812e8e75b0616a97d7004e5fb909">countMinLeadingZeros</a>();</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;    <span class="comment">// UnsignedDivisionByConstantInfo doesn&#39;t work correctly if leading zeros in</span></div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;    <span class="comment">// the dividend exceeds the leading zeros for the divisor.</span></div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;    LeadingZeros =</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;        <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(LeadingZeros,</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;                 cast&lt;ConstantSDNode&gt;(N1)-&gt;getAPIntValue().<a class="code" href="namespacellvm.html#acd2b6fb514f63152133c43a7e4a11b03">countLeadingZeros</a>());</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;  }</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160; </div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;  <span class="keywordtype">bool</span> UseNPQ = <span class="keyword">false</span>, UsePreShift = <span class="keyword">false</span>, UsePostShift = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> PreShifts, PostShifts, MagicFactors, NPQFactors;</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160; </div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;  <span class="keyword">auto</span> BuildUDIVPattern = [&amp;](<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero())</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>&amp; Divisor = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue();</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160; </div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PreShift, MagicFactor, NPQFactor, PostShift;</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160; </div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;    <span class="comment">// Magic algorithm doesn&#39;t work for division by 1. We need to emit a select</span></div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;    <span class="comment">// at the end.</span></div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;    <span class="keywordflow">if</span> (Divisor.<a class="code" href="classllvm_1_1APInt.html#aea5f26deda5ef97e02f6afc57c0c3920">isOne</a>()) {</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;      PreShift = PostShift = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(ShSVT);</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;      MagicFactor = NPQFactor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(SVT);</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;      <a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html">UnsignedDivisionByConstantInfo</a> magics =</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;          <a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a6a7ecd0f6bb250280a31e56173931e31">UnsignedDivisionByConstantInfo::get</a>(Divisor, LeadingZeros);</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160; </div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;      MagicFactor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a890b63a18fc3e328809c691b17c776ed">Magic</a>, dl, SVT);</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160; </div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a1fe2f52cb1640befcb5c3da7d3e37c6d">PreShift</a> &lt; Divisor.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>() &amp;&amp;</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;             <span class="stringliteral">&quot;We shouldn&#39;t generate an undefined shift!&quot;</span>);</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#aadab71767738ad10ccb7600fa732fd96">PostShift</a> &lt; Divisor.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>() &amp;&amp;</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;             <span class="stringliteral">&quot;We shouldn&#39;t generate an undefined shift!&quot;</span>);</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a1b8b2eee90075caf0407679fb780f5c9">IsAdd</a> || magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a1fe2f52cb1640befcb5c3da7d3e37c6d">PreShift</a> == 0) &amp;&amp;</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;             <span class="stringliteral">&quot;Unexpected pre-shift&quot;</span>);</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;      PreShift = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a1fe2f52cb1640befcb5c3da7d3e37c6d">PreShift</a>, dl, ShSVT);</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;      PostShift = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#aadab71767738ad10ccb7600fa732fd96">PostShift</a>, dl, ShSVT);</div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;      NPQFactor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;          magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a1b8b2eee90075caf0407679fb780f5c9">IsAdd</a> ? <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(EltBits, EltBits - 1)</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;                       : <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(EltBits),</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;          dl, SVT);</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;      UseNPQ |= magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a1b8b2eee90075caf0407679fb780f5c9">IsAdd</a>;</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;      UsePreShift |= magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a1fe2f52cb1640befcb5c3da7d3e37c6d">PreShift</a> != 0;</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;      UsePostShift |= magics.<a class="code" href="structllvm_1_1UnsignedDivisionByConstantInfo.html#aadab71767738ad10ccb7600fa732fd96">PostShift</a> != 0;</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;    }</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160; </div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;    PreShifts.push_back(PreShift);</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;    MagicFactors.push_back(MagicFactor);</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;    NPQFactors.push_back(NPQFactor);</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;    PostShifts.push_back(PostShift);</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;  };</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160; </div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;  <span class="comment">// Collect the shifts/magic values from each element.</span></div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ISD.html#a309c11edf22da984f95cf9ba7a699c11">ISD::matchUnaryPredicate</a>(N1, BuildUDIVPattern))</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160; </div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PreShift, PostShift, MagicFactor, NPQFactor;</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;  <span class="keywordflow">if</span> (N1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>) {</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;    PreShift = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(ShVT, dl, PreShifts);</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;    MagicFactor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, dl, MagicFactors);</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;    NPQFactor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, dl, NPQFactors);</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;    PostShift = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(ShVT, dl, PostShifts);</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N1.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">ISD::SPLAT_VECTOR</a>) {</div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PreShifts.size() == 1 &amp;&amp; MagicFactors.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;           NPQFactors.size() == 1 &amp;&amp; PostShifts.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;           <span class="stringliteral">&quot;Expected matchUnaryPredicate to return one for scalable vectors&quot;</span>);</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;    PreShift = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(ShVT, dl, PreShifts[0]);</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;    MagicFactor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, dl, MagicFactors[0]);</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;    NPQFactor = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, dl, NPQFactors[0]);</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;    PostShift = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(ShVT, dl, PostShifts[0]);</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;ConstantSDNode&gt;(N1) &amp;&amp; <span class="stringliteral">&quot;Expected a constant&quot;</span>);</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;    PreShift = PreShifts[0];</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;    MagicFactor = MagicFactors[0];</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;    PostShift = PostShifts[0];</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;  }</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160; </div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Q = N0;</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;  <span class="keywordflow">if</span> (UsePreShift) {</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;    Q = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Q, PreShift);</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;    Created.push_back(Q.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;  }</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160; </div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;  <span class="comment">// FIXME: We should support doing a MUL in a wider type.</span></div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;  <span class="keyword">auto</span> GetMULHU = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>) {</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;    <span class="comment">// If the type isn&#39;t legal, use a wider mul of the the type calculated</span></div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;    <span class="comment">// earlier.</span></div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT)) {</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;      <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, MulVT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;      <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, MulVT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;      <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, MulVT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;      <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, MulVT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>,</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae2810b3cf01b222cc31fac876f9580ee">getShiftAmountConstant</a>(EltBits, MulVT, dl));</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;    }</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160; </div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">ISD::MULHU</a>, VT, IsAfterLegalization))</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">ISD::MULHU</a>, dl, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>, VT, IsAfterLegalization)) {</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoHi =</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, VT), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(LoHi.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>(), 1);</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;    }</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(); <span class="comment">// No mulhu or equivalent</span></div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;  };</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160; </div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;  <span class="comment">// Multiply the numerator (operand 0) by the magic value.</span></div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;  Q = GetMULHU(Q, MagicFactor);</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;  <span class="keywordflow">if</span> (!Q)</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160; </div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;  Created.push_back(Q.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160; </div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;  <span class="keywordflow">if</span> (UseNPQ) {</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NPQ = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, N0, Q);</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;    Created.push_back(NPQ.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160; </div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;    <span class="comment">// For vectors we might have a mix of non-NPQ/NPQ paths, so use</span></div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;    <span class="comment">// MULHU to act as a SRL-by-1 for NPQ, else multiply by zero.</span></div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>())</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;      NPQ = GetMULHU(NPQ, NPQFactor);</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;      NPQ = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, NPQ, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, ShVT));</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160; </div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;    Created.push_back(NPQ.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160; </div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;    Q = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, VT, NPQ, Q);</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;    Created.push_back(Q.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;  }</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160; </div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;  <span class="keywordflow">if</span> (UsePostShift) {</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;    Q = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Q, PostShift);</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;    Created.push_back(Q.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;  }</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160; </div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SetCCVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160; </div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> One = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, VT);</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IsOne = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT, N1, One, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, IsOne, N0, Q);</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;}</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;<span class="comment">/// If all values in Values that *don&#39;t* match the predicate are same &#39;splat&#39;</span></div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;<span class="comment">/// value, then replace all values with that splat value.</span></div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;<span class="comment">/// Else, if AlternativeReplacement was provided, then replace all values that</span></div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;<span class="comment">/// do match predicate with AlternativeReplacement value.</span></div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06190"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#aae6594d69bd253616ae16674187e6396"> 6190</a></span>&#160;<a class="code" href="TargetLowering_8cpp.html#aae6594d69bd253616ae16674187e6396">turnVectorIntoSplatVector</a>(<a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;SDValue&gt;</a> Values,</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;                          <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">bool</span>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>)&gt; <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>,</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;                          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AlternativeReplacement = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>()) {</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Replacement;</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;  <span class="comment">// Is there a value for which the Predicate does *NOT* match? What is it?</span></div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;  <span class="keyword">auto</span> SplatValue = <a class="code" href="namespacellvm.html#a7b49849160e7f089916f83c52511da9e">llvm::find_if_not</a>(Values, <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>);</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;  <span class="keywordflow">if</span> (SplatValue != Values.<a class="code" href="classllvm_1_1MutableArrayRef.html#a9d959094f4544749c129c46034cbed67">end</a>()) {</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;    <span class="comment">// Does Values consist only of SplatValue&#39;s and values matching Predicate?</span></div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a>(Values, [<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, SplatValue](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1Value.html">Value</a>) {</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Value.html">Value</a> == *SplatValue || <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>);</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;        })) <span class="comment">// Then we shall replace values matching predicate with SplatValue.</span></div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;      Replacement = *SplatValue;</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;  }</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;  <span class="keywordflow">if</span> (!Replacement) {</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;    <span class="comment">// Oops, we did not find the &quot;baseline&quot; splat value.</span></div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;    <span class="keywordflow">if</span> (!AlternativeReplacement)</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;      <span class="keywordflow">return</span>; <span class="comment">// Nothing to do.</span></div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    <span class="comment">// Let&#39;s replace with provided value then.</span></div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;    Replacement = AlternativeReplacement;</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;  }</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;  std::replace_if(Values.<a class="code" href="classllvm_1_1MutableArrayRef.html#aae2bf8b46988a2fc0589e95903930c19">begin</a>(), Values.<a class="code" href="classllvm_1_1MutableArrayRef.html#a9d959094f4544749c129c46034cbed67">end</a>(), <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, Replacement);</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;}</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;<span class="comment">/// Given an ISD::UREM used only by an ISD::SETEQ or ISD::SETNE</span></div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;<span class="comment">/// where the divisor is constant and the comparison target is zero,</span></div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;<span class="comment">/// return a DAG expression that will generate the same comparison result</span></div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;<span class="comment">/// using only multiplications, additions and shifts/rotations.</span></div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;<span class="comment">/// Ref: &quot;Hacker&#39;s Delight&quot; 10-17.</span></div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TargetLowering::buildUREMEqFold(<a class="code" href="structllvm_1_1EVT.html">EVT</a> SETCCVT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> REMNode,</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CompTargetNode,</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;                                        <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;                                        DAGCombinerInfo &amp;DCI,</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDNode *, 5&gt;</a> Built;</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Folded = prepareUREMEqFold(SETCCVT, REMNode, CompTargetNode, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;                                         DCI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Built)) {</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : Built)</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;      DCI.AddToWorklist(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;    <span class="keywordflow">return</span> Folded;</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;  }</div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160; </div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;}</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160; </div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;TargetLowering::prepareUREMEqFold(<a class="code" href="structllvm_1_1EVT.html">EVT</a> SETCCVT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> REMNode,</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CompTargetNode, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;                                  DAGCombinerInfo &amp;DCI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDNode *&gt;</a> &amp;Created)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;  <span class="comment">// fold (seteq/ne (urem N, D), 0) -&gt; (setule/ugt (rotr (mul N, P), K), Q)</span></div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;  <span class="comment">// - D must be constant, with D = D0 * 2^K where D0 is odd</span></div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;  <span class="comment">// - P is the multiplicative inverse of D0 modulo 2^W</span></div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;  <span class="comment">// - Q = floor(((2^W) - 1) / D)</span></div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;  <span class="comment">// where W is the width of the common type of N and D.</span></div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;         <span class="stringliteral">&quot;Only applicable for (in)equality comparisons.&quot;</span>);</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160; </div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.DAG;</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160; </div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = REMNode.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SVT = VT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), !DCI.isBeforeLegalize());</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShSVT = ShVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160; </div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;  <span class="comment">// If MUL is unavailable, we cannot proceed in any case.</span></div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;  <span class="keywordflow">if</span> (!DCI.isBeforeLegalizeOps() &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, VT))</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160; </div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;  <span class="keywordtype">bool</span> ComparingWithAllZeros = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;  <span class="keywordtype">bool</span> AllComparisonsWithNonZerosAreTautological = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;  <span class="keywordtype">bool</span> HadTautologicalLanes = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;  <span class="keywordtype">bool</span> AllLanesAreTautological = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;  <span class="keywordtype">bool</span> HadEvenDivisor = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;  <span class="keywordtype">bool</span> AllDivisorsArePowerOfTwo = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;  <span class="keywordtype">bool</span> HadTautologicalInvertedLanes = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> PAmts, KAmts, QAmts, IAmts;</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160; </div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;  <span class="keyword">auto</span> BuildUREMPattern = [&amp;](<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CDiv, <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CCmp) {</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;    <span class="comment">// Division by 0 is UB. Leave it to be constant-folded elsewhere.</span></div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    <span class="keywordflow">if</span> (CDiv-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#ae91378660e4c7198b4de645a1d207b91">isZero</a>())</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160; </div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = CDiv-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a8913b35cb4401e4e849fa244c7c279d1">getAPIntValue</a>();</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a> = CCmp-&gt;getAPIntValue();</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160; </div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;    ComparingWithAllZeros &amp;= <a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>.isZero();</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160; </div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;    <span class="comment">// x u% C1` is *always* less than C1. So given `x u% C1 == C2`,</span></div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;    <span class="comment">// if C2 is not less than C1, the comparison is always false.</span></div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;    <span class="comment">// But we will only be able to produce the comparison that will give the</span></div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;    <span class="comment">// opposive tautological answer. So this lane would need to be fixed up.</span></div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;    <span class="keywordtype">bool</span> TautologicalInvertedLane = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.ule(Cmp);</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;    HadTautologicalInvertedLanes |= TautologicalInvertedLane;</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160; </div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;    <span class="comment">// If all lanes are tautological (either all divisors are ones, or divisor</span></div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;    <span class="comment">// is not greater than the constant we are comparing with),</span></div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;    <span class="comment">// we will prefer to avoid the fold.</span></div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;    <span class="keywordtype">bool</span> TautologicalLane = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isOne() || TautologicalInvertedLane;</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;    HadTautologicalLanes |= TautologicalLane;</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;    AllLanesAreTautological &amp;= TautologicalLane;</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160; </div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;    <span class="comment">// If we are comparing with non-zero, we need&#39;ll need  to subtract said</span></div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;    <span class="comment">// comparison value from the LHS. But there is no point in doing that if</span></div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;    <span class="comment">// every lane where we are comparing with non-zero is tautological..</span></div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>.isZero())</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;      AllComparisonsWithNonZerosAreTautological &amp;= TautologicalLane;</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160; </div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;    <span class="comment">// Decompose D into D0 * 2^K</span></div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;    <span class="keywordtype">unsigned</span> K = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.countTrailingZeros();</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isOne() || (K == 0)) &amp;&amp; <span class="stringliteral">&quot;For divisor &#39;1&#39; we won&#39;t rotate.&quot;</span>);</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> D0 = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.lshr(K);</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160; </div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;    <span class="comment">// D is even if it has trailing zeros.</span></div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;    HadEvenDivisor |= (K != 0);</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;    <span class="comment">// D is a power-of-two if D0 is one.</span></div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;    <span class="comment">// If all divisors are power-of-two, we will prefer to avoid the fold.</span></div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;    AllDivisorsArePowerOfTwo &amp;= D0.<a class="code" href="classllvm_1_1APInt.html#aea5f26deda5ef97e02f6afc57c0c3920">isOne</a>();</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160; </div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;    <span class="comment">// P = inv(D0, 2^W)</span></div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;    <span class="comment">// 2^W requires W + 1 bits, so we have to extend and then truncate.</span></div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getBitWidth();</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = D0.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> + 1)</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;                  .<a class="code" href="classllvm_1_1APInt.html#a28ee15b0286415cce5599d4fb9f9ce02">multiplicativeInverse</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> + 1))</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;                  .<a class="code" href="README-FPStack_8txt.html#aeb9a134c2755c0ad7801bf630a790904">trunc</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>);</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.isZero() &amp;&amp; <span class="stringliteral">&quot;No multiplicative inverse!&quot;</span>); <span class="comment">// unreachable</span></div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((D0 * <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>).isOne() &amp;&amp; <span class="stringliteral">&quot;Multiplicative inverse basic check failed.&quot;</span>);</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160; </div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;    <span class="comment">// Q = floor((2^W - 1) u/ D)</span></div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;    <span class="comment">// R = ((2^W - 1) u% D)</span></div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Q, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>;</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a0f0a665210e453bb16b4bf1861dbdd58">APInt::udivrem</a>(<a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>), <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, Q, R);</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160; </div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;    <span class="comment">// If we are comparing with zero, then that comparison constant is okay,</span></div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;    <span class="comment">// else it may need to be one less than that.</span></div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>.ugt(R))</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;      Q -= 1;</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160; </div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(ShSVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()).<a class="code" href="classllvm_1_1APInt.html#a46a7cbf3724080a5f4f4c7e7a4551e26">ugt</a>(K) &amp;&amp;</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;           <span class="stringliteral">&quot;We are expecting that K is always less than all-ones for ShSVT&quot;</span>);</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160; </div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;    <span class="comment">// If the lane is tautological the result can be constant-folded.</span></div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;    <span class="keywordflow">if</span> (TautologicalLane) {</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;      <span class="comment">// Set P and K amount to a bogus values so we can try to splat them.</span></div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;      <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = 0;</div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;      K = -1;</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;      <span class="comment">// And ensure that comparison constant is tautological,</span></div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;      <span class="comment">// it will always compare true/false.</span></div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;      Q = -1;</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;    }</div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160; </div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;    PAmts.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SVT));</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;    KAmts.push_back(</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(ShSVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>(), K), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShSVT));</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;    QAmts.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Q, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SVT));</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;  };</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160; </div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = REMNode.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = REMNode.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160; </div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;  <span class="comment">// Collect the values from each element.</span></div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ISD.html#ab283a383171c46fb4445cb64eb6b687a">ISD::matchBinaryPredicate</a>(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, CompTargetNode, BuildUREMPattern))</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160; </div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;  <span class="comment">// If all lanes are tautological, the result can be constant-folded.</span></div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;  <span class="keywordflow">if</span> (AllLanesAreTautological)</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160; </div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;  <span class="comment">// If this is a urem by a powers-of-two, avoid the fold since it can be</span></div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;  <span class="comment">// best implemented as a bit test.</span></div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;  <span class="keywordflow">if</span> (AllDivisorsArePowerOfTwo)</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160; </div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PVal, KVal, QVal;</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>) {</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;    <span class="keywordflow">if</span> (HadTautologicalLanes) {</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;      <span class="comment">// Try to turn PAmts into a splat, since we don&#39;t care about the values</span></div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;      <span class="comment">// that are currently &#39;0&#39;. If we can&#39;t, just keep &#39;0&#39;`s.</span></div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;      <a class="code" href="TargetLowering_8cpp.html#aae6594d69bd253616ae16674187e6396">turnVectorIntoSplatVector</a>(PAmts, <a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>);</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;      <span class="comment">// Try to turn KAmts into a splat, since we don&#39;t care about the values</span></div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;      <span class="comment">// that are currently &#39;-1&#39;. If we can&#39;t, change them to &#39;0&#39;`s.</span></div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;      <a class="code" href="TargetLowering_8cpp.html#aae6594d69bd253616ae16674187e6396">turnVectorIntoSplatVector</a>(KAmts, <a class="code" href="namespacellvm.html#af8b512107b41f4ccaf001e31218135c3">isAllOnesConstant</a>,</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShSVT));</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;    }</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160; </div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;    PVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PAmts);</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;    KVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(ShVT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, KAmts);</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;    QVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, QAmts);</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">ISD::SPLAT_VECTOR</a>) {</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PAmts.size() == 1 &amp;&amp; KAmts.size() == 1 &amp;&amp; QAmts.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;           <span class="stringliteral">&quot;Expected matchBinaryPredicate to return one element for &quot;</span></div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;           <span class="stringliteral">&quot;SPLAT_VECTORs&quot;</span>);</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;    PVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PAmts[0]);</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;    KVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(ShVT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, KAmts[0]);</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    QVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, QAmts[0]);</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;    PVal = PAmts[0];</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;    KVal = KAmts[0];</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    QVal = QAmts[0];</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;  }</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160; </div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;  <span class="keywordflow">if</span> (!ComparingWithAllZeros &amp;&amp; !AllComparisonsWithNonZerosAreTautological) {</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;    <span class="keywordflow">if</span> (!DCI.isBeforeLegalizeOps() &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT))</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(); <span class="comment">// FIXME: Could/should use `ISD::ADD`?</span></div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CompTargetNode.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType() &amp;&amp;</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;           <span class="stringliteral">&quot;Expecting that the types on LHS and RHS of comparisons match.&quot;</span>);</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;    <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, CompTargetNode);</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;  }</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160; </div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;  <span class="comment">// (mul N, P)</span></div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, PVal);</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;  Created.push_back(Op0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160; </div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;  <span class="comment">// Rotate right only if any divisor was even. We avoid rotates for all-odd</span></div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;  <span class="comment">// divisors as a performance improvement, since rotating by 0 is a no-op.</span></div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;  <span class="keywordflow">if</span> (HadEvenDivisor) {</div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;    <span class="comment">// We need ROTR to do this.</span></div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;    <span class="keywordflow">if</span> (!DCI.isBeforeLegalizeOps() &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>, VT))</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;    <span class="comment">// UREM: (rotr (mul N, P), K)</span></div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;    Op0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0, KVal);</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;    Created.push_back(Op0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;  }</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160; </div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;  <span class="comment">// UREM: (setule/setugt (rotr (mul N, P), K), Q)</span></div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewCC =</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SETCCVT, Op0, QVal,</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;                   ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>) ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>));</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;  <span class="keywordflow">if</span> (!HadTautologicalInvertedLanes)</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;    <span class="keywordflow">return</span> NewCC;</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160; </div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;  <span class="comment">// If any lanes previously compared always-false, the NewCC will give</span></div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;  <span class="comment">// always-true result for them, so we need to fixup those lanes.</span></div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;  <span class="comment">// Or the other way around for inequality predicate.</span></div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; <span class="stringliteral">&quot;Can/should only get here for vectors.&quot;</span>);</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;  Created.push_back(NewCC.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160; </div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;  <span class="comment">// x u% C1` is *always* less than C1. So given `x u% C1 == C2`,</span></div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;  <span class="comment">// if C2 is not less than C1, the comparison is always false.</span></div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;  <span class="comment">// But we have produced the comparison that will give the</span></div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;  <span class="comment">// opposive tautological answer. So these lanes would need to be fixed up.</span></div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TautologicalInvertedChannels =</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SETCCVT, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, CompTargetNode, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>);</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;  Created.push_back(TautologicalInvertedChannels.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160; </div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;  <span class="comment">// NOTE: we avoid letting illegal types through even if we&#39;re before legalize</span></div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;  <span class="comment">// ops – legalization has a hard time producing good code for this.</span></div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, SETCCVT)) {</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;    <span class="comment">// If we have a vector select, let&#39;s replace the comparison results in the</span></div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;    <span class="comment">// affected lanes with the correct tautological result.</span></div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Replacement = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> ? <span class="keyword">false</span> : <span class="keyword">true</span>,</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;                                              <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SETCCVT, SETCCVT);</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SETCCVT, TautologicalInvertedChannels,</div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;                       Replacement, NewCC);</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;  }</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160; </div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;  <span class="comment">// Else, we can just invert the comparison result in the appropriate lanes.</span></div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;  <span class="comment">// NOTE: see the note above VSELECT above.</span></div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, SETCCVT))</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SETCCVT, NewCC,</div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;                       TautologicalInvertedChannels);</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160; </div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(); <span class="comment">// Don&#39;t know how to lower.</span></div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;}</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;<span class="comment">/// Given an ISD::SREM used only by an ISD::SETEQ or ISD::SETNE</span></div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;<span class="comment">/// where the divisor is constant and the comparison target is zero,</span></div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;<span class="comment">/// return a DAG expression that will generate the same comparison result</span></div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;<span class="comment">/// using only multiplications, additions and shifts/rotations.</span></div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;<span class="comment">/// Ref: &quot;Hacker&#39;s Delight&quot; 10-17.</span></div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TargetLowering::buildSREMEqFold(<a class="code" href="structllvm_1_1EVT.html">EVT</a> SETCCVT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> REMNode,</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CompTargetNode,</div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;                                        <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;                                        DAGCombinerInfo &amp;DCI,</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDNode *, 7&gt;</a> Built;</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Folded = prepareSREMEqFold(SETCCVT, REMNode, CompTargetNode, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;                                         DCI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Built)) {</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Built.size() &lt;= 7 &amp;&amp; <span class="stringliteral">&quot;Max size prediction failed.&quot;</span>);</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : Built)</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;      DCI.AddToWorklist(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;    <span class="keywordflow">return</span> Folded;</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;  }</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160; </div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;}</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160; </div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;TargetLowering::prepareSREMEqFold(<a class="code" href="structllvm_1_1EVT.html">EVT</a> SETCCVT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> REMNode,</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CompTargetNode, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;                                  DAGCombinerInfo &amp;DCI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDNode *&gt;</a> &amp;Created)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;  <span class="comment">// Fold:</span></div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;  <span class="comment">//   (seteq/ne (srem N, D), 0)</span></div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;  <span class="comment">// To:</span></div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;  <span class="comment">//   (setule/ugt (rotr (add (mul N, P), A), K), Q)</span></div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;  <span class="comment">// - D must be constant, with D = D0 * 2^K where D0 is odd</span></div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;  <span class="comment">// - P is the multiplicative inverse of D0 modulo 2^W</span></div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;  <span class="comment">// - A = bitwiseand(floor((2^(W - 1) - 1) / D0), (-(2^k)))</span></div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;  <span class="comment">// - Q = floor((2 * A) / (2^K))</span></div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;  <span class="comment">// where W is the width of the common type of N and D.</span></div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;         <span class="stringliteral">&quot;Only applicable for (in)equality comparisons.&quot;</span>);</div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160; </div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.DAG;</div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160; </div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = REMNode.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SVT = VT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), !DCI.isBeforeLegalize());</div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShSVT = ShVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160; </div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;  <span class="comment">// If we are after ops legalization, and MUL is unavailable, we can not</span></div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;  <span class="comment">// proceed.</span></div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;  <span class="keywordflow">if</span> (!DCI.isBeforeLegalizeOps() &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, VT))</div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160; </div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;  <span class="comment">// TODO: Could support comparing with non-zero too.</span></div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CompTarget = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(CompTargetNode);</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;  <span class="keywordflow">if</span> (!CompTarget || !CompTarget-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#ae91378660e4c7198b4de645a1d207b91">isZero</a>())</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160; </div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;  <span class="keywordtype">bool</span> HadIntMinDivisor = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;  <span class="keywordtype">bool</span> HadOneDivisor = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;  <span class="keywordtype">bool</span> AllDivisorsAreOnes = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;  <span class="keywordtype">bool</span> HadEvenDivisor = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;  <span class="keywordtype">bool</span> NeedToApplyOffset = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;  <span class="keywordtype">bool</span> AllDivisorsArePowerOfTwo = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> PAmts, AAmts, KAmts, QAmts;</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160; </div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;  <span class="keyword">auto</span> BuildSREMPattern = [&amp;](<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;    <span class="comment">// Division by 0 is UB. Leave it to be constant-folded elsewhere.</span></div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero())</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160; </div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;    <span class="comment">// FIXME: we don&#39;t fold `rem %X, -C` to `rem %X, C` in DAGCombine.</span></div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160; </div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;    <span class="comment">// WARNING: this fold is only valid for positive divisors!</span></div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue();</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isNegative())</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.negate(); <span class="comment">//  `rem %X, -C` is equivalent to `rem %X, C`</span></div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160; </div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;    HadIntMinDivisor |= <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isMinSignedValue();</div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160; </div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;    <span class="comment">// If all divisors are ones, we will prefer to avoid the fold.</span></div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;    HadOneDivisor |= <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isOne();</div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;    AllDivisorsAreOnes &amp;= <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isOne();</div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160; </div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;    <span class="comment">// Decompose D into D0 * 2^K</span></div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;    <span class="keywordtype">unsigned</span> K = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.countTrailingZeros();</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isOne() || (K == 0)) &amp;&amp; <span class="stringliteral">&quot;For divisor &#39;1&#39; we won&#39;t rotate.&quot;</span>);</div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> D0 = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.lshr(K);</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160; </div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isMinSignedValue()) {</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;      <span class="comment">// D is even if it has trailing zeros; unless it&#39;s INT_MIN, in which case</span></div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;      <span class="comment">// we don&#39;t care about this lane in this fold, we&#39;ll special-handle it.</span></div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;      HadEvenDivisor |= (K != 0);</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;    }</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160; </div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;    <span class="comment">// D is a power-of-two if D0 is one. This includes INT_MIN.</span></div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;    <span class="comment">// If all divisors are power-of-two, we will prefer to avoid the fold.</span></div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;    AllDivisorsArePowerOfTwo &amp;= D0.<a class="code" href="classllvm_1_1APInt.html#aea5f26deda5ef97e02f6afc57c0c3920">isOne</a>();</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160; </div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;    <span class="comment">// P = inv(D0, 2^W)</span></div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;    <span class="comment">// 2^W requires W + 1 bits, so we have to extend and then truncate.</span></div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getBitWidth();</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = D0.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> + 1)</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;                  .<a class="code" href="classllvm_1_1APInt.html#a28ee15b0286415cce5599d4fb9f9ce02">multiplicativeInverse</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> + 1))</div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;                  .<a class="code" href="README-FPStack_8txt.html#aeb9a134c2755c0ad7801bf630a790904">trunc</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>);</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.isZero() &amp;&amp; <span class="stringliteral">&quot;No multiplicative inverse!&quot;</span>); <span class="comment">// unreachable</span></div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((D0 * <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>).isOne() &amp;&amp; <span class="stringliteral">&quot;Multiplicative inverse basic check failed.&quot;</span>);</div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160; </div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;    <span class="comment">// A = floor((2^(W - 1) - 1) / D0) &amp; -2^K</span></div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>).<a class="code" href="classllvm_1_1APInt.html#a05d674becc60ba4ef8cd4dd4d38ac27a">udiv</a>(D0);</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;    <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.clearLowBits(K);</div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160; </div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isMinSignedValue()) {</div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;      <span class="comment">// If divisor INT_MIN, then we don&#39;t care about this lane in this fold,</span></div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;      <span class="comment">// we&#39;ll special-handle it.</span></div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;      NeedToApplyOffset |= <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> != 0;</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;    }</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160; </div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;    <span class="comment">// Q = floor((2 * A) / (2^K))</span></div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Q = (2 * <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>).udiv(<a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>, K));</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160; </div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(SVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()).<a class="code" href="classllvm_1_1APInt.html#a46a7cbf3724080a5f4f4c7e7a4551e26">ugt</a>(A) &amp;&amp;</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;           <span class="stringliteral">&quot;We are expecting that A is always less than all-ones for SVT&quot;</span>);</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(ShSVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()).<a class="code" href="classllvm_1_1APInt.html#a46a7cbf3724080a5f4f4c7e7a4551e26">ugt</a>(K) &amp;&amp;</div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;           <span class="stringliteral">&quot;We are expecting that K is always less than all-ones for ShSVT&quot;</span>);</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160; </div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;    <span class="comment">// If the divisor is 1 the result can be constant-folded. Likewise, we</span></div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;    <span class="comment">// don&#39;t care about INT_MIN lanes, those can be set to undef if appropriate.</span></div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isOne()) {</div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;      <span class="comment">// Set P, A and K to a bogus values so we can try to splat them.</span></div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;      <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = 0;</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;      <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = -1;</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;      K = -1;</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160; </div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;      <span class="comment">// x ?% 1 == 0  &lt;--&gt;  true  &lt;--&gt;  x u&lt;= -1</span></div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;      Q = -1;</div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;    }</div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160; </div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;    PAmts.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SVT));</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;    AAmts.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(A, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SVT));</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;    KAmts.push_back(</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(ShSVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>(), K), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShSVT));</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;    QAmts.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Q, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SVT));</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;  };</div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160; </div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = REMNode.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = REMNode.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160; </div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;  <span class="comment">// Collect the values from each element.</span></div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ISD.html#a309c11edf22da984f95cf9ba7a699c11">ISD::matchUnaryPredicate</a>(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, BuildSREMPattern))</div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160; </div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;  <span class="comment">// If this is a srem by a one, avoid the fold since it can be constant-folded.</span></div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;  <span class="keywordflow">if</span> (AllDivisorsAreOnes)</div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160; </div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;  <span class="comment">// If this is a srem by a powers-of-two (including INT_MIN), avoid the fold</span></div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;  <span class="comment">// since it can be best implemented as a bit test.</span></div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;  <span class="keywordflow">if</span> (AllDivisorsArePowerOfTwo)</div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160; </div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PVal, AVal, KVal, QVal;</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>) {</div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;    <span class="keywordflow">if</span> (HadOneDivisor) {</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;      <span class="comment">// Try to turn PAmts into a splat, since we don&#39;t care about the values</span></div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;      <span class="comment">// that are currently &#39;0&#39;. If we can&#39;t, just keep &#39;0&#39;`s.</span></div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;      <a class="code" href="TargetLowering_8cpp.html#aae6594d69bd253616ae16674187e6396">turnVectorIntoSplatVector</a>(PAmts, <a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>);</div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;      <span class="comment">// Try to turn AAmts into a splat, since we don&#39;t care about the</span></div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;      <span class="comment">// values that are currently &#39;-1&#39;. If we can&#39;t, change them to &#39;0&#39;`s.</span></div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;      <a class="code" href="TargetLowering_8cpp.html#aae6594d69bd253616ae16674187e6396">turnVectorIntoSplatVector</a>(AAmts, <a class="code" href="namespacellvm.html#af8b512107b41f4ccaf001e31218135c3">isAllOnesConstant</a>,</div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SVT));</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;      <span class="comment">// Try to turn KAmts into a splat, since we don&#39;t care about the values</span></div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;      <span class="comment">// that are currently &#39;-1&#39;. If we can&#39;t, change them to &#39;0&#39;`s.</span></div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;      <a class="code" href="TargetLowering_8cpp.html#aae6594d69bd253616ae16674187e6396">turnVectorIntoSplatVector</a>(KAmts, <a class="code" href="namespacellvm.html#af8b512107b41f4ccaf001e31218135c3">isAllOnesConstant</a>,</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShSVT));</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;    }</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160; </div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;    PVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PAmts);</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;    AVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AAmts);</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;    KVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(ShVT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, KAmts);</div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;    QVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, QAmts);</div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">ISD::SPLAT_VECTOR</a>) {</div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PAmts.size() == 1 &amp;&amp; AAmts.size() == 1 &amp;&amp; KAmts.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;           QAmts.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;           <span class="stringliteral">&quot;Expected matchUnaryPredicate to return one element for scalable &quot;</span></div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;           <span class="stringliteral">&quot;vectors&quot;</span>);</div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;    PVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PAmts[0]);</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;    AVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AAmts[0]);</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;    KVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(ShVT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, KAmts[0]);</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;    QVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">getSplatVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, QAmts[0]);</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;ConstantSDNode&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>) &amp;&amp; <span class="stringliteral">&quot;Expected a constant&quot;</span>);</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;    PVal = PAmts[0];</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    AVal = AAmts[0];</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;    KVal = KAmts[0];</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;    QVal = QAmts[0];</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;  }</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160; </div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;  <span class="comment">// (mul N, P)</span></div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, PVal);</div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;  Created.push_back(Op0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160; </div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;  <span class="keywordflow">if</span> (NeedToApplyOffset) {</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;    <span class="comment">// We need ADD to do this.</span></div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;    <span class="keywordflow">if</span> (!DCI.isBeforeLegalizeOps() &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, VT))</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160; </div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;    <span class="comment">// (add (mul N, P), A)</span></div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;    Op0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0, AVal);</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;    Created.push_back(Op0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;  }</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160; </div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;  <span class="comment">// Rotate right only if any divisor was even. We avoid rotates for all-odd</span></div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;  <span class="comment">// divisors as a performance improvement, since rotating by 0 is a no-op.</span></div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;  <span class="keywordflow">if</span> (HadEvenDivisor) {</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;    <span class="comment">// We need ROTR to do this.</span></div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;    <span class="keywordflow">if</span> (!DCI.isBeforeLegalizeOps() &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>, VT))</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;    <span class="comment">// SREM: (rotr (add (mul N, P), A), K)</span></div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;    Op0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0, KVal);</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;    Created.push_back(Op0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;  }</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160; </div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;  <span class="comment">// SREM: (setule/setugt (rotr (add (mul N, P), A), K), Q)</span></div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Fold =</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SETCCVT, Op0, QVal,</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;                   ((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>) ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>));</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160; </div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;  <span class="comment">// If we didn&#39;t have lanes with INT_MIN divisor, then we&#39;re done.</span></div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;  <span class="keywordflow">if</span> (!HadIntMinDivisor)</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;    <span class="keywordflow">return</span> Fold;</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160; </div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;  <span class="comment">// That fold is only valid for positive divisors. Which effectively means,</span></div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;  <span class="comment">// it is invalid for INT_MIN divisors. So if we have such a lane,</span></div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;  <span class="comment">// we must fix-up results for said lanes.</span></div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; <span class="stringliteral">&quot;Can/should only get here for vectors.&quot;</span>);</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160; </div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;  <span class="comment">// NOTE: we avoid letting illegal types through even if we&#39;re before legalize</span></div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;  <span class="comment">// ops – legalization has a hard time producing good code for the code that</span></div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;  <span class="comment">// follows.</span></div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>, VT) ||</div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;      !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, VT) ||</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;      !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, VT) ||</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;      !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, SETCCVT))</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160; </div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;  Created.push_back(Fold.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160; </div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IntMin = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(SVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>()), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IntMax = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(SVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>()), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> =</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(SVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>()), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160; </div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;  <span class="comment">// Which lanes had INT_MIN divisors? Divisor is constant, so const-folded.</span></div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DivisorIsIntMin = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SETCCVT, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, IntMin, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;  Created.push_back(DivisorIsIntMin.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160; </div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;  <span class="comment">// (N s% INT_MIN) ==/!= 0  &lt;--&gt;  (N &amp; INT_MAX) ==/!= 0</span></div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Masked = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, IntMax);</div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;  Created.push_back(Masked.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaskedIsZero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SETCCVT, Masked, Zero, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;  Created.push_back(MaskedIsZero.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160; </div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;  <span class="comment">// To produce final result we need to blend 2 vectors: &#39;SetCC&#39; and</span></div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;  <span class="comment">// &#39;MaskedIsZero&#39;. If the divisor for channel was *NOT* INT_MIN, we pick</span></div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;  <span class="comment">// from &#39;Fold&#39;, else pick from &#39;MaskedIsZero&#39;. Since &#39;DivisorIsIntMin&#39; is</span></div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;  <span class="comment">// constant-folded, select can get lowered to a shuffle with constant mask.</span></div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Blended = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SETCCVT, DivisorIsIntMin,</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;                                MaskedIsZero, Fold);</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160; </div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;  <span class="keywordflow">return</span> Blended;</div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;}</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160; </div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#aae4f7b25e91df6bdcdfde5c53eda539d">TargetLowering::</a></div>
<div class="line"><a name="l06732"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aae4f7b25e91df6bdcdfde5c53eda539d"> 6732</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#aae4f7b25e91df6bdcdfde5c53eda539d">verifyReturnAddressArgumentIsConstant</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0))) {</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>()-&gt;<a class="code" href="classllvm_1_1LLVMContext.html#af9b0580a6e16e16bd3379f73e92a616d">emitError</a>(<span class="stringliteral">&quot;argument to &#39;__builtin_return_address&#39; must &quot;</span></div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;                                <span class="stringliteral">&quot;be a constant integer&quot;</span>);</div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;  }</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160; </div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;}</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160; </div>
<div class="line"><a name="l06742"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a9d911113ba470f43e75bfb76e61faf8d"> 6742</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a9d911113ba470f43e75bfb76e61faf8d">TargetLowering::getSqrtInputTest</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="structllvm_1_1DenormalMode.html">DenormalMode</a> &amp;<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> CCVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FPZero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(0.0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;  <span class="comment">// Testing it with denormal inputs to avoid wrong estimate.</span></div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>.Input == <a class="code" href="structllvm_1_1DenormalMode.html#a29b26e3ae30f3f6ec4106ff181282893ad6fd23eb0b98a2d4551582753191b6da">DenormalMode::IEEE</a>) {</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;    <span class="comment">// This is specifically a check for the handling of denormal inputs,</span></div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;    <span class="comment">// not the result.</span></div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160; </div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;    <span class="comment">// Test = fabs(X) &lt; SmallestNormal</span></div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;FltSem = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7742fb3f3703dcf2a7d32e22dbe6a6df">EVTToAPFloatSemantics</a>(VT);</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> SmallestNorm = <a class="code" href="classllvm_1_1APFloat.html#a9c568ab8748aba5d37006d52618bbcfd">APFloat::getSmallestNormalized</a>(FltSem);</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NormC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(SmallestNorm, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Fabs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">ISD::FABS</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CCVT, Fabs, NormC, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;  }</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;  <span class="comment">// Test = X == 0.0</span></div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CCVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, FPZero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;}</div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160; </div>
<div class="line"><a name="l06764"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a956c187916cdd70fd64153948acb7922"> 6764</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a956c187916cdd70fd64153948acb7922">TargetLowering::getNegatedExpression</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;                                             <span class="keywordtype">bool</span> LegalOps, <span class="keywordtype">bool</span> OptForSize,</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;                                             <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> &amp;Cost,</div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;                                             <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;  <span class="comment">// fneg is removable even if it has multiple uses.</span></div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>) {</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;    <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a4691542279fb918ac8c43619d77aefdf">NegatibleCost::Cheaper</a>;</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;  }</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160; </div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;  <span class="comment">// Don&#39;t recurse exponentially.</span></div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="classllvm_1_1SelectionDAG.html#a4d5e16cbde22f5e6f007940d57a428fd">SelectionDAG::MaxRecursionDepth</a>)</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160; </div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;  <span class="comment">// Pre-increment recursion depth for use in recursive calls.</span></div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;  ++<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>;</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1SDNodeFlags.html">SDNodeFlags</a> Flags = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getFlags();</div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetOptions.html">TargetOptions</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af2fca022f33991d19959ebf939c54d03">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>;</div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode();</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160; </div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;  <span class="comment">// Don&#39;t allow anything with multiple uses unless we know it is free.</span></div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.hasOneUse() &amp;&amp; Opcode != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">ISD::ConstantFP</a>) {</div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;    <span class="keywordtype">bool</span> IsFreeExtend = Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a> &amp;&amp;</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;                        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a75b5f43626eca6f155a21f22e4a5acd0">isFPExtFree</a>(VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0).getValueType());</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;    <span class="keywordflow">if</span> (!IsFreeExtend)</div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;  }</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160; </div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;  <span class="keyword">auto</span> RemoveDeadNode = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode()-&gt;use_empty())</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a935ace76cef67c6da10cf0633371efe1">RemoveDeadNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode());</div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;  };</div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160; </div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160; </div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;  <span class="comment">// Because getNegatedExpression can delete nodes we need a handle to keep</span></div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;  <span class="comment">// temporary nodes alive in case the recursion manages to create an identical</span></div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;  <span class="comment">// node.</span></div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;  std::list&lt;HandleSDNode&gt; Handles;</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160; </div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">ISD::ConstantFP</a>: {</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;    <span class="comment">// Don&#39;t invert constant FP values after legalization unless the target says</span></div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;    <span class="comment">// the negated constant is legal.</span></div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;    <span class="keywordtype">bool</span> IsOpLegal =</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">ISD::ConstantFP</a>, VT) ||</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a4e3b2ed6083b7fea6eab416afa82783b">isFPImmLegal</a>(<a class="code" href="namespacellvm.html#ad137f00752c91478230b01c851768605">neg</a>(cast&lt;ConstantFPSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getValueAPF()), VT,</div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;                     OptForSize);</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160; </div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;    <span class="keywordflow">if</span> (LegalOps &amp;&amp; !IsOpLegal)</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160; </div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> V = cast&lt;ConstantFPSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getValueAPF();</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;    V.<a class="code" href="classllvm_1_1APFloat.html#ae7fe7691e456e49addd866aa23896387">changeSign</a>();</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CFP = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(V, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160; </div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;    <span class="comment">// If we already have the use of the negated floating constant, it is free</span></div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;    <span class="comment">// to negate it even it has multiple uses.</span></div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.hasOneUse() &amp;&amp; CFP.<a class="code" href="classllvm_1_1SDValue.html#aadec518817d351d77d1badd66cf96fc3">use_empty</a>())</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;    <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84ae9bb5320b3890b6747c91b5a71ae5a01">NegatibleCost::Neutral</a>;</div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;    <span class="keywordflow">return</span> CFP;</div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;  }</div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>: {</div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;    <span class="comment">// Only permit BUILD_VECTOR of constants.</span></div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;op_values(), [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;          return !N.isUndef() &amp;&amp; !isa&lt;ConstantFPSDNode&gt;(N);</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;        }))</div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160; </div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;    <span class="keywordtype">bool</span> IsOpLegal =</div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;        (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">ISD::ConstantFP</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;         <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, VT)) ||</div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;        <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;op_values(), [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.isUndef() ||</div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;                 <a class="code" href="classllvm_1_1TargetLoweringBase.html#a4e3b2ed6083b7fea6eab416afa82783b">isFPImmLegal</a>(<a class="code" href="namespacellvm.html#ad137f00752c91478230b01c851768605">neg</a>(cast&lt;ConstantFPSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getValueAPF()), VT,</div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;                              OptForSize);</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;        });</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160; </div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;    <span class="keywordflow">if</span> (LegalOps &amp;&amp; !IsOpLegal)</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160; </div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 4&gt;</a> Ops;</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;op_values()) {</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isUndef()) {</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;        Ops.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;      }</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;      <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> V = cast&lt;ConstantFPSDNode&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)-&gt;getValueAPF();</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;      V.<a class="code" href="classllvm_1_1APFloat.html#ae7fe7691e456e49addd866aa23896387">changeSign</a>();</div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;      Ops.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(V, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getValueType()));</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;    }</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;    <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84ae9bb5320b3890b6747c91b5a71ae5a01">NegatibleCost::Neutral</a>;</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Ops);</div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;  }</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>: {</div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.NoSignedZerosFPMath &amp;&amp; !Flags.hasNoSignedZeros())</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160; </div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;    <span class="comment">// After operation legalization, it might not be legal to create new FSUBs.</span></div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;    <span class="keywordflow">if</span> (LegalOps &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, VT))</div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160; </div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;    <span class="comment">// fold (fneg (fadd X, Y)) -&gt; (fsub (fneg X), Y)</span></div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> CostX = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">NegatibleCost::Expensive</a>;</div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegX =</div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;        getNegatedExpression(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, DAG, LegalOps, OptForSize, CostX, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;    <span class="comment">// Prevent this node from being deleted by the next call.</span></div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;    <span class="keywordflow">if</span> (NegX)</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;      Handles.emplace_back(NegX);</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160; </div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;    <span class="comment">// fold (fneg (fadd X, Y)) -&gt; (fsub (fneg Y), X)</span></div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> CostY = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">NegatibleCost::Expensive</a>;</div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegY =</div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;        getNegatedExpression(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, DAG, LegalOps, OptForSize, CostY, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160; </div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;    <span class="comment">// We&#39;re done with the handles.</span></div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;    Handles.clear();</div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160; </div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;    <span class="comment">// Negate the X if its cost is less or equal than Y.</span></div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;    <span class="keywordflow">if</span> (NegX &amp;&amp; (CostX &lt;= CostY)) {</div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;      <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = CostX;</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, NegX, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Flags);</div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;      <span class="keywordflow">if</span> (NegY != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;        RemoveDeadNode(NegY);</div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;    }</div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160; </div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;    <span class="comment">// Negate the Y if it is not expensive.</span></div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;    <span class="keywordflow">if</span> (NegY) {</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;      <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = CostY;</div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, NegY, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Flags);</div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;      <span class="keywordflow">if</span> (NegX != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;        RemoveDeadNode(NegX);</div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;    }</div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;  }</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>: {</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;    <span class="comment">// We can&#39;t turn -(A-B) into B-A when we honor signed zeros.</span></div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.NoSignedZerosFPMath &amp;&amp; !Flags.hasNoSignedZeros())</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160; </div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;    <span class="comment">// fold (fneg (fsub 0, Y)) -&gt; Y</span></div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFPSDNode.html">ConstantFPSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#a516614c2855a763aa9eef67c6da888e0">isConstOrConstSplatFP</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <span class="comment">/*AllowUndefs*/</span> <span class="keyword">true</span>))</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero()) {</div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;        <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a4691542279fb918ac8c43619d77aefdf">NegatibleCost::Cheaper</a>;</div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;      }</div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160; </div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;    <span class="comment">// fold (fneg (fsub X, Y)) -&gt; (fsub Y, X)</span></div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;    <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84ae9bb5320b3890b6747c91b5a71ae5a01">NegatibleCost::Neutral</a>;</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Flags);</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;  }</div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>:</div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>: {</div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160; </div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;    <span class="comment">// fold (fneg (fmul X, Y)) -&gt; (fmul (fneg X), Y)</span></div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> CostX = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">NegatibleCost::Expensive</a>;</div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegX =</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;        getNegatedExpression(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, DAG, LegalOps, OptForSize, CostX, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;    <span class="comment">// Prevent this node from being deleted by the next call.</span></div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;    <span class="keywordflow">if</span> (NegX)</div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;      Handles.emplace_back(NegX);</div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160; </div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;    <span class="comment">// fold (fneg (fmul X, Y)) -&gt; (fmul X, (fneg Y))</span></div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> CostY = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">NegatibleCost::Expensive</a>;</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegY =</div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;        getNegatedExpression(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, DAG, LegalOps, OptForSize, CostY, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160; </div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;    <span class="comment">// We&#39;re done with the handles.</span></div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;    Handles.clear();</div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160; </div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;    <span class="comment">// Negate the X if its cost is less or equal than Y.</span></div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;    <span class="keywordflow">if</span> (NegX &amp;&amp; (CostX &lt;= CostY)) {</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;      <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = CostX;</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, NegX, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Flags);</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;      <span class="keywordflow">if</span> (NegY != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;        RemoveDeadNode(NegY);</div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;    }</div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160; </div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;    <span class="comment">// Ignore X * 2.0 because that is expected to be canonicalized to X + X.</span></div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#a516614c2855a763aa9eef67c6da888e0">isConstOrConstSplatFP</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1)))</div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isExactlyValue(2.0) &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>)</div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160; </div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;    <span class="comment">// Negate the Y if it is not expensive.</span></div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;    <span class="keywordflow">if</span> (NegY) {</div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;      <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = CostY;</div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, NegY, Flags);</div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;      <span class="keywordflow">if</span> (NegX != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;        RemoveDeadNode(NegX);</div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;    }</div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;  }</div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>:</div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2415bea72c995bb9cf9f85bbbf90bcd7">ISD::FMAD</a>: {</div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.NoSignedZerosFPMath &amp;&amp; !Flags.hasNoSignedZeros())</div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160; </div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1), <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2);</div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> CostZ = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">NegatibleCost::Expensive</a>;</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegZ =</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;        getNegatedExpression(<a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, DAG, LegalOps, OptForSize, CostZ, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;    <span class="comment">// Give up if fail to negate the Z.</span></div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;    <span class="keywordflow">if</span> (!NegZ)</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160; </div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;    <span class="comment">// Prevent this node from being deleted by the next two calls.</span></div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;    Handles.emplace_back(NegZ);</div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160; </div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;    <span class="comment">// fold (fneg (fma X, Y, Z)) -&gt; (fma (fneg X), Y, (fneg Z))</span></div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> CostX = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">NegatibleCost::Expensive</a>;</div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegX =</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;        getNegatedExpression(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, DAG, LegalOps, OptForSize, CostX, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;    <span class="comment">// Prevent this node from being deleted by the next call.</span></div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;    <span class="keywordflow">if</span> (NegX)</div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;      Handles.emplace_back(NegX);</div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160; </div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;    <span class="comment">// fold (fneg (fma X, Y, Z)) -&gt; (fma X, (fneg Y), (fneg Z))</span></div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> CostY = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">NegatibleCost::Expensive</a>;</div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegY =</div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;        getNegatedExpression(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, DAG, LegalOps, OptForSize, CostY, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160; </div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;    <span class="comment">// We&#39;re done with the handles.</span></div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;    Handles.clear();</div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160; </div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;    <span class="comment">// Negate the X if its cost is less or equal than Y.</span></div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;    <span class="keywordflow">if</span> (NegX &amp;&amp; (CostX &lt;= CostY)) {</div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;      <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(CostX, CostZ);</div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, NegX, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, NegZ, Flags);</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;      <span class="keywordflow">if</span> (NegY != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;        RemoveDeadNode(NegY);</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;    }</div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160; </div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;    <span class="comment">// Negate the Y if it is not expensive.</span></div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;    <span class="keywordflow">if</span> (NegY) {</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;      <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(CostY, CostZ);</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, NegY, NegZ, Flags);</div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;      <span class="keywordflow">if</span> (NegX != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;        RemoveDeadNode(NegX);</div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;    }</div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;  }</div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160; </div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>:</div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">ISD::FSIN</a>:</div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegV = getNegatedExpression(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), DAG, LegalOps,</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;                                            OptForSize, <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>))</div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, NegV);</div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>:</div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegV = getNegatedExpression(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), DAG, LegalOps,</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;                                            OptForSize, <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>))</div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, NegV, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1));</div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>:</div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>: {</div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;    <span class="comment">// fold (fneg (select C, LHS, RHS)) -&gt; (select C, (fneg LHS), (fneg RHS))</span></div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;    <span class="comment">// iff at least one cost is cheaper and the other is neutral/cheaper</span></div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1);</div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> CostLHS = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">NegatibleCost::Expensive</a>;</div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegLHS =</div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;        getNegatedExpression(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, DAG, LegalOps, OptForSize, CostLHS, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;    <span class="keywordflow">if</span> (!NegLHS || CostLHS &gt; <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84ae9bb5320b3890b6747c91b5a71ae5a01">NegatibleCost::Neutral</a>) {</div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;      RemoveDeadNode(NegLHS);</div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;    }</div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160; </div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;    <span class="comment">// Prevent this node from being deleted by the next call.</span></div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;    Handles.emplace_back(NegLHS);</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160; </div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2);</div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">NegatibleCost</a> CostRHS = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">NegatibleCost::Expensive</a>;</div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegRHS =</div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;        getNegatedExpression(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, DAG, LegalOps, OptForSize, CostRHS, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160; </div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;    <span class="comment">// We&#39;re done with the handles.</span></div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;    Handles.clear();</div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160; </div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;    <span class="keywordflow">if</span> (!NegRHS || CostRHS &gt; <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84ae9bb5320b3890b6747c91b5a71ae5a01">NegatibleCost::Neutral</a> ||</div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;        (CostLHS != <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a4691542279fb918ac8c43619d77aefdf">NegatibleCost::Cheaper</a> &amp;&amp;</div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;         CostRHS != <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a4691542279fb918ac8c43619d77aefdf">NegatibleCost::Cheaper</a>)) {</div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;      RemoveDeadNode(NegLHS);</div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;      RemoveDeadNode(NegRHS);</div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;    }</div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160; </div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;    <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(CostLHS, CostRHS);</div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0), NegLHS, NegRHS);</div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;  }</div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;  }</div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160; </div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;}</div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160; </div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;<span class="comment">// Legalization Utilities</span></div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160; </div>
<div class="line"><a name="l07072"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#af8f23324695cbe752e5844b472d9f2c3"> 7072</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#af8f23324695cbe752e5844b472d9f2c3">TargetLowering::expandMUL_LOHI</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl,</div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;                                    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;                                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;Result,</div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;                                    <a class="code" href="structllvm_1_1EVT.html">EVT</a> HiLoVT, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;                                    <a class="code" href="classllvm_1_1TargetLoweringBase.html#aff813db965c76a7e0f64c426cded6534">MulExpansionKind</a> Kind, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LL,</div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;                                    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LH, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RL, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RH)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a> ||</div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;         Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>);</div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160; </div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;  <span class="keywordtype">bool</span> HasMULHS = (Kind == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aff813db965c76a7e0f64c426cded6534a68eec46437c384d8dad18d5464ebc35c">MulExpansionKind::Always</a>) ||</div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;                  <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">ISD::MULHS</a>, HiLoVT);</div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;  <span class="keywordtype">bool</span> HasMULHU = (Kind == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aff813db965c76a7e0f64c426cded6534a68eec46437c384d8dad18d5464ebc35c">MulExpansionKind::Always</a>) ||</div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;                  <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">ISD::MULHU</a>, HiLoVT);</div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;  <span class="keywordtype">bool</span> HasSMUL_LOHI = (Kind == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aff813db965c76a7e0f64c426cded6534a68eec46437c384d8dad18d5464ebc35c">MulExpansionKind::Always</a>) ||</div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;                      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>, HiLoVT);</div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;  <span class="keywordtype">bool</span> HasUMUL_LOHI = (Kind == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aff813db965c76a7e0f64c426cded6534a68eec46437c384d8dad18d5464ebc35c">MulExpansionKind::Always</a>) ||</div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;                      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>, HiLoVT);</div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160; </div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;  <span class="keywordflow">if</span> (!HasMULHU &amp;&amp; !HasMULHS &amp;&amp; !HasUMUL_LOHI &amp;&amp; !HasSMUL_LOHI)</div>
<div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160; </div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;  <span class="keywordtype">unsigned</span> OuterBitSize = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;  <span class="keywordtype">unsigned</span> InnerBitSize = HiLoVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160; </div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;  <span class="comment">// LL, LH, RL, and RH must be either all NULL or all set to a value.</span></div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((LL.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp; LH.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp; RL.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp; RH.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>()) ||</div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;         (!LL.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp; !LH.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp; !RL.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp; !RH.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>()));</div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160; </div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;  <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(HiLoVT, HiLoVT);</div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;  <span class="keyword">auto</span> MakeMUL_LOHI = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> L, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> R, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi,</div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;                          <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; HasSMUL_LOHI) || (!<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; HasUMUL_LOHI)) {</div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;      Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>, dl, VTs, L, R);</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;      Hi = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Lo.getNode(), 1);</div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;    }</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; HasMULHS) || (!<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; HasMULHU)) {</div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;      Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, HiLoVT, L, R);</div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;      Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">ISD::MULHS</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">ISD::MULHU</a>, dl, HiLoVT, L, R);</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;    }</div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;  };</div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160; </div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo, Hi;</div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160; </div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;  <span class="keywordflow">if</span> (!LL.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp; !RL.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp;</div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, HiLoVT)) {</div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;    LL = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, HiLoVT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;    RL = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, HiLoVT, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;  }</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160; </div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;  <span class="keywordflow">if</span> (!LL.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>())</div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160; </div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> HighMask = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(OuterBitSize, InnerBitSize);</div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;  <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad5386f4196a9eab5701c451469f2e20e">MaskedValueIsZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, HighMask) &amp;&amp;</div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad5386f4196a9eab5701c451469f2e20e">MaskedValueIsZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, HighMask)) {</div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;    <span class="comment">// The inputs are both zero-extended.</span></div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;    <span class="keywordflow">if</span> (MakeMUL_LOHI(LL, RL, Lo, Hi, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;      Result.push_back(Lo);</div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;      Result.push_back(Hi);</div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;      <span class="keywordflow">if</span> (Opcode != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>) {</div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, HiLoVT);</div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;        Result.push_back(Zero);</div>
<div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;        Result.push_back(Zero);</div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;      }</div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;    }</div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;  }</div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160; </div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;  <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a> &amp;&amp;</div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a0a2081911053ceb07370842200df3e7c">ComputeMaxSignificantBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &lt;= InnerBitSize &amp;&amp;</div>
<div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a0a2081911053ceb07370842200df3e7c">ComputeMaxSignificantBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &lt;= InnerBitSize) {</div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;    <span class="comment">// The input values are both sign-extended.</span></div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;    <span class="comment">// TODO non-MUL case?</span></div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;    <span class="keywordflow">if</span> (MakeMUL_LOHI(LL, RL, Lo, Hi, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;      Result.push_back(Lo);</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;      Result.push_back(Hi);</div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;    }</div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;  }</div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160; </div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;  <span class="keywordtype">unsigned</span> ShiftAmount = OuterBitSize - InnerBitSize;</div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae2810b3cf01b222cc31fac876f9580ee">getShiftAmountConstant</a>(ShiftAmount, VT, dl);</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160; </div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;  <span class="keywordflow">if</span> (!LH.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp; !RH.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>() &amp;&amp;</div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, HiLoVT)) {</div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;    LH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;    LH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, HiLoVT, LH);</div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;    RH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;    RH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, HiLoVT, RH);</div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;  }</div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160; </div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;  <span class="keywordflow">if</span> (!LH.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>())</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160; </div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;  <span class="keywordflow">if</span> (!MakeMUL_LOHI(LL, RL, Lo, Hi, <span class="keyword">false</span>))</div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160; </div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;  Result.push_back(Lo);</div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160; </div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>) {</div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;    RH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, HiLoVT, LL, RH);</div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;    LH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, HiLoVT, LH, RL);</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, HiLoVT, Hi, RH);</div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, HiLoVT, Hi, LH);</div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;    Result.push_back(Hi);</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;  }</div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160; </div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;  <span class="comment">// Compute the full width result.</span></div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;  <span class="keyword">auto</span> <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a> = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Hi) -&gt; <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> {</div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, VT, Lo);</div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, VT, Hi);</div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Hi, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Lo, Hi);</div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;  };</div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160; </div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Next = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, VT, Hi);</div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;  <span class="keywordflow">if</span> (!MakeMUL_LOHI(LL, RH, Lo, Hi, <span class="keyword">false</span>))</div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160; </div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;  <span class="comment">// This is effectively the add part of a multiply-add of half-sized operands,</span></div>
<div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;  <span class="comment">// so it cannot overflow.</span></div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;  Next = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, VT, Next, <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a>(Lo, Hi));</div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160; </div>
<div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;  <span class="keywordflow">if</span> (!MakeMUL_LOHI(LH, RL, Lo, Hi, <span class="keyword">false</span>))</div>
<div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160; </div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, HiLoVT);</div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> BoolType = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160; </div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;  <span class="keywordtype">bool</span> UseGlue = (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">ISD::ADDC</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;                  <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad116e32876f2275acf60ffb1651c9256">ISD::ADDE</a>, VT));</div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;  <span class="keywordflow">if</span> (UseGlue)</div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;    Next = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">ISD::ADDC</a>, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>), Next,</div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;                       <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a>(Lo, Hi));</div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;    Next = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">ISD::ADDCARRY</a>, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, BoolType), Next,</div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;                       <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a>(Lo, Hi), DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, BoolType));</div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160; </div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Carry = Next.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;  Result.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, HiLoVT, Next));</div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;  Next = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Next, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160; </div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;  <span class="keywordflow">if</span> (!MakeMUL_LOHI(LH, RH, Lo, Hi, Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>))</div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160; </div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;  <span class="keywordflow">if</span> (UseGlue)</div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad116e32876f2275acf60ffb1651c9256">ISD::ADDE</a>, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(HiLoVT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>), Hi, Zero,</div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;                     Carry);</div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">ISD::ADDCARRY</a>, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(HiLoVT, BoolType), Hi,</div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;                     Zero, Carry);</div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160; </div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;  Next = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, VT, Next, <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a>(Lo, Hi));</div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160; </div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>) {</div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NextSub = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, Next,</div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;                                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, VT, RL));</div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;    Next = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, LH, Zero, NextSub, Next, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160; </div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;    NextSub = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, Next,</div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, VT, LL));</div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;    Next = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, RH, Zero, NextSub, Next, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;  }</div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160; </div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;  Result.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, HiLoVT, Next));</div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;  Next = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Next, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;  Result.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, HiLoVT, Next));</div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;}</div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160; </div>
<div class="line"><a name="l07247"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a099c022f48b2d827b57369984102288f"> 7247</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a099c022f48b2d827b57369984102288f">TargetLowering::expandMUL</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi, <a class="code" href="structllvm_1_1EVT.html">EVT</a> HiLoVT,</div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;                               <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1TargetLoweringBase.html#aff813db965c76a7e0f64c426cded6534">MulExpansionKind</a> Kind,</div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LL, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LH, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RL,</div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RH)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 2&gt;</a> Result;</div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;  <span class="keywordtype">bool</span> Ok = expandMUL_LOHI(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode(), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>),</div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;                           <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1), Result, HiLoVT,</div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;                           DAG, Kind, LL, LH, RL, RH);</div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;  <span class="keywordflow">if</span> (Ok) {</div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Result.size() == 2);</div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;    Lo = Result[0];</div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;    Hi = Result[1];</div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;  }</div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;  <span class="keywordflow">return</span> Ok;</div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;}</div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160; </div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;<span class="comment">// Optimize unsigned division or remainder by constants for types twice as large</span></div>
<div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;<span class="comment">// as a legal VT.</span></div>
<div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;<span class="comment">// If (1 &lt;&lt; (BitWidth / 2)) % Constant == 1, then the remainder</span></div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;<span class="comment">// can be computed</span></div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;<span class="comment">// as:</span></div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;<span class="comment">//   Sum += __builtin_uadd_overflow(Lo, High, &amp;Sum);</span></div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;<span class="comment">//   Remainder = Sum % Constant</span></div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;<span class="comment">// This is based on &quot;Remainder by Summing Digits&quot; from Hacker&#39;s Delight.</span></div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;<span class="comment">// For division, we can compute the remainder using the algorithm described</span></div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;<span class="comment">// above, subtract it from the dividend to get an exact multiple of Constant.</span></div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;<span class="comment">// Then multiply that extact multiply by the multiplicative inverse modulo</span></div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;<span class="comment">// (1 &lt;&lt; (BitWidth / 2)) to get the quotient.</span></div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160; </div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;<span class="comment">// If Constant is even, we can shift right the dividend and the divisor by the</span></div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;<span class="comment">// number of trailing zeros in Constant before applying the remainder algorithm.</span></div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;<span class="comment">// If we&#39;re after the quotient, we can subtract this value from the shifted</span></div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;<span class="comment">// dividend and multiply by the multiplicative inverse of the shifted divisor.</span></div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;<span class="comment">// If we want the remainder, we shift the value left by the number of trailing</span></div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;<span class="comment">// zeros and add the bits that were shifted out of the dividend.</span></div>
<div class="line"><a name="l07284"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a8cbb5470864ad6605358c0ca545eb816"> 7284</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a8cbb5470864ad6605358c0ca545eb816">TargetLowering::expandDIVREMByConstant</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;                                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;Result,</div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;                                            <a class="code" href="structllvm_1_1EVT.html">EVT</a> HiLoVT, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LL, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LH)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode();</div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160; </div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;  <span class="comment">// TODO: Support signed division/remainder.</span></div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">ISD::SDIV</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a">ISD::SDIVREM</a>)</div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;      (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">ISD::UDIV</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a257ffa49107e2db978e8a6e2688ada">ISD::UDIVREM</a>) &amp;&amp;</div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;      <span class="stringliteral">&quot;Unexpected opcode&quot;</span>);</div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160; </div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;  <span class="keyword">auto</span> *CN = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;  <span class="keywordflow">if</span> (!CN)</div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160; </div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Divisor = CN-&gt;getAPIntValue();</div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = Divisor.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>();</div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;  <span class="keywordtype">unsigned</span> HBitWidth = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> / 2;</div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() == <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp;</div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;         HiLoVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() == HBitWidth &amp;&amp; <span class="stringliteral">&quot;Unexpected VTs&quot;</span>);</div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160; </div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;  <span class="comment">// Divisor needs to less than (1 &lt;&lt; HBitWidth).</span></div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> HalfMaxPlus1 = <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, HBitWidth);</div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;  <span class="keywordflow">if</span> (Divisor.<a class="code" href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">uge</a>(HalfMaxPlus1))</div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160; </div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;  <span class="comment">// We depend on the UREM by constant optimization in DAGCombiner that requires</span></div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;  <span class="comment">// high multiply.</span></div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">ISD::MULHU</a>, HiLoVT) &amp;&amp;</div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;      !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>, HiLoVT))</div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160; </div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;  <span class="comment">// Don&#39;t expand if optimizing for size.</span></div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;  <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a47baccab6f8c3355a61bb4f70b2fc352">shouldOptForSize</a>())</div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160; </div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;  <span class="comment">// Early out for 0 or 1 divisors.</span></div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;  <span class="keywordflow">if</span> (Divisor.<a class="code" href="classllvm_1_1APInt.html#aca14d9ec64ba4ab7fb2cef37c57d9ce4">ule</a>(1))</div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160; </div>
<div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;  <span class="comment">// If the divisor is even, shift it until it becomes odd.</span></div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;  <span class="keywordtype">unsigned</span> TrailingZeros = 0;</div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;  <span class="keywordflow">if</span> (!Divisor[0]) {</div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;    TrailingZeros = Divisor.<a class="code" href="classllvm_1_1APInt.html#a9a99431f0828d0222c617eb876bc5d34">countTrailingZeros</a>();</div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;    Divisor.<a class="code" href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">lshrInPlace</a>(TrailingZeros);</div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;  }</div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160; </div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sum;</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PartialRem;</div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160; </div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;  <span class="comment">// If (1 &lt;&lt; HBitWidth) % divisor == 1, we can add the two halves together and</span></div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;  <span class="comment">// then add in the carry.</span></div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;  <span class="comment">// TODO: If we can&#39;t split it in half, we might be able to split into 3 or</span></div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;  <span class="comment">// more pieces using a smaller bit width.</span></div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;  <span class="keywordflow">if</span> (HalfMaxPlus1.<a class="code" href="classllvm_1_1APInt.html#a4e3a2187cacdec76028617a403c47d89">urem</a>(Divisor).<a class="code" href="classllvm_1_1APInt.html#a70b776533a213161c23bacae02f07c7b">isOneValue</a>()) {</div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!LL == !LH &amp;&amp; <span class="stringliteral">&quot;Expected both input halves or no input halves!&quot;</span>);</div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;    <span class="keywordflow">if</span> (!LL) {</div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;      LL = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">ISD::EXTRACT_ELEMENT</a>, dl, HiLoVT, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0),</div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab85f5fcb2f3bb0aaf83041a41182a2d4">getIntPtrConstant</a>(0, dl));</div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;      LH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">ISD::EXTRACT_ELEMENT</a>, dl, HiLoVT, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0),</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab85f5fcb2f3bb0aaf83041a41182a2d4">getIntPtrConstant</a>(1, dl));</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;    }</div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160; </div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;    <span class="comment">// Shift the input by the number of TrailingZeros in the divisor. The</span></div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;    <span class="comment">// shifted out bits will be added to the remainder later.</span></div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;    <span class="keywordflow">if</span> (TrailingZeros) {</div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;      <span class="comment">// Save the shifted off bits if we need the remainder.</span></div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;      <span class="keywordflow">if</span> (Opcode != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">ISD::UDIV</a>) {</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(HBitWidth, TrailingZeros);</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;        PartialRem = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, HiLoVT, LL,</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, dl, HiLoVT));</div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;      }</div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160; </div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;      LL = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(</div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;          <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, HiLoVT,</div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, HiLoVT, LL,</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae2810b3cf01b222cc31fac876f9580ee">getShiftAmountConstant</a>(TrailingZeros, HiLoVT, dl)),</div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, HiLoVT, LH,</div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae2810b3cf01b222cc31fac876f9580ee">getShiftAmountConstant</a>(HBitWidth - TrailingZeros,</div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;                                                 HiLoVT, dl)));</div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;      LH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, HiLoVT, LH,</div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae2810b3cf01b222cc31fac876f9580ee">getShiftAmountConstant</a>(TrailingZeros, HiLoVT, dl));</div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;    }</div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160; </div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;    <span class="comment">// Use addcarry if we can, otherwise use a compare to detect overflow.</span></div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SetCCType =</div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), HiLoVT);</div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">ISD::ADDCARRY</a>, HiLoVT)) {</div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;      <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTList = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(HiLoVT, SetCCType);</div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;      Sum = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9">ISD::UADDO</a>, dl, VTList, LL, LH);</div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;      Sum = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">ISD::ADDCARRY</a>, dl, VTList, Sum,</div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, HiLoVT), Sum.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1));</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;      Sum = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, HiLoVT, LL, LH);</div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Carry = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCType, Sum, LL, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>);</div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;      <span class="comment">// If the boolean for the target is 0 or 1, we can add the setcc result</span></div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;      <span class="comment">// directly.</span></div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(HiLoVT) ==</div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;          <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">TargetLoweringBase::ZeroOrOneBooleanContent</a>)</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;        Carry = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(Carry, dl, HiLoVT);</div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;        Carry = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, HiLoVT, Carry, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, HiLoVT),</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, HiLoVT));</div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;      Sum = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, HiLoVT, Sum, Carry);</div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;    }</div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;  }</div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160; </div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;  <span class="comment">// If we didn&#39;t find a sum, we can&#39;t do the expansion.</span></div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;  <span class="keywordflow">if</span> (!Sum)</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160; </div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;  <span class="comment">// Perform a HiLoVT urem on the Sum using truncated divisor.</span></div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RemL =</div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>, dl, HiLoVT, Sum,</div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Divisor.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(HBitWidth), dl, HiLoVT));</div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RemH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, HiLoVT);</div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160; </div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;  <span class="keywordflow">if</span> (Opcode != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>) {</div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;    <span class="comment">// Subtract the remainder from the shifted dividend.</span></div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Dividend = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD_PAIR</a>, dl, VT, LL, LH);</div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Rem = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD_PAIR</a>, dl, VT, RemL, RemH);</div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160; </div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;    Dividend = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, Dividend, Rem);</div>
<div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160; </div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;    <span class="comment">// Multiply by the multiplicative inverse of the divisor modulo</span></div>
<div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;    <span class="comment">// (1 &lt;&lt; BitWidth).</span></div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a> = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> + 1);</div>
<div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MulFactor = Divisor.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> + 1);</div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;    MulFactor = MulFactor.<a class="code" href="classllvm_1_1APInt.html#a28ee15b0286415cce5599d4fb9f9ce02">multiplicativeInverse</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>);</div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;    MulFactor = MulFactor.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160; </div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Quotient = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, VT, Dividend,</div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;                                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MulFactor, dl, VT));</div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160; </div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;    <span class="comment">// Split the quotient into low and high parts.</span></div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> QuotL = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">ISD::EXTRACT_ELEMENT</a>, dl, HiLoVT, Quotient,</div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab85f5fcb2f3bb0aaf83041a41182a2d4">getIntPtrConstant</a>(0, dl));</div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> QuotH = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">ISD::EXTRACT_ELEMENT</a>, dl, HiLoVT, Quotient,</div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab85f5fcb2f3bb0aaf83041a41182a2d4">getIntPtrConstant</a>(1, dl));</div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;    Result.push_back(QuotL);</div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;    Result.push_back(QuotH);</div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;  }</div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160; </div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;  <span class="keywordflow">if</span> (Opcode != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">ISD::UDIV</a>) {</div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;    <span class="comment">// If we shifted the input, shift the remainder left and add the bits we</span></div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;    <span class="comment">// shifted off the input.</span></div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;    <span class="keywordflow">if</span> (TrailingZeros) {</div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(HBitWidth, TrailingZeros);</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;      RemL = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, HiLoVT, RemL,</div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae2810b3cf01b222cc31fac876f9580ee">getShiftAmountConstant</a>(TrailingZeros, HiLoVT, dl));</div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;      RemL = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, HiLoVT, RemL, PartialRem);</div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;    }</div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;    Result.push_back(RemL);</div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;    Result.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, HiLoVT));</div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;  }</div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160; </div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;}</div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160; </div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;<span class="comment">// Check that (every element of) Z is undef or not an exact multiple of BW.</span></div>
<div class="line"><a name="l07448"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#a5bff9344010e6337ebead35d50f3cb28"> 7448</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="TargetLowering_8cpp.html#a5bff9344010e6337ebead35d50f3cb28">isNonZeroModBitWidthOrUndef</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, <span class="keywordtype">unsigned</span> BW) {</div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ISD.html#a309c11edf22da984f95cf9ba7a699c11">ISD::matchUnaryPredicate</a>(</div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;      <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>,</div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;      [=](<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) { <span class="keywordflow">return</span> !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue().urem(BW) != 0; },</div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;      <span class="keyword">true</span>);</div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;}</div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160; </div>
<div class="line"><a name="l07455"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#a0c43f88b7b733fa84bb93583d9163b54"> 7455</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLowering_8cpp.html#a0c43f88b7b733fa84bb93583d9163b54">expandVPFunnelShift</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG) {</div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShX, ShY;</div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShAmt, InvShAmt;</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = Node-&gt;getOperand(2);</div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = Node-&gt;getOperand(3);</div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL = Node-&gt;getOperand(4);</div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160; </div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;  <span class="keywordtype">unsigned</span> BW = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;  <span class="keywordtype">bool</span> IsFSHL = Node-&gt;getOpcode() == ISD::VP_FSHL;</div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, 0));</div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160; </div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>.getValueType();</div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="TargetLowering_8cpp.html#a5bff9344010e6337ebead35d50f3cb28">isNonZeroModBitWidthOrUndef</a>(<a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, BW)) {</div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;    <span class="comment">// fshl: X &lt;&lt; C | Y &gt;&gt; (BW - C)</span></div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;    <span class="comment">// fshr: X &lt;&lt; (BW - C) | Y &gt;&gt; C</span></div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;    <span class="comment">// where C = Z % BW is not zero</span></div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BitWidthC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(BW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;    ShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_UREM, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, BitWidthC, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;    InvShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SUB, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, BitWidthC, ShAmt, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;    ShX = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, IsFSHL ? ShAmt : InvShAmt, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;                      VL);</div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;    ShY = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, IsFSHL ? InvShAmt : ShAmt, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;                      VL);</div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;    <span class="comment">// fshl: X &lt;&lt; (Z % BW) | Y &gt;&gt; 1 &gt;&gt; (BW - 1 - (Z % BW))</span></div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;    <span class="comment">// fshr: X &lt;&lt; 1 &lt;&lt; (BW - 1 - (Z % BW)) | Y &gt;&gt; (Z % BW)</span></div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BitMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(BW - 1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(BW)) {</div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;      <span class="comment">// Z % BW -&gt; Z &amp; (BW - 1)</span></div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;      ShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, BitMask, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;      <span class="comment">// (BW - 1) - (Z % BW) -&gt; ~Z &amp; (BW - 1)</span></div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NotZ = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_XOR, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>,</div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8100b5a4f22f962b81df4353c7dca01a">getAllOnesConstant</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;      InvShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, NotZ, BitMask, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BitWidthC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(BW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;      ShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_UREM, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, BitWidthC, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;      InvShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SUB, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, BitMask, ShAmt, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;    }</div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160; </div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> One = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;    <span class="keywordflow">if</span> (IsFSHL) {</div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;      ShX = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, ShAmt, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShY1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, One, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;      ShY = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ShY1, InvShAmt, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShX1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, One, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;      ShX = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ShX1, InvShAmt, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;      ShY = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, ShAmt, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;    }</div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;  }</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ShX, ShY, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;}</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160; </div>
<div class="line"><a name="l07512"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ac235e5942edbad0726778d5de323e0cf"> 7512</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#ac235e5942edbad0726778d5de323e0cf">TargetLowering::expandFunnelShift</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node,</div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;                                          <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;isVPOpcode())</div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="TargetLowering_8cpp.html#a0c43f88b7b733fa84bb93583d9163b54">expandVPFunnelShift</a>(Node, DAG);</div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160; </div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160; </div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, VT) ||</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;                        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, VT) ||</div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;                        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT) ||</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;                        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, VT)))</div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160; </div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = Node-&gt;getOperand(2);</div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160; </div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;  <span class="keywordtype">unsigned</span> BW = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;  <span class="keywordtype">bool</span> IsFSHL = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a822b0d02b601898e2d6db5b39e12cc8a">ISD::FSHL</a>;</div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, 0));</div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160; </div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>.getValueType();</div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160; </div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;  <span class="comment">// If a funnel shift in the other direction is more supported, use it.</span></div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;  <span class="keywordtype">unsigned</span> RevOpcode = IsFSHL ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a874350de5b4f6b8f4db13940e17ed81b">ISD::FSHR</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a822b0d02b601898e2d6db5b39e12cc8a">ISD::FSHL</a>;</div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(Node-&gt;getOpcode(), VT) &amp;&amp;</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(RevOpcode, VT) &amp;&amp; <a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(BW)) {</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="TargetLowering_8cpp.html#a5bff9344010e6337ebead35d50f3cb28">isNonZeroModBitWidthOrUndef</a>(<a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, BW)) {</div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;      <span class="comment">// fshl X, Y, Z -&gt; fshr X, Y, -Z</span></div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;      <span class="comment">// fshr X, Y, Z -&gt; fshl X, Y, -Z</span></div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;      <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Zero, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>);</div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;      <span class="comment">// fshl X, Y, Z -&gt; fshr (srl X, 1), (fshr X, Y, 1), ~Z</span></div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;      <span class="comment">// fshr X, Y, Z -&gt; fshl (fshl X, Y, 1), (shl Y, 1), ~Z</span></div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> One = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;      <span class="keywordflow">if</span> (IsFSHL) {</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;        <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(RevOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, One);</div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;        <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, One);</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;        <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(RevOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, One);</div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;        <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, One);</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;      }</div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;      <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, ShVT);</div>
<div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;    }</div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(RevOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>);</div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;  }</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160; </div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShX, ShY;</div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShAmt, InvShAmt;</div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="TargetLowering_8cpp.html#a5bff9344010e6337ebead35d50f3cb28">isNonZeroModBitWidthOrUndef</a>(<a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, BW)) {</div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;    <span class="comment">// fshl: X &lt;&lt; C | Y &gt;&gt; (BW - C)</span></div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;    <span class="comment">// fshr: X &lt;&lt; (BW - C) | Y &gt;&gt; C</span></div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;    <span class="comment">// where C = Z % BW is not zero</span></div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BitWidthC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(BW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;    ShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, BitWidthC);</div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;    InvShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, BitWidthC, ShAmt);</div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;    ShX = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, IsFSHL ? ShAmt : InvShAmt);</div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;    ShY = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, IsFSHL ? InvShAmt : ShAmt);</div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;    <span class="comment">// fshl: X &lt;&lt; (Z % BW) | Y &gt;&gt; 1 &gt;&gt; (BW - 1 - (Z % BW))</span></div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;    <span class="comment">// fshr: X &lt;&lt; 1 &lt;&lt; (BW - 1 - (Z % BW)) | Y &gt;&gt; (Z % BW)</span></div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(BW - 1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(BW)) {</div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;      <span class="comment">// Z % BW -&gt; Z &amp; (BW - 1)</span></div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;      ShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;      <span class="comment">// (BW - 1) - (Z % BW) -&gt; ~Z &amp; (BW - 1)</span></div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;      InvShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, ShVT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BitWidthC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(BW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;      ShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, BitWidthC);</div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;      InvShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, ShAmt);</div>
<div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;    }</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160; </div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> One = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;    <span class="keywordflow">if</span> (IsFSHL) {</div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;      ShX = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, ShAmt);</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShY1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, One);</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;      ShY = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ShY1, InvShAmt);</div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShX1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, One);</div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;      ShX = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ShX1, InvShAmt);</div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;      ShY = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, ShAmt);</div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;    }</div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;  }</div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ShX, ShY);</div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;}</div>
<div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160; </div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;<span class="comment">// TODO: Merge with expandFunnelShift.</span></div>
<div class="line"><a name="l07601"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ad7132042cb8b5d655e4bd58e346bc820"> 7601</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#ad7132042cb8b5d655e4bd58e346bc820">TargetLowering::expandROT</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <span class="keywordtype">bool</span> AllowVectorOps,</div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;                                  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;  <span class="keywordtype">unsigned</span> EltSizeInBits = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;  <span class="keywordtype">bool</span> IsLeft = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d">ISD::ROTL</a>;</div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, 0));</div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160; </div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = Op1.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160; </div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;  <span class="comment">// If a rotate in the other direction is more supported, use it.</span></div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;  <span class="keywordtype">unsigned</span> RevRot = IsLeft ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d">ISD::ROTL</a>;</div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(Node-&gt;getOpcode(), VT) &amp;&amp;</div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(RevRot, VT) &amp;&amp; <a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(EltSizeInBits)) {</div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, Zero, Op1);</div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(RevRot, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0, Sub);</div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;  }</div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160; </div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;  <span class="keywordflow">if</span> (!AllowVectorOps &amp;&amp; VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp;</div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;      (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, VT) ||</div>
<div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;       !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, VT) ||</div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;       !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT) ||</div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;       !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, VT) ||</div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;       !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, VT)))</div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160; </div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;  <span class="keywordtype">unsigned</span> ShOpc = IsLeft ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>;</div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;  <span class="keywordtype">unsigned</span> HsOpc = IsLeft ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>;</div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BitWidthMinusOneC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(EltSizeInBits - 1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShVal;</div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HsVal;</div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(EltSizeInBits)) {</div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;    <span class="comment">// (rotl x, c) -&gt; x &lt;&lt; (c &amp; (w - 1)) | x &gt;&gt; (-c &amp; (w - 1))</span></div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;    <span class="comment">// (rotr x, c) -&gt; x &gt;&gt; (c &amp; (w - 1)) | x &lt;&lt; (-c &amp; (w - 1))</span></div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegOp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, Zero, Op1);</div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, Op1, BitWidthMinusOneC);</div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;    ShVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ShOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0, ShAmt);</div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HsAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, NegOp1, BitWidthMinusOneC);</div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;    HsVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(HsOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0, HsAmt);</div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;    <span class="comment">// (rotl x, c) -&gt; x &lt;&lt; (c % w) | x &gt;&gt; 1 &gt;&gt; (w - 1 - (c % w))</span></div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;    <span class="comment">// (rotr x, c) -&gt; x &gt;&gt; (c % w) | x &lt;&lt; 1 &lt;&lt; (w - 1 - (c % w))</span></div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BitWidthC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(EltSizeInBits, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, Op1, BitWidthC);</div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;    ShVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ShOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0, ShAmt);</div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HsAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT, BitWidthMinusOneC, ShAmt);</div>
<div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> One = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShVT);</div>
<div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;    HsVal =</div>
<div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(HsOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(HsOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0, One), HsAmt);</div>
<div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;  }</div>
<div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ShVal, HsVal);</div>
<div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;}</div>
<div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160; </div>
<div class="line"><a name="l07656"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ae2df7595bc1ca95875194e801eb0831c"> 7656</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#ae2df7595bc1ca95875194e801eb0831c">TargetLowering::expandShiftParts</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi,</div>
<div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;                                      <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node-&gt;getNumOperands() == 3 &amp;&amp; <span class="stringliteral">&quot;Not a double-shift!&quot;</span>);</div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;  <span class="keywordtype">unsigned</span> VTBits = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(VTBits) &amp;&amp; <span class="stringliteral">&quot;Power-of-two integer type expected&quot;</span>);</div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160; </div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;  <span class="keywordtype">bool</span> IsSHL = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeb80f9832dad739ee9c6deaa3110d98f">ISD::SHL_PARTS</a>;</div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;  <span class="keywordtype">bool</span> IsSRA = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78139be59781ad05e1698eb95c58e0b1">ISD::SRA_PARTS</a>;</div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShOpLo = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShOpHi = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShAmt = Node-&gt;getOperand(2);</div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShAmtVT = ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShAmtCCVT =</div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), ShAmtVT);</div>
<div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160; </div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;  <span class="comment">// ISD::FSHL and ISD::FSHR have defined overflow behavior but ISD::SHL and</span></div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;  <span class="comment">// ISD::SRA/L nodes haven&#39;t. Insert an AND to be safe, it&#39;s usually optimized</span></div>
<div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;  <span class="comment">// away during isel.</span></div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SafeShAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, ShAmtVT, ShAmt,</div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;                                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(VTBits - 1, dl, ShAmtVT));</div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp1 = IsSRA ? DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, ShOpHi,</div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;                                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(VTBits - 1, dl, ShAmtVT))</div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;                       : DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160; </div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp2, Tmp3;</div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;  <span class="keywordflow">if</span> (IsSHL) {</div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a822b0d02b601898e2d6db5b39e12cc8a">ISD::FSHL</a>, dl, VT, ShOpHi, ShOpLo, ShAmt);</div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, ShOpLo, SafeShAmt);</div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a874350de5b4f6b8f4db13940e17ed81b">ISD::FSHR</a>, dl, VT, ShOpHi, ShOpLo, ShAmt);</div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(IsSRA ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, ShOpHi, SafeShAmt);</div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;  }</div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160; </div>
<div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160;  <span class="comment">// If the shift amount is larger or equal than the width of a part we don&#39;t</span></div>
<div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;  <span class="comment">// use the result from the FSHL/FSHR. Insert a test and select the appropriate</span></div>
<div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;  <span class="comment">// values for large shift amounts.</span></div>
<div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AndNode = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, ShAmtVT, ShAmt,</div>
<div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(VTBits, dl, ShAmtVT));</div>
<div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, ShAmtCCVT, AndNode,</div>
<div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, ShAmtVT), <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160; </div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;  <span class="keywordflow">if</span> (IsSHL) {</div>
<div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, dl, VT, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Tmp3, Tmp2);</div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, dl, VT, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Tmp1, Tmp3);</div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, dl, VT, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Tmp3, Tmp2);</div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, dl, VT, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Tmp1, Tmp3);</div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160;  }</div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;}</div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160; </div>
<div class="line"><a name="l07708"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a9f3f6cd0784625e11013d812e56b259a"> 7708</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a9f3f6cd0784625e11013d812e56b259a">TargetLowering::expandFP_TO_SINT</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Result,</div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;                                      <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;  <span class="keywordtype">unsigned</span> OpNo = Node-&gt;isStrictFPOpcode() ? 1 : 0;</div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = Node-&gt;getOperand(OpNo);</div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, 0));</div>
<div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160; </div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;  <span class="comment">// FIXME: Only f32 to i64 conversions are supported.</span></div>
<div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;  <span class="keywordflow">if</span> (SrcVT != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a> || DstVT != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div>
<div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160; </div>
<div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;isStrictFPOpcode())</div>
<div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160;    <span class="comment">// When a NaN is converted to an integer a trap is allowed. We can&#39;t</span></div>
<div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160;    <span class="comment">// use this expansion here because it would eliminate that trap. Other</span></div>
<div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;    <span class="comment">// traps are also allowed and cannot be eliminated. See</span></div>
<div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;    <span class="comment">// IEEE 754-2008 sec 5.8.</span></div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160; </div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;  <span class="comment">// Expand f32 -&gt; i64 conversion</span></div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;  <span class="comment">// This algorithm comes from compiler-rt&#39;s implementation of fixsfdi:</span></div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;  <span class="comment">// https://github.com/llvm/llvm-project/blob/main/compiler-rt/lib/builtins/fixsfdi.c</span></div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;  <span class="keywordtype">unsigned</span> SrcEltBits = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> IntVT = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a6f2db4dd37c9d8a3544e4cad4a2aac49">changeTypeToInteger</a>();</div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> IntShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(IntVT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160; </div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExponentMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0x7F800000, dl, IntVT);</div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExponentLoBit = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(23, dl, IntVT);</div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Bias = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(127, dl, IntVT);</div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SignMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a1e6f0d8dfed0ab631b488a3e6317718e">APInt::getSignMask</a>(SrcEltBits), dl, IntVT);</div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SignLowBit = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(SrcEltBits - 1, dl, IntVT);</div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MantissaMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0x007FFFFF, dl, IntVT);</div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160; </div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, IntVT, Src);</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160; </div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExponentBits = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(</div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, IntVT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, IntVT, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, ExponentMask),</div>
<div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(ExponentLoBit, dl, IntShVT));</div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm.html#a403260df3a211e47e65f35fbfd9bee8faf5ccb8d51ca38e2f3329955fc0149cd4">Exponent</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, IntVT, ExponentBits, Bias);</div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160; </div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sign = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, IntVT,</div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, IntVT, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, SignMask),</div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(SignLowBit, dl, IntShVT));</div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;  Sign = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9c2450d7d33fb2ecb9b645f1ca6a9a64">getSExtOrTrunc</a>(Sign, dl, DstVT);</div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160; </div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> R = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, IntVT,</div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, IntVT, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, MantissaMask),</div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0x00800000, dl, IntVT));</div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160; </div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;  R = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(R, dl, DstVT);</div>
<div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160; </div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;  R = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(</div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;      dl, <a class="code" href="namespacellvm.html#a403260df3a211e47e65f35fbfd9bee8faf5ccb8d51ca38e2f3329955fc0149cd4">Exponent</a>, ExponentLoBit,</div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, DstVT, R,</div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(</div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, IntVT, <a class="code" href="namespacellvm.html#a403260df3a211e47e65f35fbfd9bee8faf5ccb8d51ca38e2f3329955fc0149cd4">Exponent</a>, ExponentLoBit),</div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;                      dl, IntShVT)),</div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, DstVT, R,</div>
<div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(</div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, IntVT, ExponentLoBit, <a class="code" href="namespacellvm.html#a403260df3a211e47e65f35fbfd9bee8faf5ccb8d51ca38e2f3329955fc0149cd4">Exponent</a>),</div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;                      dl, IntShVT)),</div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>);</div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160; </div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, DstVT,</div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, DstVT, R, Sign), Sign);</div>
<div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160; </div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;  Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, <a class="code" href="namespacellvm.html#a403260df3a211e47e65f35fbfd9bee8faf5ccb8d51ca38e2f3329955fc0149cd4">Exponent</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, IntVT),</div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;                           DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, DstVT), <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;}</div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160; </div>
<div class="line"><a name="l07779"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a6fe22335c423eff43d9ea9ff58c1a8db"> 7779</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a6fe22335c423eff43d9ea9ff58c1a8db">TargetLowering::expandFP_TO_UINT</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Result,</div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;                                      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Chain,</div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;                                      <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, 0));</div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160;  <span class="keywordtype">unsigned</span> OpNo = Node-&gt;isStrictFPOpcode() ? 1 : 0;</div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = Node-&gt;getOperand(OpNo);</div>
<div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160; </div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SetCCVT =</div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), SrcVT);</div>
<div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstSetCCVT =</div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), DstVT);</div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160; </div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;  <span class="comment">// Only expand vector types if we have the appropriate vector bit operations.</span></div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;  <span class="keywordtype">unsigned</span> SIntOpcode = Node-&gt;isStrictFPOpcode() ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac2618c1a69fa9d62427a5a6dc43e24ed">ISD::STRICT_FP_TO_SINT</a> :</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;                                                   <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>;</div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;  <span class="keywordflow">if</span> (DstVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(SIntOpcode, DstVT) ||</div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;                           !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, SrcVT)))</div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160; </div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;  <span class="comment">// If the maximum float value is smaller then the signed integer range,</span></div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;  <span class="comment">// the destination signmask can&#39;t be represented by the float, so we can</span></div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;  <span class="comment">// just use FP_TO_SINT directly.</span></div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;APFSem = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7742fb3f3703dcf2a7d32e22dbe6a6df">EVTToAPFloatSemantics</a>(SrcVT);</div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> APF(APFSem, <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(SrcVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>()));</div>
<div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> SignMask = <a class="code" href="classllvm_1_1APInt.html#a1e6f0d8dfed0ab631b488a3e6317718e">APInt::getSignMask</a>(DstVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1APFloatBase.html#aee544c332088dbef348a0c1c97e21a6aa054516d40647594fd6e9e436a9aa308f">APFloat::opOverflow</a> &amp;</div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;      APF.<a class="code" href="classllvm_1_1APFloat.html#a7a046fe3d1230e4804494ce18bae1175">convertFromAPInt</a>(SignMask, <span class="keyword">false</span>, <a class="code" href="structllvm_1_1APFloatBase.html#a22ed74f1ed33c4d33f524a650ea536a6">APFloat::rmNearestTiesToEven</a>)) {</div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;    <span class="keywordflow">if</span> (Node-&gt;isStrictFPOpcode()) {</div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;      Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac2618c1a69fa9d62427a5a6dc43e24ed">ISD::STRICT_FP_TO_SINT</a>, dl, { DstVT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a> },</div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;                           { Node-&gt;getOperand(0), Src });</div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;      Chain = Result.getValue(1);</div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;      Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>, dl, DstVT, Src);</div>
<div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;  }</div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160; </div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;  <span class="comment">// Don&#39;t expand it if there isn&#39;t cheap fsub instruction.</span></div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(</div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;          Node-&gt;isStrictFPOpcode() ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad6192a54cb1dfeca8173749cc735269a">ISD::STRICT_FSUB</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, SrcVT))</div>
<div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160; </div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Cst = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(APF, dl, SrcVT);</div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sel;</div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160; </div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;isStrictFPOpcode()) {</div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;    Sel = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT, Src, Cst, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>,</div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;                       Node-&gt;getOperand(0), <span class="comment">/*IsSignaling*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;    Chain = Sel.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;    Sel = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT, Src, Cst, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;  }</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160; </div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1FPOpFusion.html#a9c71bae9f02af273833fde586d529fc5a451b4af21652249f72a40a7f9b88ca4f">Strict</a> = Node-&gt;isStrictFPOpcode() ||</div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;                <a class="code" href="classllvm_1_1TargetLoweringBase.html#acfb6d055ff40649191068eae2f52a67b">shouldUseStrictFP_TO_INT</a>(SrcVT, DstVT, <span class="comment">/*IsSigned*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160; </div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1FPOpFusion.html#a9c71bae9f02af273833fde586d529fc5a451b4af21652249f72a40a7f9b88ca4f">Strict</a>) {</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;    <span class="comment">// Expand based on maximum range of FP_TO_SINT, if the value exceeds the</span></div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;    <span class="comment">// signmask then offset (the result of which should be fully representable).</span></div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;    <span class="comment">// Sel = Src &lt; 0x8000000000000000</span></div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;    <span class="comment">// FltOfs = select Sel, 0, 0x8000000000000000</span></div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;    <span class="comment">// IntOfs = select Sel, 0, 0x8000000000000000</span></div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;    <span class="comment">// Result = fp_to_sint(Src - FltOfs) ^ IntOfs</span></div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160; </div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;    <span class="comment">// TODO: Should any fast-math-flags be set for the FSUB?</span></div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FltOfs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, SrcVT, Sel,</div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;                                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(0.0, dl, SrcVT), Cst);</div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;    Sel = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa7e66d5a43444879fa5037f2cfaa4de5">getBoolExtOrTrunc</a>(Sel, dl, DstSetCCVT, DstVT);</div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IntOfs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, DstVT, Sel,</div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;                                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, DstVT),</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;                                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(SignMask, dl, DstVT));</div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SInt;</div>
<div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;    <span class="keywordflow">if</span> (Node-&gt;isStrictFPOpcode()) {</div>
<div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad6192a54cb1dfeca8173749cc735269a">ISD::STRICT_FSUB</a>, dl, { SrcVT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a> },</div>
<div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;                                { Chain, Src, FltOfs });</div>
<div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160;      SInt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac2618c1a69fa9d62427a5a6dc43e24ed">ISD::STRICT_FP_TO_SINT</a>, dl, { DstVT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a> },</div>
<div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160;                         { Val.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1), Val });</div>
<div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;      Chain = SInt.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, SrcVT, Src, FltOfs);</div>
<div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;      SInt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>, dl, DstVT, Val);</div>
<div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;    }</div>
<div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;    Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, DstVT, SInt, IntOfs);</div>
<div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;    <span class="comment">// Expand based on maximum range of FP_TO_SINT:</span></div>
<div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160;    <span class="comment">// True = fp_to_sint(Src)</span></div>
<div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;    <span class="comment">// False = 0x8000000000000000 + fp_to_sint(Src - 0x8000000000000000)</span></div>
<div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;    <span class="comment">// Result = select (Src &lt; 0x8000000000000000), True, False</span></div>
<div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160; </div>
<div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> True = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>, dl, DstVT, Src);</div>
<div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;    <span class="comment">// TODO: Should any fast-math-flags be set for the FSUB?</span></div>
<div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> False = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>, dl, DstVT,</div>
<div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, SrcVT, Src, Cst));</div>
<div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;    False = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, DstVT, False,</div>
<div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160;                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(SignMask, dl, DstVT));</div>
<div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;    Sel = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa7e66d5a43444879fa5037f2cfaa4de5">getBoolExtOrTrunc</a>(Sel, dl, DstSetCCVT, DstVT);</div>
<div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;    Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, DstVT, Sel, True, False);</div>
<div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160;  }</div>
<div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;}</div>
<div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160; </div>
<div class="line"><a name="l07881"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#af891179ec1a3f9e9bfaedede7d68783e"> 7881</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#af891179ec1a3f9e9bfaedede7d68783e">TargetLowering::expandUINT_TO_FP</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Result,</div>
<div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;                                      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Chain,</div>
<div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;                                      <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;  <span class="comment">// This transform is not correct for converting 0 when rounding mode is set</span></div>
<div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;  <span class="comment">// to round toward negative infinity which will produce -0.0. So disable under</span></div>
<div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160;  <span class="comment">// strictfp.</span></div>
<div class="line"><a name="l07887"></a><span class="lineno"> 7887</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;isStrictFPOpcode())</div>
<div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160; </div>
<div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160; </div>
<div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160;  <span class="keywordflow">if</span> (SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>() != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> || DstVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>() != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)</div>
<div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160; </div>
<div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;  <span class="comment">// Only expand vector types if we have the appropriate vector bit operations.</span></div>
<div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;  <span class="keywordflow">if</span> (SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, SrcVT) ||</div>
<div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160;                           !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, DstVT) ||</div>
<div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;                           !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, DstVT) ||</div>
<div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;                           !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, SrcVT) ||</div>
<div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;                           !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, SrcVT)))</div>
<div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160; </div>
<div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, 0));</div>
<div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(SrcVT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160; </div>
<div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;  <span class="comment">// Implementation of unsigned i64 to f64 following the algorithm in</span></div>
<div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160;  <span class="comment">// __floatundidf in compiler_rt.  This implementation performs rounding</span></div>
<div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;  <span class="comment">// correctly in all rounding modes with the exception of converting 0</span></div>
<div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;  <span class="comment">// when rounding toward negative infinity. In that case the fsub will produce</span></div>
<div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;  <span class="comment">// -0.0. This will be added to +0.0 and produce -0.0 which is incorrect.</span></div>
<div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TwoP52 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(UINT64_C(0x4330000000000000), dl, SrcVT);</div>
<div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TwoP84PlusTwoP52 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(</div>
<div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;      llvm::bit_cast&lt;double&gt;(UINT64_C(0x4530000000100000)), dl, DstVT);</div>
<div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TwoP84 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(UINT64_C(0x4530000000000000), dl, SrcVT);</div>
<div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(UINT64_C(0x00000000FFFFFFFF), dl, SrcVT);</div>
<div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiShift = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(32, dl, ShiftVT);</div>
<div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160; </div>
<div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, SrcVT, Src, LoMask);</div>
<div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, SrcVT, Src, HiShift);</div>
<div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoOr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, SrcVT, Lo, TwoP52);</div>
<div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiOr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, SrcVT, Hi, TwoP84);</div>
<div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoFlt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(DstVT, LoOr);</div>
<div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiFlt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(DstVT, HiOr);</div>
<div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiSub =</div>
<div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, DstVT, HiFlt, TwoP84PlusTwoP52);</div>
<div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;  Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, DstVT, LoFlt, HiSub);</div>
<div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160;}</div>
<div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160; </div>
<div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div>
<div class="line"><a name="l07933"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ad5246df5bc35196f7cb5effeaed9f964"> 7933</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#ad5246df5bc35196f7cb5effeaed9f964">TargetLowering::createSelectForFMINNUM_FMAXNUM</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node,</div>
<div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160;                                               <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Node-&gt;getOpcode();</div>
<div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213">ISD::FMINNUM</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a632dd4bb044d5cd11f671d176ef495f2">ISD::FMAXNUM</a> ||</div>
<div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;          Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a98f18e85e4e6421f5c859680602a4c1f">ISD::STRICT_FMINNUM</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92f7a0e4dfe860ff938d463d84270ba3">ISD::STRICT_FMAXNUM</a>) &amp;&amp;</div>
<div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;         <span class="stringliteral">&quot;Wrong opcode&quot;</span>);</div>
<div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160; </div>
<div class="line"><a name="l07940"></a><span class="lineno"> 7940</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;getFlags().hasNoNaNs()) {</div>
<div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> Pred = Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213">ISD::FMINNUM</a> ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>;</div>
<div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op2 = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SelCC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(<a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(Node), Op1, Op2, Op1, Op2, Pred);</div>
<div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160;    <span class="comment">// Copy FMF flags, but always set the no-signed-zeros flag</span></div>
<div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;    <span class="comment">// as this is implied by the FMINNUM/FMAXNUM semantics.</span></div>
<div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160;    <a class="code" href="structllvm_1_1SDNodeFlags.html">SDNodeFlags</a> Flags = Node-&gt;getFlags();</div>
<div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160;    Flags.setNoSignedZeros(<span class="keyword">true</span>);</div>
<div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160;    SelCC-&gt;<a class="code" href="classllvm_1_1SDNode.html#add49be7f78dace3e4363786d14d30899">setFlags</a>(Flags);</div>
<div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160;    <span class="keywordflow">return</span> SelCC;</div>
<div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;  }</div>
<div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160; </div>
<div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160;}</div>
<div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160; </div>
<div class="line"><a name="l07956"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ada7446963e28dafe99e2fcf693f4407a"> 7956</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#ada7446963e28dafe99e2fcf693f4407a">TargetLowering::expandFMINNUM_FMAXNUM</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node,</div>
<div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160;                                              <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;  <span class="keywordtype">unsigned</span> NewOp = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213">ISD::FMINNUM</a> ?</div>
<div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a907932b29f929b1827b1b93171dcaa3c">ISD::FMINNUM_IEEE</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a25e670389809910f59726e8a11fa82e0">ISD::FMAXNUM_IEEE</a>;</div>
<div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l07962"></a><span class="lineno"> 7962</span>&#160; </div>
<div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160;        <span class="stringliteral">&quot;Expanding fminnum/fmaxnum for scalable vectors is undefined.&quot;</span>);</div>
<div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160; </div>
<div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(NewOp, VT)) {</div>
<div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Quiet0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Quiet1 = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160; </div>
<div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;    <span class="keywordflow">if</span> (!Node-&gt;getFlags().hasNoNaNs()) {</div>
<div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160;      <span class="comment">// Insert canonicalizes if it&#39;s possible we need to quiet to get correct</span></div>
<div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160;      <span class="comment">// sNaN behavior.</span></div>
<div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;      <span class="keywordflow">if</span> (!DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a0da57507f04fced034b498faff01f90b">isKnownNeverSNaN</a>(Quiet0)) {</div>
<div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;        Quiet0 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a74a787311d3ab9a17ee0acde7b6a6b14">ISD::FCANONICALIZE</a>, dl, VT, Quiet0,</div>
<div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;                             Node-&gt;getFlags());</div>
<div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;      }</div>
<div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;      <span class="keywordflow">if</span> (!DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a0da57507f04fced034b498faff01f90b">isKnownNeverSNaN</a>(Quiet1)) {</div>
<div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;        Quiet1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a74a787311d3ab9a17ee0acde7b6a6b14">ISD::FCANONICALIZE</a>, dl, VT, Quiet1,</div>
<div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;                             Node-&gt;getFlags());</div>
<div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;      }</div>
<div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;    }</div>
<div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160; </div>
<div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(NewOp, dl, VT, Quiet0, Quiet1, Node-&gt;getFlags());</div>
<div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160;  }</div>
<div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160; </div>
<div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;  <span class="comment">// If the target has FMINIMUM/FMAXIMUM but not FMINNUM/FMAXNUM use that</span></div>
<div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;  <span class="comment">// instead if there are no NaNs and there can&#39;t be an incompatiable zero</span></div>
<div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;  <span class="comment">// compare: at least one operand isn&#39;t +/-0, or there are no signed-zeros.</span></div>
<div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;getFlags().hasNoNaNs() &amp;&amp;</div>
<div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;      (Node-&gt;getFlags().hasNoSignedZeros() ||</div>
<div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160;       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab5835737100eb8c242fbafada69bc19c">isKnownNeverZeroFloat</a>(Node-&gt;getOperand(0)) ||</div>
<div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160;       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab5835737100eb8c242fbafada69bc19c">isKnownNeverZeroFloat</a>(Node-&gt;getOperand(1)))) {</div>
<div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;    <span class="keywordtype">unsigned</span> IEEE2018Op =</div>
<div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160;        Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213">ISD::FMINNUM</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac27a43f98abb2d1ee2f2ce99a0b34b36">ISD::FMINIMUM</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3dfd1b187d121c0e214698eef1c20f53">ISD::FMAXIMUM</a>;</div>
<div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(IEEE2018Op, VT))</div>
<div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(IEEE2018Op, dl, VT, Node-&gt;getOperand(0),</div>
<div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160;                         Node-&gt;getOperand(1), Node-&gt;getFlags());</div>
<div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;  }</div>
<div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160; </div>
<div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SelCC = createSelectForFMINNUM_FMAXNUM(Node, DAG))</div>
<div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;    <span class="keywordflow">return</span> SelCC;</div>
<div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160; </div>
<div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160;}</div>
<div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160; </div>
<div class="line"><a name="l08007"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a39438e0cda44be9ad77c1feb8bf964d0"> 8007</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a39438e0cda44be9ad77c1feb8bf964d0">TargetLowering::expandIS_FPCLASS</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> ResultVT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;                                         <span class="keywordtype">unsigned</span> Test, <a class="code" href="structllvm_1_1SDNodeFlags.html">SDNodeFlags</a> Flags,</div>
<div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;                                         <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OperandVT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OperandVT.<a class="code" href="structllvm_1_1EVT.html#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>());</div>
<div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160; </div>
<div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160;  <span class="comment">// Degenerated cases.</span></div>
<div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> == 0)</div>
<div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(<span class="keyword">false</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, OperandVT);</div>
<div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a>) == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a>)</div>
<div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">getBoolConstant</a>(<span class="keyword">true</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, OperandVT);</div>
<div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160; </div>
<div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;  <span class="comment">// PPC double double is a pair of doubles, of which the higher part determines</span></div>
<div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;  <span class="comment">// the value class.</span></div>
<div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160;  <span class="keywordflow">if</span> (OperandVT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>) {</div>
<div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">ISD::EXTRACT_ELEMENT</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08024"></a><span class="lineno"> 8024</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div>
<div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;    OperandVT = <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>;</div>
<div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;  }</div>
<div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160; </div>
<div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;  <span class="comment">// Some checks may be represented as inversion of simpler check, for example</span></div>
<div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160;  <span class="comment">// &quot;inf|normal|subnormal|zero&quot; =&gt; !&quot;nan&quot;.</span></div>
<div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;  <span class="keywordtype">bool</span> IsInverted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> InvertedCheck = <a class="code" href="namespacellvm.html#a655e5addab0e71ac5b9efd0eb32442d9">getInvertedFPClassTest</a>(<a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a>)) {</div>
<div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160;    IsInverted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;    <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> = InvertedCheck;</div>
<div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;  }</div>
<div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160; </div>
<div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;  <span class="comment">// Floating-point type properties.</span></div>
<div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ScalarFloatVT = OperandVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Type.html">Type</a> *FloatTy = ScalarFloatVT.<a class="code" href="structllvm_1_1EVT.html#ab0cfceeb37508e56f9c127e59766a668">getTypeForEVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>());</div>
<div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a> &amp;Semantics = FloatTy-&gt;<a class="code" href="classllvm_1_1Type.html#adc21598ac33ea9d50f3a939f26a28940">getFltSemantics</a>();</div>
<div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;  <span class="keywordtype">bool</span> IsF80 = (ScalarFloatVT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a6c5745e529b6b3534599c54d82bc4691">MVT::f80</a>);</div>
<div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160; </div>
<div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;  <span class="comment">// Some checks can be implemented using float comparisons, if floating point</span></div>
<div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160;  <span class="comment">// exceptions are ignored.</span></div>
<div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;  <span class="keywordflow">if</span> (Flags.hasNoFPExcept() &amp;&amp;</div>
<div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, OperandVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>())) {</div>
<div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a68c7b3dbc94a6864f2cf566958954247">fcZero</a>) {</div>
<div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;      <a class="code" href="structllvm_1_1DenormalMode.html">DenormalMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a5f3f664c3c8fef0ffd2833ae21254117">getDenormalMode</a>(Semantics);</div>
<div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>.Input == <a class="code" href="structllvm_1_1DenormalMode.html#a29b26e3ae30f3f6ec4106ff181282893ad6fd23eb0b98a2d4551582753191b6da">DenormalMode::IEEE</a>) {</div>
<div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160;        <span class="comment">// If denormals could be implicitly treated as 0, this is not equivalent</span></div>
<div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160;        <span class="comment">// to a compare with 0 since it will also be true for denormals.</span></div>
<div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;        <span class="comment">// TODO: With DAZ, check == fcZero | fcSubnormal</span></div>
<div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(0.0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OperandVT),</div>
<div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160;                            IsInverted ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0d1546187d4d526fcbdd43183689075e">ISD::SETUNE</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862">ISD::SETOEQ</a>);</div>
<div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160;      }</div>
<div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;    }</div>
<div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160; </div>
<div class="line"><a name="l08059"></a><span class="lineno"> 8059</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a>)</div>
<div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160;                          IsInverted ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">ISD::SETO</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::SETUO</a>);</div>
<div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;  }</div>
<div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160; </div>
<div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160;  <span class="comment">// In the general case use integer operations.</span></div>
<div class="line"><a name="l08065"></a><span class="lineno"> 8065</span>&#160;  <span class="keywordtype">unsigned</span> BitSize = OperandVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> IntVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), BitSize);</div>
<div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160;  <span class="keywordflow">if</span> (OperandVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>())</div>
<div class="line"><a name="l08068"></a><span class="lineno"> 8068</span>&#160;    IntVT = <a class="code" href="structllvm_1_1EVT.html#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), IntVT,</div>
<div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160;                             OperandVT.<a class="code" href="structllvm_1_1EVT.html#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</div>
<div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OpAsInt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(IntVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160; </div>
<div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160;  <span class="comment">// Various masks.</span></div>
<div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> SignBit = <a class="code" href="classllvm_1_1APInt.html#a1e6f0d8dfed0ab631b488a3e6317718e">APInt::getSignMask</a>(BitSize);</div>
<div class="line"><a name="l08074"></a><span class="lineno"> 8074</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> ValueMask = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(BitSize);     <span class="comment">// All bits but sign.</span></div>
<div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Inf = <a class="code" href="classllvm_1_1APFloat.html#ab35b08ed1345493af2c69fbb71e4d0c3">APFloat::getInf</a>(Semantics).<a class="code" href="classllvm_1_1APFloat.html#a9c5a2112c559ffbe2c7bbf5698b6482f">bitcastToAPInt</a>(); <span class="comment">// Exp and int bit.</span></div>
<div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> ExplicitIntBitInF80 = 63;</div>
<div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> ExpMask = Inf;</div>
<div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160;  <span class="keywordflow">if</span> (IsF80)</div>
<div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;    ExpMask.<a class="code" href="classllvm_1_1APInt.html#a155466c9ea0a2bd00e09c62fdce2c052">clearBit</a>(ExplicitIntBitInF80);</div>
<div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> AllOneMantissa = <a class="code" href="classllvm_1_1APFloat.html#aaa67fe0741c2b3712630ae636f8c2c20">APFloat::getLargest</a>(Semantics).<a class="code" href="classllvm_1_1APFloat.html#a9c5a2112c559ffbe2c7bbf5698b6482f">bitcastToAPInt</a>() &amp; ~Inf;</div>
<div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> QNaNBitMask =</div>
<div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(BitSize, AllOneMantissa.<a class="code" href="classllvm_1_1APInt.html#a3015474e70e59c0a3ed4f9f0e8644b75">getActiveBits</a>() - 1);</div>
<div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> InvertionMask = <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(ResultVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160; </div>
<div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ValueMaskV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ValueMask, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SignBitV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(SignBit, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExpMaskV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ExpMask, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ZeroV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InfV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Inf, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ResultInvertionMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(InvertionMask, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT);</div>
<div class="line"><a name="l08091"></a><span class="lineno"> 8091</span>&#160; </div>
<div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res;</div>
<div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> appendResult = [&amp;](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PartialRes) {</div>
<div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160;    <span class="keywordflow">if</span> (PartialRes) {</div>
<div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;      <span class="keywordflow">if</span> (Res)</div>
<div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160;        Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, Res, PartialRes);</div>
<div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160;        Res = PartialRes;</div>
<div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160;    }</div>
<div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160;  };</div>
<div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160; </div>
<div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IntBitIsSetV; <span class="comment">// Explicit integer bit in f80 mantissa is set.</span></div>
<div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> getIntBitIsSet = [&amp;]() -&gt; <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> {</div>
<div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160;    <span class="keywordflow">if</span> (!IntBitIsSetV) {</div>
<div class="line"><a name="l08105"></a><span class="lineno"> 8105</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> IntBitMask(BitSize, 0);</div>
<div class="line"><a name="l08106"></a><span class="lineno"> 8106</span>&#160;      IntBitMask.<a class="code" href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">setBit</a>(ExplicitIntBitInF80);</div>
<div class="line"><a name="l08107"></a><span class="lineno"> 8107</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IntBitMaskV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(IntBitMask, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IntBitV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT, OpAsInt, IntBitMaskV);</div>
<div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160;      IntBitIsSetV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, IntBitV, ZeroV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160;    }</div>
<div class="line"><a name="l08111"></a><span class="lineno"> 8111</span>&#160;    <span class="keywordflow">return</span> IntBitIsSetV;</div>
<div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160;  };</div>
<div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160; </div>
<div class="line"><a name="l08114"></a><span class="lineno"> 8114</span>&#160;  <span class="comment">// Split the value into sign bit and absolute value.</span></div>
<div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AbsV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT, OpAsInt, ValueMaskV);</div>
<div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SignV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, OpAsInt,</div>
<div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0.0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT), <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160; </div>
<div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160;  <span class="comment">// Tests that involve more than one class should be processed first.</span></div>
<div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PartialRes;</div>
<div class="line"><a name="l08121"></a><span class="lineno"> 8121</span>&#160; </div>
<div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;  <span class="keywordflow">if</span> (IsF80)</div>
<div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160;    ; <span class="comment">// Detect finite numbers of f80 by checking individual classes because</span></div>
<div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;      <span class="comment">// they have different settings of the explicit integer bit.</span></div>
<div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a65e723f5216f7e4c19d5c7c81e290053">fcFinite</a>) == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a65e723f5216f7e4c19d5c7c81e290053">fcFinite</a>) {</div>
<div class="line"><a name="l08126"></a><span class="lineno"> 8126</span>&#160;    <span class="comment">// finite(V) ==&gt; abs(V) &lt; exp_mask</span></div>
<div class="line"><a name="l08127"></a><span class="lineno"> 8127</span>&#160;    PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, AbsV, ExpMaskV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;    <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp;= ~<a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a65e723f5216f7e4c19d5c7c81e290053">fcFinite</a>;</div>
<div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a65e723f5216f7e4c19d5c7c81e290053">fcFinite</a>) == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a1e0f1de98d5e5415cf2ae9aa20993d69">fcPosFinite</a>) {</div>
<div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160;    <span class="comment">// finite(V) &amp;&amp; V &gt; 0 ==&gt; V &lt; exp_mask</span></div>
<div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;    PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, OpAsInt, ExpMaskV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>);</div>
<div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160;    <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp;= ~<a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a1e0f1de98d5e5415cf2ae9aa20993d69">fcPosFinite</a>;</div>
<div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a65e723f5216f7e4c19d5c7c81e290053">fcFinite</a>) == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67aad6706481db6d8fac9a1cb6c3edd3b41">fcNegFinite</a>) {</div>
<div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;    <span class="comment">// finite(V) &amp;&amp; V &lt; 0 ==&gt; abs(V) &lt; exp_mask &amp;&amp; signbit == 1</span></div>
<div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;    PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, AbsV, ExpMaskV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160;    PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, PartialRes, SignV);</div>
<div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;    <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp;= ~<a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67aad6706481db6d8fac9a1cb6c3edd3b41">fcNegFinite</a>;</div>
<div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;  }</div>
<div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160;  appendResult(PartialRes);</div>
<div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160; </div>
<div class="line"><a name="l08141"></a><span class="lineno"> 8141</span>&#160;  <span class="comment">// Check for individual classes.</span></div>
<div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160; </div>
<div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> PartialCheck = <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a68c7b3dbc94a6864f2cf566958954247">fcZero</a>) {</div>
<div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;    <span class="keywordflow">if</span> (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3ce5d8e60ab35c2eac434686f7938f13">fcPosZero</a>)</div>
<div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, OpAsInt, ZeroV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a68c7b3dbc94a6864f2cf566958954247">fcZero</a>)</div>
<div class="line"><a name="l08147"></a><span class="lineno"> 8147</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, AbsV, ZeroV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160;    <span class="keywordflow">else</span> <span class="comment">// ISD::fcNegZero</span></div>
<div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, OpAsInt, SignBitV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08150"></a><span class="lineno"> 8150</span>&#160;    appendResult(PartialRes);</div>
<div class="line"><a name="l08151"></a><span class="lineno"> 8151</span>&#160;  }</div>
<div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160; </div>
<div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> PartialCheck = <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7">fcInf</a>) {</div>
<div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160;    <span class="keywordflow">if</span> (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ace8cc3cdd99d4ce78ff9f4bf4c681d28">fcPosInf</a>)</div>
<div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, OpAsInt, InfV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7">fcInf</a>)</div>
<div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, AbsV, InfV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160;    <span class="keywordflow">else</span> { <span class="comment">// ISD::fcNegInf</span></div>
<div class="line"><a name="l08159"></a><span class="lineno"> 8159</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> NegInf = <a class="code" href="classllvm_1_1APFloat.html#ab35b08ed1345493af2c69fbb71e4d0c3">APFloat::getInf</a>(Semantics, <span class="keyword">true</span>).<a class="code" href="classllvm_1_1APFloat.html#a9c5a2112c559ffbe2c7bbf5698b6482f">bitcastToAPInt</a>();</div>
<div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegInfV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(NegInf, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, OpAsInt, NegInfV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160;    }</div>
<div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;    appendResult(PartialRes);</div>
<div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;  }</div>
<div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160; </div>
<div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> PartialCheck = <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a>) {</div>
<div class="line"><a name="l08167"></a><span class="lineno"> 8167</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InfWithQnanBit = Inf | QNaNBitMask;</div>
<div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InfWithQnanBitV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(InfWithQnanBit, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160;    <span class="keywordflow">if</span> (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a>) {</div>
<div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160;      <span class="comment">// isnan(V) ==&gt; abs(V) &gt; int(inf)</span></div>
<div class="line"><a name="l08171"></a><span class="lineno"> 8171</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, AbsV, InfV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>);</div>
<div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;      <span class="keywordflow">if</span> (IsF80) {</div>
<div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160;        <span class="comment">// Recognize unsupported values as NaNs for compatibility with glibc.</span></div>
<div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;        <span class="comment">// In them (exp(V)==0) == int_bit.</span></div>
<div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExpBits = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT, AbsV, ExpMaskV);</div>
<div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExpIsZero =</div>
<div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, ExpBits, ZeroV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IsPseudo =</div>
<div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, getIntBitIsSet(), ExpIsZero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;        PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, PartialRes, IsPseudo);</div>
<div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;      }</div>
<div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a9db118513388c635dee4a573de902842">fcQNan</a>) {</div>
<div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;      <span class="comment">// isquiet(V) ==&gt; abs(V) &gt;= (unsigned(Inf) | quiet_bit)</span></div>
<div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160;      PartialRes =</div>
<div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, AbsV, InfWithQnanBitV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a>);</div>
<div class="line"><a name="l08186"></a><span class="lineno"> 8186</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// ISD::fcSNan</span></div>
<div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;      <span class="comment">// issignaling(V) ==&gt; abs(V) &gt; unsigned(Inf) &amp;&amp;</span></div>
<div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160;      <span class="comment">//                    abs(V) &lt; (unsigned(Inf) | quiet_bit)</span></div>
<div class="line"><a name="l08189"></a><span class="lineno"> 8189</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IsNan = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, AbsV, InfV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>);</div>
<div class="line"><a name="l08190"></a><span class="lineno"> 8190</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IsNotQnan =</div>
<div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, AbsV, InfWithQnanBitV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, IsNan, IsNotQnan);</div>
<div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160;    }</div>
<div class="line"><a name="l08194"></a><span class="lineno"> 8194</span>&#160;    appendResult(PartialRes);</div>
<div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;  }</div>
<div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160; </div>
<div class="line"><a name="l08197"></a><span class="lineno"> 8197</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> PartialCheck = <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a1d0a7c99f3541df874ad98ba481b27d6">fcSubnormal</a>) {</div>
<div class="line"><a name="l08198"></a><span class="lineno"> 8198</span>&#160;    <span class="comment">// issubnormal(V) ==&gt; unsigned(abs(V) - 1) &lt; (all mantissa bits set)</span></div>
<div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160;    <span class="comment">// issubnormal(V) &amp;&amp; V&gt;0 ==&gt; unsigned(V - 1) &lt; (all mantissa bits set)</span></div>
<div class="line"><a name="l08200"></a><span class="lineno"> 8200</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a2415abc0d17bb4bfad67606913c8ce10">fcPosSubnormal</a>) ? OpAsInt : AbsV;</div>
<div class="line"><a name="l08201"></a><span class="lineno"> 8201</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MantissaV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(AllOneMantissa, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08202"></a><span class="lineno"> 8202</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VMinusOneV =</div>
<div class="line"><a name="l08203"></a><span class="lineno"> 8203</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT, V, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT));</div>
<div class="line"><a name="l08204"></a><span class="lineno"> 8204</span>&#160;    PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, VMinusOneV, MantissaV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>);</div>
<div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;    <span class="keywordflow">if</span> (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67aef5dadf4b31ffe9ff41bc8b25bd012de">fcNegSubnormal</a>)</div>
<div class="line"><a name="l08206"></a><span class="lineno"> 8206</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, PartialRes, SignV);</div>
<div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160;    appendResult(PartialRes);</div>
<div class="line"><a name="l08208"></a><span class="lineno"> 8208</span>&#160;  }</div>
<div class="line"><a name="l08209"></a><span class="lineno"> 8209</span>&#160; </div>
<div class="line"><a name="l08210"></a><span class="lineno"> 8210</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> PartialCheck = <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a64cb92f784db53c70b9246a3cc632b25">fcNormal</a>) {</div>
<div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160;    <span class="comment">// isnormal(V) ==&gt; (0 &lt; exp &lt; max_exp) ==&gt; (unsigned(exp-1) &lt; (max_exp-1))</span></div>
<div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> ExpLSB = ExpMask &amp; ~(ExpMask.<a class="code" href="classllvm_1_1APInt.html#acb9c55b6986369948507ca5241b4e411">shl</a>(1));</div>
<div class="line"><a name="l08213"></a><span class="lineno"> 8213</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExpLSBV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ExpLSB, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08214"></a><span class="lineno"> 8214</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExpMinus1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT, AbsV, ExpLSBV);</div>
<div class="line"><a name="l08215"></a><span class="lineno"> 8215</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> ExpLimit = ExpMask - ExpLSB;</div>
<div class="line"><a name="l08216"></a><span class="lineno"> 8216</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExpLimitV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ExpLimit, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntVT);</div>
<div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160;    PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, ExpMinus1, ExpLimitV, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>);</div>
<div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160;    <span class="keywordflow">if</span> (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a60c3b254a3f56b2bf31bc568492c4a74">fcNegNormal</a>)</div>
<div class="line"><a name="l08219"></a><span class="lineno"> 8219</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, PartialRes, SignV);</div>
<div class="line"><a name="l08220"></a><span class="lineno"> 8220</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PartialCheck == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67afff82cc4502e0e3bf3575c9622284e18">fcPosNormal</a>) {</div>
<div class="line"><a name="l08221"></a><span class="lineno"> 8221</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PosSignV =</div>
<div class="line"><a name="l08222"></a><span class="lineno"> 8222</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, SignV, ResultInvertionMask);</div>
<div class="line"><a name="l08223"></a><span class="lineno"> 8223</span>&#160;      PartialRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, PartialRes, PosSignV);</div>
<div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160;    }</div>
<div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;    <span class="keywordflow">if</span> (IsF80)</div>
<div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160;      PartialRes =</div>
<div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, PartialRes, getIntBitIsSet());</div>
<div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;    appendResult(PartialRes);</div>
<div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160;  }</div>
<div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160; </div>
<div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;  <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(IsInverted, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT);</div>
<div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160;  <span class="keywordflow">if</span> (IsInverted)</div>
<div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160;    Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT, Res, ResultInvertionMask);</div>
<div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160;}</div>
<div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160; </div>
<div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160;<span class="comment">// Only expand vector types if we have the appropriate vector bit operations.</span></div>
<div class="line"><a name="l08239"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#ac8600b395666a2e54d6f347b58df6f62"> 8239</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="TargetLowering_8cpp.html#ac8600b395666a2e54d6f347b58df6f62">canExpandVectorCTPOP</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT) {</div>
<div class="line"><a name="l08240"></a><span class="lineno"> 8240</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; <span class="stringliteral">&quot;Expected vector type&quot;</span>);</div>
<div class="line"><a name="l08241"></a><span class="lineno"> 8241</span>&#160;  <span class="keywordtype">unsigned</span> Len = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l08242"></a><span class="lineno"> 8242</span>&#160;  <span class="keywordflow">return</span> TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08243"></a><span class="lineno"> 8243</span>&#160;         TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08244"></a><span class="lineno"> 8244</span>&#160;         TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;         (Len == 8 || TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, VT)) &amp;&amp;</div>
<div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160;         TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, VT);</div>
<div class="line"><a name="l08247"></a><span class="lineno"> 8247</span>&#160;}</div>
<div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160; </div>
<div class="line"><a name="l08249"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a8169a107c2b941a9c2504bb5d22331a1"> 8249</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a8169a107c2b941a9c2504bb5d22331a1">TargetLowering::expandCTPOP</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;  <span class="keywordtype">unsigned</span> Len = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp; <span class="stringliteral">&quot;CTPOP not implemented for this type.&quot;</span>);</div>
<div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160; </div>
<div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;  <span class="comment">// TODO: Add support for irregular type lengths.</span></div>
<div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;  <span class="keywordflow">if</span> (!(Len &lt;= 128 &amp;&amp; Len % 8 == 0))</div>
<div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160; </div>
<div class="line"><a name="l08261"></a><span class="lineno"> 8261</span>&#160;  <span class="comment">// Only expand vector types if we have the appropriate vector bit operations.</span></div>
<div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; !<a class="code" href="TargetLowering_8cpp.html#ac8600b395666a2e54d6f347b58df6f62">canExpandVectorCTPOP</a>(*<span class="keyword">this</span>, VT))</div>
<div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160; </div>
<div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160;  <span class="comment">// This is the &quot;best&quot; algorithm from</span></div>
<div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160;  <span class="comment">// http://graphics.stanford.edu/~seander/bithacks.html#CountBitsSetParallel</span></div>
<div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Mask55 =</div>
<div class="line"><a name="l08268"></a><span class="lineno"> 8268</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Len, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x55)), dl, VT);</div>
<div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Mask33 =</div>
<div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Len, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x33)), dl, VT);</div>
<div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Mask0F =</div>
<div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Len, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x0F)), dl, VT);</div>
<div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160; </div>
<div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160;  <span class="comment">// v = v - ((v &gt;&gt; 1) &amp; 0x55555555...)</span></div>
<div class="line"><a name="l08275"></a><span class="lineno"> 8275</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160;                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT,</div>
<div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160;                                           DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, ShVT)),</div>
<div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;                               Mask55));</div>
<div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160;  <span class="comment">// v = (v &amp; 0x33333333...) + ((v &gt;&gt; 2) &amp; 0x33333333...)</span></div>
<div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Mask33),</div>
<div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160;                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT,</div>
<div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;                                           DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(2, dl, ShVT)),</div>
<div class="line"><a name="l08285"></a><span class="lineno"> 8285</span>&#160;                               Mask33));</div>
<div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160;  <span class="comment">// v = (v + (v &gt;&gt; 4)) &amp; 0x0F0F0F0F...</span></div>
<div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT,</div>
<div class="line"><a name="l08288"></a><span class="lineno"> 8288</span>&#160;                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08290"></a><span class="lineno"> 8290</span>&#160;                                           DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(4, dl, ShVT))),</div>
<div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160;                   Mask0F);</div>
<div class="line"><a name="l08292"></a><span class="lineno"> 8292</span>&#160; </div>
<div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160;  <span class="keywordflow">if</span> (Len &lt;= 8)</div>
<div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>;</div>
<div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160; </div>
<div class="line"><a name="l08296"></a><span class="lineno"> 8296</span>&#160;  <span class="comment">// Avoid the multiply if we only have 2 bytes to add.</span></div>
<div class="line"><a name="l08297"></a><span class="lineno"> 8297</span>&#160;  <span class="comment">// TODO: Only doing this for scalars because vectors weren&#39;t as obviously</span></div>
<div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;  <span class="comment">// improved.</span></div>
<div class="line"><a name="l08299"></a><span class="lineno"> 8299</span>&#160;  <span class="keywordflow">if</span> (Len == 16 &amp;&amp; !VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()) {</div>
<div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160;    <span class="comment">// v = (v + (v &gt;&gt; 8)) &amp; 0x00FF;</span></div>
<div class="line"><a name="l08301"></a><span class="lineno"> 8301</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT,</div>
<div class="line"><a name="l08302"></a><span class="lineno"> 8302</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08303"></a><span class="lineno"> 8303</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160;                                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, ShVT))),</div>
<div class="line"><a name="l08305"></a><span class="lineno"> 8305</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0xFF, dl, VT));</div>
<div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;  }</div>
<div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160; </div>
<div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;  <span class="comment">// v = (v * 0x01010101...) &gt;&gt; (Len - 8)</span></div>
<div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Mask01 =</div>
<div class="line"><a name="l08310"></a><span class="lineno"> 8310</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Len, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x01)), dl, VT);</div>
<div class="line"><a name="l08311"></a><span class="lineno"> 8311</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT,</div>
<div class="line"><a name="l08312"></a><span class="lineno"> 8312</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Mask01),</div>
<div class="line"><a name="l08313"></a><span class="lineno"> 8313</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Len - 8, dl, ShVT));</div>
<div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160;}</div>
<div class="line"><a name="l08315"></a><span class="lineno"> 8315</span>&#160; </div>
<div class="line"><a name="l08316"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ac87f70f51bc37bde7e6bbd8b1d84726e"> 8316</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#ac87f70f51bc37bde7e6bbd8b1d84726e">TargetLowering::expandVPCTPOP</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08317"></a><span class="lineno"> 8317</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l08318"></a><span class="lineno"> 8318</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l08319"></a><span class="lineno"> 8319</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l08320"></a><span class="lineno"> 8320</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l08321"></a><span class="lineno"> 8321</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL = Node-&gt;getOperand(2);</div>
<div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;  <span class="keywordtype">unsigned</span> Len = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp; <span class="stringliteral">&quot;VP_CTPOP not implemented for this type.&quot;</span>);</div>
<div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160; </div>
<div class="line"><a name="l08326"></a><span class="lineno"> 8326</span>&#160;  <span class="comment">// TODO: Add support for irregular type lengths.</span></div>
<div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;  <span class="keywordflow">if</span> (!(Len &lt;= 128 &amp;&amp; Len % 8 == 0))</div>
<div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160; </div>
<div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160;  <span class="comment">// This is same algorithm of expandCTPOP from</span></div>
<div class="line"><a name="l08331"></a><span class="lineno"> 8331</span>&#160;  <span class="comment">// http://graphics.stanford.edu/~seander/bithacks.html#CountBitsSetParallel</span></div>
<div class="line"><a name="l08332"></a><span class="lineno"> 8332</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Mask55 =</div>
<div class="line"><a name="l08333"></a><span class="lineno"> 8333</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Len, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x55)), dl, VT);</div>
<div class="line"><a name="l08334"></a><span class="lineno"> 8334</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Mask33 =</div>
<div class="line"><a name="l08335"></a><span class="lineno"> 8335</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Len, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x33)), dl, VT);</div>
<div class="line"><a name="l08336"></a><span class="lineno"> 8336</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Mask0F =</div>
<div class="line"><a name="l08337"></a><span class="lineno"> 8337</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Len, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x0F)), dl, VT);</div>
<div class="line"><a name="l08338"></a><span class="lineno"> 8338</span>&#160; </div>
<div class="line"><a name="l08339"></a><span class="lineno"> 8339</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp1, Tmp2, Tmp3, Tmp4, Tmp5;</div>
<div class="line"><a name="l08340"></a><span class="lineno"> 8340</span>&#160; </div>
<div class="line"><a name="l08341"></a><span class="lineno"> 8341</span>&#160;  <span class="comment">// v = v - ((v &gt;&gt; 1) &amp; 0x55555555...)</span></div>
<div class="line"><a name="l08342"></a><span class="lineno"> 8342</span>&#160;  Tmp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT,</div>
<div class="line"><a name="l08343"></a><span class="lineno"> 8343</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08344"></a><span class="lineno"> 8344</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, ShVT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL),</div>
<div class="line"><a name="l08345"></a><span class="lineno"> 8345</span>&#160;                     Mask55, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08346"></a><span class="lineno"> 8346</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SUB, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Tmp1, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08347"></a><span class="lineno"> 8347</span>&#160; </div>
<div class="line"><a name="l08348"></a><span class="lineno"> 8348</span>&#160;  <span class="comment">// v = (v &amp; 0x33333333...) + ((v &gt;&gt; 2) &amp; 0x33333333...)</span></div>
<div class="line"><a name="l08349"></a><span class="lineno"> 8349</span>&#160;  Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Mask33, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08350"></a><span class="lineno"> 8350</span>&#160;  Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT,</div>
<div class="line"><a name="l08351"></a><span class="lineno"> 8351</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08352"></a><span class="lineno"> 8352</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(2, dl, ShVT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL),</div>
<div class="line"><a name="l08353"></a><span class="lineno"> 8353</span>&#160;                     Mask33, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08354"></a><span class="lineno"> 8354</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_ADD, dl, VT, Tmp2, Tmp3, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08355"></a><span class="lineno"> 8355</span>&#160; </div>
<div class="line"><a name="l08356"></a><span class="lineno"> 8356</span>&#160;  <span class="comment">// v = (v + (v &gt;&gt; 4)) &amp; 0x0F0F0F0F...</span></div>
<div class="line"><a name="l08357"></a><span class="lineno"> 8357</span>&#160;  Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(4, dl, ShVT),</div>
<div class="line"><a name="l08358"></a><span class="lineno"> 8358</span>&#160;                     <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL),</div>
<div class="line"><a name="l08359"></a><span class="lineno"> 8359</span>&#160;  Tmp5 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_ADD, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Tmp4, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08360"></a><span class="lineno"> 8360</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp5, Mask0F, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08361"></a><span class="lineno"> 8361</span>&#160; </div>
<div class="line"><a name="l08362"></a><span class="lineno"> 8362</span>&#160;  <span class="keywordflow">if</span> (Len &lt;= 8)</div>
<div class="line"><a name="l08363"></a><span class="lineno"> 8363</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>;</div>
<div class="line"><a name="l08364"></a><span class="lineno"> 8364</span>&#160; </div>
<div class="line"><a name="l08365"></a><span class="lineno"> 8365</span>&#160;  <span class="comment">// v = (v * 0x01010101...) &gt;&gt; (Len - 8)</span></div>
<div class="line"><a name="l08366"></a><span class="lineno"> 8366</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Mask01 =</div>
<div class="line"><a name="l08367"></a><span class="lineno"> 8367</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Len, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x01)), dl, VT);</div>
<div class="line"><a name="l08368"></a><span class="lineno"> 8368</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT,</div>
<div class="line"><a name="l08369"></a><span class="lineno"> 8369</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_MUL, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Mask01, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL),</div>
<div class="line"><a name="l08370"></a><span class="lineno"> 8370</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Len - 8, dl, ShVT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08371"></a><span class="lineno"> 8371</span>&#160;}</div>
<div class="line"><a name="l08372"></a><span class="lineno"> 8372</span>&#160; </div>
<div class="line"><a name="l08373"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a35b92ee9c5d6e9d4bec2ca1064091381"> 8373</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a35b92ee9c5d6e9d4bec2ca1064091381">TargetLowering::expandCTLZ</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08374"></a><span class="lineno"> 8374</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l08375"></a><span class="lineno"> 8375</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l08376"></a><span class="lineno"> 8376</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l08377"></a><span class="lineno"> 8377</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l08378"></a><span class="lineno"> 8378</span>&#160;  <span class="keywordtype">unsigned</span> NumBitsPerElt = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l08379"></a><span class="lineno"> 8379</span>&#160; </div>
<div class="line"><a name="l08380"></a><span class="lineno"> 8380</span>&#160;  <span class="comment">// If the non-ZERO_UNDEF version is supported we can use that instead.</span></div>
<div class="line"><a name="l08381"></a><span class="lineno"> 8381</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">ISD::CTLZ_ZERO_UNDEF</a> &amp;&amp;</div>
<div class="line"><a name="l08382"></a><span class="lineno"> 8382</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>, VT))</div>
<div class="line"><a name="l08383"></a><span class="lineno"> 8383</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08384"></a><span class="lineno"> 8384</span>&#160; </div>
<div class="line"><a name="l08385"></a><span class="lineno"> 8385</span>&#160;  <span class="comment">// If the ZERO_UNDEF version is supported use that and handle the zero case.</span></div>
<div class="line"><a name="l08386"></a><span class="lineno"> 8386</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">ISD::CTLZ_ZERO_UNDEF</a>, VT)) {</div>
<div class="line"><a name="l08387"></a><span class="lineno"> 8387</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SetCCVT =</div>
<div class="line"><a name="l08388"></a><span class="lineno"> 8388</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l08389"></a><span class="lineno"> 8389</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">CTLZ</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">ISD::CTLZ_ZERO_UNDEF</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08390"></a><span class="lineno"> 8390</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l08391"></a><span class="lineno"> 8391</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SrcIsZero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Zero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08392"></a><span class="lineno"> 8392</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, SrcIsZero,</div>
<div class="line"><a name="l08393"></a><span class="lineno"> 8393</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(NumBitsPerElt, dl, VT), <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">CTLZ</a>);</div>
<div class="line"><a name="l08394"></a><span class="lineno"> 8394</span>&#160;  }</div>
<div class="line"><a name="l08395"></a><span class="lineno"> 8395</span>&#160; </div>
<div class="line"><a name="l08396"></a><span class="lineno"> 8396</span>&#160;  <span class="comment">// Only expand vector types if we have the appropriate vector bit operations.</span></div>
<div class="line"><a name="l08397"></a><span class="lineno"> 8397</span>&#160;  <span class="comment">// This includes the operations needed to expand CTPOP if it isn&#39;t supported.</span></div>
<div class="line"><a name="l08398"></a><span class="lineno"> 8398</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; (!<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(NumBitsPerElt) ||</div>
<div class="line"><a name="l08399"></a><span class="lineno"> 8399</span>&#160;                        (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08400"></a><span class="lineno"> 8400</span>&#160;                         !<a class="code" href="TargetLowering_8cpp.html#ac8600b395666a2e54d6f347b58df6f62">canExpandVectorCTPOP</a>(*<span class="keyword">this</span>, VT)) ||</div>
<div class="line"><a name="l08401"></a><span class="lineno"> 8401</span>&#160;                        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, VT) ||</div>
<div class="line"><a name="l08402"></a><span class="lineno"> 8402</span>&#160;                        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, VT)))</div>
<div class="line"><a name="l08403"></a><span class="lineno"> 8403</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08404"></a><span class="lineno"> 8404</span>&#160; </div>
<div class="line"><a name="l08405"></a><span class="lineno"> 8405</span>&#160;  <span class="comment">// for now, we do this:</span></div>
<div class="line"><a name="l08406"></a><span class="lineno"> 8406</span>&#160;  <span class="comment">// x = x | (x &gt;&gt; 1);</span></div>
<div class="line"><a name="l08407"></a><span class="lineno"> 8407</span>&#160;  <span class="comment">// x = x | (x &gt;&gt; 2);</span></div>
<div class="line"><a name="l08408"></a><span class="lineno"> 8408</span>&#160;  <span class="comment">// ...</span></div>
<div class="line"><a name="l08409"></a><span class="lineno"> 8409</span>&#160;  <span class="comment">// x = x | (x &gt;&gt;16);</span></div>
<div class="line"><a name="l08410"></a><span class="lineno"> 8410</span>&#160;  <span class="comment">// x = x | (x &gt;&gt;32); // for 64-bit input</span></div>
<div class="line"><a name="l08411"></a><span class="lineno"> 8411</span>&#160;  <span class="comment">// return popcount(~x);</span></div>
<div class="line"><a name="l08412"></a><span class="lineno"> 8412</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l08413"></a><span class="lineno"> 8413</span>&#160;  <span class="comment">// Ref: &quot;Hacker&#39;s Delight&quot; by Henry Warren</span></div>
<div class="line"><a name="l08414"></a><span class="lineno"> 8414</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; (1U &lt;&lt; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &lt; NumBitsPerElt; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l08415"></a><span class="lineno"> 8415</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1ULL &lt;&lt; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, dl, ShVT);</div>
<div class="line"><a name="l08416"></a><span class="lineno"> 8416</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08417"></a><span class="lineno"> 8417</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Tmp));</div>
<div class="line"><a name="l08418"></a><span class="lineno"> 8418</span>&#160;  }</div>
<div class="line"><a name="l08419"></a><span class="lineno"> 8419</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, VT);</div>
<div class="line"><a name="l08420"></a><span class="lineno"> 8420</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08421"></a><span class="lineno"> 8421</span>&#160;}</div>
<div class="line"><a name="l08422"></a><span class="lineno"> 8422</span>&#160; </div>
<div class="line"><a name="l08423"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a060643cd486cc89888445e758f5b270e"> 8423</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a060643cd486cc89888445e758f5b270e">TargetLowering::expandVPCTLZ</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08424"></a><span class="lineno"> 8424</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l08425"></a><span class="lineno"> 8425</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l08426"></a><span class="lineno"> 8426</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l08427"></a><span class="lineno"> 8427</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l08428"></a><span class="lineno"> 8428</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l08429"></a><span class="lineno"> 8429</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL = Node-&gt;getOperand(2);</div>
<div class="line"><a name="l08430"></a><span class="lineno"> 8430</span>&#160;  <span class="keywordtype">unsigned</span> NumBitsPerElt = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l08431"></a><span class="lineno"> 8431</span>&#160; </div>
<div class="line"><a name="l08432"></a><span class="lineno"> 8432</span>&#160;  <span class="comment">// do this:</span></div>
<div class="line"><a name="l08433"></a><span class="lineno"> 8433</span>&#160;  <span class="comment">// x = x | (x &gt;&gt; 1);</span></div>
<div class="line"><a name="l08434"></a><span class="lineno"> 8434</span>&#160;  <span class="comment">// x = x | (x &gt;&gt; 2);</span></div>
<div class="line"><a name="l08435"></a><span class="lineno"> 8435</span>&#160;  <span class="comment">// ...</span></div>
<div class="line"><a name="l08436"></a><span class="lineno"> 8436</span>&#160;  <span class="comment">// x = x | (x &gt;&gt;16);</span></div>
<div class="line"><a name="l08437"></a><span class="lineno"> 8437</span>&#160;  <span class="comment">// x = x | (x &gt;&gt;32); // for 64-bit input</span></div>
<div class="line"><a name="l08438"></a><span class="lineno"> 8438</span>&#160;  <span class="comment">// return popcount(~x);</span></div>
<div class="line"><a name="l08439"></a><span class="lineno"> 8439</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; (1U &lt;&lt; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &lt; NumBitsPerElt; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l08440"></a><span class="lineno"> 8440</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1ULL &lt;&lt; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, dl, ShVT);</div>
<div class="line"><a name="l08441"></a><span class="lineno"> 8441</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08442"></a><span class="lineno"> 8442</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Tmp, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l08443"></a><span class="lineno"> 8443</span>&#160;                     VL);</div>
<div class="line"><a name="l08444"></a><span class="lineno"> 8444</span>&#160;  }</div>
<div class="line"><a name="l08445"></a><span class="lineno"> 8445</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_XOR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(-1, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l08446"></a><span class="lineno"> 8446</span>&#160;                   VL);</div>
<div class="line"><a name="l08447"></a><span class="lineno"> 8447</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_CTPOP, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08448"></a><span class="lineno"> 8448</span>&#160;}</div>
<div class="line"><a name="l08449"></a><span class="lineno"> 8449</span>&#160; </div>
<div class="line"><a name="l08450"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a8c5e243fcdaefa1d19ac0ba7f15c4591"> 8450</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a8c5e243fcdaefa1d19ac0ba7f15c4591">TargetLowering::CTTZTableLookup</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l08451"></a><span class="lineno"> 8451</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08452"></a><span class="lineno"> 8452</span>&#160;                                        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08453"></a><span class="lineno"> 8453</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> != 32 &amp;&amp; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> != 64)</div>
<div class="line"><a name="l08454"></a><span class="lineno"> 8454</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08455"></a><span class="lineno"> 8455</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DeBruijn = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> == 32 ? <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, 0x077CB531U)</div>
<div class="line"><a name="l08456"></a><span class="lineno"> 8456</span>&#160;                                  : <a class="code" href="classllvm_1_1APInt.html">APInt</a>(64, 0x0218A392CD3D5DBFULL);</div>
<div class="line"><a name="l08457"></a><span class="lineno"> 8457</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;TD = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>();</div>
<div class="line"><a name="l08458"></a><span class="lineno"> 8458</span>&#160;  <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a> PtrInfo =</div>
<div class="line"><a name="l08459"></a><span class="lineno"> 8459</span>&#160;      <a class="code" href="structllvm_1_1MachinePointerInfo.html#a8b1a64bd0c1be7a99998055c78d1312b">MachinePointerInfo::getConstantPool</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>());</div>
<div class="line"><a name="l08460"></a><span class="lineno"> 8460</span>&#160;  <span class="keywordtype">unsigned</span> ShiftAmt = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l08461"></a><span class="lineno"> 8461</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Neg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08462"></a><span class="lineno"> 8462</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86FloatingPoint_8cpp.html#ac28513e2e067144d291d2d8f0301b61a">Lookup</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(</div>
<div class="line"><a name="l08463"></a><span class="lineno"> 8463</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l08464"></a><span class="lineno"> 8464</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Neg),</div>
<div class="line"><a name="l08465"></a><span class="lineno"> 8465</span>&#160;                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(DeBruijn, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT)),</div>
<div class="line"><a name="l08466"></a><span class="lineno"> 8466</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShiftAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l08467"></a><span class="lineno"> 8467</span>&#160;  <a class="code" href="X86FloatingPoint_8cpp.html#ac28513e2e067144d291d2d8f0301b61a">Lookup</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9c2450d7d33fb2ecb9b645f1ca6a9a64">getSExtOrTrunc</a>(<a class="code" href="X86FloatingPoint_8cpp.html#ac28513e2e067144d291d2d8f0301b61a">Lookup</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(TD));</div>
<div class="line"><a name="l08468"></a><span class="lineno"> 8468</span>&#160; </div>
<div class="line"><a name="l08469"></a><span class="lineno"> 8469</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint8_t&gt;</a> Table(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0);</div>
<div class="line"><a name="l08470"></a><span class="lineno"> 8470</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l08471"></a><span class="lineno"> 8471</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Shl = DeBruijn.<a class="code" href="classllvm_1_1APInt.html#acb9c55b6986369948507ca5241b4e411">shl</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l08472"></a><span class="lineno"> 8472</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Lshr = Shl.<a class="code" href="classllvm_1_1APInt.html#af34549c39d6f741fbdaf9a795aa306e9">lshr</a>(ShiftAmt);</div>
<div class="line"><a name="l08473"></a><span class="lineno"> 8473</span>&#160;    Table[Lshr.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>()] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l08474"></a><span class="lineno"> 8474</span>&#160;  }</div>
<div class="line"><a name="l08475"></a><span class="lineno"> 8475</span>&#160; </div>
<div class="line"><a name="l08476"></a><span class="lineno"> 8476</span>&#160;  <span class="comment">// Create a ConstantArray in Constant Pool</span></div>
<div class="line"><a name="l08477"></a><span class="lineno"> 8477</span>&#160;  <span class="keyword">auto</span> *CA = <a class="code" href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">ConstantDataArray::get</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), Table);</div>
<div class="line"><a name="l08478"></a><span class="lineno"> 8478</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CPIdx = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a22c327ddfcb98f911f3197180981f41e">getConstantPool</a>(CA, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(TD),</div>
<div class="line"><a name="l08479"></a><span class="lineno"> 8479</span>&#160;                                      TD.<a class="code" href="classllvm_1_1DataLayout.html#af9185c7e96873c6d2c13e1f1b6322cf6">getPrefTypeAlign</a>(CA-&gt;getType()));</div>
<div class="line"><a name="l08480"></a><span class="lineno"> 8480</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExtLoad = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">ISD::ZEXTLOAD</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">getEntryNode</a>(),</div>
<div class="line"><a name="l08481"></a><span class="lineno"> 8481</span>&#160;                                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7ec0665296f2e3099a8f4d083e77f425">getMemBasePlusOffset</a>(CPIdx, <a class="code" href="X86FloatingPoint_8cpp.html#ac28513e2e067144d291d2d8f0301b61a">Lookup</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>),</div>
<div class="line"><a name="l08482"></a><span class="lineno"> 8482</span>&#160;                                   PtrInfo, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>);</div>
<div class="line"><a name="l08483"></a><span class="lineno"> 8483</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">ISD::CTTZ_ZERO_UNDEF</a>)</div>
<div class="line"><a name="l08484"></a><span class="lineno"> 8484</span>&#160;    <span class="keywordflow">return</span> ExtLoad;</div>
<div class="line"><a name="l08485"></a><span class="lineno"> 8485</span>&#160; </div>
<div class="line"><a name="l08486"></a><span class="lineno"> 8486</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SetCCVT =</div>
<div class="line"><a name="l08487"></a><span class="lineno"> 8487</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l08488"></a><span class="lineno"> 8488</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l08489"></a><span class="lineno"> 8489</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SrcIsZero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SetCCVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Zero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08490"></a><span class="lineno"> 8490</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, SrcIsZero,</div>
<div class="line"><a name="l08491"></a><span class="lineno"> 8491</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT), ExtLoad);</div>
<div class="line"><a name="l08492"></a><span class="lineno"> 8492</span>&#160;}</div>
<div class="line"><a name="l08493"></a><span class="lineno"> 8493</span>&#160; </div>
<div class="line"><a name="l08494"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a36667800244fd25561bfa51041058103"> 8494</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a36667800244fd25561bfa51041058103">TargetLowering::expandCTTZ</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08495"></a><span class="lineno"> 8495</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l08496"></a><span class="lineno"> 8496</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l08497"></a><span class="lineno"> 8497</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l08498"></a><span class="lineno"> 8498</span>&#160;  <span class="keywordtype">unsigned</span> NumBitsPerElt = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l08499"></a><span class="lineno"> 8499</span>&#160; </div>
<div class="line"><a name="l08500"></a><span class="lineno"> 8500</span>&#160;  <span class="comment">// If the non-ZERO_UNDEF version is supported we can use that instead.</span></div>
<div class="line"><a name="l08501"></a><span class="lineno"> 8501</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">ISD::CTTZ_ZERO_UNDEF</a> &amp;&amp;</div>
<div class="line"><a name="l08502"></a><span class="lineno"> 8502</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a>, VT))</div>
<div class="line"><a name="l08503"></a><span class="lineno"> 8503</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08504"></a><span class="lineno"> 8504</span>&#160; </div>
<div class="line"><a name="l08505"></a><span class="lineno"> 8505</span>&#160;  <span class="comment">// If the ZERO_UNDEF version is supported use that and handle the zero case.</span></div>
<div class="line"><a name="l08506"></a><span class="lineno"> 8506</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">ISD::CTTZ_ZERO_UNDEF</a>, VT)) {</div>
<div class="line"><a name="l08507"></a><span class="lineno"> 8507</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SetCCVT =</div>
<div class="line"><a name="l08508"></a><span class="lineno"> 8508</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l08509"></a><span class="lineno"> 8509</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">CTTZ</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">ISD::CTTZ_ZERO_UNDEF</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08510"></a><span class="lineno"> 8510</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l08511"></a><span class="lineno"> 8511</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SrcIsZero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Zero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l08512"></a><span class="lineno"> 8512</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, SrcIsZero,</div>
<div class="line"><a name="l08513"></a><span class="lineno"> 8513</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(NumBitsPerElt, dl, VT), <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">CTTZ</a>);</div>
<div class="line"><a name="l08514"></a><span class="lineno"> 8514</span>&#160;  }</div>
<div class="line"><a name="l08515"></a><span class="lineno"> 8515</span>&#160; </div>
<div class="line"><a name="l08516"></a><span class="lineno"> 8516</span>&#160;  <span class="comment">// Only expand vector types if we have the appropriate vector bit operations.</span></div>
<div class="line"><a name="l08517"></a><span class="lineno"> 8517</span>&#160;  <span class="comment">// This includes the operations needed to expand CTPOP if it isn&#39;t supported.</span></div>
<div class="line"><a name="l08518"></a><span class="lineno"> 8518</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; (!<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(NumBitsPerElt) ||</div>
<div class="line"><a name="l08519"></a><span class="lineno"> 8519</span>&#160;                        (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08520"></a><span class="lineno"> 8520</span>&#160;                         !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08521"></a><span class="lineno"> 8521</span>&#160;                         !<a class="code" href="TargetLowering_8cpp.html#ac8600b395666a2e54d6f347b58df6f62">canExpandVectorCTPOP</a>(*<span class="keyword">this</span>, VT)) ||</div>
<div class="line"><a name="l08522"></a><span class="lineno"> 8522</span>&#160;                        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT) ||</div>
<div class="line"><a name="l08523"></a><span class="lineno"> 8523</span>&#160;                        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, VT) ||</div>
<div class="line"><a name="l08524"></a><span class="lineno"> 8524</span>&#160;                        !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, VT)))</div>
<div class="line"><a name="l08525"></a><span class="lineno"> 8525</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08526"></a><span class="lineno"> 8526</span>&#160; </div>
<div class="line"><a name="l08527"></a><span class="lineno"> 8527</span>&#160;  <span class="comment">// Emit Table Lookup if ISD::CTLZ and ISD::CTPOP are not legal.</span></div>
<div class="line"><a name="l08528"></a><span class="lineno"> 8528</span>&#160;  <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a0248ed29f933c5faa55cbdfebf3139bd">isOperationExpand</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08529"></a><span class="lineno"> 8529</span>&#160;      !<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>, VT))</div>
<div class="line"><a name="l08530"></a><span class="lineno"> 8530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = CTTZTableLookup(Node, DAG, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NumBitsPerElt))</div>
<div class="line"><a name="l08531"></a><span class="lineno"> 8531</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l08532"></a><span class="lineno"> 8532</span>&#160; </div>
<div class="line"><a name="l08533"></a><span class="lineno"> 8533</span>&#160;  <span class="comment">// for now, we use: { return popcount(~x &amp; (x - 1)); }</span></div>
<div class="line"><a name="l08534"></a><span class="lineno"> 8534</span>&#160;  <span class="comment">// unless the target has ctlz but not ctpop, in which case we use:</span></div>
<div class="line"><a name="l08535"></a><span class="lineno"> 8535</span>&#160;  <span class="comment">// { return 32 - nlz(~x &amp; (x-1)); }</span></div>
<div class="line"><a name="l08536"></a><span class="lineno"> 8536</span>&#160;  <span class="comment">// Ref: &quot;Hacker&#39;s Delight&quot; by Henry Warren</span></div>
<div class="line"><a name="l08537"></a><span class="lineno"> 8537</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(</div>
<div class="line"><a name="l08538"></a><span class="lineno"> 8538</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, VT),</div>
<div class="line"><a name="l08539"></a><span class="lineno"> 8539</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, VT)));</div>
<div class="line"><a name="l08540"></a><span class="lineno"> 8540</span>&#160; </div>
<div class="line"><a name="l08541"></a><span class="lineno"> 8541</span>&#160;  <span class="comment">// If ISD::CTLZ is legal and CTPOP isn&#39;t, then do that instead.</span></div>
<div class="line"><a name="l08542"></a><span class="lineno"> 8542</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>, VT) &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, VT)) {</div>
<div class="line"><a name="l08543"></a><span class="lineno"> 8543</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(NumBitsPerElt, dl, VT),</div>
<div class="line"><a name="l08544"></a><span class="lineno"> 8544</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>, dl, VT, Tmp));</div>
<div class="line"><a name="l08545"></a><span class="lineno"> 8545</span>&#160;  }</div>
<div class="line"><a name="l08546"></a><span class="lineno"> 8546</span>&#160; </div>
<div class="line"><a name="l08547"></a><span class="lineno"> 8547</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, dl, VT, Tmp);</div>
<div class="line"><a name="l08548"></a><span class="lineno"> 8548</span>&#160;}</div>
<div class="line"><a name="l08549"></a><span class="lineno"> 8549</span>&#160; </div>
<div class="line"><a name="l08550"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#acda2deb78c222a106bbd8c5cef0830b8"> 8550</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#acda2deb78c222a106bbd8c5cef0830b8">TargetLowering::expandVPCTTZ</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08551"></a><span class="lineno"> 8551</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l08552"></a><span class="lineno"> 8552</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l08553"></a><span class="lineno"> 8553</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL = Node-&gt;getOperand(2);</div>
<div class="line"><a name="l08554"></a><span class="lineno"> 8554</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l08555"></a><span class="lineno"> 8555</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l08556"></a><span class="lineno"> 8556</span>&#160; </div>
<div class="line"><a name="l08557"></a><span class="lineno"> 8557</span>&#160;  <span class="comment">// Same as the vector part of expandCTTZ, use: popcount(~x &amp; (x - 1))</span></div>
<div class="line"><a name="l08558"></a><span class="lineno"> 8558</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Not = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_XOR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08559"></a><span class="lineno"> 8559</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(-1, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08560"></a><span class="lineno"> 8560</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MinusOne = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SUB, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08561"></a><span class="lineno"> 8561</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08562"></a><span class="lineno"> 8562</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Not, MinusOne, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08563"></a><span class="lineno"> 8563</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_CTPOP, dl, VT, Tmp, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL);</div>
<div class="line"><a name="l08564"></a><span class="lineno"> 8564</span>&#160;}</div>
<div class="line"><a name="l08565"></a><span class="lineno"> 8565</span>&#160; </div>
<div class="line"><a name="l08566"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a60c6a1f325fca72d8ae832c79b6f2daa"> 8566</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a60c6a1f325fca72d8ae832c79b6f2daa">TargetLowering::expandABS</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l08567"></a><span class="lineno"> 8567</span>&#160;                                  <span class="keywordtype">bool</span> IsNegative)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08568"></a><span class="lineno"> 8568</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l08569"></a><span class="lineno"> 8569</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l08570"></a><span class="lineno"> 8570</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l08571"></a><span class="lineno"> 8571</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l08572"></a><span class="lineno"> 8572</span>&#160; </div>
<div class="line"><a name="l08573"></a><span class="lineno"> 8573</span>&#160;  <span class="comment">// abs(x) -&gt; smax(x,sub(0,x))</span></div>
<div class="line"><a name="l08574"></a><span class="lineno"> 8574</span>&#160;  <span class="keywordflow">if</span> (!IsNegative &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08575"></a><span class="lineno"> 8575</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3b59179b6fcbc89463181015ace8e9b">ISD::SMAX</a>, VT)) {</div>
<div class="line"><a name="l08576"></a><span class="lineno"> 8576</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l08577"></a><span class="lineno"> 8577</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3b59179b6fcbc89463181015ace8e9b">ISD::SMAX</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08578"></a><span class="lineno"> 8578</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, Zero, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l08579"></a><span class="lineno"> 8579</span>&#160;  }</div>
<div class="line"><a name="l08580"></a><span class="lineno"> 8580</span>&#160; </div>
<div class="line"><a name="l08581"></a><span class="lineno"> 8581</span>&#160;  <span class="comment">// abs(x) -&gt; umin(x,sub(0,x))</span></div>
<div class="line"><a name="l08582"></a><span class="lineno"> 8582</span>&#160;  <span class="keywordflow">if</span> (!IsNegative &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08583"></a><span class="lineno"> 8583</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>, VT)) {</div>
<div class="line"><a name="l08584"></a><span class="lineno"> 8584</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l08585"></a><span class="lineno"> 8585</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1ea72c31350e168516e6ee8417f2aed9">getFreeze</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08586"></a><span class="lineno"> 8586</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08587"></a><span class="lineno"> 8587</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, Zero, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l08588"></a><span class="lineno"> 8588</span>&#160;  }</div>
<div class="line"><a name="l08589"></a><span class="lineno"> 8589</span>&#160; </div>
<div class="line"><a name="l08590"></a><span class="lineno"> 8590</span>&#160;  <span class="comment">// 0 - abs(x) -&gt; smin(x, sub(0,x))</span></div>
<div class="line"><a name="l08591"></a><span class="lineno"> 8591</span>&#160;  <span class="keywordflow">if</span> (IsNegative &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l08592"></a><span class="lineno"> 8592</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaac895215ecbb3c411c957c8beb39b70">ISD::SMIN</a>, VT)) {</div>
<div class="line"><a name="l08593"></a><span class="lineno"> 8593</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1ea72c31350e168516e6ee8417f2aed9">getFreeze</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08594"></a><span class="lineno"> 8594</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l08595"></a><span class="lineno"> 8595</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaac895215ecbb3c411c957c8beb39b70">ISD::SMIN</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08596"></a><span class="lineno"> 8596</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, Zero, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l08597"></a><span class="lineno"> 8597</span>&#160;  }</div>
<div class="line"><a name="l08598"></a><span class="lineno"> 8598</span>&#160; </div>
<div class="line"><a name="l08599"></a><span class="lineno"> 8599</span>&#160;  <span class="comment">// Only expand vector types if we have the appropriate vector operations.</span></div>
<div class="line"><a name="l08600"></a><span class="lineno"> 8600</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp;</div>
<div class="line"><a name="l08601"></a><span class="lineno"> 8601</span>&#160;      (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, VT) ||</div>
<div class="line"><a name="l08602"></a><span class="lineno"> 8602</span>&#160;       (!IsNegative &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, VT)) ||</div>
<div class="line"><a name="l08603"></a><span class="lineno"> 8603</span>&#160;       (IsNegative &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT)) ||</div>
<div class="line"><a name="l08604"></a><span class="lineno"> 8604</span>&#160;       !<a class="code" href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">isOperationLegalOrCustomOrPromote</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, VT)))</div>
<div class="line"><a name="l08605"></a><span class="lineno"> 8605</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08606"></a><span class="lineno"> 8606</span>&#160; </div>
<div class="line"><a name="l08607"></a><span class="lineno"> 8607</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1ea72c31350e168516e6ee8417f2aed9">getFreeze</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08608"></a><span class="lineno"> 8608</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> =</div>
<div class="line"><a name="l08609"></a><span class="lineno"> 8609</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08610"></a><span class="lineno"> 8610</span>&#160;                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() - 1, dl, ShVT));</div>
<div class="line"><a name="l08611"></a><span class="lineno"> 8611</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l08612"></a><span class="lineno"> 8612</span>&#160; </div>
<div class="line"><a name="l08613"></a><span class="lineno"> 8613</span>&#160;  <span class="comment">// abs(x) -&gt; Y = sra (X, size(X)-1); sub (xor (X, Y), Y)</span></div>
<div class="line"><a name="l08614"></a><span class="lineno"> 8614</span>&#160;  <span class="keywordflow">if</span> (!IsNegative)</div>
<div class="line"><a name="l08615"></a><span class="lineno"> 8615</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a>, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l08616"></a><span class="lineno"> 8616</span>&#160; </div>
<div class="line"><a name="l08617"></a><span class="lineno"> 8617</span>&#160;  <span class="comment">// 0 - abs(x) -&gt; Y = sra (X, size(X)-1); sub (Y, xor (X, Y))</span></div>
<div class="line"><a name="l08618"></a><span class="lineno"> 8618</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a>);</div>
<div class="line"><a name="l08619"></a><span class="lineno"> 8619</span>&#160;}</div>
<div class="line"><a name="l08620"></a><span class="lineno"> 8620</span>&#160; </div>
<div class="line"><a name="l08621"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a8601502de5ff2343a23ec908bbb9b406"> 8621</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a8601502de5ff2343a23ec908bbb9b406">TargetLowering::expandBSWAP</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08622"></a><span class="lineno"> 8622</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l08623"></a><span class="lineno"> 8623</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l08624"></a><span class="lineno"> 8624</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l08625"></a><span class="lineno"> 8625</span>&#160; </div>
<div class="line"><a name="l08626"></a><span class="lineno"> 8626</span>&#160;  <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#a19738f4334d4de357b22349bbb56fb5c">isSimple</a>())</div>
<div class="line"><a name="l08627"></a><span class="lineno"> 8627</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08628"></a><span class="lineno"> 8628</span>&#160; </div>
<div class="line"><a name="l08629"></a><span class="lineno"> 8629</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SHVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l08630"></a><span class="lineno"> 8630</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp1, Tmp2, Tmp3, Tmp4, Tmp5, Tmp6, Tmp7, Tmp8;</div>
<div class="line"><a name="l08631"></a><span class="lineno"> 8631</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#aea8bc2b59cb3fa833eb7895a3a216abd">getScalarType</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div>
<div class="line"><a name="l08632"></a><span class="lineno"> 8632</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08633"></a><span class="lineno"> 8633</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08634"></a><span class="lineno"> 8634</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>:</div>
<div class="line"><a name="l08635"></a><span class="lineno"> 8635</span>&#160;    <span class="comment">// Use a rotate by 8. This can be further expanded if necessary.</span></div>
<div class="line"><a name="l08636"></a><span class="lineno"> 8636</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d">ISD::ROTL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT));</div>
<div class="line"><a name="l08637"></a><span class="lineno"> 8637</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div>
<div class="line"><a name="l08638"></a><span class="lineno"> 8638</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(24, dl, SHVT));</div>
<div class="line"><a name="l08639"></a><span class="lineno"> 8639</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08640"></a><span class="lineno"> 8640</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0xFF00, dl, VT));</div>
<div class="line"><a name="l08641"></a><span class="lineno"> 8641</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Tmp3, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT));</div>
<div class="line"><a name="l08642"></a><span class="lineno"> 8642</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT));</div>
<div class="line"><a name="l08643"></a><span class="lineno"> 8643</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp2, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0xFF00, dl, VT));</div>
<div class="line"><a name="l08644"></a><span class="lineno"> 8644</span>&#160;    Tmp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(24, dl, SHVT));</div>
<div class="line"><a name="l08645"></a><span class="lineno"> 8645</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp4, Tmp3);</div>
<div class="line"><a name="l08646"></a><span class="lineno"> 8646</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp2, Tmp1);</div>
<div class="line"><a name="l08647"></a><span class="lineno"> 8647</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp4, Tmp2);</div>
<div class="line"><a name="l08648"></a><span class="lineno"> 8648</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div>
<div class="line"><a name="l08649"></a><span class="lineno"> 8649</span>&#160;    Tmp8 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(56, dl, SHVT));</div>
<div class="line"><a name="l08650"></a><span class="lineno"> 8650</span>&#160;    Tmp7 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08651"></a><span class="lineno"> 8651</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL&lt;&lt;8, dl, VT));</div>
<div class="line"><a name="l08652"></a><span class="lineno"> 8652</span>&#160;    Tmp7 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Tmp7, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(40, dl, SHVT));</div>
<div class="line"><a name="l08653"></a><span class="lineno"> 8653</span>&#160;    Tmp6 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08654"></a><span class="lineno"> 8654</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL&lt;&lt;16, dl, VT));</div>
<div class="line"><a name="l08655"></a><span class="lineno"> 8655</span>&#160;    Tmp6 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Tmp6, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(24, dl, SHVT));</div>
<div class="line"><a name="l08656"></a><span class="lineno"> 8656</span>&#160;    Tmp5 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08657"></a><span class="lineno"> 8657</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL&lt;&lt;24, dl, VT));</div>
<div class="line"><a name="l08658"></a><span class="lineno"> 8658</span>&#160;    Tmp5 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Tmp5, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT));</div>
<div class="line"><a name="l08659"></a><span class="lineno"> 8659</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT));</div>
<div class="line"><a name="l08660"></a><span class="lineno"> 8660</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp4,</div>
<div class="line"><a name="l08661"></a><span class="lineno"> 8661</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL&lt;&lt;24, dl, VT));</div>
<div class="line"><a name="l08662"></a><span class="lineno"> 8662</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(24, dl, SHVT));</div>
<div class="line"><a name="l08663"></a><span class="lineno"> 8663</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp3,</div>
<div class="line"><a name="l08664"></a><span class="lineno"> 8664</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL&lt;&lt;16, dl, VT));</div>
<div class="line"><a name="l08665"></a><span class="lineno"> 8665</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(40, dl, SHVT));</div>
<div class="line"><a name="l08666"></a><span class="lineno"> 8666</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp2,</div>
<div class="line"><a name="l08667"></a><span class="lineno"> 8667</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL&lt;&lt;8, dl, VT));</div>
<div class="line"><a name="l08668"></a><span class="lineno"> 8668</span>&#160;    Tmp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(56, dl, SHVT));</div>
<div class="line"><a name="l08669"></a><span class="lineno"> 8669</span>&#160;    Tmp8 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp8, Tmp7);</div>
<div class="line"><a name="l08670"></a><span class="lineno"> 8670</span>&#160;    Tmp6 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp6, Tmp5);</div>
<div class="line"><a name="l08671"></a><span class="lineno"> 8671</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp4, Tmp3);</div>
<div class="line"><a name="l08672"></a><span class="lineno"> 8672</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp2, Tmp1);</div>
<div class="line"><a name="l08673"></a><span class="lineno"> 8673</span>&#160;    Tmp8 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp8, Tmp6);</div>
<div class="line"><a name="l08674"></a><span class="lineno"> 8674</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp4, Tmp2);</div>
<div class="line"><a name="l08675"></a><span class="lineno"> 8675</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp8, Tmp4);</div>
<div class="line"><a name="l08676"></a><span class="lineno"> 8676</span>&#160;  }</div>
<div class="line"><a name="l08677"></a><span class="lineno"> 8677</span>&#160;}</div>
<div class="line"><a name="l08678"></a><span class="lineno"> 8678</span>&#160; </div>
<div class="line"><a name="l08679"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a2c1be2f51c692451e5ed13c9ced14a5a"> 8679</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a2c1be2f51c692451e5ed13c9ced14a5a">TargetLowering::expandVPBSWAP</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08680"></a><span class="lineno"> 8680</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l08681"></a><span class="lineno"> 8681</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l08682"></a><span class="lineno"> 8682</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l08683"></a><span class="lineno"> 8683</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l08684"></a><span class="lineno"> 8684</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EVL = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2);</div>
<div class="line"><a name="l08685"></a><span class="lineno"> 8685</span>&#160; </div>
<div class="line"><a name="l08686"></a><span class="lineno"> 8686</span>&#160;  <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#a19738f4334d4de357b22349bbb56fb5c">isSimple</a>())</div>
<div class="line"><a name="l08687"></a><span class="lineno"> 8687</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08688"></a><span class="lineno"> 8688</span>&#160; </div>
<div class="line"><a name="l08689"></a><span class="lineno"> 8689</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SHVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l08690"></a><span class="lineno"> 8690</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp1, Tmp2, Tmp3, Tmp4, Tmp5, Tmp6, Tmp7, Tmp8;</div>
<div class="line"><a name="l08691"></a><span class="lineno"> 8691</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#aea8bc2b59cb3fa833eb7895a3a216abd">getScalarType</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div>
<div class="line"><a name="l08692"></a><span class="lineno"> 8692</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08693"></a><span class="lineno"> 8693</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08694"></a><span class="lineno"> 8694</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>:</div>
<div class="line"><a name="l08695"></a><span class="lineno"> 8695</span>&#160;    Tmp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT),</div>
<div class="line"><a name="l08696"></a><span class="lineno"> 8696</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08697"></a><span class="lineno"> 8697</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT),</div>
<div class="line"><a name="l08698"></a><span class="lineno"> 8698</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08699"></a><span class="lineno"> 8699</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp1, Tmp2, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08700"></a><span class="lineno"> 8700</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div>
<div class="line"><a name="l08701"></a><span class="lineno"> 8701</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(24, dl, SHVT),</div>
<div class="line"><a name="l08702"></a><span class="lineno"> 8702</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08703"></a><span class="lineno"> 8703</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0xFF00, dl, VT),</div>
<div class="line"><a name="l08704"></a><span class="lineno"> 8704</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08705"></a><span class="lineno"> 8705</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, Tmp3, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT),</div>
<div class="line"><a name="l08706"></a><span class="lineno"> 8706</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08707"></a><span class="lineno"> 8707</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT),</div>
<div class="line"><a name="l08708"></a><span class="lineno"> 8708</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08709"></a><span class="lineno"> 8709</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp2,</div>
<div class="line"><a name="l08710"></a><span class="lineno"> 8710</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0xFF00, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08711"></a><span class="lineno"> 8711</span>&#160;    Tmp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(24, dl, SHVT),</div>
<div class="line"><a name="l08712"></a><span class="lineno"> 8712</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08713"></a><span class="lineno"> 8713</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp4, Tmp3, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08714"></a><span class="lineno"> 8714</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp2, Tmp1, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08715"></a><span class="lineno"> 8715</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp4, Tmp2, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08716"></a><span class="lineno"> 8716</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div>
<div class="line"><a name="l08717"></a><span class="lineno"> 8717</span>&#160;    Tmp8 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(56, dl, SHVT),</div>
<div class="line"><a name="l08718"></a><span class="lineno"> 8718</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08719"></a><span class="lineno"> 8719</span>&#160;    Tmp7 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08720"></a><span class="lineno"> 8720</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL &lt;&lt; 8, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08721"></a><span class="lineno"> 8721</span>&#160;    Tmp7 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, Tmp7, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(40, dl, SHVT),</div>
<div class="line"><a name="l08722"></a><span class="lineno"> 8722</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08723"></a><span class="lineno"> 8723</span>&#160;    Tmp6 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08724"></a><span class="lineno"> 8724</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL &lt;&lt; 16, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08725"></a><span class="lineno"> 8725</span>&#160;    Tmp6 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, Tmp6, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(24, dl, SHVT),</div>
<div class="line"><a name="l08726"></a><span class="lineno"> 8726</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08727"></a><span class="lineno"> 8727</span>&#160;    Tmp5 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l08728"></a><span class="lineno"> 8728</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL &lt;&lt; 24, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08729"></a><span class="lineno"> 8729</span>&#160;    Tmp5 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, Tmp5, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT),</div>
<div class="line"><a name="l08730"></a><span class="lineno"> 8730</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08731"></a><span class="lineno"> 8731</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(8, dl, SHVT),</div>
<div class="line"><a name="l08732"></a><span class="lineno"> 8732</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08733"></a><span class="lineno"> 8733</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp4,</div>
<div class="line"><a name="l08734"></a><span class="lineno"> 8734</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL &lt;&lt; 24, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08735"></a><span class="lineno"> 8735</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(24, dl, SHVT),</div>
<div class="line"><a name="l08736"></a><span class="lineno"> 8736</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08737"></a><span class="lineno"> 8737</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp3,</div>
<div class="line"><a name="l08738"></a><span class="lineno"> 8738</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL &lt;&lt; 16, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08739"></a><span class="lineno"> 8739</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(40, dl, SHVT),</div>
<div class="line"><a name="l08740"></a><span class="lineno"> 8740</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08741"></a><span class="lineno"> 8741</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp2,</div>
<div class="line"><a name="l08742"></a><span class="lineno"> 8742</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(255ULL &lt;&lt; 8, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08743"></a><span class="lineno"> 8743</span>&#160;    Tmp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(56, dl, SHVT),</div>
<div class="line"><a name="l08744"></a><span class="lineno"> 8744</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08745"></a><span class="lineno"> 8745</span>&#160;    Tmp8 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp8, Tmp7, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08746"></a><span class="lineno"> 8746</span>&#160;    Tmp6 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp6, Tmp5, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08747"></a><span class="lineno"> 8747</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp4, Tmp3, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08748"></a><span class="lineno"> 8748</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp2, Tmp1, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08749"></a><span class="lineno"> 8749</span>&#160;    Tmp8 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp8, Tmp6, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08750"></a><span class="lineno"> 8750</span>&#160;    Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp4, Tmp2, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08751"></a><span class="lineno"> 8751</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp8, Tmp4, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08752"></a><span class="lineno"> 8752</span>&#160;  }</div>
<div class="line"><a name="l08753"></a><span class="lineno"> 8753</span>&#160;}</div>
<div class="line"><a name="l08754"></a><span class="lineno"> 8754</span>&#160; </div>
<div class="line"><a name="l08755"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a36474c29cc60116cc07b7d18d1dded13"> 8755</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a36474c29cc60116cc07b7d18d1dded13">TargetLowering::expandBITREVERSE</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08756"></a><span class="lineno"> 8756</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l08757"></a><span class="lineno"> 8757</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l08758"></a><span class="lineno"> 8758</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l08759"></a><span class="lineno"> 8759</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SHVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l08760"></a><span class="lineno"> 8760</span>&#160;  <span class="keywordtype">unsigned</span> Sz = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l08761"></a><span class="lineno"> 8761</span>&#160; </div>
<div class="line"><a name="l08762"></a><span class="lineno"> 8762</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp, Tmp2, Tmp3;</div>
<div class="line"><a name="l08763"></a><span class="lineno"> 8763</span>&#160; </div>
<div class="line"><a name="l08764"></a><span class="lineno"> 8764</span>&#160;  <span class="comment">// If we can, perform BSWAP first and then the mask+swap the i4, then i2</span></div>
<div class="line"><a name="l08765"></a><span class="lineno"> 8765</span>&#160;  <span class="comment">// and finally the i1 pairs.</span></div>
<div class="line"><a name="l08766"></a><span class="lineno"> 8766</span>&#160;  <span class="comment">// TODO: We can easily support i4/i2 legal types if any target ever does.</span></div>
<div class="line"><a name="l08767"></a><span class="lineno"> 8767</span>&#160;  <span class="keywordflow">if</span> (Sz &gt;= 8 &amp;&amp; <a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(Sz)) {</div>
<div class="line"><a name="l08768"></a><span class="lineno"> 8768</span>&#160;    <span class="comment">// Create the masks - repeating the pattern every byte.</span></div>
<div class="line"><a name="l08769"></a><span class="lineno"> 8769</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask4 = <a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Sz, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x0F));</div>
<div class="line"><a name="l08770"></a><span class="lineno"> 8770</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask2 = <a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Sz, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x33));</div>
<div class="line"><a name="l08771"></a><span class="lineno"> 8771</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask1 = <a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Sz, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x55));</div>
<div class="line"><a name="l08772"></a><span class="lineno"> 8772</span>&#160; </div>
<div class="line"><a name="l08773"></a><span class="lineno"> 8773</span>&#160;    <span class="comment">// BSWAP if the type is wider than a single byte.</span></div>
<div class="line"><a name="l08774"></a><span class="lineno"> 8774</span>&#160;    Tmp = (Sz &gt; 8 ? DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">ISD::BSWAP</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) : <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08775"></a><span class="lineno"> 8775</span>&#160; </div>
<div class="line"><a name="l08776"></a><span class="lineno"> 8776</span>&#160;    <span class="comment">// swap i4: ((V &gt;&gt; 4) &amp; 0x0F) | ((V &amp; 0x0F) &lt;&lt; 4)</span></div>
<div class="line"><a name="l08777"></a><span class="lineno"> 8777</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(4, dl, SHVT));</div>
<div class="line"><a name="l08778"></a><span class="lineno"> 8778</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp2, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask4, dl, VT));</div>
<div class="line"><a name="l08779"></a><span class="lineno"> 8779</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask4, dl, VT));</div>
<div class="line"><a name="l08780"></a><span class="lineno"> 8780</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Tmp3, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(4, dl, SHVT));</div>
<div class="line"><a name="l08781"></a><span class="lineno"> 8781</span>&#160;    Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp2, Tmp3);</div>
<div class="line"><a name="l08782"></a><span class="lineno"> 8782</span>&#160; </div>
<div class="line"><a name="l08783"></a><span class="lineno"> 8783</span>&#160;    <span class="comment">// swap i2: ((V &gt;&gt; 2) &amp; 0x33) | ((V &amp; 0x33) &lt;&lt; 2)</span></div>
<div class="line"><a name="l08784"></a><span class="lineno"> 8784</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(2, dl, SHVT));</div>
<div class="line"><a name="l08785"></a><span class="lineno"> 8785</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp2, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask2, dl, VT));</div>
<div class="line"><a name="l08786"></a><span class="lineno"> 8786</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask2, dl, VT));</div>
<div class="line"><a name="l08787"></a><span class="lineno"> 8787</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Tmp3, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(2, dl, SHVT));</div>
<div class="line"><a name="l08788"></a><span class="lineno"> 8788</span>&#160;    Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp2, Tmp3);</div>
<div class="line"><a name="l08789"></a><span class="lineno"> 8789</span>&#160; </div>
<div class="line"><a name="l08790"></a><span class="lineno"> 8790</span>&#160;    <span class="comment">// swap i1: ((V &gt;&gt; 1) &amp; 0x55) | ((V &amp; 0x55) &lt;&lt; 1)</span></div>
<div class="line"><a name="l08791"></a><span class="lineno"> 8791</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, SHVT));</div>
<div class="line"><a name="l08792"></a><span class="lineno"> 8792</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp2, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask1, dl, VT));</div>
<div class="line"><a name="l08793"></a><span class="lineno"> 8793</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask1, dl, VT));</div>
<div class="line"><a name="l08794"></a><span class="lineno"> 8794</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Tmp3, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, SHVT));</div>
<div class="line"><a name="l08795"></a><span class="lineno"> 8795</span>&#160;    Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp2, Tmp3);</div>
<div class="line"><a name="l08796"></a><span class="lineno"> 8796</span>&#160;    <span class="keywordflow">return</span> Tmp;</div>
<div class="line"><a name="l08797"></a><span class="lineno"> 8797</span>&#160;  }</div>
<div class="line"><a name="l08798"></a><span class="lineno"> 8798</span>&#160; </div>
<div class="line"><a name="l08799"></a><span class="lineno"> 8799</span>&#160;  Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l08800"></a><span class="lineno"> 8800</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, J = Sz-1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; Sz; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, --J) {</div>
<div class="line"><a name="l08801"></a><span class="lineno"> 8801</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; J)</div>
<div class="line"><a name="l08802"></a><span class="lineno"> 8802</span>&#160;      Tmp2 =</div>
<div class="line"><a name="l08803"></a><span class="lineno"> 8803</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(J - <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, dl, SHVT));</div>
<div class="line"><a name="l08804"></a><span class="lineno"> 8804</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l08805"></a><span class="lineno"> 8805</span>&#160;      Tmp2 =</div>
<div class="line"><a name="l08806"></a><span class="lineno"> 8806</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> - J, dl, SHVT));</div>
<div class="line"><a name="l08807"></a><span class="lineno"> 8807</span>&#160; </div>
<div class="line"><a name="l08808"></a><span class="lineno"> 8808</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>(Sz, 1);</div>
<div class="line"><a name="l08809"></a><span class="lineno"> 8809</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> &lt;&lt;= J;</div>
<div class="line"><a name="l08810"></a><span class="lineno"> 8810</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, Tmp2, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, dl, VT));</div>
<div class="line"><a name="l08811"></a><span class="lineno"> 8811</span>&#160;    Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp, Tmp2);</div>
<div class="line"><a name="l08812"></a><span class="lineno"> 8812</span>&#160;  }</div>
<div class="line"><a name="l08813"></a><span class="lineno"> 8813</span>&#160; </div>
<div class="line"><a name="l08814"></a><span class="lineno"> 8814</span>&#160;  <span class="keywordflow">return</span> Tmp;</div>
<div class="line"><a name="l08815"></a><span class="lineno"> 8815</span>&#160;}</div>
<div class="line"><a name="l08816"></a><span class="lineno"> 8816</span>&#160; </div>
<div class="line"><a name="l08817"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a60582e34db70c3807f163839e146eb6b"> 8817</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a60582e34db70c3807f163839e146eb6b">TargetLowering::expandVPBITREVERSE</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08818"></a><span class="lineno"> 8818</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == ISD::VP_BITREVERSE);</div>
<div class="line"><a name="l08819"></a><span class="lineno"> 8819</span>&#160; </div>
<div class="line"><a name="l08820"></a><span class="lineno"> 8820</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l08821"></a><span class="lineno"> 8821</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l08822"></a><span class="lineno"> 8822</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l08823"></a><span class="lineno"> 8823</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l08824"></a><span class="lineno"> 8824</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EVL = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2);</div>
<div class="line"><a name="l08825"></a><span class="lineno"> 8825</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SHVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l08826"></a><span class="lineno"> 8826</span>&#160;  <span class="keywordtype">unsigned</span> Sz = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l08827"></a><span class="lineno"> 8827</span>&#160; </div>
<div class="line"><a name="l08828"></a><span class="lineno"> 8828</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp, Tmp2, Tmp3;</div>
<div class="line"><a name="l08829"></a><span class="lineno"> 8829</span>&#160; </div>
<div class="line"><a name="l08830"></a><span class="lineno"> 8830</span>&#160;  <span class="comment">// If we can, perform BSWAP first and then the mask+swap the i4, then i2</span></div>
<div class="line"><a name="l08831"></a><span class="lineno"> 8831</span>&#160;  <span class="comment">// and finally the i1 pairs.</span></div>
<div class="line"><a name="l08832"></a><span class="lineno"> 8832</span>&#160;  <span class="comment">// TODO: We can easily support i4/i2 legal types if any target ever does.</span></div>
<div class="line"><a name="l08833"></a><span class="lineno"> 8833</span>&#160;  <span class="keywordflow">if</span> (Sz &gt;= 8 &amp;&amp; <a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(Sz)) {</div>
<div class="line"><a name="l08834"></a><span class="lineno"> 8834</span>&#160;    <span class="comment">// Create the masks - repeating the pattern every byte.</span></div>
<div class="line"><a name="l08835"></a><span class="lineno"> 8835</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask4 = <a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Sz, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x0F));</div>
<div class="line"><a name="l08836"></a><span class="lineno"> 8836</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask2 = <a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Sz, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x33));</div>
<div class="line"><a name="l08837"></a><span class="lineno"> 8837</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask1 = <a class="code" href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">APInt::getSplat</a>(Sz, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 0x55));</div>
<div class="line"><a name="l08838"></a><span class="lineno"> 8838</span>&#160; </div>
<div class="line"><a name="l08839"></a><span class="lineno"> 8839</span>&#160;    <span class="comment">// BSWAP if the type is wider than a single byte.</span></div>
<div class="line"><a name="l08840"></a><span class="lineno"> 8840</span>&#160;    Tmp = (Sz &gt; 8 ? DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_BSWAP, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL) : <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l08841"></a><span class="lineno"> 8841</span>&#160; </div>
<div class="line"><a name="l08842"></a><span class="lineno"> 8842</span>&#160;    <span class="comment">// swap i4: ((V &gt;&gt; 4) &amp; 0x0F) | ((V &amp; 0x0F) &lt;&lt; 4)</span></div>
<div class="line"><a name="l08843"></a><span class="lineno"> 8843</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(4, dl, SHVT),</div>
<div class="line"><a name="l08844"></a><span class="lineno"> 8844</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08845"></a><span class="lineno"> 8845</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp2,</div>
<div class="line"><a name="l08846"></a><span class="lineno"> 8846</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask4, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08847"></a><span class="lineno"> 8847</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask4, dl, VT),</div>
<div class="line"><a name="l08848"></a><span class="lineno"> 8848</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08849"></a><span class="lineno"> 8849</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, Tmp3, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(4, dl, SHVT),</div>
<div class="line"><a name="l08850"></a><span class="lineno"> 8850</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08851"></a><span class="lineno"> 8851</span>&#160;    Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp2, Tmp3, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08852"></a><span class="lineno"> 8852</span>&#160; </div>
<div class="line"><a name="l08853"></a><span class="lineno"> 8853</span>&#160;    <span class="comment">// swap i2: ((V &gt;&gt; 2) &amp; 0x33) | ((V &amp; 0x33) &lt;&lt; 2)</span></div>
<div class="line"><a name="l08854"></a><span class="lineno"> 8854</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(2, dl, SHVT),</div>
<div class="line"><a name="l08855"></a><span class="lineno"> 8855</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08856"></a><span class="lineno"> 8856</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp2,</div>
<div class="line"><a name="l08857"></a><span class="lineno"> 8857</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask2, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08858"></a><span class="lineno"> 8858</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask2, dl, VT),</div>
<div class="line"><a name="l08859"></a><span class="lineno"> 8859</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08860"></a><span class="lineno"> 8860</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, Tmp3, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(2, dl, SHVT),</div>
<div class="line"><a name="l08861"></a><span class="lineno"> 8861</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08862"></a><span class="lineno"> 8862</span>&#160;    Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp2, Tmp3, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08863"></a><span class="lineno"> 8863</span>&#160; </div>
<div class="line"><a name="l08864"></a><span class="lineno"> 8864</span>&#160;    <span class="comment">// swap i1: ((V &gt;&gt; 1) &amp; 0x55) | ((V &amp; 0x55) &lt;&lt; 1)</span></div>
<div class="line"><a name="l08865"></a><span class="lineno"> 8865</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_LSHR, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, SHVT),</div>
<div class="line"><a name="l08866"></a><span class="lineno"> 8866</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08867"></a><span class="lineno"> 8867</span>&#160;    Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp2,</div>
<div class="line"><a name="l08868"></a><span class="lineno"> 8868</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask1, dl, VT), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08869"></a><span class="lineno"> 8869</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_AND, dl, VT, Tmp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Mask1, dl, VT),</div>
<div class="line"><a name="l08870"></a><span class="lineno"> 8870</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08871"></a><span class="lineno"> 8871</span>&#160;    Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_SHL, dl, VT, Tmp3, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, SHVT),</div>
<div class="line"><a name="l08872"></a><span class="lineno"> 8872</span>&#160;                       <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08873"></a><span class="lineno"> 8873</span>&#160;    Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::VP_OR, dl, VT, Tmp2, Tmp3, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l08874"></a><span class="lineno"> 8874</span>&#160;    <span class="keywordflow">return</span> Tmp;</div>
<div class="line"><a name="l08875"></a><span class="lineno"> 8875</span>&#160;  }</div>
<div class="line"><a name="l08876"></a><span class="lineno"> 8876</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l08877"></a><span class="lineno"> 8877</span>&#160;}</div>
<div class="line"><a name="l08878"></a><span class="lineno"> 8878</span>&#160; </div>
<div class="line"><a name="l08879"></a><span class="lineno"> 8879</span>&#160;std::pair&lt;SDValue, SDValue&gt;</div>
<div class="line"><a name="l08880"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aa58ff0adf7c1110a878f5a98abd087ba"> 8880</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#aa58ff0adf7c1110a878f5a98abd087ba">TargetLowering::scalarizeVectorLoad</a>(<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>,</div>
<div class="line"><a name="l08881"></a><span class="lineno"> 8881</span>&#160;                                    <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08882"></a><span class="lineno"> 8882</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>);</div>
<div class="line"><a name="l08883"></a><span class="lineno"> 8883</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getChain();</div>
<div class="line"><a name="l08884"></a><span class="lineno"> 8884</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BasePTR = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getBasePtr();</div>
<div class="line"><a name="l08885"></a><span class="lineno"> 8885</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemoryVT();</div>
<div class="line"><a name="l08886"></a><span class="lineno"> 8886</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l08887"></a><span class="lineno"> 8887</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7">ISD::LoadExtType</a> ExtType = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getExtensionType();</div>
<div class="line"><a name="l08888"></a><span class="lineno"> 8888</span>&#160; </div>
<div class="line"><a name="l08889"></a><span class="lineno"> 8889</span>&#160;  <span class="keywordflow">if</span> (SrcVT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l08890"></a><span class="lineno"> 8890</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Cannot scalarize scalable vector loads&quot;</span>);</div>
<div class="line"><a name="l08891"></a><span class="lineno"> 8891</span>&#160; </div>
<div class="line"><a name="l08892"></a><span class="lineno"> 8892</span>&#160;  <span class="keywordtype">unsigned</span> NumElem = SrcVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l08893"></a><span class="lineno"> 8893</span>&#160; </div>
<div class="line"><a name="l08894"></a><span class="lineno"> 8894</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcEltVT = SrcVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l08895"></a><span class="lineno"> 8895</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstEltVT = DstVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l08896"></a><span class="lineno"> 8896</span>&#160; </div>
<div class="line"><a name="l08897"></a><span class="lineno"> 8897</span>&#160;  <span class="comment">// A vector must always be stored in memory as-is, i.e. without any padding</span></div>
<div class="line"><a name="l08898"></a><span class="lineno"> 8898</span>&#160;  <span class="comment">// between the elements, since various code depend on it, e.g. in the</span></div>
<div class="line"><a name="l08899"></a><span class="lineno"> 8899</span>&#160;  <span class="comment">// handling of a bitcast of a vector type to int, which may be done with a</span></div>
<div class="line"><a name="l08900"></a><span class="lineno"> 8900</span>&#160;  <span class="comment">// vector store followed by an integer load. A vector that does not have</span></div>
<div class="line"><a name="l08901"></a><span class="lineno"> 8901</span>&#160;  <span class="comment">// elements that are byte-sized must therefore be stored as an integer</span></div>
<div class="line"><a name="l08902"></a><span class="lineno"> 8902</span>&#160;  <span class="comment">// built out of the extracted vector elements.</span></div>
<div class="line"><a name="l08903"></a><span class="lineno"> 8903</span>&#160;  <span class="keywordflow">if</span> (!SrcEltVT.<a class="code" href="structllvm_1_1EVT.html#a470621733f1ffb597e6f502040216da4">isByteSized</a>()) {</div>
<div class="line"><a name="l08904"></a><span class="lineno"> 8904</span>&#160;    <span class="keywordtype">unsigned</span> NumLoadBits = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a5f64c589a5312630fe76a37f62a39707">getStoreSizeInBits</a>();</div>
<div class="line"><a name="l08905"></a><span class="lineno"> 8905</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoadVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), NumLoadBits);</div>
<div class="line"><a name="l08906"></a><span class="lineno"> 8906</span>&#160; </div>
<div class="line"><a name="l08907"></a><span class="lineno"> 8907</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcBits = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>();</div>
<div class="line"><a name="l08908"></a><span class="lineno"> 8908</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcIntVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), NumSrcBits);</div>
<div class="line"><a name="l08909"></a><span class="lineno"> 8909</span>&#160; </div>
<div class="line"><a name="l08910"></a><span class="lineno"> 8910</span>&#160;    <span class="keywordtype">unsigned</span> SrcEltBits = SrcEltVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>();</div>
<div class="line"><a name="l08911"></a><span class="lineno"> 8911</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SrcEltBitMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(</div>
<div class="line"><a name="l08912"></a><span class="lineno"> 8912</span>&#160;        <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(NumLoadBits, SrcEltBits), SL, LoadVT);</div>
<div class="line"><a name="l08913"></a><span class="lineno"> 8913</span>&#160; </div>
<div class="line"><a name="l08914"></a><span class="lineno"> 8914</span>&#160;    <span class="comment">// Load the whole vector and avoid masking off the top bits as it makes</span></div>
<div class="line"><a name="l08915"></a><span class="lineno"> 8915</span>&#160;    <span class="comment">// the codegen worse.</span></div>
<div class="line"><a name="l08916"></a><span class="lineno"> 8916</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> =</div>
<div class="line"><a name="l08917"></a><span class="lineno"> 8917</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">ISD::EXTLOAD</a>, SL, LoadVT, Chain, BasePTR,</div>
<div class="line"><a name="l08918"></a><span class="lineno"> 8918</span>&#160;                       <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getPointerInfo(), SrcIntVT, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getOriginalAlign(),</div>
<div class="line"><a name="l08919"></a><span class="lineno"> 8919</span>&#160;                       <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand()-&gt;getFlags(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l08920"></a><span class="lineno"> 8920</span>&#160; </div>
<div class="line"><a name="l08921"></a><span class="lineno"> 8921</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Vals;</div>
<div class="line"><a name="l08922"></a><span class="lineno"> 8922</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; NumElem; ++Idx) {</div>
<div class="line"><a name="l08923"></a><span class="lineno"> 8923</span>&#160;      <span class="keywordtype">unsigned</span> ShiftIntoIdx =</div>
<div class="line"><a name="l08924"></a><span class="lineno"> 8924</span>&#160;          (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a84c1d72001dd5f34d9a55b3a7bb8a474">isBigEndian</a>() ? (NumElem - 1) - Idx : Idx);</div>
<div class="line"><a name="l08925"></a><span class="lineno"> 8925</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftAmount =</div>
<div class="line"><a name="l08926"></a><span class="lineno"> 8926</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae2810b3cf01b222cc31fac876f9580ee">getShiftAmountConstant</a>(ShiftIntoIdx * SrcEltVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>(),</div>
<div class="line"><a name="l08927"></a><span class="lineno"> 8927</span>&#160;                                     LoadVT, SL, <span class="comment">/*LegalTypes=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l08928"></a><span class="lineno"> 8928</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftedElt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, SL, LoadVT, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, ShiftAmount);</div>
<div class="line"><a name="l08929"></a><span class="lineno"> 8929</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt =</div>
<div class="line"><a name="l08930"></a><span class="lineno"> 8930</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, SL, LoadVT, ShiftedElt, SrcEltBitMask);</div>
<div class="line"><a name="l08931"></a><span class="lineno"> 8931</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Scalar = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, SL, SrcEltVT, Elt);</div>
<div class="line"><a name="l08932"></a><span class="lineno"> 8932</span>&#160; </div>
<div class="line"><a name="l08933"></a><span class="lineno"> 8933</span>&#160;      <span class="keywordflow">if</span> (ExtType != <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">ISD::NON_EXTLOAD</a>) {</div>
<div class="line"><a name="l08934"></a><span class="lineno"> 8934</span>&#160;        <span class="keywordtype">unsigned</span> ExtendOp = <a class="code" href="namespacellvm_1_1ISD.html#a2fdb5c9abf8403d4dbf0d8ae59d89916">ISD::getExtForLoadExtType</a>(<span class="keyword">false</span>, ExtType);</div>
<div class="line"><a name="l08935"></a><span class="lineno"> 8935</span>&#160;        Scalar = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(ExtendOp, SL, DstEltVT, Scalar);</div>
<div class="line"><a name="l08936"></a><span class="lineno"> 8936</span>&#160;      }</div>
<div class="line"><a name="l08937"></a><span class="lineno"> 8937</span>&#160; </div>
<div class="line"><a name="l08938"></a><span class="lineno"> 8938</span>&#160;      Vals.push_back(Scalar);</div>
<div class="line"><a name="l08939"></a><span class="lineno"> 8939</span>&#160;    }</div>
<div class="line"><a name="l08940"></a><span class="lineno"> 8940</span>&#160; </div>
<div class="line"><a name="l08941"></a><span class="lineno"> 8941</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1Value.html">Value</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(DstVT, SL, Vals);</div>
<div class="line"><a name="l08942"></a><span class="lineno"> 8942</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<a class="code" href="classllvm_1_1Value.html">Value</a>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>.getValue(1));</div>
<div class="line"><a name="l08943"></a><span class="lineno"> 8943</span>&#160;  }</div>
<div class="line"><a name="l08944"></a><span class="lineno"> 8944</span>&#160; </div>
<div class="line"><a name="l08945"></a><span class="lineno"> 8945</span>&#160;  <span class="keywordtype">unsigned</span> Stride = SrcEltVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() / 8;</div>
<div class="line"><a name="l08946"></a><span class="lineno"> 8946</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcEltVT.<a class="code" href="structllvm_1_1EVT.html#a470621733f1ffb597e6f502040216da4">isByteSized</a>());</div>
<div class="line"><a name="l08947"></a><span class="lineno"> 8947</span>&#160; </div>
<div class="line"><a name="l08948"></a><span class="lineno"> 8948</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Vals;</div>
<div class="line"><a name="l08949"></a><span class="lineno"> 8949</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> LoadChains;</div>
<div class="line"><a name="l08950"></a><span class="lineno"> 8950</span>&#160; </div>
<div class="line"><a name="l08951"></a><span class="lineno"> 8951</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; NumElem; ++Idx) {</div>
<div class="line"><a name="l08952"></a><span class="lineno"> 8952</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ScalarLoad =</div>
<div class="line"><a name="l08953"></a><span class="lineno"> 8953</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(ExtType, SL, DstEltVT, Chain, BasePTR,</div>
<div class="line"><a name="l08954"></a><span class="lineno"> 8954</span>&#160;                       <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getPointerInfo().getWithOffset(Idx * Stride),</div>
<div class="line"><a name="l08955"></a><span class="lineno"> 8955</span>&#160;                       SrcEltVT, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getOriginalAlign(),</div>
<div class="line"><a name="l08956"></a><span class="lineno"> 8956</span>&#160;                       <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand()-&gt;getFlags(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l08957"></a><span class="lineno"> 8957</span>&#160; </div>
<div class="line"><a name="l08958"></a><span class="lineno"> 8958</span>&#160;    BasePTR = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">getObjectPtrOffset</a>(SL, BasePTR, <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(Stride));</div>
<div class="line"><a name="l08959"></a><span class="lineno"> 8959</span>&#160; </div>
<div class="line"><a name="l08960"></a><span class="lineno"> 8960</span>&#160;    Vals.push_back(ScalarLoad.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(0));</div>
<div class="line"><a name="l08961"></a><span class="lineno"> 8961</span>&#160;    LoadChains.push_back(ScalarLoad.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1));</div>
<div class="line"><a name="l08962"></a><span class="lineno"> 8962</span>&#160;  }</div>
<div class="line"><a name="l08963"></a><span class="lineno"> 8963</span>&#160; </div>
<div class="line"><a name="l08964"></a><span class="lineno"> 8964</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewChain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, SL, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, LoadChains);</div>
<div class="line"><a name="l08965"></a><span class="lineno"> 8965</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1Value.html">Value</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(DstVT, SL, Vals);</div>
<div class="line"><a name="l08966"></a><span class="lineno"> 8966</span>&#160; </div>
<div class="line"><a name="l08967"></a><span class="lineno"> 8967</span>&#160;  <span class="keywordflow">return</span> std::make_pair(<a class="code" href="classllvm_1_1Value.html">Value</a>, NewChain);</div>
<div class="line"><a name="l08968"></a><span class="lineno"> 8968</span>&#160;}</div>
<div class="line"><a name="l08969"></a><span class="lineno"> 8969</span>&#160; </div>
<div class="line"><a name="l08970"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a1af840a92041720670b3ddb0abadaa84"> 8970</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a1af840a92041720670b3ddb0abadaa84">TargetLowering::scalarizeVectorStore</a>(<a class="code" href="classllvm_1_1StoreSDNode.html">StoreSDNode</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>,</div>
<div class="line"><a name="l08971"></a><span class="lineno"> 8971</span>&#160;                                             <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08972"></a><span class="lineno"> 8972</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>);</div>
<div class="line"><a name="l08973"></a><span class="lineno"> 8973</span>&#160; </div>
<div class="line"><a name="l08974"></a><span class="lineno"> 8974</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getChain();</div>
<div class="line"><a name="l08975"></a><span class="lineno"> 8975</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BasePtr = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getBasePtr();</div>
<div class="line"><a name="l08976"></a><span class="lineno"> 8976</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1Value.html">Value</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getValue();</div>
<div class="line"><a name="l08977"></a><span class="lineno"> 8977</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> StVT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemoryVT();</div>
<div class="line"><a name="l08978"></a><span class="lineno"> 8978</span>&#160; </div>
<div class="line"><a name="l08979"></a><span class="lineno"> 8979</span>&#160;  <span class="keywordflow">if</span> (StVT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l08980"></a><span class="lineno"> 8980</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Cannot scalarize scalable vector stores&quot;</span>);</div>
<div class="line"><a name="l08981"></a><span class="lineno"> 8981</span>&#160; </div>
<div class="line"><a name="l08982"></a><span class="lineno"> 8982</span>&#160;  <span class="comment">// The type of the data we want to save</span></div>
<div class="line"><a name="l08983"></a><span class="lineno"> 8983</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> RegVT = <a class="code" href="classllvm_1_1Value.html">Value</a>.getValueType();</div>
<div class="line"><a name="l08984"></a><span class="lineno"> 8984</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> RegSclVT = RegVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l08985"></a><span class="lineno"> 8985</span>&#160; </div>
<div class="line"><a name="l08986"></a><span class="lineno"> 8986</span>&#160;  <span class="comment">// The type of data as saved in memory.</span></div>
<div class="line"><a name="l08987"></a><span class="lineno"> 8987</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> MemSclVT = StVT.<a class="code" href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>();</div>
<div class="line"><a name="l08988"></a><span class="lineno"> 8988</span>&#160; </div>
<div class="line"><a name="l08989"></a><span class="lineno"> 8989</span>&#160;  <span class="keywordtype">unsigned</span> NumElem = StVT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l08990"></a><span class="lineno"> 8990</span>&#160; </div>
<div class="line"><a name="l08991"></a><span class="lineno"> 8991</span>&#160;  <span class="comment">// A vector must always be stored in memory as-is, i.e. without any padding</span></div>
<div class="line"><a name="l08992"></a><span class="lineno"> 8992</span>&#160;  <span class="comment">// between the elements, since various code depend on it, e.g. in the</span></div>
<div class="line"><a name="l08993"></a><span class="lineno"> 8993</span>&#160;  <span class="comment">// handling of a bitcast of a vector type to int, which may be done with a</span></div>
<div class="line"><a name="l08994"></a><span class="lineno"> 8994</span>&#160;  <span class="comment">// vector store followed by an integer load. A vector that does not have</span></div>
<div class="line"><a name="l08995"></a><span class="lineno"> 8995</span>&#160;  <span class="comment">// elements that are byte-sized must therefore be stored as an integer</span></div>
<div class="line"><a name="l08996"></a><span class="lineno"> 8996</span>&#160;  <span class="comment">// built out of the extracted vector elements.</span></div>
<div class="line"><a name="l08997"></a><span class="lineno"> 8997</span>&#160;  <span class="keywordflow">if</span> (!MemSclVT.<a class="code" href="structllvm_1_1EVT.html#a470621733f1ffb597e6f502040216da4">isByteSized</a>()) {</div>
<div class="line"><a name="l08998"></a><span class="lineno"> 8998</span>&#160;    <span class="keywordtype">unsigned</span> NumBits = StVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>();</div>
<div class="line"><a name="l08999"></a><span class="lineno"> 8999</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> IntVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), NumBits);</div>
<div class="line"><a name="l09000"></a><span class="lineno"> 9000</span>&#160; </div>
<div class="line"><a name="l09001"></a><span class="lineno"> 9001</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CurrVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, SL, IntVT);</div>
<div class="line"><a name="l09002"></a><span class="lineno"> 9002</span>&#160; </div>
<div class="line"><a name="l09003"></a><span class="lineno"> 9003</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; NumElem; ++Idx) {</div>
<div class="line"><a name="l09004"></a><span class="lineno"> 9004</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, SL, RegSclVT, <a class="code" href="classllvm_1_1Value.html">Value</a>,</div>
<div class="line"><a name="l09005"></a><span class="lineno"> 9005</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac597f2b1601a3acbac07347251e588f8">getVectorIdxConstant</a>(Idx, SL));</div>
<div class="line"><a name="l09006"></a><span class="lineno"> 9006</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Trunc = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, SL, MemSclVT, Elt);</div>
<div class="line"><a name="l09007"></a><span class="lineno"> 9007</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExtElt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, SL, IntVT, Trunc);</div>
<div class="line"><a name="l09008"></a><span class="lineno"> 9008</span>&#160;      <span class="keywordtype">unsigned</span> ShiftIntoIdx =</div>
<div class="line"><a name="l09009"></a><span class="lineno"> 9009</span>&#160;          (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a84c1d72001dd5f34d9a55b3a7bb8a474">isBigEndian</a>() ? (NumElem - 1) - Idx : Idx);</div>
<div class="line"><a name="l09010"></a><span class="lineno"> 9010</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftAmount =</div>
<div class="line"><a name="l09011"></a><span class="lineno"> 9011</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(ShiftIntoIdx * MemSclVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>(), SL, IntVT);</div>
<div class="line"><a name="l09012"></a><span class="lineno"> 9012</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftedElt =</div>
<div class="line"><a name="l09013"></a><span class="lineno"> 9013</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, SL, IntVT, ExtElt, ShiftAmount);</div>
<div class="line"><a name="l09014"></a><span class="lineno"> 9014</span>&#160;      CurrVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, SL, IntVT, CurrVal, ShiftedElt);</div>
<div class="line"><a name="l09015"></a><span class="lineno"> 9015</span>&#160;    }</div>
<div class="line"><a name="l09016"></a><span class="lineno"> 9016</span>&#160; </div>
<div class="line"><a name="l09017"></a><span class="lineno"> 9017</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">getStore</a>(Chain, SL, CurrVal, BasePtr, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getPointerInfo(),</div>
<div class="line"><a name="l09018"></a><span class="lineno"> 9018</span>&#160;                        <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getOriginalAlign(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemOperand()-&gt;getFlags(),</div>
<div class="line"><a name="l09019"></a><span class="lineno"> 9019</span>&#160;                        <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l09020"></a><span class="lineno"> 9020</span>&#160;  }</div>
<div class="line"><a name="l09021"></a><span class="lineno"> 9021</span>&#160; </div>
<div class="line"><a name="l09022"></a><span class="lineno"> 9022</span>&#160;  <span class="comment">// Store Stride in bytes</span></div>
<div class="line"><a name="l09023"></a><span class="lineno"> 9023</span>&#160;  <span class="keywordtype">unsigned</span> Stride = MemSclVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() / 8;</div>
<div class="line"><a name="l09024"></a><span class="lineno"> 9024</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Stride &amp;&amp; <span class="stringliteral">&quot;Zero stride!&quot;</span>);</div>
<div class="line"><a name="l09025"></a><span class="lineno"> 9025</span>&#160;  <span class="comment">// Extract each of the elements from the original vector and save them into</span></div>
<div class="line"><a name="l09026"></a><span class="lineno"> 9026</span>&#160;  <span class="comment">// memory individually.</span></div>
<div class="line"><a name="l09027"></a><span class="lineno"> 9027</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Stores;</div>
<div class="line"><a name="l09028"></a><span class="lineno"> 9028</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; NumElem; ++Idx) {</div>
<div class="line"><a name="l09029"></a><span class="lineno"> 9029</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, SL, RegSclVT, <a class="code" href="classllvm_1_1Value.html">Value</a>,</div>
<div class="line"><a name="l09030"></a><span class="lineno"> 9030</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac597f2b1601a3acbac07347251e588f8">getVectorIdxConstant</a>(Idx, SL));</div>
<div class="line"><a name="l09031"></a><span class="lineno"> 9031</span>&#160; </div>
<div class="line"><a name="l09032"></a><span class="lineno"> 9032</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> =</div>
<div class="line"><a name="l09033"></a><span class="lineno"> 9033</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">getObjectPtrOffset</a>(SL, BasePtr, <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(Idx * Stride));</div>
<div class="line"><a name="l09034"></a><span class="lineno"> 9034</span>&#160; </div>
<div class="line"><a name="l09035"></a><span class="lineno"> 9035</span>&#160;    <span class="comment">// This scalar TruncStore may be illegal, but we legalize it later.</span></div>
<div class="line"><a name="l09036"></a><span class="lineno"> 9036</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8063c77c39146c0790e66f5e0679475c">getTruncStore</a>(</div>
<div class="line"><a name="l09037"></a><span class="lineno"> 9037</span>&#160;        Chain, SL, Elt, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getPointerInfo().getWithOffset(Idx * Stride),</div>
<div class="line"><a name="l09038"></a><span class="lineno"> 9038</span>&#160;        MemSclVT, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getOriginalAlign(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemOperand()-&gt;getFlags(),</div>
<div class="line"><a name="l09039"></a><span class="lineno"> 9039</span>&#160;        <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l09040"></a><span class="lineno"> 9040</span>&#160; </div>
<div class="line"><a name="l09041"></a><span class="lineno"> 9041</span>&#160;    Stores.push_back(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>);</div>
<div class="line"><a name="l09042"></a><span class="lineno"> 9042</span>&#160;  }</div>
<div class="line"><a name="l09043"></a><span class="lineno"> 9043</span>&#160; </div>
<div class="line"><a name="l09044"></a><span class="lineno"> 9044</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, SL, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, Stores);</div>
<div class="line"><a name="l09045"></a><span class="lineno"> 9045</span>&#160;}</div>
<div class="line"><a name="l09046"></a><span class="lineno"> 9046</span>&#160; </div>
<div class="line"><a name="l09047"></a><span class="lineno"> 9047</span>&#160;std::pair&lt;SDValue, SDValue&gt;</div>
<div class="line"><a name="l09048"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a77a694c3edbcb15c7e8319a3c37ec485"> 9048</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#a77a694c3edbcb15c7e8319a3c37ec485">TargetLowering::expandUnalignedLoad</a>(<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09049"></a><span class="lineno"> 9049</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAddressingMode() == <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">ISD::UNINDEXED</a> &amp;&amp;</div>
<div class="line"><a name="l09050"></a><span class="lineno"> 9050</span>&#160;         <span class="stringliteral">&quot;unaligned indexed loads not implemented!&quot;</span>);</div>
<div class="line"><a name="l09051"></a><span class="lineno"> 9051</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getChain();</div>
<div class="line"><a name="l09052"></a><span class="lineno"> 9052</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getBasePtr();</div>
<div class="line"><a name="l09053"></a><span class="lineno"> 9053</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l09054"></a><span class="lineno"> 9054</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoadedVT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemoryVT();</div>
<div class="line"><a name="l09055"></a><span class="lineno"> 9055</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>);</div>
<div class="line"><a name="l09056"></a><span class="lineno"> 9056</span>&#160;  <span class="keyword">auto</span> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>();</div>
<div class="line"><a name="l09057"></a><span class="lineno"> 9057</span>&#160; </div>
<div class="line"><a name="l09058"></a><span class="lineno"> 9058</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>() || VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()) {</div>
<div class="line"><a name="l09059"></a><span class="lineno"> 9059</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> intVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), LoadedVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>());</div>
<div class="line"><a name="l09060"></a><span class="lineno"> 9060</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(intVT) &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(LoadedVT)) {</div>
<div class="line"><a name="l09061"></a><span class="lineno"> 9061</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>, intVT) &amp;&amp;</div>
<div class="line"><a name="l09062"></a><span class="lineno"> 9062</span>&#160;          LoadedVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()) {</div>
<div class="line"><a name="l09063"></a><span class="lineno"> 9063</span>&#160;        <span class="comment">// Scalarize the load and let the individual components be handled.</span></div>
<div class="line"><a name="l09064"></a><span class="lineno"> 9064</span>&#160;        <span class="keywordflow">return</span> scalarizeVectorLoad(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>, DAG);</div>
<div class="line"><a name="l09065"></a><span class="lineno"> 9065</span>&#160;      }</div>
<div class="line"><a name="l09066"></a><span class="lineno"> 9066</span>&#160; </div>
<div class="line"><a name="l09067"></a><span class="lineno"> 9067</span>&#160;      <span class="comment">// Expand to a (misaligned) integer load of the same size,</span></div>
<div class="line"><a name="l09068"></a><span class="lineno"> 9068</span>&#160;      <span class="comment">// then bitconvert to floating point or vector.</span></div>
<div class="line"><a name="l09069"></a><span class="lineno"> 9069</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> newLoad = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3c3b16945cf064f59363bdefdfe2b492">getLoad</a>(intVT, dl, Chain, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l09070"></a><span class="lineno"> 9070</span>&#160;                                    <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand());</div>
<div class="line"><a name="l09071"></a><span class="lineno"> 9071</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, LoadedVT, newLoad);</div>
<div class="line"><a name="l09072"></a><span class="lineno"> 9072</span>&#160;      <span class="keywordflow">if</span> (LoadedVT != VT)</div>
<div class="line"><a name="l09073"></a><span class="lineno"> 9073</span>&#160;        Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>() ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a> :</div>
<div class="line"><a name="l09074"></a><span class="lineno"> 9074</span>&#160;                             <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, dl, VT, Result);</div>
<div class="line"><a name="l09075"></a><span class="lineno"> 9075</span>&#160; </div>
<div class="line"><a name="l09076"></a><span class="lineno"> 9076</span>&#160;      <span class="keywordflow">return</span> std::make_pair(Result, newLoad.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1));</div>
<div class="line"><a name="l09077"></a><span class="lineno"> 9077</span>&#160;    }</div>
<div class="line"><a name="l09078"></a><span class="lineno"> 9078</span>&#160; </div>
<div class="line"><a name="l09079"></a><span class="lineno"> 9079</span>&#160;    <span class="comment">// Copy the value to a (aligned) stack slot using (unaligned) integer</span></div>
<div class="line"><a name="l09080"></a><span class="lineno"> 9080</span>&#160;    <span class="comment">// loads and stores, then do a (aligned) load from the stack slot.</span></div>
<div class="line"><a name="l09081"></a><span class="lineno"> 9081</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> RegVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#af344c6bd2d070c999525df85be7688cf">getRegisterType</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), intVT);</div>
<div class="line"><a name="l09082"></a><span class="lineno"> 9082</span>&#160;    <span class="keywordtype">unsigned</span> LoadedBytes = LoadedVT.<a class="code" href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>();</div>
<div class="line"><a name="l09083"></a><span class="lineno"> 9083</span>&#160;    <span class="keywordtype">unsigned</span> RegBytes = RegVT.<a class="code" href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() / 8;</div>
<div class="line"><a name="l09084"></a><span class="lineno"> 9084</span>&#160;    <span class="keywordtype">unsigned</span> NumRegs = (LoadedBytes + RegBytes - 1) / RegBytes;</div>
<div class="line"><a name="l09085"></a><span class="lineno"> 9085</span>&#160; </div>
<div class="line"><a name="l09086"></a><span class="lineno"> 9086</span>&#160;    <span class="comment">// Make sure the stack slot is also aligned for the register type.</span></div>
<div class="line"><a name="l09087"></a><span class="lineno"> 9087</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackBase = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae83b3d8e9a944b5d818e80524a5003e2">CreateStackTemporary</a>(LoadedVT, RegVT);</div>
<div class="line"><a name="l09088"></a><span class="lineno"> 9088</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = cast&lt;FrameIndexSDNode&gt;(StackBase.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>())-&gt;getIndex();</div>
<div class="line"><a name="l09089"></a><span class="lineno"> 9089</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Stores;</div>
<div class="line"><a name="l09090"></a><span class="lineno"> 9090</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr = StackBase;</div>
<div class="line"><a name="l09091"></a><span class="lineno"> 9091</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l09092"></a><span class="lineno"> 9092</span>&#160; </div>
<div class="line"><a name="l09093"></a><span class="lineno"> 9093</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>.getValueType();</div>
<div class="line"><a name="l09094"></a><span class="lineno"> 9094</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> StackPtrVT = StackPtr.getValueType();</div>
<div class="line"><a name="l09095"></a><span class="lineno"> 9095</span>&#160; </div>
<div class="line"><a name="l09096"></a><span class="lineno"> 9096</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrIncrement = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(RegBytes, dl, PtrVT);</div>
<div class="line"><a name="l09097"></a><span class="lineno"> 9097</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtrIncrement = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(RegBytes, dl, StackPtrVT);</div>
<div class="line"><a name="l09098"></a><span class="lineno"> 9098</span>&#160; </div>
<div class="line"><a name="l09099"></a><span class="lineno"> 9099</span>&#160;    <span class="comment">// Do all but one copies using the full register width.</span></div>
<div class="line"><a name="l09100"></a><span class="lineno"> 9100</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NumRegs; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l09101"></a><span class="lineno"> 9101</span>&#160;      <span class="comment">// Load one integer register&#39;s worth from the original location.</span></div>
<div class="line"><a name="l09102"></a><span class="lineno"> 9102</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3c3b16945cf064f59363bdefdfe2b492">getLoad</a>(</div>
<div class="line"><a name="l09103"></a><span class="lineno"> 9103</span>&#160;          RegVT, dl, Chain, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getPointerInfo().getWithOffset(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>),</div>
<div class="line"><a name="l09104"></a><span class="lineno"> 9104</span>&#160;          <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getOriginalAlign(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand()-&gt;getFlags(),</div>
<div class="line"><a name="l09105"></a><span class="lineno"> 9105</span>&#160;          <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l09106"></a><span class="lineno"> 9106</span>&#160;      <span class="comment">// Follow the load with a store to the stack slot.  Remember the store.</span></div>
<div class="line"><a name="l09107"></a><span class="lineno"> 9107</span>&#160;      Stores.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">getStore</a>(</div>
<div class="line"><a name="l09108"></a><span class="lineno"> 9108</span>&#160;          <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>.getValue(1), dl, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, StackPtr,</div>
<div class="line"><a name="l09109"></a><span class="lineno"> 9109</span>&#160;          <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)));</div>
<div class="line"><a name="l09110"></a><span class="lineno"> 9110</span>&#160;      <span class="comment">// Increment the pointers.</span></div>
<div class="line"><a name="l09111"></a><span class="lineno"> 9111</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += RegBytes;</div>
<div class="line"><a name="l09112"></a><span class="lineno"> 9112</span>&#160; </div>
<div class="line"><a name="l09113"></a><span class="lineno"> 9113</span>&#160;      <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">getObjectPtrOffset</a>(dl, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, PtrIncrement);</div>
<div class="line"><a name="l09114"></a><span class="lineno"> 9114</span>&#160;      StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">getObjectPtrOffset</a>(dl, StackPtr, StackPtrIncrement);</div>
<div class="line"><a name="l09115"></a><span class="lineno"> 9115</span>&#160;    }</div>
<div class="line"><a name="l09116"></a><span class="lineno"> 9116</span>&#160; </div>
<div class="line"><a name="l09117"></a><span class="lineno"> 9117</span>&#160;    <span class="comment">// The last copy may be partial.  Do an extending load.</span></div>
<div class="line"><a name="l09118"></a><span class="lineno"> 9118</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> MemVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(),</div>
<div class="line"><a name="l09119"></a><span class="lineno"> 9119</span>&#160;                                  8 * (LoadedBytes - <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>));</div>
<div class="line"><a name="l09120"></a><span class="lineno"> 9120</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> =</div>
<div class="line"><a name="l09121"></a><span class="lineno"> 9121</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">ISD::EXTLOAD</a>, dl, RegVT, Chain, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l09122"></a><span class="lineno"> 9122</span>&#160;                       <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getPointerInfo().getWithOffset(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>), MemVT,</div>
<div class="line"><a name="l09123"></a><span class="lineno"> 9123</span>&#160;                       <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getOriginalAlign(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand()-&gt;getFlags(),</div>
<div class="line"><a name="l09124"></a><span class="lineno"> 9124</span>&#160;                       <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l09125"></a><span class="lineno"> 9125</span>&#160;    <span class="comment">// Follow the load with a store to the stack slot.  Remember the store.</span></div>
<div class="line"><a name="l09126"></a><span class="lineno"> 9126</span>&#160;    <span class="comment">// On big-endian machines this requires a truncating store to ensure</span></div>
<div class="line"><a name="l09127"></a><span class="lineno"> 9127</span>&#160;    <span class="comment">// that the bits end up in the right place.</span></div>
<div class="line"><a name="l09128"></a><span class="lineno"> 9128</span>&#160;    Stores.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8063c77c39146c0790e66f5e0679475c">getTruncStore</a>(</div>
<div class="line"><a name="l09129"></a><span class="lineno"> 9129</span>&#160;        <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>.getValue(1), dl, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, StackPtr,</div>
<div class="line"><a name="l09130"></a><span class="lineno"> 9130</span>&#160;        <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>), MemVT));</div>
<div class="line"><a name="l09131"></a><span class="lineno"> 9131</span>&#160; </div>
<div class="line"><a name="l09132"></a><span class="lineno"> 9132</span>&#160;    <span class="comment">// The order of the stores doesn&#39;t matter - say it with a TokenFactor.</span></div>
<div class="line"><a name="l09133"></a><span class="lineno"> 9133</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, Stores);</div>
<div class="line"><a name="l09134"></a><span class="lineno"> 9134</span>&#160; </div>
<div class="line"><a name="l09135"></a><span class="lineno"> 9135</span>&#160;    <span class="comment">// Finally, perform the original load only redirected to the stack slot.</span></div>
<div class="line"><a name="l09136"></a><span class="lineno"> 9136</span>&#160;    <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getExtensionType(), dl, VT, TF, StackBase,</div>
<div class="line"><a name="l09137"></a><span class="lineno"> 9137</span>&#160;                          <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, 0),</div>
<div class="line"><a name="l09138"></a><span class="lineno"> 9138</span>&#160;                          LoadedVT);</div>
<div class="line"><a name="l09139"></a><span class="lineno"> 9139</span>&#160; </div>
<div class="line"><a name="l09140"></a><span class="lineno"> 9140</span>&#160;    <span class="comment">// Callers expect a MERGE_VALUES node.</span></div>
<div class="line"><a name="l09141"></a><span class="lineno"> 9141</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, TF);</div>
<div class="line"><a name="l09142"></a><span class="lineno"> 9142</span>&#160;  }</div>
<div class="line"><a name="l09143"></a><span class="lineno"> 9143</span>&#160; </div>
<div class="line"><a name="l09144"></a><span class="lineno"> 9144</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoadedVT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp; !LoadedVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp;</div>
<div class="line"><a name="l09145"></a><span class="lineno"> 9145</span>&#160;         <span class="stringliteral">&quot;Unaligned load of unsupported type.&quot;</span>);</div>
<div class="line"><a name="l09146"></a><span class="lineno"> 9146</span>&#160; </div>
<div class="line"><a name="l09147"></a><span class="lineno"> 9147</span>&#160;  <span class="comment">// Compute the new VT that is half the size of the old one.  This is an</span></div>
<div class="line"><a name="l09148"></a><span class="lineno"> 9148</span>&#160;  <span class="comment">// integer MVT.</span></div>
<div class="line"><a name="l09149"></a><span class="lineno"> 9149</span>&#160;  <span class="keywordtype">unsigned</span> NumBits = LoadedVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>();</div>
<div class="line"><a name="l09150"></a><span class="lineno"> 9150</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewLoadedVT;</div>
<div class="line"><a name="l09151"></a><span class="lineno"> 9151</span>&#160;  NewLoadedVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), NumBits/2);</div>
<div class="line"><a name="l09152"></a><span class="lineno"> 9152</span>&#160;  NumBits &gt;&gt;= 1;</div>
<div class="line"><a name="l09153"></a><span class="lineno"> 9153</span>&#160; </div>
<div class="line"><a name="l09154"></a><span class="lineno"> 9154</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getOriginalAlign();</div>
<div class="line"><a name="l09155"></a><span class="lineno"> 9155</span>&#160;  <span class="keywordtype">unsigned</span> IncrementSize = NumBits / 8;</div>
<div class="line"><a name="l09156"></a><span class="lineno"> 9156</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7">ISD::LoadExtType</a> HiExtType = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getExtensionType();</div>
<div class="line"><a name="l09157"></a><span class="lineno"> 9157</span>&#160; </div>
<div class="line"><a name="l09158"></a><span class="lineno"> 9158</span>&#160;  <span class="comment">// If the original load is NON_EXTLOAD, the hi part load must be ZEXTLOAD.</span></div>
<div class="line"><a name="l09159"></a><span class="lineno"> 9159</span>&#160;  <span class="keywordflow">if</span> (HiExtType == <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">ISD::NON_EXTLOAD</a>)</div>
<div class="line"><a name="l09160"></a><span class="lineno"> 9160</span>&#160;    HiExtType = <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">ISD::ZEXTLOAD</a>;</div>
<div class="line"><a name="l09161"></a><span class="lineno"> 9161</span>&#160; </div>
<div class="line"><a name="l09162"></a><span class="lineno"> 9162</span>&#160;  <span class="comment">// Load the value in two parts</span></div>
<div class="line"><a name="l09163"></a><span class="lineno"> 9163</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo, Hi;</div>
<div class="line"><a name="l09164"></a><span class="lineno"> 9164</span>&#160;  <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a377365b0288a4d06a07e09252d7d583f">isLittleEndian</a>()) {</div>
<div class="line"><a name="l09165"></a><span class="lineno"> 9165</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">ISD::ZEXTLOAD</a>, dl, VT, Chain, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getPointerInfo(),</div>
<div class="line"><a name="l09166"></a><span class="lineno"> 9166</span>&#160;                        NewLoadedVT, Alignment, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand()-&gt;getFlags(),</div>
<div class="line"><a name="l09167"></a><span class="lineno"> 9167</span>&#160;                        <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l09168"></a><span class="lineno"> 9168</span>&#160; </div>
<div class="line"><a name="l09169"></a><span class="lineno"> 9169</span>&#160;    <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">getObjectPtrOffset</a>(dl, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(IncrementSize));</div>
<div class="line"><a name="l09170"></a><span class="lineno"> 9170</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(HiExtType, dl, VT, Chain, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l09171"></a><span class="lineno"> 9171</span>&#160;                        <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getPointerInfo().getWithOffset(IncrementSize),</div>
<div class="line"><a name="l09172"></a><span class="lineno"> 9172</span>&#160;                        NewLoadedVT, Alignment, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand()-&gt;getFlags(),</div>
<div class="line"><a name="l09173"></a><span class="lineno"> 9173</span>&#160;                        <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l09174"></a><span class="lineno"> 9174</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09175"></a><span class="lineno"> 9175</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(HiExtType, dl, VT, Chain, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getPointerInfo(),</div>
<div class="line"><a name="l09176"></a><span class="lineno"> 9176</span>&#160;                        NewLoadedVT, Alignment, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand()-&gt;getFlags(),</div>
<div class="line"><a name="l09177"></a><span class="lineno"> 9177</span>&#160;                        <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l09178"></a><span class="lineno"> 9178</span>&#160; </div>
<div class="line"><a name="l09179"></a><span class="lineno"> 9179</span>&#160;    <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">getObjectPtrOffset</a>(dl, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(IncrementSize));</div>
<div class="line"><a name="l09180"></a><span class="lineno"> 9180</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">ISD::ZEXTLOAD</a>, dl, VT, Chain, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l09181"></a><span class="lineno"> 9181</span>&#160;                        <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getPointerInfo().getWithOffset(IncrementSize),</div>
<div class="line"><a name="l09182"></a><span class="lineno"> 9182</span>&#160;                        NewLoadedVT, Alignment, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand()-&gt;getFlags(),</div>
<div class="line"><a name="l09183"></a><span class="lineno"> 9183</span>&#160;                        <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l09184"></a><span class="lineno"> 9184</span>&#160;  }</div>
<div class="line"><a name="l09185"></a><span class="lineno"> 9185</span>&#160; </div>
<div class="line"><a name="l09186"></a><span class="lineno"> 9186</span>&#160;  <span class="comment">// aggregate the two parts</span></div>
<div class="line"><a name="l09187"></a><span class="lineno"> 9187</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftAmount =</div>
<div class="line"><a name="l09188"></a><span class="lineno"> 9188</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(NumBits, dl, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(Hi.getValueType(),</div>
<div class="line"><a name="l09189"></a><span class="lineno"> 9189</span>&#160;                                                    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>()));</div>
<div class="line"><a name="l09190"></a><span class="lineno"> 9190</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, Hi, ShiftAmount);</div>
<div class="line"><a name="l09191"></a><span class="lineno"> 9191</span>&#160;  Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Result, Lo);</div>
<div class="line"><a name="l09192"></a><span class="lineno"> 9192</span>&#160; </div>
<div class="line"><a name="l09193"></a><span class="lineno"> 9193</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, Lo.getValue(1),</div>
<div class="line"><a name="l09194"></a><span class="lineno"> 9194</span>&#160;                             Hi.getValue(1));</div>
<div class="line"><a name="l09195"></a><span class="lineno"> 9195</span>&#160; </div>
<div class="line"><a name="l09196"></a><span class="lineno"> 9196</span>&#160;  <span class="keywordflow">return</span> std::make_pair(Result, TF);</div>
<div class="line"><a name="l09197"></a><span class="lineno"> 9197</span>&#160;}</div>
<div class="line"><a name="l09198"></a><span class="lineno"> 9198</span>&#160; </div>
<div class="line"><a name="l09199"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a5194f2db1b9c25d2dd3f0302d428430e"> 9199</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a5194f2db1b9c25d2dd3f0302d428430e">TargetLowering::expandUnalignedStore</a>(<a class="code" href="classllvm_1_1StoreSDNode.html">StoreSDNode</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>,</div>
<div class="line"><a name="l09200"></a><span class="lineno"> 9200</span>&#160;                                             <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09201"></a><span class="lineno"> 9201</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getAddressingMode() == <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">ISD::UNINDEXED</a> &amp;&amp;</div>
<div class="line"><a name="l09202"></a><span class="lineno"> 9202</span>&#160;         <span class="stringliteral">&quot;unaligned indexed stores not implemented!&quot;</span>);</div>
<div class="line"><a name="l09203"></a><span class="lineno"> 9203</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getChain();</div>
<div class="line"><a name="l09204"></a><span class="lineno"> 9204</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getBasePtr();</div>
<div class="line"><a name="l09205"></a><span class="lineno"> 9205</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getValue();</div>
<div class="line"><a name="l09206"></a><span class="lineno"> 9206</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Val.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l09207"></a><span class="lineno"> 9207</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getOriginalAlign();</div>
<div class="line"><a name="l09208"></a><span class="lineno"> 9208</span>&#160;  <span class="keyword">auto</span> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>();</div>
<div class="line"><a name="l09209"></a><span class="lineno"> 9209</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> StoreMemVT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemoryVT();</div>
<div class="line"><a name="l09210"></a><span class="lineno"> 9210</span>&#160; </div>
<div class="line"><a name="l09211"></a><span class="lineno"> 9211</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>);</div>
<div class="line"><a name="l09212"></a><span class="lineno"> 9212</span>&#160;  <span class="keywordflow">if</span> (StoreMemVT.<a class="code" href="structllvm_1_1EVT.html#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>() || StoreMemVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()) {</div>
<div class="line"><a name="l09213"></a><span class="lineno"> 9213</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> intVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>());</div>
<div class="line"><a name="l09214"></a><span class="lineno"> 9214</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(intVT)) {</div>
<div class="line"><a name="l09215"></a><span class="lineno"> 9215</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>, intVT) &amp;&amp;</div>
<div class="line"><a name="l09216"></a><span class="lineno"> 9216</span>&#160;          StoreMemVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()) {</div>
<div class="line"><a name="l09217"></a><span class="lineno"> 9217</span>&#160;        <span class="comment">// Scalarize the store and let the individual components be handled.</span></div>
<div class="line"><a name="l09218"></a><span class="lineno"> 9218</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = <a class="code" href="X86ISelLowering_8cpp.html#aeda6315d246cafab6d912b425d4e7218">scalarizeVectorStore</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>, DAG);</div>
<div class="line"><a name="l09219"></a><span class="lineno"> 9219</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l09220"></a><span class="lineno"> 9220</span>&#160;      }</div>
<div class="line"><a name="l09221"></a><span class="lineno"> 9221</span>&#160;      <span class="comment">// Expand to a bitconvert of the value to the integer type of the</span></div>
<div class="line"><a name="l09222"></a><span class="lineno"> 9222</span>&#160;      <span class="comment">// same size, then a (misaligned) int store.</span></div>
<div class="line"><a name="l09223"></a><span class="lineno"> 9223</span>&#160;      <span class="comment">// FIXME: Does not handle truncating floating point stores!</span></div>
<div class="line"><a name="l09224"></a><span class="lineno"> 9224</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, intVT, Val);</div>
<div class="line"><a name="l09225"></a><span class="lineno"> 9225</span>&#160;      Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">getStore</a>(Chain, dl, Result, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getPointerInfo(),</div>
<div class="line"><a name="l09226"></a><span class="lineno"> 9226</span>&#160;                            Alignment, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemOperand()-&gt;getFlags());</div>
<div class="line"><a name="l09227"></a><span class="lineno"> 9227</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l09228"></a><span class="lineno"> 9228</span>&#160;    }</div>
<div class="line"><a name="l09229"></a><span class="lineno"> 9229</span>&#160;    <span class="comment">// Do a (aligned) store to a stack slot, then copy from the stack slot</span></div>
<div class="line"><a name="l09230"></a><span class="lineno"> 9230</span>&#160;    <span class="comment">// to the final destination using (unaligned) integer loads and stores.</span></div>
<div class="line"><a name="l09231"></a><span class="lineno"> 9231</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> RegVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#af344c6bd2d070c999525df85be7688cf">getRegisterType</a>(</div>
<div class="line"><a name="l09232"></a><span class="lineno"> 9232</span>&#160;        *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(),</div>
<div class="line"><a name="l09233"></a><span class="lineno"> 9233</span>&#160;        <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), StoreMemVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()));</div>
<div class="line"><a name="l09234"></a><span class="lineno"> 9234</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>.getValueType();</div>
<div class="line"><a name="l09235"></a><span class="lineno"> 9235</span>&#160;    <span class="keywordtype">unsigned</span> StoredBytes = StoreMemVT.<a class="code" href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>();</div>
<div class="line"><a name="l09236"></a><span class="lineno"> 9236</span>&#160;    <span class="keywordtype">unsigned</span> RegBytes = RegVT.<a class="code" href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() / 8;</div>
<div class="line"><a name="l09237"></a><span class="lineno"> 9237</span>&#160;    <span class="keywordtype">unsigned</span> NumRegs = (StoredBytes + RegBytes - 1) / RegBytes;</div>
<div class="line"><a name="l09238"></a><span class="lineno"> 9238</span>&#160; </div>
<div class="line"><a name="l09239"></a><span class="lineno"> 9239</span>&#160;    <span class="comment">// Make sure the stack slot is also aligned for the register type.</span></div>
<div class="line"><a name="l09240"></a><span class="lineno"> 9240</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae83b3d8e9a944b5d818e80524a5003e2">CreateStackTemporary</a>(StoreMemVT, RegVT);</div>
<div class="line"><a name="l09241"></a><span class="lineno"> 9241</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = cast&lt;FrameIndexSDNode&gt;(StackPtr.getNode())-&gt;getIndex();</div>
<div class="line"><a name="l09242"></a><span class="lineno"> 9242</span>&#160; </div>
<div class="line"><a name="l09243"></a><span class="lineno"> 9243</span>&#160;    <span class="comment">// Perform the original store, only redirected to the stack slot.</span></div>
<div class="line"><a name="l09244"></a><span class="lineno"> 9244</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8063c77c39146c0790e66f5e0679475c">getTruncStore</a>(</div>
<div class="line"><a name="l09245"></a><span class="lineno"> 9245</span>&#160;        Chain, dl, Val, StackPtr,</div>
<div class="line"><a name="l09246"></a><span class="lineno"> 9246</span>&#160;        <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, 0), StoreMemVT);</div>
<div class="line"><a name="l09247"></a><span class="lineno"> 9247</span>&#160; </div>
<div class="line"><a name="l09248"></a><span class="lineno"> 9248</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> StackPtrVT = StackPtr.getValueType();</div>
<div class="line"><a name="l09249"></a><span class="lineno"> 9249</span>&#160; </div>
<div class="line"><a name="l09250"></a><span class="lineno"> 9250</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrIncrement = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(RegBytes, dl, PtrVT);</div>
<div class="line"><a name="l09251"></a><span class="lineno"> 9251</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtrIncrement = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(RegBytes, dl, StackPtrVT);</div>
<div class="line"><a name="l09252"></a><span class="lineno"> 9252</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Stores;</div>
<div class="line"><a name="l09253"></a><span class="lineno"> 9253</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l09254"></a><span class="lineno"> 9254</span>&#160; </div>
<div class="line"><a name="l09255"></a><span class="lineno"> 9255</span>&#160;    <span class="comment">// Do all but one copies using the full register width.</span></div>
<div class="line"><a name="l09256"></a><span class="lineno"> 9256</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NumRegs; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l09257"></a><span class="lineno"> 9257</span>&#160;      <span class="comment">// Load one integer register&#39;s worth from the stack slot.</span></div>
<div class="line"><a name="l09258"></a><span class="lineno"> 9258</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3c3b16945cf064f59363bdefdfe2b492">getLoad</a>(</div>
<div class="line"><a name="l09259"></a><span class="lineno"> 9259</span>&#160;          RegVT, dl, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>, StackPtr,</div>
<div class="line"><a name="l09260"></a><span class="lineno"> 9260</span>&#160;          <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>));</div>
<div class="line"><a name="l09261"></a><span class="lineno"> 9261</span>&#160;      <span class="comment">// Store it to the final location.  Remember the store.</span></div>
<div class="line"><a name="l09262"></a><span class="lineno"> 9262</span>&#160;      Stores.push_back(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">getStore</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>.getValue(1), dl, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l09263"></a><span class="lineno"> 9263</span>&#160;                                    <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getPointerInfo().getWithOffset(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>),</div>
<div class="line"><a name="l09264"></a><span class="lineno"> 9264</span>&#160;                                    <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getOriginalAlign(),</div>
<div class="line"><a name="l09265"></a><span class="lineno"> 9265</span>&#160;                                    <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemOperand()-&gt;getFlags()));</div>
<div class="line"><a name="l09266"></a><span class="lineno"> 9266</span>&#160;      <span class="comment">// Increment the pointers.</span></div>
<div class="line"><a name="l09267"></a><span class="lineno"> 9267</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += RegBytes;</div>
<div class="line"><a name="l09268"></a><span class="lineno"> 9268</span>&#160;      StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">getObjectPtrOffset</a>(dl, StackPtr, StackPtrIncrement);</div>
<div class="line"><a name="l09269"></a><span class="lineno"> 9269</span>&#160;      <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">getObjectPtrOffset</a>(dl, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, PtrIncrement);</div>
<div class="line"><a name="l09270"></a><span class="lineno"> 9270</span>&#160;    }</div>
<div class="line"><a name="l09271"></a><span class="lineno"> 9271</span>&#160; </div>
<div class="line"><a name="l09272"></a><span class="lineno"> 9272</span>&#160;    <span class="comment">// The last store may be partial.  Do a truncating store.  On big-endian</span></div>
<div class="line"><a name="l09273"></a><span class="lineno"> 9273</span>&#160;    <span class="comment">// machines this requires an extending load from the stack slot to ensure</span></div>
<div class="line"><a name="l09274"></a><span class="lineno"> 9274</span>&#160;    <span class="comment">// that the bits are in the right place.</span></div>
<div class="line"><a name="l09275"></a><span class="lineno"> 9275</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoadMemVT =</div>
<div class="line"><a name="l09276"></a><span class="lineno"> 9276</span>&#160;        <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), 8 * (StoredBytes - <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>));</div>
<div class="line"><a name="l09277"></a><span class="lineno"> 9277</span>&#160; </div>
<div class="line"><a name="l09278"></a><span class="lineno"> 9278</span>&#160;    <span class="comment">// Load from the stack slot.</span></div>
<div class="line"><a name="l09279"></a><span class="lineno"> 9279</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">getExtLoad</a>(</div>
<div class="line"><a name="l09280"></a><span class="lineno"> 9280</span>&#160;        <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">ISD::EXTLOAD</a>, dl, RegVT, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>, StackPtr,</div>
<div class="line"><a name="l09281"></a><span class="lineno"> 9281</span>&#160;        <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>), LoadMemVT);</div>
<div class="line"><a name="l09282"></a><span class="lineno"> 9282</span>&#160; </div>
<div class="line"><a name="l09283"></a><span class="lineno"> 9283</span>&#160;    Stores.push_back(</div>
<div class="line"><a name="l09284"></a><span class="lineno"> 9284</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8063c77c39146c0790e66f5e0679475c">getTruncStore</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>.getValue(1), dl, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l09285"></a><span class="lineno"> 9285</span>&#160;                          <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getPointerInfo().getWithOffset(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>), LoadMemVT,</div>
<div class="line"><a name="l09286"></a><span class="lineno"> 9286</span>&#160;                          <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getOriginalAlign(),</div>
<div class="line"><a name="l09287"></a><span class="lineno"> 9287</span>&#160;                          <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemOperand()-&gt;getFlags(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getAAInfo()));</div>
<div class="line"><a name="l09288"></a><span class="lineno"> 9288</span>&#160;    <span class="comment">// The order of the stores doesn&#39;t matter - say it with a TokenFactor.</span></div>
<div class="line"><a name="l09289"></a><span class="lineno"> 9289</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, Stores);</div>
<div class="line"><a name="l09290"></a><span class="lineno"> 9290</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l09291"></a><span class="lineno"> 9291</span>&#160;  }</div>
<div class="line"><a name="l09292"></a><span class="lineno"> 9292</span>&#160; </div>
<div class="line"><a name="l09293"></a><span class="lineno"> 9293</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(StoreMemVT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp; !StoreMemVT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp;</div>
<div class="line"><a name="l09294"></a><span class="lineno"> 9294</span>&#160;         <span class="stringliteral">&quot;Unaligned store of unknown type.&quot;</span>);</div>
<div class="line"><a name="l09295"></a><span class="lineno"> 9295</span>&#160;  <span class="comment">// Get the half-size VT</span></div>
<div class="line"><a name="l09296"></a><span class="lineno"> 9296</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewStoredVT = StoreMemVT.<a class="code" href="structllvm_1_1EVT.html#a587873e0de35da196d3f5fa6d60f738c">getHalfSizedIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>());</div>
<div class="line"><a name="l09297"></a><span class="lineno"> 9297</span>&#160;  <span class="keywordtype">unsigned</span> NumBits = NewStoredVT.<a class="code" href="structllvm_1_1EVT.html#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>();</div>
<div class="line"><a name="l09298"></a><span class="lineno"> 9298</span>&#160;  <span class="keywordtype">unsigned</span> IncrementSize = NumBits / 8;</div>
<div class="line"><a name="l09299"></a><span class="lineno"> 9299</span>&#160; </div>
<div class="line"><a name="l09300"></a><span class="lineno"> 9300</span>&#160;  <span class="comment">// Divide the stored value in two parts.</span></div>
<div class="line"><a name="l09301"></a><span class="lineno"> 9301</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftAmount = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(</div>
<div class="line"><a name="l09302"></a><span class="lineno"> 9302</span>&#160;      NumBits, dl, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>()));</div>
<div class="line"><a name="l09303"></a><span class="lineno"> 9303</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo = Val;</div>
<div class="line"><a name="l09304"></a><span class="lineno"> 9304</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Val, ShiftAmount);</div>
<div class="line"><a name="l09305"></a><span class="lineno"> 9305</span>&#160; </div>
<div class="line"><a name="l09306"></a><span class="lineno"> 9306</span>&#160;  <span class="comment">// Store the two parts</span></div>
<div class="line"><a name="l09307"></a><span class="lineno"> 9307</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Store1, Store2;</div>
<div class="line"><a name="l09308"></a><span class="lineno"> 9308</span>&#160;  Store1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8063c77c39146c0790e66f5e0679475c">getTruncStore</a>(Chain, dl,</div>
<div class="line"><a name="l09309"></a><span class="lineno"> 9309</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a377365b0288a4d06a07e09252d7d583f">isLittleEndian</a>() ? Lo : Hi,</div>
<div class="line"><a name="l09310"></a><span class="lineno"> 9310</span>&#160;                             <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getPointerInfo(), NewStoredVT, Alignment,</div>
<div class="line"><a name="l09311"></a><span class="lineno"> 9311</span>&#160;                             <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemOperand()-&gt;getFlags());</div>
<div class="line"><a name="l09312"></a><span class="lineno"> 9312</span>&#160; </div>
<div class="line"><a name="l09313"></a><span class="lineno"> 9313</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">getObjectPtrOffset</a>(dl, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(IncrementSize));</div>
<div class="line"><a name="l09314"></a><span class="lineno"> 9314</span>&#160;  Store2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8063c77c39146c0790e66f5e0679475c">getTruncStore</a>(</div>
<div class="line"><a name="l09315"></a><span class="lineno"> 9315</span>&#160;      Chain, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a377365b0288a4d06a07e09252d7d583f">isLittleEndian</a>() ? Hi : Lo, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l09316"></a><span class="lineno"> 9316</span>&#160;      <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getPointerInfo().getWithOffset(IncrementSize), NewStoredVT, Alignment,</div>
<div class="line"><a name="l09317"></a><span class="lineno"> 9317</span>&#160;      <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemOperand()-&gt;getFlags(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getAAInfo());</div>
<div class="line"><a name="l09318"></a><span class="lineno"> 9318</span>&#160; </div>
<div class="line"><a name="l09319"></a><span class="lineno"> 9319</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result =</div>
<div class="line"><a name="l09320"></a><span class="lineno"> 9320</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, Store1, Store2);</div>
<div class="line"><a name="l09321"></a><span class="lineno"> 9321</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l09322"></a><span class="lineno"> 9322</span>&#160;}</div>
<div class="line"><a name="l09323"></a><span class="lineno"> 9323</span>&#160; </div>
<div class="line"><a name="l09324"></a><span class="lineno"> 9324</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div>
<div class="line"><a name="l09325"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aacc24244f1c711d681342958b1efe214"> 9325</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#aacc24244f1c711d681342958b1efe214">TargetLowering::IncrementMemoryAddress</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l09326"></a><span class="lineno"> 9326</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="structllvm_1_1EVT.html">EVT</a> DataVT,</div>
<div class="line"><a name="l09327"></a><span class="lineno"> 9327</span>&#160;                                       <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l09328"></a><span class="lineno"> 9328</span>&#160;                                       <span class="keywordtype">bool</span> IsCompressedMemory)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09329"></a><span class="lineno"> 9329</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Increment;</div>
<div class="line"><a name="l09330"></a><span class="lineno"> 9330</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> AddrVT = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getValueType();</div>
<div class="line"><a name="l09331"></a><span class="lineno"> 9331</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> MaskVT = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.getValueType();</div>
<div class="line"><a name="l09332"></a><span class="lineno"> 9332</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DataVT.<a class="code" href="structllvm_1_1EVT.html#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>() == MaskVT.<a class="code" href="structllvm_1_1EVT.html#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>() &amp;&amp;</div>
<div class="line"><a name="l09333"></a><span class="lineno"> 9333</span>&#160;         <span class="stringliteral">&quot;Incompatible types of Data and Mask&quot;</span>);</div>
<div class="line"><a name="l09334"></a><span class="lineno"> 9334</span>&#160;  <span class="keywordflow">if</span> (IsCompressedMemory) {</div>
<div class="line"><a name="l09335"></a><span class="lineno"> 9335</span>&#160;    <span class="keywordflow">if</span> (DataVT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l09336"></a><span class="lineno"> 9336</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l09337"></a><span class="lineno"> 9337</span>&#160;          <span class="stringliteral">&quot;Cannot currently handle compressed memory with scalable vectors&quot;</span>);</div>
<div class="line"><a name="l09338"></a><span class="lineno"> 9338</span>&#160;    <span class="comment">// Incrementing the pointer according to number of &#39;1&#39;s in the mask.</span></div>
<div class="line"><a name="l09339"></a><span class="lineno"> 9339</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> MaskIntVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), MaskVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>());</div>
<div class="line"><a name="l09340"></a><span class="lineno"> 9340</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaskInIntReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(MaskIntVT, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l09341"></a><span class="lineno"> 9341</span>&#160;    <span class="keywordflow">if</span> (MaskIntVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &lt; 32) {</div>
<div class="line"><a name="l09342"></a><span class="lineno"> 9342</span>&#160;      MaskInIntReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, MaskInIntReg);</div>
<div class="line"><a name="l09343"></a><span class="lineno"> 9343</span>&#160;      MaskIntVT = <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div>
<div class="line"><a name="l09344"></a><span class="lineno"> 9344</span>&#160;    }</div>
<div class="line"><a name="l09345"></a><span class="lineno"> 9345</span>&#160; </div>
<div class="line"><a name="l09346"></a><span class="lineno"> 9346</span>&#160;    <span class="comment">// Count &#39;1&#39;s with POPCNT.</span></div>
<div class="line"><a name="l09347"></a><span class="lineno"> 9347</span>&#160;    Increment = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MaskIntVT, MaskInIntReg);</div>
<div class="line"><a name="l09348"></a><span class="lineno"> 9348</span>&#160;    Increment = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(Increment, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AddrVT);</div>
<div class="line"><a name="l09349"></a><span class="lineno"> 9349</span>&#160;    <span class="comment">// Scale is an element size in bytes.</span></div>
<div class="line"><a name="l09350"></a><span class="lineno"> 9350</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Scale = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(DataVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() / 8, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l09351"></a><span class="lineno"> 9351</span>&#160;                                    AddrVT);</div>
<div class="line"><a name="l09352"></a><span class="lineno"> 9352</span>&#160;    Increment = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AddrVT, Increment, Scale);</div>
<div class="line"><a name="l09353"></a><span class="lineno"> 9353</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DataVT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>()) {</div>
<div class="line"><a name="l09354"></a><span class="lineno"> 9354</span>&#160;    Increment = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a17116dc06939cff287f9941cb64213b1">getVScale</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AddrVT,</div>
<div class="line"><a name="l09355"></a><span class="lineno"> 9355</span>&#160;                              <a class="code" href="classllvm_1_1APInt.html">APInt</a>(AddrVT.<a class="code" href="structllvm_1_1EVT.html#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>(),</div>
<div class="line"><a name="l09356"></a><span class="lineno"> 9356</span>&#160;                                    DataVT.<a class="code" href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>()));</div>
<div class="line"><a name="l09357"></a><span class="lineno"> 9357</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l09358"></a><span class="lineno"> 9358</span>&#160;    Increment = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(DataVT.<a class="code" href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AddrVT);</div>
<div class="line"><a name="l09359"></a><span class="lineno"> 9359</span>&#160; </div>
<div class="line"><a name="l09360"></a><span class="lineno"> 9360</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AddrVT, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, Increment);</div>
<div class="line"><a name="l09361"></a><span class="lineno"> 9361</span>&#160;}</div>
<div class="line"><a name="l09362"></a><span class="lineno"> 9362</span>&#160; </div>
<div class="line"><a name="l09363"></a><span class="lineno"><a class="line" href="TargetLowering_8cpp.html#a508969c8bd53dfda53fb8670e9df1194"> 9363</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLowering_8cpp.html#a508969c8bd53dfda53fb8670e9df1194">clampDynamicVectorIndex</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Idx,</div>
<div class="line"><a name="l09364"></a><span class="lineno"> 9364</span>&#160;                                       <a class="code" href="structllvm_1_1EVT.html">EVT</a> VecVT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl,</div>
<div class="line"><a name="l09365"></a><span class="lineno"> 9365</span>&#160;                                       <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> SubEC) {</div>
<div class="line"><a name="l09366"></a><span class="lineno"> 9366</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(SubEC.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>() &amp;&amp; VecVT.<a class="code" href="structllvm_1_1EVT.html#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>()) &amp;&amp;</div>
<div class="line"><a name="l09367"></a><span class="lineno"> 9367</span>&#160;         <span class="stringliteral">&quot;Cannot index a scalable vector within a fixed-width vector&quot;</span>);</div>
<div class="line"><a name="l09368"></a><span class="lineno"> 9368</span>&#160; </div>
<div class="line"><a name="l09369"></a><span class="lineno"> 9369</span>&#160;  <span class="keywordtype">unsigned</span> NElts = VecVT.<a class="code" href="structllvm_1_1EVT.html#a53fb11c0140efce7e25ca9ff5ccbac96">getVectorMinNumElements</a>();</div>
<div class="line"><a name="l09370"></a><span class="lineno"> 9370</span>&#160;  <span class="keywordtype">unsigned</span> NumSubElts = SubEC.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>();</div>
<div class="line"><a name="l09371"></a><span class="lineno"> 9371</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> IdxVT = Idx.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l09372"></a><span class="lineno"> 9372</span>&#160; </div>
<div class="line"><a name="l09373"></a><span class="lineno"> 9373</span>&#160;  <span class="keywordflow">if</span> (VecVT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>() &amp;&amp; !SubEC.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>()) {</div>
<div class="line"><a name="l09374"></a><span class="lineno"> 9374</span>&#160;    <span class="comment">// If this is a constant index and we know the value plus the number of the</span></div>
<div class="line"><a name="l09375"></a><span class="lineno"> 9375</span>&#160;    <span class="comment">// elements in the subvector minus one is less than the minimum number of</span></div>
<div class="line"><a name="l09376"></a><span class="lineno"> 9376</span>&#160;    <span class="comment">// elements then it&#39;s safe to return Idx.</span></div>
<div class="line"><a name="l09377"></a><span class="lineno"> 9377</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *IdxCst = dyn_cast&lt;ConstantSDNode&gt;(Idx))</div>
<div class="line"><a name="l09378"></a><span class="lineno"> 9378</span>&#160;      <span class="keywordflow">if</span> (IdxCst-&gt;getZExtValue() + (NumSubElts - 1) &lt; NElts)</div>
<div class="line"><a name="l09379"></a><span class="lineno"> 9379</span>&#160;        <span class="keywordflow">return</span> Idx;</div>
<div class="line"><a name="l09380"></a><span class="lineno"> 9380</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">VS</a> =</div>
<div class="line"><a name="l09381"></a><span class="lineno"> 9381</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a17116dc06939cff287f9941cb64213b1">getVScale</a>(dl, IdxVT, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(IdxVT.<a class="code" href="structllvm_1_1EVT.html#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>(), NElts));</div>
<div class="line"><a name="l09382"></a><span class="lineno"> 9382</span>&#160;    <span class="keywordtype">unsigned</span> SubOpcode = NumSubElts &lt;= NElts ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">ISD::USUBSAT</a>;</div>
<div class="line"><a name="l09383"></a><span class="lineno"> 9383</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(SubOpcode, dl, IdxVT, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">VS</a>,</div>
<div class="line"><a name="l09384"></a><span class="lineno"> 9384</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(NumSubElts, dl, IdxVT));</div>
<div class="line"><a name="l09385"></a><span class="lineno"> 9385</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>, dl, IdxVT, Idx, Sub);</div>
<div class="line"><a name="l09386"></a><span class="lineno"> 9386</span>&#160;  }</div>
<div class="line"><a name="l09387"></a><span class="lineno"> 9387</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(NElts) &amp;&amp; NumSubElts == 1) {</div>
<div class="line"><a name="l09388"></a><span class="lineno"> 9388</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(IdxVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>(), <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(NElts));</div>
<div class="line"><a name="l09389"></a><span class="lineno"> 9389</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, IdxVT, Idx,</div>
<div class="line"><a name="l09390"></a><span class="lineno"> 9390</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, dl, IdxVT));</div>
<div class="line"><a name="l09391"></a><span class="lineno"> 9391</span>&#160;  }</div>
<div class="line"><a name="l09392"></a><span class="lineno"> 9392</span>&#160;  <span class="keywordtype">unsigned</span> MaxIndex = NumSubElts &lt; NElts ? NElts - NumSubElts : 0;</div>
<div class="line"><a name="l09393"></a><span class="lineno"> 9393</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>, dl, IdxVT, Idx,</div>
<div class="line"><a name="l09394"></a><span class="lineno"> 9394</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MaxIndex, dl, IdxVT));</div>
<div class="line"><a name="l09395"></a><span class="lineno"> 9395</span>&#160;}</div>
<div class="line"><a name="l09396"></a><span class="lineno"> 9396</span>&#160; </div>
<div class="line"><a name="l09397"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ac9ed6848d132dfc4cdd7545832804916"> 9397</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#ac9ed6848d132dfc4cdd7545832804916">TargetLowering::getVectorElementPointer</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l09398"></a><span class="lineno"> 9398</span>&#160;                                                <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VecPtr, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VecVT,</div>
<div class="line"><a name="l09399"></a><span class="lineno"> 9399</span>&#160;                                                <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09400"></a><span class="lineno"> 9400</span>&#160;  <span class="keywordflow">return</span> getVectorSubVecPointer(</div>
<div class="line"><a name="l09401"></a><span class="lineno"> 9401</span>&#160;      DAG, VecPtr, VecVT,</div>
<div class="line"><a name="l09402"></a><span class="lineno"> 9402</span>&#160;      <a class="code" href="structllvm_1_1EVT.html#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VecVT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>(), 1),</div>
<div class="line"><a name="l09403"></a><span class="lineno"> 9403</span>&#160;      <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l09404"></a><span class="lineno"> 9404</span>&#160;}</div>
<div class="line"><a name="l09405"></a><span class="lineno"> 9405</span>&#160; </div>
<div class="line"><a name="l09406"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a8f755cf3f22921e11922f61cb68b1a18"> 9406</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a8f755cf3f22921e11922f61cb68b1a18">TargetLowering::getVectorSubVecPointer</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l09407"></a><span class="lineno"> 9407</span>&#160;                                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VecPtr, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VecVT,</div>
<div class="line"><a name="l09408"></a><span class="lineno"> 9408</span>&#160;                                               <a class="code" href="structllvm_1_1EVT.html">EVT</a> SubVecVT,</div>
<div class="line"><a name="l09409"></a><span class="lineno"> 9409</span>&#160;                                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09410"></a><span class="lineno"> 9410</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l09411"></a><span class="lineno"> 9411</span>&#160;  <span class="comment">// Make sure the index type is big enough to compute in.</span></div>
<div class="line"><a name="l09412"></a><span class="lineno"> 9412</span>&#160;  <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, dl, VecPtr.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</div>
<div class="line"><a name="l09413"></a><span class="lineno"> 9413</span>&#160; </div>
<div class="line"><a name="l09414"></a><span class="lineno"> 9414</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VecVT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</div>
<div class="line"><a name="l09415"></a><span class="lineno"> 9415</span>&#160; </div>
<div class="line"><a name="l09416"></a><span class="lineno"> 9416</span>&#160;  <span class="comment">// Calculate the element offset and add it to the pointer.</span></div>
<div class="line"><a name="l09417"></a><span class="lineno"> 9417</span>&#160;  <span class="keywordtype">unsigned</span> EltSize = EltVT.<a class="code" href="structllvm_1_1EVT.html#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>() / 8; <span class="comment">// FIXME: should be ABI size.</span></div>
<div class="line"><a name="l09418"></a><span class="lineno"> 9418</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EltSize * 8 == EltVT.<a class="code" href="structllvm_1_1EVT.html#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>() &amp;&amp;</div>
<div class="line"><a name="l09419"></a><span class="lineno"> 9419</span>&#160;         <span class="stringliteral">&quot;Converting bits to bytes lost precision&quot;</span>);</div>
<div class="line"><a name="l09420"></a><span class="lineno"> 9420</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SubVecVT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>() == EltVT &amp;&amp;</div>
<div class="line"><a name="l09421"></a><span class="lineno"> 9421</span>&#160;         <span class="stringliteral">&quot;Sub-vector must be a vector with matching element type&quot;</span>);</div>
<div class="line"><a name="l09422"></a><span class="lineno"> 9422</span>&#160;  <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a class="code" href="TargetLowering_8cpp.html#a508969c8bd53dfda53fb8670e9df1194">clampDynamicVectorIndex</a>(DAG, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, VecVT, dl,</div>
<div class="line"><a name="l09423"></a><span class="lineno"> 9423</span>&#160;                                  SubVecVT.<a class="code" href="structllvm_1_1EVT.html#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</div>
<div class="line"><a name="l09424"></a><span class="lineno"> 9424</span>&#160; </div>
<div class="line"><a name="l09425"></a><span class="lineno"> 9425</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> IdxVT = <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.getValueType();</div>
<div class="line"><a name="l09426"></a><span class="lineno"> 9426</span>&#160;  <span class="keywordflow">if</span> (SubVecVT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l09427"></a><span class="lineno"> 9427</span>&#160;    <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> =</div>
<div class="line"><a name="l09428"></a><span class="lineno"> 9428</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, IdxVT, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>,</div>
<div class="line"><a name="l09429"></a><span class="lineno"> 9429</span>&#160;                    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a17116dc06939cff287f9941cb64213b1">getVScale</a>(dl, IdxVT, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(IdxVT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>(), 1)));</div>
<div class="line"><a name="l09430"></a><span class="lineno"> 9430</span>&#160; </div>
<div class="line"><a name="l09431"></a><span class="lineno"> 9431</span>&#160;  <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, IdxVT, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>,</div>
<div class="line"><a name="l09432"></a><span class="lineno"> 9432</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(EltSize, dl, IdxVT));</div>
<div class="line"><a name="l09433"></a><span class="lineno"> 9433</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7ec0665296f2e3099a8f4d083e77f425">getMemBasePlusOffset</a>(VecPtr, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, dl);</div>
<div class="line"><a name="l09434"></a><span class="lineno"> 9434</span>&#160;}</div>
<div class="line"><a name="l09435"></a><span class="lineno"> 9435</span>&#160; </div>
<div class="line"><a name="l09436"></a><span class="lineno"> 9436</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l09437"></a><span class="lineno"> 9437</span>&#160;<span class="comment">// Implementation of Emulated TLS Model</span></div>
<div class="line"><a name="l09438"></a><span class="lineno"> 9438</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l09439"></a><span class="lineno"> 9439</span>&#160; </div>
<div class="line"><a name="l09440"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a7a3c71bbcbbfe364fc019b710aa01d48"> 9440</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a7a3c71bbcbbfe364fc019b710aa01d48">TargetLowering::LowerToTLSEmulatedModel</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAddressSDNode.html">GlobalAddressSDNode</a> *GA,</div>
<div class="line"><a name="l09441"></a><span class="lineno"> 9441</span>&#160;                                                <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09442"></a><span class="lineno"> 9442</span>&#160;  <span class="comment">// Access to address of TLS varialbe xyz is lowered to a function call:</span></div>
<div class="line"><a name="l09443"></a><span class="lineno"> 9443</span>&#160;  <span class="comment">//   __emutls_get_address( address of global variable named &quot;__emutls_v.xyz&quot; )</span></div>
<div class="line"><a name="l09444"></a><span class="lineno"> 9444</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l09445"></a><span class="lineno"> 9445</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *VoidPtrType = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>());</div>
<div class="line"><a name="l09446"></a><span class="lineno"> 9446</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(GA);</div>
<div class="line"><a name="l09447"></a><span class="lineno"> 9447</span>&#160; </div>
<div class="line"><a name="l09448"></a><span class="lineno"> 9448</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#ae4ac6bc14db22dbd7b94a3b1bd276796">ArgListTy</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l09449"></a><span class="lineno"> 9449</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html">ArgListEntry</a> Entry;</div>
<div class="line"><a name="l09450"></a><span class="lineno"> 9450</span>&#160;  std::string NameString = (<span class="stringliteral">&quot;__emutls_v.&quot;</span> + GA-&gt;<a class="code" href="classllvm_1_1GlobalAddressSDNode.html#a0622a72b15dee45d1694b152ccb7f15b">getGlobal</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()).str();</div>
<div class="line"><a name="l09451"></a><span class="lineno"> 9451</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *VariableModule = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Module.html">Module</a>*<span class="keyword">&gt;</span>(GA-&gt;<a class="code" href="classllvm_1_1GlobalAddressSDNode.html#a0622a72b15dee45d1694b152ccb7f15b">getGlobal</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>());</div>
<div class="line"><a name="l09452"></a><span class="lineno"> 9452</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> EmuTlsVarName(NameString);</div>
<div class="line"><a name="l09453"></a><span class="lineno"> 9453</span>&#160;  <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *EmuTlsVar = VariableModule-&gt;<a class="code" href="classllvm_1_1Module.html#aa16cc12d20b929bf7b1f27820ecb5199">getNamedGlobal</a>(EmuTlsVarName);</div>
<div class="line"><a name="l09454"></a><span class="lineno"> 9454</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EmuTlsVar &amp;&amp; <span class="stringliteral">&quot;Cannot find EmuTlsVar &quot;</span>);</div>
<div class="line"><a name="l09455"></a><span class="lineno"> 9455</span>&#160;  Entry.Node = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7ee632093c5fc25ca22faa353105aa74">getGlobalAddress</a>(EmuTlsVar, dl, PtrVT);</div>
<div class="line"><a name="l09456"></a><span class="lineno"> 9456</span>&#160;  Entry.Ty = VoidPtrType;</div>
<div class="line"><a name="l09457"></a><span class="lineno"> 9457</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(Entry);</div>
<div class="line"><a name="l09458"></a><span class="lineno"> 9458</span>&#160; </div>
<div class="line"><a name="l09459"></a><span class="lineno"> 9459</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EmuTlsGetAddr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8f1c26a4e070ead6c67b4e9a5d93124">getExternalSymbol</a>(<span class="stringliteral">&quot;__emutls_get_address&quot;</span>, PtrVT);</div>
<div class="line"><a name="l09460"></a><span class="lineno"> 9460</span>&#160; </div>
<div class="line"><a name="l09461"></a><span class="lineno"> 9461</span>&#160;  <a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html">TargetLowering::CallLoweringInfo</a> CLI(DAG);</div>
<div class="line"><a name="l09462"></a><span class="lineno"> 9462</span>&#160;  CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a1cc4fec79b89ecd469ae1fe4b86b242a">setDebugLoc</a>(dl).<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a1d747845f1b76415136d5713cdfa828f">setChain</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">getEntryNode</a>());</div>
<div class="line"><a name="l09463"></a><span class="lineno"> 9463</span>&#160;  CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a6681829b8f3dc7f15aaa53621a4dc602">setLibCallee</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb">CallingConv::C</a>, VoidPtrType, EmuTlsGetAddr, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>));</div>
<div class="line"><a name="l09464"></a><span class="lineno"> 9464</span>&#160;  std::pair&lt;SDValue, SDValue&gt; CallResult = LowerCallTo(CLI);</div>
<div class="line"><a name="l09465"></a><span class="lineno"> 9465</span>&#160; </div>
<div class="line"><a name="l09466"></a><span class="lineno"> 9466</span>&#160;  <span class="comment">// TLSADDR will be codegen&#39;ed as call. Inform MFI that function has calls.</span></div>
<div class="line"><a name="l09467"></a><span class="lineno"> 9467</span>&#160;  <span class="comment">// At last for X86 targets, maybe good for other targets too?</span></div>
<div class="line"><a name="l09468"></a><span class="lineno"> 9468</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l09469"></a><span class="lineno"> 9469</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a14ca8f1aa1c62b860504b766ad3b15f9">setAdjustsStack</a>(<span class="keyword">true</span>); <span class="comment">// Is this only for X86 target?</span></div>
<div class="line"><a name="l09470"></a><span class="lineno"> 9470</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5bb88f5f9d77d753e87c256950f16955">setHasCalls</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l09471"></a><span class="lineno"> 9471</span>&#160; </div>
<div class="line"><a name="l09472"></a><span class="lineno"> 9472</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((GA-&gt;<a class="code" href="classllvm_1_1GlobalAddressSDNode.html#a28a0dd6ccd1cfe2a3d171685b02adab2">getOffset</a>() == 0) &amp;&amp;</div>
<div class="line"><a name="l09473"></a><span class="lineno"> 9473</span>&#160;         <span class="stringliteral">&quot;Emulated TLS must have zero offset in GlobalAddressSDNode&quot;</span>);</div>
<div class="line"><a name="l09474"></a><span class="lineno"> 9474</span>&#160;  <span class="keywordflow">return</span> CallResult.first;</div>
<div class="line"><a name="l09475"></a><span class="lineno"> 9475</span>&#160;}</div>
<div class="line"><a name="l09476"></a><span class="lineno"> 9476</span>&#160; </div>
<div class="line"><a name="l09477"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a2389b62fc77888df38b57a3e6839d163"> 9477</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a2389b62fc77888df38b57a3e6839d163">TargetLowering::lowerCmpEqZeroToCtlzSrl</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l09478"></a><span class="lineno"> 9478</span>&#160;                                                <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09479"></a><span class="lineno"> 9479</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>) &amp;&amp; <span class="stringliteral">&quot;Input has to be a SETCC node.&quot;</span>);</div>
<div class="line"><a name="l09480"></a><span class="lineno"> 9480</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aca3a64890b27cc4b760a7ff278306959">isCtlzFast</a>())</div>
<div class="line"><a name="l09481"></a><span class="lineno"> 9481</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l09482"></a><span class="lineno"> 9482</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = cast&lt;CondCodeSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(2))-&gt;get();</div>
<div class="line"><a name="l09483"></a><span class="lineno"> 9483</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l09484"></a><span class="lineno"> 9484</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(1))) {</div>
<div class="line"><a name="l09485"></a><span class="lineno"> 9485</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero() &amp;&amp; <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>) {</div>
<div class="line"><a name="l09486"></a><span class="lineno"> 9486</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0).getValueType();</div>
<div class="line"><a name="l09487"></a><span class="lineno"> 9487</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zext = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l09488"></a><span class="lineno"> 9488</span>&#160;      <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(<a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)) {</div>
<div class="line"><a name="l09489"></a><span class="lineno"> 9489</span>&#160;        VT = <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div>
<div class="line"><a name="l09490"></a><span class="lineno"> 9490</span>&#160;        Zext = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0));</div>
<div class="line"><a name="l09491"></a><span class="lineno"> 9491</span>&#160;      }</div>
<div class="line"><a name="l09492"></a><span class="lineno"> 9492</span>&#160;      <span class="keywordtype">unsigned</span> Log2b = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>());</div>
<div class="line"><a name="l09493"></a><span class="lineno"> 9493</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Clz = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>, dl, VT, Zext);</div>
<div class="line"><a name="l09494"></a><span class="lineno"> 9494</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Scc = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Clz,</div>
<div class="line"><a name="l09495"></a><span class="lineno"> 9495</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Log2b, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div>
<div class="line"><a name="l09496"></a><span class="lineno"> 9496</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, Scc);</div>
<div class="line"><a name="l09497"></a><span class="lineno"> 9497</span>&#160;    }</div>
<div class="line"><a name="l09498"></a><span class="lineno"> 9498</span>&#160;  }</div>
<div class="line"><a name="l09499"></a><span class="lineno"> 9499</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l09500"></a><span class="lineno"> 9500</span>&#160;}</div>
<div class="line"><a name="l09501"></a><span class="lineno"> 9501</span>&#160; </div>
<div class="line"><a name="l09502"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#af07f5608b45a2a7489aa58374ebf9d0a"> 9502</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#af07f5608b45a2a7489aa58374ebf9d0a">TargetLowering::expandIntMINMAX</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09503"></a><span class="lineno"> 9503</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l09504"></a><span class="lineno"> 9504</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l09505"></a><span class="lineno"> 9505</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op0.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l09506"></a><span class="lineno"> 9506</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Node-&gt;getOpcode();</div>
<div class="line"><a name="l09507"></a><span class="lineno"> 9507</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l09508"></a><span class="lineno"> 9508</span>&#160; </div>
<div class="line"><a name="l09509"></a><span class="lineno"> 9509</span>&#160;  <span class="comment">// umin(x,y) -&gt; sub(x,usubsat(x,y))</span></div>
<div class="line"><a name="l09510"></a><span class="lineno"> 9510</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a> &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l09511"></a><span class="lineno"> 9511</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">ISD::USUBSAT</a>, VT)) {</div>
<div class="line"><a name="l09512"></a><span class="lineno"> 9512</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0,</div>
<div class="line"><a name="l09513"></a><span class="lineno"> 9513</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">ISD::USUBSAT</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0, Op1));</div>
<div class="line"><a name="l09514"></a><span class="lineno"> 9514</span>&#160;  }</div>
<div class="line"><a name="l09515"></a><span class="lineno"> 9515</span>&#160; </div>
<div class="line"><a name="l09516"></a><span class="lineno"> 9516</span>&#160;  <span class="comment">// umax(x,y) -&gt; add(x,usubsat(y,x))</span></div>
<div class="line"><a name="l09517"></a><span class="lineno"> 9517</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af675e759c0ffff8d48ea14a60fe3517b">ISD::UMAX</a> &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, VT) &amp;&amp;</div>
<div class="line"><a name="l09518"></a><span class="lineno"> 9518</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">ISD::USUBSAT</a>, VT)) {</div>
<div class="line"><a name="l09519"></a><span class="lineno"> 9519</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op0,</div>
<div class="line"><a name="l09520"></a><span class="lineno"> 9520</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">ISD::USUBSAT</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Op1, Op0));</div>
<div class="line"><a name="l09521"></a><span class="lineno"> 9521</span>&#160;  }</div>
<div class="line"><a name="l09522"></a><span class="lineno"> 9522</span>&#160; </div>
<div class="line"><a name="l09523"></a><span class="lineno"> 9523</span>&#160;  <span class="comment">// Expand Y = MAX(A, B) -&gt; Y = (A &gt; B) ? A : B</span></div>
<div class="line"><a name="l09524"></a><span class="lineno"> 9524</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>;</div>
<div class="line"><a name="l09525"></a><span class="lineno"> 9525</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l09526"></a><span class="lineno"> 9526</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;How did we get here?&quot;</span>);</div>
<div class="line"><a name="l09527"></a><span class="lineno"> 9527</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3b59179b6fcbc89463181015ace8e9b">ISD::SMAX</a>: <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09528"></a><span class="lineno"> 9528</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaac895215ecbb3c411c957c8beb39b70">ISD::SMIN</a>: <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09529"></a><span class="lineno"> 9529</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af675e759c0ffff8d48ea14a60fe3517b">ISD::UMAX</a>: <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09530"></a><span class="lineno"> 9530</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>: <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09531"></a><span class="lineno"> 9531</span>&#160;  }</div>
<div class="line"><a name="l09532"></a><span class="lineno"> 9532</span>&#160; </div>
<div class="line"><a name="l09533"></a><span class="lineno"> 9533</span>&#160;  <span class="comment">// FIXME: Should really try to split the vector in case it&#39;s legal on a</span></div>
<div class="line"><a name="l09534"></a><span class="lineno"> 9534</span>&#160;  <span class="comment">// subvector.</span></div>
<div class="line"><a name="l09535"></a><span class="lineno"> 9535</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, VT))</div>
<div class="line"><a name="l09536"></a><span class="lineno"> 9536</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a305a3a4874c597243cd5ba04af01339e">UnrollVectorOp</a>(Node);</div>
<div class="line"><a name="l09537"></a><span class="lineno"> 9537</span>&#160; </div>
<div class="line"><a name="l09538"></a><span class="lineno"> 9538</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> BoolVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l09539"></a><span class="lineno"> 9539</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, BoolVT, Op0, Op1, <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</div>
<div class="line"><a name="l09540"></a><span class="lineno"> 9540</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Op0, Op1);</div>
<div class="line"><a name="l09541"></a><span class="lineno"> 9541</span>&#160;}</div>
<div class="line"><a name="l09542"></a><span class="lineno"> 9542</span>&#160; </div>
<div class="line"><a name="l09543"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a0229015cd9266cde771a2748ed84758d"> 9543</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a0229015cd9266cde771a2748ed84758d">TargetLowering::expandAddSubSat</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09544"></a><span class="lineno"> 9544</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Node-&gt;getOpcode();</div>
<div class="line"><a name="l09545"></a><span class="lineno"> 9545</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l09546"></a><span class="lineno"> 9546</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l09547"></a><span class="lineno"> 9547</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType();</div>
<div class="line"><a name="l09548"></a><span class="lineno"> 9548</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l09549"></a><span class="lineno"> 9549</span>&#160; </div>
<div class="line"><a name="l09550"></a><span class="lineno"> 9550</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.getValueType() &amp;&amp; <span class="stringliteral">&quot;Expected operands to be the same type&quot;</span>);</div>
<div class="line"><a name="l09551"></a><span class="lineno"> 9551</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp; <span class="stringliteral">&quot;Expected operands to be integers&quot;</span>);</div>
<div class="line"><a name="l09552"></a><span class="lineno"> 9552</span>&#160; </div>
<div class="line"><a name="l09553"></a><span class="lineno"> 9553</span>&#160;  <span class="comment">// usub.sat(a, b) -&gt; umax(a, b) - b</span></div>
<div class="line"><a name="l09554"></a><span class="lineno"> 9554</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">ISD::USUBSAT</a> &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af675e759c0ffff8d48ea14a60fe3517b">ISD::UMAX</a>, VT)) {</div>
<div class="line"><a name="l09555"></a><span class="lineno"> 9555</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Max = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af675e759c0ffff8d48ea14a60fe3517b">ISD::UMAX</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09556"></a><span class="lineno"> 9556</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, Max, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09557"></a><span class="lineno"> 9557</span>&#160;  }</div>
<div class="line"><a name="l09558"></a><span class="lineno"> 9558</span>&#160; </div>
<div class="line"><a name="l09559"></a><span class="lineno"> 9559</span>&#160;  <span class="comment">// uadd.sat(a, b) -&gt; umin(a, ~b) + b</span></div>
<div class="line"><a name="l09560"></a><span class="lineno"> 9560</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5e433873c201ad85c30e42da1ae05977">ISD::UADDSAT</a> &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>, VT)) {</div>
<div class="line"><a name="l09561"></a><span class="lineno"> 9561</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InvRHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, VT);</div>
<div class="line"><a name="l09562"></a><span class="lineno"> 9562</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Min = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, InvRHS);</div>
<div class="line"><a name="l09563"></a><span class="lineno"> 9563</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, VT, Min, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09564"></a><span class="lineno"> 9564</span>&#160;  }</div>
<div class="line"><a name="l09565"></a><span class="lineno"> 9565</span>&#160; </div>
<div class="line"><a name="l09566"></a><span class="lineno"> 9566</span>&#160;  <span class="keywordtype">unsigned</span> OverflowOp;</div>
<div class="line"><a name="l09567"></a><span class="lineno"> 9567</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l09568"></a><span class="lineno"> 9568</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af1b946afff631cee7aa6de570bef7785">ISD::SADDSAT</a>:</div>
<div class="line"><a name="l09569"></a><span class="lineno"> 9569</span>&#160;    OverflowOp = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a863ec6ebb75bf89cfea14da646d77e92">ISD::SADDO</a>;</div>
<div class="line"><a name="l09570"></a><span class="lineno"> 9570</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09571"></a><span class="lineno"> 9571</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5e433873c201ad85c30e42da1ae05977">ISD::UADDSAT</a>:</div>
<div class="line"><a name="l09572"></a><span class="lineno"> 9572</span>&#160;    OverflowOp = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9">ISD::UADDO</a>;</div>
<div class="line"><a name="l09573"></a><span class="lineno"> 9573</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09574"></a><span class="lineno"> 9574</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a77984d86d70df1f3229da7a5119652a9">ISD::SSUBSAT</a>:</div>
<div class="line"><a name="l09575"></a><span class="lineno"> 9575</span>&#160;    OverflowOp = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6efe16ea597cfd8eeac26516fc992ee7">ISD::SSUBO</a>;</div>
<div class="line"><a name="l09576"></a><span class="lineno"> 9576</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09577"></a><span class="lineno"> 9577</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">ISD::USUBSAT</a>:</div>
<div class="line"><a name="l09578"></a><span class="lineno"> 9578</span>&#160;    OverflowOp = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4ffc75d65231b55461c0ba4f36a3e500">ISD::USUBO</a>;</div>
<div class="line"><a name="l09579"></a><span class="lineno"> 9579</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09580"></a><span class="lineno"> 9580</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l09581"></a><span class="lineno"> 9581</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Expected method to receive signed or unsigned saturation &quot;</span></div>
<div class="line"><a name="l09582"></a><span class="lineno"> 9582</span>&#160;                     <span class="stringliteral">&quot;addition or subtraction node.&quot;</span>);</div>
<div class="line"><a name="l09583"></a><span class="lineno"> 9583</span>&#160;  }</div>
<div class="line"><a name="l09584"></a><span class="lineno"> 9584</span>&#160; </div>
<div class="line"><a name="l09585"></a><span class="lineno"> 9585</span>&#160;  <span class="comment">// FIXME: Should really try to split the vector in case it&#39;s legal on a</span></div>
<div class="line"><a name="l09586"></a><span class="lineno"> 9586</span>&#160;  <span class="comment">// subvector.</span></div>
<div class="line"><a name="l09587"></a><span class="lineno"> 9587</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, VT))</div>
<div class="line"><a name="l09588"></a><span class="lineno"> 9588</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a305a3a4874c597243cd5ba04af01339e">UnrollVectorOp</a>(Node);</div>
<div class="line"><a name="l09589"></a><span class="lineno"> 9589</span>&#160; </div>
<div class="line"><a name="l09590"></a><span class="lineno"> 9590</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getScalarValueSizeInBits();</div>
<div class="line"><a name="l09591"></a><span class="lineno"> 9591</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> BoolVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l09592"></a><span class="lineno"> 9592</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(OverflowOp, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, BoolVT), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09593"></a><span class="lineno"> 9593</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SumDiff = Result.getValue(0);</div>
<div class="line"><a name="l09594"></a><span class="lineno"> 9594</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Overflow = Result.getValue(1);</div>
<div class="line"><a name="l09595"></a><span class="lineno"> 9595</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l09596"></a><span class="lineno"> 9596</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm.html#af14335020a68db7b9f722810e4a05180a421c6b20238e6e6585270538188f15b9">AllOnes</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8100b5a4f22f962b81df4353c7dca01a">getAllOnesConstant</a>(dl, VT);</div>
<div class="line"><a name="l09597"></a><span class="lineno"> 9597</span>&#160; </div>
<div class="line"><a name="l09598"></a><span class="lineno"> 9598</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5e433873c201ad85c30e42da1ae05977">ISD::UADDSAT</a>) {</div>
<div class="line"><a name="l09599"></a><span class="lineno"> 9599</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(VT) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">ZeroOrNegativeOneBooleanContent</a>) {</div>
<div class="line"><a name="l09600"></a><span class="lineno"> 9600</span>&#160;      <span class="comment">// (LHS + RHS) | OverflowMask</span></div>
<div class="line"><a name="l09601"></a><span class="lineno"> 9601</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OverflowMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9c2450d7d33fb2ecb9b645f1ca6a9a64">getSExtOrTrunc</a>(Overflow, dl, VT);</div>
<div class="line"><a name="l09602"></a><span class="lineno"> 9602</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, SumDiff, OverflowMask);</div>
<div class="line"><a name="l09603"></a><span class="lineno"> 9603</span>&#160;    }</div>
<div class="line"><a name="l09604"></a><span class="lineno"> 9604</span>&#160;    <span class="comment">// Overflow ? 0xffff.... : (LHS + RHS)</span></div>
<div class="line"><a name="l09605"></a><span class="lineno"> 9605</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, Overflow, <a class="code" href="namespacellvm.html#af14335020a68db7b9f722810e4a05180a421c6b20238e6e6585270538188f15b9">AllOnes</a>, SumDiff);</div>
<div class="line"><a name="l09606"></a><span class="lineno"> 9606</span>&#160;  }</div>
<div class="line"><a name="l09607"></a><span class="lineno"> 9607</span>&#160; </div>
<div class="line"><a name="l09608"></a><span class="lineno"> 9608</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">ISD::USUBSAT</a>) {</div>
<div class="line"><a name="l09609"></a><span class="lineno"> 9609</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">getBooleanContents</a>(VT) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">ZeroOrNegativeOneBooleanContent</a>) {</div>
<div class="line"><a name="l09610"></a><span class="lineno"> 9610</span>&#160;      <span class="comment">// (LHS - RHS) &amp; ~OverflowMask</span></div>
<div class="line"><a name="l09611"></a><span class="lineno"> 9611</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OverflowMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9c2450d7d33fb2ecb9b645f1ca6a9a64">getSExtOrTrunc</a>(Overflow, dl, VT);</div>
<div class="line"><a name="l09612"></a><span class="lineno"> 9612</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Not = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">getNOT</a>(dl, OverflowMask, VT);</div>
<div class="line"><a name="l09613"></a><span class="lineno"> 9613</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, VT, SumDiff, Not);</div>
<div class="line"><a name="l09614"></a><span class="lineno"> 9614</span>&#160;    }</div>
<div class="line"><a name="l09615"></a><span class="lineno"> 9615</span>&#160;    <span class="comment">// Overflow ? 0 : (LHS - RHS)</span></div>
<div class="line"><a name="l09616"></a><span class="lineno"> 9616</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, Overflow, Zero, SumDiff);</div>
<div class="line"><a name="l09617"></a><span class="lineno"> 9617</span>&#160;  }</div>
<div class="line"><a name="l09618"></a><span class="lineno"> 9618</span>&#160; </div>
<div class="line"><a name="l09619"></a><span class="lineno"> 9619</span>&#160;  <span class="comment">// Overflow ? (SumDiff &gt;&gt; BW) ^ MinVal : SumDiff</span></div>
<div class="line"><a name="l09620"></a><span class="lineno"> 9620</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinVal = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l09621"></a><span class="lineno"> 9621</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatMin = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MinVal, dl, VT);</div>
<div class="line"><a name="l09622"></a><span class="lineno"> 9622</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, SumDiff,</div>
<div class="line"><a name="l09623"></a><span class="lineno"> 9623</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - 1, dl, VT));</div>
<div class="line"><a name="l09624"></a><span class="lineno"> 9624</span>&#160;  Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, VT, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>, SatMin);</div>
<div class="line"><a name="l09625"></a><span class="lineno"> 9625</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, Overflow, Result, SumDiff);</div>
<div class="line"><a name="l09626"></a><span class="lineno"> 9626</span>&#160;}</div>
<div class="line"><a name="l09627"></a><span class="lineno"> 9627</span>&#160; </div>
<div class="line"><a name="l09628"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a404869a1344f5f28b149faeeae267918"> 9628</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a404869a1344f5f28b149faeeae267918">TargetLowering::expandShlSat</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09629"></a><span class="lineno"> 9629</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Node-&gt;getOpcode();</div>
<div class="line"><a name="l09630"></a><span class="lineno"> 9630</span>&#160;  <span class="keywordtype">bool</span> IsSigned = Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa30a145a99902daca036d039378abca2">ISD::SSHLSAT</a>;</div>
<div class="line"><a name="l09631"></a><span class="lineno"> 9631</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l09632"></a><span class="lineno"> 9632</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l09633"></a><span class="lineno"> 9633</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType();</div>
<div class="line"><a name="l09634"></a><span class="lineno"> 9634</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l09635"></a><span class="lineno"> 9635</span>&#160; </div>
<div class="line"><a name="l09636"></a><span class="lineno"> 9636</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa30a145a99902daca036d039378abca2">ISD::SSHLSAT</a> ||</div>
<div class="line"><a name="l09637"></a><span class="lineno"> 9637</span>&#160;          Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5ae4b108d3f627b66f3b1e5da51f4587">ISD::USHLSAT</a>) &amp;&amp;</div>
<div class="line"><a name="l09638"></a><span class="lineno"> 9638</span>&#160;          <span class="stringliteral">&quot;Expected a SHLSAT opcode&quot;</span>);</div>
<div class="line"><a name="l09639"></a><span class="lineno"> 9639</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.getValueType() &amp;&amp; <span class="stringliteral">&quot;Expected operands to be the same type&quot;</span>);</div>
<div class="line"><a name="l09640"></a><span class="lineno"> 9640</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp; <span class="stringliteral">&quot;Expected operands to be integers&quot;</span>);</div>
<div class="line"><a name="l09641"></a><span class="lineno"> 9641</span>&#160; </div>
<div class="line"><a name="l09642"></a><span class="lineno"> 9642</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; !<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, VT))</div>
<div class="line"><a name="l09643"></a><span class="lineno"> 9643</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a305a3a4874c597243cd5ba04af01339e">UnrollVectorOp</a>(Node);</div>
<div class="line"><a name="l09644"></a><span class="lineno"> 9644</span>&#160; </div>
<div class="line"><a name="l09645"></a><span class="lineno"> 9645</span>&#160;  <span class="comment">// If LHS != (LHS &lt;&lt; RHS) &gt;&gt; RHS, we have overflow and must saturate.</span></div>
<div class="line"><a name="l09646"></a><span class="lineno"> 9646</span>&#160; </div>
<div class="line"><a name="l09647"></a><span class="lineno"> 9647</span>&#160;  <span class="keywordtype">unsigned</span> BW = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l09648"></a><span class="lineno"> 9648</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> BoolVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l09649"></a><span class="lineno"> 9649</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09650"></a><span class="lineno"> 9650</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Orig =</div>
<div class="line"><a name="l09651"></a><span class="lineno"> 9651</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(IsSigned ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Result, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09652"></a><span class="lineno"> 9652</span>&#160; </div>
<div class="line"><a name="l09653"></a><span class="lineno"> 9653</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatVal;</div>
<div class="line"><a name="l09654"></a><span class="lineno"> 9654</span>&#160;  <span class="keywordflow">if</span> (IsSigned) {</div>
<div class="line"><a name="l09655"></a><span class="lineno"> 9655</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatMin = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(BW), dl, VT);</div>
<div class="line"><a name="l09656"></a><span class="lineno"> 9656</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatMax = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(BW), dl, VT);</div>
<div class="line"><a name="l09657"></a><span class="lineno"> 9657</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> =</div>
<div class="line"><a name="l09658"></a><span class="lineno"> 9658</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, BoolVT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT), <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l09659"></a><span class="lineno"> 9659</span>&#160;    SatVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, SatMin, SatMax);</div>
<div class="line"><a name="l09660"></a><span class="lineno"> 9660</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09661"></a><span class="lineno"> 9661</span>&#160;    SatVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(BW), dl, VT);</div>
<div class="line"><a name="l09662"></a><span class="lineno"> 9662</span>&#160;  }</div>
<div class="line"><a name="l09663"></a><span class="lineno"> 9663</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, BoolVT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Orig, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l09664"></a><span class="lineno"> 9664</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, SatVal, Result);</div>
<div class="line"><a name="l09665"></a><span class="lineno"> 9665</span>&#160;}</div>
<div class="line"><a name="l09666"></a><span class="lineno"> 9666</span>&#160; </div>
<div class="line"><a name="l09667"></a><span class="lineno"> 9667</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div>
<div class="line"><a name="l09668"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#aea8004e0e191218d92f8699ef35f95cb"> 9668</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#aea8004e0e191218d92f8699ef35f95cb">TargetLowering::expandFixedPointMul</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09669"></a><span class="lineno"> 9669</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a7f3f523e22ac3df6332e625289a7e6">ISD::SMULFIX</a> ||</div>
<div class="line"><a name="l09670"></a><span class="lineno"> 9670</span>&#160;          Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293cdca810c396f99a2bd63b017dd943">ISD::UMULFIX</a> ||</div>
<div class="line"><a name="l09671"></a><span class="lineno"> 9671</span>&#160;          Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a26a7dd56cd899cec0a1f6d2443f91db4">ISD::SMULFIXSAT</a> ||</div>
<div class="line"><a name="l09672"></a><span class="lineno"> 9672</span>&#160;          Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaab3219acc86e3b3a199effbb69aa07a">ISD::UMULFIXSAT</a>) &amp;&amp;</div>
<div class="line"><a name="l09673"></a><span class="lineno"> 9673</span>&#160;         <span class="stringliteral">&quot;Expected a fixed point multiplication opcode&quot;</span>);</div>
<div class="line"><a name="l09674"></a><span class="lineno"> 9674</span>&#160; </div>
<div class="line"><a name="l09675"></a><span class="lineno"> 9675</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l09676"></a><span class="lineno"> 9676</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l09677"></a><span class="lineno"> 9677</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l09678"></a><span class="lineno"> 9678</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType();</div>
<div class="line"><a name="l09679"></a><span class="lineno"> 9679</span>&#160;  <span class="keywordtype">unsigned</span> Scale = Node-&gt;getConstantOperandVal(2);</div>
<div class="line"><a name="l09680"></a><span class="lineno"> 9680</span>&#160;  <span class="keywordtype">bool</span> Saturating = (Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a26a7dd56cd899cec0a1f6d2443f91db4">ISD::SMULFIXSAT</a> ||</div>
<div class="line"><a name="l09681"></a><span class="lineno"> 9681</span>&#160;                     Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaab3219acc86e3b3a199effbb69aa07a">ISD::UMULFIXSAT</a>);</div>
<div class="line"><a name="l09682"></a><span class="lineno"> 9682</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = (Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a7f3f523e22ac3df6332e625289a7e6">ISD::SMULFIX</a> ||</div>
<div class="line"><a name="l09683"></a><span class="lineno"> 9683</span>&#160;                 Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a26a7dd56cd899cec0a1f6d2443f91db4">ISD::SMULFIXSAT</a>);</div>
<div class="line"><a name="l09684"></a><span class="lineno"> 9684</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> BoolVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l09685"></a><span class="lineno"> 9685</span>&#160;  <span class="keywordtype">unsigned</span> VTSize = VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l09686"></a><span class="lineno"> 9686</span>&#160; </div>
<div class="line"><a name="l09687"></a><span class="lineno"> 9687</span>&#160;  <span class="keywordflow">if</span> (!Scale) {</div>
<div class="line"><a name="l09688"></a><span class="lineno"> 9688</span>&#160;    <span class="comment">// [us]mul.fix(a, b, 0) -&gt; mul(a, b)</span></div>
<div class="line"><a name="l09689"></a><span class="lineno"> 9689</span>&#160;    <span class="keywordflow">if</span> (!Saturating) {</div>
<div class="line"><a name="l09690"></a><span class="lineno"> 9690</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, VT))</div>
<div class="line"><a name="l09691"></a><span class="lineno"> 9691</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09692"></a><span class="lineno"> 9692</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa35d0a58fdded3d225d512a60aea0951">ISD::SMULO</a>, VT)) {</div>
<div class="line"><a name="l09693"></a><span class="lineno"> 9693</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result =</div>
<div class="line"><a name="l09694"></a><span class="lineno"> 9694</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa35d0a58fdded3d225d512a60aea0951">ISD::SMULO</a>, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, BoolVT), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09695"></a><span class="lineno"> 9695</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Product = Result.getValue(0);</div>
<div class="line"><a name="l09696"></a><span class="lineno"> 9696</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Overflow = Result.getValue(1);</div>
<div class="line"><a name="l09697"></a><span class="lineno"> 9697</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l09698"></a><span class="lineno"> 9698</span>&#160; </div>
<div class="line"><a name="l09699"></a><span class="lineno"> 9699</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinVal = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(VTSize);</div>
<div class="line"><a name="l09700"></a><span class="lineno"> 9700</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxVal = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(VTSize);</div>
<div class="line"><a name="l09701"></a><span class="lineno"> 9701</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatMin = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MinVal, dl, VT);</div>
<div class="line"><a name="l09702"></a><span class="lineno"> 9702</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatMax = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MaxVal, dl, VT);</div>
<div class="line"><a name="l09703"></a><span class="lineno"> 9703</span>&#160;      <span class="comment">// Xor the inputs, if resulting sign bit is 0 the product will be</span></div>
<div class="line"><a name="l09704"></a><span class="lineno"> 9704</span>&#160;      <span class="comment">// positive, else negative.</span></div>
<div class="line"><a name="l09705"></a><span class="lineno"> 9705</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09706"></a><span class="lineno"> 9706</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ProdNeg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, BoolVT, <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a>, Zero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l09707"></a><span class="lineno"> 9707</span>&#160;      Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, ProdNeg, SatMin, SatMax);</div>
<div class="line"><a name="l09708"></a><span class="lineno"> 9708</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, Overflow, Result, Product);</div>
<div class="line"><a name="l09709"></a><span class="lineno"> 9709</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7800622851751b8ae318b41f4096830e">ISD::UMULO</a>, VT)) {</div>
<div class="line"><a name="l09710"></a><span class="lineno"> 9710</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result =</div>
<div class="line"><a name="l09711"></a><span class="lineno"> 9711</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7800622851751b8ae318b41f4096830e">ISD::UMULO</a>, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, BoolVT), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09712"></a><span class="lineno"> 9712</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Product = Result.getValue(0);</div>
<div class="line"><a name="l09713"></a><span class="lineno"> 9713</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Overflow = Result.getValue(1);</div>
<div class="line"><a name="l09714"></a><span class="lineno"> 9714</span>&#160; </div>
<div class="line"><a name="l09715"></a><span class="lineno"> 9715</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxVal = <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(VTSize);</div>
<div class="line"><a name="l09716"></a><span class="lineno"> 9716</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatMax = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MaxVal, dl, VT);</div>
<div class="line"><a name="l09717"></a><span class="lineno"> 9717</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, Overflow, SatMax, Product);</div>
<div class="line"><a name="l09718"></a><span class="lineno"> 9718</span>&#160;    }</div>
<div class="line"><a name="l09719"></a><span class="lineno"> 9719</span>&#160;  }</div>
<div class="line"><a name="l09720"></a><span class="lineno"> 9720</span>&#160; </div>
<div class="line"><a name="l09721"></a><span class="lineno"> 9721</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(((<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; Scale &lt; VTSize) || (!<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; Scale &lt;= VTSize)) &amp;&amp;</div>
<div class="line"><a name="l09722"></a><span class="lineno"> 9722</span>&#160;         <span class="stringliteral">&quot;Expected scale to be less than the number of bits if signed or at &quot;</span></div>
<div class="line"><a name="l09723"></a><span class="lineno"> 9723</span>&#160;         <span class="stringliteral">&quot;most the number of bits if unsigned.&quot;</span>);</div>
<div class="line"><a name="l09724"></a><span class="lineno"> 9724</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType() == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.getValueType() &amp;&amp;</div>
<div class="line"><a name="l09725"></a><span class="lineno"> 9725</span>&#160;         <span class="stringliteral">&quot;Expected both operands to be the same type&quot;</span>);</div>
<div class="line"><a name="l09726"></a><span class="lineno"> 9726</span>&#160; </div>
<div class="line"><a name="l09727"></a><span class="lineno"> 9727</span>&#160;  <span class="comment">// Get the upper and lower bits of the result.</span></div>
<div class="line"><a name="l09728"></a><span class="lineno"> 9728</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo, Hi;</div>
<div class="line"><a name="l09729"></a><span class="lineno"> 9729</span>&#160;  <span class="keywordtype">unsigned</span> LoHiOp = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>;</div>
<div class="line"><a name="l09730"></a><span class="lineno"> 9730</span>&#160;  <span class="keywordtype">unsigned</span> HiOp = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">ISD::MULHS</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">ISD::MULHU</a>;</div>
<div class="line"><a name="l09731"></a><span class="lineno"> 9731</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(LoHiOp, VT)) {</div>
<div class="line"><a name="l09732"></a><span class="lineno"> 9732</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(LoHiOp, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, VT), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09733"></a><span class="lineno"> 9733</span>&#160;    Lo = Result.getValue(0);</div>
<div class="line"><a name="l09734"></a><span class="lineno"> 9734</span>&#160;    Hi = Result.getValue(1);</div>
<div class="line"><a name="l09735"></a><span class="lineno"> 9735</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(HiOp, VT)) {</div>
<div class="line"><a name="l09736"></a><span class="lineno"> 9736</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09737"></a><span class="lineno"> 9737</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(HiOp, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09738"></a><span class="lineno"> 9738</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>()) {</div>
<div class="line"><a name="l09739"></a><span class="lineno"> 9739</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l09740"></a><span class="lineno"> 9740</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09741"></a><span class="lineno"> 9741</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unable to expand fixed point multiplication.&quot;</span>);</div>
<div class="line"><a name="l09742"></a><span class="lineno"> 9742</span>&#160;  }</div>
<div class="line"><a name="l09743"></a><span class="lineno"> 9743</span>&#160; </div>
<div class="line"><a name="l09744"></a><span class="lineno"> 9744</span>&#160;  <span class="keywordflow">if</span> (Scale == VTSize)</div>
<div class="line"><a name="l09745"></a><span class="lineno"> 9745</span>&#160;    <span class="comment">// Result is just the top half since we&#39;d be shifting by the width of the</span></div>
<div class="line"><a name="l09746"></a><span class="lineno"> 9746</span>&#160;    <span class="comment">// operand. Overflow impossible so this works for both UMULFIX and</span></div>
<div class="line"><a name="l09747"></a><span class="lineno"> 9747</span>&#160;    <span class="comment">// UMULFIXSAT.</span></div>
<div class="line"><a name="l09748"></a><span class="lineno"> 9748</span>&#160;    <span class="keywordflow">return</span> Hi;</div>
<div class="line"><a name="l09749"></a><span class="lineno"> 9749</span>&#160; </div>
<div class="line"><a name="l09750"></a><span class="lineno"> 9750</span>&#160;  <span class="comment">// The result will need to be shifted right by the scale since both operands</span></div>
<div class="line"><a name="l09751"></a><span class="lineno"> 9751</span>&#160;  <span class="comment">// are scaled. The result is given to us in 2 halves, so we only want part of</span></div>
<div class="line"><a name="l09752"></a><span class="lineno"> 9752</span>&#160;  <span class="comment">// both in the result.</span></div>
<div class="line"><a name="l09753"></a><span class="lineno"> 9753</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftTy = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l09754"></a><span class="lineno"> 9754</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a874350de5b4f6b8f4db13940e17ed81b">ISD::FSHR</a>, dl, VT, Hi, Lo,</div>
<div class="line"><a name="l09755"></a><span class="lineno"> 9755</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Scale, dl, ShiftTy));</div>
<div class="line"><a name="l09756"></a><span class="lineno"> 9756</span>&#160;  <span class="keywordflow">if</span> (!Saturating)</div>
<div class="line"><a name="l09757"></a><span class="lineno"> 9757</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l09758"></a><span class="lineno"> 9758</span>&#160; </div>
<div class="line"><a name="l09759"></a><span class="lineno"> 9759</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>) {</div>
<div class="line"><a name="l09760"></a><span class="lineno"> 9760</span>&#160;    <span class="comment">// Unsigned overflow happened if the upper (VTSize - Scale) bits (of the</span></div>
<div class="line"><a name="l09761"></a><span class="lineno"> 9761</span>&#160;    <span class="comment">// widened multiplication) aren&#39;t all zeroes.</span></div>
<div class="line"><a name="l09762"></a><span class="lineno"> 9762</span>&#160; </div>
<div class="line"><a name="l09763"></a><span class="lineno"> 9763</span>&#160;    <span class="comment">// Saturate to max if ((Hi &gt;&gt; Scale) != 0),</span></div>
<div class="line"><a name="l09764"></a><span class="lineno"> 9764</span>&#160;    <span class="comment">// which is the same as if (Hi &gt; ((1 &lt;&lt; Scale) - 1))</span></div>
<div class="line"><a name="l09765"></a><span class="lineno"> 9765</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxVal = <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(VTSize);</div>
<div class="line"><a name="l09766"></a><span class="lineno"> 9766</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LowMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(VTSize, Scale),</div>
<div class="line"><a name="l09767"></a><span class="lineno"> 9767</span>&#160;                                      dl, VT);</div>
<div class="line"><a name="l09768"></a><span class="lineno"> 9768</span>&#160;    Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, Hi, LowMask,</div>
<div class="line"><a name="l09769"></a><span class="lineno"> 9769</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MaxVal, dl, VT), Result,</div>
<div class="line"><a name="l09770"></a><span class="lineno"> 9770</span>&#160;                             <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>);</div>
<div class="line"><a name="l09771"></a><span class="lineno"> 9771</span>&#160; </div>
<div class="line"><a name="l09772"></a><span class="lineno"> 9772</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l09773"></a><span class="lineno"> 9773</span>&#160;  }</div>
<div class="line"><a name="l09774"></a><span class="lineno"> 9774</span>&#160; </div>
<div class="line"><a name="l09775"></a><span class="lineno"> 9775</span>&#160;  <span class="comment">// Signed overflow happened if the upper (VTSize - Scale + 1) bits (of the</span></div>
<div class="line"><a name="l09776"></a><span class="lineno"> 9776</span>&#160;  <span class="comment">// widened multiplication) aren&#39;t all ones or all zeroes.</span></div>
<div class="line"><a name="l09777"></a><span class="lineno"> 9777</span>&#160; </div>
<div class="line"><a name="l09778"></a><span class="lineno"> 9778</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatMin = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(VTSize), dl, VT);</div>
<div class="line"><a name="l09779"></a><span class="lineno"> 9779</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatMax = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(VTSize), dl, VT);</div>
<div class="line"><a name="l09780"></a><span class="lineno"> 9780</span>&#160; </div>
<div class="line"><a name="l09781"></a><span class="lineno"> 9781</span>&#160;  <span class="keywordflow">if</span> (Scale == 0) {</div>
<div class="line"><a name="l09782"></a><span class="lineno"> 9782</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sign = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, Lo,</div>
<div class="line"><a name="l09783"></a><span class="lineno"> 9783</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(VTSize - 1, dl, ShiftTy));</div>
<div class="line"><a name="l09784"></a><span class="lineno"> 9784</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Overflow = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, BoolVT, Hi, Sign, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l09785"></a><span class="lineno"> 9785</span>&#160;    <span class="comment">// Saturated to SatMin if wide product is negative, and SatMax if wide</span></div>
<div class="line"><a name="l09786"></a><span class="lineno"> 9786</span>&#160;    <span class="comment">// product is positive ...</span></div>
<div class="line"><a name="l09787"></a><span class="lineno"> 9787</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l09788"></a><span class="lineno"> 9788</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ResultIfOverflow = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, Hi, Zero, SatMin, SatMax,</div>
<div class="line"><a name="l09789"></a><span class="lineno"> 9789</span>&#160;                                               <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l09790"></a><span class="lineno"> 9790</span>&#160;    <span class="comment">// ... but only if we overflowed.</span></div>
<div class="line"><a name="l09791"></a><span class="lineno"> 9791</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT, Overflow, ResultIfOverflow, Result);</div>
<div class="line"><a name="l09792"></a><span class="lineno"> 9792</span>&#160;  }</div>
<div class="line"><a name="l09793"></a><span class="lineno"> 9793</span>&#160; </div>
<div class="line"><a name="l09794"></a><span class="lineno"> 9794</span>&#160;  <span class="comment">//  We handled Scale==0 above so all the bits to examine is in Hi.</span></div>
<div class="line"><a name="l09795"></a><span class="lineno"> 9795</span>&#160; </div>
<div class="line"><a name="l09796"></a><span class="lineno"> 9796</span>&#160;  <span class="comment">// Saturate to max if ((Hi &gt;&gt; (Scale - 1)) &gt; 0),</span></div>
<div class="line"><a name="l09797"></a><span class="lineno"> 9797</span>&#160;  <span class="comment">// which is the same as if (Hi &gt; (1 &lt;&lt; (Scale - 1)) - 1)</span></div>
<div class="line"><a name="l09798"></a><span class="lineno"> 9798</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LowMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(VTSize, Scale - 1),</div>
<div class="line"><a name="l09799"></a><span class="lineno"> 9799</span>&#160;                                    dl, VT);</div>
<div class="line"><a name="l09800"></a><span class="lineno"> 9800</span>&#160;  Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, Hi, LowMask, SatMax, Result, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>);</div>
<div class="line"><a name="l09801"></a><span class="lineno"> 9801</span>&#160;  <span class="comment">// Saturate to min if (Hi &gt;&gt; (Scale - 1)) &lt; -1),</span></div>
<div class="line"><a name="l09802"></a><span class="lineno"> 9802</span>&#160;  <span class="comment">// which is the same as if (HI &lt; (-1 &lt;&lt; (Scale - 1))</span></div>
<div class="line"><a name="l09803"></a><span class="lineno"> 9803</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HighMask =</div>
<div class="line"><a name="l09804"></a><span class="lineno"> 9804</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(VTSize, VTSize - Scale + 1),</div>
<div class="line"><a name="l09805"></a><span class="lineno"> 9805</span>&#160;                      dl, VT);</div>
<div class="line"><a name="l09806"></a><span class="lineno"> 9806</span>&#160;  Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, Hi, HighMask, SatMin, Result, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l09807"></a><span class="lineno"> 9807</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l09808"></a><span class="lineno"> 9808</span>&#160;}</div>
<div class="line"><a name="l09809"></a><span class="lineno"> 9809</span>&#160; </div>
<div class="line"><a name="l09810"></a><span class="lineno"> 9810</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div>
<div class="line"><a name="l09811"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ac9329741a630c829cd29e00d86363f17"> 9811</a></span>&#160;<a class="code" href="classllvm_1_1TargetLowering.html#ac9329741a630c829cd29e00d86363f17">TargetLowering::expandFixedPointDiv</a>(<span class="keywordtype">unsigned</span> Opcode, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl,</div>
<div class="line"><a name="l09812"></a><span class="lineno"> 9812</span>&#160;                                    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l09813"></a><span class="lineno"> 9813</span>&#160;                                    <span class="keywordtype">unsigned</span> Scale, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09814"></a><span class="lineno"> 9814</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a470242ff0d0c1f979101aa369a3a410e">ISD::SDIVFIX</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadc85d973be8149bbaa5f372aa1faf3e">ISD::SDIVFIXSAT</a> ||</div>
<div class="line"><a name="l09815"></a><span class="lineno"> 9815</span>&#160;          Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa5af2aa3cc2e31b44b69d43e13235be">ISD::UDIVFIX</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5c5ebc516cae422508ee0c062ef6b593">ISD::UDIVFIXSAT</a>) &amp;&amp;</div>
<div class="line"><a name="l09816"></a><span class="lineno"> 9816</span>&#160;         <span class="stringliteral">&quot;Expected a fixed point division opcode&quot;</span>);</div>
<div class="line"><a name="l09817"></a><span class="lineno"> 9817</span>&#160; </div>
<div class="line"><a name="l09818"></a><span class="lineno"> 9818</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType();</div>
<div class="line"><a name="l09819"></a><span class="lineno"> 9819</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a470242ff0d0c1f979101aa369a3a410e">ISD::SDIVFIX</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadc85d973be8149bbaa5f372aa1faf3e">ISD::SDIVFIXSAT</a>;</div>
<div class="line"><a name="l09820"></a><span class="lineno"> 9820</span>&#160;  <span class="keywordtype">bool</span> Saturating = Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadc85d973be8149bbaa5f372aa1faf3e">ISD::SDIVFIXSAT</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5c5ebc516cae422508ee0c062ef6b593">ISD::UDIVFIXSAT</a>;</div>
<div class="line"><a name="l09821"></a><span class="lineno"> 9821</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> BoolVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l09822"></a><span class="lineno"> 9822</span>&#160; </div>
<div class="line"><a name="l09823"></a><span class="lineno"> 9823</span>&#160;  <span class="comment">// If there is enough room in the type to upscale the LHS or downscale the</span></div>
<div class="line"><a name="l09824"></a><span class="lineno"> 9824</span>&#160;  <span class="comment">// RHS before the division, we can perform it in this type without having to</span></div>
<div class="line"><a name="l09825"></a><span class="lineno"> 9825</span>&#160;  <span class="comment">// resize. For signed operations, the LHS headroom is the number of</span></div>
<div class="line"><a name="l09826"></a><span class="lineno"> 9826</span>&#160;  <span class="comment">// redundant sign bits, and for unsigned ones it is the number of zeroes.</span></div>
<div class="line"><a name="l09827"></a><span class="lineno"> 9827</span>&#160;  <span class="comment">// The headroom for the RHS is the number of trailing zeroes.</span></div>
<div class="line"><a name="l09828"></a><span class="lineno"> 9828</span>&#160;  <span class="keywordtype">unsigned</span> LHSLead = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">ComputeNumSignBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) - 1</div>
<div class="line"><a name="l09829"></a><span class="lineno"> 9829</span>&#160;                            : DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>).<a class="code" href="structllvm_1_1KnownBits.html#a7f47812e8e75b0616a97d7004e5fb909">countMinLeadingZeros</a>();</div>
<div class="line"><a name="l09830"></a><span class="lineno"> 9830</span>&#160;  <span class="keywordtype">unsigned</span> RHSTrail = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>).<a class="code" href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">countMinTrailingZeros</a>();</div>
<div class="line"><a name="l09831"></a><span class="lineno"> 9831</span>&#160; </div>
<div class="line"><a name="l09832"></a><span class="lineno"> 9832</span>&#160;  <span class="comment">// For signed saturating operations, we need to be able to detect true integer</span></div>
<div class="line"><a name="l09833"></a><span class="lineno"> 9833</span>&#160;  <span class="comment">// division overflow; that is, when you have MIN / -EPS. However, this</span></div>
<div class="line"><a name="l09834"></a><span class="lineno"> 9834</span>&#160;  <span class="comment">// is undefined behavior and if we emit divisions that could take such</span></div>
<div class="line"><a name="l09835"></a><span class="lineno"> 9835</span>&#160;  <span class="comment">// values it may cause undesired behavior (arithmetic exceptions on x86, for</span></div>
<div class="line"><a name="l09836"></a><span class="lineno"> 9836</span>&#160;  <span class="comment">// example).</span></div>
<div class="line"><a name="l09837"></a><span class="lineno"> 9837</span>&#160;  <span class="comment">// Avoid this by requiring an extra bit so that we never get this case.</span></div>
<div class="line"><a name="l09838"></a><span class="lineno"> 9838</span>&#160;  <span class="comment">// FIXME: This is a bit unfortunate as it means that for an 8-bit 7-scale</span></div>
<div class="line"><a name="l09839"></a><span class="lineno"> 9839</span>&#160;  <span class="comment">// signed saturating division, we need to emit a whopping 32-bit division.</span></div>
<div class="line"><a name="l09840"></a><span class="lineno"> 9840</span>&#160;  <span class="keywordflow">if</span> (LHSLead + RHSTrail &lt; Scale + (<span class="keywordtype">unsigned</span>)(Saturating &amp;&amp; <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>))</div>
<div class="line"><a name="l09841"></a><span class="lineno"> 9841</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l09842"></a><span class="lineno"> 9842</span>&#160; </div>
<div class="line"><a name="l09843"></a><span class="lineno"> 9843</span>&#160;  <span class="keywordtype">unsigned</span> LHSShift = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(LHSLead, Scale);</div>
<div class="line"><a name="l09844"></a><span class="lineno"> 9844</span>&#160;  <span class="keywordtype">unsigned</span> RHSShift = Scale - LHSShift;</div>
<div class="line"><a name="l09845"></a><span class="lineno"> 9845</span>&#160; </div>
<div class="line"><a name="l09846"></a><span class="lineno"> 9846</span>&#160;  <span class="comment">// At this point, we know that if we shift the LHS up by LHSShift and the</span></div>
<div class="line"><a name="l09847"></a><span class="lineno"> 9847</span>&#160;  <span class="comment">// RHS down by RHSShift, we can emit a regular division with a final scaling</span></div>
<div class="line"><a name="l09848"></a><span class="lineno"> 9848</span>&#160;  <span class="comment">// factor of Scale.</span></div>
<div class="line"><a name="l09849"></a><span class="lineno"> 9849</span>&#160; </div>
<div class="line"><a name="l09850"></a><span class="lineno"> 9850</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftTy = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l09851"></a><span class="lineno"> 9851</span>&#160;  <span class="keywordflow">if</span> (LHSShift)</div>
<div class="line"><a name="l09852"></a><span class="lineno"> 9852</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l09853"></a><span class="lineno"> 9853</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(LHSShift, dl, ShiftTy));</div>
<div class="line"><a name="l09854"></a><span class="lineno"> 9854</span>&#160;  <span class="keywordflow">if</span> (RHSShift)</div>
<div class="line"><a name="l09855"></a><span class="lineno"> 9855</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l09856"></a><span class="lineno"> 9856</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(RHSShift, dl, ShiftTy));</div>
<div class="line"><a name="l09857"></a><span class="lineno"> 9857</span>&#160; </div>
<div class="line"><a name="l09858"></a><span class="lineno"> 9858</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Quot;</div>
<div class="line"><a name="l09859"></a><span class="lineno"> 9859</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>) {</div>
<div class="line"><a name="l09860"></a><span class="lineno"> 9860</span>&#160;    <span class="comment">// For signed operations, if the resulting quotient is negative and the</span></div>
<div class="line"><a name="l09861"></a><span class="lineno"> 9861</span>&#160;    <span class="comment">// remainder is nonzero, subtract 1 from the quotient to round towards</span></div>
<div class="line"><a name="l09862"></a><span class="lineno"> 9862</span>&#160;    <span class="comment">// negative infinity.</span></div>
<div class="line"><a name="l09863"></a><span class="lineno"> 9863</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Rem;</div>
<div class="line"><a name="l09864"></a><span class="lineno"> 9864</span>&#160;    <span class="comment">// FIXME: Ideally we would always produce an SDIVREM here, but if the</span></div>
<div class="line"><a name="l09865"></a><span class="lineno"> 9865</span>&#160;    <span class="comment">// type isn&#39;t legal, SDIVREM cannot be expanded. There is no reason why</span></div>
<div class="line"><a name="l09866"></a><span class="lineno"> 9866</span>&#160;    <span class="comment">// we couldn&#39;t just form a libcall, but the type legalizer doesn&#39;t do it.</span></div>
<div class="line"><a name="l09867"></a><span class="lineno"> 9867</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT) &amp;&amp;</div>
<div class="line"><a name="l09868"></a><span class="lineno"> 9868</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a">ISD::SDIVREM</a>, VT)) {</div>
<div class="line"><a name="l09869"></a><span class="lineno"> 9869</span>&#160;      Quot = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a">ISD::SDIVREM</a>, dl,</div>
<div class="line"><a name="l09870"></a><span class="lineno"> 9870</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, VT),</div>
<div class="line"><a name="l09871"></a><span class="lineno"> 9871</span>&#160;                         <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09872"></a><span class="lineno"> 9872</span>&#160;      Rem = Quot.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l09873"></a><span class="lineno"> 9873</span>&#160;      Quot = Quot.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(0);</div>
<div class="line"><a name="l09874"></a><span class="lineno"> 9874</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09875"></a><span class="lineno"> 9875</span>&#160;      Quot = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">ISD::SDIV</a>, dl, VT,</div>
<div class="line"><a name="l09876"></a><span class="lineno"> 9876</span>&#160;                         <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09877"></a><span class="lineno"> 9877</span>&#160;      Rem = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>, dl, VT,</div>
<div class="line"><a name="l09878"></a><span class="lineno"> 9878</span>&#160;                        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09879"></a><span class="lineno"> 9879</span>&#160;    }</div>
<div class="line"><a name="l09880"></a><span class="lineno"> 9880</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l09881"></a><span class="lineno"> 9881</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RemNonZero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, BoolVT, Rem, Zero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l09882"></a><span class="lineno"> 9882</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHSNeg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, BoolVT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Zero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l09883"></a><span class="lineno"> 9883</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RHSNeg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, BoolVT, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Zero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l09884"></a><span class="lineno"> 9884</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> QuotNeg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, BoolVT, LHSNeg, RHSNeg);</div>
<div class="line"><a name="l09885"></a><span class="lineno"> 9885</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, Quot,</div>
<div class="line"><a name="l09886"></a><span class="lineno"> 9886</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, dl, VT));</div>
<div class="line"><a name="l09887"></a><span class="lineno"> 9887</span>&#160;    Quot = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">getSelect</a>(dl, VT,</div>
<div class="line"><a name="l09888"></a><span class="lineno"> 9888</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, BoolVT, RemNonZero, QuotNeg),</div>
<div class="line"><a name="l09889"></a><span class="lineno"> 9889</span>&#160;                         Sub1, Quot);</div>
<div class="line"><a name="l09890"></a><span class="lineno"> 9890</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l09891"></a><span class="lineno"> 9891</span>&#160;    Quot = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">ISD::UDIV</a>, dl, VT,</div>
<div class="line"><a name="l09892"></a><span class="lineno"> 9892</span>&#160;                       <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09893"></a><span class="lineno"> 9893</span>&#160; </div>
<div class="line"><a name="l09894"></a><span class="lineno"> 9894</span>&#160;  <span class="keywordflow">return</span> Quot;</div>
<div class="line"><a name="l09895"></a><span class="lineno"> 9895</span>&#160;}</div>
<div class="line"><a name="l09896"></a><span class="lineno"> 9896</span>&#160; </div>
<div class="line"><a name="l09897"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#af468635c22fce958df78508e85aba57a"> 9897</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#af468635c22fce958df78508e85aba57a">TargetLowering::expandUADDSUBO</a>(</div>
<div class="line"><a name="l09898"></a><span class="lineno"> 9898</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Result, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Overflow, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09899"></a><span class="lineno"> 9899</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l09900"></a><span class="lineno"> 9900</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l09901"></a><span class="lineno"> 9901</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l09902"></a><span class="lineno"> 9902</span>&#160;  <span class="keywordtype">bool</span> IsAdd = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9">ISD::UADDO</a>;</div>
<div class="line"><a name="l09903"></a><span class="lineno"> 9903</span>&#160; </div>
<div class="line"><a name="l09904"></a><span class="lineno"> 9904</span>&#160;  <span class="comment">// If ADD/SUBCARRY is legal, use that instead.</span></div>
<div class="line"><a name="l09905"></a><span class="lineno"> 9905</span>&#160;  <span class="keywordtype">unsigned</span> OpcCarry = IsAdd ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">ISD::ADDCARRY</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af760edf2d4a395488417d4d9b1714a3a">ISD::SUBCARRY</a>;</div>
<div class="line"><a name="l09906"></a><span class="lineno"> 9906</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(OpcCarry, Node-&gt;getValueType(0))) {</div>
<div class="line"><a name="l09907"></a><span class="lineno"> 9907</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CarryIn = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, Node-&gt;getValueType(1));</div>
<div class="line"><a name="l09908"></a><span class="lineno"> 9908</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NodeCarry = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(OpcCarry, dl, Node-&gt;getVTList(),</div>
<div class="line"><a name="l09909"></a><span class="lineno"> 9909</span>&#160;                                    { LHS, RHS, CarryIn });</div>
<div class="line"><a name="l09910"></a><span class="lineno"> 9910</span>&#160;    Result = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(NodeCarry.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>(), 0);</div>
<div class="line"><a name="l09911"></a><span class="lineno"> 9911</span>&#160;    Overflow = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(NodeCarry.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>(), 1);</div>
<div class="line"><a name="l09912"></a><span class="lineno"> 9912</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09913"></a><span class="lineno"> 9913</span>&#160;  }</div>
<div class="line"><a name="l09914"></a><span class="lineno"> 9914</span>&#160; </div>
<div class="line"><a name="l09915"></a><span class="lineno"> 9915</span>&#160;  Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(IsAdd ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl,</div>
<div class="line"><a name="l09916"></a><span class="lineno"> 9916</span>&#160;                            <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType(), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09917"></a><span class="lineno"> 9917</span>&#160; </div>
<div class="line"><a name="l09918"></a><span class="lineno"> 9918</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ResultType = Node-&gt;getValueType(1);</div>
<div class="line"><a name="l09919"></a><span class="lineno"> 9919</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SetCCType = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(</div>
<div class="line"><a name="l09920"></a><span class="lineno"> 9920</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), Node-&gt;getValueType(0));</div>
<div class="line"><a name="l09921"></a><span class="lineno"> 9921</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SetCC;</div>
<div class="line"><a name="l09922"></a><span class="lineno"> 9922</span>&#160;  <span class="keywordflow">if</span> (IsAdd &amp;&amp; <a class="code" href="namespacellvm.html#ac926ae0b6871c2207db3e787f6dbcb80">isOneConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l09923"></a><span class="lineno"> 9923</span>&#160;    <span class="comment">// Special case: uaddo X, 1 overflowed if X+1 is 0. This potential reduces</span></div>
<div class="line"><a name="l09924"></a><span class="lineno"> 9924</span>&#160;    <span class="comment">// the live range of X. We assume comparing with 0 is cheap.</span></div>
<div class="line"><a name="l09925"></a><span class="lineno"> 9925</span>&#160;    <span class="comment">// The general case (X + C) &lt; C is not necessarily beneficial. Although we</span></div>
<div class="line"><a name="l09926"></a><span class="lineno"> 9926</span>&#160;    <span class="comment">// reduce the live range of X, we may introduce the materialization of</span></div>
<div class="line"><a name="l09927"></a><span class="lineno"> 9927</span>&#160;    <span class="comment">// constant C.</span></div>
<div class="line"><a name="l09928"></a><span class="lineno"> 9928</span>&#160;    SetCC =</div>
<div class="line"><a name="l09929"></a><span class="lineno"> 9929</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCType, Result,</div>
<div class="line"><a name="l09930"></a><span class="lineno"> 9930</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, Node-&gt;getValueType(0)), <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div>
<div class="line"><a name="l09931"></a><span class="lineno"> 9931</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09932"></a><span class="lineno"> 9932</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = IsAdd ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>;</div>
<div class="line"><a name="l09933"></a><span class="lineno"> 9933</span>&#160;    SetCC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCType, Result, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</div>
<div class="line"><a name="l09934"></a><span class="lineno"> 9934</span>&#160;  }</div>
<div class="line"><a name="l09935"></a><span class="lineno"> 9935</span>&#160;  Overflow = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa7e66d5a43444879fa5037f2cfaa4de5">getBoolExtOrTrunc</a>(SetCC, dl, ResultType, ResultType);</div>
<div class="line"><a name="l09936"></a><span class="lineno"> 9936</span>&#160;}</div>
<div class="line"><a name="l09937"></a><span class="lineno"> 9937</span>&#160; </div>
<div class="line"><a name="l09938"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a6036d63e9f5b40ee7332e065e9e7da07"> 9938</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetLowering.html#a6036d63e9f5b40ee7332e065e9e7da07">TargetLowering::expandSADDSUBO</a>(</div>
<div class="line"><a name="l09939"></a><span class="lineno"> 9939</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Result, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Overflow, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09940"></a><span class="lineno"> 9940</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l09941"></a><span class="lineno"> 9941</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l09942"></a><span class="lineno"> 9942</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l09943"></a><span class="lineno"> 9943</span>&#160;  <span class="keywordtype">bool</span> IsAdd = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a863ec6ebb75bf89cfea14da646d77e92">ISD::SADDO</a>;</div>
<div class="line"><a name="l09944"></a><span class="lineno"> 9944</span>&#160; </div>
<div class="line"><a name="l09945"></a><span class="lineno"> 9945</span>&#160;  Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(IsAdd ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl,</div>
<div class="line"><a name="l09946"></a><span class="lineno"> 9946</span>&#160;                            <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType(), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09947"></a><span class="lineno"> 9947</span>&#160; </div>
<div class="line"><a name="l09948"></a><span class="lineno"> 9948</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ResultType = Node-&gt;getValueType(1);</div>
<div class="line"><a name="l09949"></a><span class="lineno"> 9949</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OType = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(</div>
<div class="line"><a name="l09950"></a><span class="lineno"> 9950</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), Node-&gt;getValueType(0));</div>
<div class="line"><a name="l09951"></a><span class="lineno"> 9951</span>&#160; </div>
<div class="line"><a name="l09952"></a><span class="lineno"> 9952</span>&#160;  <span class="comment">// If SADDSAT/SSUBSAT is legal, compare results to detect overflow.</span></div>
<div class="line"><a name="l09953"></a><span class="lineno"> 9953</span>&#160;  <span class="keywordtype">unsigned</span> OpcSat = IsAdd ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af1b946afff631cee7aa6de570bef7785">ISD::SADDSAT</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a77984d86d70df1f3229da7a5119652a9">ISD::SSUBSAT</a>;</div>
<div class="line"><a name="l09954"></a><span class="lineno"> 9954</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(OpcSat, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType())) {</div>
<div class="line"><a name="l09955"></a><span class="lineno"> 9955</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sat = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(OpcSat, dl, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType(), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09956"></a><span class="lineno"> 9956</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SetCC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, OType, Result, Sat, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l09957"></a><span class="lineno"> 9957</span>&#160;    Overflow = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa7e66d5a43444879fa5037f2cfaa4de5">getBoolExtOrTrunc</a>(SetCC, dl, ResultType, ResultType);</div>
<div class="line"><a name="l09958"></a><span class="lineno"> 9958</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09959"></a><span class="lineno"> 9959</span>&#160;  }</div>
<div class="line"><a name="l09960"></a><span class="lineno"> 9960</span>&#160; </div>
<div class="line"><a name="l09961"></a><span class="lineno"> 9961</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType());</div>
<div class="line"><a name="l09962"></a><span class="lineno"> 9962</span>&#160; </div>
<div class="line"><a name="l09963"></a><span class="lineno"> 9963</span>&#160;  <span class="comment">// For an addition, the result should be less than one of the operands (LHS)</span></div>
<div class="line"><a name="l09964"></a><span class="lineno"> 9964</span>&#160;  <span class="comment">// if and only if the other operand (RHS) is negative, otherwise there will</span></div>
<div class="line"><a name="l09965"></a><span class="lineno"> 9965</span>&#160;  <span class="comment">// be overflow.</span></div>
<div class="line"><a name="l09966"></a><span class="lineno"> 9966</span>&#160;  <span class="comment">// For a subtraction, the result should be less than one of the operands</span></div>
<div class="line"><a name="l09967"></a><span class="lineno"> 9967</span>&#160;  <span class="comment">// (LHS) if and only if the other operand (RHS) is (non-zero) positive,</span></div>
<div class="line"><a name="l09968"></a><span class="lineno"> 9968</span>&#160;  <span class="comment">// otherwise there will be overflow.</span></div>
<div class="line"><a name="l09969"></a><span class="lineno"> 9969</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ResultLowerThanLHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, OType, Result, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div>
<div class="line"><a name="l09970"></a><span class="lineno"> 9970</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ConditionRHS =</div>
<div class="line"><a name="l09971"></a><span class="lineno"> 9971</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, OType, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Zero, IsAdd ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>);</div>
<div class="line"><a name="l09972"></a><span class="lineno"> 9972</span>&#160; </div>
<div class="line"><a name="l09973"></a><span class="lineno"> 9973</span>&#160;  Overflow = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa7e66d5a43444879fa5037f2cfaa4de5">getBoolExtOrTrunc</a>(</div>
<div class="line"><a name="l09974"></a><span class="lineno"> 9974</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, OType, ConditionRHS, ResultLowerThanLHS), dl,</div>
<div class="line"><a name="l09975"></a><span class="lineno"> 9975</span>&#160;      ResultType, ResultType);</div>
<div class="line"><a name="l09976"></a><span class="lineno"> 9976</span>&#160;}</div>
<div class="line"><a name="l09977"></a><span class="lineno"> 9977</span>&#160; </div>
<div class="line"><a name="l09978"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a0708b6269ed83d16f576dfa263c969f8"> 9978</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0708b6269ed83d16f576dfa263c969f8">TargetLowering::expandMULO</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Result,</div>
<div class="line"><a name="l09979"></a><span class="lineno"> 9979</span>&#160;                                <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Overflow, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l09980"></a><span class="lineno"> 9980</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l09981"></a><span class="lineno"> 9981</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l09982"></a><span class="lineno"> 9982</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SetCCVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>(), *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT);</div>
<div class="line"><a name="l09983"></a><span class="lineno"> 9983</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l09984"></a><span class="lineno"> 9984</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l09985"></a><span class="lineno"> 9985</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a> = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa35d0a58fdded3d225d512a60aea0951">ISD::SMULO</a>;</div>
<div class="line"><a name="l09986"></a><span class="lineno"> 9986</span>&#160; </div>
<div class="line"><a name="l09987"></a><span class="lineno"> 9987</span>&#160;  <span class="comment">// For power-of-two multiplications we can use a simpler shift expansion.</span></div>
<div class="line"><a name="l09988"></a><span class="lineno"> 9988</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *RHSC = <a class="code" href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">isConstOrConstSplat</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l09989"></a><span class="lineno"> 9989</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = RHSC-&gt;getAPIntValue();</div>
<div class="line"><a name="l09990"></a><span class="lineno"> 9990</span>&#160;    <span class="comment">// mulo(X, 1 &lt;&lt; S) -&gt; { X &lt;&lt; S, (X &lt;&lt; S) &gt;&gt; S != X }</span></div>
<div class="line"><a name="l09991"></a><span class="lineno"> 9991</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isPowerOf2()) {</div>
<div class="line"><a name="l09992"></a><span class="lineno"> 9992</span>&#160;      <span class="comment">// smulo(x, signed_min) is same as umulo(x, signed_min).</span></div>
<div class="line"><a name="l09993"></a><span class="lineno"> 9993</span>&#160;      <span class="keywordtype">bool</span> UseArithShift = <a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a> &amp;&amp; !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isMinSignedValue();</div>
<div class="line"><a name="l09994"></a><span class="lineno"> 9994</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShiftAmtTy = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(VT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>());</div>
<div class="line"><a name="l09995"></a><span class="lineno"> 9995</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.logBase2(), dl, ShiftAmtTy);</div>
<div class="line"><a name="l09996"></a><span class="lineno"> 9996</span>&#160;      Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, ShiftAmt);</div>
<div class="line"><a name="l09997"></a><span class="lineno"> 9997</span>&#160;      Overflow = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT,</div>
<div class="line"><a name="l09998"></a><span class="lineno"> 9998</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(UseArithShift ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>,</div>
<div class="line"><a name="l09999"></a><span class="lineno"> 9999</span>&#160;                      dl, VT, Result, ShiftAmt),</div>
<div class="line"><a name="l10000"></a><span class="lineno">10000</span>&#160;          <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l10001"></a><span class="lineno">10001</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10002"></a><span class="lineno">10002</span>&#160;    }</div>
<div class="line"><a name="l10003"></a><span class="lineno">10003</span>&#160;  }</div>
<div class="line"><a name="l10004"></a><span class="lineno">10004</span>&#160; </div>
<div class="line"><a name="l10005"></a><span class="lineno">10005</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WideVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() * 2);</div>
<div class="line"><a name="l10006"></a><span class="lineno">10006</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>())</div>
<div class="line"><a name="l10007"></a><span class="lineno">10007</span>&#160;    WideVT =</div>
<div class="line"><a name="l10008"></a><span class="lineno">10008</span>&#160;        <a class="code" href="structllvm_1_1EVT.html#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), WideVT, VT.<a class="code" href="structllvm_1_1EVT.html#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</div>
<div class="line"><a name="l10009"></a><span class="lineno">10009</span>&#160; </div>
<div class="line"><a name="l10010"></a><span class="lineno">10010</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BottomHalf;</div>
<div class="line"><a name="l10011"></a><span class="lineno">10011</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TopHalf;</div>
<div class="line"><a name="l10012"></a><span class="lineno">10012</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Ops[2][3] =</div>
<div class="line"><a name="l10013"></a><span class="lineno">10013</span>&#160;      { { <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">ISD::MULHU</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a> },</div>
<div class="line"><a name="l10014"></a><span class="lineno">10014</span>&#160;        { <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">ISD::MULHS</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a> }};</div>
<div class="line"><a name="l10015"></a><span class="lineno">10015</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(Ops[<a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>][0], VT)) {</div>
<div class="line"><a name="l10016"></a><span class="lineno">10016</span>&#160;    BottomHalf = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10017"></a><span class="lineno">10017</span>&#160;    TopHalf = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Ops[<a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>][0], dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10018"></a><span class="lineno">10018</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(Ops[<a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>][1], VT)) {</div>
<div class="line"><a name="l10019"></a><span class="lineno">10019</span>&#160;    BottomHalf = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Ops[<a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>][1], dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, VT), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10020"></a><span class="lineno">10020</span>&#160;                             <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10021"></a><span class="lineno">10021</span>&#160;    TopHalf = BottomHalf.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l10022"></a><span class="lineno">10022</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(WideVT)) {</div>
<div class="line"><a name="l10023"></a><span class="lineno">10023</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Ops[<a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>][2], dl, WideVT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l10024"></a><span class="lineno">10024</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Ops[<a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>][2], dl, WideVT, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10025"></a><span class="lineno">10025</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, WideVT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10026"></a><span class="lineno">10026</span>&#160;    BottomHalf = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>);</div>
<div class="line"><a name="l10027"></a><span class="lineno">10027</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>(), dl,</div>
<div class="line"><a name="l10028"></a><span class="lineno">10028</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(WideVT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>()));</div>
<div class="line"><a name="l10029"></a><span class="lineno">10029</span>&#160;    TopHalf = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VT,</div>
<div class="line"><a name="l10030"></a><span class="lineno">10030</span>&#160;                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, WideVT, <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>, ShiftAmt));</div>
<div class="line"><a name="l10031"></a><span class="lineno">10031</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10032"></a><span class="lineno">10032</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">isVector</a>())</div>
<div class="line"><a name="l10033"></a><span class="lineno">10033</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10034"></a><span class="lineno">10034</span>&#160; </div>
<div class="line"><a name="l10035"></a><span class="lineno">10035</span>&#160;    <span class="comment">// We can fall back to a libcall with an illegal type for the MUL if we</span></div>
<div class="line"><a name="l10036"></a><span class="lineno">10036</span>&#160;    <span class="comment">// have a libcall big enough.</span></div>
<div class="line"><a name="l10037"></a><span class="lineno">10037</span>&#160;    <span class="comment">// Also, we can fall back to a division in some cases, but that&#39;s a big</span></div>
<div class="line"><a name="l10038"></a><span class="lineno">10038</span>&#160;    <span class="comment">// performance hit in the general case.</span></div>
<div class="line"><a name="l10039"></a><span class="lineno">10039</span>&#160;    <a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447">RTLIB::Libcall</a> LC = RTLIB::UNKNOWN_LIBCALL;</div>
<div class="line"><a name="l10040"></a><span class="lineno">10040</span>&#160;    <span class="keywordflow">if</span> (WideVT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>)</div>
<div class="line"><a name="l10041"></a><span class="lineno">10041</span>&#160;      LC = RTLIB::MUL_I16;</div>
<div class="line"><a name="l10042"></a><span class="lineno">10042</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (WideVT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div>
<div class="line"><a name="l10043"></a><span class="lineno">10043</span>&#160;      LC = RTLIB::MUL_I32;</div>
<div class="line"><a name="l10044"></a><span class="lineno">10044</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (WideVT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div>
<div class="line"><a name="l10045"></a><span class="lineno">10045</span>&#160;      LC = RTLIB::MUL_I64;</div>
<div class="line"><a name="l10046"></a><span class="lineno">10046</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (WideVT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586cbcab7599db1f50f3b6759115179b">MVT::i128</a>)</div>
<div class="line"><a name="l10047"></a><span class="lineno">10047</span>&#160;      LC = RTLIB::MUL_I128;</div>
<div class="line"><a name="l10048"></a><span class="lineno">10048</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LC != RTLIB::UNKNOWN_LIBCALL &amp;&amp; <span class="stringliteral">&quot;Cannot expand this operation!&quot;</span>);</div>
<div class="line"><a name="l10049"></a><span class="lineno">10049</span>&#160; </div>
<div class="line"><a name="l10050"></a><span class="lineno">10050</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiLHS;</div>
<div class="line"><a name="l10051"></a><span class="lineno">10051</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiRHS;</div>
<div class="line"><a name="l10052"></a><span class="lineno">10052</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>) {</div>
<div class="line"><a name="l10053"></a><span class="lineno">10053</span>&#160;      <span class="comment">// The high part is obtained by SRA&#39;ing all but one of the bits of low</span></div>
<div class="line"><a name="l10054"></a><span class="lineno">10054</span>&#160;      <span class="comment">// part.</span></div>
<div class="line"><a name="l10055"></a><span class="lineno">10055</span>&#160;      <span class="keywordtype">unsigned</span> LoSize = VT.<a class="code" href="structllvm_1_1EVT.html#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>();</div>
<div class="line"><a name="l10056"></a><span class="lineno">10056</span>&#160;      HiLHS =</div>
<div class="line"><a name="l10057"></a><span class="lineno">10057</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10058"></a><span class="lineno">10058</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(LoSize - 1, dl,</div>
<div class="line"><a name="l10059"></a><span class="lineno">10059</span>&#160;                                      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>())));</div>
<div class="line"><a name="l10060"></a><span class="lineno">10060</span>&#160;      HiRHS =</div>
<div class="line"><a name="l10061"></a><span class="lineno">10061</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l10062"></a><span class="lineno">10062</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(LoSize - 1, dl,</div>
<div class="line"><a name="l10063"></a><span class="lineno">10063</span>&#160;                                      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>())));</div>
<div class="line"><a name="l10064"></a><span class="lineno">10064</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10065"></a><span class="lineno">10065</span>&#160;        HiLHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l10066"></a><span class="lineno">10066</span>&#160;        HiRHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT);</div>
<div class="line"><a name="l10067"></a><span class="lineno">10067</span>&#160;    }</div>
<div class="line"><a name="l10068"></a><span class="lineno">10068</span>&#160; </div>
<div class="line"><a name="l10069"></a><span class="lineno">10069</span>&#160;    <span class="comment">// Here we&#39;re passing the 2 arguments explicitly as 4 arguments that are</span></div>
<div class="line"><a name="l10070"></a><span class="lineno">10070</span>&#160;    <span class="comment">// pre-lowered to the correct types. This all depends upon WideVT not</span></div>
<div class="line"><a name="l10071"></a><span class="lineno">10071</span>&#160;    <span class="comment">// being a legal type for the architecture and thus has to be split to</span></div>
<div class="line"><a name="l10072"></a><span class="lineno">10072</span>&#160;    <span class="comment">// two arguments.</span></div>
<div class="line"><a name="l10073"></a><span class="lineno">10073</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>;</div>
<div class="line"><a name="l10074"></a><span class="lineno">10074</span>&#160;    <a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html">TargetLowering::MakeLibCallOptions</a> CallOptions;</div>
<div class="line"><a name="l10075"></a><span class="lineno">10075</span>&#160;    CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#ab7d0b175116b41f71687db976923081c">setSExt</a>(<a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>);</div>
<div class="line"><a name="l10076"></a><span class="lineno">10076</span>&#160;    CallOptions.<a class="code" href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a940825591b8958d04664493a6ef7071c">setIsPostTypeLegalization</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l10077"></a><span class="lineno">10077</span>&#160;    <span class="keywordflow">if</span> (shouldSplitFunctionArgumentsAsLittleEndian(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>())) {</div>
<div class="line"><a name="l10078"></a><span class="lineno">10078</span>&#160;      <span class="comment">// Halves of WideVT are packed into registers in different order</span></div>
<div class="line"><a name="l10079"></a><span class="lineno">10079</span>&#160;      <span class="comment">// depending on platform endianness. This is usually handled by</span></div>
<div class="line"><a name="l10080"></a><span class="lineno">10080</span>&#160;      <span class="comment">// the C calling convention, but we can&#39;t defer to it in</span></div>
<div class="line"><a name="l10081"></a><span class="lineno">10081</span>&#160;      <span class="comment">// the legalizer.</span></div>
<div class="line"><a name="l10082"></a><span class="lineno">10082</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, HiLHS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, HiRHS };</div>
<div class="line"><a name="l10083"></a><span class="lineno">10083</span>&#160;      <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = makeLibCall(DAG, LC, WideVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, CallOptions, dl).first;</div>
<div class="line"><a name="l10084"></a><span class="lineno">10084</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10085"></a><span class="lineno">10085</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { HiLHS, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, HiRHS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> };</div>
<div class="line"><a name="l10086"></a><span class="lineno">10086</span>&#160;      <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = makeLibCall(DAG, LC, WideVT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, CallOptions, dl).first;</div>
<div class="line"><a name="l10087"></a><span class="lineno">10087</span>&#160;    }</div>
<div class="line"><a name="l10088"></a><span class="lineno">10088</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE_VALUES</a> &amp;&amp;</div>
<div class="line"><a name="l10089"></a><span class="lineno">10089</span>&#160;           <span class="stringliteral">&quot;Ret value is a collection of constituent nodes holding result.&quot;</span>);</div>
<div class="line"><a name="l10090"></a><span class="lineno">10090</span>&#160;    <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a377365b0288a4d06a07e09252d7d583f">isLittleEndian</a>()) {</div>
<div class="line"><a name="l10091"></a><span class="lineno">10091</span>&#160;      <span class="comment">// Same as above.</span></div>
<div class="line"><a name="l10092"></a><span class="lineno">10092</span>&#160;      BottomHalf = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>.getOperand(0);</div>
<div class="line"><a name="l10093"></a><span class="lineno">10093</span>&#160;      TopHalf = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>.getOperand(1);</div>
<div class="line"><a name="l10094"></a><span class="lineno">10094</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10095"></a><span class="lineno">10095</span>&#160;      BottomHalf = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>.getOperand(1);</div>
<div class="line"><a name="l10096"></a><span class="lineno">10096</span>&#160;      TopHalf = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>.getOperand(0);</div>
<div class="line"><a name="l10097"></a><span class="lineno">10097</span>&#160;    }</div>
<div class="line"><a name="l10098"></a><span class="lineno">10098</span>&#160;  }</div>
<div class="line"><a name="l10099"></a><span class="lineno">10099</span>&#160; </div>
<div class="line"><a name="l10100"></a><span class="lineno">10100</span>&#160;  Result = BottomHalf;</div>
<div class="line"><a name="l10101"></a><span class="lineno">10101</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>) {</div>
<div class="line"><a name="l10102"></a><span class="lineno">10102</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShiftAmt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(</div>
<div class="line"><a name="l10103"></a><span class="lineno">10103</span>&#160;        VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() - 1, dl,</div>
<div class="line"><a name="l10104"></a><span class="lineno">10104</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">getShiftAmountTy</a>(BottomHalf.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>()));</div>
<div class="line"><a name="l10105"></a><span class="lineno">10105</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sign = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, VT, BottomHalf, ShiftAmt);</div>
<div class="line"><a name="l10106"></a><span class="lineno">10106</span>&#160;    Overflow = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT, TopHalf, Sign, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l10107"></a><span class="lineno">10107</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10108"></a><span class="lineno">10108</span>&#160;    Overflow = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, SetCCVT, TopHalf,</div>
<div class="line"><a name="l10109"></a><span class="lineno">10109</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, VT), <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div>
<div class="line"><a name="l10110"></a><span class="lineno">10110</span>&#160;  }</div>
<div class="line"><a name="l10111"></a><span class="lineno">10111</span>&#160; </div>
<div class="line"><a name="l10112"></a><span class="lineno">10112</span>&#160;  <span class="comment">// Truncate the result if SetCC returns a larger type than needed.</span></div>
<div class="line"><a name="l10113"></a><span class="lineno">10113</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> RType = Node-&gt;getValueType(1);</div>
<div class="line"><a name="l10114"></a><span class="lineno">10114</span>&#160;  <span class="keywordflow">if</span> (RType.<a class="code" href="structllvm_1_1EVT.html#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(Overflow.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()))</div>
<div class="line"><a name="l10115"></a><span class="lineno">10115</span>&#160;    Overflow = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, RType, Overflow);</div>
<div class="line"><a name="l10116"></a><span class="lineno">10116</span>&#160; </div>
<div class="line"><a name="l10117"></a><span class="lineno">10117</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RType.<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == Overflow.<a class="code" href="classllvm_1_1SDValue.html#a8915297f72f1020167562805827f7160">getValueSizeInBits</a>() &amp;&amp;</div>
<div class="line"><a name="l10118"></a><span class="lineno">10118</span>&#160;         <span class="stringliteral">&quot;Unexpected result type for S/UMULO legalization&quot;</span>);</div>
<div class="line"><a name="l10119"></a><span class="lineno">10119</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10120"></a><span class="lineno">10120</span>&#160;}</div>
<div class="line"><a name="l10121"></a><span class="lineno">10121</span>&#160; </div>
<div class="line"><a name="l10122"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a61d67d9dc208e6d887cbc979797d5a22">10122</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a61d67d9dc208e6d887cbc979797d5a22">TargetLowering::expandVecReduce</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10123"></a><span class="lineno">10123</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l10124"></a><span class="lineno">10124</span>&#160;  <span class="keywordtype">unsigned</span> BaseOpcode = <a class="code" href="namespacellvm_1_1ISD.html#ace75a0fc6736a8bf8b8187083078354d">ISD::getVecReduceBaseOpcode</a>(Node-&gt;getOpcode());</div>
<div class="line"><a name="l10125"></a><span class="lineno">10125</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l10126"></a><span class="lineno">10126</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType();</div>
<div class="line"><a name="l10127"></a><span class="lineno">10127</span>&#160; </div>
<div class="line"><a name="l10128"></a><span class="lineno">10128</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l10129"></a><span class="lineno">10129</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l10130"></a><span class="lineno">10130</span>&#160;        <span class="stringliteral">&quot;Expanding reductions for scalable vectors is undefined.&quot;</span>);</div>
<div class="line"><a name="l10131"></a><span class="lineno">10131</span>&#160; </div>
<div class="line"><a name="l10132"></a><span class="lineno">10132</span>&#160;  <span class="comment">// Try to use a shuffle reduction for power of two vectors.</span></div>
<div class="line"><a name="l10133"></a><span class="lineno">10133</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a59eee3929b9155fd268e3e3f6c0efde9">isPow2VectorType</a>()) {</div>
<div class="line"><a name="l10134"></a><span class="lineno">10134</span>&#160;    <span class="keywordflow">while</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() &gt; 1) {</div>
<div class="line"><a name="l10135"></a><span class="lineno">10135</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> HalfVT = VT.<a class="code" href="structllvm_1_1EVT.html#aee35a362966ced72913881d8a2dc3be8">getHalfNumVectorElementsVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>());</div>
<div class="line"><a name="l10136"></a><span class="lineno">10136</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(BaseOpcode, HalfVT))</div>
<div class="line"><a name="l10137"></a><span class="lineno">10137</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10138"></a><span class="lineno">10138</span>&#160; </div>
<div class="line"><a name="l10139"></a><span class="lineno">10139</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo, Hi;</div>
<div class="line"><a name="l10140"></a><span class="lineno">10140</span>&#160;      std::tie(Lo, Hi) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8695950995820e5f6c0407c68f91f44f">SplitVector</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, dl);</div>
<div class="line"><a name="l10141"></a><span class="lineno">10141</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(BaseOpcode, dl, HalfVT, Lo, Hi);</div>
<div class="line"><a name="l10142"></a><span class="lineno">10142</span>&#160;      VT = HalfVT;</div>
<div class="line"><a name="l10143"></a><span class="lineno">10143</span>&#160;    }</div>
<div class="line"><a name="l10144"></a><span class="lineno">10144</span>&#160;  }</div>
<div class="line"><a name="l10145"></a><span class="lineno">10145</span>&#160; </div>
<div class="line"><a name="l10146"></a><span class="lineno">10146</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</div>
<div class="line"><a name="l10147"></a><span class="lineno">10147</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l10148"></a><span class="lineno">10148</span>&#160; </div>
<div class="line"><a name="l10149"></a><span class="lineno">10149</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops;</div>
<div class="line"><a name="l10150"></a><span class="lineno">10150</span>&#160;  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1c383bff50576c84343b3b8ea609f3e1">ExtractVectorElements</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ops, 0, NumElts);</div>
<div class="line"><a name="l10151"></a><span class="lineno">10151</span>&#160; </div>
<div class="line"><a name="l10152"></a><span class="lineno">10152</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = Ops[0];</div>
<div class="line"><a name="l10153"></a><span class="lineno">10153</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NumElts; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l10154"></a><span class="lineno">10154</span>&#160;    Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(BaseOpcode, dl, EltVT, Res, Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], Node-&gt;getFlags());</div>
<div class="line"><a name="l10155"></a><span class="lineno">10155</span>&#160; </div>
<div class="line"><a name="l10156"></a><span class="lineno">10156</span>&#160;  <span class="comment">// Result type may be wider than element type.</span></div>
<div class="line"><a name="l10157"></a><span class="lineno">10157</span>&#160;  <span class="keywordflow">if</span> (EltVT != Node-&gt;getValueType(0))</div>
<div class="line"><a name="l10158"></a><span class="lineno">10158</span>&#160;    Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, dl, Node-&gt;getValueType(0), Res);</div>
<div class="line"><a name="l10159"></a><span class="lineno">10159</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l10160"></a><span class="lineno">10160</span>&#160;}</div>
<div class="line"><a name="l10161"></a><span class="lineno">10161</span>&#160; </div>
<div class="line"><a name="l10162"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a32cc2fa29205249731902cfc480cb79d">10162</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a32cc2fa29205249731902cfc480cb79d">TargetLowering::expandVecReduceSeq</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10163"></a><span class="lineno">10163</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l10164"></a><span class="lineno">10164</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AccOp = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l10165"></a><span class="lineno">10165</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VecOp = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l10166"></a><span class="lineno">10166</span>&#160;  <a class="code" href="structllvm_1_1SDNodeFlags.html">SDNodeFlags</a> Flags = Node-&gt;getFlags();</div>
<div class="line"><a name="l10167"></a><span class="lineno">10167</span>&#160; </div>
<div class="line"><a name="l10168"></a><span class="lineno">10168</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = VecOp.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l10169"></a><span class="lineno">10169</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</div>
<div class="line"><a name="l10170"></a><span class="lineno">10170</span>&#160; </div>
<div class="line"><a name="l10171"></a><span class="lineno">10171</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>())</div>
<div class="line"><a name="l10172"></a><span class="lineno">10172</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l10173"></a><span class="lineno">10173</span>&#160;        <span class="stringliteral">&quot;Expanding reductions for scalable vectors is undefined.&quot;</span>);</div>
<div class="line"><a name="l10174"></a><span class="lineno">10174</span>&#160; </div>
<div class="line"><a name="l10175"></a><span class="lineno">10175</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l10176"></a><span class="lineno">10176</span>&#160; </div>
<div class="line"><a name="l10177"></a><span class="lineno">10177</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops;</div>
<div class="line"><a name="l10178"></a><span class="lineno">10178</span>&#160;  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1c383bff50576c84343b3b8ea609f3e1">ExtractVectorElements</a>(VecOp, Ops, 0, NumElts);</div>
<div class="line"><a name="l10179"></a><span class="lineno">10179</span>&#160; </div>
<div class="line"><a name="l10180"></a><span class="lineno">10180</span>&#160;  <span class="keywordtype">unsigned</span> BaseOpcode = <a class="code" href="namespacellvm_1_1ISD.html#ace75a0fc6736a8bf8b8187083078354d">ISD::getVecReduceBaseOpcode</a>(Node-&gt;getOpcode());</div>
<div class="line"><a name="l10181"></a><span class="lineno">10181</span>&#160; </div>
<div class="line"><a name="l10182"></a><span class="lineno">10182</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = AccOp;</div>
<div class="line"><a name="l10183"></a><span class="lineno">10183</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NumElts; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l10184"></a><span class="lineno">10184</span>&#160;    Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(BaseOpcode, dl, EltVT, Res, Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], Flags);</div>
<div class="line"><a name="l10185"></a><span class="lineno">10185</span>&#160; </div>
<div class="line"><a name="l10186"></a><span class="lineno">10186</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l10187"></a><span class="lineno">10187</span>&#160;}</div>
<div class="line"><a name="l10188"></a><span class="lineno">10188</span>&#160; </div>
<div class="line"><a name="l10189"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a74ad96f69f9b8386dbccfeb4a2948024">10189</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#a74ad96f69f9b8386dbccfeb4a2948024">TargetLowering::expandREM</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Result,</div>
<div class="line"><a name="l10190"></a><span class="lineno">10190</span>&#160;                               <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10191"></a><span class="lineno">10191</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l10192"></a><span class="lineno">10192</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div>
<div class="line"><a name="l10193"></a><span class="lineno">10193</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a> = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>;</div>
<div class="line"><a name="l10194"></a><span class="lineno">10194</span>&#160;  <span class="keywordtype">unsigned</span> DivOpc = <a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">ISD::SDIV</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">ISD::UDIV</a>;</div>
<div class="line"><a name="l10195"></a><span class="lineno">10195</span>&#160;  <span class="keywordtype">unsigned</span> DivRemOpc = <a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a> ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a">ISD::SDIVREM</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a257ffa49107e2db978e8a6e2688ada">ISD::UDIVREM</a>;</div>
<div class="line"><a name="l10196"></a><span class="lineno">10196</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Dividend = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l10197"></a><span class="lineno">10197</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Divisor = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l10198"></a><span class="lineno">10198</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(DivRemOpc, VT)) {</div>
<div class="line"><a name="l10199"></a><span class="lineno">10199</span>&#160;    <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, VT);</div>
<div class="line"><a name="l10200"></a><span class="lineno">10200</span>&#160;    Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(DivRemOpc, dl, VTs, Dividend, Divisor).<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l10201"></a><span class="lineno">10201</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10202"></a><span class="lineno">10202</span>&#160;  }</div>
<div class="line"><a name="l10203"></a><span class="lineno">10203</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(DivOpc, VT)) {</div>
<div class="line"><a name="l10204"></a><span class="lineno">10204</span>&#160;    <span class="comment">// X % Y -&gt; X-X/Y*Y</span></div>
<div class="line"><a name="l10205"></a><span class="lineno">10205</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Divide = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(DivOpc, dl, VT, Dividend, Divisor);</div>
<div class="line"><a name="l10206"></a><span class="lineno">10206</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, VT, Divide, Divisor);</div>
<div class="line"><a name="l10207"></a><span class="lineno">10207</span>&#160;    Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, Dividend, <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>);</div>
<div class="line"><a name="l10208"></a><span class="lineno">10208</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10209"></a><span class="lineno">10209</span>&#160;  }</div>
<div class="line"><a name="l10210"></a><span class="lineno">10210</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10211"></a><span class="lineno">10211</span>&#160;}</div>
<div class="line"><a name="l10212"></a><span class="lineno">10212</span>&#160; </div>
<div class="line"><a name="l10213"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a46f08b0e2eee386c64ab87436410e9db">10213</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a46f08b0e2eee386c64ab87436410e9db">TargetLowering::expandFP_TO_INT_SAT</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node,</div>
<div class="line"><a name="l10214"></a><span class="lineno">10214</span>&#160;                                            <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10215"></a><span class="lineno">10215</span>&#160;  <span class="keywordtype">bool</span> IsSigned = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae4a4e2126c6db34e2dfd71b6bd0408ee">ISD::FP_TO_SINT_SAT</a>;</div>
<div class="line"><a name="l10216"></a><span class="lineno">10216</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, 0));</div>
<div class="line"><a name="l10217"></a><span class="lineno">10217</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l10218"></a><span class="lineno">10218</span>&#160; </div>
<div class="line"><a name="l10219"></a><span class="lineno">10219</span>&#160;  <span class="comment">// DstVT is the result type, while SatVT is the size to which we saturate</span></div>
<div class="line"><a name="l10220"></a><span class="lineno">10220</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = Src.getValueType();</div>
<div class="line"><a name="l10221"></a><span class="lineno">10221</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l10222"></a><span class="lineno">10222</span>&#160; </div>
<div class="line"><a name="l10223"></a><span class="lineno">10223</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SatVT = cast&lt;VTSDNode&gt;(Node-&gt;getOperand(1))-&gt;getVT();</div>
<div class="line"><a name="l10224"></a><span class="lineno">10224</span>&#160;  <span class="keywordtype">unsigned</span> SatWidth = SatVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l10225"></a><span class="lineno">10225</span>&#160;  <span class="keywordtype">unsigned</span> DstWidth = DstVT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l10226"></a><span class="lineno">10226</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SatWidth &lt;= DstWidth &amp;&amp;</div>
<div class="line"><a name="l10227"></a><span class="lineno">10227</span>&#160;         <span class="stringliteral">&quot;Expected saturation width smaller than result width&quot;</span>);</div>
<div class="line"><a name="l10228"></a><span class="lineno">10228</span>&#160; </div>
<div class="line"><a name="l10229"></a><span class="lineno">10229</span>&#160;  <span class="comment">// Determine minimum and maximum integer values and their corresponding</span></div>
<div class="line"><a name="l10230"></a><span class="lineno">10230</span>&#160;  <span class="comment">// floating-point values.</span></div>
<div class="line"><a name="l10231"></a><span class="lineno">10231</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinInt, MaxInt;</div>
<div class="line"><a name="l10232"></a><span class="lineno">10232</span>&#160;  <span class="keywordflow">if</span> (IsSigned) {</div>
<div class="line"><a name="l10233"></a><span class="lineno">10233</span>&#160;    MinInt = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(SatWidth).<a class="code" href="classllvm_1_1APInt.html#aca8fce65eb69a82aa10a635e2e79877a">sext</a>(DstWidth);</div>
<div class="line"><a name="l10234"></a><span class="lineno">10234</span>&#160;    MaxInt = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(SatWidth).<a class="code" href="classllvm_1_1APInt.html#aca8fce65eb69a82aa10a635e2e79877a">sext</a>(DstWidth);</div>
<div class="line"><a name="l10235"></a><span class="lineno">10235</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10236"></a><span class="lineno">10236</span>&#160;    MinInt = <a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(SatWidth).<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(DstWidth);</div>
<div class="line"><a name="l10237"></a><span class="lineno">10237</span>&#160;    MaxInt = <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(SatWidth).<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(DstWidth);</div>
<div class="line"><a name="l10238"></a><span class="lineno">10238</span>&#160;  }</div>
<div class="line"><a name="l10239"></a><span class="lineno">10239</span>&#160; </div>
<div class="line"><a name="l10240"></a><span class="lineno">10240</span>&#160;  <span class="comment">// We cannot risk emitting FP_TO_XINT nodes with a source VT of f16, as</span></div>
<div class="line"><a name="l10241"></a><span class="lineno">10241</span>&#160;  <span class="comment">// libcall emission cannot handle this. Large result types will fail.</span></div>
<div class="line"><a name="l10242"></a><span class="lineno">10242</span>&#160;  <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a1e0cfc795f0b068229dcec6eecb69499">MVT::f16</a>) {</div>
<div class="line"><a name="l10243"></a><span class="lineno">10243</span>&#160;    Src = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, Src);</div>
<div class="line"><a name="l10244"></a><span class="lineno">10244</span>&#160;    SrcVT = Src.getValueType();</div>
<div class="line"><a name="l10245"></a><span class="lineno">10245</span>&#160;  }</div>
<div class="line"><a name="l10246"></a><span class="lineno">10246</span>&#160; </div>
<div class="line"><a name="l10247"></a><span class="lineno">10247</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> MinFloat(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7742fb3f3703dcf2a7d32e22dbe6a6df">EVTToAPFloatSemantics</a>(SrcVT));</div>
<div class="line"><a name="l10248"></a><span class="lineno">10248</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> MaxFloat(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7742fb3f3703dcf2a7d32e22dbe6a6df">EVTToAPFloatSemantics</a>(SrcVT));</div>
<div class="line"><a name="l10249"></a><span class="lineno">10249</span>&#160; </div>
<div class="line"><a name="l10250"></a><span class="lineno">10250</span>&#160;  <a class="code" href="structllvm_1_1APFloatBase.html#aee544c332088dbef348a0c1c97e21a6a">APFloat::opStatus</a> MinStatus =</div>
<div class="line"><a name="l10251"></a><span class="lineno">10251</span>&#160;      MinFloat.<a class="code" href="classllvm_1_1APFloat.html#a7a046fe3d1230e4804494ce18bae1175">convertFromAPInt</a>(MinInt, IsSigned, <a class="code" href="structllvm_1_1APFloatBase.html#a482d9cf95b588eb05cefeaa5c05be9a3">APFloat::rmTowardZero</a>);</div>
<div class="line"><a name="l10252"></a><span class="lineno">10252</span>&#160;  <a class="code" href="structllvm_1_1APFloatBase.html#aee544c332088dbef348a0c1c97e21a6a">APFloat::opStatus</a> MaxStatus =</div>
<div class="line"><a name="l10253"></a><span class="lineno">10253</span>&#160;      MaxFloat.<a class="code" href="classllvm_1_1APFloat.html#a7a046fe3d1230e4804494ce18bae1175">convertFromAPInt</a>(MaxInt, IsSigned, <a class="code" href="structllvm_1_1APFloatBase.html#a482d9cf95b588eb05cefeaa5c05be9a3">APFloat::rmTowardZero</a>);</div>
<div class="line"><a name="l10254"></a><span class="lineno">10254</span>&#160;  <span class="keywordtype">bool</span> AreExactFloatBounds = !(MinStatus &amp; APFloat::opStatus::opInexact) &amp;&amp;</div>
<div class="line"><a name="l10255"></a><span class="lineno">10255</span>&#160;                             !(MaxStatus &amp; APFloat::opStatus::opInexact);</div>
<div class="line"><a name="l10256"></a><span class="lineno">10256</span>&#160; </div>
<div class="line"><a name="l10257"></a><span class="lineno">10257</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MinFloatNode = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(MinFloat, dl, SrcVT);</div>
<div class="line"><a name="l10258"></a><span class="lineno">10258</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaxFloatNode = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(MaxFloat, dl, SrcVT);</div>
<div class="line"><a name="l10259"></a><span class="lineno">10259</span>&#160; </div>
<div class="line"><a name="l10260"></a><span class="lineno">10260</span>&#160;  <span class="comment">// If the integer bounds are exactly representable as floats and min/max are</span></div>
<div class="line"><a name="l10261"></a><span class="lineno">10261</span>&#160;  <span class="comment">// legal, emit a min+max+fptoi sequence. Otherwise we have to use a sequence</span></div>
<div class="line"><a name="l10262"></a><span class="lineno">10262</span>&#160;  <span class="comment">// of comparisons and selects.</span></div>
<div class="line"><a name="l10263"></a><span class="lineno">10263</span>&#160;  <span class="keywordtype">bool</span> MinMaxLegal = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213">ISD::FMINNUM</a>, SrcVT) &amp;&amp;</div>
<div class="line"><a name="l10264"></a><span class="lineno">10264</span>&#160;                     <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a632dd4bb044d5cd11f671d176ef495f2">ISD::FMAXNUM</a>, SrcVT);</div>
<div class="line"><a name="l10265"></a><span class="lineno">10265</span>&#160;  <span class="keywordflow">if</span> (AreExactFloatBounds &amp;&amp; MinMaxLegal) {</div>
<div class="line"><a name="l10266"></a><span class="lineno">10266</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Clamped = Src;</div>
<div class="line"><a name="l10267"></a><span class="lineno">10267</span>&#160; </div>
<div class="line"><a name="l10268"></a><span class="lineno">10268</span>&#160;    <span class="comment">// Clamp Src by MinFloat from below. If Src is NaN the result is MinFloat.</span></div>
<div class="line"><a name="l10269"></a><span class="lineno">10269</span>&#160;    Clamped = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a632dd4bb044d5cd11f671d176ef495f2">ISD::FMAXNUM</a>, dl, SrcVT, Clamped, MinFloatNode);</div>
<div class="line"><a name="l10270"></a><span class="lineno">10270</span>&#160;    <span class="comment">// Clamp by MaxFloat from above. NaN cannot occur.</span></div>
<div class="line"><a name="l10271"></a><span class="lineno">10271</span>&#160;    Clamped = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213">ISD::FMINNUM</a>, dl, SrcVT, Clamped, MaxFloatNode);</div>
<div class="line"><a name="l10272"></a><span class="lineno">10272</span>&#160;    <span class="comment">// Convert clamped value to integer.</span></div>
<div class="line"><a name="l10273"></a><span class="lineno">10273</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FpToInt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(IsSigned ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>,</div>
<div class="line"><a name="l10274"></a><span class="lineno">10274</span>&#160;                                  dl, DstVT, Clamped);</div>
<div class="line"><a name="l10275"></a><span class="lineno">10275</span>&#160; </div>
<div class="line"><a name="l10276"></a><span class="lineno">10276</span>&#160;    <span class="comment">// In the unsigned case we&#39;re done, because we mapped NaN to MinFloat,</span></div>
<div class="line"><a name="l10277"></a><span class="lineno">10277</span>&#160;    <span class="comment">// which will cast to zero.</span></div>
<div class="line"><a name="l10278"></a><span class="lineno">10278</span>&#160;    <span class="keywordflow">if</span> (!IsSigned)</div>
<div class="line"><a name="l10279"></a><span class="lineno">10279</span>&#160;      <span class="keywordflow">return</span> FpToInt;</div>
<div class="line"><a name="l10280"></a><span class="lineno">10280</span>&#160; </div>
<div class="line"><a name="l10281"></a><span class="lineno">10281</span>&#160;    <span class="comment">// Otherwise, select 0 if Src is NaN.</span></div>
<div class="line"><a name="l10282"></a><span class="lineno">10282</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ZeroInt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, DstVT);</div>
<div class="line"><a name="l10283"></a><span class="lineno">10283</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, Src, Src, ZeroInt, FpToInt,</div>
<div class="line"><a name="l10284"></a><span class="lineno">10284</span>&#160;                           <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::CondCode::SETUO</a>);</div>
<div class="line"><a name="l10285"></a><span class="lineno">10285</span>&#160;  }</div>
<div class="line"><a name="l10286"></a><span class="lineno">10286</span>&#160; </div>
<div class="line"><a name="l10287"></a><span class="lineno">10287</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MinIntNode = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MinInt, dl, DstVT);</div>
<div class="line"><a name="l10288"></a><span class="lineno">10288</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaxIntNode = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(MaxInt, dl, DstVT);</div>
<div class="line"><a name="l10289"></a><span class="lineno">10289</span>&#160; </div>
<div class="line"><a name="l10290"></a><span class="lineno">10290</span>&#160;  <span class="comment">// Result of direct conversion. The assumption here is that the operation is</span></div>
<div class="line"><a name="l10291"></a><span class="lineno">10291</span>&#160;  <span class="comment">// non-trapping and it&#39;s fine to apply it to an out-of-range value if we</span></div>
<div class="line"><a name="l10292"></a><span class="lineno">10292</span>&#160;  <span class="comment">// select it away later.</span></div>
<div class="line"><a name="l10293"></a><span class="lineno">10293</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FpToInt =</div>
<div class="line"><a name="l10294"></a><span class="lineno">10294</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(IsSigned ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>, dl, DstVT, Src);</div>
<div class="line"><a name="l10295"></a><span class="lineno">10295</span>&#160; </div>
<div class="line"><a name="l10296"></a><span class="lineno">10296</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a> = FpToInt;</div>
<div class="line"><a name="l10297"></a><span class="lineno">10297</span>&#160; </div>
<div class="line"><a name="l10298"></a><span class="lineno">10298</span>&#160;  <span class="comment">// If Src ULT MinFloat, select MinInt. In particular, this also selects</span></div>
<div class="line"><a name="l10299"></a><span class="lineno">10299</span>&#160;  <span class="comment">// MinInt if Src is NaN.</span></div>
<div class="line"><a name="l10300"></a><span class="lineno">10300</span>&#160;  <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, Src, MinFloatNode, MinIntNode, <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>,</div>
<div class="line"><a name="l10301"></a><span class="lineno">10301</span>&#160;                           <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::CondCode::SETULT</a>);</div>
<div class="line"><a name="l10302"></a><span class="lineno">10302</span>&#160;  <span class="comment">// If Src OGT MaxFloat, select MaxInt.</span></div>
<div class="line"><a name="l10303"></a><span class="lineno">10303</span>&#160;  <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, Src, MaxFloatNode, MaxIntNode, <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>,</div>
<div class="line"><a name="l10304"></a><span class="lineno">10304</span>&#160;                           <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a31d1e24e08b255d6aa290d67d16ce2c9">ISD::CondCode::SETOGT</a>);</div>
<div class="line"><a name="l10305"></a><span class="lineno">10305</span>&#160; </div>
<div class="line"><a name="l10306"></a><span class="lineno">10306</span>&#160;  <span class="comment">// In the unsigned case we are done, because we mapped NaN to MinInt, which</span></div>
<div class="line"><a name="l10307"></a><span class="lineno">10307</span>&#160;  <span class="comment">// is already zero.</span></div>
<div class="line"><a name="l10308"></a><span class="lineno">10308</span>&#160;  <span class="keywordflow">if</span> (!IsSigned)</div>
<div class="line"><a name="l10309"></a><span class="lineno">10309</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>;</div>
<div class="line"><a name="l10310"></a><span class="lineno">10310</span>&#160; </div>
<div class="line"><a name="l10311"></a><span class="lineno">10311</span>&#160;  <span class="comment">// Otherwise, select 0 if Src is NaN.</span></div>
<div class="line"><a name="l10312"></a><span class="lineno">10312</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ZeroInt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, DstVT);</div>
<div class="line"><a name="l10313"></a><span class="lineno">10313</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">getSelectCC</a>(dl, Src, Src, ZeroInt, <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::CondCode::SETUO</a>);</div>
<div class="line"><a name="l10314"></a><span class="lineno">10314</span>&#160;}</div>
<div class="line"><a name="l10315"></a><span class="lineno">10315</span>&#160; </div>
<div class="line"><a name="l10316"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#a7c7a138f1343bed87e10cff83e51b903">10316</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1TargetLowering.html#a7c7a138f1343bed87e10cff83e51b903">TargetLowering::expandVectorSplice</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node,</div>
<div class="line"><a name="l10317"></a><span class="lineno">10317</span>&#160;                                           <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10318"></a><span class="lineno">10318</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad55a17543ef86f6d46aebb45028a9067">ISD::VECTOR_SPLICE</a> &amp;&amp; <span class="stringliteral">&quot;Unexpected opcode!&quot;</span>);</div>
<div class="line"><a name="l10319"></a><span class="lineno">10319</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node-&gt;getValueType(0).isScalableVector() &amp;&amp;</div>
<div class="line"><a name="l10320"></a><span class="lineno">10320</span>&#160;         <span class="stringliteral">&quot;Fixed length vector types expected to use SHUFFLE_VECTOR!&quot;</span>);</div>
<div class="line"><a name="l10321"></a><span class="lineno">10321</span>&#160; </div>
<div class="line"><a name="l10322"></a><span class="lineno">10322</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;getValueType(0);</div>
<div class="line"><a name="l10323"></a><span class="lineno">10323</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V1 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l10324"></a><span class="lineno">10324</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a> = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l10325"></a><span class="lineno">10325</span>&#160;  int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantSDNode&gt;(Node-&gt;getOperand(2))-&gt;getSExtValue();</div>
<div class="line"><a name="l10326"></a><span class="lineno">10326</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l10327"></a><span class="lineno">10327</span>&#160; </div>
<div class="line"><a name="l10328"></a><span class="lineno">10328</span>&#160;  <span class="comment">// Expand through memory thusly:</span></div>
<div class="line"><a name="l10329"></a><span class="lineno">10329</span>&#160;  <span class="comment">//  Alloca CONCAT_VECTORS_TYPES(V1, V2) Ptr</span></div>
<div class="line"><a name="l10330"></a><span class="lineno">10330</span>&#160;  <span class="comment">//  Store V1, Ptr</span></div>
<div class="line"><a name="l10331"></a><span class="lineno">10331</span>&#160;  <span class="comment">//  Store V2, Ptr + sizeof(V1)</span></div>
<div class="line"><a name="l10332"></a><span class="lineno">10332</span>&#160;  <span class="comment">//  If (Imm &lt; 0)</span></div>
<div class="line"><a name="l10333"></a><span class="lineno">10333</span>&#160;  <span class="comment">//    TrailingElts = -Imm</span></div>
<div class="line"><a name="l10334"></a><span class="lineno">10334</span>&#160;  <span class="comment">//    Ptr = Ptr + sizeof(V1) - (TrailingElts * sizeof(VT.Elt))</span></div>
<div class="line"><a name="l10335"></a><span class="lineno">10335</span>&#160;  <span class="comment">//  else</span></div>
<div class="line"><a name="l10336"></a><span class="lineno">10336</span>&#160;  <span class="comment">//    Ptr = Ptr + (Imm * sizeof(VT.Elt))</span></div>
<div class="line"><a name="l10337"></a><span class="lineno">10337</span>&#160;  <span class="comment">//  Res = Load Ptr</span></div>
<div class="line"><a name="l10338"></a><span class="lineno">10338</span>&#160; </div>
<div class="line"><a name="l10339"></a><span class="lineno">10339</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a017a91fde9e329082de784114d8f137c">getReducedAlign</a>(VT, <span class="comment">/*UseABI=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l10340"></a><span class="lineno">10340</span>&#160; </div>
<div class="line"><a name="l10341"></a><span class="lineno">10341</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> MemVT = <a class="code" href="structllvm_1_1EVT.html#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">getContext</a>(), VT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>(),</div>
<div class="line"><a name="l10342"></a><span class="lineno">10342</span>&#160;                               VT.<a class="code" href="structllvm_1_1EVT.html#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>() * 2);</div>
<div class="line"><a name="l10343"></a><span class="lineno">10343</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae83b3d8e9a944b5d818e80524a5003e2">CreateStackTemporary</a>(MemVT.<a class="code" href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>(), Alignment);</div>
<div class="line"><a name="l10344"></a><span class="lineno">10344</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = StackPtr.getValueType();</div>
<div class="line"><a name="l10345"></a><span class="lineno">10345</span>&#160;  <span class="keyword">auto</span> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>();</div>
<div class="line"><a name="l10346"></a><span class="lineno">10346</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = cast&lt;FrameIndexSDNode&gt;(StackPtr.getNode())-&gt;getIndex();</div>
<div class="line"><a name="l10347"></a><span class="lineno">10347</span>&#160;  <span class="keyword">auto</span> PtrInfo = <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>);</div>
<div class="line"><a name="l10348"></a><span class="lineno">10348</span>&#160; </div>
<div class="line"><a name="l10349"></a><span class="lineno">10349</span>&#160;  <span class="comment">// Store the lo part of CONCAT_VECTORS(V1, V2)</span></div>
<div class="line"><a name="l10350"></a><span class="lineno">10350</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StoreV1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">getStore</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">getEntryNode</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, V1, StackPtr, PtrInfo);</div>
<div class="line"><a name="l10351"></a><span class="lineno">10351</span>&#160;  <span class="comment">// Store the hi part of CONCAT_VECTORS(V1, V2)</span></div>
<div class="line"><a name="l10352"></a><span class="lineno">10352</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OffsetToV2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a17116dc06939cff287f9941cb64213b1">getVScale</a>(</div>
<div class="line"><a name="l10353"></a><span class="lineno">10353</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PtrVT,</div>
<div class="line"><a name="l10354"></a><span class="lineno">10354</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a>(PtrVT.<a class="code" href="structllvm_1_1EVT.html#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>(), VT.<a class="code" href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>()));</div>
<div class="line"><a name="l10355"></a><span class="lineno">10355</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PtrVT, StackPtr, OffsetToV2);</div>
<div class="line"><a name="l10356"></a><span class="lineno">10356</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba4ddaa3d7050b68b3c9eb50ff10f038b3">StoreV2</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">getStore</a>(StoreV1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, StackPtr2, PtrInfo);</div>
<div class="line"><a name="l10357"></a><span class="lineno">10357</span>&#160; </div>
<div class="line"><a name="l10358"></a><span class="lineno">10358</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;= 0) {</div>
<div class="line"><a name="l10359"></a><span class="lineno">10359</span>&#160;    <span class="comment">// Load back the required element. getVectorElementPointer takes care of</span></div>
<div class="line"><a name="l10360"></a><span class="lineno">10360</span>&#160;    <span class="comment">// clamping the index if it&#39;s out-of-bounds.</span></div>
<div class="line"><a name="l10361"></a><span class="lineno">10361</span>&#160;    StackPtr = getVectorElementPointer(DAG, StackPtr, VT, Node-&gt;getOperand(2));</div>
<div class="line"><a name="l10362"></a><span class="lineno">10362</span>&#160;    <span class="comment">// Load the spliced result</span></div>
<div class="line"><a name="l10363"></a><span class="lineno">10363</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3c3b16945cf064f59363bdefdfe2b492">getLoad</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba4ddaa3d7050b68b3c9eb50ff10f038b3">StoreV2</a>, StackPtr,</div>
<div class="line"><a name="l10364"></a><span class="lineno">10364</span>&#160;                       <a class="code" href="structllvm_1_1MachinePointerInfo.html#aa5f0f4a7de5def1c9d9f6a750a9b1aa1">MachinePointerInfo::getUnknownStack</a>(MF));</div>
<div class="line"><a name="l10365"></a><span class="lineno">10365</span>&#160;  }</div>
<div class="line"><a name="l10366"></a><span class="lineno">10366</span>&#160; </div>
<div class="line"><a name="l10367"></a><span class="lineno">10367</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TrailingElts = -<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l10368"></a><span class="lineno">10368</span>&#160; </div>
<div class="line"><a name="l10369"></a><span class="lineno">10369</span>&#160;  <span class="comment">// NOTE: TrailingElts must be clamped so as not to read outside of V1:V2.</span></div>
<div class="line"><a name="l10370"></a><span class="lineno">10370</span>&#160;  <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a> EltByteSize = VT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>().<a class="code" href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>();</div>
<div class="line"><a name="l10371"></a><span class="lineno">10371</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TrailingBytes =</div>
<div class="line"><a name="l10372"></a><span class="lineno">10372</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(TrailingElts * EltByteSize, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PtrVT);</div>
<div class="line"><a name="l10373"></a><span class="lineno">10373</span>&#160; </div>
<div class="line"><a name="l10374"></a><span class="lineno">10374</span>&#160;  <span class="keywordflow">if</span> (TrailingElts &gt; VT.<a class="code" href="structllvm_1_1EVT.html#a53fb11c0140efce7e25ca9ff5ccbac96">getVectorMinNumElements</a>()) {</div>
<div class="line"><a name="l10375"></a><span class="lineno">10375</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VLBytes =</div>
<div class="line"><a name="l10376"></a><span class="lineno">10376</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a17116dc06939cff287f9941cb64213b1">getVScale</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PtrVT,</div>
<div class="line"><a name="l10377"></a><span class="lineno">10377</span>&#160;                      <a class="code" href="classllvm_1_1APInt.html">APInt</a>(PtrVT.<a class="code" href="structllvm_1_1EVT.html#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>(),</div>
<div class="line"><a name="l10378"></a><span class="lineno">10378</span>&#160;                            VT.<a class="code" href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>()));</div>
<div class="line"><a name="l10379"></a><span class="lineno">10379</span>&#160;    TrailingBytes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PtrVT, TrailingBytes, VLBytes);</div>
<div class="line"><a name="l10380"></a><span class="lineno">10380</span>&#160;  }</div>
<div class="line"><a name="l10381"></a><span class="lineno">10381</span>&#160; </div>
<div class="line"><a name="l10382"></a><span class="lineno">10382</span>&#160;  <span class="comment">// Calculate the start address of the spliced result.</span></div>
<div class="line"><a name="l10383"></a><span class="lineno">10383</span>&#160;  StackPtr2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PtrVT, StackPtr2, TrailingBytes);</div>
<div class="line"><a name="l10384"></a><span class="lineno">10384</span>&#160; </div>
<div class="line"><a name="l10385"></a><span class="lineno">10385</span>&#160;  <span class="comment">// Load the spliced result</span></div>
<div class="line"><a name="l10386"></a><span class="lineno">10386</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3c3b16945cf064f59363bdefdfe2b492">getLoad</a>(VT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba4ddaa3d7050b68b3c9eb50ff10f038b3">StoreV2</a>, StackPtr2,</div>
<div class="line"><a name="l10387"></a><span class="lineno">10387</span>&#160;                     <a class="code" href="structllvm_1_1MachinePointerInfo.html#aa5f0f4a7de5def1c9d9f6a750a9b1aa1">MachinePointerInfo::getUnknownStack</a>(MF));</div>
<div class="line"><a name="l10388"></a><span class="lineno">10388</span>&#160;}</div>
<div class="line"><a name="l10389"></a><span class="lineno">10389</span>&#160; </div>
<div class="line"><a name="l10390"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetLowering.html#ac33a5da0df477feb5fc2df83ee638855">10390</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetLowering.html#ac33a5da0df477feb5fc2df83ee638855">TargetLowering::LegalizeSetCCCondCode</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT,</div>
<div class="line"><a name="l10391"></a><span class="lineno">10391</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l10392"></a><span class="lineno">10392</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l10393"></a><span class="lineno">10393</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EVL, <span class="keywordtype">bool</span> &amp;NeedInvert,</div>
<div class="line"><a name="l10394"></a><span class="lineno">10394</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Chain,</div>
<div class="line"><a name="l10395"></a><span class="lineno">10395</span>&#160;                                           <span class="keywordtype">bool</span> IsSignaling)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10396"></a><span class="lineno">10396</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>();</div>
<div class="line"><a name="l10397"></a><span class="lineno">10397</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> OpVT = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getSimpleValueType();</div>
<div class="line"><a name="l10398"></a><span class="lineno">10398</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> CCCode = cast&lt;CondCodeSDNode&gt;(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>)-&gt;get();</div>
<div class="line"><a name="l10399"></a><span class="lineno">10399</span>&#160;  NeedInvert = <span class="keyword">false</span>;</div>
<div class="line"><a name="l10400"></a><span class="lineno">10400</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!EVL == !<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp;&amp; <span class="stringliteral">&quot;VP Mask and EVL must either both be set or unset&quot;</span>);</div>
<div class="line"><a name="l10401"></a><span class="lineno">10401</span>&#160;  <span class="keywordtype">bool</span> IsNonVP = !EVL;</div>
<div class="line"><a name="l10402"></a><span class="lineno">10402</span>&#160;  <span class="keywordflow">switch</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a44d2b45590a05798a4aa2d63cba23e55">getCondCodeAction</a>(CCCode, OpVT)) {</div>
<div class="line"><a name="l10403"></a><span class="lineno">10403</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l10404"></a><span class="lineno">10404</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown condition code action!&quot;</span>);</div>
<div class="line"><a name="l10405"></a><span class="lineno">10405</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a12b8712b6c436a8152a5fa996cd8956aad7ff2d7a7c03a214dda559fac717cd99">TargetLowering::Legal</a>:</div>
<div class="line"><a name="l10406"></a><span class="lineno">10406</span>&#160;    <span class="comment">// Nothing to do.</span></div>
<div class="line"><a name="l10407"></a><span class="lineno">10407</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10408"></a><span class="lineno">10408</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a12b8712b6c436a8152a5fa996cd8956aa4b85349547c5b6126817e10152007931">TargetLowering::Expand</a>: {</div>
<div class="line"><a name="l10409"></a><span class="lineno">10409</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> InvCC = <a class="code" href="namespacellvm_1_1ISD.html#a9cc23aed232ccdeadbd8648c349236a6">ISD::getSetCCSwappedOperands</a>(CCCode);</div>
<div class="line"><a name="l10410"></a><span class="lineno">10410</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aefa6619fc003e2d48cf16a23e0c81f8e">isCondCodeLegalOrCustom</a>(InvCC, OpVT)) {</div>
<div class="line"><a name="l10411"></a><span class="lineno">10411</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10412"></a><span class="lineno">10412</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad3db19b21e25af9ac5a1e514443b3d60">getCondCode</a>(InvCC);</div>
<div class="line"><a name="l10413"></a><span class="lineno">10413</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10414"></a><span class="lineno">10414</span>&#160;    }</div>
<div class="line"><a name="l10415"></a><span class="lineno">10415</span>&#160;    <span class="comment">// Swapping operands didn&#39;t work. Try inverting the condition.</span></div>
<div class="line"><a name="l10416"></a><span class="lineno">10416</span>&#160;    <span class="keywordtype">bool</span> NeedSwap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l10417"></a><span class="lineno">10417</span>&#160;    InvCC = <a class="code" href="namespacellvm_1_1ISD.html#a5fbc38db5c4f3ef878ab19245d3f381d">getSetCCInverse</a>(CCCode, OpVT);</div>
<div class="line"><a name="l10418"></a><span class="lineno">10418</span>&#160;    <span class="keywordflow">if</span> (!TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aefa6619fc003e2d48cf16a23e0c81f8e">isCondCodeLegalOrCustom</a>(InvCC, OpVT)) {</div>
<div class="line"><a name="l10419"></a><span class="lineno">10419</span>&#160;      <span class="comment">// If inverting the condition is not enough, try swapping operands</span></div>
<div class="line"><a name="l10420"></a><span class="lineno">10420</span>&#160;      <span class="comment">// on top of it.</span></div>
<div class="line"><a name="l10421"></a><span class="lineno">10421</span>&#160;      InvCC = <a class="code" href="namespacellvm_1_1ISD.html#a9cc23aed232ccdeadbd8648c349236a6">ISD::getSetCCSwappedOperands</a>(InvCC);</div>
<div class="line"><a name="l10422"></a><span class="lineno">10422</span>&#160;      NeedSwap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10423"></a><span class="lineno">10423</span>&#160;    }</div>
<div class="line"><a name="l10424"></a><span class="lineno">10424</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#aefa6619fc003e2d48cf16a23e0c81f8e">isCondCodeLegalOrCustom</a>(InvCC, OpVT)) {</div>
<div class="line"><a name="l10425"></a><span class="lineno">10425</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad3db19b21e25af9ac5a1e514443b3d60">getCondCode</a>(InvCC);</div>
<div class="line"><a name="l10426"></a><span class="lineno">10426</span>&#160;      NeedInvert = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10427"></a><span class="lineno">10427</span>&#160;      <span class="keywordflow">if</span> (NeedSwap)</div>
<div class="line"><a name="l10428"></a><span class="lineno">10428</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10429"></a><span class="lineno">10429</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10430"></a><span class="lineno">10430</span>&#160;    }</div>
<div class="line"><a name="l10431"></a><span class="lineno">10431</span>&#160; </div>
<div class="line"><a name="l10432"></a><span class="lineno">10432</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> CC1 = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07aeded54fe1be320194e9ff0f5825df0e5">ISD::SETCC_INVALID</a>, CC2 = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07aeded54fe1be320194e9ff0f5825df0e5">ISD::SETCC_INVALID</a>;</div>
<div class="line"><a name="l10433"></a><span class="lineno">10433</span>&#160;    <span class="keywordtype">unsigned</span> Opc = 0;</div>
<div class="line"><a name="l10434"></a><span class="lineno">10434</span>&#160;    <span class="keywordflow">switch</span> (CCCode) {</div>
<div class="line"><a name="l10435"></a><span class="lineno">10435</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l10436"></a><span class="lineno">10436</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Don&#39;t know how to expand this condition!&quot;</span>);</div>
<div class="line"><a name="l10437"></a><span class="lineno">10437</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::SETUO</a>:</div>
<div class="line"><a name="l10438"></a><span class="lineno">10438</span>&#160;      <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0d1546187d4d526fcbdd43183689075e">ISD::SETUNE</a>, OpVT)) {</div>
<div class="line"><a name="l10439"></a><span class="lineno">10439</span>&#160;        CC1 = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0d1546187d4d526fcbdd43183689075e">ISD::SETUNE</a>;</div>
<div class="line"><a name="l10440"></a><span class="lineno">10440</span>&#160;        CC2 = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0d1546187d4d526fcbdd43183689075e">ISD::SETUNE</a>;</div>
<div class="line"><a name="l10441"></a><span class="lineno">10441</span>&#160;        Opc = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>;</div>
<div class="line"><a name="l10442"></a><span class="lineno">10442</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10443"></a><span class="lineno">10443</span>&#160;      }</div>
<div class="line"><a name="l10444"></a><span class="lineno">10444</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862">ISD::SETOEQ</a>, OpVT) &amp;&amp;</div>
<div class="line"><a name="l10445"></a><span class="lineno">10445</span>&#160;             <span class="stringliteral">&quot;If SETUE is expanded, SETOEQ or SETUNE must be legal!&quot;</span>);</div>
<div class="line"><a name="l10446"></a><span class="lineno">10446</span>&#160;      NeedInvert = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10447"></a><span class="lineno">10447</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l10448"></a><span class="lineno">10448</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">ISD::SETO</a>:</div>
<div class="line"><a name="l10449"></a><span class="lineno">10449</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862">ISD::SETOEQ</a>, OpVT) &amp;&amp;</div>
<div class="line"><a name="l10450"></a><span class="lineno">10450</span>&#160;             <span class="stringliteral">&quot;If SETO is expanded, SETOEQ must be legal!&quot;</span>);</div>
<div class="line"><a name="l10451"></a><span class="lineno">10451</span>&#160;      CC1 = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862">ISD::SETOEQ</a>;</div>
<div class="line"><a name="l10452"></a><span class="lineno">10452</span>&#160;      CC2 = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862">ISD::SETOEQ</a>;</div>
<div class="line"><a name="l10453"></a><span class="lineno">10453</span>&#160;      Opc = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>;</div>
<div class="line"><a name="l10454"></a><span class="lineno">10454</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10455"></a><span class="lineno">10455</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72">ISD::SETONE</a>:</div>
<div class="line"><a name="l10456"></a><span class="lineno">10456</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848">ISD::SETUEQ</a>:</div>
<div class="line"><a name="l10457"></a><span class="lineno">10457</span>&#160;      <span class="comment">// If the SETUO or SETO CC isn&#39;t legal, we might be able to use</span></div>
<div class="line"><a name="l10458"></a><span class="lineno">10458</span>&#160;      <span class="comment">// SETOGT || SETOLT, inverting the result for SETUEQ. We only need one</span></div>
<div class="line"><a name="l10459"></a><span class="lineno">10459</span>&#160;      <span class="comment">// of SETOGT/SETOLT to be legal, the other can be emulated by swapping</span></div>
<div class="line"><a name="l10460"></a><span class="lineno">10460</span>&#160;      <span class="comment">// the operands.</span></div>
<div class="line"><a name="l10461"></a><span class="lineno">10461</span>&#160;      CC2 = ((<a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>)CCCode &amp; 0x8U) ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::SETUO</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">ISD::SETO</a>;</div>
<div class="line"><a name="l10462"></a><span class="lineno">10462</span>&#160;      <span class="keywordflow">if</span> (!TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(CC2, OpVT) &amp;&amp;</div>
<div class="line"><a name="l10463"></a><span class="lineno">10463</span>&#160;          (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a31d1e24e08b255d6aa290d67d16ce2c9">ISD::SETOGT</a>, OpVT) ||</div>
<div class="line"><a name="l10464"></a><span class="lineno">10464</span>&#160;           TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">isCondCodeLegal</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a20257a4d3833cf88afd42caeaed70dde">ISD::SETOLT</a>, OpVT))) {</div>
<div class="line"><a name="l10465"></a><span class="lineno">10465</span>&#160;        CC1 = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a31d1e24e08b255d6aa290d67d16ce2c9">ISD::SETOGT</a>;</div>
<div class="line"><a name="l10466"></a><span class="lineno">10466</span>&#160;        CC2 = <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a20257a4d3833cf88afd42caeaed70dde">ISD::SETOLT</a>;</div>
<div class="line"><a name="l10467"></a><span class="lineno">10467</span>&#160;        Opc = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>;</div>
<div class="line"><a name="l10468"></a><span class="lineno">10468</span>&#160;        NeedInvert = ((<a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>)CCCode &amp; 0x8U);</div>
<div class="line"><a name="l10469"></a><span class="lineno">10469</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10470"></a><span class="lineno">10470</span>&#160;      }</div>
<div class="line"><a name="l10471"></a><span class="lineno">10471</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l10472"></a><span class="lineno">10472</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862">ISD::SETOEQ</a>:</div>
<div class="line"><a name="l10473"></a><span class="lineno">10473</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a31d1e24e08b255d6aa290d67d16ce2c9">ISD::SETOGT</a>:</div>
<div class="line"><a name="l10474"></a><span class="lineno">10474</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f">ISD::SETOGE</a>:</div>
<div class="line"><a name="l10475"></a><span class="lineno">10475</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a20257a4d3833cf88afd42caeaed70dde">ISD::SETOLT</a>:</div>
<div class="line"><a name="l10476"></a><span class="lineno">10476</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea">ISD::SETOLE</a>:</div>
<div class="line"><a name="l10477"></a><span class="lineno">10477</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0d1546187d4d526fcbdd43183689075e">ISD::SETUNE</a>:</div>
<div class="line"><a name="l10478"></a><span class="lineno">10478</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>:</div>
<div class="line"><a name="l10479"></a><span class="lineno">10479</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a>:</div>
<div class="line"><a name="l10480"></a><span class="lineno">10480</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>:</div>
<div class="line"><a name="l10481"></a><span class="lineno">10481</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>:</div>
<div class="line"><a name="l10482"></a><span class="lineno">10482</span>&#160;      <span class="comment">// If we are floating point, assign and break, otherwise fall through.</span></div>
<div class="line"><a name="l10483"></a><span class="lineno">10483</span>&#160;      <span class="keywordflow">if</span> (!OpVT.<a class="code" href="classllvm_1_1MVT.html#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>()) {</div>
<div class="line"><a name="l10484"></a><span class="lineno">10484</span>&#160;        <span class="comment">// We can use the 4th bit to tell if we are the unordered</span></div>
<div class="line"><a name="l10485"></a><span class="lineno">10485</span>&#160;        <span class="comment">// or ordered version of the opcode.</span></div>
<div class="line"><a name="l10486"></a><span class="lineno">10486</span>&#160;        CC2 = ((<a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>)CCCode &amp; 0x8U) ? <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::SETUO</a> : <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">ISD::SETO</a>;</div>
<div class="line"><a name="l10487"></a><span class="lineno">10487</span>&#160;        Opc = ((<a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>)CCCode &amp; 0x8U) ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>;</div>
<div class="line"><a name="l10488"></a><span class="lineno">10488</span>&#160;        CC1 = (<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a>)(((<span class="keywordtype">int</span>)CCCode &amp; 0x7) | 0x10);</div>
<div class="line"><a name="l10489"></a><span class="lineno">10489</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10490"></a><span class="lineno">10490</span>&#160;      }</div>
<div class="line"><a name="l10491"></a><span class="lineno">10491</span>&#160;      <span class="comment">// Fallthrough if we are unsigned integer.</span></div>
<div class="line"><a name="l10492"></a><span class="lineno">10492</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l10493"></a><span class="lineno">10493</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>:</div>
<div class="line"><a name="l10494"></a><span class="lineno">10494</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>:</div>
<div class="line"><a name="l10495"></a><span class="lineno">10495</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a>:</div>
<div class="line"><a name="l10496"></a><span class="lineno">10496</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>:</div>
<div class="line"><a name="l10497"></a><span class="lineno">10497</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>:</div>
<div class="line"><a name="l10498"></a><span class="lineno">10498</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>:</div>
<div class="line"><a name="l10499"></a><span class="lineno">10499</span>&#160;      <span class="comment">// If all combinations of inverting the condition and swapping operands</span></div>
<div class="line"><a name="l10500"></a><span class="lineno">10500</span>&#160;      <span class="comment">// didn&#39;t work then we have no means to expand the condition.</span></div>
<div class="line"><a name="l10501"></a><span class="lineno">10501</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Don&#39;t know how to expand this condition!&quot;</span>);</div>
<div class="line"><a name="l10502"></a><span class="lineno">10502</span>&#160;    }</div>
<div class="line"><a name="l10503"></a><span class="lineno">10503</span>&#160; </div>
<div class="line"><a name="l10504"></a><span class="lineno">10504</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SetCC1, SetCC2;</div>
<div class="line"><a name="l10505"></a><span class="lineno">10505</span>&#160;    <span class="keywordflow">if</span> (CCCode != <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">ISD::SETO</a> &amp;&amp; CCCode != <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::SETUO</a>) {</div>
<div class="line"><a name="l10506"></a><span class="lineno">10506</span>&#160;      <span class="comment">// If we aren&#39;t the ordered or unorder operation,</span></div>
<div class="line"><a name="l10507"></a><span class="lineno">10507</span>&#160;      <span class="comment">// then the pattern is (LHS CC1 RHS) Opc (LHS CC2 RHS).</span></div>
<div class="line"><a name="l10508"></a><span class="lineno">10508</span>&#160;      <span class="keywordflow">if</span> (IsNonVP) {</div>
<div class="line"><a name="l10509"></a><span class="lineno">10509</span>&#160;        SetCC1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CC1, Chain, IsSignaling);</div>
<div class="line"><a name="l10510"></a><span class="lineno">10510</span>&#160;        SetCC2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CC2, Chain, IsSignaling);</div>
<div class="line"><a name="l10511"></a><span class="lineno">10511</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10512"></a><span class="lineno">10512</span>&#160;        SetCC1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae7fae5bf8527120e641b45702df06d45">getSetCCVP</a>(dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CC1, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l10513"></a><span class="lineno">10513</span>&#160;        SetCC2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae7fae5bf8527120e641b45702df06d45">getSetCCVP</a>(dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CC2, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l10514"></a><span class="lineno">10514</span>&#160;      }</div>
<div class="line"><a name="l10515"></a><span class="lineno">10515</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10516"></a><span class="lineno">10516</span>&#160;      <span class="comment">// Otherwise, the pattern is (LHS CC1 LHS) Opc (RHS CC2 RHS)</span></div>
<div class="line"><a name="l10517"></a><span class="lineno">10517</span>&#160;      <span class="keywordflow">if</span> (IsNonVP) {</div>
<div class="line"><a name="l10518"></a><span class="lineno">10518</span>&#160;        SetCC1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, CC1, Chain, IsSignaling);</div>
<div class="line"><a name="l10519"></a><span class="lineno">10519</span>&#160;        SetCC2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">getSetCC</a>(dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CC2, Chain, IsSignaling);</div>
<div class="line"><a name="l10520"></a><span class="lineno">10520</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10521"></a><span class="lineno">10521</span>&#160;        SetCC1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae7fae5bf8527120e641b45702df06d45">getSetCCVP</a>(dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, CC1, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l10522"></a><span class="lineno">10522</span>&#160;        SetCC2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae7fae5bf8527120e641b45702df06d45">getSetCCVP</a>(dl, VT, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CC2, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l10523"></a><span class="lineno">10523</span>&#160;      }</div>
<div class="line"><a name="l10524"></a><span class="lineno">10524</span>&#160;    }</div>
<div class="line"><a name="l10525"></a><span class="lineno">10525</span>&#160;    <span class="keywordflow">if</span> (Chain)</div>
<div class="line"><a name="l10526"></a><span class="lineno">10526</span>&#160;      Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, SetCC1.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1),</div>
<div class="line"><a name="l10527"></a><span class="lineno">10527</span>&#160;                          SetCC2.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1));</div>
<div class="line"><a name="l10528"></a><span class="lineno">10528</span>&#160;    <span class="keywordflow">if</span> (IsNonVP)</div>
<div class="line"><a name="l10529"></a><span class="lineno">10529</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opc, dl, VT, SetCC1, SetCC2);</div>
<div class="line"><a name="l10530"></a><span class="lineno">10530</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10531"></a><span class="lineno">10531</span>&#160;      <span class="comment">// Transform the binary opcode to the VP equivalent.</span></div>
<div class="line"><a name="l10532"></a><span class="lineno">10532</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> || Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>) &amp;&amp; <span class="stringliteral">&quot;Unexpected opcode&quot;</span>);</div>
<div class="line"><a name="l10533"></a><span class="lineno">10533</span>&#160;      Opc = Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> ? ISD::VP_OR : ISD::VP_AND;</div>
<div class="line"><a name="l10534"></a><span class="lineno">10534</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opc, dl, VT, SetCC1, SetCC2, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, EVL);</div>
<div class="line"><a name="l10535"></a><span class="lineno">10535</span>&#160;    }</div>
<div class="line"><a name="l10536"></a><span class="lineno">10536</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l10537"></a><span class="lineno">10537</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l10538"></a><span class="lineno">10538</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10539"></a><span class="lineno">10539</span>&#160;  }</div>
<div class="line"><a name="l10540"></a><span class="lineno">10540</span>&#160;  }</div>
<div class="line"><a name="l10541"></a><span class="lineno">10541</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10542"></a><span class="lineno">10542</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">llvm::ISD::SUB</a></div><div class="ttdeci">@ SUB</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00240">ISDOpcodes.h:240</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a6b71455962e4ef36ac855018496368c4"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a6b71455962e4ef36ac855018496368c4">llvm::TargetLoweringBase::shouldExtendTypeInLibCall</a></div><div class="ttdeci">virtual bool shouldExtendTypeInLibCall(EVT Type) const</div><div class="ttdoc">Returns true if arguments should be extended in lib calls.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02114">TargetLowering.h:2114</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a55f8cc1b1837a33a225a76116fae2bf7"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a55f8cc1b1837a33a225a76116fae2bf7">llvm::TargetLoweringBase::ArgListEntry::IndirectType</a></div><div class="ttdeci">Type * IndirectType</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00313">TargetLowering.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aaaed395b080f8b47a0775847997f5040"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aaaed395b080f8b47a0775847997f5040">llvm::TargetLowering::isConstFalseVal</a></div><div class="ttdeci">bool isConstFalseVal(SDValue N) const</div><div class="ttdoc">Return if the N is a constant or constant vector equal to the false value from getBooleanContents().</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03678">TargetLowering.cpp:3678</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a3e014fd645491da79c3ccabd345c2709"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a3e014fd645491da79c3ccabd345c2709">llvm::SelectionDAG::getGLOBAL_OFFSET_TABLE</a></div><div class="ttdeci">SDValue getGLOBAL_OFFSET_TABLE(EVT VT)</div><div class="ttdoc">Return a GLOBAL_OFFSET_TABLE node. This does not have a useful SDLoc.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01070">SelectionDAG.h:1070</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aa8b94f8e9d7cd31e49c932250de8bf0e"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aa8b94f8e9d7cd31e49c932250de8bf0e">llvm::TargetLowering::SimplifyDemandedBitsForTargetNode</a></div><div class="ttdeci">virtual bool SimplifyDemandedBitsForTargetNode(SDValue Op, const APInt &amp;DemandedBits, const APInt &amp;DemandedElts, KnownBits &amp;Known, TargetLoweringOpt &amp;TLO, unsigned Depth=0) const</div><div class="ttdoc">Attempt to simplify any target nodes based on the demanded bits/elts, returning true on success.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03545">TargetLowering.cpp:3545</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ad4f8f1aca0bb01f65be1d7dee43f7f83"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ad4f8f1aca0bb01f65be1d7dee43f7f83">llvm::TargetRegisterInfo::getRegAsmName</a></div><div class="ttdeci">virtual StringRef getRegAsmName(MCRegister Reg) const</div><div class="ttdoc">Return the assembly name for Reg.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l01058">TargetRegisterInfo.h:1058</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aa17c104fbda554c818cf87e53f32f20a"><div class="ttname"><a href="classllvm_1_1APInt.html#aa17c104fbda554c818cf87e53f32f20a">llvm::APInt::isStrictlyPositive</a></div><div class="ttdeci">bool isStrictlyPositive() const</div><div class="ttdoc">Determine if this APInt Value is positive.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00339">APInt.h:339</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a4d1c9028cc02b58ce040aa83456c9129"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a4d1c9028cc02b58ce040aa83456c9129">llvm::KnownBits::concat</a></div><div class="ttdeci">KnownBits concat(const KnownBits &amp;Lo) const</div><div class="ttdoc">Concatenate the bits from Lo onto the bottom of *this.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00224">KnownBits.h:224</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">llvm::ISD::SETUGE</a></div><div class="ttdeci">@ SETUGE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01447">ISDOpcodes.h:1447</a></div></div>
<div class="ttc" id="astructllvm_1_1InlineAsm_1_1ConstraintInfo_html_a45ceac563ee359193e4d45e3bafeeb64"><div class="ttname"><a href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45ceac563ee359193e4d45e3bafeeb64">llvm::InlineAsm::ConstraintInfo::MatchingInput</a></div><div class="ttdeci">int MatchingInput</div><div class="ttdoc">MatchingInput - If this is not -1, this is an output constraint where an input constraint is required...</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00135">InlineAsm.h:135</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ac6661654e5ce1b32651508eec50b6d58"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ac6661654e5ce1b32651508eec50b6d58">llvm::KnownBits::anyext</a></div><div class="ttdeci">KnownBits anyext(unsigned BitWidth) const</div><div class="ttdoc">Return known bits for an &quot;any&quot; extension of the value we're tracking, where we don't know anything ab...</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00158">KnownBits.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a7b8b4253b618610eb5cb497b4104ebc3"><div class="ttname"><a href="classllvm_1_1APInt.html#a7b8b4253b618610eb5cb497b4104ebc3">llvm::APInt::reverseBits</a></div><div class="ttdeci">APInt reverseBits() const</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00729">APInt.cpp:729</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aa58ff0adf7c1110a878f5a98abd087ba"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aa58ff0adf7c1110a878f5a98abd087ba">llvm::TargetLowering::scalarizeVectorLoad</a></div><div class="ttdeci">std::pair&lt; SDValue, SDValue &gt; scalarizeVectorLoad(LoadSDNode *LD, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Turn load of vector type into a load of the individual elements.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08880">TargetLowering.cpp:8880</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ada7446963e28dafe99e2fcf693f4407a"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ada7446963e28dafe99e2fcf693f4407a">llvm::TargetLowering::expandFMINNUM_FMAXNUM</a></div><div class="ttdeci">SDValue expandFMINNUM_FMAXNUM(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand fminnum/fmaxnum into fminnum_ieee/fmaxnum_ieee with quieted inputs.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07956">TargetLowering.cpp:7956</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html">llvm::ConstantSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01586">SelectionDAGNodes.h:1586</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ab6fff8a97bcb55e50e9be0ecf0c99b63"><div class="ttname"><a href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">llvm::APInt::setAllBits</a></div><div class="ttdeci">void setAllBits()</div><div class="ttdoc">Set every bit to 1.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01297">APInt.h:1297</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a2fdb5c9abf8403d4dbf0d8ae59d89916"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a2fdb5c9abf8403d4dbf0d8ae59d89916">llvm::ISD::getExtForLoadExtType</a></div><div class="ttdeci">NodeType getExtForLoadExtType(bool IsFP, LoadExtType)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00544">SelectionDAG.cpp:544</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a8ad67a33bae235fe3cca1c3e5a91ed2d"><div class="ttname"><a href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">llvm::Type::isSized</a></div><div class="ttdeci">bool isSized(SmallPtrSetImpl&lt; Type * &gt; *Visited=nullptr) const</div><div class="ttdoc">Return true if it makes sense to take the size of this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00295">Type.h:295</a></div></div>
<div class="ttc" id="anamespacellvm_html_abb4484ddcdad2576d97870230db05ed8"><div class="ttname"><a href="namespacellvm.html#abb4484ddcdad2576d97870230db05ed8">llvm::isConstOrConstSplat</a></div><div class="ttdeci">ConstantSDNode * isConstOrConstSplat(SDValue N, bool AllowUndefs=false, bool AllowTruncation=false)</div><div class="ttdoc">Returns the SDNode if it is a constant splat BuildVector or constant int.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l11031">SelectionDAG.cpp:11031</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a781bd5c20864a9c185018258af774ace"><div class="ttname"><a href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">llvm::APInt::clearAllBits</a></div><div class="ttdeci">void clearAllBits()</div><div class="ttdoc">Set every bit to 0.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01375">APInt.h:1375</a></div></div>
<div class="ttc" id="astructllvm_1_1APFloatBase_html_aee544c332088dbef348a0c1c97e21a6a"><div class="ttname"><a href="structllvm_1_1APFloatBase.html#aee544c332088dbef348a0c1c97e21a6a">llvm::APFloatBase::opStatus</a></div><div class="ttdeci">opStatus</div><div class="ttdoc">IEEE-754R 7: Default exception handling.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00233">APFloat.h:233</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">llvm::ISD::VECTOR_SHUFFLE</a></div><div class="ttdeci">@ VECTOR_SHUFFLE</div><div class="ttdoc">VECTOR_SHUFFLE(VEC1, VEC2) - Returns a vector, of the same type as VEC1/VEC2.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00586">ISDOpcodes.h:586</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_ad717707a2df4226d0388460e87c8cd84ae9bb5320b3890b6747c91b5a71ae5a01"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84ae9bb5320b3890b6747c91b5a71ae5a01">llvm::TargetLoweringBase::NegatibleCost::Neutral</a></div><div class="ttdeci">@ Neutral</div></div>
<div class="ttc" id="aNVPTXISelLowering_8cpp_html_ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246"><div class="ttname"><a href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a></div><div class="ttdeci">@ Signed</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8cpp_source.html#l04884">NVPTXISelLowering.cpp:4884</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_aae86ddfa346964171caa61f29d46294b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#aae86ddfa346964171caa61f29d46294b">llvm::ISD::isSignedIntSetCC</a></div><div class="ttdeci">bool isSignedIntSetCC(CondCode Code)</div><div class="ttdoc">Return true if this is a setcc instruction that performs a signed comparison when used with integer o...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01467">ISDOpcodes.h:1467</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">llvm::ISD::SETLE</a></div><div class="ttdeci">@ SETLE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01458">ISDOpcodes.h:1458</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">llvm::ISD::INTRINSIC_VOID</a></div><div class="ttdeci">@ INTRINSIC_VOID</div><div class="ttdoc">OUTCHAIN = INTRINSIC_VOID(INCHAIN, INTRINSICID, arg1, arg2, ...) This node represents a target intrin...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00199">ISDOpcodes.h:199</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_a728be1611c0d0c8b36e3d4e8150da932"><div class="ttname"><a href="TargetLowering_8cpp.html#a728be1611c0d0c8b36e3d4e8150da932">ChooseConstraint</a></div><div class="ttdeci">static void ChooseConstraint(TargetLowering::AsmOperandInfo &amp;OpInfo, const TargetLowering &amp;TLI, SDValue Op, SelectionDAG *DAG)</div><div class="ttdoc">If there are multiple different constraints that we could pick for this operand (e....</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05669">TargetLowering.cpp:5669</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">llvm::ISD::SETO</a></div><div class="ttdeci">@ SETO</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01443">ISDOpcodes.h:1443</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a9db118513388c635dee4a573de902842"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a9db118513388c635dee4a573de902842">fcQNan</a></div><div class="ttdeci">@ fcQNan</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00201">FloatingPointMode.h:201</a></div></div>
<div class="ttc" id="anamespacellvm_html_a516614c2855a763aa9eef67c6da888e0"><div class="ttname"><a href="namespacellvm.html#a516614c2855a763aa9eef67c6da888e0">llvm::isConstOrConstSplatFP</a></div><div class="ttdeci">ConstantFPSDNode * isConstOrConstSplatFP(SDValue N, bool AllowUndefs=false)</div><div class="ttdoc">Returns the SDNode if it is a constant splat BuildVector or constant float.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l11077">SelectionDAG.cpp:11077</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7800622851751b8ae318b41f4096830e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7800622851751b8ae318b41f4096830e">llvm::ISD::UMULO</a></div><div class="ttdeci">@ UMULO</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00332">ISDOpcodes.h:332</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="aR600ClauseMergePass_8cpp_html_aba99928790de45fa7aa12b47fbd828ff"><div class="ttname"><a href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a></div><div class="ttdeci">R600 Clause Merge</div><div class="ttdef"><b>Definition:</b> <a href="R600ClauseMergePass_8cpp_source.html#l00070">R600ClauseMergePass.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_aa16cc12d20b929bf7b1f27820ecb5199"><div class="ttname"><a href="classllvm_1_1Module.html#aa16cc12d20b929bf7b1f27820ecb5199">llvm::Module::getNamedGlobal</a></div><div class="ttdeci">const GlobalVariable * getNamedGlobal(StringRef Name) const</div><div class="ttdoc">Return the global variable in the module with the specified name, of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00429">Module.h:429</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html_af9b0580a6e16e16bd3379f73e92a616d"><div class="ttname"><a href="classllvm_1_1LLVMContext.html#af9b0580a6e16e16bd3379f73e92a616d">llvm::LLVMContext::emitError</a></div><div class="ttdeci">void emitError(uint64_t LocCookie, const Twine &amp;ErrorStr)</div><div class="ttdoc">emitError - Emit an error message to the currently installed error handler with optional location inf...</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8cpp_source.html#l00271">LLVMContext.cpp:271</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html">llvm::TargetLoweringBase</a></div><div class="ttdoc">This base class for TargetLowering contains the SelectionDAG-independent parts that can be used from ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00192">TargetLowering.h:192</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aabe301a4f18d38478700ad44ba2245bc"><div class="ttname"><a href="classllvm_1_1APInt.html#aabe301a4f18d38478700ad44ba2245bc">llvm::APInt::insertBits</a></div><div class="ttdeci">void insertBits(const APInt &amp;SubBits, unsigned bitPosition)</div><div class="ttdoc">Insert the bits from a smaller APInt starting at bitPosition.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00359">APInt.cpp:359</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a0d6b509080e384efa570bbb54754bbd2"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a0d6b509080e384efa570bbb54754bbd2">llvm::TargetLoweringBase::isShuffleMaskLegal</a></div><div class="ttdeci">virtual bool isShuffleMaskLegal(ArrayRef&lt; int &gt;, EVT) const</div><div class="ttdoc">Targets can use this to indicate that they only support some VECTOR_SHUFFLE operations,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01093">TargetLowering.h:1093</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a15f028bddbf4fabbf0b8b4d1570e2b90"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a15f028bddbf4fabbf0b8b4d1570e2b90">llvm::SelectionDAG::getValidMaximumShiftAmountConstant</a></div><div class="ttdeci">const APInt * getValidMaximumShiftAmountConstant(SDValue V, const APInt &amp;DemandedElts) const</div><div class="ttdoc">If a SHL/SRA/SRL node V has constant shift amounts that are all less than the element bit-width of th...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02926">SelectionDAG.cpp:2926</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ac39c56aa177d8ff22fcffe90bd43ca8a"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ac39c56aa177d8ff22fcffe90bd43ca8a">llvm::TargetLowering::isExtendedTrueVal</a></div><div class="ttdeci">bool isExtendedTrueVal(const ConstantSDNode *N, EVT VT, bool SExt) const</div><div class="ttdoc">Return if N is a True value when extended to VT.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03702">TargetLowering.cpp:3702</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a0f0a665210e453bb16b4bf1861dbdd58"><div class="ttname"><a href="classllvm_1_1APInt.html#a0f0a665210e453bb16b4bf1861dbdd58">llvm::APInt::udivrem</a></div><div class="ttdeci">static void udivrem(const APInt &amp;LHS, const APInt &amp;RHS, APInt &amp;Quotient, APInt &amp;Remainder)</div><div class="ttdoc">Dual division/remainder interface.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01756">APInt.cpp:1756</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aad4749fd44e2f7c1b8908f6d5e8a9d1f"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aad4749fd44e2f7c1b8908f6d5e8a9d1f">llvm::TargetLoweringBase::hasAndNotCompare</a></div><div class="ttdeci">virtual bool hasAndNotCompare(SDValue Y) const</div><div class="ttdoc">Return true if the target should transform: (X &amp; Y) == Y —&gt; (~X &amp; Y) == 0 (X &amp; Y) !...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00705">TargetLowering.h:705</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_ac0a534d63ac5c5b87f36acdade953fbe"><div class="ttname"><a href="classllvm_1_1SDNode.html#ac0a534d63ac5c5b87f36acdade953fbe">llvm::SDNode::getValueType</a></div><div class="ttdeci">EVT getValueType(unsigned ResNo) const</div><div class="ttdoc">Return the type of a specified result.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00986">SelectionDAGNodes.h:986</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aaa536ba062854f0951a19b7457665c96"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aaa536ba062854f0951a19b7457665c96">llvm::TargetLowering::isDesirableToCommuteXorWithShift</a></div><div class="ttdeci">virtual bool isDesirableToCommuteXorWithShift(const SDNode *N) const</div><div class="ttdoc">Return true if it is profitable to combine an XOR of a logical shift to create a logical shift of NOT...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04040">TargetLowering.h:4040</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">llvm::RecurKind::Or</a></div><div class="ttdeci">@ Or</div><div class="ttdoc">Bitwise or logical OR of integers.</div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ace0bd40e4bee1851ebebb276178d65fc"><div class="ttname"><a href="classllvm_1_1APInt.html#ace0bd40e4bee1851ebebb276178d65fc">llvm::APInt::byteSwap</a></div><div class="ttdeci">APInt byteSwap() const</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00707">APInt.cpp:707</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDLoc_html"><div class="ttname"><a href="classllvm_1_1SDLoc.html">llvm::SDLoc</a></div><div class="ttdoc">Wrapper class for IR location info (IR ordering and DebugLoc) to be passed into SDNode creation funct...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01106">SelectionDAGNodes.h:1106</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a12b8712b6c436a8152a5fa996cd8956aad7ff2d7a7c03a214dda559fac717cd99"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a12b8712b6c436a8152a5fa996cd8956aad7ff2d7a7c03a214dda559fac717cd99">llvm::TargetLoweringBase::Legal</a></div><div class="ttdeci">@ Legal</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00197">TargetLowering.h:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">llvm::ISD::OR</a></div><div class="ttdeci">@ OR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00667">ISDOpcodes.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a437cf7bc875369cbe0ea62f949626f0b"><div class="ttname"><a href="classllvm_1_1MVT.html#a437cf7bc875369cbe0ea62f949626f0b">llvm::MVT::isInteger</a></div><div class="ttdeci">bool isInteger() const</div><div class="ttdoc">Return true if this is an integer or a vector integer type.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00376">MachineValueType.h:376</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dxil_html_af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b"><div class="ttname"><a href="namespacellvm_1_1dxil.html#af048a5a215837b0272b22d5e7a0bc04aaa18c217c4f2a811afcaaf5052945e31b">llvm::dxil::ParameterKind::I1</a></div><div class="ttdeci">@ I1</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3a402430a1bbe70a9282dcb0e0b6a2cd"><div class="ttname"><a href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">llvm::Value::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const</div><div class="ttdoc">Return true if there is exactly one use of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00434">Value.h:434</a></div></div>
<div class="ttc" id="anamespacellvm_html_a655e5addab0e71ac5b9efd0eb32442d9"><div class="ttname"><a href="namespacellvm.html#a655e5addab0e71ac5b9efd0eb32442d9">llvm::getInvertedFPClassTest</a></div><div class="ttdeci">unsigned getInvertedFPClassTest(unsigned Test)</div><div class="ttdoc">Evaluates if the specified FP class test is an inversion of a simpler test.</div><div class="ttdef"><b>Definition:</b> <a href="CodeGenCommonISel_8cpp_source.html#l00176">CodeGenCommonISel.cpp:176</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">llvm::ISD::SETGT</a></div><div class="ttdeci">@ SETGT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01455">ISDOpcodes.h:1455</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">llvm::ISD::BITCAST</a></div><div class="ttdeci">@ BITCAST</div><div class="ttdoc">BITCAST - This operator converts between integer, vector and FP values, as if the value was stored to...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00885">ISDOpcodes.h:885</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00293">Type.cpp:293</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">llvm::ISD::SETNE</a></div><div class="ttdeci">@ SETNE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01459">ISDOpcodes.h:1459</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a40a666d8a3b58f5eca5d7f9f26796bc7"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a40a666d8a3b58f5eca5d7f9f26796bc7">llvm::KnownBits::trunc</a></div><div class="ttdeci">KnownBits trunc(unsigned BitWidth) const</div><div class="ttdoc">Return known bits for a truncation of the value we're tracking.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00152">KnownBits.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a9609e4232b2d3ff707a9225ea295420d"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a9609e4232b2d3ff707a9225ea295420d">llvm::TargetLowering::getSingleConstraintMatchWeight</a></div><div class="ttdeci">virtual ConstraintWeight getSingleConstraintMatchWeight(AsmOperandInfo &amp;info, const char *constraint) const</div><div class="ttdoc">Examine constraint string and operand type and determine a weight value.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05604">TargetLowering.cpp:5604</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0229015cd9266cde771a2748ed84758d"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0229015cd9266cde771a2748ed84758d">llvm::TargetLowering::expandAddSubSat</a></div><div class="ttdeci">SDValue expandAddSubSat(SDNode *Node, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Method for building the DAG expansion of ISD::[US][ADD|SUB]SAT.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09543">TargetLowering.cpp:9543</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116">llvm::TargetLowering::ConstraintType</a></div><div class="ttdeci">ConstraintType</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04620">TargetLowering.h:4620</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a8ab55d055af84ce8d884844d5171198e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a8ab55d055af84ce8d884844d5171198e">llvm::SelectionDAG::getSplatVector</a></div><div class="ttdeci">SDValue getSplatVector(EVT VT, const SDLoc &amp;DL, SDValue Op)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00858">SelectionDAG.h:858</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a77f7add8733417370a56154e8b560617"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a77f7add8733417370a56154e8b560617">llvm::TargetLoweringBase::getTypeToTransformTo</a></div><div class="ttdeci">virtual EVT getTypeToTransformTo(LLVMContext &amp;Context, EVT VT) const</div><div class="ttdoc">For types supported by the target, this is an identity function.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01005">TargetLowering.h:1005</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a3d102abca1c9c95f36546dff2f39273b"><div class="ttname"><a href="structllvm_1_1EVT.html#a3d102abca1c9c95f36546dff2f39273b">llvm::EVT::getVectorElementCount</a></div><div class="ttdeci">ElementCount getVectorElementCount() const</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00322">ValueTypes.h:322</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a538f22b4ea2ff04a0b41403f26eaeb67"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a538f22b4ea2ff04a0b41403f26eaeb67">llvm::KnownBits::resetAll</a></div><div class="ttdeci">void resetAll()</div><div class="ttdoc">Resets the known state of all bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00066">KnownBits.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html_a8913b35cb4401e4e849fa244c7c279d1"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#a8913b35cb4401e4e849fa244c7c279d1">llvm::ConstantSDNode::getAPIntValue</a></div><div class="ttdeci">const APInt &amp; getAPIntValue() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01600">SelectionDAGNodes.h:1600</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a1d747845f1b76415136d5713cdfa828f"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a1d747845f1b76415136d5713cdfa828f">llvm::TargetLowering::CallLoweringInfo::setChain</a></div><div class="ttdeci">CallLoweringInfo &amp; setChain(SDValue InChain)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04243">TargetLowering.h:4243</a></div></div>
<div class="ttc" id="aDivisionByConstantInfo_8h_html"><div class="ttname"><a href="DivisionByConstantInfo_8h.html">DivisionByConstantInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_aadec518817d351d77d1badd66cf96fc3"><div class="ttname"><a href="classllvm_1_1SDValue.html#aadec518817d351d77d1badd66cf96fc3">llvm::SDValue::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdoc">Return true if there are no nodes using value ResNo of Node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01181">SelectionDAGNodes.h:1181</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">llvm::ISD::NON_EXTLOAD</a></div><div class="ttdeci">@ NON_EXTLOAD</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01414">ISDOpcodes.h:1414</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetOptions_html"><div class="ttname"><a href="classllvm_1_1TargetOptions.html">llvm::TargetOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00124">TargetOptions.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1ElementCount_html"><div class="ttname"><a href="classllvm_1_1ElementCount.html">llvm::ElementCount</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00279">TypeSize.h:279</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213">llvm::ISD::FMINNUM</a></div><div class="ttdeci">@ FMINNUM</div><div class="ttdoc">FMINNUM/FMAXNUM - Perform floating-point minimum or maximum on two values.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00942">ISDOpcodes.h:942</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aff813db965c76a7e0f64c426cded6534"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aff813db965c76a7e0f64c426cded6534">llvm::TargetLoweringBase::MulExpansionKind</a></div><div class="ttdeci">MulExpansionKind</div><div class="ttdoc">Enum that specifies when a multiplication should be expanded.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00272">TargetLowering.h:272</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5c5ebc516cae422508ee0c062ef6b593"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5c5ebc516cae422508ee0c062ef6b593">llvm::ISD::UDIVFIXSAT</a></div><div class="ttdeci">@ UDIVFIXSAT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00387">ISDOpcodes.h:387</a></div></div>
<div class="ttc" id="aclassllvm_1_1GISelKnownBits_html"><div class="ttname"><a href="classllvm_1_1GISelKnownBits.html">llvm::GISelKnownBits</a></div><div class="ttdef"><b>Definition:</b> <a href="GISelKnownBits_8h_source.html#l00029">GISelKnownBits.h:29</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a92f7a0e4dfe860ff938d463d84270ba3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92f7a0e4dfe860ff938d463d84270ba3">llvm::ISD::STRICT_FMAXNUM</a></div><div class="ttdeci">@ STRICT_FMAXNUM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00423">ISDOpcodes.h:423</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a7712dd4392b7eb944b709ac8442634d9"><div class="ttname"><a href="structllvm_1_1EVT.html#a7712dd4392b7eb944b709ac8442634d9">llvm::EVT::getFixedSizeInBits</a></div><div class="ttdeci">uint64_t getFixedSizeInBits() const</div><div class="ttdoc">Return the size of the specified fixed width value type in bits.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00348">ValueTypes.h:348</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aa1e23426caed5f96a3f807b39f4c1b14"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aa1e23426caed5f96a3f807b39f4c1b14">llvm::TargetLowering::buildLegalVectorShuffle</a></div><div class="ttdeci">SDValue buildLegalVectorShuffle(EVT VT, const SDLoc &amp;DL, SDValue N0, SDValue N1, MutableArrayRef&lt; int &gt; Mask, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Tries to build a legal vector shuffle using the provided parameters or equivalent variations.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03572">TargetLowering.cpp:3572</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a497ebfc1d05b772bf14cd530c950cf80"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a497ebfc1d05b772bf14cd530c950cf80">llvm::MVT::ppcf128</a></div><div class="ttdeci">@ ppcf128</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00061">MachineValueType.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a85eb2b7ee5e85704da2b36df39830417"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a85eb2b7ee5e85704da2b36df39830417">llvm::TargetLoweringBase::ArgListEntry::IsZExt</a></div><div class="ttdeci">bool IsZExt</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00299">TargetLowering.h:299</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a61d67d9dc208e6d887cbc979797d5a22"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a61d67d9dc208e6d887cbc979797d5a22">llvm::TargetLowering::expandVecReduce</a></div><div class="ttdeci">SDValue expandVecReduce(SDNode *Node, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand a VECREDUCE_* into an explicit calculation.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l10122">TargetLowering.cpp:10122</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a10d54e1c6c9563724ce01d3a999757b2"><div class="ttname"><a href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">llvm::SDValue::getNode</a></div><div class="ttdeci">SDNode * getNode() const</div><div class="ttdoc">get the SDNode which holds the desired result</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00159">SelectionDAGNodes.h:159</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac926ae0b6871c2207db3e787f6dbcb80"><div class="ttname"><a href="namespacellvm.html#ac926ae0b6871c2207db3e787f6dbcb80">llvm::isOneConstant</a></div><div class="ttdeci">bool isOneConstant(SDValue V)</div><div class="ttdoc">Returns true if V is a constant integer one.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10932">SelectionDAG.cpp:10932</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_acb95d5d8e87df053e1b53e2ec60de4b6"><div class="ttname"><a href="classllvm_1_1APInt.html#acb95d5d8e87df053e1b53e2ec60de4b6">llvm::APInt::setBits</a></div><div class="ttdeci">void setBits(unsigned loBit, unsigned hiBit)</div><div class="ttdoc">Set the bits from loBit (inclusive) to hiBit (exclusive) to 1.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01345">APInt.h:1345</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCContext_html"><div class="ttname"><a href="classllvm_1_1MCContext.html">llvm::MCContext</a></div><div class="ttdoc">Context object for machine code objects.</div><div class="ttdef"><b>Definition:</b> <a href="MCContext_8h_source.html#l00076">MCContext.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">llvm::ISD::ConstantFP</a></div><div class="ttdeci">@ ConstantFP</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00077">ISDOpcodes.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">llvm::ISD::CONCAT_VECTORS</a></div><div class="ttdeci">@ CONCAT_VECTORS</div><div class="ttdoc">CONCAT_VECTORS(VECTOR0, VECTOR1, ...) - Given a number of values of vector type with the same length ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00542">ISDOpcodes.h:542</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1TargetLoweringOpt_html_aa945b77fd77cdc5cf80e7b7f6ae78a98"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aa945b77fd77cdc5cf80e7b7f6ae78a98">llvm::TargetLowering::TargetLoweringOpt::LegalOps</a></div><div class="ttdeci">bool LegalOps</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03657">TargetLowering.h:3657</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aca14d9ec64ba4ab7fb2cef37c57d9ce4"><div class="ttname"><a href="classllvm_1_1APInt.html#aca14d9ec64ba4ab7fb2cef37c57d9ce4">llvm::APInt::ule</a></div><div class="ttdeci">bool ule(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned less or equal comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01128">APInt.h:1128</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a59078941da3e0dedf257050df111a8d1"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a59078941da3e0dedf257050df111a8d1">llvm::TargetLoweringBase::isLegalRC</a></div><div class="ttdeci">bool isLegalRC(const TargetRegisterInfo &amp;TRI, const TargetRegisterClass &amp;RC) const</div><div class="ttdoc">Return true if the value types that can be represented by the specified register class are all legal.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l01154">TargetLoweringBase.cpp:1154</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a8c5e243fcdaefa1d19ac0ba7f15c4591"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a8c5e243fcdaefa1d19ac0ba7f15c4591">llvm::TargetLowering::CTTZTableLookup</a></div><div class="ttdeci">SDValue CTTZTableLookup(SDNode *N, SelectionDAG &amp;DAG, const SDLoc &amp;DL, EVT VT, SDValue Op, unsigned NumBitsPerElt) const</div><div class="ttdoc">Expand CTTZ via Table Lookup.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08450">TargetLowering.cpp:8450</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ac87f70f51bc37bde7e6bbd8b1d84726e"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ac87f70f51bc37bde7e6bbd8b1d84726e">llvm::TargetLowering::expandVPCTPOP</a></div><div class="ttdeci">SDValue expandVPCTPOP(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand VP_CTPOP nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08316">TargetLowering.cpp:8316</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">llvm::ISD::BSWAP</a></div><div class="ttdeci">@ BSWAP</div><div class="ttdoc">Byte Swap and Counting operators.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00700">ISDOpcodes.h:700</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a6057564ee6302f901f383e5811fb0ec0"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a6057564ee6302f901f383e5811fb0ec0">llvm::TargetLoweringBase::ArgListEntry::Alignment</a></div><div class="ttdeci">MaybeAlign Alignment</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00312">TargetLowering.h:312</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">llvm::ISD::UDIV</a></div><div class="ttdeci">@ UDIV</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00243">ISDOpcodes.h:243</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a98f18e85e4e6421f5c859680602a4c1f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a98f18e85e4e6421f5c859680602a4c1f">llvm::ISD::STRICT_FMINNUM</a></div><div class="ttdeci">@ STRICT_FMINNUM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00424">ISDOpcodes.h:424</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9">llvm::ISD::UADDO</a></div><div class="ttdeci">@ UADDO</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00324">ISDOpcodes.h:324</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a586cbcab7599db1f50f3b6759115179b"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586cbcab7599db1f50f3b6759115179b">llvm::MVT::i128</a></div><div class="ttdeci">@ i128</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00050">MachineValueType.h:50</a></div></div>
<div class="ttc" id="astructllvm_1_1InlineAsm_1_1ConstraintInfo_html_acbf697bfd59727faf13eeb80fdf90d79"><div class="ttname"><a href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#acbf697bfd59727faf13eeb80fdf90d79">llvm::InlineAsm::ConstraintInfo::isIndirect</a></div><div class="ttdeci">bool isIndirect</div><div class="ttdoc">isIndirect - True if this operand is an indirect operand.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00149">InlineAsm.h:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a9188f84e1dd67530330dcab9cae787d7"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">llvm::details::FixedOrScalableQuantity::isScalable</a></div><div class="ttdeci">constexpr bool isScalable() const</div><div class="ttdoc">Returns whether the quantity is scaled by a runtime quantity (vscale).</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00166">TypeSize.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">llvm::ISD::CTTZ_ZERO_UNDEF</a></div><div class="ttdeci">@ CTTZ_ZERO_UNDEF</div><div class="ttdoc">Bit counting operators with an undefined result for zero inputs.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00708">ISDOpcodes.h:708</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_a8b1a64bd0c1be7a99998055c78d1312b"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#a8b1a64bd0c1be7a99998055c78d1312b">llvm::MachinePointerInfo::getConstantPool</a></div><div class="ttdeci">static MachinePointerInfo getConstantPool(MachineFunction &amp;MF)</div><div class="ttdoc">Return a MachinePointerInfo record that refers to the constant pool.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l01043">MachineOperand.cpp:1043</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a183745ce185b10bf02c4de08104e3589"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a183745ce185b10bf02c4de08104e3589">llvm::TargetLowering::computeKnownBitsForFrameIndex</a></div><div class="ttdeci">virtual void computeKnownBitsForFrameIndex(int FIOp, KnownBits &amp;Known, const MachineFunction &amp;MF) const</div><div class="ttdoc">Determine which of the bits of FrameIndex FIOp are known to be 0.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03500">TargetLowering.cpp:3500</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ad1b0513de876d1c85cf6268ca21b2c86"><div class="ttname"><a href="classllvm_1_1APInt.html#ad1b0513de876d1c85cf6268ca21b2c86">llvm::APInt::isPowerOf2</a></div><div class="ttdeci">bool isPowerOf2() const</div><div class="ttdoc">Check if this APInt's value is a power of two greater than zero.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00432">APInt.h:432</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">llvm::ARM_MB::LD</a></div><div class="ttdeci">@ LD</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00072">ARMBaseInfo.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">llvm::ISD::ADDC</a></div><div class="ttdeci">@ ADDC</div><div class="ttdoc">Carry-setting nodes for multiple precision addition and subtraction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00269">ISDOpcodes.h:269</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ac67bca6c764da76f5e152330d92ed916"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">llvm::KnownBits::Zero</a></div><div class="ttdeci">APInt Zero</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00024">KnownBits.h:24</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00263">README.txt:263</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ad5246df5bc35196f7cb5effeaed9f964"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ad5246df5bc35196f7cb5effeaed9f964">llvm::TargetLowering::createSelectForFMINNUM_FMAXNUM</a></div><div class="ttdeci">SDValue createSelectForFMINNUM_FMAXNUM(SDNode *Node, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Try to convert the fminnum/fmaxnum to a compare/select sequence.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07933">TargetLowering.cpp:7933</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a1c9300bfa022ac28948bd4336376e3c1"><div class="ttname"><a href="classllvm_1_1APInt.html#a1c9300bfa022ac28948bd4336376e3c1">llvm::APInt::getMinSignedBits</a></div><div class="ttdeci">unsigned getMinSignedBits() const</div><div class="ttdoc">NOTE: This is soft-deprecated. Please use getSignificantBits() instead.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01487">APInt.h:1487</a></div></div>
<div class="ttc" id="astructllvm_1_1UnsignedDivisionByConstantInfo_html_a6a7ecd0f6bb250280a31e56173931e31"><div class="ttname"><a href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a6a7ecd0f6bb250280a31e56173931e31">llvm::UnsignedDivisionByConstantInfo::get</a></div><div class="ttdeci">static UnsignedDivisionByConstantInfo get(const APInt &amp;D, unsigned LeadingZeros=0, bool AllowEvenDivisorOptimization=true)</div><div class="ttdoc">Calculate the magic numbers required to implement an unsigned integer division by a constant as a seq...</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8cpp_source.html#l00074">DivisionByConstantInfo.cpp:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a822b0d02b601898e2d6db5b39e12cc8a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a822b0d02b601898e2d6db5b39e12cc8a">llvm::ISD::FSHL</a></div><div class="ttdeci">@ FSHL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00696">ISDOpcodes.h:696</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_aa5f0f4a7de5def1c9d9f6a750a9b1aa1"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#aa5f0f4a7de5def1c9d9f6a750a9b1aa1">llvm::MachinePointerInfo::getUnknownStack</a></div><div class="ttdeci">static MachinePointerInfo getUnknownStack(MachineFunction &amp;MF)</div><div class="ttdoc">Stack memory without other information.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l01067">MachineOperand.cpp:1067</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">llvm::ISD::SETEQ</a></div><div class="ttdeci">@ SETEQ</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01454">ISDOpcodes.h:1454</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00279">RISCVBaseInfo.h:279</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a28cf355963391ab8781b2347d495553d"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a28cf355963391ab8781b2347d495553d">llvm::KnownBits::isUnknown</a></div><div class="ttdeci">bool isUnknown() const</div><div class="ttdoc">Returns true if we don't know any bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00063">KnownBits.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a196c23d6cb4d768d037970f1f35bbf66"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">llvm::SelectionDAG::getVTList</a></div><div class="ttdeci">SDVTList getVTList(EVT VT)</div><div class="ttdoc">Return an SDVTList that represents the list of values specified.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09508">SelectionDAG.cpp:9508</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a65a6479206acd4113b8aa1c0fbc2158c"><div class="ttname"><a href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">llvm::APInt::getMinValue</a></div><div class="ttdeci">static APInt getMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum unsigned value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00196">APInt.h:196</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af2daa0ee117afefed4c82eee55bf97b7"><div class="ttname"><a href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">llvm::APInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const</div><div class="ttdoc">Get sign extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01516">APInt.h:1516</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_adc21598ac33ea9d50f3a939f26a28940"><div class="ttname"><a href="classllvm_1_1Type.html#adc21598ac33ea9d50f3a939f26a28940">llvm::Type::getFltSemantics</a></div><div class="ttdeci">const fltSemantics &amp; getFltSemantics() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00066">Type.cpp:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a1ae915deb8e22ab5d8617a090149d0e6"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a1ae915deb8e22ab5d8617a090149d0e6">llvm::SelectionDAG::FoldSetCC</a></div><div class="ttdeci">SDValue FoldSetCC(EVT VT, SDValue N1, SDValue N2, ISD::CondCode Cond, const SDLoc &amp;dl)</div><div class="ttdoc">Constant fold a setcc to true or false.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02405">SelectionDAG.cpp:2405</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a331d69b5f93e47e7c596062b77dd5913"><div class="ttname"><a href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">llvm::APInt::getMaxValue</a></div><div class="ttdeci">static APInt getMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum unsigned value of APInt for specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00186">APInt.h:186</a></div></div>
<div class="ttc" id="anamespacellvm_html_a673c00ccea29abc2bab001b9c84603d1"><div class="ttname"><a href="namespacellvm.html#a673c00ccea29abc2bab001b9c84603d1">llvm::isBitwiseNot</a></div><div class="ttdeci">bool isBitwiseNot(SDValue V, bool AllowUndefs=false)</div><div class="ttdoc">Returns true if V is a bitwise not operation.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l11021">SelectionDAG.cpp:11021</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a470242ff0d0c1f979101aa369a3a410e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a470242ff0d0c1f979101aa369a3a410e">llvm::ISD::SDIVFIX</a></div><div class="ttdeci">@ SDIVFIX</div><div class="ttdoc">RESULT = [US]DIVFIX(LHS, RHS, SCALE) - Perform fixed point division on 2 integers with the same width...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00380">ISDOpcodes.h:380</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_acbb8a2bf7d82cabfdbc17aced23c5345"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#acbb8a2bf7d82cabfdbc17aced23c5345">llvm::TargetLowering::CollectTargetIntrinsicOperands</a></div><div class="ttdeci">virtual void CollectTargetIntrinsicOperands(const CallInst &amp;I, SmallVectorImpl&lt; SDValue &gt; &amp;Ops, SelectionDAG &amp;DAG) const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05308">TargetLowering.cpp:5308</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac597f2b1601a3acbac07347251e588f8"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac597f2b1601a3acbac07347251e588f8">llvm::SelectionDAG::getVectorIdxConstant</a></div><div class="ttdeci">SDValue getVectorIdxConstant(uint64_t Val, const SDLoc &amp;DL, bool isTarget=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01672">SelectionDAG.cpp:1672</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a2ed912a28808268e35bd58e8f11251aa"><div class="ttname"><a href="classllvm_1_1APInt.html#a2ed912a28808268e35bd58e8f11251aa">llvm::APInt::zextOrTrunc</a></div><div class="ttdeci">APInt zextOrTrunc(unsigned width) const</div><div class="ttdoc">Zero extend or truncate to width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00994">APInt.cpp:994</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a3ce5d8e60ab35c2eac434686f7938f13"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3ce5d8e60ab35c2eac434686f7938f13">fcPosZero</a></div><div class="ttdeci">@ fcPosZero</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00206">FloatingPointMode.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a8169a107c2b941a9c2504bb5d22331a1"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a8169a107c2b941a9c2504bb5d22331a1">llvm::TargetLowering::expandCTPOP</a></div><div class="ttdeci">SDValue expandCTPOP(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand CTPOP nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08249">TargetLowering.cpp:8249</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a2389b62fc77888df38b57a3e6839d163"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a2389b62fc77888df38b57a3e6839d163">llvm::TargetLowering::lowerCmpEqZeroToCtlzSrl</a></div><div class="ttdeci">SDValue lowerCmpEqZeroToCtlzSrl(SDValue Op, SelectionDAG &amp;DAG) const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09477">TargetLowering.cpp:9477</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aea5f26deda5ef97e02f6afc57c0c3920"><div class="ttname"><a href="classllvm_1_1APInt.html#aea5f26deda5ef97e02f6afc57c0c3920">llvm::APInt::isOne</a></div><div class="ttdeci">bool isOne() const</div><div class="ttdoc">Determine if this is a value of 1.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00378">APInt.h:378</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html_aee0e58997cd08983518f051e79b855d9"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#aee0e58997cd08983518f051e79b855d9">llvm::MemSDNode::getMemoryVT</a></div><div class="ttdeci">EVT getMemoryVT() const</div><div class="ttdoc">Return the type of the in-memory value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01355">SelectionDAGNodes.h:1355</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html_a1001931b4896740f5f37ce4c8b35b171"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a1001931b4896740f5f37ce4c8b35b171">llvm::MemSDNode::getChain</a></div><div class="ttdeci">const SDValue &amp; getChain() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01378">SelectionDAGNodes.h:1378</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">llvm::ISD::ANY_EXTEND</a></div><div class="ttdeci">@ ANY_EXTEND</div><div class="ttdoc">ANY_EXTEND - Used for integer types. The high bits are undefined.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00766">ISDOpcodes.h:766</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aa515729d5d6441d6c9aa337986629320"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aa515729d5d6441d6c9aa337986629320">llvm::TargetLowering::getPICJumpTableRelocBase</a></div><div class="ttdeci">virtual SDValue getPICJumpTableRelocBase(SDValue Table, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Returns relocation base for the given PIC jumptable.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00454">TargetLowering.cpp:454</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a138a6e09184eae2d1d412cd4e8d60e11"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a138a6e09184eae2d1d412cd4e8d60e11">llvm::TargetLowering::isUsedByReturnOnly</a></div><div class="ttdeci">virtual bool isUsedByReturnOnly(SDNode *, SDValue &amp;) const</div><div class="ttdoc">Return true if result of the specified node is used by a return node only.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04457">TargetLowering.h:4457</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">llvm::ISD::USUBSAT</a></div><div class="ttdeci">@ USUBSAT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00350">ISDOpcodes.h:350</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdoc">Represents one node in the SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00463">SelectionDAGNodes.h:463</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a37d07c2039ddd3ffe787ae9cb81344d0"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a37d07c2039ddd3ffe787ae9cb81344d0">llvm::TargetLoweringBase::getLibcallName</a></div><div class="ttdeci">const char * getLibcallName(RTLIB::Libcall Call) const</div><div class="ttdoc">Get the libcall routine name for the specified libcall.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03177">TargetLowering.h:3177</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a0c649ec21217b3feb2f2a28b4736b689"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a0c649ec21217b3feb2f2a28b4736b689">llvm::KnownBits::anyextOrTrunc</a></div><div class="ttdeci">KnownBits anyextOrTrunc(unsigned BitWidth) const</div><div class="ttdoc">Return known bits for an &quot;any&quot; extension or truncation of the value we're tracking.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00177">KnownBits.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aa6d77ede0c0d9cc01cf96c45e4d6baa4"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aa6d77ede0c0d9cc01cf96c45e4d6baa4">llvm::TargetLowering::SimplifyDemandedBits</a></div><div class="ttdeci">bool SimplifyDemandedBits(SDValue Op, const APInt &amp;DemandedBits, const APInt &amp;DemandedElts, KnownBits &amp;Known, TargetLoweringOpt &amp;TLO, unsigned Depth=0, bool AssumeSingleUse=false) const</div><div class="ttdoc">Look at Op.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l01061">TargetLowering.cpp:1061</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">llvm::ISD::FMA</a></div><div class="ttdeci">@ FMA</div><div class="ttdoc">FMA - Perform a * b + c with no intermediate rounding step.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00482">ISDOpcodes.h:482</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">llvm::ISD::FP_TO_SINT</a></div><div class="ttdeci">@ FP_TO_SINT</div><div class="ttdoc">FP_TO_[US]INT - Convert a floating point value to a signed or unsigned integer.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00819">ISDOpcodes.h:819</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_acf37bd7e831bdb2a5c9da8d63f843101"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#acf37bd7e831bdb2a5c9da8d63f843101">llvm::TargetLowering::DAGCombinerInfo::DAG</a></div><div class="ttdeci">SelectionDAG &amp; DAG</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03939">TargetLowering.h:3939</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a1946f350ff6d981eb8ec0f7f044625fd"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a1946f350ff6d981eb8ec0f7f044625fd">llvm::TargetLoweringBase::isLegalICmpImmediate</a></div><div class="ttdeci">virtual bool isLegalICmpImmediate(int64_t) const</div><div class="ttdoc">Return true if the specified immediate is legal icmp immediate, that is the target has icmp instructi...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02620">TargetLowering.h:2620</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadSDNode_html"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html">llvm::LoadSDNode</a></div><div class="ttdoc">This class is used to represent ISD::LOAD nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02348">SelectionDAGNodes.h:2348</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ae0d075136095c7ea6db40715be638cf3"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ae0d075136095c7ea6db40715be638cf3">Passes</a></div><div class="ttdeci">const char * Passes</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00046">PassBuilderBindings.cpp:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a7742fb3f3703dcf2a7d32e22dbe6a6df"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a7742fb3f3703dcf2a7d32e22dbe6a6df">llvm::SelectionDAG::EVTToAPFloatSemantics</a></div><div class="ttdeci">static const fltSemantics &amp; EVTToAPFloatSemantics(EVT VT)</div><div class="ttdoc">Returns an APFloat semantics tag appropriate for the given type.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01846">SelectionDAG.h:1846</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">llvm::MVT::Glue</a></div><div class="ttdeci">@ Glue</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00282">MachineValueType.h:282</a></div></div>
<div class="ttc" id="astructllvm_1_1MemOp_html"><div class="ttname"><a href="structllvm_1_1MemOp.html">llvm::MemOp</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00112">TargetLowering.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a7ec0665296f2e3099a8f4d083e77f425"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a7ec0665296f2e3099a8f4d083e77f425">llvm::SelectionDAG::getMemBasePlusOffset</a></div><div class="ttdeci">SDValue getMemBasePlusOffset(SDValue Base, TypeSize Offset, const SDLoc &amp;DL, const SDNodeFlags Flags=SDNodeFlags())</div><div class="ttdoc">Returns sum of the base pointer and offset.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l06941">SelectionDAG.cpp:6941</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a46ceedee591f92727b85641794a96061"><div class="ttname"><a href="classllvm_1_1APInt.html#a46ceedee591f92727b85641794a96061">llvm::APInt::getBitsSet</a></div><div class="ttdeci">static APInt getBitsSet(unsigned numBits, unsigned loBit, unsigned hiBit)</div><div class="ttdoc">Get a value with a block of bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00241">APInt.h:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_adbf9a0f19f80eb901b31813c02691fee"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#adbf9a0f19f80eb901b31813c02691fee">llvm::TargetLowering::isGuaranteedNotToBeUndefOrPoisonForTargetNode</a></div><div class="ttdeci">virtual bool isGuaranteedNotToBeUndefOrPoisonForTargetNode(SDValue Op, const APInt &amp;DemandedElts, const SelectionDAG &amp;DAG, bool PoisonOnly, unsigned Depth) const</div><div class="ttdoc">Return true if this function can prove that Op is never poison and, if PoisonOnly is false,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03592">TargetLowering.cpp:3592</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a7c7a138f1343bed87e10cff83e51b903"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a7c7a138f1343bed87e10cff83e51b903">llvm::TargetLowering::expandVectorSplice</a></div><div class="ttdeci">SDValue expandVectorSplice(SDNode *Node, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Method for building the DAG expansion of ISD::VECTOR_SPLICE.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l10316">TargetLowering.cpp:10316</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a57aa9aca1eaf764d871cf7df9521c3d3"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a57aa9aca1eaf764d871cf7df9521c3d3">llvm::TargetLowering::SimplifyMultipleUseDemandedVectorElts</a></div><div class="ttdeci">SDValue SimplifyMultipleUseDemandedVectorElts(SDValue Op, const APInt &amp;DemandedElts, SelectionDAG &amp;DAG, unsigned Depth=0) const</div><div class="ttdoc">Helper wrapper around SimplifyMultipleUseDemandedBits, demanding all bits from only some vector eleme...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00913">TargetLowering.cpp:913</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">llvm::Depth</a></div><div class="ttdeci">@ Depth</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00036">SIMachineScheduler.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a946fedb8af1dc83622a53b2ebdd1c7ad"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a946fedb8af1dc83622a53b2ebdd1c7ad">llvm::TargetLowering::isPositionIndependent</a></div><div class="ttdeci">bool isPositionIndependent() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00046">TargetLowering.cpp:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">llvm::TargetLowering::C_Memory</a></div><div class="ttdeci">@ C_Memory</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04623">TargetLowering.h:4623</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a75b5f43626eca6f155a21f22e4a5acd0"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a75b5f43626eca6f155a21f22e4a5acd0">llvm::TargetLoweringBase::isFPExtFree</a></div><div class="ttdeci">virtual bool isFPExtFree(EVT DestVT, EVT SrcVT) const</div><div class="ttdoc">Return true if an fpext operation is free (for instance, because single-precision floating-point numb...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02934">TargetLowering.h:2934</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a562c9513409b74f02cb3a5c9bae672ea"><div class="ttname"><a href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">llvm::APInt::getSignedMaxValue</a></div><div class="ttdeci">static APInt getSignedMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum signed value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00189">APInt.h:189</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00468">README.txt:468</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5ae4b108d3f627b66f3b1e5da51f4587"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5ae4b108d3f627b66f3b1e5da51f4587">llvm::ISD::USHLSAT</a></div><div class="ttdeci">@ USHLSAT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00360">ISDOpcodes.h:360</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">llvm::ISD::SETULE</a></div><div class="ttdeci">@ SETULE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01449">ISDOpcodes.h:1449</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_ab8967b7214f38cdea9c0158dbe2ffa31"><div class="ttname"><a href="structllvm_1_1EVT.html#ab8967b7214f38cdea9c0158dbe2ffa31">llvm::EVT::isScalableVector</a></div><div class="ttdeci">bool isScalableVector() const</div><div class="ttdoc">Return true if this is a vector type where the runtime length is machine dependent.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00160">ValueTypes.h:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a502a6587d506fc454cd0dea3493c8233"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a502a6587d506fc454cd0dea3493c8233">llvm::TargetLoweringBase::ArgListEntry::IsNest</a></div><div class="ttdeci">bool IsNest</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00302">TargetLowering.h:302</a></div></div>
<div class="ttc" id="aMachineJumpTableInfo_8h_html"><div class="ttname"><a href="MachineJumpTableInfo_8h.html">MachineJumpTableInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447">llvm::RTLIB::Libcall</a></div><div class="ttdeci">Libcall</div><div class="ttdoc">RTLIB::Libcall enum - This enum defines all of the runtime library calls the backend can emit.</div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00030">RuntimeLibcalls.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a512fe2c15ea651294688eeec1341644c"><div class="ttname"><a href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Return the number of bits in the APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01439">APInt.h:1439</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4cc11b26432f9343b3c532f06171ad04"><div class="ttname"><a href="namespacellvm.html#a4cc11b26432f9343b3c532f06171ad04">llvm::bit_ceil</a></div><div class="ttdeci">T bit_ceil(T Value)</div><div class="ttdoc">Returns the smallest integral power of two no smaller than Value if Value is nonzero.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00306">bit.h:306</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a64cb92f784db53c70b9246a3cc632b25"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a64cb92f784db53c70b9246a3cc632b25">fcNormal</a></div><div class="ttdeci">@ fcNormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00213">FloatingPointMode.h:213</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aeb80f9832dad739ee9c6deaa3110d98f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeb80f9832dad739ee9c6deaa3110d98f">llvm::ISD::SHL_PARTS</a></div><div class="ttdeci">@ SHL_PARTS</div><div class="ttdoc">SHL_PARTS/SRA_PARTS/SRL_PARTS - These operators are used for expanded integer shift operations.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00749">ISDOpcodes.h:749</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_ad061307c0dae639c75d944338bd7b15d"><div class="ttname"><a href="TargetLowering_8cpp.html#ad061307c0dae639c75d944338bd7b15d">foldSetCCWithRotate</a></div><div class="ttdeci">static SDValue foldSetCCWithRotate(EVT VT, SDValue N0, SDValue N1, ISD::CondCode Cond, const SDLoc &amp;dl, SelectionDAG &amp;DAG)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l04090">TargetLowering.cpp:4090</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a6a52e913507400fcde94fd2e023a149c"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a6a52e913507400fcde94fd2e023a149c">llvm::SelectionDAG::getZeroExtendInReg</a></div><div class="ttdeci">SDValue getZeroExtendInReg(SDValue Op, const SDLoc &amp;DL, EVT VT)</div><div class="ttdoc">Return the expression required to zero extend the Op value assuming it was the smaller SrcTy value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01461">SelectionDAG.cpp:1461</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html"><div class="ttname"><a href="classllvm_1_1AttributeList.html">llvm::AttributeList</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00432">Attributes.h:432</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">llvm::tgtok::Bits</a></div><div class="ttdeci">@ Bits</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a></div><div class="ttdeci">@ fcNan</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00211">FloatingPointMode.h:211</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a89ed6b26ee4f62aec32468329f828a2f"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">llvm::SelectionDAG::getStore</a></div><div class="ttdeci">SDValue getStore(SDValue Chain, const SDLoc &amp;dl, SDValue Val, SDValue Ptr, MachinePointerInfo PtrInfo, Align Alignment, MachineMemOperand::Flags MMOFlags=MachineMemOperand::MONone, const AAMDNodes &amp;AAInfo=AAMDNodes())</div><div class="ttdoc">Helper function to build ISD::STORE nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l08168">SelectionDAG.cpp:8168</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a1c383bff50576c84343b3b8ea609f3e1"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a1c383bff50576c84343b3b8ea609f3e1">llvm::SelectionDAG::ExtractVectorElements</a></div><div class="ttdeci">void ExtractVectorElements(SDValue Op, SmallVectorImpl&lt; SDValue &gt; &amp;Args, unsigned Start=0, unsigned Count=0, EVT EltVT=EVT())</div><div class="ttdoc">Append the extracted elements from Start to Count out of the vector Op in Args.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l11713">SelectionDAG.cpp:11713</a></div></div>
<div class="ttc" id="aMips16ISelLowering_8cpp_html_ac16509a75e3d3fc46b9df1726be486ec"><div class="ttname"><a href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a></div><div class="ttdeci">#define T1</div><div class="ttdef"><b>Definition:</b> <a href="Mips16ISelLowering_8cpp_source.html#l00340">Mips16ISelLowering.cpp:340</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a907dc8a0ba3c57ca48f90fa885c42822"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a907dc8a0ba3c57ca48f90fa885c42822">llvm::TargetLowering::computeKnownBitsForTargetNode</a></div><div class="ttdeci">virtual void computeKnownBitsForTargetNode(const SDValue Op, KnownBits &amp;Known, const APInt &amp;DemandedElts, const SelectionDAG &amp;DAG, unsigned Depth=0) const</div><div class="ttdoc">Determine which of the bits specified in Mask are known to be either zero or one and return them in t...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03479">TargetLowering.cpp:3479</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">llvm::ISD::SETCC</a></div><div class="ttdeci">@ SETCC</div><div class="ttdoc">SetCC operator - This evaluates to a true value iff the condition is true.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00736">ISDOpcodes.h:736</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a></div><div class="ttdeci">@ C</div><div class="ttdoc">The default llvm calling convention, compatible with C.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00034">CallingConv.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineJumpTableInfo_html_aaa21facdbb167f7c33d21907b8e5b9d3ab0c4687afc1a6858d37711a814f8f5b3"><div class="ttname"><a href="classllvm_1_1MachineJumpTableInfo.html#aaa21facdbb167f7c33d21907b8e5b9d3ab0c4687afc1a6858d37711a814f8f5b3">llvm::MachineJumpTableInfo::EK_BlockAddress</a></div><div class="ttdeci">@ EK_BlockAddress</div><div class="ttdoc">EK_BlockAddress - Each entry is a plain address of block, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="MachineJumpTableInfo_8h_source.html#l00049">MachineJumpTableInfo.h:49</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a210ba6b43ba451b698857dd9de71bd15"><div class="ttname"><a href="structllvm_1_1EVT.html#a210ba6b43ba451b698857dd9de71bd15">llvm::EVT::getVectorVT</a></div><div class="ttdeci">static EVT getVectorVT(LLVMContext &amp;Context, EVT VT, unsigned NumElements, bool IsScalable=false)</div><div class="ttdoc">Returns the EVT that represents a vector NumElements in length, where each element is of type VT.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00073">ValueTypes.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a46a7cbf3724080a5f4f4c7e7a4551e26"><div class="ttname"><a href="classllvm_1_1APInt.html#a46a7cbf3724080a5f4f4c7e7a4551e26">llvm::APInt::ugt</a></div><div class="ttdeci">bool ugt(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned greater than comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01160">APInt.h:1160</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a583ad984c8f06e187574d2c0e6b137d5"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a583ad984c8f06e187574d2c0e6b137d5">llvm::TargetLoweringBase::shouldTransformSignedTruncationCheck</a></div><div class="ttdeci">virtual bool shouldTransformSignedTruncationCheck(EVT XVT, unsigned KeptBits) const</div><div class="ttdoc">Should we tranform the IR-optimal check for whether given truncation down into KeptBits would be trun...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00750">TargetLowering.h:750</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a74d7d9a331f1d1e05a16d9ae96e3f602"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a74d7d9a331f1d1e05a16d9ae96e3f602">llvm::SelectionDAG::doesNodeExist</a></div><div class="ttdeci">bool doesNodeExist(unsigned Opcode, SDVTList VTList, ArrayRef&lt; SDValue &gt; Ops)</div><div class="ttdoc">Check if a node exists without modifying its flags.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10108">SelectionDAG.cpp:10108</a></div></div>
<div class="ttc" id="anamespacellvm_html_abc5add4546a05bb6c8749c009524d5ae"><div class="ttname"><a href="namespacellvm.html#abc5add4546a05bb6c8749c009524d5ae">llvm::isConstFalseVal</a></div><div class="ttdeci">bool isConstFalseVal(const TargetLowering &amp;TLI, int64_t Val, bool IsVector, bool IsFP)</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2GlobalISel_2Utils_8cpp_source.html#l01302">Utils.cpp:1302</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a25e670389809910f59726e8a11fa82e0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a25e670389809910f59726e8a11fa82e0">llvm::ISD::FMAXNUM_IEEE</a></div><div class="ttdeci">@ FMAXNUM_IEEE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00950">ISDOpcodes.h:950</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_acb82500e7e47e76d087ce8606ae8e625"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#acb82500e7e47e76d087ce8606ae8e625">llvm::TargetLowering::ComputeConstraintToUse</a></div><div class="ttdeci">virtual void ComputeConstraintToUse(AsmOperandInfo &amp;OpInfo, SDValue Op, SelectionDAG *DAG=nullptr) const</div><div class="ttdoc">Determines the constraint code and constraint type to use for the specific AsmOperandInfo,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05726">TargetLowering.cpp:5726</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__AM_html_a76f5f9f36bbd9f03c844c5b565f239ef"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239ef">llvm::ARM_AM::ShiftOpc</a></div><div class="ttdeci">ShiftOpc</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00027">ARMAddressingModes.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html_ae91378660e4c7198b4de645a1d207b91"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#ae91378660e4c7198b4de645a1d207b91">llvm::ConstantSDNode::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01610">SelectionDAGNodes.h:1610</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a14ca8f1aa1c62b860504b766ad3b15f9"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a14ca8f1aa1c62b860504b766ad3b15f9">llvm::MachineFrameInfo::setAdjustsStack</a></div><div class="ttdeci">void setAdjustsStack(bool V)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00610">MachineFrameInfo.h:610</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aff813db965c76a7e0f64c426cded6534a68eec46437c384d8dad18d5464ebc35c"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aff813db965c76a7e0f64c426cded6534a68eec46437c384d8dad18d5464ebc35c">llvm::TargetLoweringBase::MulExpansionKind::Always</a></div><div class="ttdeci">@ Always</div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">llvm::ISD::MERGE_VALUES</a></div><div class="ttdeci">@ MERGE_VALUES</div><div class="ttdoc">MERGE_VALUES - This node takes multiple discrete operands and returns them all as its individual resu...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00236">ISDOpcodes.h:236</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">llvm::MipsISD::Ret</a></div><div class="ttdeci">@ Ret</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00119">MipsISelLowering.h:119</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3893859b5caa079593b9bf91b96e05fb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3893859b5caa079593b9bf91b96e05fb">llvm::ISD::SIGN_EXTEND_VECTOR_INREG</a></div><div class="ttdeci">@ SIGN_EXTEND_VECTOR_INREG</div><div class="ttdoc">SIGN_EXTEND_VECTOR_INREG(Vector) - This operator represents an in-register sign-extension of the low ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00803">ISDOpcodes.h:803</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d"><div class="ttname"><a href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">llvm::DiagnosticPredicateTy::Match</a></div><div class="ttdeci">@ Match</div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">llvm::ISD::EXTLOAD</a></div><div class="ttdeci">@ EXTLOAD</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01414">ISDOpcodes.h:1414</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af34549c39d6f741fbdaf9a795aa306e9"><div class="ttname"><a href="classllvm_1_1APInt.html#af34549c39d6f741fbdaf9a795aa306e9">llvm::APInt::lshr</a></div><div class="ttdeci">APInt lshr(unsigned shiftAmt) const</div><div class="ttdoc">Logical right-shift function.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00839">APInt.h:839</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a35b92ee9c5d6e9d4bec2ca1064091381"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a35b92ee9c5d6e9d4bec2ca1064091381">llvm::TargetLowering::expandCTLZ</a></div><div class="ttdeci">SDValue expandCTLZ(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand CTLZ/CTLZ_ZERO_UNDEF nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08373">TargetLowering.cpp:8373</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a6e9c232101c30e91126209154a047a63"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6e9c232101c30e91126209154a047a63">llvm::MachineFunction::getJTISymbol</a></div><div class="ttdeci">MCSymbol * getJTISymbol(unsigned JTI, MCContext &amp;Ctx, bool isLinkerPrivate=false) const</div><div class="ttdoc">getJTISymbol - Return the MCSymbol for the specified non-empty jump table.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00719">MachineFunction.cpp:719</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ad0c6f059b29535f2c790d1c4f92b7a93"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ad0c6f059b29535f2c790d1c4f92b7a93">llvm::SelectionDAG::getZExtOrTrunc</a></div><div class="ttdeci">SDValue getZExtOrTrunc(SDValue Op, const SDLoc &amp;DL, EVT VT)</div><div class="ttdoc">Convert Op, which must be of integer type, to the integer type VT, by either zero-extending or trunca...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01446">SelectionDAG.cpp:1446</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6dec2b5d3e04b47adf4d918d678e81c9"><div class="ttname"><a href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">llvm::isPowerOf2_32</a></div><div class="ttdeci">constexpr bool isPowerOf2_32(uint32_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00292">MathExtras.h:292</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a08c31033acfb9d6f0bc4a8a82cc26862">llvm::ISD::SETOEQ</a></div><div class="ttdeci">@ SETOEQ</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01437">ISDOpcodes.h:1437</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aacc24244f1c711d681342958b1efe214"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aacc24244f1c711d681342958b1efe214">llvm::TargetLowering::IncrementMemoryAddress</a></div><div class="ttdeci">SDValue IncrementMemoryAddress(SDValue Addr, SDValue Mask, const SDLoc &amp;DL, EVT DataVT, SelectionDAG &amp;DAG, bool IsCompressedMemory) const</div><div class="ttdoc">Increments memory address Addr according to the type of the value DataVT that should be stored.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09325">TargetLowering.cpp:9325</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a039b096d4eba5c5293451f12200cd011"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a039b096d4eba5c5293451f12200cd011">llvm::TargetLowering::getMultipleConstraintMatchWeight</a></div><div class="ttdeci">virtual ConstraintWeight getMultipleConstraintMatchWeight(AsmOperandInfo &amp;info, int maIndex) const</div><div class="ttdoc">Examine constraint type and operand type and determine a weight value.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05580">TargetLowering.cpp:5580</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67afff82cc4502e0e3bf3575c9622284e18"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67afff82cc4502e0e3bf3575c9622284e18">fcPosNormal</a></div><div class="ttdeci">@ fcPosNormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00208">FloatingPointMode.h:208</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a0a602c996b7668a0a80db1c0194f144a"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a0a602c996b7668a0a80db1c0194f144a">llvm::TargetLoweringBase::shouldSignExtendTypeInLibCall</a></div><div class="ttdeci">virtual bool shouldSignExtendTypeInLibCall(EVT Type, bool IsSigned) const</div><div class="ttdoc">Returns true if arguments should be sign-extended in lib calls.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02109">TargetLowering.h:2109</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_ae67a729c436915221367d8e77412dff4"><div class="ttname"><a href="structllvm_1_1EVT.html#ae67a729c436915221367d8e77412dff4">llvm::EVT::bitsLE</a></div><div class="ttdeci">bool bitsLE(EVT VT) const</div><div class="ttdoc">Return true if this has no more bits than VT.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00280">ValueTypes.h:280</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a79adbcc34e24b86ef8a216a34ccf5af8"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a79adbcc34e24b86ef8a216a34ccf5af8">llvm::TargetLoweringBase::getBooleanContents</a></div><div class="ttdeci">BooleanContent getBooleanContents(bool isVec, bool isFloat) const</div><div class="ttdoc">For targets without i1 registers, this gives the nature of the high-bits of boolean values held in ty...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00853">TargetLowering.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a6fe22335c423eff43d9ea9ff58c1a8db"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a6fe22335c423eff43d9ea9ff58c1a8db">llvm::TargetLowering::expandFP_TO_UINT</a></div><div class="ttdeci">bool expandFP_TO_UINT(SDNode *N, SDValue &amp;Result, SDValue &amp;Chain, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand float to UINT conversion.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07779">TargetLowering.cpp:7779</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ac235e5942edbad0726778d5de323e0cf"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ac235e5942edbad0726778d5de323e0cf">llvm::TargetLowering::expandFunnelShift</a></div><div class="ttdeci">SDValue expandFunnelShift(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand funnel shift.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07512">TargetLowering.cpp:7512</a></div></div>
<div class="ttc" id="aSelectionDAG_8h_html"><div class="ttname"><a href="SelectionDAG_8h.html">SelectionDAG.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a94c07537049909255aa5481832383ea8"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a94c07537049909255aa5481832383ea8">llvm::TargetLoweringBase::ArgListEntry::IsPreallocated</a></div><div class="ttdeci">bool IsPreallocated</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00306">TargetLowering.h:306</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a8cb736aaf5669f1f58af004b85f21661"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a8cb736aaf5669f1f58af004b85f21661">llvm::TargetLowering::isKnownNeverNaNForTargetNode</a></div><div class="ttdeci">virtual bool isKnownNeverNaNForTargetNode(SDValue Op, const SelectionDAG &amp;DAG, bool SNaN=false, unsigned Depth=0) const</div><div class="ttdoc">If SNaN is false,.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03618">TargetLowering.cpp:3618</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_a9eef0efd7cc80c2bda832ce6efbbe773"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a9eef0efd7cc80c2bda832ce6efbbe773">llvm::TargetLowering::MakeLibCallOptions::RetVTBeforeSoften</a></div><div class="ttdeci">EVT RetVTBeforeSoften</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04368">TargetLowering.h:4368</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_a84618d70c70e76bfd167ba4660d2aa4f"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a84618d70c70e76bfd167ba4660d2aa4f">llvm::TargetLowering::MakeLibCallOptions::IsSExt</a></div><div class="ttdeci">bool IsSExt</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04369">TargetLowering.h:4369</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_add4e37b60ea64faafbc9a5bf3e27280f"><div class="ttname"><a href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">llvm::APInt::getZero</a></div><div class="ttdeci">static APInt getZero(unsigned numBits)</div><div class="ttdoc">Get the '0' value for the specified bit-width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00177">APInt.h:177</a></div></div>
<div class="ttc" id="astructllvm_1_1APFloatBase_html_aee544c332088dbef348a0c1c97e21a6aa054516d40647594fd6e9e436a9aa308f"><div class="ttname"><a href="structllvm_1_1APFloatBase.html#aee544c332088dbef348a0c1c97e21a6aa054516d40647594fd6e9e436a9aa308f">llvm::APFloatBase::opOverflow</a></div><div class="ttdeci">@ opOverflow</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00237">APFloat.h:237</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848">llvm::ISD::SETUEQ</a></div><div class="ttdeci">@ SETUEQ</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01445">ISDOpcodes.h:1445</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67ace8cc3cdd99d4ce78ff9f4bf4c681d28"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ace8cc3cdd99d4ce78ff9f4bf4c681d28">fcPosInf</a></div><div class="ttdeci">@ fcPosInf</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00209">FloatingPointMode.h:209</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html_a06e32f822cc82701a5652331bccab467"><div class="ttname"><a href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">llvm::TypeSize::Fixed</a></div><div class="ttdeci">static constexpr TypeSize Fixed(ScalarTy ExactSize)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00331">TypeSize.h:331</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af3b59179b6fcbc89463181015ace8e9b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3b59179b6fcbc89463181015ace8e9b">llvm::ISD::SMAX</a></div><div class="ttdeci">@ SMAX</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00661">ISDOpcodes.h:661</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a5194f2db1b9c25d2dd3f0302d428430e"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a5194f2db1b9c25d2dd3f0302d428430e">llvm::TargetLowering::expandUnalignedStore</a></div><div class="ttdeci">SDValue expandUnalignedStore(StoreSDNode *ST, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expands an unaligned store to 2 half-size stores for integer values, and possibly more for vectors.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09199">TargetLowering.cpp:9199</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ae73894797c63cdacffa04bc100873df3"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ae73894797c63cdacffa04bc100873df3">llvm::SelectionDAG::getContext</a></div><div class="ttdeci">LLVMContext * getContext() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00481">SelectionDAG.h:481</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">llvm::ISD::FABS</a></div><div class="ttdeci">@ FABS</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00911">ISDOpcodes.h:911</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a0da57507f04fced034b498faff01f90b"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a0da57507f04fced034b498faff01f90b">llvm::SelectionDAG::isKnownNeverSNaN</a></div><div class="ttdeci">bool isKnownNeverSNaN(SDValue Op, unsigned Depth=0) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l02092">SelectionDAG.h:2092</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttrBuilder_html_aa63e528eeff5082f6920b10244143920"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html#aa63e528eeff5082f6920b10244143920">llvm::AttrBuilder::removeAttribute</a></div><div class="ttdeci">AttrBuilder &amp; removeAttribute(Attribute::AttrKind Val)</div><div class="ttdoc">Remove an attribute from the builder.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01704">Attributes.cpp:1704</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">llvm::ISD::ADDCARRY</a></div><div class="ttdeci">@ ADDCARRY</div><div class="ttdoc">Carry-using nodes for multiple precision addition and subtraction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00303">ISDOpcodes.h:303</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a6f2db4dd37c9d8a3544e4cad4a2aac49"><div class="ttname"><a href="structllvm_1_1EVT.html#a6f2db4dd37c9d8a3544e4cad4a2aac49">llvm::EVT::changeTypeToInteger</a></div><div class="ttdeci">EVT changeTypeToInteger()</div><div class="ttdoc">Return the type converted to an equivalently sized integer or vector with integer element type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00113">ValueTypes.h:113</a></div></div>
<div class="ttc" id="aKnownBits_8h_html"><div class="ttname"><a href="KnownBits_8h.html">KnownBits.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a765e839be4868739fe762c9c3a719ca8"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a765e839be4868739fe762c9c3a719ca8">llvm::TargetLoweringBase::getShiftAmountTy</a></div><div class="ttdeci">EVT getShiftAmountTy(EVT LHSTy, const DataLayout &amp;DL, bool LegalTypes=true) const</div><div class="ttdoc">Returns the type for the shift amount of a shift opcode.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l00917">TargetLoweringBase.cpp:917</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a44d2b45590a05798a4aa2d63cba23e55"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a44d2b45590a05798a4aa2d63cba23e55">llvm::TargetLoweringBase::getCondCodeAction</a></div><div class="ttdeci">LegalizeAction getCondCodeAction(ISD::CondCode CC, MVT VT) const</div><div class="ttdoc">Return how the condition code should be treated: either it is legal, needs to be expanded to some oth...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01442">TargetLowering.h:1442</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a1eeff70353694cb360b2893553c18e7d"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">llvm::KnownBits::countMinTrailingZeros</a></div><div class="ttdeci">unsigned countMinTrailingZeros() const</div><div class="ttdoc">Returns the minimum number of trailing zero bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00233">KnownBits.h:233</a></div></div>
<div class="ttc" id="aHexagonISelDAGToDAGHVX_8cpp_html_a3389e6c42731436e57f87a2cd630bf49"><div class="ttname"><a href="HexagonISelDAGToDAGHVX_8cpp.html#a3389e6c42731436e57f87a2cd630bf49">isUndef</a></div><div class="ttdeci">static bool isUndef(ArrayRef&lt; int &gt; Mask)</div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelDAGToDAGHVX_8cpp_source.html#l01032">HexagonISelDAGToDAGHVX.cpp:1032</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a19738f4334d4de357b22349bbb56fb5c"><div class="ttname"><a href="structllvm_1_1EVT.html#a19738f4334d4de357b22349bbb56fb5c">llvm::EVT::isSimple</a></div><div class="ttdeci">bool isSimple() const</div><div class="ttdoc">Test if the given EVT is simple (as opposed to being extended).</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00129">ValueTypes.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNodeIterator_html_af14c003d9f4913dbc8b7daed0807183d"><div class="ttname"><a href="classllvm_1_1SDNodeIterator.html#af14c003d9f4913dbc8b7daed0807183d">llvm::SDNodeIterator::begin</a></div><div class="ttdeci">static SDNodeIterator begin(const SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l03010">SelectionDAGNodes.h:3010</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a1e0f1de98d5e5415cf2ae9aa20993d69"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a1e0f1de98d5e5415cf2ae9aa20993d69">fcPosFinite</a></div><div class="ttdeci">@ fcPosFinite</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00216">FloatingPointMode.h:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346">llvm::MVT::SimpleValueType</a></div><div class="ttdeci">SimpleValueType</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00033">MachineValueType.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a956c187916cdd70fd64153948acb7922"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a956c187916cdd70fd64153948acb7922">llvm::TargetLowering::getNegatedExpression</a></div><div class="ttdeci">virtual SDValue getNegatedExpression(SDValue Op, SelectionDAG &amp;DAG, bool LegalOps, bool OptForSize, NegatibleCost &amp;Cost, unsigned Depth=0) const</div><div class="ttdoc">Return the newly negated expression if the cost is not expensive and set the cost in Cost to indicate...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l06764">TargetLowering.cpp:6764</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d">llvm::ISD::ROTL</a></div><div class="ttdeci">@ ROTL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00694">ISDOpcodes.h:694</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5096628a43b16ff34ace64193ded1c93"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5096628a43b16ff34ace64193ded1c93">llvm::ISD::AVGFLOORU</a></div><div class="ttdeci">@ AVGFLOORU</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00644">ISDOpcodes.h:644</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1TargetLoweringOpt_html_a75c3b728d0f9ba68b58c71a4940aedab"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a75c3b728d0f9ba68b58c71a4940aedab">llvm::TargetLowering::TargetLoweringOpt::CombineTo</a></div><div class="ttdeci">bool CombineTo(SDValue O, SDValue N)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03668">TargetLowering.h:3668</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a74ad96f69f9b8386dbccfeb4a2948024"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a74ad96f69f9b8386dbccfeb4a2948024">llvm::TargetLowering::expandREM</a></div><div class="ttdeci">bool expandREM(SDNode *Node, SDValue &amp;Result, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand an SREM or UREM using SDIV/UDIV or SDIVREM/UDIVREM, if legal.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l10189">TargetLowering.cpp:10189</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_a81468a66b43bb8ae17811337afee9984"><div class="ttname"><a href="TargetLowering_8cpp.html#a81468a66b43bb8ae17811337afee9984">getConstraintGenerality</a></div><div class="ttdeci">static unsigned getConstraintGenerality(TargetLowering::ConstraintType CT)</div><div class="ttdoc">Return an integer indicating how general CT is.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05559">TargetLowering.cpp:5559</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a2780c5606880394d3f07cd2079a27697"><div class="ttname"><a href="classllvm_1_1APInt.html#a2780c5606880394d3f07cd2079a27697">llvm::APInt::setHighBits</a></div><div class="ttdeci">void setHighBits(unsigned hiBits)</div><div class="ttdoc">Set the top hiBits bits.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01370">APInt.h:1370</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_ac8600b395666a2e54d6f347b58df6f62"><div class="ttname"><a href="TargetLowering_8cpp.html#ac8600b395666a2e54d6f347b58df6f62">canExpandVectorCTPOP</a></div><div class="ttdeci">static bool canExpandVectorCTPOP(const TargetLowering &amp;TLI, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08239">TargetLowering.cpp:8239</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aae5737c5c8f1d8355f5679a668b9dbbe"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aae5737c5c8f1d8355f5679a668b9dbbe">llvm::TargetLowering::isInTailCallPosition</a></div><div class="ttdeci">bool isInTailCallPosition(SelectionDAG &amp;DAG, SDNode *Node, SDValue &amp;Chain) const</div><div class="ttdoc">Check whether a given call node is in tail position within its function.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00052">TargetLowering.cpp:52</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1CallLoweringInfo_html_abc2ed4525e493f7469b0bf3a8c42cc2e"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#abc2ed4525e493f7469b0bf3a8c42cc2e">llvm::TargetLowering::CallLoweringInfo::setSExtResult</a></div><div class="ttdeci">CallLoweringInfo &amp; setSExtResult(bool Value=true)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04328">TargetLowering.h:4328</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7">llvm::ISD::LoadExtType</a></div><div class="ttdeci">LoadExtType</div><div class="ttdoc">LoadExtType enum - This enum defines the three variants of LOADEXT (load with extension).</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01414">ISDOpcodes.h:1414</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af4b1ccc0b78f9da9f3f3944e06007f1d"><div class="ttname"><a href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">llvm::APInt::uge</a></div><div class="ttdeci">bool uge(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned greater or equal comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01199">APInt.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a17116dc06939cff287f9941cb64213b1"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a17116dc06939cff287f9941cb64213b1">llvm::SelectionDAG::getVScale</a></div><div class="ttdeci">SDValue getVScale(const SDLoc &amp;DL, EVT VT, APInt MulImm)</div><div class="ttdoc">Return a node that represents the runtime scaling 'MulImm * RuntimeVL'.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01062">SelectionDAG.h:1062</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1TargetLoweringOpt_html_a15f606b1ca13c24d23039809f667daeb"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a15f606b1ca13c24d23039809f667daeb">llvm::TargetLowering::TargetLoweringOpt::DAG</a></div><div class="ttdeci">SelectionDAG &amp; DAG</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03655">TargetLowering.h:3655</a></div></div>
<div class="ttc" id="aTargetLowering_8h_html"><div class="ttname"><a href="TargetLowering_8h.html">TargetLowering.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a874350de5b4f6b8f4db13940e17ed81b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a874350de5b4f6b8f4db13940e17ed81b">llvm::ISD::FSHR</a></div><div class="ttdeci">@ FSHR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00697">ISDOpcodes.h:697</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a3c3b16945cf064f59363bdefdfe2b492"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a3c3b16945cf064f59363bdefdfe2b492">llvm::SelectionDAG::getLoad</a></div><div class="ttdeci">SDValue getLoad(EVT VT, const SDLoc &amp;dl, SDValue Chain, SDValue Ptr, MachinePointerInfo PtrInfo, MaybeAlign Alignment=MaybeAlign(), MachineMemOperand::Flags MMOFlags=MachineMemOperand::MONone, const AAMDNodes &amp;AAInfo=AAMDNodes(), const MDNode *Ranges=nullptr)</div><div class="ttdoc">Loads are not normal binary operators: their result type is not determined by their operands,...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l08118">SelectionDAG.cpp:8118</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a157efd68e8b4b838829cad165b1583f8"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">llvm::KnownBits::isNonNegative</a></div><div class="ttdeci">bool isNonNegative() const</div><div class="ttdoc">Returns true if this value is known to be non-negative.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00099">KnownBits.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5f6edc5246188225b3f49bd5c974c759"><div class="ttname"><a href="classllvm_1_1Type.html#a5f6edc5246188225b3f49bd5c974c759">llvm::Type::isSingleValueType</a></div><div class="ttdeci">bool isSingleValueType() const</div><div class="ttdoc">Return true if the type is a valid type for a register in codegen.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00280">Type.h:280</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a85440bbdbba12de574c02e515444d3f4">llvm::MVT::i1</a></div><div class="ttdeci">@ i1</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00043">MachineValueType.h:43</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a1572b31fadbd0d758314b8d35a050410"><div class="ttname"><a href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">llvm::EVT::getStoreSize</a></div><div class="ttdeci">TypeSize getStoreSize() const</div><div class="ttdoc">Return the number of bytes overwritten by a store of the specified value type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00362">ValueTypes.h:362</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a23f2f5947fc429aff1270651c6d019ea"><div class="ttname"><a href="classllvm_1_1SDNode.html#a23f2f5947fc429aff1270651c6d019ea">llvm::SDNode::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Return the SelectionDAG opcode value for this node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00644">SelectionDAGNodes.h:644</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac2618c1a69fa9d62427a5a6dc43e24ed"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac2618c1a69fa9d62427a5a6dc43e24ed">llvm::ISD::STRICT_FP_TO_SINT</a></div><div class="ttdeci">@ STRICT_FP_TO_SINT</div><div class="ttdoc">STRICT_FP_TO_[US]INT - Convert a floating point value to a signed or unsigned integer.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00441">ISDOpcodes.h:441</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a6804d9caf15411f55e7b9e9f397f0422"><div class="ttname"><a href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">llvm::APInt::isNegative</a></div><div class="ttdeci">bool isNegative() const</div><div class="ttdoc">Determine sign of this APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00312">APInt.h:312</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a></div><div class="ttdeci">@ fcAllFlags</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00219">FloatingPointMode.h:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aa93fbbc66d52a51d178af8ac4398ec05"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa93fbbc66d52a51d178af8ac4398ec05">llvm::TargetLoweringBase::isOperationLegalOrCustom</a></div><div class="ttdeci">bool isOperationLegalOrCustom(unsigned Op, EVT VT, bool LegalOnly=false) const</div><div class="ttdoc">Return true if the specified operation is legal on this target or can be made legal with custom lower...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01187">TargetLowering.h:1187</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a63b5343b9da17f8bcc83ec545022f5c7"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a63b5343b9da17f8bcc83ec545022f5c7">llvm::TargetLoweringBase::allowsMisalignedMemoryAccesses</a></div><div class="ttdeci">virtual bool allowsMisalignedMemoryAccesses(EVT, unsigned AddrSpace=0, Align Alignment=Align(1), MachineMemOperand::Flags Flags=MachineMemOperand::MONone, unsigned *=nullptr) const</div><div class="ttdoc">Determine if the target supports unaligned memory accesses.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01730">TargetLowering.h:1730</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">llvm::ISD::SELECT_CC</a></div><div class="ttdeci">@ SELECT_CC</div><div class="ttdoc">Select with condition operator - This selects between a true value and a false value (ops #2 and #3) ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00728">ISDOpcodes.h:728</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">llvm::RecurKind::And</a></div><div class="ttdeci">@ And</div><div class="ttdoc">Bitwise or logical AND of integers.</div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a3a13938353e01eb66fd02918029d7471"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a3a13938353e01eb66fd02918029d7471">llvm::TargetLoweringBase::ArgListEntry::IsSRet</a></div><div class="ttdeci">bool IsSRet</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00301">TargetLowering.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1MutableArrayRef_html_a9d959094f4544749c129c46034cbed67"><div class="ttname"><a href="classllvm_1_1MutableArrayRef.html#a9d959094f4544749c129c46034cbed67">llvm::MutableArrayRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00355">ArrayRef.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a6b2b8ca5b0fdf6484247d5ae74deb9ff"><div class="ttname"><a href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">llvm::SDValue::getValueType</a></div><div class="ttdeci">EVT getValueType() const</div><div class="ttdoc">Return the ValueType of the referenced return value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01141">SelectionDAGNodes.h:1141</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a33f9f862dca8ee0f23bff5941bf433d8"><div class="ttname"><a href="classllvm_1_1APInt.html#a33f9f862dca8ee0f23bff5941bf433d8">llvm::APInt::setBit</a></div><div class="ttdeci">void setBit(unsigned BitPosition)</div><div class="ttdoc">Set the given bit to 1 whose position is given as &quot;bitPosition&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01308">APInt.h:1308</a></div></div>
<div class="ttc" id="aclassllvm_1_1CCValAssign_html"><div class="ttname"><a href="classllvm_1_1CCValAssign.html">llvm::CCValAssign</a></div><div class="ttdoc">CCValAssign - Represent assignment of one arg/retval to a location.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00031">CallingConvLower.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a88ce017798b6aec8666c35f026efbdbf"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a88ce017798b6aec8666c35f026efbdbf">llvm::SelectionDAG::isKnownToBeAPowerOfTwo</a></div><div class="ttdeci">bool isKnownToBeAPowerOfTwo(SDValue Val) const</div><div class="ttdoc">Test if the given value is known to have exactly one bit set.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l03956">SelectionDAG.cpp:3956</a></div></div>
<div class="ttc" id="aTarget_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">llvm::ISD::CTLZ</a></div><div class="ttdeci">@ CTLZ</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00702">ISDOpcodes.h:702</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af338e23a90c301183968435e80cd6a27"><div class="ttname"><a href="classllvm_1_1APInt.html#af338e23a90c301183968435e80cd6a27">llvm::APInt::lshrInPlace</a></div><div class="ttdeci">void lshrInPlace(unsigned ShiftAmt)</div><div class="ttdoc">Logical right-shift this APInt by ShiftAmt in place.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00846">APInt.h:846</a></div></div>
<div class="ttc" id="anamespacellvm_html_aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b"><div class="ttname"><a href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">llvm::PGSOQueryType::Test</a></div><div class="ttdeci">@ Test</div></div>
<div class="ttc" id="aclassllvm_1_1MutableArrayRef_html"><div class="ttname"><a href="classllvm_1_1MutableArrayRef.html">llvm::MutableArrayRef</a></div><div class="ttdoc">MutableArrayRef - Represent a mutable reference to an array (0 or more elements consecutively in memo...</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00027">ArrayRef.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html">llvm::SelectionDAG</a></div><div class="ttdoc">This is used to represent a portion of an LLVM function in a low-level Data Dependence DAG representa...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00221">SelectionDAG.h:221</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">llvm::ISD::SELECT</a></div><div class="ttdeci">@ SELECT</div><div class="ttdoc">Select(COND, TRUEVAL, FALSEVAL).</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00713">ISDOpcodes.h:713</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1AsmOperandInfo_html_ab6af857f66a2fc271535a12203d7dad6"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#ab6af857f66a2fc271535a12203d7dad6">llvm::TargetLowering::AsmOperandInfo::ConstraintType</a></div><div class="ttdeci">TargetLowering::ConstraintType ConstraintType</div><div class="ttdoc">Information about the constraint code, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04655">TargetLowering.h:4655</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a26a7dd56cd899cec0a1f6d2443f91db4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a26a7dd56cd899cec0a1f6d2443f91db4">llvm::ISD::SMULFIXSAT</a></div><div class="ttdeci">@ SMULFIXSAT</div><div class="ttdoc">Same as the corresponding unsaturated fixed point instructions, but the result is clamped between the...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00373">ISDOpcodes.h:373</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a5120eaa394627e6c1ec3d66ef77947cd"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a5120eaa394627e6c1ec3d66ef77947cd">llvm::KnownBits::umax</a></div><div class="ttdeci">static KnownBits umax(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Compute known bits for umax(LHS, RHS).</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00117">KnownBits.cpp:117</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a295d0b84f4e63438c0edb0021c41d47a"><div class="ttname"><a href="classllvm_1_1SDNode.html#a295d0b84f4e63438c0edb0021c41d47a">llvm::SDNode::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const</div><div class="ttdoc">Return true if there is exactly one use of this node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00718">SelectionDAGNodes.h:718</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">llvm::ISD::Constant</a></div><div class="ttdeci">@ Constant</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00076">ISDOpcodes.h:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">llvm::ISD::ZERO_EXTEND</a></div><div class="ttdeci">@ ZERO_EXTEND</div><div class="ttdoc">ZERO_EXTEND - Used for integer types, zeroing the new bits.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00763">ISDOpcodes.h:763</a></div></div>
<div class="ttc" id="aLint_8cpp_html_a45005634b54e2126cb3e6ec0dbc9ade4"><div class="ttname"><a href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a></div><div class="ttdeci">static bool isZero(Value *V, const DataLayout &amp;DL, DominatorTree *DT, AssumptionCache *AC)</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00524">Lint.cpp:524</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aaad0d7dc149e145475abe9f7c9769d93"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aaad0d7dc149e145475abe9f7c9769d93">llvm::TargetLowering::shouldSimplifyDemandedVectorElts</a></div><div class="ttdeci">virtual bool shouldSimplifyDemandedVectorElts(SDValue Op, const TargetLoweringOpt &amp;TLO) const</div><div class="ttdoc">Return true if the target supports simplifying demanded vector elements by converting them to undefs.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03797">TargetLowering.h:3797</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_aa7e66d5a43444879fa5037f2cfaa4de5"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aa7e66d5a43444879fa5037f2cfaa4de5">llvm::SelectionDAG::getBoolExtOrTrunc</a></div><div class="ttdeci">SDValue getBoolExtOrTrunc(SDValue Op, const SDLoc &amp;SL, EVT VT, EVT OpVT)</div><div class="ttdoc">Convert Op, which must be of integer type, to the integer type VT, by using an extension appropriate ...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01452">SelectionDAG.cpp:1452</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_a06663f3ab188bef45b0f669c9f109df5"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a06663f3ab188bef45b0f669c9f109df5">llvm::TargetLowering::DAGCombinerInfo::isBeforeLegalizeOps</a></div><div class="ttdeci">bool isBeforeLegalizeOps() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03945">TargetLowering.h:3945</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac28c549afb9f9751d45c37dc9a9b9a7d"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac28c549afb9f9751d45c37dc9a9b9a7d">llvm::SelectionDAG::getTargetBlockAddress</a></div><div class="ttdeci">SDValue getTargetBlockAddress(const BlockAddress *BA, EVT VT, int64_t Offset=0, unsigned TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00764">SelectionDAG.h:764</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a49cd5939942c6665aba4cae8c220dff1"><div class="ttname"><a href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">llvm::APInt::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdoc">Determine if this value is zero, i.e. all bits are clear.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00366">APInt.h:366</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_a364ab3316f12c7e616321c99042976d4"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a364ab3316f12c7e616321c99042976d4">llvm::TargetLowering::MakeLibCallOptions::OpsVTBeforeSoften</a></div><div class="ttdeci">ArrayRef&lt; EVT &gt; OpsVTBeforeSoften</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04367">TargetLowering.h:4367</a></div></div>
<div class="ttc" id="aInlineOrder_8cpp_html_a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6"><div class="ttname"><a href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">InlinePriorityMode::Cost</a></div><div class="ttdeci">@ Cost</div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">llvm::ISD::SETGE</a></div><div class="ttdeci">@ SETGE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01456">ISDOpcodes.h:1456</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a8063c77c39146c0790e66f5e0679475c"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a8063c77c39146c0790e66f5e0679475c">llvm::SelectionDAG::getTruncStore</a></div><div class="ttdeci">SDValue getTruncStore(SDValue Chain, const SDLoc &amp;dl, SDValue Val, SDValue Ptr, MachinePointerInfo PtrInfo, EVT SVT, Align Alignment, MachineMemOperand::Flags MMOFlags=MachineMemOperand::MONone, const AAMDNodes &amp;AAInfo=AAMDNodes())</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l08220">SelectionDAG.cpp:8220</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1CCValAssign_html_a17dbc2feaea84ef8d353095d6e618f29"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a17dbc2feaea84ef8d353095d6e618f29">llvm::CCValAssign::getLocReg</a></div><div class="ttdeci">Register getLocReg() const</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00126">CallingConvLower.h:126</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1TargetLoweringOpt_html_a7d982597884ec2aa6f04e651bb718e44"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#a7d982597884ec2aa6f04e651bb718e44">llvm::TargetLowering::TargetLoweringOpt::LegalTypes</a></div><div class="ttdeci">bool LegalTypes() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03665">TargetLowering.h:3665</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_adb09f8e31d16bc479475898f3fbdf887"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#adb09f8e31d16bc479475898f3fbdf887">llvm::SelectionDAG::getObjectPtrOffset</a></div><div class="ttdeci">SDValue getObjectPtrOffset(const SDLoc &amp;SL, SDValue Ptr, TypeSize Offset)</div><div class="ttdoc">Create an add instruction with appropriate flags when used for addressing some offset of an object.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01005">SelectionDAG.h:1005</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1a7f3f523e22ac3df6332e625289a7e6"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a7f3f523e22ac3df6332e625289a7e6">llvm::ISD::SMULFIX</a></div><div class="ttdeci">@ SMULFIX</div><div class="ttdoc">RESULT = [US]MULFIX(LHS, RHS, SCALE) - Perform fixed point multiplication on 2 integers with the same...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00367">ISDOpcodes.h:367</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a5b0e59823444a55c295af279611a9d24"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">llvm::SelectionDAG::getUNDEF</a></div><div class="ttdeci">SDValue getUNDEF(EVT VT)</div><div class="ttdoc">Return an UNDEF node. UNDEF does not have a useful SDLoc.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01057">SelectionDAG.h:1057</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">llvm::ISD::SIGN_EXTEND_INREG</a></div><div class="ttdeci">@ SIGN_EXTEND_INREG</div><div class="ttdoc">SIGN_EXTEND_INREG - This operator atomically performs a SHL/SRA pair to sign extend a small value in ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00781">ISDOpcodes.h:781</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_add49be7f78dace3e4363786d14d30899"><div class="ttname"><a href="classllvm_1_1SDNode.html#add49be7f78dace3e4363786d14d30899">llvm::SDNode::setFlags</a></div><div class="ttdeci">void setFlags(SDNodeFlags NewFlags)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00973">SelectionDAGNodes.h:973</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ab3d30ee06423d6edfa492077321c6cd2"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">llvm::SelectionDAG::getTargetLoweringInfo</a></div><div class="ttdeci">const TargetLowering &amp; getTargetLoweringInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00474">SelectionDAG.h:474</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdoc">Extended Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00034">ValueTypes.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aaa275bf149ab5df1067cfb721936ecbc"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa275bf149ab5df1067cfb721936ecbc">llvm::ISD::ANY_EXTEND_VECTOR_INREG</a></div><div class="ttdeci">@ ANY_EXTEND_VECTOR_INREG</div><div class="ttdoc">ANY_EXTEND_VECTOR_INREG(Vector) - This operator represents an in-register any-extension of the low la...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00792">ISDOpcodes.h:792</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_a940825591b8958d04664493a6ef7071c"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a940825591b8958d04664493a6ef7071c">llvm::TargetLowering::MakeLibCallOptions::setIsPostTypeLegalization</a></div><div class="ttdeci">MakeLibCallOptions &amp; setIsPostTypeLegalization(bool Value=true)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04394">TargetLowering.h:4394</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a7ddfa7ca92088dcd1b6c8936bca6917a"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a7ddfa7ca92088dcd1b6c8936bca6917a">llvm::TargetLoweringBase::isCondCodeLegal</a></div><div class="ttdeci">bool isCondCodeLegal(ISD::CondCode CC, MVT VT) const</div><div class="ttdoc">Return true if the specified condition code is legal on this target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01455">TargetLowering.h:1455</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a5f3f664c3c8fef0ffd2833ae21254117"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a5f3f664c3c8fef0ffd2833ae21254117">llvm::MachineFunction::getDenormalMode</a></div><div class="ttdeci">DenormalMode getDenormalMode(const fltSemantics &amp;FPType) const</div><div class="ttdoc">Returns the denormal handling type for the default rounding mode of the function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00307">MachineFunction.cpp:307</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdeci">@ A</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00034">ARMBaseInfo.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">llvm::MVT::f64</a></div><div class="ttdeci">@ f64</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00058">MachineValueType.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a7d26e2f2179b5a8a53381f8046e9d117"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">llvm::SelectionDAG::getConstant</a></div><div class="ttdeci">SDValue getConstant(uint64_t Val, const SDLoc &amp;DL, EVT VT, bool isTarget=false, bool isOpaque=false)</div><div class="ttdoc">Create a ConstantSDNode wrapping a constant value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01540">SelectionDAG.cpp:1540</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a6211cdb7031b6d72a4f9db2b73d4ff14"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a6211cdb7031b6d72a4f9db2b73d4ff14">llvm::TargetLoweringBase::ArgListEntry::IsReturned</a></div><div class="ttdeci">bool IsReturned</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00307">TargetLowering.h:307</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad82de9da62635df78a534de0f16c1129"><div class="ttname"><a href="namespacellvm.html#ad82de9da62635df78a534de0f16c1129">llvm::Log2</a></div><div class="ttdeci">unsigned Log2(Align A)</div><div class="ttdoc">Returns the log2 of the alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00208">Alignment.h:208</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_ae245d70802e4ebe1cae2b6122c62a22a"><div class="ttname"><a href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">llvm::EVT::getVectorNumElements</a></div><div class="ttdeci">unsigned getVectorNumElements() const</div><div class="ttdoc">Given a vector type, return the number of elements it contains.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00308">ValueTypes.h:308</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html"><div class="ttname"><a href="classllvm_1_1TargetLowering.html">llvm::TargetLowering</a></div><div class="ttdoc">This class defines information used to lower LLVM code to legal SelectionDAG operators that the targe...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03515">TargetLowering.h:3515</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aba205f553f24c184ea47fc1a6cb56537"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">llvm::KnownBits::One</a></div><div class="ttdeci">APInt One</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00025">KnownBits.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ae7aaf249138fabe6013033160f83b3a2"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ae7aaf249138fabe6013033160f83b3a2">llvm::TargetLowering::canCreateUndefOrPoisonForTargetNode</a></div><div class="ttdeci">virtual bool canCreateUndefOrPoisonForTargetNode(SDValue Op, const APInt &amp;DemandedElts, const SelectionDAG &amp;DAG, bool PoisonOnly, bool ConsiderFlags, unsigned Depth) const</div><div class="ttdoc">Return true if Op can create undef or poison from non-undef &amp; non-poison operands.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03605">TargetLowering.cpp:3605</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1AsmOperandInfo_html_aeea750ec380d5c1514f57df90dbd6c3d"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">llvm::TargetLowering::AsmOperandInfo::CallOperandVal</a></div><div class="ttdeci">Value * CallOperandVal</div><div class="ttdoc">If this is the result output operand or a clobber, this is null, otherwise it is the incoming operand...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04660">TargetLowering.h:4660</a></div></div>
<div class="ttc" id="aOcamlGCPrinter_8cpp_html_afcf2f797ed287a723263583c9b1c1bce"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ad5386f4196a9eab5701c451469f2e20e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ad5386f4196a9eab5701c451469f2e20e">llvm::SelectionDAG::MaskedValueIsZero</a></div><div class="ttdeci">bool MaskedValueIsZero(SDValue Op, const APInt &amp;Mask, unsigned Depth=0) const</div><div class="ttdoc">Return true if 'Op &amp; Mask' is known to be zero.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02559">SelectionDAG.cpp:2559</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a2bbde6375c87630d6da3bc5d8c302d69"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a2bbde6375c87630d6da3bc5d8c302d69">llvm::TargetLoweringBase::ArgListEntry::IsSwiftAsync</a></div><div class="ttdeci">bool IsSwiftAsync</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00309">TargetLowering.h:309</a></div></div>
<div class="ttc" id="anamespacellvm_1_1JumpTable_html_ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a"><div class="ttname"><a href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">llvm::JumpTable::Simplified</a></div><div class="ttdeci">@ Simplified</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00047">TargetOptions.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00045">TargetRegisterInfo.h:45</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67aad6706481db6d8fac9a1cb6c3edd3b41"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67aad6706481db6d8fac9a1cb6c3edd3b41">fcNegFinite</a></div><div class="ttdeci">@ fcNegFinite</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00217">FloatingPointMode.h:217</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1DAGCombinerInfo_html"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">llvm::TargetLowering::DAGCombinerInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03933">TargetLowering.h:3933</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a50fd53d9a3e55ae78555e11827355565"><div class="ttname"><a href="README-SSE_8txt.html#a50fd53d9a3e55ae78555e11827355565">t</a></div><div class="ttdeci">bitcast float %x to i32 %s=and i32 %t, 2147483647 %d=bitcast i32 %s to float ret float %d } declare float @fabsf(float %n) define float @bar(float %x) nounwind { %d=call float @fabsf(float %x) ret float %d } This IR(from PR6194):target datalayout=&quot;e-p:64:64:64-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f32:32:32-f64:64:64-v64:64:64-v128:128:128-a0:0:64-s0:64:64-f80:128:128-n8:16:32:64-S128&quot; target triple=&quot;x86_64-apple-darwin10.0.0&quot; %0=type { double, double } %struct.float3=type { float, float, float } define void @test(%0, %struct.float3 *nocapture %res) nounwind noinline ssp { entry:%tmp18=extractvalue %0 %0, 0 t</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00788">README-SSE.txt:788</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">llvm::ISD::TRUNCATE</a></div><div class="ttdeci">@ TRUNCATE</div><div class="ttdoc">TRUNCATE - Completely drop the high bits.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00769">ISDOpcodes.h:769</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a27bda7d8e8e4f0337650a892f3c9b46a"><div class="ttname"><a href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">llvm::MVT::SimpleTy</a></div><div class="ttdeci">SimpleValueType SimpleTy</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00341">MachineValueType.h:341</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">llvm::ISD::SRA</a></div><div class="ttdeci">@ SRA</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00692">ISDOpcodes.h:692</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">llvm::TargetLoweringBase::ZeroOrNegativeOneBooleanContent</a></div><div class="ttdeci">@ ZeroOrNegativeOneBooleanContent</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00234">TargetLowering.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a071e8d814b2b30b02544fad964227b8e"><div class="ttname"><a href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">llvm::APInt::getAllOnes</a></div><div class="ttdeci">static APInt getAllOnes(unsigned numBits)</div><div class="ttdoc">Return an APInt of a specified width with all bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00214">APInt.h:214</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a907932b29f929b1827b1b93171dcaa3c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a907932b29f929b1827b1b93171dcaa3c">llvm::ISD::FMINNUM_IEEE</a></div><div class="ttdeci">@ FMINNUM_IEEE</div><div class="ttdoc">FMINNUM_IEEE/FMAXNUM_IEEE - Perform floating-point minimum or maximum on two values,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00949">ISDOpcodes.h:949</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a1ea72c31350e168516e6ee8417f2aed9"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a1ea72c31350e168516e6ee8417f2aed9">llvm::SelectionDAG::getFreeze</a></div><div class="ttdeci">SDValue getFreeze(SDValue V)</div><div class="ttdoc">Return a freeze using the SDLoc of the value operand.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02278">SelectionDAG.cpp:2278</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a25f1fd81f2132805676c82ab8ae0c109"><div class="ttname"><a href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">llvm::StringRef::substr</a></div><div class="ttdeci">constexpr StringRef substr(size_t Start, size_t N=npos) const</div><div class="ttdoc">Return a reference to the substring from [Start, Start + N).</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00559">StringRef.h:559</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a44875c6f48f6c843cf3114a19280b5ca"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">llvm::KnownBits::hasConflict</a></div><div class="ttdeci">bool hasConflict() const</div><div class="ttdoc">Returns true if there is conflicting information.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00047">KnownBits.h:47</a></div></div>
<div class="ttc" id="astructllvm_1_1UnsignedDivisionByConstantInfo_html_a890b63a18fc3e328809c691b17c776ed"><div class="ttname"><a href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a890b63a18fc3e328809c691b17c776ed">llvm::UnsignedDivisionByConstantInfo::Magic</a></div><div class="ttdeci">APInt Magic</div><div class="ttdoc">magic number</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8h_source.html#l00032">DivisionByConstantInfo.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ade8e20ecea1091e835395746448e262e"><div class="ttname"><a href="classllvm_1_1APInt.html#ade8e20ecea1091e835395746448e262e">llvm::APInt::setLowBits</a></div><div class="ttdeci">void setLowBits(unsigned loBits)</div><div class="ttdoc">Set the bottom loBits bits.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01367">APInt.h:1367</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdeci">@ Store</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00033">SparcInstrInfo.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6">llvm::InlineAsm::isInput</a></div><div class="ttdeci">@ isInput</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00095">InlineAsm.h:95</a></div></div>
<div class="ttc" id="anamespacellvm_html_afb65eef479f0473d0fe1666b80155237"><div class="ttname"><a href="namespacellvm.html#afb65eef479f0473d0fe1666b80155237">llvm::NextPowerOf2</a></div><div class="ttdeci">constexpr uint64_t NextPowerOf2(uint64_t A)</div><div class="ttdoc">Returns the next power of two (in 64-bits) that is strictly greater than A.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00450">MathExtras.h:450</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a1cc4fec79b89ecd469ae1fe4b86b242a"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a1cc4fec79b89ecd469ae1fe4b86b242a">llvm::TargetLowering::CallLoweringInfo::setDebugLoc</a></div><div class="ttdeci">CallLoweringInfo &amp; setDebugLoc(const SDLoc &amp;dl)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04238">TargetLowering.h:4238</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3a257ffa49107e2db978e8a6e2688ada"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a257ffa49107e2db978e8a6e2688ada">llvm::ISD::UDIVREM</a></div><div class="ttdeci">@ UDIVREM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00256">ISDOpcodes.h:256</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad9be86c95736bfa4bb0dc52322a0002a"><div class="ttname"><a href="namespacellvm.html#ad9be86c95736bfa4bb0dc52322a0002a">llvm::alignDown</a></div><div class="ttdeci">uint64_t alignDown(uint64_t Value, uint64_t Align, uint64_t Skew=0)</div><div class="ttdoc">Returns the largest uint64_t less than or equal to Value and is Skew mod Align.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00533">MathExtras.h:533</a></div></div>
<div class="ttc" id="anamespacellvm_html_a646986783f35e0fef8988f0f28d2589f"><div class="ttname"><a href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a></div><div class="ttdeci">unsigned Log2_32(uint32_t Value)</div><div class="ttdoc">Return the floor log base 2 of the specified value, -1 if the value is zero.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00382">MathExtras.h:382</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1CPol_html_a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">llvm::AMDGPU::CPol::NT</a></div><div class="ttdeci">@ NT</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00319">SIDefines.h:319</a></div></div>
<div class="ttc" id="astructllvm_1_1UnsignedDivisionByConstantInfo_html_a1fe2f52cb1640befcb5c3da7d3e37c6d"><div class="ttname"><a href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a1fe2f52cb1640befcb5c3da7d3e37c6d">llvm::UnsignedDivisionByConstantInfo::PreShift</a></div><div class="ttdeci">unsigned PreShift</div><div class="ttdoc">pre-shift amount</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8h_source.html#l00035">DivisionByConstantInfo.h:35</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110">llvm::ISD::NodeType</a></div><div class="ttdeci">NodeType</div><div class="ttdoc">ISD::NodeType enum - This enum defines the target-independent operators for a SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00040">ISDOpcodes.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a31bf07f3f61525486633bc1d0bbaf029"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">llvm::BinaryOperator::getOpcode</a></div><div class="ttdeci">BinaryOps getOpcode() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00391">InstrTypes.h:391</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_af975bf04c49cc895cfe38e7dc126a2f1"><div class="ttname"><a href="structllvm_1_1EVT.html#af975bf04c49cc895cfe38e7dc126a2f1">llvm::EVT::isInteger</a></div><div class="ttdeci">bool isInteger() const</div><div class="ttdoc">Return true if this is an integer or a vector integer type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00144">ValueTypes.h:144</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">llvm::MCID::Flag</a></div><div class="ttdeci">Flag</div><div class="ttdoc">These should be considered private to the implementation of the MCInstrDesc class.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00148">MCInstrDesc.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a61054ea97168f709c1e46345f80c16a3"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a61054ea97168f709c1e46345f80c16a3">llvm::AttributeList::hasFnAttr</a></div><div class="ttdeci">bool hasFnAttr(Attribute::AttrKind Kind) const</div><div class="ttdoc">Return true if the attribute exists for the function.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01479">Attributes.cpp:1479</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a423e2c491de1408d54e35f0b47d076be"><div class="ttname"><a href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">llvm::APInt::isAllOnes</a></div><div class="ttdeci">bool isAllOnes() const</div><div class="ttdoc">Determine if all bits are set. This is true for zero-width values.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00354">APInt.h:354</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a2f37af786c5ba90887c1b4ec137a066c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a2f37af786c5ba90887c1b4ec137a066c">llvm::ISD::isBuildVectorOfConstantSDNodes</a></div><div class="ttdeci">bool isBuildVectorOfConstantSDNodes(const SDNode *N)</div><div class="ttdoc">Return true if the specified node is a BUILD_VECTOR node of all ConstantSDNode or undef.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00270">SelectionDAG.cpp:270</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a47c521bf7ba0bb2147b96d068af30d04"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a></div><div class="ttdeci">const char LLVMTargetMachineRef LLVMPassBuilderOptionsRef Options</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00048">PassBuilderBindings.cpp:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ae7fae5bf8527120e641b45702df06d45"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ae7fae5bf8527120e641b45702df06d45">llvm::SelectionDAG::getSetCCVP</a></div><div class="ttdeci">SDValue getSetCCVP(const SDLoc &amp;DL, EVT VT, SDValue LHS, SDValue RHS, ISD::CondCode Cond, SDValue Mask, SDValue EVL)</div><div class="ttdoc">Helper function to make it easier to build VP_SETCCs if you just have an ISD::CondCode instead of an ...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01184">SelectionDAG.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_adcb96bd09d7c75c7669fa5f9d1190899"><div class="ttname"><a href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">llvm::APInt::getHighBitsSet</a></div><div class="ttdeci">static APInt getHighBitsSet(unsigned numBits, unsigned hiBitsSet)</div><div class="ttdoc">Constructs an APInt value that has the top hiBitsSet bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00279">APInt.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116a85f9b8131f0608c03c58e4e23d875dfc"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a85f9b8131f0608c03c58e4e23d875dfc">llvm::TargetLowering::C_Register</a></div><div class="ttdeci">@ C_Register</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04621">TargetLowering.h:4621</a></div></div>
<div class="ttc" id="aclassllvm_1_1LSBaseSDNode_html_a6fd7837015d721d85d0dfed4623fb0f9"><div class="ttname"><a href="classllvm_1_1LSBaseSDNode.html#a6fd7837015d721d85d0dfed4623fb0f9">llvm::LSBaseSDNode::isUnindexed</a></div><div class="ttdeci">bool isUnindexed() const</div><div class="ttdoc">Return true if this is NOT a pre/post inc/dec load/store.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02339">SelectionDAGNodes.h:2339</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_af6f999a919162f7473555e2baf045bfc"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#af6f999a919162f7473555e2baf045bfc">llvm::TargetLowering::BuildSDIV</a></div><div class="ttdeci">SDValue BuildSDIV(SDNode *N, SelectionDAG &amp;DAG, bool IsAfterLegalization, SmallVectorImpl&lt; SDNode * &gt; &amp;Created) const</div><div class="ttdoc">Given an ISD::SDIV node expressing a divide by constant, return a DAG expression to select that will ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05856">TargetLowering.cpp:5856</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ac9329741a630c829cd29e00d86363f17"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ac9329741a630c829cd29e00d86363f17">llvm::TargetLowering::expandFixedPointDiv</a></div><div class="ttdeci">SDValue expandFixedPointDiv(unsigned Opcode, const SDLoc &amp;dl, SDValue LHS, SDValue RHS, unsigned Scale, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Method for building the DAG expansion of ISD::[US]DIVFIX[SAT].</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09811">TargetLowering.cpp:9811</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ad04539d64efd58e70c5e828739cf718e"><div class="ttname"><a href="classllvm_1_1StringRef.html#ad04539d64efd58e70c5e828739cf718e">llvm::StringRef::data</a></div><div class="ttdeci">const char * data() const</div><div class="ttdoc">data - Get a pointer to the start of the string (which may not be null terminated).</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00131">StringRef.h:131</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116a7bc0fe0fa6be5eaabb77e46c8d9ab2c8"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a7bc0fe0fa6be5eaabb77e46c8d9ab2c8">llvm::TargetLowering::C_Immediate</a></div><div class="ttdeci">@ C_Immediate</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04625">TargetLowering.h:4625</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">llvm::AArch64PACKey::IA</a></div><div class="ttdeci">@ IA</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00791">AArch64BaseInfo.h:791</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07aeded54fe1be320194e9ff0f5825df0e5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07aeded54fe1be320194e9ff0f5825df0e5">llvm::ISD::SETCC_INVALID</a></div><div class="ttdeci">@ SETCC_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01462">ISDOpcodes.h:1462</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755">llvm::TargetLoweringBase::BooleanContent</a></div><div class="ttdeci">BooleanContent</div><div class="ttdoc">Enum that describes how the target represents true/false values.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00231">TargetLowering.h:231</a></div></div>
<div class="ttc" id="astructllvm_1_1SignedDivisionByConstantInfo_html_a4cfbfc736687e2b99cd2cc6cd2d208c4"><div class="ttname"><a href="structllvm_1_1SignedDivisionByConstantInfo.html#a4cfbfc736687e2b99cd2cc6cd2d208c4">llvm::SignedDivisionByConstantInfo::ShiftAmount</a></div><div class="ttdeci">unsigned ShiftAmount</div><div class="ttdoc">shift amount</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8h_source.html#l00024">DivisionByConstantInfo.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a0a2081911053ceb07370842200df3e7c"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a0a2081911053ceb07370842200df3e7c">llvm::SelectionDAG::ComputeMaxSignificantBits</a></div><div class="ttdeci">unsigned ComputeMaxSignificantBits(SDValue Op, unsigned Depth=0) const</div><div class="ttdoc">Get the upper bound on bit size for this Value Op as a signed integer.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04642">SelectionDAG.cpp:4642</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">llvm::ISD::AND</a></div><div class="ttdeci">@ AND</div><div class="ttdoc">Bitwise operators - logical and, logical or, logical xor.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00666">ISDOpcodes.h:666</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a2b5fc958c69057eb6752424f6417ef42"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a2b5fc958c69057eb6752424f6417ef42">llvm::TargetLoweringBase::ArgListEntry::setAttributes</a></div><div class="ttdeci">void setAttributes(const CallBase *Call, unsigned ArgIdx)</div><div class="ttdoc">Set CallLoweringInfo attribute flags based on a call instruction and called function attributes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00110">TargetLowering.cpp:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00687">SmallVector.h:687</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa35d0a58fdded3d225d512a60aea0951"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa35d0a58fdded3d225d512a60aea0951">llvm::ISD::SMULO</a></div><div class="ttdeci">@ SMULO</div><div class="ttdoc">Same for multiplication.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00331">ISDOpcodes.h:331</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a20257a4d3833cf88afd42caeaed70dde"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a20257a4d3833cf88afd42caeaed70dde">llvm::ISD::SETOLT</a></div><div class="ttdeci">@ SETOLT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01440">ISDOpcodes.h:1440</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a781ca23d84995ffb2efaa51267053c19"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a781ca23d84995ffb2efaa51267053c19">llvm::KnownBits::sext</a></div><div class="ttdeci">KnownBits sext(unsigned BitWidth) const</div><div class="ttdoc">Return known bits for a sign extension of the value we're tracking.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00171">KnownBits.h:171</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">llvm::ISD::SPLAT_VECTOR</a></div><div class="ttdeci">@ SPLAT_VECTOR</div><div class="ttdoc">SPLAT_VECTOR(VAL) - Returns a vector with the scalar value VAL duplicated in all lanes.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00613">ISDOpcodes.h:613</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAddressSDNode_html_a0622a72b15dee45d1694b152ccb7f15b"><div class="ttname"><a href="classllvm_1_1GlobalAddressSDNode.html#a0622a72b15dee45d1694b152ccb7f15b">llvm::GlobalAddressSDNode::getGlobal</a></div><div class="ttdeci">const GlobalValue * getGlobal() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01775">SelectionDAGNodes.h:1775</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_a9c5a2112c559ffbe2c7bbf5698b6482f"><div class="ttname"><a href="classllvm_1_1APFloat.html#a9c5a2112c559ffbe2c7bbf5698b6482f">llvm::APFloat::bitcastToAPInt</a></div><div class="ttdeci">APInt bitcastToAPInt() const</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01174">APFloat.h:1174</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a9a99431f0828d0222c617eb876bc5d34"><div class="ttname"><a href="classllvm_1_1APInt.html#a9a99431f0828d0222c617eb876bc5d34">llvm::APInt::countTrailingZeros</a></div><div class="ttdeci">unsigned countTrailingZeros() const</div><div class="ttdoc">Count the number of trailing zero bits.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01591">APInt.h:1591</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67aef5dadf4b31ffe9ff41bc8b25bd012de"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67aef5dadf4b31ffe9ff41bc8b25bd012de">fcNegSubnormal</a></div><div class="ttdeci">@ fcNegSubnormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00204">FloatingPointMode.h:204</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html_a3309ab99db347b0a0bd63f859bce62a7"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#a3309ab99db347b0a0bd63f859bce62a7">llvm::ConstantSDNode::isOne</a></div><div class="ttdeci">bool isOne() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01609">SelectionDAGNodes.h:1609</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">llvm::ISD::UNINDEXED</a></div><div class="ttdeci">@ UNINDEXED</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01383">ISDOpcodes.h:1383</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a9245ed740fe76aaad3e5b0650da21c98"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a9245ed740fe76aaad3e5b0650da21c98">llvm::TargetLoweringBase::isOperationLegal</a></div><div class="ttdeci">bool isOperationLegal(unsigned Op, EVT VT) const</div><div class="ttdoc">Return true if the specified operation is legal on this target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01295">TargetLowering.h:1295</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aa8253e8cffce52e1615827da53089978"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa8253e8cffce52e1615827da53089978">llvm::TargetLoweringBase::isIntDivCheap</a></div><div class="ttdeci">virtual bool isIntDivCheap(EVT VT, AttributeList Attr) const</div><div class="ttdoc">Return true if integer divide is usually cheaper than a sequence of several shifts,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00515">TargetLowering.h:515</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1TargetLoweringOpt_html_aa59ebff339822e9d6912a36acbeff118"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aa59ebff339822e9d6912a36acbeff118">llvm::TargetLowering::TargetLoweringOpt::New</a></div><div class="ttdeci">SDValue New</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03659">TargetLowering.h:3659</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_addadecf5eb17d047842cc7b1a82e8914"><div class="ttname"><a href="TargetLowering_8cpp.html#addadecf5eb17d047842cc7b1a82e8914">combineShiftToAVG</a></div><div class="ttdeci">static SDValue combineShiftToAVG(SDValue Op, SelectionDAG &amp;DAG, const TargetLowering &amp;TLI, const APInt &amp;DemandedBits, const APInt &amp;DemandedElts, unsigned Depth)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00923">TargetLowering.cpp:923</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a4f85f5016df4fe07ad95d18e4ba5b99c"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a4f85f5016df4fe07ad95d18e4ba5b99c">llvm::TargetLowering::SimplifyMultipleUseDemandedBits</a></div><div class="ttdeci">SDValue SimplifyMultipleUseDemandedBits(SDValue Op, const APInt &amp;DemandedBits, const APInt &amp;DemandedElts, SelectionDAG &amp;DAG, unsigned Depth=0) const</div><div class="ttdoc">More limited version of SimplifyDemandedBits that can be used to &quot;look through&quot; ops that don't contri...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00647">TargetLowering.cpp:647</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_ac969b6c833cfa44c1b4fcd5790268340"><div class="ttname"><a href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">llvm::SDValue::getConstantOperandVal</a></div><div class="ttdeci">uint64_t getConstantOperandVal(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01153">SelectionDAGNodes.h:1153</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a8915297f72f1020167562805827f7160"><div class="ttname"><a href="classllvm_1_1SDValue.html#a8915297f72f1020167562805827f7160">llvm::SDValue::getValueSizeInBits</a></div><div class="ttdeci">TypeSize getValueSizeInBits() const</div><div class="ttdoc">Returns the size of the value in bits.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00199">SelectionDAGNodes.h:199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">llvm::ISD::CopyFromReg</a></div><div class="ttdeci">@ CopyFromReg</div><div class="ttdoc">CopyFromReg - This node indicates that the input value is a virtual or physical register that is defi...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00208">ISDOpcodes.h:208</a></div></div>
<div class="ttc" id="anamespacellvm_html_aad80b46c754cc7216244a866ec9b1cb0"><div class="ttname"><a href="namespacellvm.html#aad80b46c754cc7216244a866ec9b1cb0">llvm::isIntN</a></div><div class="ttdeci">bool isIntN(unsigned N, int64_t x)</div><div class="ttdoc">Checks if an signed integer fits into the given (dynamic) bit width.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00261">MathExtras.h:261</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a3bf257bfbd279ecfad670be03b00210e"><div class="ttname"><a href="structllvm_1_1EVT.html#a3bf257bfbd279ecfad670be03b00210e">llvm::EVT::bitsLT</a></div><div class="ttdeci">bool bitsLT(EVT VT) const</div><div class="ttdoc">Return true if this has less bits than VT.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00272">ValueTypes.h:272</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a4f1e1a4449b58958c5884c689e7f4861"><div class="ttname"><a href="classllvm_1_1APInt.html#a4f1e1a4449b58958c5884c689e7f4861">llvm::APInt::setSignBit</a></div><div class="ttdeci">void setSignBit()</div><div class="ttdoc">Set the sign bit to 1.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01318">APInt.h:1318</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_ab0cfceeb37508e56f9c127e59766a668"><div class="ttname"><a href="structllvm_1_1EVT.html#ab0cfceeb37508e56f9c127e59766a668">llvm::EVT::getTypeForEVT</a></div><div class="ttdeci">Type * getTypeForEVT(LLVMContext &amp;Context) const</div><div class="ttdoc">This method returns an LLVM type corresponding to the specified EVT.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8cpp_source.html#l00190">ValueTypes.cpp:190</a></div></div>
<div class="ttc" id="aclassllvm_1_1CCValAssign_html_a07dddcff2886a2b840f993f7ce17dd28"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a07dddcff2886a2b840f993f7ce17dd28">llvm::CCValAssign::isRegLoc</a></div><div class="ttdeci">bool isRegLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00120">CallingConvLower.h:120</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116ad4cd486b7360ed34c9553b6c9056b764"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116ad4cd486b7360ed34c9553b6c9056b764">llvm::TargetLowering::C_Unknown</a></div><div class="ttdeci">@ C_Unknown</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04627">TargetLowering.h:4627</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a30f3f5dc999b1dda8f20ff2242ea285a"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a30f3f5dc999b1dda8f20ff2242ea285a">llvm::TargetLowering::makeLibCall</a></div><div class="ttdeci">std::pair&lt; SDValue, SDValue &gt; makeLibCall(SelectionDAG &amp;DAG, RTLIB::Libcall LC, EVT RetVT, ArrayRef&lt; SDValue &gt; Ops, MakeLibCallOptions CallOptions, const SDLoc &amp;dl, SDValue Chain=SDValue()) const</div><div class="ttdoc">Returns a pair of (return value, chain).</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00144">TargetLowering.cpp:144</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4ffc75d65231b55461c0ba4f36a3e500"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4ffc75d65231b55461c0ba4f36a3e500">llvm::ISD::USUBO</a></div><div class="ttdeci">@ USUBO</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00328">ISDOpcodes.h:328</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aaa96f111a59a7a2e7f9c689b344543df"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aaa96f111a59a7a2e7f9c689b344543df">llvm::TargetLowering::TargetLowering</a></div><div class="ttdeci">TargetLowering(const TargetLowering &amp;)=delete</div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_acfb6d055ff40649191068eae2f52a67b"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#acfb6d055ff40649191068eae2f52a67b">llvm::TargetLoweringBase::shouldUseStrictFP_TO_INT</a></div><div class="ttdeci">virtual bool shouldUseStrictFP_TO_INT(EVT FpVT, EVT IntVT, bool IsSigned) const</div><div class="ttdoc">Return true if it is more correct/profitable to use strict FP_TO_INT conversion operations - canonica...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02266">TargetLowering.h:2266</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea">llvm::ISD::SETOLE</a></div><div class="ttdeci">@ SETOLE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01441">ISDOpcodes.h:1441</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ab242ccd4f07a4c82ec8150971616b491"><div class="ttname"><a href="classllvm_1_1APInt.html#ab242ccd4f07a4c82ec8150971616b491">llvm::APInt::isAllOnesValue</a></div><div class="ttdeci">bool isAllOnesValue() const</div><div class="ttdoc">NOTE: This is soft-deprecated. Please use isAllOnes() instead.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00363">APInt.h:363</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">llvm::ISD::SETUGT</a></div><div class="ttdeci">@ SETUGT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01446">ISDOpcodes.h:1446</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_aea8bc2b59cb3fa833eb7895a3a216abd"><div class="ttname"><a href="classllvm_1_1MVT.html#aea8bc2b59cb3fa833eb7895a3a216abd">llvm::MVT::getScalarType</a></div><div class="ttdeci">MVT getScalarType() const</div><div class="ttdoc">If this is a vector, return the element type, otherwise return this.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00544">MachineValueType.h:544</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_a17fca146e0dc0228bae32fe5548ab48a"><div class="ttname"><a href="TargetLowering_8cpp.html#a17fca146e0dc0228bae32fe5548ab48a">getKnownUndefForVectorBinop</a></div><div class="ttdeci">static APInt getKnownUndefForVectorBinop(SDValue BO, SelectionDAG &amp;DAG, const APInt &amp;UndefOp0, const APInt &amp;UndefOp1)</div><div class="ttdoc">Given a vector binary operation and known undefined elements for each input operand,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l02768">TargetLowering.cpp:2768</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a05c0ae3eb411a8c53a6ce48b66c0d3f8"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a05c0ae3eb411a8c53a6ce48b66c0d3f8">llvm::SelectionDAG::getTargetGlobalAddress</a></div><div class="ttdeci">SDValue getTargetGlobalAddress(const GlobalValue *GV, const SDLoc &amp;DL, EVT VT, int64_t offset=0, unsigned TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00717">SelectionDAG.h:717</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineJumpTableInfo_html_aaa21facdbb167f7c33d21907b8e5b9d3a6e05991949952d4e85600b0868dcd803"><div class="ttname"><a href="classllvm_1_1MachineJumpTableInfo.html#aaa21facdbb167f7c33d21907b8e5b9d3a6e05991949952d4e85600b0868dcd803">llvm::MachineJumpTableInfo::EK_LabelDifference32</a></div><div class="ttdeci">@ EK_LabelDifference32</div><div class="ttdoc">EK_LabelDifference32 - Each entry is the address of the block minus the address of the jump table.</div><div class="ttdef"><b>Definition:</b> <a href="MachineJumpTableInfo_8h_source.html#l00068">MachineJumpTableInfo.h:68</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_a5bff9344010e6337ebead35d50f3cb28"><div class="ttname"><a href="TargetLowering_8cpp.html#a5bff9344010e6337ebead35d50f3cb28">isNonZeroModBitWidthOrUndef</a></div><div class="ttdeci">static bool isNonZeroModBitWidthOrUndef(SDValue Z, unsigned BW)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07448">TargetLowering.cpp:7448</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_a0e5ffac7fd84af772a216629f8bd6da9"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a0e5ffac7fd84af772a216629f8bd6da9">llvm::TargetMachine::isPositionIndependent</a></div><div class="ttdeci">bool isPositionIndependent() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetMachine_8cpp_source.html#l00041">TargetMachine.cpp:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ac2ae48be42971dba7cc418da96444f1c"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ac2ae48be42971dba7cc418da96444f1c">llvm::TargetLowering::isOffsetFoldingLegal</a></div><div class="ttdeci">virtual bool isOffsetFoldingLegal(const GlobalAddressSDNode *GA) const</div><div class="ttdoc">Return true if folding a constant offset with the given GlobalAddress is legal.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00476">TargetLowering.cpp:476</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_a63fca221e2dec9fcba757a30ff8f37a2"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a63fca221e2dec9fcba757a30ff8f37a2">llvm::TargetLowering::MakeLibCallOptions::IsReturnValueUsed</a></div><div class="ttdeci">bool IsReturnValueUsed</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04371">TargetLowering.h:4371</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a07dfd864dd46de4511b08a1487e2719b"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a07dfd864dd46de4511b08a1487e2719b">llvm::TargetRegisterInfo::regclasses</a></div><div class="ttdeci">iterator_range&lt; regclass_iterator &gt; regclasses() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00768">TargetRegisterInfo.h:768</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a7477aafbbe989ad35b96fac186d8e9fd"><div class="ttname"><a href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeList getAttributes() const</div><div class="ttdoc">Return the attribute list for this Function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00313">Function.h:313</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a8f755cf3f22921e11922f61cb68b1a18"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a8f755cf3f22921e11922f61cb68b1a18">llvm::TargetLowering::getVectorSubVecPointer</a></div><div class="ttdeci">SDValue getVectorSubVecPointer(SelectionDAG &amp;DAG, SDValue VecPtr, EVT VecVT, EVT SubVecVT, SDValue Index) const</div><div class="ttdoc">Get a pointer to a sub-vector of type SubVecVT at index Idx located in memory for a vector of type Ve...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09406">TargetLowering.cpp:9406</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a404869a1344f5f28b149faeeae267918"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a404869a1344f5f28b149faeeae267918">llvm::TargetLowering::expandShlSat</a></div><div class="ttdeci">SDValue expandShlSat(SDNode *Node, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Method for building the DAG expansion of ISD::[US]SHLSAT.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09628">TargetLowering.cpp:9628</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a6c5745e529b6b3534599c54d82bc4691"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a6c5745e529b6b3534599c54d82bc4691">llvm::MVT::f80</a></div><div class="ttdeci">@ f80</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00059">MachineValueType.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a525f2430c0744940e57aa0586fbfba8d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a525f2430c0744940e57aa0586fbfba8d">llvm::TargetLoweringBase::getCmpLibcallReturnType</a></div><div class="ttdeci">virtual MVT::SimpleValueType getCmpLibcallReturnType() const</div><div class="ttdoc">Return the ValueType for comparison libcalls.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l01537">TargetLoweringBase.cpp:1537</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a5f64c589a5312630fe76a37f62a39707"><div class="ttname"><a href="structllvm_1_1EVT.html#a5f64c589a5312630fe76a37f62a39707">llvm::EVT::getStoreSizeInBits</a></div><div class="ttdeci">TypeSize getStoreSizeInBits() const</div><div class="ttdoc">Return the number of bits overwritten by a store of the specified value type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00379">ValueTypes.h:379</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">llvm::ISD::FADD</a></div><div class="ttdeci">@ FADD</div><div class="ttdoc">Simple binary floating point operators.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00390">ISDOpcodes.h:390</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_acfae9bdee6027ffa8ffe244cc22e3a76"><div class="ttname"><a href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">llvm::APInt::isSubsetOf</a></div><div class="ttdeci">bool isSubsetOf(const APInt &amp;RHS) const</div><div class="ttdoc">This operation checks that all bits set in this APInt are also set in RHS.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01235">APInt.h:1235</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aec662ee6ab1490a4cabebf2812e5b9ca"><div class="ttname"><a href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">llvm::APInt::getOneBitSet</a></div><div class="ttdeci">static APInt getOneBitSet(unsigned numBits, unsigned BitNo)</div><div class="ttdoc">Return an APInt with exactly one bit set in the result.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00222">APInt.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a8747bf52b49077e9bd99c692b2e0c1a5"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a8747bf52b49077e9bd99c692b2e0c1a5">llvm::SelectionDAG::getValidShiftAmountConstant</a></div><div class="ttdeci">const APInt * getValidShiftAmountConstant(SDValue V, const APInt &amp;DemandedElts) const</div><div class="ttdoc">If a SHL/SRA/SRL node V has a constant or splat constant shift amount that is less than the element b...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02882">SelectionDAG.cpp:2882</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1TargetLoweringOpt_html"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html">llvm::TargetLowering::TargetLoweringOpt</a></div><div class="ttdoc">A convenience struct that encapsulates a DAG, and two SDValues for returning information from TargetL...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03654">TargetLowering.h:3654</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a2dc80c585ad5882da8cae7b5968f7e74"><div class="ttname"><a href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">llvm::StringRef::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdoc">empty - Check if the string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00134">StringRef.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html"><div class="ttname"><a href="classllvm_1_1InlineAsm.html">llvm::InlineAsm</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00033">InlineAsm.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_af9185c7e96873c6d2c13e1f1b6322cf6"><div class="ttname"><a href="classllvm_1_1DataLayout.html#af9185c7e96873c6d2c13e1f1b6322cf6">llvm::DataLayout::getPrefTypeAlign</a></div><div class="ttdeci">Align getPrefTypeAlign(Type *Ty) const</div><div class="ttdoc">Returns the preferred stack/global alignment for the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00857">DataLayout.cpp:857</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8489c40b1b3f92b0c4fc98d06099c441"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8489c40b1b3f92b0c4fc98d06099c441">llvm::ISD::AVGCEILU</a></div><div class="ttdeci">@ AVGCEILU</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00649">ISDOpcodes.h:649</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a22c327ddfcb98f911f3197180981f41e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a22c327ddfcb98f911f3197180981f41e">llvm::SelectionDAG::getConstantPool</a></div><div class="ttdeci">SDValue getConstantPool(const Constant *C, EVT VT, MaybeAlign Align=std::nullopt, int Offs=0, bool isT=false, unsigned TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01799">SelectionDAG.cpp:1799</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a0d1546187d4d526fcbdd43183689075e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0d1546187d4d526fcbdd43183689075e">llvm::ISD::SETUNE</a></div><div class="ttdeci">@ SETUNE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01450">ISDOpcodes.h:1450</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0c644b2264cbfb220c327b1c6aa9ebf7"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0c644b2264cbfb220c327b1c6aa9ebf7">llvm::TargetLowering::getPICJumpTableRelocBaseExpr</a></div><div class="ttdeci">virtual const MCExpr * getPICJumpTableRelocBaseExpr(const MachineFunction *MF, unsigned JTI, MCContext &amp;Ctx) const</div><div class="ttdoc">This returns the relocation base for the given PIC jumptable, the same as getPICJumpTableRelocBase,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00469">TargetLowering.cpp:469</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a36474c29cc60116cc07b7d18d1dded13"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a36474c29cc60116cc07b7d18d1dded13">llvm::TargetLowering::expandBITREVERSE</a></div><div class="ttdeci">SDValue expandBITREVERSE(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand BITREVERSE nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08755">TargetLowering.cpp:8755</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6302b532981eadcac10d0d3ab01e3805"><div class="ttname"><a href="namespacellvm.html#a6302b532981eadcac10d0d3ab01e3805">llvm::getShuffleDemandedElts</a></div><div class="ttdeci">bool getShuffleDemandedElts(int SrcWidth, ArrayRef&lt; int &gt; Mask, const APInt &amp;DemandedElts, APInt &amp;DemandedLHS, APInt &amp;DemandedRHS, bool AllowUndefElts=false)</div><div class="ttdoc">Transform a shuffle mask's output demanded element mask into demanded element masks for the 2 operand...</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l00432">VectorUtils.cpp:432</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a6681829b8f3dc7f15aaa53621a4dc602"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a6681829b8f3dc7f15aaa53621a4dc602">llvm::TargetLowering::CallLoweringInfo::setLibCallee</a></div><div class="ttdeci">CallLoweringInfo &amp; setLibCallee(CallingConv::ID CC, Type *ResultType, SDValue Target, ArgListTy &amp;&amp;ArgsList)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04249">TargetLowering.h:4249</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a70b776533a213161c23bacae02f07c7b"><div class="ttname"><a href="classllvm_1_1APInt.html#a70b776533a213161c23bacae02f07c7b">llvm::APInt::isOneValue</a></div><div class="ttdeci">bool isOneValue() const</div><div class="ttdoc">NOTE: This is soft-deprecated. Please use isOne() instead.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00385">APInt.h:385</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116abc9c279d343d2f957ab51b37ff39e88e"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116abc9c279d343d2f957ab51b37ff39e88e">llvm::TargetLowering::C_Other</a></div><div class="ttdeci">@ C_Other</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04626">TargetLowering.h:4626</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_a84c1d72001dd5f34d9a55b3a7bb8a474"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a84c1d72001dd5f34d9a55b3a7bb8a474">llvm::DataLayout::isBigEndian</a></div><div class="ttdeci">bool isBigEndian() const</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00239">DataLayout.h:239</a></div></div>
<div class="ttc" id="aVectorUtils_8h_html"><div class="ttname"><a href="VectorUtils_8h.html">VectorUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a2e836f71ed0ea3e2bdd35923fe5364b8"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a2e836f71ed0ea3e2bdd35923fe5364b8">llvm::TargetLowering::softenSetCCOperands</a></div><div class="ttdeci">void softenSetCCOperands(SelectionDAG &amp;DAG, EVT VT, SDValue &amp;NewLHS, SDValue &amp;NewRHS, ISD::CondCode &amp;CCCode, const SDLoc &amp;DL, const SDValue OldLHS, const SDValue OldRHS) const</div><div class="ttdoc">Soften the operands of a comparison.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00289">TargetLowering.cpp:289</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aaac895215ecbb3c411c957c8beb39b70"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaac895215ecbb3c411c957c8beb39b70">llvm::ISD::SMIN</a></div><div class="ttdeci">@ SMIN</div><div class="ttdoc">[US]{MIN/MAX} - Binary minimum or maximum of signed or unsigned integers.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00660">ISDOpcodes.h:660</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac27a43f98abb2d1ee2f2ce99a0b34b36"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac27a43f98abb2d1ee2f2ce99a0b34b36">llvm::ISD::FMINIMUM</a></div><div class="ttdeci">@ FMINIMUM</div><div class="ttdoc">FMINIMUM/FMAXIMUM - NaN-propagating minimum/maximum that also treat -0.0 as less than 0....</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00955">ISDOpcodes.h:955</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a309c11edf22da984f95cf9ba7a699c11"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a309c11edf22da984f95cf9ba7a699c11">llvm::ISD::matchUnaryPredicate</a></div><div class="ttdeci">bool matchUnaryPredicate(SDValue Op, std::function&lt; bool(ConstantSDNode *)&gt; Match, bool AllowUndefs=false)</div><div class="ttdoc">Attempt to match a unary predicate against a scalar/splat constant or every element of a constant BUI...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00346">SelectionDAG.cpp:346</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_a87460ac8a2a87af4f31aff4205f06d3d"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a87460ac8a2a87af4f31aff4205f06d3d">llvm::TargetLowering::MakeLibCallOptions::IsSoften</a></div><div class="ttdeci">bool IsSoften</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04373">TargetLowering.h:4373</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a55a4b1d94ca6176bcb5449196d67e798"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a55a4b1d94ca6176bcb5449196d67e798">llvm::ISD::AVGCEILS</a></div><div class="ttdeci">@ AVGCEILS</div><div class="ttdoc">AVGCEILS/AVGCEILU - Rounding averaging add - Add two integers using an integer of type i[N+2],...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00648">ISDOpcodes.h:648</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html"><div class="ttname"><a href="classllvm_1_1APFloat.html">llvm::APFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00744">APFloat.h:744</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_af1364d76011b791bbac39ca8470dd2bf"><div class="ttname"><a href="TargetLowering_8cpp.html#af1364d76011b791bbac39ca8470dd2bf">BuildExactSDIV</a></div><div class="ttdeci">static SDValue BuildExactSDIV(const TargetLowering &amp;TLI, SDNode *N, const SDLoc &amp;dl, SelectionDAG &amp;DAG, SmallVectorImpl&lt; SDNode * &gt; &amp;Created)</div><div class="ttdoc">Given an exact SDIV by a constant, create a multiplication with the multiplicative inverse of the con...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05765">TargetLowering.cpp:5765</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_ae7fe7691e456e49addd866aa23896387"><div class="ttname"><a href="classllvm_1_1APFloat.html#ae7fe7691e456e49addd866aa23896387">llvm::APFloat::changeSign</a></div><div class="ttdeci">void changeSign()</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01122">APFloat.h:1122</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_af468635c22fce958df78508e85aba57a"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#af468635c22fce958df78508e85aba57a">llvm::TargetLowering::expandUADDSUBO</a></div><div class="ttdeci">void expandUADDSUBO(SDNode *Node, SDValue &amp;Result, SDValue &amp;Overflow, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Method for building the DAG expansion of ISD::U(ADD|SUB)O.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09897">TargetLowering.cpp:9897</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ab5835737100eb8c242fbafada69bc19c"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab5835737100eb8c242fbafada69bc19c">llvm::SelectionDAG::isKnownNeverZeroFloat</a></div><div class="ttdeci">bool isKnownNeverZeroFloat(SDValue Op) const</div><div class="ttdoc">Test whether the given floating point SDValue is known to never be positive or negative zero.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04943">SelectionDAG.cpp:4943</a></div></div>
<div class="ttc" id="anamespacellvm_html_acfd2e840c7c480f45753b81b504ff587"><div class="ttname"><a href="namespacellvm.html#acfd2e840c7c480f45753b81b504ff587">llvm::isNullFPConstant</a></div><div class="ttdeci">bool isNullFPConstant(SDValue V)</div><div class="ttdoc">Returns true if V is an FP constant with a value of positive zero.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10922">SelectionDAG.cpp:10922</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a863ec6ebb75bf89cfea14da646d77e92"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a863ec6ebb75bf89cfea14da646d77e92">llvm::ISD::SADDO</a></div><div class="ttdeci">@ SADDO</div><div class="ttdoc">RESULT, BOOL = [SU]ADDO(LHS, RHS) - Overflow-aware nodes for addition.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00323">ISDOpcodes.h:323</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00026">PPCPredicates.h:26</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ac4b87590b82a99014fceab7b10b52c67"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ac4b87590b82a99014fceab7b10b52c67">llvm::TargetLowering::isConstTrueVal</a></div><div class="ttdeci">bool isConstTrueVal(SDValue N) const</div><div class="ttdoc">Return if the N is a constant or constant vector equal to the true value from getBooleanContents().</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03648">TargetLowering.cpp:3648</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1f4429b3a6cbf22cea042b77cf055f40"><div class="ttname"><a href="namespacellvm.html#a1f4429b3a6cbf22cea042b77cf055f40">llvm::peekThroughBitcasts</a></div><div class="ttdeci">SDValue peekThroughBitcasts(SDValue V)</div><div class="ttdoc">Return the non-bitcasted source operand of V if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l11003">SelectionDAG.cpp:11003</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_ab3598cfe4665dac7e694fb4be22158b8"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ab3598cfe4665dac7e694fb4be22158b8">llvm::TargetLoweringBase::isBinOp</a></div><div class="ttdeci">virtual bool isBinOp(unsigned Opcode) const</div><div class="ttdoc">Return true if the node is a math/logic binary operator.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02708">TargetLowering.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ae4ecf5483b94e2bb72967b80cc2008d2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">llvm::MachineOperand::clobbersPhysReg</a></div><div class="ttdeci">static bool clobbersPhysReg(const uint32_t *RegMask, MCRegister PhysReg)</div><div class="ttdoc">clobbersPhysReg - Returns true if this RegMask clobbers PhysReg.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00646">MachineOperand.h:646</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineJumpTableInfo_html_aaa21facdbb167f7c33d21907b8e5b9d3aba174e822c60ce5af99bdb57ab3ec640"><div class="ttname"><a href="classllvm_1_1MachineJumpTableInfo.html#aaa21facdbb167f7c33d21907b8e5b9d3aba174e822c60ce5af99bdb57ab3ec640">llvm::MachineJumpTableInfo::EK_GPRel64BlockAddress</a></div><div class="ttdeci">@ EK_GPRel64BlockAddress</div><div class="ttdoc">EK_GPRel64BlockAddress - Each entry is an address of block, encoded with a relocation as gp-relative,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineJumpTableInfo_8h_source.html#l00054">MachineJumpTableInfo.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a935ace76cef67c6da10cf0633371efe1"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a935ace76cef67c6da10cf0633371efe1">llvm::SelectionDAG::RemoveDeadNode</a></div><div class="ttdeci">void RemoveDeadNode(SDNode *N)</div><div class="ttdoc">Remove the specified node from the system.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01022">SelectionDAG.cpp:1022</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_aa10ee7493bddf2c751ca6e05451ef410"><div class="ttname"><a href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a8601502de5ff2343a23ec908bbb9b406"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a8601502de5ff2343a23ec908bbb9b406">llvm::TargetLowering::expandBSWAP</a></div><div class="ttdeci">SDValue expandBSWAP(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand BSWAP nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08621">TargetLowering.cpp:8621</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a45c4a1254d0282fe537c4c3e3d5c95e7"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a45c4a1254d0282fe537c4c3e3d5c95e7">llvm::TargetLoweringBase::ArgListEntry::IsInAlloca</a></div><div class="ttdeci">bool IsInAlloca</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00305">TargetLowering.h:305</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html">llvm::TargetLowering::MakeLibCallOptions</a></div><div class="ttdoc">This structure is used to pass arguments to makeLibCall function.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04364">TargetLowering.h:4364</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a8695950995820e5f6c0407c68f91f44f"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a8695950995820e5f6c0407c68f91f44f">llvm::SelectionDAG::SplitVector</a></div><div class="ttdeci">std::pair&lt; SDValue, SDValue &gt; SplitVector(const SDValue &amp;N, const SDLoc &amp;DL, const EVT &amp;LoVT, const EVT &amp;HiVT)</div><div class="ttdoc">Split the vector with EXTRACT_SUBVECTOR using the provides VTs and return the low/high part.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l11666">SelectionDAG.cpp:11666</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a45e76d44a189e456d52e37ba3dda0fce"><div class="ttname"><a href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">llvm::EVT::getSizeInBits</a></div><div class="ttdeci">TypeSize getSizeInBits() const</div><div class="ttdoc">Return the size of the specified value type in bits.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00340">ValueTypes.h:340</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2415bea72c995bb9cf9f85bbbf90bcd7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2415bea72c995bb9cf9f85bbbf90bcd7">llvm::ISD::FMAD</a></div><div class="ttdeci">@ FMAD</div><div class="ttdoc">FMAD - Perform a * b + c, while getting the same result as the separately rounded operations.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00486">ISDOpcodes.h:486</a></div></div>
<div class="ttc" id="aInstCombineSimplifyDemanded_8cpp_html_a83ba6ab779541297eb331d3a56aa7cdd"><div class="ttname"><a href="InstCombineSimplifyDemanded_8cpp.html#a83ba6ab779541297eb331d3a56aa7cdd">ShrinkDemandedConstant</a></div><div class="ttdeci">static bool ShrinkDemandedConstant(Instruction *I, unsigned OpNo, const APInt &amp;Demanded)</div><div class="ttdoc">Check to see if the specified operand of the specified instruction is a constant integer.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineSimplifyDemanded_8cpp_source.html#l00030">InstCombineSimplifyDemanded.cpp:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a9f3f6cd0784625e11013d812e56b259a"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a9f3f6cd0784625e11013d812e56b259a">llvm::TargetLowering::expandFP_TO_SINT</a></div><div class="ttdeci">bool expandFP_TO_SINT(SDNode *N, SDValue &amp;Result, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand float(f32) to SINT(i64) conversion.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07708">TargetLowering.cpp:7708</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_aef61945034b9431b804748fc317c5548"><div class="ttname"><a href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a></div><div class="ttdeci">uint32_t Index</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00083">ELFObjHandler.cpp:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a4d5e16cbde22f5e6f007940d57a428fd"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a4d5e16cbde22f5e6f007940d57a428fd">llvm::SelectionDAG::MaxRecursionDepth</a></div><div class="ttdeci">static constexpr unsigned MaxRecursionDepth</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00444">SelectionDAG.h:444</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_af228c1ab50d777eb5b70bad47c3061af"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#af228c1ab50d777eb5b70bad47c3061af">llvm::TargetLoweringBase::ArgListEntry::IsSwiftError</a></div><div class="ttdeci">bool IsSwiftError</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00310">TargetLowering.h:310</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_ab455b98d2cc1e2a8ff7a9486ec4c2982"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#ab455b98d2cc1e2a8ff7a9486ec4c2982">llvm::APIntOps::ScaleBitMask</a></div><div class="ttdeci">APInt ScaleBitMask(const APInt &amp;A, unsigned NewBitWidth, bool MatchAllBits=false)</div><div class="ttdoc">Splat/Merge neighboring bits to widen/narrow the bitmask represented by.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02960">APInt.cpp:2960</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">llvm::ISD::FP_TO_UINT</a></div><div class="ttdeci">@ FP_TO_UINT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00820">ISDOpcodes.h:820</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFPSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantFPSDNode.html">llvm::ConstantFPSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01635">SelectionDAGNodes.h:1635</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a68c7b3dbc94a6864f2cf566958954247"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a68c7b3dbc94a6864f2cf566958954247">fcZero</a></div><div class="ttdeci">@ fcZero</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00215">FloatingPointMode.h:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a80b305b278aa0e04f80312e15b2b6d54"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">llvm::TargetLoweringBase::isTypeLegal</a></div><div class="ttdeci">bool isTypeLegal(EVT VT) const</div><div class="ttdoc">Return true if the target has native support for the specified value type.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00942">TargetLowering.h:942</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a996c7ca3dd6843ba5d55a7c217770270"><div class="ttname"><a href="classllvm_1_1StringRef.html#a996c7ca3dd6843ba5d55a7c217770270">llvm::StringRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00113">StringRef.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00652">GlobalValue.h:652</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aae4f7b25e91df6bdcdfde5c53eda539d"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aae4f7b25e91df6bdcdfde5c53eda539d">llvm::TargetLowering::verifyReturnAddressArgumentIsConstant</a></div><div class="ttdeci">bool verifyReturnAddressArgumentIsConstant(SDValue Op, SelectionDAG &amp;DAG) const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l06732">TargetLowering.cpp:6732</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a4e3b2ed6083b7fea6eab416afa82783b"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a4e3b2ed6083b7fea6eab416afa82783b">llvm::TargetLoweringBase::isFPImmLegal</a></div><div class="ttdeci">virtual bool isFPImmLegal(const APFloat &amp;, EVT, bool ForCodeSize=false) const</div><div class="ttdoc">Returns true if the target can instruction select the specified FP immediate natively.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01084">TargetLowering.h:1084</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">llvm::ISD::LOAD</a></div><div class="ttdeci">@ LOAD</div><div class="ttdoc">LOAD and STORE have token chains as their first operand, then the same operands as an LLVM load/store...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00965">ISDOpcodes.h:965</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ab85f5fcb2f3bb0aaf83041a41182a2d4"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab85f5fcb2f3bb0aaf83041a41182a2d4">llvm::SelectionDAG::getIntPtrConstant</a></div><div class="ttdeci">SDValue getIntPtrConstant(uint64_t Val, const SDLoc &amp;DL, bool isTarget=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01660">SelectionDAG.cpp:1660</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a7cfab76369f71a9f62a02815c5aa0777"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a7cfab76369f71a9f62a02815c5aa0777">llvm::ISD::getUnorderedFlavor</a></div><div class="ttdeci">unsigned getUnorderedFlavor(CondCode Cond)</div><div class="ttdoc">This function returns 0 if the condition is always false if an operand is a NaN, 1 if the condition i...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01491">ISDOpcodes.h:1491</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a35dc101b509721ffbfb58aba316de681a26f35604723482a1aee6514940c2987d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a35dc101b509721ffbfb58aba316de681a26f35604723482a1aee6514940c2987d">llvm::TargetLoweringBase::TypePromoteInteger</a></div><div class="ttdeci">@ TypePromoteInteger</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00208">TargetLowering.h:208</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">llvm::ISD::AssertZext</a></div><div class="ttdeci">@ AssertZext</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00062">ISDOpcodes.h:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aae3b959a0a2981340fd03c29f528f2f0"><div class="ttname"><a href="classllvm_1_1APInt.html#aae3b959a0a2981340fd03c29f528f2f0">llvm::APInt::logBase2</a></div><div class="ttdeci">unsigned logBase2() const</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01700">APInt.h:1700</a></div></div>
<div class="ttc" id="astructllvm_1_1SignedDivisionByConstantInfo_html_affa10b6ac03585fea6d8f1832071ebd5"><div class="ttname"><a href="structllvm_1_1SignedDivisionByConstantInfo.html#affa10b6ac03585fea6d8f1832071ebd5">llvm::SignedDivisionByConstantInfo::get</a></div><div class="ttdeci">static SignedDivisionByConstantInfo get(const APInt &amp;D)</div><div class="ttdoc">Calculate the magic numbers required to implement a signed integer division by a constant as a sequen...</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8cpp_source.html#l00021">DivisionByConstantInfo.cpp:21</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a920c5f62b372ce8ed1056422a02c356a">llvm::TargetLoweringBase::NegatibleCost::Expensive</a></div><div class="ttdeci">@ Expensive</div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_a377365b0288a4d06a07e09252d7d583f"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a377365b0288a4d06a07e09252d7d583f">llvm::DataLayout::isLittleEndian</a></div><div class="ttdeci">bool isLittleEndian() const</div><div class="ttdoc">Layout endianness...</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00238">DataLayout.h:238</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html">llvm::MachinePointerInfo</a></div><div class="ttdoc">This class contains a discriminated union of information about pointers in memory operands,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00039">MachineMemOperand.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_adc0f0b496eb788d740e4fa54b82f4477"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#adc0f0b496eb788d740e4fa54b82f4477">llvm::TargetLowering::getJumpTableEncoding</a></div><div class="ttdeci">virtual unsigned getJumpTableEncoding() const</div><div class="ttdoc">Return the entry encoding for a jump table in the current function.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00441">TargetLowering.cpp:441</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad137f00752c91478230b01c851768605"><div class="ttname"><a href="namespacellvm.html#ad137f00752c91478230b01c851768605">llvm::neg</a></div><div class="ttdeci">APFloat neg(APFloat X)</div><div class="ttdoc">Returns the negated value of the argument.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01338">APFloat.h:1338</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ab37c33cd1796e553461f26aefbf498fa"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ab37c33cd1796e553461f26aefbf498fa">llvm::TargetLowering::ParseConstraints</a></div><div class="ttdeci">virtual AsmOperandInfoVector ParseConstraints(const DataLayout &amp;DL, const TargetRegisterInfo *TRI, const CallBase &amp;Call) const</div><div class="ttdoc">Split up the constraint string from the inline assembly value into the specific constraints and their...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05377">TargetLowering.cpp:5377</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ac33a5da0df477feb5fc2df83ee638855"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ac33a5da0df477feb5fc2df83ee638855">llvm::TargetLowering::LegalizeSetCCCondCode</a></div><div class="ttdeci">bool LegalizeSetCCCondCode(SelectionDAG &amp;DAG, EVT VT, SDValue &amp;LHS, SDValue &amp;RHS, SDValue &amp;CC, SDValue Mask, SDValue EVL, bool &amp;NeedInvert, const SDLoc &amp;dl, SDValue &amp;Chain, bool IsSignaling=false) const</div><div class="ttdoc">Legalize a SETCC or VP_SETCC with given LHS and RHS and condition code CC on the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l10390">TargetLowering.cpp:10390</a></div></div>
<div class="ttc" id="aclassllvm_1_1DemandedBits_html"><div class="ttname"><a href="classllvm_1_1DemandedBits.html">llvm::DemandedBits</a></div><div class="ttdef"><b>Definition:</b> <a href="DemandedBits_8h_source.html#l00040">DemandedBits.h:40</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">llvm::ISD::EXTRACT_VECTOR_ELT</a></div><div class="ttdeci">@ EXTRACT_VECTOR_ELT</div><div class="ttdoc">EXTRACT_VECTOR_ELT(VECTOR, IDX) - Returns a single element from VECTOR identified by the (potentially...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00534">ISDOpcodes.h:534</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a8376734f311508662dd7e737752e5953"><div class="ttname"><a href="classllvm_1_1APInt.html#a8376734f311508662dd7e737752e5953">llvm::APInt::negate</a></div><div class="ttdeci">void negate()</div><div class="ttdoc">Negate this APInt in place.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01421">APInt.h:1421</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a47baccab6f8c3355a61bb4f70b2fc352"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a47baccab6f8c3355a61bb4f70b2fc352">llvm::SelectionDAG::shouldOptForSize</a></div><div class="ttdeci">bool shouldOptForSize() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01336">SelectionDAG.cpp:1336</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_af6d5cafbdfc5313e65d990120021a3ec"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a></div><div class="ttdeci">basic Basic Alias true</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l01804">BasicAliasAnalysis.cpp:1804</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">llvm::ISD::CTLZ_ZERO_UNDEF</a></div><div class="ttdeci">@ CTLZ_ZERO_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00709">ISDOpcodes.h:709</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7">fcInf</a></div><div class="ttdeci">@ fcInf</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00212">FloatingPointMode.h:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_aa167dab8c514d863ec44909befac3050"><div class="ttname"><a href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">llvm::SDNode::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned Num) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00921">SelectionDAGNodes.h:921</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_af7cb7f84d8be2c76df1936f03c598a39"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#af7cb7f84d8be2c76df1936f03c598a39">llvm::TargetLowering::BuildSREMPow2</a></div><div class="ttdeci">virtual SDValue BuildSREMPow2(SDNode *N, const APInt &amp;Divisor, SelectionDAG &amp;DAG, SmallVectorImpl&lt; SDNode * &gt; &amp;Created) const</div><div class="ttdoc">Targets may override this function to provide custom SREM lowering for power-of-2 denominators.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05842">TargetLowering.cpp:5842</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a587873e0de35da196d3f5fa6d60f738c"><div class="ttname"><a href="structllvm_1_1EVT.html#a587873e0de35da196d3f5fa6d60f738c">llvm::EVT::getHalfSizedIntegerVT</a></div><div class="ttdeci">EVT getHalfSizedIntegerVT(LLVMContext &amp;Context) const</div><div class="ttdoc">Finds the smallest simple value type that is greater than or equal to half the width of this EVT.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00397">ValueTypes.h:397</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttrBuilder_html"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html">llvm::AttrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l01040">Attributes.h:1040</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_abad5b17501ce8972fb04a149611e7177"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">llvm::SelectionDAG::getNode</a></div><div class="ttdeci">SDValue getNode(unsigned Opcode, const SDLoc &amp;DL, EVT VT, ArrayRef&lt; SDUse &gt; Ops)</div><div class="ttdoc">Gets or creates the specified node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09202">SelectionDAG.cpp:9202</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_ac79f060cd8d4b63fc6d682c076cbeec0"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#ac79f060cd8d4b63fc6d682c076cbeec0">llvm::TargetLowering::DAGCombinerInfo::isBeforeLegalize</a></div><div class="ttdeci">bool isBeforeLegalize() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03944">TargetLowering.h:3944</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a8320a54de0a273478de910ac3795058b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">llvm::MachineFrameInfo::getObjectAlign</a></div><div class="ttdeci">Align getObjectAlign(int ObjectIdx) const</div><div class="ttdoc">Return the alignment of the specified stack object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00484">MachineFrameInfo.h:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a8826883c66d420e0b7a9dd216eeaa388"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a8826883c66d420e0b7a9dd216eeaa388">llvm::MachineRegisterInfo::getLiveInPhysReg</a></div><div class="ttdeci">MCRegister getLiveInPhysReg(Register VReg) const</div><div class="ttdoc">getLiveInPhysReg - If VReg is a live-in virtual register, return the corresponding live-in physical r...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00449">MachineRegisterInfo.cpp:449</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a4adb0d9a6a73d75706dca1960dd7ec32"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a4adb0d9a6a73d75706dca1960dd7ec32">llvm::SelectionDAG::getNOT</a></div><div class="ttdeci">SDValue getNOT(const SDLoc &amp;DL, SDValue Val, EVT VT)</div><div class="ttdoc">Create a bitwise NOT operation as (XOR Val, -1).</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01496">SelectionDAG.cpp:1496</a></div></div>
<div class="ttc" id="astructllvm_1_1DenormalMode_html"><div class="ttname"><a href="structllvm_1_1DenormalMode.html">llvm::DenormalMode</a></div><div class="ttdoc">Represent subnormal handling kind for floating point instruction inputs and outputs.</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00069">FloatingPointMode.h:69</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SystemZISD_html_a24fe7decb4ebdd8b4c7a774d65fcaa7ea9cac76531875c59c8d879507bc72e282"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a24fe7decb4ebdd8b4c7a774d65fcaa7ea9cac76531875c59c8d879507bc72e282">llvm::SystemZISD::XC</a></div><div class="ttdeci">@ XC</div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00125">SystemZISelLowering.h:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a73287af67238556f601b5255cd6e6274"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a73287af67238556f601b5255cd6e6274">llvm::TargetLoweringBase::shouldAvoidTransformToShift</a></div><div class="ttdeci">virtual bool shouldAvoidTransformToShift(EVT VT, unsigned Amount) const</div><div class="ttdoc">Return true if creating a shift of the type by the given amount is not profitable.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03129">TargetLowering.h:3129</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1AsmOperandInfo_html"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">llvm::TargetLowering::AsmOperandInfo</a></div><div class="ttdoc">This contains information for each constraint that we are lowering.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04647">TargetLowering.h:4647</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5e433873c201ad85c30e42da1ae05977"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5e433873c201ad85c30e42da1ae05977">llvm::ISD::UADDSAT</a></div><div class="ttdeci">@ UADDSAT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00341">ISDOpcodes.h:341</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a77984d86d70df1f3229da7a5119652a9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a77984d86d70df1f3229da7a5119652a9">llvm::ISD::SSUBSAT</a></div><div class="ttdeci">@ SSUBSAT</div><div class="ttdoc">RESULT = [US]SUBSAT(LHS, RHS) - Perform saturation subtraction on 2 integers with the same bit width ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00349">ISDOpcodes.h:349</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadSDNode_html_ad85ec82447c2f1824538de9b449ffed0"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html#ad85ec82447c2f1824538de9b449ffed0">llvm::LoadSDNode::getExtensionType</a></div><div class="ttdeci">ISD::LoadExtType getExtensionType() const</div><div class="ttdoc">Return whether this is a plain node, or one of the varieties of value-extending loads.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02363">SelectionDAGNodes.h:2363</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdoc">Class to represent pointers.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00632">DerivedTypes.h:632</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a2415abc0d17bb4bfad67606913c8ce10"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a2415abc0d17bb4bfad67606913c8ce10">fcPosSubnormal</a></div><div class="ttdeci">@ fcPosSubnormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00207">FloatingPointMode.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a9c2450d7d33fb2ecb9b645f1ca6a9a64"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a9c2450d7d33fb2ecb9b645f1ca6a9a64">llvm::SelectionDAG::getSExtOrTrunc</a></div><div class="ttdeci">SDValue getSExtOrTrunc(SDValue Op, const SDLoc &amp;DL, EVT VT)</div><div class="ttdoc">Convert Op, which must be of integer type, to the integer type VT, by either sign-extending or trunca...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01440">SelectionDAG.cpp:1440</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a1af840a92041720670b3ddb0abadaa84"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a1af840a92041720670b3ddb0abadaa84">llvm::TargetLowering::scalarizeVectorStore</a></div><div class="ttdeci">SDValue scalarizeVectorStore(StoreSDNode *ST, SelectionDAG &amp;DAG) const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08970">TargetLowering.cpp:8970</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html_a85cc92919f7704331920d260e71a7439"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a85cc92919f7704331920d260e71a7439">llvm::MemSDNode::getOriginalAlign</a></div><div class="ttdeci">Align getOriginalAlign() const</div><div class="ttdoc">Returns alignment and volatility of the memory access.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01292">SelectionDAGNodes.h:1292</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_abd46b9ca1d156bc7e3dd9150cc106a28"><div class="ttname"><a href="classllvm_1_1SDValue.html#abd46b9ca1d156bc7e3dd9150cc106a28">llvm::SDValue::getScalarValueSizeInBits</a></div><div class="ttdeci">uint64_t getScalarValueSizeInBits() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00203">SelectionDAGNodes.h:203</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_ad717707a2df4226d0388460e87c8cd84"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84">llvm::TargetLoweringBase::NegatibleCost</a></div><div class="ttdeci">NegatibleCost</div><div class="ttdoc">Enum that specifies when a float negation is beneficial.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00279">TargetLowering.h:279</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a53fb11c0140efce7e25ca9ff5ccbac96"><div class="ttname"><a href="structllvm_1_1EVT.html#a53fb11c0140efce7e25ca9ff5ccbac96">llvm::EVT::getVectorMinNumElements</a></div><div class="ttdeci">unsigned getVectorMinNumElements() const</div><div class="ttdoc">Given a vector type, return the minimum number of elements it contains.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00331">ValueTypes.h:331</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a8cbb5470864ad6605358c0ca545eb816"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a8cbb5470864ad6605358c0ca545eb816">llvm::TargetLowering::expandDIVREMByConstant</a></div><div class="ttdeci">bool expandDIVREMByConstant(SDNode *N, SmallVectorImpl&lt; SDValue &gt; &amp;Result, EVT HiLoVT, SelectionDAG &amp;DAG, SDValue LL=SDValue(), SDValue LH=SDValue()) const</div><div class="ttdoc">Attempt to expand an n-bit div/rem/divrem by constant using a n/2-bit urem by constant and other arit...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07284">TargetLowering.cpp:7284</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a07654363c645328113b19c8772f9dc68"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a07654363c645328113b19c8772f9dc68">llvm::TargetLowering::CallLoweringInfo::setNoReturn</a></div><div class="ttdeci">CallLoweringInfo &amp; setNoReturn(bool Value=true)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04303">TargetLowering.h:4303</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a8100b5a4f22f962b81df4353c7dca01a"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a8100b5a4f22f962b81df4353c7dca01a">llvm::SelectionDAG::getAllOnesConstant</a></div><div class="ttdeci">SDValue getAllOnesConstant(const SDLoc &amp;DL, EVT VT, bool IsTarget=false, bool IsOpaque=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00656">SelectionDAG.h:656</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAddressSDNode_html_a28a0dd6ccd1cfe2a3d171685b02adab2"><div class="ttname"><a href="classllvm_1_1GlobalAddressSDNode.html#a28a0dd6ccd1cfe2a3d171685b02adab2">llvm::GlobalAddressSDNode::getOffset</a></div><div class="ttdeci">int64_t getOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01776">SelectionDAGNodes.h:1776</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a33880aaca0ad05e5f1557f079305bde5"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">llvm::details::FixedOrScalableQuantity::getFixedValue</a></div><div class="ttdeci">constexpr ScalarTy getFixedValue() const</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00182">TypeSize.h:182</a></div></div>
<div class="ttc" id="astructllvm_1_1InlineAsm_1_1ConstraintInfo_html"><div class="ttname"><a href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html">llvm::InlineAsm::ConstraintInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00122">InlineAsm.h:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af5f9dd7fb931d5c71749761348534109"><div class="ttname"><a href="classllvm_1_1APInt.html#af5f9dd7fb931d5c71749761348534109">llvm::APInt::setBitVal</a></div><div class="ttdeci">void setBitVal(unsigned BitPosition, bool BitValue)</div><div class="ttdoc">Set a given bit to a given value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01321">APInt.h:1321</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreSDNode_html"><div class="ttname"><a href="classllvm_1_1StoreSDNode.html">llvm::StoreSDNode</a></div><div class="ttdoc">This class is used to represent ISD::STORE nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02376">SelectionDAGNodes.h:2376</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">llvm::ISD::ZEXTLOAD</a></div><div class="ttdeci">@ ZEXTLOAD</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01414">ISDOpcodes.h:1414</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a64932427432abeb61241e98bea167580"><div class="ttname"><a href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">llvm::SDValue::getValue</a></div><div class="ttdeci">SDValue getValue(unsigned R) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00179">SelectionDAGNodes.h:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">llvm::MVT::i8</a></div><div class="ttdeci">@ i8</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00046">MachineValueType.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_ab1fb67187fc37e569cc5171cbebba873"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">llvm::TargetMachine::Options</a></div><div class="ttdeci">TargetOptions Options</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00119">TargetMachine.h:119</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a31d1e24e08b255d6aa290d67d16ce2c9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a31d1e24e08b255d6aa290d67d16ce2c9">llvm::ISD::SETOGT</a></div><div class="ttdeci">@ SETOGT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01438">ISDOpcodes.h:1438</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1CallLoweringInfo_html"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html">llvm::TargetLowering::CallLoweringInfo</a></div><div class="ttdoc">This structure contains all information that is necessary for lowering calls.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04198">TargetLowering.h:4198</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a76483b2b4498079d3778c57326c39e99"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a76483b2b4498079d3778c57326c39e99">llvm::TargetLoweringBase::getSetCCResultType</a></div><div class="ttdeci">virtual EVT getSetCCResultType(const DataLayout &amp;DL, LLVMContext &amp;Context, EVT VT) const</div><div class="ttdoc">Return the ValueType of the result of SETCC operations.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l01531">TargetLoweringBase.cpp:1531</a></div></div>
<div class="ttc" id="astructllvm_1_1SDNodeFlags_html_a7952a7f73530f15076b2d88a671ef480"><div class="ttname"><a href="structllvm_1_1SDNodeFlags.html#a7952a7f73530f15076b2d88a671ef480">llvm::SDNodeFlags::hasNoUnsignedWrap</a></div><div class="ttdeci">bool hasNoUnsignedWrap() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00432">SelectionDAGNodes.h:432</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a60582e34db70c3807f163839e146eb6b"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a60582e34db70c3807f163839e146eb6b">llvm::TargetLowering::expandVPBITREVERSE</a></div><div class="ttdeci">SDValue expandVPBITREVERSE(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand VP_BITREVERSE nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08817">TargetLowering.cpp:8817</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_afa7e233051b9ed8ebc0191f42698cb14"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#afa7e233051b9ed8ebc0191f42698cb14">llvm::SelectionDAG::getVectorShuffle</a></div><div class="ttdeci">SDValue getVectorShuffle(EVT VT, const SDLoc &amp;dl, SDValue N1, SDValue N2, ArrayRef&lt; int &gt; Mask)</div><div class="ttdoc">Return an ISD::VECTOR_SHUFFLE node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01964">SelectionDAG.cpp:1964</a></div></div>
<div class="ttc" id="astructllvm_1_1InlineAsm_1_1ConstraintInfo_html_a45da89271c079571aad8d046b1e612b9"><div class="ttname"><a href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a45da89271c079571aad8d046b1e612b9">llvm::InlineAsm::ConstraintInfo::Codes</a></div><div class="ttdeci">ConstraintCodeVector Codes</div><div class="ttdoc">Code - The constraint code, either the register name (in braces) or the constraint letter/number.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00153">InlineAsm.h:153</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a752372e170e4e7c595bf8810bb52adf2"><div class="ttname"><a href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">llvm::EVT::getIntegerVT</a></div><div class="ttdeci">static EVT getIntegerVT(LLVMContext &amp;Context, unsigned BitWidth)</div><div class="ttdoc">Returns the EVT that represents an integer with the given number of bits.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00064">ValueTypes.h:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_ad717707a2df4226d0388460e87c8cd84a4691542279fb918ac8c43619d77aefdf"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ad717707a2df4226d0388460e87c8cd84a4691542279fb918ac8c43619d77aefdf">llvm::TargetLoweringBase::NegatibleCost::Cheaper</a></div><div class="ttdeci">@ Cheaper</div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdoc">Primary interface to the complete machine description for the target machine.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00078">TargetMachine.h:78</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">llvm::ISD::MULHS</a></div><div class="ttdeci">@ MULHS</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00638">ISDOpcodes.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">llvm::MVT::Other</a></div><div class="ttdeci">@ Other</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00042">MachineValueType.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a7be7c6dd92efc0d6f866d4a3b433eed0"><div class="ttname"><a href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">llvm::MVT::getSizeInBits</a></div><div class="ttdeci">TypeSize getSizeInBits() const</div><div class="ttdoc">Returns the size of the specified MVT in bits.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00925">MachineValueType.h:925</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html">llvm::TargetLoweringBase::ArgListEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00293">TargetLowering.h:293</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a18fcadd076ad53e6df94e0ca7a80a9ef"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo &amp; getFrameInfo()</div><div class="ttdoc">getFrameInfo - Return the frame info object for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00688">MachineFunction.h:688</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">llvm::ISD::SETULT</a></div><div class="ttdeci">@ SETULT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01448">ISDOpcodes.h:1448</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ae2df7595bc1ca95875194e801eb0831c"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ae2df7595bc1ca95875194e801eb0831c">llvm::TargetLowering::expandShiftParts</a></div><div class="ttdeci">void expandShiftParts(SDNode *N, SDValue &amp;Lo, SDValue &amp;Hi, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand shift-by-parts.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07656">TargetLowering.cpp:7656</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a7f47812e8e75b0616a97d7004e5fb909"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a7f47812e8e75b0616a97d7004e5fb909">llvm::KnownBits::countMinLeadingZeros</a></div><div class="ttdeci">unsigned countMinLeadingZeros() const</div><div class="ttdoc">Returns the minimum number of leading zero bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00243">KnownBits.h:243</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_af891179ec1a3f9e9bfaedede7d68783e"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#af891179ec1a3f9e9bfaedede7d68783e">llvm::TargetLowering::expandUINT_TO_FP</a></div><div class="ttdeci">bool expandUINT_TO_FP(SDNode *N, SDValue &amp;Result, SDValue &amp;Chain, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand UINT(i64) to double(f64) conversion.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07881">TargetLowering.cpp:7881</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_adf997f1047734d3b47b8d5a9b2163f11"><div class="ttname"><a href="classllvm_1_1APInt.html#adf997f1047734d3b47b8d5a9b2163f11">llvm::APInt::extractBits</a></div><div class="ttdeci">APInt extractBits(unsigned numBits, unsigned bitPosition) const</div><div class="ttdoc">Return an APInt with the extracted bits [bitPosition,bitPosition+numBits).</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00444">APInt.cpp:444</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ab30ac12d744d55e5d9d8795b1ce53433"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab30ac12d744d55e5d9d8795b1ce53433">llvm::SelectionDAG::getSelectCC</a></div><div class="ttdeci">SDValue getSelectCC(const SDLoc &amp;DL, SDValue LHS, SDValue RHS, SDValue True, SDValue False, ISD::CondCode Cond)</div><div class="ttdoc">Helper function to make it easier to build SelectCC's if you just have an ISD::CondCode instead of an...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01206">SelectionDAG.h:1206</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_acda2deb78c222a106bbd8c5cef0830b8"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#acda2deb78c222a106bbd8c5cef0830b8">llvm::TargetLowering::expandVPCTTZ</a></div><div class="ttdeci">SDValue expandVPCTTZ(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand VP_CTTZ/VP_CTTZ_ZERO_UNDEF nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08550">TargetLowering.cpp:8550</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_af07f5608b45a2a7489aa58374ebf9d0a"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#af07f5608b45a2a7489aa58374ebf9d0a">llvm::TargetLowering::expandIntMINMAX</a></div><div class="ttdeci">SDValue expandIntMINMAX(SDNode *Node, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Method for building the DAG expansion of ISD::[US][MIN|MAX].</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09502">TargetLowering.cpp:9502</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">llvm::ISD::CondCode</a></div><div class="ttdeci">CondCode</div><div class="ttdoc">ISD::CondCode enum - These are ordered carefully to make the bitfields below work out,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01434">ISDOpcodes.h:1434</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ad7132042cb8b5d655e4bd58e346bc820"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ad7132042cb8b5d655e4bd58e346bc820">llvm::TargetLowering::expandROT</a></div><div class="ttdeci">SDValue expandROT(SDNode *N, bool AllowVectorOps, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand rotations.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07601">TargetLowering.cpp:7601</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a4676f4bc7da9235ff3b6683dd670d7be"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a4676f4bc7da9235ff3b6683dd670d7be">llvm::KnownBits::countMaxPopulation</a></div><div class="ttdeci">unsigned countMaxPopulation() const</div><div class="ttdoc">Returns the maximum number of bits that could be one.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00298">KnownBits.h:298</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aadc85d973be8149bbaa5f372aa1faf3e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadc85d973be8149bbaa5f372aa1faf3e">llvm::ISD::SDIVFIXSAT</a></div><div class="ttdeci">@ SDIVFIXSAT</div><div class="ttdoc">Same as the corresponding unsaturated fixed point instructions, but the result is clamped between the...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00386">ISDOpcodes.h:386</a></div></div>
<div class="ttc" id="aSIWholeQuadMode_8cpp_html_a0c198437833c48138f49e3589bd08773"><div class="ttname"><a href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a></div><div class="ttdeci">SI Whole Quad Mode</div><div class="ttdef"><b>Definition:</b> <a href="SIWholeQuadMode_8cpp_source.html#l00262">SIWholeQuadMode.cpp:262</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ad86f53ca31fd59930678248efbfaf516"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ad86f53ca31fd59930678248efbfaf516">llvm::KnownBits::uge</a></div><div class="ttdeci">static std::optional&lt; bool &gt; uge(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Determine if these known bits always give the same ICMP_UGE result.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00357">KnownBits.cpp:357</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aCodeGenCommonISel_8h_html"><div class="ttname"><a href="CodeGenCommonISel_8h.html">CodeGenCommonISel.h</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a470621733f1ffb597e6f502040216da4"><div class="ttname"><a href="structllvm_1_1EVT.html#a470621733f1ffb597e6f502040216da4">llvm::EVT::isByteSized</a></div><div class="ttdeci">bool isByteSized() const</div><div class="ttdoc">Return true if the bit size is a multiple of 8.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00215">ValueTypes.h:215</a></div></div>
<div class="ttc" id="astructllvm_1_1InlineAsm_1_1ConstraintInfo_html_a3400e49d5c9d94f96aa1117ecd0b799d"><div class="ttname"><a href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#a3400e49d5c9d94f96aa1117ecd0b799d">llvm::InlineAsm::ConstraintInfo::Type</a></div><div class="ttdeci">ConstraintPrefix Type</div><div class="ttdoc">Type - The basic type of the constraint: input/output/clobber/label.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00125">InlineAsm.h:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a64f6469ab95c4eec77e4ccf303619a81"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a64f6469ab95c4eec77e4ccf303619a81">llvm::SelectionDAG::getBitcast</a></div><div class="ttdeci">SDValue getBitcast(EVT VT, SDValue V)</div><div class="ttdoc">Return a bitcast using the SDLoc of the value operand, and casting to the provided type.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02250">SelectionDAG.cpp:2250</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttrBuilder_html_a6abb550fd00c7568af7b045429491d9e"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html#a6abb550fd00c7568af7b045429491d9e">llvm::AttrBuilder::contains</a></div><div class="ttdeci">bool contains(Attribute::AttrKind A) const</div><div class="ttdoc">Return true if the builder has the specified attribute.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01872">Attributes.cpp:1872</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html"><div class="ttname"><a href="classllvm_1_1MVT.html">llvm::MVT</a></div><div class="ttdoc">Machine Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00031">MachineValueType.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_af733c4038dc9aeec1b4a4bc962fa2412"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#af733c4038dc9aeec1b4a4bc962fa2412">llvm::TargetLowering::BuildSDIVPow2</a></div><div class="ttdeci">virtual SDValue BuildSDIVPow2(SDNode *N, const APInt &amp;Divisor, SelectionDAG &amp;DAG, SmallVectorImpl&lt; SDNode * &gt; &amp;Created) const</div><div class="ttdoc">Targets may override this function to provide custom SDIV lowering for power-of-2 denominators.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05831">TargetLowering.cpp:5831</a></div></div>
<div class="ttc" id="aclassllvm_1_1MutableArrayRef_html_aae2bf8b46988a2fc0589e95903930c19"><div class="ttname"><a href="classllvm_1_1MutableArrayRef.html#aae2bf8b46988a2fc0589e95903930c19">llvm::MutableArrayRef::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00354">ArrayRef.h:354</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af760edf2d4a395488417d4d9b1714a3a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af760edf2d4a395488417d4d9b1714a3a">llvm::ISD::SUBCARRY</a></div><div class="ttdeci">@ SUBCARRY</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00304">ISDOpcodes.h:304</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="astructllvm_1_1DenormalMode_html_a29b26e3ae30f3f6ec4106ff181282893ad6fd23eb0b98a2d4551582753191b6da"><div class="ttname"><a href="structllvm_1_1DenormalMode.html#a29b26e3ae30f3f6ec4106ff181282893ad6fd23eb0b98a2d4551582753191b6da">llvm::DenormalMode::IEEE</a></div><div class="ttdeci">@ IEEE</div><div class="ttdoc">IEEE-754 denormal numbers preserved.</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00076">FloatingPointMode.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a9ffeb949f6e945ab38edfca83ff24431"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a9ffeb949f6e945ab38edfca83ff24431">llvm::TargetLowering::SimplifyMultipleUseDemandedBitsForTargetNode</a></div><div class="ttdeci">virtual SDValue SimplifyMultipleUseDemandedBitsForTargetNode(SDValue Op, const APInt &amp;DemandedBits, const APInt &amp;DemandedElts, SelectionDAG &amp;DAG, unsigned Depth) const</div><div class="ttdoc">More limited version of SimplifyDemandedBits that can be used to &quot;look through&quot; ops that don't contri...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03558">TargetLowering.cpp:3558</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a6e790c9b8a58da97902f450571d237c8"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a6e790c9b8a58da97902f450571d237c8">llvm::TargetLowering::getTargetNodeName</a></div><div class="ttdeci">virtual const char * getTargetNodeName(unsigned Opcode) const</div><div class="ttdoc">This method returns the name of a target specific DAG node.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00042">TargetLowering.cpp:42</a></div></div>
<div class="ttc" id="astructllvm_1_1UnsignedDivisionByConstantInfo_html_aadab71767738ad10ccb7600fa732fd96"><div class="ttname"><a href="structllvm_1_1UnsignedDivisionByConstantInfo.html#aadab71767738ad10ccb7600fa732fd96">llvm::UnsignedDivisionByConstantInfo::PostShift</a></div><div class="ttdeci">unsigned PostShift</div><div class="ttdoc">post-shift amount</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8h_source.html#l00034">DivisionByConstantInfo.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ae83b3d8e9a944b5d818e80524a5003e2"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ae83b3d8e9a944b5d818e80524a5003e2">llvm::SelectionDAG::CreateStackTemporary</a></div><div class="ttdeci">SDValue CreateStackTemporary(TypeSize Bytes, Align Alignment)</div><div class="ttdoc">Create a stack temporary based on the size in bytes and the alignment.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02368">SelectionDAG.cpp:2368</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a78139be59781ad05e1698eb95c58e0b1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78139be59781ad05e1698eb95c58e0b1">llvm::ISD::SRA_PARTS</a></div><div class="ttdeci">@ SRA_PARTS</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00750">ISDOpcodes.h:750</a></div></div>
<div class="ttc" id="anamespacellvm_html_a403260df3a211e47e65f35fbfd9bee8faf5ccb8d51ca38e2f3329955fc0149cd4"><div class="ttname"><a href="namespacellvm.html#a403260df3a211e47e65f35fbfd9bee8faf5ccb8d51ca38e2f3329955fc0149cd4">llvm::FloatStyle::Exponent</a></div><div class="ttdeci">@ Exponent</div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_a9459055a98e20980521289e8d20fcc7e"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#a9459055a98e20980521289e8d20fcc7e">llvm::MachinePointerInfo::getWithOffset</a></div><div class="ttdeci">MachinePointerInfo getWithOffset(int64_t O) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00079">MachineMemOperand.h:79</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1AsmOperandInfo_html_acaa17aeb01534f4ef06085783d0cd065"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#acaa17aeb01534f4ef06085783d0cd065">llvm::TargetLowering::AsmOperandInfo::ConstraintCode</a></div><div class="ttdeci">std::string ConstraintCode</div><div class="ttdoc">This contains the actual string for the code, like &quot;m&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04651">TargetLowering.h:4651</a></div></div>
<div class="ttc" id="aLazyValueInfo_8cpp_html_add11cb1bc38847ce70e526af765dcce7"><div class="ttname"><a href="LazyValueInfo_8cpp.html#add11cb1bc38847ce70e526af765dcce7">info</a></div><div class="ttdeci">lazy value info</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l00058">LazyValueInfo.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a4e3a2187cacdec76028617a403c47d89"><div class="ttname"><a href="classllvm_1_1APInt.html#a4e3a2187cacdec76028617a403c47d89">llvm::APInt::urem</a></div><div class="ttdeci">APInt urem(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned remainder operation.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01664">APInt.cpp:1664</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a7ee632093c5fc25ca22faa353105aa74"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a7ee632093c5fc25ca22faa353105aa74">llvm::SelectionDAG::getGlobalAddress</a></div><div class="ttdeci">SDValue getGlobalAddress(const GlobalValue *GV, const SDLoc &amp;DL, EVT VT, int64_t offset=0, bool isTargetGA=false, unsigned TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01732">SelectionDAG.cpp:1732</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0708b6269ed83d16f576dfa263c969f8"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0708b6269ed83d16f576dfa263c969f8">llvm::TargetLowering::expandMULO</a></div><div class="ttdeci">bool expandMULO(SDNode *Node, SDValue &amp;Result, SDValue &amp;Overflow, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Method for building the DAG expansion of ISD::[US]MULO.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09978">TargetLowering.cpp:9978</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a60c6a1f325fca72d8ae832c79b6f2daa"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a60c6a1f325fca72d8ae832c79b6f2daa">llvm::TargetLowering::expandABS</a></div><div class="ttdeci">SDValue expandABS(SDNode *N, SelectionDAG &amp;DAG, bool IsNegative=false) const</div><div class="ttdoc">Expand ABS nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08566">TargetLowering.cpp:8566</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a795c61cf1031636a1f7d90056da39afc"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a795c61cf1031636a1f7d90056da39afc">llvm::TargetLoweringBase::getSimpleValueType</a></div><div class="ttdeci">MVT getSimpleValueType(const DataLayout &amp;DL, Type *Ty, bool AllowUnknown=false) const</div><div class="ttdoc">Return the MVT corresponding to this LLVM type. See getValueType.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01540">TargetLowering.h:1540</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3dfd1b187d121c0e214698eef1c20f53"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3dfd1b187d121c0e214698eef1c20f53">llvm::ISD::FMAXIMUM</a></div><div class="ttdeci">@ FMAXIMUM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00956">ISDOpcodes.h:956</a></div></div>
<div class="ttc" id="astructllvm_1_1UnsignedDivisionByConstantInfo_html_a1b8b2eee90075caf0407679fb780f5c9"><div class="ttname"><a href="structllvm_1_1UnsignedDivisionByConstantInfo.html#a1b8b2eee90075caf0407679fb780f5c9">llvm::UnsignedDivisionByConstantInfo::IsAdd</a></div><div class="ttdeci">bool IsAdd</div><div class="ttdoc">add indicator</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8h_source.html#l00033">DivisionByConstantInfo.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_a445e4efb3b76e845742b7179c9e1f219"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a445e4efb3b76e845742b7179c9e1f219">llvm::TargetLowering::MakeLibCallOptions::IsPostTypeLegalization</a></div><div class="ttdeci">bool IsPostTypeLegalization</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04372">TargetLowering.h:4372</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_aa54976197fff266f4143beb44fc9764c"><div class="ttname"><a href="structllvm_1_1EVT.html#aa54976197fff266f4143beb44fc9764c">llvm::EVT::isVector</a></div><div class="ttdeci">bool isVector() const</div><div class="ttdoc">Return true if this is a vector value type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00154">ValueTypes.h:154</a></div></div>
<div class="ttc" id="astructllvm_1_1UnsignedDivisionByConstantInfo_html"><div class="ttname"><a href="structllvm_1_1UnsignedDivisionByConstantInfo.html">llvm::UnsignedDivisionByConstantInfo</a></div><div class="ttdoc">Magic data for optimising unsigned division by a constant.</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8h_source.html#l00028">DivisionByConstantInfo.h:28</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af675e759c0ffff8d48ea14a60fe3517b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af675e759c0ffff8d48ea14a60fe3517b">llvm::ISD::UMAX</a></div><div class="ttdeci">@ UMAX</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00663">ISDOpcodes.h:663</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a1020d2b51aa8633c1fc9332abe12504a"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a1020d2b51aa8633c1fc9332abe12504a">llvm::SelectionDAG::getSelect</a></div><div class="ttdeci">SDValue getSelect(const SDLoc &amp;DL, EVT VT, SDValue Cond, SDValue LHS, SDValue RHS)</div><div class="ttdoc">Helper function to make it easier to build Select's if you just have operands and don't want to check...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01196">SelectionDAG.h:1196</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a539bdb4fdbf46e0bfcefebf5ac6d21dd"><div class="ttname"><a href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">llvm::APInt::getAllOnesValue</a></div><div class="ttdeci">static APInt getAllOnesValue(unsigned numBits)</div><div class="ttdoc">NOTE: This is soft-deprecated. Please use getAllOnes() instead.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00219">APInt.h:219</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aMCAsmInfo_8h_html"><div class="ttname"><a href="MCAsmInfo_8h.html">MCAsmInfo.h</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_ae0f503db91504a3f3440ab81260e4134"><div class="ttname"><a href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a></div><div class="ttdeci">BinaryOperator * Mul</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00070">X86PartialReduction.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a5bb88f5f9d77d753e87c256950f16955"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a5bb88f5f9d77d753e87c256950f16955">llvm::MachineFrameInfo::setHasCalls</a></div><div class="ttdeci">void setHasCalls(bool V)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00614">MachineFrameInfo.h:614</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">llvm::MVT::i64</a></div><div class="ttdeci">@ i64</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00049">MachineValueType.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_ac4ab9dd9440c55bee1aa4a1195cee759"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">llvm::details::FixedOrScalableQuantity::getKnownMinValue</a></div><div class="ttdeci">constexpr ScalarTy getKnownMinValue() const</div><div class="ttdoc">Returns the minimum value this quantity can represent.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00163">TypeSize.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdoc">Class to represent struct types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00213">DerivedTypes.h:213</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a7a3c71bbcbbfe364fc019b710aa01d48"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a7a3c71bbcbbfe364fc019b710aa01d48">llvm::TargetLowering::LowerToTLSEmulatedModel</a></div><div class="ttdeci">virtual SDValue LowerToTLSEmulatedModel(const GlobalAddressSDNode *GA, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Lower TLS global address SDNode for target independent emulated TLS model.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09440">TargetLowering.cpp:9440</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a51c3c203b80468b8761416d14e6f5b7f"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a51c3c203b80468b8761416d14e6f5b7f">llvm::KnownBits::zext</a></div><div class="ttdeci">KnownBits zext(unsigned BitWidth) const</div><div class="ttdoc">Return known bits for a zero extension of the value we're tracking.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00163">KnownBits.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a556f35d8a6a0497584093bab410a2c12"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a556f35d8a6a0497584093bab410a2c12">llvm::TargetLowering::LowerAsmOperandForConstraint</a></div><div class="ttdeci">virtual void LowerAsmOperandForConstraint(SDValue Op, std::string &amp;Constraint, std::vector&lt; SDValue &gt; &amp;Ops, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Lower the specified operand into the Ops vector.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05232">TargetLowering.cpp:5232</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a547a88964f1673c84410baa7a2a83f4d"><div class="ttname"><a href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">llvm::EVT::getScalarSizeInBits</a></div><div class="ttdeci">uint64_t getScalarSizeInBits() const</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00352">ValueTypes.h:352</a></div></div>
<div class="ttc" id="aclassllvm_1_1BuildVectorSDNode_html"><div class="ttname"><a href="classllvm_1_1BuildVectorSDNode.html">llvm::BuildVectorSDNode</a></div><div class="ttdoc">A &quot;pseudo-class&quot; with methods for operating on BUILD_VECTORs.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01992">SelectionDAGNodes.h:1992</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">llvm::logicalview::LVAttributeKind::Zero</a></div><div class="ttdeci">@ Zero</div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">llvm::ISD::SREM</a></div><div class="ttdeci">@ SREM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00244">ISDOpcodes.h:244</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantDataArray_html_acea0f5c18b4593bf27592dfcfe59de6f"><div class="ttname"><a href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">llvm::ConstantDataArray::get</a></div><div class="ttdeci">static Constant * get(LLVMContext &amp;Context, ArrayRef&lt; ElementTy &gt; Elts)</div><div class="ttdoc">get() constructor - Return a constant with array type with an element count and element type matching...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00691">Constants.h:691</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">llvm::ISD::UMUL_LOHI</a></div><div class="ttdeci">@ UMUL_LOHI</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00251">ISDOpcodes.h:251</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_adaf5c0a9d9f810432a85bd299081e0a7"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#adaf5c0a9d9f810432a85bd299081e0a7">llvm::TargetRegisterInfo::isTypeLegalForClass</a></div><div class="ttdeci">bool isTypeLegalForClass(const TargetRegisterClass &amp;RC, MVT T) const</div><div class="ttdoc">Return true if the given TargetRegisterClass has the ValueType T.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00296">TargetRegisterInfo.h:296</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad6192a54cb1dfeca8173749cc735269a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad6192a54cb1dfeca8173749cc735269a">llvm::ISD::STRICT_FSUB</a></div><div class="ttdeci">@ STRICT_FSUB</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00401">ISDOpcodes.h:401</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a977e54da724d62e7b08e2ad69723731e"><div class="ttname"><a href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">llvm::SDValue::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01149">SelectionDAGNodes.h:1149</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a36667800244fd25561bfa51041058103"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a36667800244fd25561bfa51041058103">llvm::TargetLowering::expandCTTZ</a></div><div class="ttdeci">SDValue expandCTTZ(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand CTTZ/CTTZ_ZERO_UNDEF nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08494">TargetLowering.cpp:8494</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_adaa48a9ffc9de44a999a9862667ce082"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#adaa48a9ffc9de44a999a9862667ce082">llvm::TargetLowering::isGAPlusOffset</a></div><div class="ttdeci">virtual bool isGAPlusOffset(SDNode *N, const GlobalValue *&amp;GA, int64_t &amp;Offset) const</div><div class="ttdoc">Returns true (and the GlobalValue and the offset) if the node is a GlobalAddress + offset.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05129">TargetLowering.cpp:5129</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1AsmOperandInfo_html_af95c6ddf8fb7d70a4d3f25fd996433ec"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#af95c6ddf8fb7d70a4d3f25fd996433ec">llvm::TargetLowering::AsmOperandInfo::getMatchedOperand</a></div><div class="ttdeci">unsigned getMatchedOperand() const</div><div class="ttdoc">If this is an input matching constraint, this method returns the output operand it matches.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05366">TargetLowering.cpp:5366</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_aa571393f242ebc7da5682b7e85394d60"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aa571393f242ebc7da5682b7e85394d60">llvm::TargetLowering::DAGCombinerInfo::isCalledByLegalizer</a></div><div class="ttdeci">bool isCalledByLegalizer() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03948">TargetLowering.h:3948</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_a07df6b2f8ad8ae0dd165bdedc3c97da6"><div class="ttname"><a href="TargetLowering_8cpp.html#a07df6b2f8ad8ae0dd165bdedc3c97da6">foldSetCCWithFunnelShift</a></div><div class="ttdeci">static SDValue foldSetCCWithFunnelShift(EVT VT, SDValue N0, SDValue N1, ISD::CondCode Cond, const SDLoc &amp;dl, SelectionDAG &amp;DAG)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l04133">TargetLowering.cpp:4133</a></div></div>
<div class="ttc" id="aREADME-FPStack_8txt_html_aeb9a134c2755c0ad7801bf630a790904"><div class="ttname"><a href="README-FPStack_8txt.html#aeb9a134c2755c0ad7801bf630a790904">trunc</a></div><div class="ttdeci">We have fiadd patterns now but the followings have the same cost and complexity We need a way to specify the later is more profitable def def The FP stackifier should handle simple permutates to reduce number of shuffle e g trunc</div><div class="ttdef"><b>Definition:</b> <a href="README-FPStack_8txt_source.html#l00063">README-FPStack.txt:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a342c0d4e8e59b30daefe9a05bc2098bd"><div class="ttname"><a href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">llvm::SDValue::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const</div><div class="ttdoc">Return true if there is exactly one node using value ResNo of Node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01185">SelectionDAGNodes.h:1185</a></div></div>
<div class="ttc" id="aRISCVRedundantCopyElimination_8cpp_html_a77c69067ae8279bc00ab8757731e90d7"><div class="ttname"><a href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a></div><div class="ttdeci">auto CC</div><div class="ttdef"><b>Definition:</b> <a href="RISCVRedundantCopyElimination_8cpp_source.html#l00079">RISCVRedundantCopyElimination.cpp:79</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">llvm::ISD::SMUL_LOHI</a></div><div class="ttdeci">@ SMUL_LOHI</div><div class="ttdoc">SMUL_LOHI/UMUL_LOHI - Multiply two integers of type iN, producing a signed/unsigned value of type i[2...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00250">ISDOpcodes.h:250</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a477ef80c70c7359199eace0e5d3133b1">llvm::ISD::BUILTIN_OP_END</a></div><div class="ttdeci">@ BUILTIN_OP_END</div><div class="ttdoc">BUILTIN_OP_END - This must be the last enum value in this list.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01311">ISDOpcodes.h:1311</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aa6212c76af6dce96dfd1b788278f7239"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aa6212c76af6dce96dfd1b788278f7239">llvm::TargetLowering::getRegForInlineAsmConstraint</a></div><div class="ttdeci">virtual std::pair&lt; unsigned, const TargetRegisterClass * &gt; getRegForInlineAsmConstraint(const TargetRegisterInfo *TRI, StringRef Constraint, MVT VT) const</div><div class="ttdoc">Given a physical register constraint (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05315">TargetLowering.cpp:5315</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a293cdca810c396f99a2bd63b017dd943"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293cdca810c396f99a2bd63b017dd943">llvm::ISD::UMULFIX</a></div><div class="ttdeci">@ UMULFIX</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00368">ISDOpcodes.h:368</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a3bd6f5f6112a6332044d8fb6c12a6050"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a3bd6f5f6112a6332044d8fb6c12a6050">llvm::TargetLowering::computeKnownAlignForTargetInstr</a></div><div class="ttdeci">virtual Align computeKnownAlignForTargetInstr(GISelKnownBits &amp;Analysis, Register R, const MachineRegisterInfo &amp;MRI, unsigned Depth=0) const</div><div class="ttdoc">Determine the known alignment for the pointer value R.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03506">TargetLowering.cpp:3506</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a5fbc38db5c4f3ef878ab19245d3f381d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a5fbc38db5c4f3ef878ab19245d3f381d">llvm::ISD::getSetCCInverse</a></div><div class="ttdeci">CondCode getSetCCInverse(CondCode Operation, EVT Type)</div><div class="ttdoc">Return the operation corresponding to !(X op Y), where 'op' is a valid SetCC operation.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00582">SelectionDAG.cpp:582</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_acbcc973a299b6f8733774668210b5227"><div class="ttname"><a href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">llvm::SDValue::getSimpleValueType</a></div><div class="ttdeci">MVT getSimpleValueType() const</div><div class="ttdoc">Return the simple ValueType of the referenced return value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00190">SelectionDAGNodes.h:190</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ab39b8344ba817aaef1101ffbb545214b"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ab39b8344ba817aaef1101ffbb545214b">llvm::TargetLowering::isSplatValueForTargetNode</a></div><div class="ttdeci">virtual bool isSplatValueForTargetNode(SDValue Op, const APInt &amp;DemandedElts, APInt &amp;UndefElts, const SelectionDAG &amp;DAG, unsigned Depth=0) const</div><div class="ttdoc">Return true if vector Op has the same value across all DemandedElts, indicating any elements which ma...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03631">TargetLowering.cpp:3631</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="astructllvm_1_1SDVTList_html"><div class="ttname"><a href="structllvm_1_1SDVTList.html">llvm::SDVTList</a></div><div class="ttdoc">This represents a list of ValueType's that has been intern'd by a SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00079">SelectionDAGNodes.h:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a0566221f10834bfcea70965379745a20"><div class="ttname"><a href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">llvm::Type::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">Return the LLVMContext in which this type was uniqued.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00129">Type.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ad0ca2613f95bcc8581dbc7cf80a3e3d6"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ad0ca2613f95bcc8581dbc7cf80a3e3d6">llvm::TargetLowering::getTargetConstantFromLoad</a></div><div class="ttdeci">virtual const Constant * getTargetConstantFromLoad(LoadSDNode *LD) const</div><div class="ttdoc">This method returns the constant pool value that will be loaded by LD.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03588">TargetLowering.cpp:3588</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a017a91fde9e329082de784114d8f137c"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a017a91fde9e329082de784114d8f137c">llvm::SelectionDAG::getReducedAlign</a></div><div class="ttdeci">Align getReducedAlign(EVT VT, bool UseABI)</div><div class="ttdoc">In most cases this function returns the ABI alignment for a given type, except for illegal vector typ...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02340">SelectionDAG.cpp:2340</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">llvm::ISD::FMUL</a></div><div class="ttdeci">@ FMUL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00392">ISDOpcodes.h:392</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad55a17543ef86f6d46aebb45028a9067"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad55a17543ef86f6d46aebb45028a9067">llvm::ISD::VECTOR_SPLICE</a></div><div class="ttdeci">@ VECTOR_SPLICE</div><div class="ttdoc">VECTOR_SPLICE(VEC1, VEC2, IMM) - Returns a subvector of the same type as VEC1/VEC2 from CONCAT_VECTOR...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00598">ISDOpcodes.h:598</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a473f320dfda19e58aae543df31d4bbeb"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a473f320dfda19e58aae543df31d4bbeb">llvm::TargetLowering::CallLoweringInfo::setIsPostTypeLegalization</a></div><div class="ttdeci">CallLoweringInfo &amp; setIsPostTypeLegalization(bool Value=true)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04348">TargetLowering.h:4348</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">llvm::ISD::SEXTLOAD</a></div><div class="ttdeci">@ SEXTLOAD</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01414">ISDOpcodes.h:1414</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa30a145a99902daca036d039378abca2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa30a145a99902daca036d039378abca2">llvm::ISD::SSHLSAT</a></div><div class="ttdeci">@ SSHLSAT</div><div class="ttdoc">RESULT = [US]SHLSAT(LHS, RHS) - Perform saturation left shift.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00359">ISDOpcodes.h:359</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a5d154312bef0ed1a6bacfcb52b7cf8eb"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5d154312bef0ed1a6bacfcb52b7cf8eb">llvm::SelectionDAG::getBuildVector</a></div><div class="ttdeci">SDValue getBuildVector(EVT VT, const SDLoc &amp;DL, ArrayRef&lt; SDValue &gt; Ops)</div><div class="ttdoc">Return an ISD::BUILD_VECTOR node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00824">SelectionDAG.h:824</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a05d674becc60ba4ef8cd4dd4d38ac27a"><div class="ttname"><a href="classllvm_1_1APInt.html#a05d674becc60ba4ef8cd4dd4d38ac27a">llvm::APInt::udiv</a></div><div class="ttdeci">APInt udiv(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned division operation.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01571">APInt.cpp:1571</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a354aae224911d4dab66e34bfa10cf5d6"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a354aae224911d4dab66e34bfa10cf5d6">llvm::SelectionDAG::getConstantFP</a></div><div class="ttdeci">SDValue getConstantFP(double Val, const SDLoc &amp;DL, EVT VT, bool isTarget=false)</div><div class="ttdoc">Create a ConstantFPSDNode wrapping a constant value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01714">SelectionDAG.cpp:1714</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a155466c9ea0a2bd00e09c62fdce2c052"><div class="ttname"><a href="classllvm_1_1APInt.html#a155466c9ea0a2bd00e09c62fdce2c052">llvm::APInt::clearBit</a></div><div class="ttdeci">void clearBit(unsigned BitPosition)</div><div class="ttdoc">Set a given bit to 0.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01385">APInt.h:1385</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89">llvm::TargetLowering::C_RegisterClass</a></div><div class="ttdeci">@ C_RegisterClass</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04622">TargetLowering.h:4622</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">llvm::ISD::INTRINSIC_WO_CHAIN</a></div><div class="ttdeci">@ INTRINSIC_WO_CHAIN</div><div class="ttdoc">RESULT = INTRINSIC_WO_CHAIN(INTRINSICID, arg1, arg2, ...) This node represents a target intrinsic fun...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00184">ISDOpcodes.h:184</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">llvm::ISD::XOR</a></div><div class="ttdeci">@ XOR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00668">ISDOpcodes.h:668</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_ae4ac6bc14db22dbd7b94a3b1bd276796"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ae4ac6bc14db22dbd7b94a3b1bd276796">llvm::TargetLoweringBase::ArgListTy</a></div><div class="ttdeci">std::vector&lt; ArgListEntry &gt; ArgListTy</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00323">TargetLowering.h:323</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadSDNode_html_ac9f1cc5985b1840e29407c526f7f9f34"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html#ac9f1cc5985b1840e29407c526f7f9f34">llvm::LoadSDNode::getBasePtr</a></div><div class="ttdeci">const SDValue &amp; getBasePtr() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02367">SelectionDAGNodes.h:2367</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a1dc76cc8bf703e6ada68bededcbb9573"><div class="ttname"><a href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">llvm::APInt::zext</a></div><div class="ttdeci">APInt zext(unsigned width) const</div><div class="ttdoc">Zero extend to a new width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00973">APInt.cpp:973</a></div></div>
<div class="ttc" id="astructllvm_1_1InlineAsm_1_1ConstraintInfo_html_abceda5166e96dabf2ea376669b86699d"><div class="ttname"><a href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#abceda5166e96dabf2ea376669b86699d">llvm::InlineAsm::ConstraintInfo::multipleAlternatives</a></div><div class="ttdeci">SubConstraintInfoVector multipleAlternatives</div><div class="ttdoc">multipleAlternatives - If there are multiple alternative constraints, this array will contain them.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00160">InlineAsm.h:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ae68e9d64fc90ea5529fd680ffa730f93"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ae68e9d64fc90ea5529fd680ffa730f93">llvm::TargetLowering::PerformDAGCombine</a></div><div class="ttdeci">virtual SDValue PerformDAGCombine(SDNode *N, DAGCombinerInfo &amp;DCI) const</div><div class="ttdoc">This method will be invoked for all target nodes and for any target-independent nodes that the target...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05159">TargetLowering.cpp:5159</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdeci">@ FrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00080">ISDOpcodes.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a5db9240c74644c67759dd0f901fc3c7d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">llvm::StringRef::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdoc">size - Get the string size.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00137">StringRef.h:137</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">llvm::ISD::INSERT_SUBVECTOR</a></div><div class="ttdeci">@ INSERT_SUBVECTOR</div><div class="ttdoc">INSERT_SUBVECTOR(VECTOR1, VECTOR2, IDX) - Returns a vector with VECTOR2 inserted into VECTOR1.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00558">ISDOpcodes.h:558</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a1ae2ee148379ed3d041b4bce586f7f99"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a1ae2ee148379ed3d041b4bce586f7f99">llvm::TargetLoweringBase::getTargetMachine</a></div><div class="ttdeci">const TargetMachine &amp; getTargetMachine() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00358">TargetLowering.h:358</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_aee35a362966ced72913881d8a2dc3be8"><div class="ttname"><a href="structllvm_1_1EVT.html#aee35a362966ced72913881d8a2dc3be8">llvm::EVT::getHalfNumVectorElementsVT</a></div><div class="ttdeci">EVT getHalfNumVectorElementsVT(LLVMContext &amp;Context) const</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00420">ValueTypes.h:420</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">llvm::ISD::SETLT</a></div><div class="ttdeci">@ SETLT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01457">ISDOpcodes.h:1457</a></div></div>
<div class="ttc" id="anamespacellvm_html_af8b512107b41f4ccaf001e31218135c3"><div class="ttname"><a href="namespacellvm.html#af8b512107b41f4ccaf001e31218135c3">llvm::isAllOnesConstant</a></div><div class="ttdeci">bool isAllOnesConstant(SDValue V)</div><div class="ttdoc">Returns true if V is an integer constant with all bits set.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10927">SelectionDAG.cpp:10927</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">llvm::NVPTX::PTXLdStInstCode::V2</a></div><div class="ttdeci">@ V2</div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00124">NVPTX.h:124</a></div></div>
<div class="ttc" id="astructllvm_1_1APFloatBase_html_a482d9cf95b588eb05cefeaa5c05be9a3"><div class="ttname"><a href="structllvm_1_1APFloatBase.html#a482d9cf95b588eb05cefeaa5c05be9a3">llvm::APFloatBase::rmTowardZero</a></div><div class="ttdeci">static constexpr roundingMode rmTowardZero</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00221">APFloat.h:221</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a632dd4bb044d5cd11f671d176ef495f2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a632dd4bb044d5cd11f671d176ef495f2">llvm::ISD::FMAXNUM</a></div><div class="ttdeci">@ FMAXNUM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00943">ISDOpcodes.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a060643cd486cc89888445e758f5b270e"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a060643cd486cc89888445e758f5b270e">llvm::TargetLowering::expandVPCTLZ</a></div><div class="ttdeci">SDValue expandVPCTLZ(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand VP_CTLZ/VP_CTLZ_ZERO_UNDEF nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08423">TargetLowering.cpp:8423</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aea8004e0e191218d92f8699ef35f95cb"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aea8004e0e191218d92f8699ef35f95cb">llvm::TargetLowering::expandFixedPointMul</a></div><div class="ttdeci">SDValue expandFixedPointMul(SDNode *Node, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Method for building the DAG expansion of ISD::[U|S]MULFIX[SAT].</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09668">TargetLowering.cpp:9668</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a28ee15b0286415cce5599d4fb9f9ce02"><div class="ttname"><a href="classllvm_1_1APInt.html#a28ee15b0286415cce5599d4fb9f9ce02">llvm::APInt::multiplicativeInverse</a></div><div class="ttdeci">APInt multiplicativeInverse(const APInt &amp;modulo) const</div><div class="ttdoc">Computes the multiplicative inverse of this APInt for a given modulo.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01242">APInt.cpp:1242</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">llvm::AArch64CC::VS</a></div><div class="ttdeci">@ VS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00261">AArch64BaseInfo.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_acf82847f1e6fae251ba4183cffd4a3d5"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">llvm::SelectionDAG::computeKnownBits</a></div><div class="ttdeci">KnownBits computeKnownBits(SDValue Op, unsigned Depth=0) const</div><div class="ttdoc">Determine which bits of Op are known to be either zero or one and return them in Known.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02958">SelectionDAG.cpp:2958</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a317c64fd4cfebc88e79387b3821a629d"><div class="ttname"><a href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">llvm::APInt::trunc</a></div><div class="ttdeci">APInt trunc(unsigned width) const</div><div class="ttdoc">Truncate to new width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00898">APInt.cpp:898</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAddressSDNode_html"><div class="ttname"><a href="classllvm_1_1GlobalAddressSDNode.html">llvm::GlobalAddressSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01763">SelectionDAGNodes.h:1763</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html"><div class="ttname"><a href="structllvm_1_1KnownBits.html">llvm::KnownBits</a></div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00023">KnownBits.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_af8f23324695cbe752e5844b472d9f2c3"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#af8f23324695cbe752e5844b472d9f2c3">llvm::TargetLowering::expandMUL_LOHI</a></div><div class="ttdeci">bool expandMUL_LOHI(unsigned Opcode, EVT VT, const SDLoc &amp;dl, SDValue LHS, SDValue RHS, SmallVectorImpl&lt; SDValue &gt; &amp;Result, EVT HiLoVT, SelectionDAG &amp;DAG, MulExpansionKind Kind, SDValue LL=SDValue(), SDValue LH=SDValue(), SDValue RL=SDValue(), SDValue RH=SDValue()) const</div><div class="ttdoc">Expand a MUL or [US]MUL_LOHI of n-bit values into two or four nodes, respectively,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07072">TargetLowering.cpp:7072</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">llvm::ISD::EXTRACT_SUBVECTOR</a></div><div class="ttdeci">@ EXTRACT_SUBVECTOR</div><div class="ttdoc">EXTRACT_SUBVECTOR(VECTOR, IDX) - Returns a subvector from VECTOR.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00572">ISDOpcodes.h:572</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae4a4e2126c6db34e2dfd71b6bd0408ee"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae4a4e2126c6db34e2dfd71b6bd0408ee">llvm::ISD::FP_TO_SINT_SAT</a></div><div class="ttdeci">@ FP_TO_SINT_SAT</div><div class="ttdoc">FP_TO_[US]INT_SAT - Convert floating point value in operand 0 to a signed or unsigned scalar integer ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00838">ISDOpcodes.h:838</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a305a3a4874c597243cd5ba04af01339e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a305a3a4874c597243cd5ba04af01339e">llvm::SelectionDAG::UnrollVectorOp</a></div><div class="ttdeci">SDValue UnrollVectorOp(SDNode *N, unsigned ResNE=0)</div><div class="ttdoc">Utility function used by legalize and lowering to &quot;unroll&quot; a vector operation by splitting out the sc...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l11439">SelectionDAG.cpp:11439</a></div></div>
<div class="ttc" id="astructllvm_1_1SDNodeFlags_html_ad03ee82e34dac079eca6da220393888d"><div class="ttname"><a href="structllvm_1_1SDNodeFlags.html#ad03ee82e34dac079eca6da220393888d">llvm::SDNodeFlags::hasNoSignedWrap</a></div><div class="ttdeci">bool hasNoSignedWrap() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00433">SelectionDAGNodes.h:433</a></div></div>
<div class="ttc" id="aclassuint16__t_html"><div class="ttname"><a href="classuint16__t.html">uint16_t</a></div></div>
<div class="ttc" id="aCallingConvLower_8h_html"><div class="ttname"><a href="CallingConvLower_8h.html">CallingConvLower.h</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ad2ecbbccee1ca4e3ddde24cc714ec79e"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ad2ecbbccee1ca4e3ddde24cc714ec79e">llvm::KnownBits::countMinPopulation</a></div><div class="ttdeci">unsigned countMinPopulation() const</div><div class="ttdoc">Returns the number of bits known to be one.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00293">KnownBits.h:293</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1CallLoweringInfo_html_af54e7f3a39a713cace514e9ccbcf9dbd"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#af54e7f3a39a713cace514e9ccbcf9dbd">llvm::TargetLowering::CallLoweringInfo::setZExtResult</a></div><div class="ttdeci">CallLoweringInfo &amp; setZExtResult(bool Value=true)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04333">TargetLowering.h:4333</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_a0e0eec2bc485ea4429e847585d75645d"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a0e0eec2bc485ea4429e847585d75645d">llvm::TargetLowering::MakeLibCallOptions::setTypeListBeforeSoften</a></div><div class="ttdeci">MakeLibCallOptions &amp; setTypeListBeforeSoften(ArrayRef&lt; EVT &gt; OpsVT, EVT RetVT, bool Value=true)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04399">TargetLowering.h:4399</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1a86775f3d85d98a31b2751e1eb348ea"><div class="ttname"><a href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">llvm::isNullConstant</a></div><div class="ttdeci">bool isNullConstant(SDValue V)</div><div class="ttdoc">Returns true if V is a constant integer zero.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10917">SelectionDAG.cpp:10917</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_aa85c75e8eb097f02caeb5b9119eebfef"><div class="ttname"><a href="structllvm_1_1EVT.html#aa85c75e8eb097f02caeb5b9119eebfef">llvm::EVT::getScalarType</a></div><div class="ttdeci">EVT getScalarType() const</div><div class="ttdoc">If this is a vector type, return the element type, otherwise return this.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00295">ValueTypes.h:295</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aaab3219acc86e3b3a199effbb69aa07a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaab3219acc86e3b3a199effbb69aa07a">llvm::ISD::UMULFIXSAT</a></div><div class="ttdeci">@ UMULFIXSAT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00374">ISDOpcodes.h:374</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a511f48809ad14f13e50b957a137a9d34adf39e7f7e158f2ccacae6d4446197322"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34adf39e7f7e158f2ccacae6d4446197322">llvm::InlineAsm::isClobber</a></div><div class="ttdeci">@ isClobber</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00097">InlineAsm.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1BuildVectorSDNode_html_a72a594eb8072e3372e2e9935ecc21fda"><div class="ttname"><a href="classllvm_1_1BuildVectorSDNode.html#a72a594eb8072e3372e2e9935ecc21fda">llvm::BuildVectorSDNode::getConstantSplatNode</a></div><div class="ttdeci">ConstantSDNode * getConstantSplatNode(const APInt &amp;DemandedElts, BitVector *UndefElements=nullptr) const</div><div class="ttdoc">Returns the demanded splatted constant or null if this is not a constant splat.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l11899">SelectionDAG.cpp:11899</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86_html_a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e"><div class="ttname"><a href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">llvm::X86::FirstMacroFusionInstKind::Cmp</a></div><div class="ttdeci">@ Cmp</div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_aab02cae39021298de712f76e16cbc9fd"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#aab02cae39021298de712f76e16cbc9fd">llvm::TargetLowering::BuildUDIV</a></div><div class="ttdeci">SDValue BuildUDIV(SDNode *N, SelectionDAG &amp;DAG, bool IsAfterLegalization, SmallVectorImpl&lt; SDNode * &gt; &amp;Created) const</div><div class="ttdoc">Given an ISD::UDIV node expressing a divide by constant, return a DAG expression to select that will ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l06004">TargetLowering.cpp:6004</a></div></div>
<div class="ttc" id="aMachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1FPOpFusion_html_a9c71bae9f02af273833fde586d529fc5a451b4af21652249f72a40a7f9b88ca4f"><div class="ttname"><a href="namespacellvm_1_1FPOpFusion.html#a9c71bae9f02af273833fde586d529fc5a451b4af21652249f72a40a7f9b88ca4f">llvm::FPOpFusion::Strict</a></div><div class="ttdeci">@ Strict</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00039">TargetOptions.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_af0f68c9c0e4a38aebd5773f80dd5b716"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">llvm::SelectionDAG::getEntryNode</a></div><div class="ttdeci">SDValue getEntryNode() const</div><div class="ttdoc">Return the token chain corresponding to the entry of the function.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00550">SelectionDAG.h:550</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_a0c43f88b7b733fa84bb93583d9163b54"><div class="ttname"><a href="TargetLowering_8cpp.html#a0c43f88b7b733fa84bb93583d9163b54">expandVPFunnelShift</a></div><div class="ttdeci">static SDValue expandVPFunnelShift(SDNode *Node, SelectionDAG &amp;DAG)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07455">TargetLowering.cpp:7455</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a9cc23aed232ccdeadbd8648c349236a6"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a9cc23aed232ccdeadbd8648c349236a6">llvm::ISD::getSetCCSwappedOperands</a></div><div class="ttdeci">CondCode getSetCCSwappedOperands(CondCode Operation)</div><div class="ttdoc">Return the operation corresponding to (Y op X) when given the operation for (X op Y).</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00559">SelectionDAG.cpp:559</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a7f5cab5437026605269663cda7389abc"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abc">llvm::TargetLowering::ConstraintWeight</a></div><div class="ttdeci">ConstraintWeight</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04630">TargetLowering.h:4630</a></div></div>
<div class="ttc" id="aGlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1CallLoweringInfo_html_ad5cf76737759f216ba840ca2eda7c2bc"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#ad5cf76737759f216ba840ca2eda7c2bc">llvm::TargetLowering::CallLoweringInfo::setDiscardResult</a></div><div class="ttdeci">CallLoweringInfo &amp; setDiscardResult(bool Value=true)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04318">TargetLowering.h:4318</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">llvm::ISD::FSIN</a></div><div class="ttdeci">@ FSIN</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00914">ISDOpcodes.h:914</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_aa8fca8c414a664c8d1cd44da876b8b3b"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">llvm::SelectionDAG::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00468">SelectionDAG.h:468</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a1d0a7c99f3541df874ad98ba481b27d6"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a1d0a7c99f3541df874ad98ba481b27d6">fcSubnormal</a></div><div class="ttdeci">@ fcSubnormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00214">FloatingPointMode.h:214</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a1b6b4785fa27be394cf040e543d9fe7c"><div class="ttname"><a href="classllvm_1_1APInt.html#a1b6b4785fa27be394cf040e543d9fe7c">llvm::APInt::isNegatedPowerOf2</a></div><div class="ttdeci">bool isNegatedPowerOf2() const</div><div class="ttdoc">Check if this APInt's negated value is a power of two greater than zero.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00441">APInt.h:441</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html"><div class="ttname"><a href="classllvm_1_1TypeSize.html">llvm::TypeSize</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00314">TypeSize.h:314</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_aae6594d69bd253616ae16674187e6396"><div class="ttname"><a href="TargetLowering_8cpp.html#aae6594d69bd253616ae16674187e6396">turnVectorIntoSplatVector</a></div><div class="ttdeci">static void turnVectorIntoSplatVector(MutableArrayRef&lt; SDValue &gt; Values, std::function&lt; bool(SDValue)&gt; Predicate, SDValue AlternativeReplacement=SDValue())</div><div class="ttdoc">If all values in Values that don't match the predicate are same 'splat' value, then replace all value...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l06190">TargetLowering.cpp:6190</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1AsmOperandInfo_html_afd6e275c2987abf718d772b908b06557"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#afd6e275c2987abf718d772b908b06557">llvm::TargetLowering::AsmOperandInfo::isMatchingInputConstraint</a></div><div class="ttdeci">bool isMatchingInputConstraint() const</div><div class="ttdoc">Return true of this is an input operand that is a matching constraint like &quot;4&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05359">TargetLowering.cpp:5359</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a92e582ead745c86654cd8d0e1228f0c5"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a92e582ead745c86654cd8d0e1228f0c5">llvm::KnownBits::ugt</a></div><div class="ttdeci">static std::optional&lt; bool &gt; ugt(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Determine if these known bits always give the same ICMP_UGT result.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00347">KnownBits.cpp:347</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">llvm::ISD::BUILD_VECTOR</a></div><div class="ttdeci">@ BUILD_VECTOR</div><div class="ttdoc">BUILD_VECTOR(ELT0, ELT1, ELT2, ELT3,...) - Return a fixed-width vector with the specified,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00514">ISDOpcodes.h:514</a></div></div>
<div class="ttc" id="astructllvm_1_1fltSemantics_html"><div class="ttname"><a href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00097">APFloat.cpp:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a794008429218ce6d45147c450cb769fa"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a794008429218ce6d45147c450cb769fa">llvm::TargetLowering::ShrinkDemandedOp</a></div><div class="ttdeci">bool ShrinkDemandedOp(SDValue Op, unsigned BitWidth, const APInt &amp;Demanded, TargetLoweringOpt &amp;TLO) const</div><div class="ttdoc">Convert x+y to (VT)((SmallVT)x+(SmallVT)y) if the casts are free.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00554">TargetLowering.cpp:554</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2ab6db512a611d1ef4ff8069e2bbfd0d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2ab6db512a611d1ef4ff8069e2bbfd0d">llvm::ISD::SUBC</a></div><div class="ttdeci">@ SUBC</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00270">ISDOpcodes.h:270</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a0248ed29f933c5faa55cbdfebf3139bd"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a0248ed29f933c5faa55cbdfebf3139bd">llvm::TargetLoweringBase::isOperationExpand</a></div><div class="ttdeci">bool isOperationExpand(unsigned Op, EVT VT) const</div><div class="ttdoc">Return true if the specified operation is illegal on this target or unlikely to be made legal with cu...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01290">TargetLowering.h:1290</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_a9e3e1453357b1b1cd870a4ac3528f918"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">llvm::TargetLowering::DAGCombinerInfo::AddToWorklist</a></div><div class="ttdeci">void AddToWorklist(SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="DAGCombiner_8cpp_source.html#l00977">DAGCombiner.cpp:977</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ac16686da29a8a1a231b6a18209c7558c"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ac16686da29a8a1a231b6a18209c7558c">llvm::TargetLowering::SimplifySetCC</a></div><div class="ttdeci">SDValue SimplifySetCC(EVT VT, SDValue N0, SDValue N1, ISD::CondCode Cond, bool foldBooleans, DAGCombinerInfo &amp;DCI, const SDLoc &amp;dl) const</div><div class="ttdoc">Try to simplify a setcc built with the specified operands and cc.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l04201">TargetLowering.cpp:4201</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">llvm::MVT::i32</a></div><div class="ttdeci">@ i32</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00048">MachineValueType.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a9c5c55349d97e80ea41acf500118ffc7"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a9c5c55349d97e80ea41acf500118ffc7">llvm::TargetLoweringBase::ArgListEntry::IsSwiftSelf</a></div><div class="ttdeci">bool IsSwiftSelf</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00308">TargetLowering.h:308</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">llvm::ISD::SETUO</a></div><div class="ttdeci">@ SETUO</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01444">ISDOpcodes.h:1444</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1AsmOperandInfo_html_a7cd6f0fbc0aebaac2019af30a06c7b18"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#a7cd6f0fbc0aebaac2019af30a06c7b18">llvm::TargetLowering::AsmOperandInfo::ConstraintVT</a></div><div class="ttdeci">MVT ConstraintVT</div><div class="ttdoc">The ValueType for the operand value.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04663">TargetLowering.h:4663</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARCCC_html_a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4"><div class="ttname"><a href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">llvm::ARCCC::Z</a></div><div class="ttdeci">@ Z</div><div class="ttdef"><b>Definition:</b> <a href="ARCInfo_8h_source.html#l00041">ARCInfo.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">llvm::ISD::SDIV</a></div><div class="ttdeci">@ SDIV</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00242">ISDOpcodes.h:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html"><div class="ttname"><a href="classllvm_1_1SDValue.html">llvm::SDValue</a></div><div class="ttdoc">Unlike LLVM values, Selection DAG nodes may return multiple values as the result of a computation.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00145">SelectionDAGNodes.h:145</a></div></div>
<div class="ttc" id="anamespacellvm_html_af14335020a68db7b9f722810e4a05180a421c6b20238e6e6585270538188f15b9"><div class="ttname"><a href="namespacellvm.html#af14335020a68db7b9f722810e4a05180a421c6b20238e6e6585270538188f15b9">llvm::fltNanEncoding::AllOnes</a></div><div class="ttdeci">@ AllOnes</div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a29366507d51536f380af3c2184bfe374"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a29366507d51536f380af3c2184bfe374">llvm::TargetLoweringBase::isSExtCheaperThanZExt</a></div><div class="ttdeci">virtual bool isSExtCheaperThanZExt(EVT FromTy, EVT ToTy) const</div><div class="ttdoc">Return true if sign-extension from FromTy to ToTy is cheaper than zero-extension.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02841">TargetLowering.h:2841</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac479e53ca98903b1028ec80e12fb0af8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac479e53ca98903b1028ec80e12fb0af8">llvm::ISD::TargetConstant</a></div><div class="ttdeci">@ TargetConstant</div><div class="ttdoc">TargetConstant* - Like Constant*, but the DAG does not do any folding, simplification,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00158">ISDOpcodes.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_af13178a29af7ffd19f78abcdf6f5be50"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#af13178a29af7ffd19f78abcdf6f5be50">llvm::TargetLoweringBase::ArgListEntry::IsByVal</a></div><div class="ttdeci">bool IsByVal</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00303">TargetLowering.h:303</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSymbolRefExpr_html_a6a80122686401107aecb1cb750d4a698"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#a6a80122686401107aecb1cb750d4a698">llvm::MCSymbolRefExpr::create</a></div><div class="ttdeci">static const MCSymbolRefExpr * create(const MCSymbol *Symbol, MCContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00386">MCExpr.h:386</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a8c55d8510ad4b7cb957d8f5a7cd6944e"><div class="ttname"><a href="classllvm_1_1APInt.html#a8c55d8510ad4b7cb957d8f5a7cd6944e">llvm::APInt::getSplat</a></div><div class="ttdeci">static APInt getSplat(unsigned NewLen, const APInt &amp;V)</div><div class="ttdoc">Return a value containing V broadcasted over NewLen bits.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00612">APInt.cpp:612</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a13766ecddfb7da212a5b7623dd58725f"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a13766ecddfb7da212a5b7623dd58725f">llvm::TargetLowering::SimplifyDemandedVectorElts</a></div><div class="ttdeci">bool SimplifyDemandedVectorElts(SDValue Op, const APInt &amp;DemandedEltMask, APInt &amp;KnownUndef, APInt &amp;KnownZero, TargetLoweringOpt &amp;TLO, unsigned Depth=0, bool AssumeSingleUse=false) const</div><div class="ttdoc">Look at Vector Op.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l02814">TargetLowering.cpp:2814</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">llvm::TargetLoweringBase::ZeroOrOneBooleanContent</a></div><div class="ttdeci">@ ZeroOrOneBooleanContent</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00233">TargetLowering.h:233</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTXISD_html_ab995b6d422b079c863075e073b2eb96ba4ddaa3d7050b68b3c9eb50ff10f038b3"><div class="ttname"><a href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba4ddaa3d7050b68b3c9eb50ff10f038b3">llvm::NVPTXISD::StoreV2</a></div><div class="ttdeci">@ StoreV2</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8h_source.html#l00068">NVPTXISelLowering.h:68</a></div></div>
<div class="ttc" id="astructllvm_1_1SDNodeFlags_html"><div class="ttname"><a href="structllvm_1_1SDNodeFlags.html">llvm::SDNodeFlags</a></div><div class="ttdoc">These are IR-level optimization flags that may be propagated to SDNodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00379">SelectionDAGNodes.h:379</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a65e723f5216f7e4c19d5c7c81e290053"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a65e723f5216f7e4c19d5c7c81e290053">fcFinite</a></div><div class="ttdeci">@ fcFinite</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00218">FloatingPointMode.h:218</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_acaa3c5dd0df27acd60c98ef9641829fc"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#acaa3c5dd0df27acd60c98ef9641829fc">llvm::SelectionDAG::FoldConstantArithmetic</a></div><div class="ttdeci">SDValue FoldConstantArithmetic(unsigned Opcode, const SDLoc &amp;DL, EVT VT, ArrayRef&lt; SDValue &gt; Ops)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l05821">SelectionDAG.cpp:5821</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a1e1f38797b68cb9a30a751a8802fffef"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a1e1f38797b68cb9a30a751a8802fffef">llvm::TargetLowering::ComputeNumSignBitsForTargetNode</a></div><div class="ttdeci">virtual unsigned ComputeNumSignBitsForTargetNode(SDValue Op, const APInt &amp;DemandedElts, const SelectionDAG &amp;DAG, unsigned Depth=0) const</div><div class="ttdoc">This method can be implemented by targets that want to expose additional information about sign bits ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03514">TargetLowering.cpp:3514</a></div></div>
<div class="ttc" id="astructllvm_1_1Inverse_html"><div class="ttname"><a href="structllvm_1_1Inverse.html">llvm::Inverse</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00097">GraphTraits.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a4c3a10f878938b827a268d6ab66dbb77"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a4c3a10f878938b827a268d6ab66dbb77">llvm::TargetLoweringBase::isCommutativeBinOp</a></div><div class="ttdeci">virtual bool isCommutativeBinOp(unsigned Opcode) const</div><div class="ttdoc">Returns true if the opcode is a commutative binary operation.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02666">TargetLowering.h:2666</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">llvm::ISD::STORE</a></div><div class="ttdeci">@ STORE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00966">ISDOpcodes.h:966</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a71cf568b5e1f19d6382926d2634acd2c"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a71cf568b5e1f19d6382926d2634acd2c">llvm::TargetLowering::SimplifyDemandedVectorEltsForTargetNode</a></div><div class="ttdeci">virtual bool SimplifyDemandedVectorEltsForTargetNode(SDValue Op, const APInt &amp;DemandedElts, APInt &amp;KnownUndef, APInt &amp;KnownZero, TargetLoweringOpt &amp;TLO, unsigned Depth=0) const</div><div class="ttdoc">Attempt to simplify any target nodes based on the demanded vector elements, returning true on success...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03533">TargetLowering.cpp:3533</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a8f877403433892e14ff0c692cbe9efdf"><div class="ttname"><a href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">llvm::APInt::getSignedMinValue</a></div><div class="ttdeci">static APInt getSignedMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum signed value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00199">APInt.h:199</a></div></div>
<div class="ttc" id="astructllvm_1_1SignedDivisionByConstantInfo_html_aa54b0543973a6ef974f769d0e9383850"><div class="ttname"><a href="structllvm_1_1SignedDivisionByConstantInfo.html#aa54b0543973a6ef974f769d0e9383850">llvm::SignedDivisionByConstantInfo::Magic</a></div><div class="ttdeci">APInt Magic</div><div class="ttdoc">magic number</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8h_source.html#l00023">DivisionByConstantInfo.h:23</a></div></div>
<div class="ttc" id="aX86FloatingPoint_8cpp_html_ac28513e2e067144d291d2d8f0301b61a"><div class="ttname"><a href="X86FloatingPoint_8cpp.html#ac28513e2e067144d291d2d8f0301b61a">Lookup</a></div><div class="ttdeci">static int Lookup(ArrayRef&lt; TableEntry &gt; Table, unsigned Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="X86FloatingPoint_8cpp_source.html#l00597">X86FloatingPoint.cpp:597</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a099c022f48b2d827b57369984102288f"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a099c022f48b2d827b57369984102288f">llvm::TargetLowering::expandMUL</a></div><div class="ttdeci">bool expandMUL(SDNode *N, SDValue &amp;Lo, SDValue &amp;Hi, EVT HiLoVT, SelectionDAG &amp;DAG, MulExpansionKind Kind, SDValue LL=SDValue(), SDValue LH=SDValue(), SDValue RL=SDValue(), SDValue RH=SDValue()) const</div><div class="ttdoc">Expand a MUL into two nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l07247">TargetLowering.cpp:7247</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">llvm::ISD::ADD</a></div><div class="ttdeci">@ ADD</div><div class="ttdoc">Simple integer binary arithmetic operators.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00239">ISDOpcodes.h:239</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6efe16ea597cfd8eeac26516fc992ee7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6efe16ea597cfd8eeac26516fc992ee7">llvm::ISD::SSUBO</a></div><div class="ttdeci">@ SSUBO</div><div class="ttdoc">Same for subtraction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00327">ISDOpcodes.h:327</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aefa6619fc003e2d48cf16a23e0c81f8e"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aefa6619fc003e2d48cf16a23e0c81f8e">llvm::TargetLoweringBase::isCondCodeLegalOrCustom</a></div><div class="ttdeci">bool isCondCodeLegalOrCustom(ISD::CondCode CC, MVT VT) const</div><div class="ttdoc">Return true if the specified condition code is legal or custom on this target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01461">TargetLowering.h:1461</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_afd2a90bd679de6f5964ce9b6f9931541"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#afd2a90bd679de6f5964ce9b6f9931541">llvm::TargetLoweringBase::isOperationLegalOrCustomOrPromote</a></div><div class="ttdeci">bool isOperationLegalOrCustomOrPromote(unsigned Op, EVT VT, bool LegalOnly=false) const</div><div class="ttdoc">Return true if the specified operation is legal on this target or can be made legal with custom lower...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01215">TargetLowering.h:1215</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a1c861a21f795c3108ab690f3a45c881a"><div class="ttname"><a href="classllvm_1_1SDValue.html#a1c861a21f795c3108ab690f3a45c881a">llvm::SDValue::isUndef</a></div><div class="ttdeci">bool isUndef() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01177">SelectionDAGNodes.h:1177</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ad5abe848f37c3c9d960e16486c993e7d"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ad5abe848f37c3c9d960e16486c993e7d">llvm::TargetLowering::LowerAsmOutputForConstraint</a></div><div class="ttdeci">virtual SDValue LowerAsmOutputForConstraint(SDValue &amp;Chain, SDValue &amp;Flag, const SDLoc &amp;DL, const AsmOperandInfo &amp;OpInfo, SelectionDAG &amp;DAG) const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05224">TargetLowering.cpp:5224</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html_a8f317cf85de4c00ba81d5b5309afd4db"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a8f317cf85de4c00ba81d5b5309afd4db">llvm::MemSDNode::isSimple</a></div><div class="ttdeci">bool isSimple() const</div><div class="ttdoc">Returns true if the memory operation is neither atomic or volatile.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01352">SelectionDAGNodes.h:1352</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aca8fce65eb69a82aa10a635e2e79877a"><div class="ttname"><a href="classllvm_1_1APInt.html#aca8fce65eb69a82aa10a635e2e79877a">llvm::APInt::sext</a></div><div class="ttdeci">APInt sext(unsigned width) const</div><div class="ttdoc">Sign extend to a new width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00946">APInt.cpp:946</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a60c3b254a3f56b2bf31bc568492c4a74"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a60c3b254a3f56b2bf31bc568492c4a74">fcNegNormal</a></div><div class="ttdeci">@ fcNegNormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00203">FloatingPointMode.h:203</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1TargetLoweringOpt_html_aab1c3b0fca0b73909f226868e3c41df1"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1TargetLoweringOpt.html#aab1c3b0fca0b73909f226868e3c41df1">llvm::TargetLowering::TargetLoweringOpt::LegalOperations</a></div><div class="ttdeci">bool LegalOperations() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03666">TargetLowering.h:3666</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ae2810b3cf01b222cc31fac876f9580ee"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ae2810b3cf01b222cc31fac876f9580ee">llvm::SelectionDAG::getShiftAmountConstant</a></div><div class="ttdeci">SDValue getShiftAmountConstant(uint64_t Val, EVT VT, const SDLoc &amp;DL, bool LegalTypes=true)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01665">SelectionDAG.cpp:1665</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a511f48809ad14f13e50b957a137a9d34aabfa616f81b4833fdf462b07aabfa53f"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34aabfa616f81b4833fdf462b07aabfa53f">llvm::InlineAsm::isOutput</a></div><div class="ttdeci">@ isOutput</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00096">InlineAsm.h:96</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">llvm::RISCVMatInt::Imm</a></div><div class="ttdeci">@ Imm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00023">RISCVMatInt.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac2624b648ddca964183d631c8d189595"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac2624b648ddca964183d631c8d189595">llvm::SelectionDAG::getBoolConstant</a></div><div class="ttdeci">SDValue getBoolConstant(bool V, const SDLoc &amp;DL, EVT VT, EVT OpVT)</div><div class="ttdoc">Create a true or false constant of type VT using the target's BooleanContent for type OpVT.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01525">SelectionDAG.cpp:1525</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a6f992bc4ca89f1b5f0b34f5b29978c31"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a6f992bc4ca89f1b5f0b34f5b29978c31">llvm::TargetLoweringBase::isTruncateFree</a></div><div class="ttdeci">virtual bool isTruncateFree(Type *FromTy, Type *ToTy) const</div><div class="ttdoc">Return true if it's free to truncate a value of type FromTy to type ToTy.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02739">TargetLowering.h:2739</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_abc4c6365ade17ad4443ad0e381e7479d"><div class="ttname"><a href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">llvm::EVT::getVectorElementType</a></div><div class="ttdeci">EVT getVectorElementType() const</div><div class="ttdoc">Given a vector type, return the type of each element.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00300">ValueTypes.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a1e6f0d8dfed0ab631b488a3e6317718e"><div class="ttname"><a href="classllvm_1_1APInt.html#a1e6f0d8dfed0ab631b488a3e6317718e">llvm::APInt::getSignMask</a></div><div class="ttdeci">static APInt getSignMask(unsigned BitWidth)</div><div class="ttdoc">Get the SignMask for a specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00209">APInt.h:209</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a5c66b411f6b9a7f7d25dbdbed39f2925"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a5c66b411f6b9a7f7d25dbdbed39f2925">llvm::TargetLowering::findOptimalMemOpLowering</a></div><div class="ttdeci">virtual bool findOptimalMemOpLowering(std::vector&lt; EVT &gt; &amp;MemOps, unsigned Limit, const MemOp &amp;Op, unsigned DstAS, unsigned SrcAS, const AttributeList &amp;FuncAttributes) const</div><div class="ttdoc">Determines the optimal series of memory ops to replace the memset / memcpy.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00197">TargetLowering.cpp:197</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a6eaea873272c138c801dae8542b1be46"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a6eaea873272c138c801dae8542b1be46">llvm::ISD::isTrueWhenEqual</a></div><div class="ttdeci">bool isTrueWhenEqual(CondCode Cond)</div><div class="ttdoc">Return true if the specified condition returns true if the two operands to the condition are equal.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01486">ISDOpcodes.h:1486</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f">llvm::ISD::SETOGE</a></div><div class="ttdeci">@ SETOGE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01439">ISDOpcodes.h:1439</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">llvm::ISD::FP_EXTEND</a></div><div class="ttdeci">@ FP_EXTEND</div><div class="ttdoc">X = FP_EXTEND(Y) - Extend a smaller FP type into a larger FP type.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00870">ISDOpcodes.h:870</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">The MachineFrameInfo class represents an abstract stack frame until prolog/epilog code is inserted.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00106">MachineFrameInfo.h:106</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a130b6a6d409367c8a61dd14dfa39785c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a130b6a6d409367c8a61dd14dfa39785c">llvm::ISD::FGETSIGN</a></div><div class="ttdeci">@ FGETSIGN</div><div class="ttdoc">INT = FGETSIGN(FP) - Return the sign bit of the specified floating point value as an integer 0/1 valu...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00496">ISDOpcodes.h:496</a></div></div>
<div class="ttc" id="aExpandLargeDivRem_8cpp_html_a49b2092a066cfbc24bc6925bdea9682a"><div class="ttname"><a href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a></div><div class="ttdeci">static bool isSigned(unsigned int Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="ExpandLargeDivRem_8cpp_source.html#l00052">ExpandLargeDivRem.cpp:52</a></div></div>
<div class="ttc" id="astructllvm_1_1APFloatBase_html_a22ed74f1ed33c4d33f524a650ea536a6"><div class="ttname"><a href="structllvm_1_1APFloatBase.html#a22ed74f1ed33c4d33f524a650ea536a6">llvm::APFloatBase::rmNearestTiesToEven</a></div><div class="ttdeci">static constexpr roundingMode rmNearestTiesToEven</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00217">APFloat.h:217</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aea97402782d7e8098b6ae00c7a6365dd"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aea97402782d7e8098b6ae00c7a6365dd">llvm::KnownBits::umin</a></div><div class="ttdeci">static KnownBits umin(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Compute known bits for umin(LHS, RHS).</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00135">KnownBits.cpp:135</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">llvm::ISD::FSUB</a></div><div class="ttdeci">@ FSUB</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00391">ISDOpcodes.h:391</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346affc152986796ab57023f65116d2ee1b2">llvm::MVT::f128</a></div><div class="ttdeci">@ f128</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00060">MachineValueType.h:60</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">llvm::ISD::SHL</a></div><div class="ttdeci">@ SHL</div><div class="ttdoc">Shift and rotation operations.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00691">ISDOpcodes.h:691</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html_a7fb32f2b4aee1957c1c0ef3bc6589a5a"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#a7fb32f2b4aee1957c1c0ef3bc6589a5a">llvm::ConstantSDNode::isOpaque</a></div><div class="ttdeci">bool isOpaque() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01619">SelectionDAGNodes.h:1619</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">llvm::ISD::FREM</a></div><div class="ttdeci">@ FREM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00394">ISDOpcodes.h:394</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_ad8ce1aee13dbdcc05d20284a30e83170"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">llvm::MachinePointerInfo::getFixedStack</a></div><div class="ttdeci">static MachinePointerInfo getFixedStack(MachineFunction &amp;MF, int FI, int64_t Offset=0)</div><div class="ttdoc">Return a MachinePointerInfo record that refers to the specified FrameIndex.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l01049">MachineOperand.cpp:1049</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttrBuilder_html_a4cf3cb56358d18065c78992569c32d2f"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html#a4cf3cb56358d18065c78992569c32d2f">llvm::AttrBuilder::hasAttributes</a></div><div class="ttdeci">bool hasAttributes() const</div><div class="ttdoc">Return true if the builder has IR-level attributes.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l01099">Attributes.h:1099</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a71269a2478f041a4c4651f9ca277f83a"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a71269a2478f041a4c4651f9ca277f83a">llvm::TargetLowering::parametersInCSRMatch</a></div><div class="ttdeci">bool parametersInCSRMatch(const MachineRegisterInfo &amp;MRI, const uint32_t *CallerPreservedMask, const SmallVectorImpl&lt; CCValAssign &gt; &amp;ArgLocs, const SmallVectorImpl&lt; SDValue &gt; &amp;OutVals) const</div><div class="ttdoc">Check whether parameters to a call that are passed in callee saved registers are the same as from the...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00081">TargetLowering.cpp:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a46f08b0e2eee386c64ab87436410e9db"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a46f08b0e2eee386c64ab87436410e9db">llvm::TargetLowering::expandFP_TO_INT_SAT</a></div><div class="ttdeci">SDValue expandFP_TO_INT_SAT(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand FP_TO_[US]INT_SAT into FP_TO_[US]INT and selects or min/max.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l10213">TargetLowering.cpp:10213</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd2b6fb514f63152133c43a7e4a11b03"><div class="ttname"><a href="namespacellvm.html#acd2b6fb514f63152133c43a7e4a11b03">llvm::countLeadingZeros</a></div><div class="ttdeci">unsigned countLeadingZeros(T Val)</div><div class="ttdoc">Count number of 0's from the most significant bit to the least stopping at the first 1.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00085">MathExtras.h:85</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">llvm::ISD::MUL</a></div><div class="ttdeci">@ MUL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00241">ISDOpcodes.h:241</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">llvm::ISD::UREM</a></div><div class="ttdeci">@ UREM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00245">ISDOpcodes.h:245</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a12b8712b6c436a8152a5fa996cd8956aa4b85349547c5b6126817e10152007931"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a12b8712b6c436a8152a5fa996cd8956aa4b85349547c5b6126817e10152007931">llvm::TargetLoweringBase::Expand</a></div><div class="ttdeci">@ Expand</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00199">TargetLowering.h:199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110adf7f4fc30c272a1987e075d7470df84c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adf7f4fc30c272a1987e075d7470df84c">llvm::ISD::ZERO_EXTEND_VECTOR_INREG</a></div><div class="ttdeci">@ ZERO_EXTEND_VECTOR_INREG</div><div class="ttdoc">ZERO_EXTEND_VECTOR_INREG(Vector) - This operator represents an in-register zero-extension of the low ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00814">ISDOpcodes.h:814</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_abb7cd0abf43d415da943eb8e4fe4f01b"><div class="ttname"><a href="classllvm_1_1SDValue.html#abb7cd0abf43d415da943eb8e4fe4f01b">llvm::SDValue::getConstantOperandAPInt</a></div><div class="ttdeci">const APInt &amp; getConstantOperandAPInt(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01157">SelectionDAGNodes.h:1157</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a1e0cfc795f0b068229dcec6eecb69499"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a1e0cfc795f0b068229dcec6eecb69499">llvm::MVT::f16</a></div><div class="ttdeci">@ f16</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00056">MachineValueType.h:56</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aeea401cc0b7fa5aa6f4d3a0612140e1d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeea401cc0b7fa5aa6f4d3a0612140e1d">llvm::ISD::BITREVERSE</a></div><div class="ttdeci">@ BITREVERSE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00704">ISDOpcodes.h:704</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">llvm::ISD::SRL</a></div><div class="ttdeci">@ SRL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00693">ISDOpcodes.h:693</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aa0d9eb764d22c7fabfecf5164123cc18"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aa0d9eb764d22c7fabfecf5164123cc18">llvm::KnownBits::ult</a></div><div class="ttdeci">static std::optional&lt; bool &gt; ult(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Determine if these known bits always give the same ICMP_ULT result.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00363">KnownBits.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_adbd59a81e5e06598a94e8b0e3b216d99"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#adbd59a81e5e06598a94e8b0e3b216d99">llvm::InlineAsm::ConstraintCodeVector</a></div><div class="ttdeci">std::vector&lt; std::string &gt; ConstraintCodeVector</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00101">InlineAsm.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_af2117bd386bdbed11ed20ee13f65376b"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#af2117bd386bdbed11ed20ee13f65376b">llvm::TargetLowering::computeKnownBitsForTargetInstr</a></div><div class="ttdeci">virtual void computeKnownBitsForTargetInstr(GISelKnownBits &amp;Analysis, Register R, KnownBits &amp;Known, const APInt &amp;DemandedElts, const MachineRegisterInfo &amp;MRI, unsigned Depth=0) const</div><div class="ttdoc">Determine which of the bits specified in Mask are known to be either zero or one and return them in t...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03493">TargetLowering.cpp:3493</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_af16b5429cba93f00c53d5d4627725516"><div class="ttname"><a href="TargetLowering_8cpp.html#af16b5429cba93f00c53d5d4627725516">simplifySetCCWithCTPOP</a></div><div class="ttdeci">static SDValue simplifySetCCWithCTPOP(const TargetLowering &amp;TLI, EVT VT, SDValue N0, const APInt &amp;C1, ISD::CondCode Cond, const SDLoc &amp;dl, SelectionDAG &amp;DAG)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l04024">TargetLowering.cpp:4024</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a1a1abf47e8fdf435dc651718fb7e5c80"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a1a1abf47e8fdf435dc651718fb7e5c80">llvm::KnownBits::commonBits</a></div><div class="ttdeci">static KnownBits commonBits(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Compute known bits common to LHS and RHS.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00315">KnownBits.h:315</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a3015474e70e59c0a3ed4f9f0e8644b75"><div class="ttname"><a href="classllvm_1_1APInt.html#a3015474e70e59c0a3ed4f9f0e8644b75">llvm::APInt::getActiveBits</a></div><div class="ttdeci">unsigned getActiveBits() const</div><div class="ttdoc">Compute the number of active bits in the value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01463">APInt.h:1463</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aa8a47d48d5537edfc125ee8ed5659955"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aa8a47d48d5537edfc125ee8ed5659955">llvm::KnownBits::ule</a></div><div class="ttdeci">static std::optional&lt; bool &gt; ule(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Determine if these known bits always give the same ICMP_ULE result.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00367">KnownBits.cpp:367</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">llvm::ISD::CTTZ</a></div><div class="ttdeci">@ CTTZ</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00701">ISDOpcodes.h:701</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a4263600a293f38086f37d30782c2ddf8"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a4263600a293f38086f37d30782c2ddf8">llvm::TargetLoweringBase::getOptimalMemOpType</a></div><div class="ttdeci">virtual EVT getOptimalMemOpType(const MemOp &amp;Op, const AttributeList &amp;) const</div><div class="ttdoc">Returns the target specific optimal type for load and store operations as a result of memset,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01792">TargetLowering.h:1792</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa47439d20ce0879ea68ca293e018b4f5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa47439d20ce0879ea68ca293e018b4f5">llvm::ISD::PARITY</a></div><div class="ttdeci">@ PARITY</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00705">ISDOpcodes.h:705</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_af344c6bd2d070c999525df85be7688cf"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#af344c6bd2d070c999525df85be7688cf">llvm::TargetLoweringBase::getRegisterType</a></div><div class="ttdeci">MVT getRegisterType(MVT VT) const</div><div class="ttdoc">Return the type of registers that this ValueType will eventually require.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01551">TargetLowering.h:1551</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_aeecdb6a29a24d717a83fc1c948e00d98"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#aeecdb6a29a24d717a83fc1c948e00d98">llvm::TargetLowering::DAGCombinerInfo::CommitTargetLoweringOpt</a></div><div class="ttdeci">void CommitTargetLoweringOpt(const TargetLoweringOpt &amp;TLO)</div><div class="ttdef"><b>Definition:</b> <a href="DAGCombiner_8cpp_source.html#l01002">DAGCombiner.cpp:1002</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a59eee3929b9155fd268e3e3f6c0efde9"><div class="ttname"><a href="structllvm_1_1EVT.html#a59eee3929b9155fd268e3e3f6c0efde9">llvm::EVT::isPow2VectorType</a></div><div class="ttdeci">bool isPow2VectorType() const</div><div class="ttdoc">Returns true if the given vector is a power of 2.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00437">ValueTypes.h:437</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a066220c7a472d8793de64a0ad23487d2"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a066220c7a472d8793de64a0ad23487d2">llvm::KnownBits::makeConstant</a></div><div class="ttdeci">static KnownBits makeConstant(const APInt &amp;C)</div><div class="ttdoc">Create known bits from a known constant.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00310">KnownBits.h:310</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a342be90695496b88a8854a775dfd030f"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a342be90695496b88a8854a775dfd030f">llvm::TargetLoweringBase::isZExtFree</a></div><div class="ttdeci">virtual bool isZExtFree(Type *FromTy, Type *ToTy) const</div><div class="ttdoc">Return true if any actual instruction that defines a value of type FromTy implicitly zero-extends the...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02828">TargetLowering.h:2828</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineJumpTableInfo_html_aaa21facdbb167f7c33d21907b8e5b9d3a0145ef8496d090993849ec0d7ca947f7"><div class="ttname"><a href="classllvm_1_1MachineJumpTableInfo.html#aaa21facdbb167f7c33d21907b8e5b9d3a0145ef8496d090993849ec0d7ca947f7">llvm::MachineJumpTableInfo::EK_GPRel32BlockAddress</a></div><div class="ttdeci">@ EK_GPRel32BlockAddress</div><div class="ttdoc">EK_GPRel32BlockAddress - Each entry is an address of block, encoded with a relocation as gp-relative,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineJumpTableInfo_8h_source.html#l00059">MachineJumpTableInfo.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a35edacef22fcaed7a8681fa573476131"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a35edacef22fcaed7a8681fa573476131">llvm::ISD::isZEXTLoad</a></div><div class="ttdeci">bool isZEXTLoad(const SDNode *N)</div><div class="ttdoc">Returns true if the specified node is a ZEXTLOAD.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l03074">SelectionDAGNodes.h:3074</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">llvm::ISD::UMIN</a></div><div class="ttdeci">@ UMIN</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00662">ISDOpcodes.h:662</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a9b569696b9b75b8382ea48c2d196ebf3"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a9b569696b9b75b8382ea48c2d196ebf3">llvm::TargetLoweringBase::getCustomCtpopCost</a></div><div class="ttdeci">virtual unsigned getCustomCtpopCost(EVT VT, ISD::CondCode Cond) const</div><div class="ttdoc">Return the maximum number of &quot;x &amp; (x - 1)&quot; operations that can be done instead of deferring to a cust...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00643">TargetLowering.h:643</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a29a296c88db1981a1f1a11fb478465c0"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a29a296c88db1981a1f1a11fb478465c0">llvm::TargetLowering::computeNumSignBitsForTargetInstr</a></div><div class="ttdeci">virtual unsigned computeNumSignBitsForTargetInstr(GISelKnownBits &amp;Analysis, Register R, const APInt &amp;DemandedElts, const MachineRegisterInfo &amp;MRI, unsigned Depth=0) const</div><div class="ttdoc">This method can be implemented by targets that want to expose additional information about sign bits ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l03527">TargetLowering.cpp:3527</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aca3a64890b27cc4b760a7ff278306959"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aca3a64890b27cc4b760a7ff278306959">llvm::TargetLoweringBase::isCtlzFast</a></div><div class="ttdeci">virtual bool isCtlzFast() const</div><div class="ttdoc">Return true if ctlz instruction is fast.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00637">TargetLowering.h:637</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">llvm::ISD::MULHU</a></div><div class="ttdeci">@ MULHU</div><div class="ttdoc">MULHU/MULHS - Multiply high - Multiply two integers of type iN, producing an unsigned/signed value of...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00637">ISDOpcodes.h:637</a></div></div>
<div class="ttc" id="aLVLGen_8cpp_html_a0a198e38a5def54ba58bebc655eda8e7"><div class="ttname"><a href="LVLGen_8cpp.html#a0a198e38a5def54ba58bebc655eda8e7">RegName</a></div><div class="ttdeci">#define RegName(no)</div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a77a694c3edbcb15c7e8319a3c37ec485"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a77a694c3edbcb15c7e8319a3c37ec485">llvm::TargetLowering::expandUnalignedLoad</a></div><div class="ttdeci">std::pair&lt; SDValue, SDValue &gt; expandUnalignedLoad(LoadSDNode *LD, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expands an unaligned load to 2 half-size loads for an integer, and possibly more for vectors.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09048">TargetLowering.cpp:9048</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_ae779a9d142e6318d8fb0e4f0da32af0f"><div class="ttname"><a href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">llvm::SDValue::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01137">SelectionDAGNodes.h:1137</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_abf892d1e00a3d79026c5ab518c187c45"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">llvm::SelectionDAG::getTargetConstant</a></div><div class="ttdeci">SDValue getTargetConstant(uint64_t Val, const SDLoc &amp;DL, EVT VT, bool isOpaque=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00671">SelectionDAG.h:671</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72">llvm::ISD::SETONE</a></div><div class="ttdeci">@ SETONE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01442">ISDOpcodes.h:1442</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a3ad406477784397709a339d5a2957b43"><div class="ttname"><a href="structllvm_1_1EVT.html#a3ad406477784397709a339d5a2957b43">llvm::EVT::bitsGT</a></div><div class="ttdeci">bool bitsGT(EVT VT) const</div><div class="ttdoc">Return true if this has more bits than VT.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00256">ValueTypes.h:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ad960e1ff48d25c382b6d28e7961f074e"><div class="ttname"><a href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">llvm::APInt::getLowBitsSet</a></div><div class="ttdeci">static APInt getLowBitsSet(unsigned numBits, unsigned loBitsSet)</div><div class="ttdoc">Constructs an APInt value that has the bottom loBitsSet bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00289">APInt.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">llvm::MVT::i16</a></div><div class="ttdeci">@ i16</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00047">MachineValueType.h:47</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_a6aced439f1cb92715496bc80dd4d2336"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#a6aced439f1cb92715496bc80dd4d2336">llvm::TargetLowering::MakeLibCallOptions::DoesNotReturn</a></div><div class="ttdeci">bool DoesNotReturn</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04370">TargetLowering.h:4370</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html_a14f7b4f1aed38192fb6b7772eb506bdb"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">llvm::IntegerType::get</a></div><div class="ttdeci">static IntegerType * get(LLVMContext &amp;C, unsigned NumBits)</div><div class="ttdoc">This static method is the primary way of constructing an IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00313">Type.cpp:313</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">llvm::ISD::INTRINSIC_W_CHAIN</a></div><div class="ttdeci">@ INTRINSIC_W_CHAIN</div><div class="ttdoc">RESULT,OUTCHAIN = INTRINSIC_W_CHAIN(INCHAIN, INTRINSICID, arg1, ...) This node represents a target in...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00192">ISDOpcodes.h:192</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_ab35b08ed1345493af2c69fbb71e4d0c3"><div class="ttname"><a href="classllvm_1_1APFloat.html#ab35b08ed1345493af2c69fbb71e4d0c3">llvm::APFloat::getInf</a></div><div class="ttdeci">static APFloat getInf(const fltSemantics &amp;Sem, bool Negative=false)</div><div class="ttdoc">Factory for Positive and Negative Infinity.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00930">APFloat.h:930</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a9a0590fb25613550cffc505a2affc293"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a9a0590fb25613550cffc505a2affc293">llvm::TargetLoweringBase::shouldReduceLoadWidth</a></div><div class="ttdeci">virtual bool shouldReduceLoadWidth(SDNode *Load, ISD::LoadExtType ExtTy, EVT NewVT) const</div><div class="ttdoc">Return true if it is profitable to reduce a load to a smaller type.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01638">TargetLowering.h:1638</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_ab41e50273c70287914ded0ae668bc507"><div class="ttname"><a href="structllvm_1_1EVT.html#ab41e50273c70287914ded0ae668bc507">llvm::EVT::isRound</a></div><div class="ttdeci">bool isRound() const</div><div class="ttdoc">Return true if the size is a power-of-two number of bytes.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00220">ValueTypes.h:220</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">llvm::ISD::FNEG</a></div><div class="ttdeci">@ FNEG</div><div class="ttdoc">Perform various unary floating-point operations inspired by libm.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00910">ISDOpcodes.h:910</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_aaa0193582f1fc99e3e6a3fc5abcb37bf"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">llvm::SelectionDAG::getMachineFunction</a></div><div class="ttdeci">MachineFunction &amp; getMachineFunction() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00465">SelectionDAG.h:465</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac01c66c983bfbac05a0cf903f08417df"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">llvm::SelectionDAG::ComputeNumSignBits</a></div><div class="ttdeci">unsigned ComputeNumSignBits(SDValue Op, unsigned Depth=0) const</div><div class="ttdoc">Return the number of times the sign bit of the register is replicated into the other bits.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04009">SelectionDAG.cpp:4009</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a2e1a572dcdde338698d9f94f0039f09f"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a2e1a572dcdde338698d9f94f0039f09f">llvm::TargetLoweringBase::isSafeMemOpType</a></div><div class="ttdeci">virtual bool isSafeMemOpType(MVT) const</div><div class="ttdoc">Returns true if it's safe to use load / store of the specified type to expand memcpy / memset inline.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01811">TargetLowering.h:1811</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a39438e0cda44be9ad77c1feb8bf964d0"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a39438e0cda44be9ad77c1feb8bf964d0">llvm::TargetLowering::expandIS_FPCLASS</a></div><div class="ttdeci">SDValue expandIS_FPCLASS(EVT ResultVT, SDValue Op, unsigned Test, SDNodeFlags Flags, const SDLoc &amp;DL, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand check for floating point class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08007">TargetLowering.cpp:8007</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">llvm::ISD::BUILD_PAIR</a></div><div class="ttdeci">@ BUILD_PAIR</div><div class="ttdoc">BUILD_PAIR - This is the opposite of EXTRACT_ELEMENT in some ways.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00229">ISDOpcodes.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_a7a046fe3d1230e4804494ce18bae1175"><div class="ttname"><a href="classllvm_1_1APFloat.html#a7a046fe3d1230e4804494ce18bae1175">llvm::APFloat::convertFromAPInt</a></div><div class="ttdeci">opStatus convertFromAPInt(const APInt &amp;Input, bool IsSigned, roundingMode RM)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01157">APFloat.h:1157</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aaa5af2aa3cc2e31b44b69d43e13235be"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa5af2aa3cc2e31b44b69d43e13235be">llvm::ISD::UDIVFIX</a></div><div class="ttdeci">@ UDIVFIX</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00381">ISDOpcodes.h:381</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a4fdc09049a61f952b5d52788dbd2f69b"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">llvm::KnownBits::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Get the bit width of this value.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00040">KnownBits.h:40</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a">llvm::ISD::SDIVREM</a></div><div class="ttdeci">@ SDIVREM</div><div class="ttdoc">SDIVREM/UDIVREM - Divide two integers and produce both a quotient and remainder result.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00255">ISDOpcodes.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_aa8f1c26a4e070ead6c67b4e9a5d93124"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aa8f1c26a4e070ead6c67b4e9a5d93124">llvm::SelectionDAG::getExternalSymbol</a></div><div class="ttdeci">SDValue getExternalSymbol(const char *Sym, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01898">SelectionDAG.cpp:1898</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a660b8657f5cf4e2425fda502d2ff22c5"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a660b8657f5cf4e2425fda502d2ff22c5">llvm::TargetLowering::ShrinkDemandedConstant</a></div><div class="ttdeci">bool ShrinkDemandedConstant(SDValue Op, const APInt &amp;DemandedBits, const APInt &amp;DemandedElts, TargetLoweringOpt &amp;TLO) const</div><div class="ttdoc">Check to see if the specified operand of the specified instruction is a constant integer.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l00500">TargetLowering.cpp:500</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a286d4fa2a50c9ac6ac3a8069cccfcd0c"><div class="ttname"><a href="classllvm_1_1APInt.html#a286d4fa2a50c9ac6ac3a8069cccfcd0c">llvm::APInt::setBitsFrom</a></div><div class="ttdeci">void setBitsFrom(unsigned loBit)</div><div class="ttdoc">Set the top bits starting from loBit.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01364">APInt.h:1364</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_acb9c55b6986369948507ca5241b4e411"><div class="ttname"><a href="classllvm_1_1APInt.html#acb9c55b6986369948507ca5241b4e411">llvm::APInt::shl</a></div><div class="ttdeci">APInt shl(unsigned shiftAmt) const</div><div class="ttdoc">Left-shift function.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00861">APInt.h:861</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a76adb4549f349676de0a703a497ca5a5"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a></div><div class="ttdeci">Module * Mod</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00054">PassBuilderBindings.cpp:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a126c61d55fb4d2e509537ce68e8b6400"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a126c61d55fb4d2e509537ce68e8b6400">llvm::TargetLoweringBase::getValueType</a></div><div class="ttdeci">EVT getValueType(const DataLayout &amp;DL, Type *Ty, bool AllowUnknown=false) const</div><div class="ttdoc">Return the EVT corresponding to this LLVM type.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01500">TargetLowering.h:1500</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_af3a4e8c94127ff27b004aa01fb262b33"><div class="ttname"><a href="lib_2Target_2README_8txt.html#af3a4e8c94127ff27b004aa01fb262b33">Alt</a></div><div class="ttdeci">bool Alt</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00468">README.txt:468</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">llvm::ISD::SIGN_EXTEND</a></div><div class="ttdeci">@ SIGN_EXTEND</div><div class="ttdoc">Conversion operators.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00760">ISDOpcodes.h:760</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a7e30b3aa214eba50eed018b5b19fc6aa"><div class="ttname"><a href="classllvm_1_1APInt.html#a7e30b3aa214eba50eed018b5b19fc6aa">llvm::APInt::ashrInPlace</a></div><div class="ttdeci">void ashrInPlace(unsigned ShiftAmt)</div><div class="ttdoc">Arithmetic right-shift this APInt by ShiftAmt in place.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00822">APInt.h:822</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a32cc2fa29205249731902cfc480cb79d"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a32cc2fa29205249731902cfc480cb79d">llvm::TargetLowering::expandVecReduceSeq</a></div><div class="ttdeci">SDValue expandVecReduceSeq(SDNode *Node, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand a VECREDUCE_SEQ_* into an explicit ordered calculation.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l10162">TargetLowering.cpp:10162</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetLowering_1_1MakeLibCallOptions_html_ab7d0b175116b41f71687db976923081c"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1MakeLibCallOptions.html#ab7d0b175116b41f71687db976923081c">llvm::TargetLowering::MakeLibCallOptions::setSExt</a></div><div class="ttdeci">MakeLibCallOptions &amp; setSExt(bool Value=true)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04379">TargetLowering.h:4379</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a511f48809ad14f13e50b957a137a9d34a2903cfed1fe44719f76b46abcac40955"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a511f48809ad14f13e50b957a137a9d34a2903cfed1fe44719f76b46abcac40955">llvm::InlineAsm::isLabel</a></div><div class="ttdeci">@ isLabel</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00098">InlineAsm.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a5023bb0687db0b35d3b2d19327217ce5"><div class="ttname"><a href="classllvm_1_1SDNode.html#a5023bb0687db0b35d3b2d19327217ce5">llvm::SDNode::getFlags</a></div><div class="ttdeci">SDNodeFlags getFlags() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00972">SelectionDAGNodes.h:972</a></div></div>
<div class="ttc" id="astructllvm_1_1SignedDivisionByConstantInfo_html"><div class="ttname"><a href="structllvm_1_1SignedDivisionByConstantInfo.html">llvm::SignedDivisionByConstantInfo</a></div><div class="ttdoc">Magic data for optimising signed division by a constant.</div><div class="ttdef"><b>Definition:</b> <a href="DivisionByConstantInfo_8h_source.html#l00021">DivisionByConstantInfo.h:21</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a74a787311d3ab9a17ee0acde7b6a6b14"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a74a787311d3ab9a17ee0acde7b6a6b14">llvm::ISD::FCANONICALIZE</a></div><div class="ttdeci">@ FCANONICALIZE</div><div class="ttdoc">Returns platform specific canonical encoding of a floating point number.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00499">ISDOpcodes.h:499</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">llvm::ISD::INSERT_VECTOR_ELT</a></div><div class="ttdeci">@ INSERT_VECTOR_ELT</div><div class="ttdoc">INSERT_VECTOR_ELT(VECTOR, VAL, IDX) - Returns VECTOR with the element at IDX replaced with VAL.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00523">ISDOpcodes.h:523</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_aaa2020e47e35179234b9ea27d555b2ddac2989bebe46c9b9fcb7a92e5ade8dde6"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2ddac2989bebe46c9b9fcb7a92e5ade8dde6">llvm::MachineMemOperand::MONone</a></div><div class="ttdeci">@ MONone</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00132">MachineMemOperand.h:132</a></div></div>
<div class="ttc" id="aMCExpr_8h_html"><div class="ttname"><a href="MCExpr_8h.html">MCExpr.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a9d911113ba470f43e75bfb76e61faf8d"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a9d911113ba470f43e75bfb76e61faf8d">llvm::TargetLowering::getSqrtInputTest</a></div><div class="ttdeci">virtual SDValue getSqrtInputTest(SDValue Operand, SelectionDAG &amp;DAG, const DenormalMode &amp;Mode) const</div><div class="ttdoc">Return a target-dependent comparison result if the input operand is suitable for use with a square ro...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l06742">TargetLowering.cpp:6742</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a165e3da23cb77e612919b366f1978af2"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a165e3da23cb77e612919b366f1978af2">llvm::TargetLoweringBase::getLibcallCallingConv</a></div><div class="ttdeci">CallingConv::ID getLibcallCallingConv(RTLIB::Libcall Call) const</div><div class="ttdoc">Get the CallingConv that should be used for the specified libcall.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03199">TargetLowering.h:3199</a></div></div>
<div class="ttc" id="aclassllvm_1_1ShuffleVectorSDNode_html_adce8d98c6b50fa65b2a213f40873e919"><div class="ttname"><a href="classllvm_1_1ShuffleVectorSDNode.html#adce8d98c6b50fa65b2a213f40873e919">llvm::ShuffleVectorSDNode::commuteMask</a></div><div class="ttdeci">static void commuteMask(MutableArrayRef&lt; int &gt; Mask)</div><div class="ttdoc">Change values in a shuffle permute mask assuming the two vector operands have swapped position.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01568">SelectionDAGNodes.h:1568</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a03140e92d989c9a96312035efb8f67fc"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a03140e92d989c9a96312035efb8f67fc">llvm::SelectionDAG::getExtLoad</a></div><div class="ttdeci">SDValue getExtLoad(ISD::LoadExtType ExtType, const SDLoc &amp;dl, EVT VT, SDValue Chain, SDValue Ptr, MachinePointerInfo PtrInfo, EVT MemVT, MaybeAlign Alignment=MaybeAlign(), MachineMemOperand::Flags MMOFlags=MachineMemOperand::MONone, const AAMDNodes &amp;AAInfo=AAMDNodes())</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l08135">SelectionDAG.cpp:8135</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad116e32876f2275acf60ffb1651c9256"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad116e32876f2275acf60ffb1651c9256">llvm::ISD::ADDE</a></div><div class="ttdeci">@ ADDE</div><div class="ttdoc">Carry-using nodes for multiple precision addition and subtraction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00279">ISDOpcodes.h:279</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a920f0719057d7352f9da10908859368d"><div class="ttname"><a href="structllvm_1_1EVT.html#a920f0719057d7352f9da10908859368d">llvm::EVT::isFixedLengthVector</a></div><div class="ttdeci">bool isFixedLengthVector() const</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00164">ValueTypes.h:164</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">llvm::ISD::FP_ROUND</a></div><div class="ttdeci">@ FP_ROUND</div><div class="ttdoc">X = FP_ROUND(Y, TRUNC) - Rounding 'Y' from a larger floating point type down to the precision of the ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00852">ISDOpcodes.h:852</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">llvm::MVT::f32</a></div><div class="ttdeci">@ f32</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00057">MachineValueType.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aee7335adfdf89d9bc00d567a1e53db23"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aee7335adfdf89d9bc00d567a1e53db23">llvm::TargetLoweringBase::getAsmOperandValueType</a></div><div class="ttdeci">virtual EVT getAsmOperandValueType(const DataLayout &amp;DL, Type *Ty, bool AllowUnknown=false) const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01491">TargetLowering.h:1491</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_aaa67fe0741c2b3712630ae636f8c2c20"><div class="ttname"><a href="classllvm_1_1APFloat.html#aaa67fe0741c2b3712630ae636f8c2c20">llvm::APFloat::getLargest</a></div><div class="ttdeci">static APFloat getLargest(const fltSemantics &amp;Sem, bool Negative=false)</div><div class="ttdoc">Returns the largest finite number in the given semantics.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00970">APFloat.h:970</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_affa111c5fcedf4f9c7eaf11be9977f32"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#affa111c5fcedf4f9c7eaf11be9977f32">llvm::TargetLoweringBase::getExtendForContent</a></div><div class="ttdeci">static ISD::NodeType getExtendForContent(BooleanContent Content)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00328">TargetLowering.h:328</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">llvm::ISD::ROTR</a></div><div class="ttdeci">@ ROTR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00695">ISDOpcodes.h:695</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_ad85fc60334b97452e632a353e5a4b814"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ad85fc60334b97452e632a353e5a4b814">llvm::TargetLoweringBase::getCmpLibcallCC</a></div><div class="ttdeci">ISD::CondCode getCmpLibcallCC(RTLIB::Libcall Call) const</div><div class="ttdoc">Get the CondCode that's to be used to test the result of the comparison libcall against zero.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03189">TargetLowering.h:3189</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_a9c568ab8748aba5d37006d52618bbcfd"><div class="ttname"><a href="classllvm_1_1APFloat.html#a9c568ab8748aba5d37006d52618bbcfd">llvm::APFloat::getSmallestNormalized</a></div><div class="ttdeci">static APFloat getSmallestNormalized(const fltSemantics &amp;Sem, bool Negative=false)</div><div class="ttdoc">Returns the smallest (by magnitude) normalized finite number in the given semantics.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00990">APFloat.h:990</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ab283a383171c46fb4445cb64eb6b687a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ab283a383171c46fb4445cb64eb6b687a">llvm::ISD::matchBinaryPredicate</a></div><div class="ttdeci">bool matchBinaryPredicate(SDValue LHS, SDValue RHS, std::function&lt; bool(ConstantSDNode *, ConstantSDNode *)&gt; Match, bool AllowUndefs=false, bool AllowTypeMismatch=false)</div><div class="ttdoc">Attempt to match a binary predicate against a pair of scalar/splat constants or every element of a pa...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00373">SelectionDAG.cpp:373</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_af2fca022f33991d19959ebf939c54d03"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af2fca022f33991d19959ebf939c54d03">llvm::SelectionDAG::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00469">SelectionDAG.h:469</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110acc5444f2e2933b551e3afbdd93a9bfc8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110acc5444f2e2933b551e3afbdd93a9bfc8">llvm::ISD::AVGFLOORS</a></div><div class="ttdeci">@ AVGFLOORS</div><div class="ttdoc">AVGFLOORS/AVGFLOORU - Averaging add - Add two integers using an integer of type i[N+1],...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00643">ISDOpcodes.h:643</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a7f014d86215983a968bd908b7e40c5c3"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a7f014d86215983a968bd908b7e40c5c3">llvm::TargetLowering::LowerXConstraint</a></div><div class="ttdeci">virtual const char * LowerXConstraint(EVT ConstraintVT) const</div><div class="ttdoc">Try to replace an X constraint, which matches anything, with another that has more specific requireme...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05216">TargetLowering.cpp:5216</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCExpr_html"><div class="ttname"><a href="classllvm_1_1MCExpr.html">llvm::MCExpr</a></div><div class="ttdoc">Base class for the full range of assembler expressions which are needed for parsing.</div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00035">MCExpr.h:35</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a3cb888a2ce8e95e0d9769687a5e2f7d8"><div class="ttname"><a href="structllvm_1_1EVT.html#a3cb888a2ce8e95e0d9769687a5e2f7d8">llvm::EVT::isFloatingPoint</a></div><div class="ttdeci">bool isFloatingPoint() const</div><div class="ttdoc">Return true if this is a FP or a vector FP type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00139">ValueTypes.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a6036d63e9f5b40ee7332e065e9e7da07"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a6036d63e9f5b40ee7332e065e9e7da07">llvm::TargetLowering::expandSADDSUBO</a></div><div class="ttdeci">void expandSADDSUBO(SDNode *Node, SDValue &amp;Result, SDValue &amp;Overflow, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Method for building the DAG expansion of ISD::S(ADD|SUB)O.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09938">TargetLowering.cpp:9938</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_ac9ed6848d132dfc4cdd7545832804916"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ac9ed6848d132dfc4cdd7545832804916">llvm::TargetLowering::getVectorElementPointer</a></div><div class="ttdeci">SDValue getVectorElementPointer(SelectionDAG &amp;DAG, SDValue VecPtr, EVT VecVT, SDValue Index) const</div><div class="ttdoc">Get a pointer to vector element Idx located in memory for a vector of type VecVT starting at a base a...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09397">TargetLowering.cpp:9397</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7b49849160e7f089916f83c52511da9e"><div class="ttname"><a href="namespacellvm.html#a7b49849160e7f089916f83c52511da9e">llvm::find_if_not</a></div><div class="ttdeci">auto find_if_not(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01767">STLExtras.h:1767</a></div></div>
<div class="ttc" id="astructllvm_1_1InlineAsm_1_1ConstraintInfo_html_af8e8a75156972d158e5d2ad295dc3abd"><div class="ttname"><a href="structllvm_1_1InlineAsm_1_1ConstraintInfo.html#af8e8a75156972d158e5d2ad295dc3abd">llvm::InlineAsm::ConstraintInfo::hasMatchingInput</a></div><div class="ttdeci">bool hasMatchingInput() const</div><div class="ttdoc">hasMatchingInput - Return true if this is an output constraint that has a matching input constraint.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00139">InlineAsm.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html_a7c8aa148dc4bee3fc230a5db79d51f8c"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a7c8aa148dc4bee3fc230a5db79d51f8c">llvm::MemSDNode::getPointerInfo</a></div><div class="ttdeci">const MachinePointerInfo &amp; getPointerInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01361">SelectionDAGNodes.h:1361</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">llvm::ISD::SCALAR_TO_VECTOR</a></div><div class="ttdeci">@ SCALAR_TO_VECTOR</div><div class="ttdoc">SCALAR_TO_VECTOR(VAL) - This represents the operation of loading a scalar value into element 0 of the...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00606">ISDOpcodes.h:606</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNodeIterator_html_a3607d62a16488ad561958ccaf04dd511"><div class="ttname"><a href="classllvm_1_1SDNodeIterator.html#a3607d62a16488ad561958ccaf04dd511">llvm::SDNodeIterator::end</a></div><div class="ttdeci">static SDNodeIterator end(const SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l03011">SelectionDAGNodes.h:3011</a></div></div>
<div class="ttc" id="aX86ISelLowering_8cpp_html_aeda6315d246cafab6d912b425d4e7218"><div class="ttname"><a href="X86ISelLowering_8cpp.html#aeda6315d246cafab6d912b425d4e7218">scalarizeVectorStore</a></div><div class="ttdeci">static SDValue scalarizeVectorStore(StoreSDNode *Store, MVT StoreVT, SelectionDAG &amp;DAG)</div><div class="ttdoc">Scalarize a vector store, bitcasting to TargetVT to determine the scalar type.</div><div class="ttdef"><b>Definition:</b> <a href="X86ISelLowering_8cpp_source.html#l26158">X86ISelLowering.cpp:26158</a></div></div>
<div class="ttc" id="aclassllvm_1_1SrcOp_html"><div class="ttname"><a href="classllvm_1_1SrcOp.html">llvm::SrcOp</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8h_source.html#l00128">MachineIRBuilder.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_ab3dd98c54113e246837a884db6281c89"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#ab3dd98c54113e246837a884db6281c89">llvm::TargetLoweringBase::ArgListEntry::IsInReg</a></div><div class="ttdeci">bool IsInReg</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00300">TargetLowering.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a5ef5081d01bdfeac5defece3566fe14c"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a5ef5081d01bdfeac5defece3566fe14c">llvm::TargetLowering::getConstraintType</a></div><div class="ttdeci">virtual ConstraintType getConstraintType(StringRef Constraint) const</div><div class="ttdoc">Given a constraint, return the type of constraint it is for this target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l05170">TargetLowering.cpp:5170</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a8aabf5d0aa80038973255ff2d1e1a9fc"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">llvm::TargetLoweringBase::getPointerTy</a></div><div class="ttdeci">virtual MVT getPointerTy(const DataLayout &amp;DL, uint32_t AS=0) const</div><div class="ttdoc">Return the pointer type for the given address space, defaults to the pointer type from the data layou...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00365">TargetLowering.h:365</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">llvm::ISD::CTPOP</a></div><div class="ttdeci">@ CTPOP</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00703">ISDOpcodes.h:703</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ace75a0fc6736a8bf8b8187083078354d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ace75a0fc6736a8bf8b8187083078354d">llvm::ISD::getVecReduceBaseOpcode</a></div><div class="ttdeci">NodeType getVecReduceBaseOpcode(unsigned VecReduceOpcode)</div><div class="ttdoc">Get underlying scalar opcode for VECREDUCE opcode.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00410">SelectionDAG.cpp:410</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af1b946afff631cee7aa6de570bef7785"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af1b946afff631cee7aa6de570bef7785">llvm::ISD::SADDSAT</a></div><div class="ttdeci">@ SADDSAT</div><div class="ttdoc">RESULT = [US]ADDSAT(LHS, RHS) - Perform saturation addition on 2 integers with the same bit width (W)...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00340">ISDOpcodes.h:340</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a2c237b0f007548cb6bc021d00ffee87f"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a2c237b0f007548cb6bc021d00ffee87f">llvm::SelectionDAG::getSetCC</a></div><div class="ttdeci">SDValue getSetCC(const SDLoc &amp;DL, EVT VT, SDValue LHS, SDValue RHS, ISD::CondCode Cond, SDValue Chain=SDValue(), bool IsSignaling=false)</div><div class="ttdoc">Helper function to make it easier to build SetCC's if you just have an ISD::CondCode instead of an SD...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01167">SelectionDAG.h:1167</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a2c1be2f51c692451e5ed13c9ced14a5a"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a2c1be2f51c692451e5ed13c9ced14a5a">llvm::TargetLowering::expandVPBSWAP</a></div><div class="ttdeci">SDValue expandVPBSWAP(SDNode *N, SelectionDAG &amp;DAG) const</div><div class="ttdoc">Expand VP_BSWAP nodes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l08679">TargetLowering.cpp:8679</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">llvm::ISD::TokenFactor</a></div><div class="ttdeci">@ TokenFactor</div><div class="ttdoc">TokenFactor - This node takes multiple tokens as input and produces a single token result.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00052">ISDOpcodes.h:52</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">llvm::RecurKind::Xor</a></div><div class="ttdeci">@ Xor</div><div class="ttdoc">Bitwise or logical XOR of integers.</div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a3db162658a7687e8a5df34f5a6aaa840"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a3db162658a7687e8a5df34f5a6aaa840">llvm::TargetLowering::AsmOperandInfoVector</a></div><div class="ttdeci">std::vector&lt; AsmOperandInfo &gt; AsmOperandInfoVector</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04678">TargetLowering.h:4678</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_1_1ArgListEntry_html_a5c1b1d84bde13caeff8e555ead3e6d9d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase_1_1ArgListEntry.html#a5c1b1d84bde13caeff8e555ead3e6d9d">llvm::TargetLoweringBase::ArgListEntry::IsSExt</a></div><div class="ttdeci">bool IsSExt</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00298">TargetLowering.h:298</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_ad859786d7e54bdc5c568ac20c69816e0"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ad859786d7e54bdc5c568ac20c69816e0">llvm::TargetLoweringBase::getTypeAction</a></div><div class="ttdeci">LegalizeTypeAction getTypeAction(LLVMContext &amp;Context, EVT VT) const</div><div class="ttdoc">Return how we should legalize values of this type, either it is already legal (return 'Legal') or we ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00992">TargetLowering.h:992</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">llvm::ISD::EXTRACT_ELEMENT</a></div><div class="ttdeci">@ EXTRACT_ELEMENT</div><div class="ttdoc">EXTRACT_ELEMENT - This is used to get the lower or upper (determined by a Constant,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116abd588753884964e239e61d80ebc2f039"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116abd588753884964e239e61d80ebc2f039">llvm::TargetLowering::C_Address</a></div><div class="ttdeci">@ C_Address</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l04624">TargetLowering.h:4624</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegister_html"><div class="ttname"><a href="classllvm_1_1MCRegister.html">llvm::MCRegister</a></div><div class="ttdoc">Wrapper class representing physical registers. Should be passed by value.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegister_8h_source.html#l00024">MCRegister.h:24</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a6a81c1cc06a00a0096d839032b5984e9"><div class="ttname"><a href="structllvm_1_1EVT.html#a6a81c1cc06a00a0096d839032b5984e9">llvm::EVT::getSimpleVT</a></div><div class="ttdeci">MVT getSimpleVT() const</div><div class="ttdoc">Return the SimpleValueType held in the specified simple EVT.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00288">ValueTypes.h:288</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_aaac3e239cbdfe15a8e9bad4f8e1e3a95"><div class="ttname"><a href="namespacellvm_1_1ISD.html#aaac3e239cbdfe15a8e9bad4f8e1e3a95">llvm::ISD::isBuildVectorAllZeros</a></div><div class="ttdeci">bool isBuildVectorAllZeros(const SDNode *N)</div><div class="ttdoc">Return true if the specified node is a BUILD_VECTOR where all of the elements are 0 or undef.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00266">SelectionDAG.cpp:266</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce">llvm::TargetLoweringBase::UndefinedBooleanContent</a></div><div class="ttdeci">@ UndefinedBooleanContent</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00232">TargetLowering.h:232</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">llvm::ISD::VSELECT</a></div><div class="ttdeci">@ VSELECT</div><div class="ttdoc">Select with a vector condition (op #0) and two vector operands (ops #1 and #2), returning a vector re...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00722">ISDOpcodes.h:722</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ad3db19b21e25af9ac5a1e514443b3d60"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ad3db19b21e25af9ac5a1e514443b3d60">llvm::SelectionDAG::getCondCode</a></div><div class="ttdeci">SDValue getCondCode(ISD::CondCode Cond)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01925">SelectionDAG.cpp:1925</a></div></div>
<div class="ttc" id="aTargetLowering_8cpp_html_a508969c8bd53dfda53fb8670e9df1194"><div class="ttname"><a href="TargetLowering_8cpp.html#a508969c8bd53dfda53fb8670e9df1194">clampDynamicVectorIndex</a></div><div class="ttdeci">static SDValue clampDynamicVectorIndex(SelectionDAG &amp;DAG, SDValue Idx, EVT VecVT, const SDLoc &amp;dl, ElementCount SubEC)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l09363">TargetLowering.cpp:9363</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">llvm::ISD::FDIV</a></div><div class="ttdeci">@ FDIV</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00393">ISDOpcodes.h:393</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:01:08 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
