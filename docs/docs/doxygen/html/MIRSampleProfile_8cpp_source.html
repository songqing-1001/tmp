<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/MIRSampleProfile.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MIRSampleProfile.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MIRSampleProfile_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-------- MIRSampleProfile.cpp: MIRSampleFDO (For FSAFDO) -------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file provides the implementation of the MIRSampleProfile loader, mainly</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// for flow sensitive SampleFDO.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MIRSampleProfile_8h.html">llvm/CodeGen/MIRSampleProfile.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BlockFrequencyInfoImpl_8h.html">llvm/Analysis/BlockFrequencyInfoImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBlockFrequencyInfo_8h.html">llvm/CodeGen/MachineBlockFrequencyInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBranchProbabilityInfo_8h.html">llvm/CodeGen/MachineBranchProbabilityInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineLoopInfo_8h.html">llvm/CodeGen/MachineLoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOptimizationRemarkEmitter_8h.html">llvm/CodeGen/MachineOptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachinePostDominators_8h.html">llvm/CodeGen/MachinePostDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeGen_2Passes_8h.html">llvm/CodeGen/Passes.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VirtualFileSystem_8h.html">llvm/Support/VirtualFileSystem.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SampleProfileLoaderBaseImpl_8h.html">llvm/Transforms/Utils/SampleProfileLoaderBaseImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SampleProfileLoaderBaseUtil_8h.html">llvm/Transforms/Utils/SampleProfileLoaderBaseUtil.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">using namespace </span>sampleprof;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1sampleprofutil.html">llvm::sampleprofutil</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="MIRSampleProfile_8cpp.html#ac57dae906fe8ac64efe52571121b0fe1">   37</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1Function_1_1ProfileCount.html">ProfileCount</a> = <a class="code" href="MIRSampleProfile_8cpp.html#ac57dae906fe8ac64efe52571121b0fe1">Function::ProfileCount</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="MIRSampleProfile_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   39</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;fs-profile-loader&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MIRSampleProfile_8cpp.html#a00cf283e630151184bfe9f013ade620e">ShowFSBranchProb</a>(</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="stringliteral">&quot;show-fs-branchprob&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Print setting flow sensitive branch probabilities&quot;</span>));</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="MIRSampleProfile_8cpp.html#a7f498f3413bf36ef47beb63cb906110f">FSProfileDebugProbDiffThreshold</a>(</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="stringliteral">&quot;fs-profile-debug-prob-diff-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(10),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Only show debug message if the branch probility is greater than &quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;             <span class="stringliteral">&quot;this value (in percentage).&quot;</span>));</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="MIRSampleProfile_8cpp.html#a5f33885a5a6f2797235fe30fcebd049d">FSProfileDebugBWThreshold</a>(</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="stringliteral">&quot;fs-profile-debug-bw-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(10000),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Only show debug message if the source branch weight is greater &quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;             <span class="stringliteral">&quot; than this value.&quot;</span>));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MIRSampleProfile_8cpp.html#a24b97f4ca5002f0a8f74254156bdc70e">ViewBFIBefore</a>(<span class="stringliteral">&quot;fs-viewbfi-before&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                   <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                   <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;View BFI before MIR loader&quot;</span>));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MIRSampleProfile_8cpp.html#a120e62b9aa6bcef919037ccfb22bf20b">ViewBFIAfter</a>(<span class="stringliteral">&quot;fs-viewbfi-after&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;View BFI after MIR loader&quot;</span>));</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1MIRProfileLoaderPass.html#a1eb96b167ffa7f24d42da423d684a6ec">MIRProfileLoaderPass::ID</a> = 0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<a class="code" href="MIRSampleProfile_8cpp.html#a29679164c681da5fc6cdcaa0b39538a3">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1MIRProfileLoaderPass.html">MIRProfileLoaderPass</a>, <a class="code" href="MIRSampleProfile_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                      <span class="stringliteral">&quot;Load MIR Sample Profile&quot;</span>,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                      <span class="comment">/* cfg = */</span> <span class="keyword">false</span>, <span class="comment">/* is_analysis = */</span> <span class="keyword">false</span>)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a>)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachinePostDominatorTree.html">MachinePostDominatorTree</a>)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitterPass.html">MachineOptimizationRemarkEmitterPass</a>)</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="MIRSampleProfile_8cpp.html#a009775794ead70aa23c76df46ab4ed8a">   71</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1MIRProfileLoaderPass.html">MIRProfileLoaderPass</a>, <a class="code" href="MIRSampleProfile_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, &quot;<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> MIR Sample <a class="code" href="MIRSampleProfile_8cpp.html#a009775794ead70aa23c76df46ab4ed8a">Profile</a>&quot;,</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="MIRSampleProfile_8cpp.html#ab949974a4f0dcc6481e9ff60a550a8ff">   72</a></span>&#160;                    <span class="comment">/* cfg = */</span> <a class="code" href="namespacefalse.html">false</a>, <span class="comment">/* is_analysis = */</span> <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="namespacellvm.html#a418a6c6d852331ac1e1f7e09be09ab64">   74</a></span>&#160;<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#a418a6c6d852331ac1e1f7e09be09ab64">MIRProfileLoaderPassID</a> = <a class="code" href="classllvm_1_1MIRProfileLoaderPass.html">MIRProfileLoaderPass</a>::<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="namespacellvm.html#aaa0783cf44588fd870d3d8dbc7cc7dcc">   77</a></span>&#160;<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#aaa0783cf44588fd870d3d8dbc7cc7dcc">createMIRProfileLoaderPass</a>(<a class="code" href="namespacestd.html">std</a>::<span class="keywordtype">string</span> File, <a class="code" href="namespacestd.html">std</a>::<span class="keywordtype">string</span> RemappingFile,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                 <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fc">FSDiscriminatorPass</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                 <a class="code" href="classllvm_1_1IntrusiveRefCntPtr.html">IntrusiveRefCntPtr</a>&lt;vfs::FileSystem&gt; <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1MIRProfileLoaderPass.html">MIRProfileLoaderPass</a>(File, RemappingFile, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>));</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">// Internal option used to control BFI display only after MBP pass.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">// Defined in CodeGen/MachineBlockFrequencyInfo.cpp:</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// -view-block-layout-with-bfi={none | fraction | integer | count}</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">extern</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;GVDAGType&gt;</a> <a class="code" href="namespacellvm.html#a7cc8a419725f3a9ce1d23c2db21ea143">ViewBlockLayoutWithBFI</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">// Command line option to specify the name of the function for CFG dump</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// Defined in Analysis/BlockFrequencyInfo.cpp:  -view-bfi-func-name=</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">extern</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a> <a class="code" href="namespacellvm.html#a6391a34afa5b4ed1a5e556a8cc4d971b">ViewBlockFreqFuncName</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">namespace </span>afdo_detail {</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html">   95</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">IRTraits</a>&lt;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>&gt; {</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a4074e538573138660ad0dbc2406dfb0b">   96</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineInstr.html">InstructionT</a> = <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#aeec0425cce2c71aae2d1494b771136cc">   97</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">BasicBlockT</a> = <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a1aa78b974bda830df24cb637d72f4556">   98</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineFunction.html">FunctionT</a> = <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#aaf0d0e482f593e3737e289a1318d6b3d">   99</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">BlockFrequencyInfoT</a> = <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a0ed26a269ac043ded6c70da42a057462">  100</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineLoop.html">LoopT</a> = <a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#ad338f9b0e8df2312c8818d0e2636fa71">  101</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineLoopInfo.html">LoopInfoPtrT</a> = <a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a> *;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a668126d2706664fe404033ddf72e3049">  102</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineDominatorTree.html">DominatorTreePtrT</a> = <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a0f9770063603f29fd1d29fd3271aea57">  103</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachinePostDominatorTree.html">PostDominatorTreePtrT</a> = <a class="code" href="classllvm_1_1MachinePostDominatorTree.html">MachinePostDominatorTree</a> *;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#af38eeb159089a41941b35a3b6c2888ee">  104</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachinePostDominatorTree.html">PostDominatorTreeT</a> = <a class="code" href="classllvm_1_1MachinePostDominatorTree.html">MachinePostDominatorTree</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a17362b80a77d9a5259b47d5018626c06">  105</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html">OptRemarkEmitterT</a> = <a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html">MachineOptimizationRemarkEmitter</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a1dd448ecaa6d74864ef2cf16205e7bab">  106</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">OptRemarkAnalysisT</a> = <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#ad739031b7e20ec026e4d96096be7d218">  107</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1iterator__range.html">PredRangeT</a> = <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;std::vector&lt;MachineBasicBlock *&gt;::iterator</a>&gt;;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a6ea1ecf66d7c66c159c20bab69635477">  108</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1iterator__range.html">SuccRangeT</a> = <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;std::vector&lt;MachineBasicBlock *&gt;::iterator</a>&gt;;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a70443821321e7f4752ee0d03cecf34a2">  109</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a70443821321e7f4752ee0d03cecf34a2">getFunction</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) { <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFunction(); }</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#ab14248930961fbe01f28d936292f7c81">  110</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#ab14248930961fbe01f28d936292f7c81">getEntryBB</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1GraphTraits.html">GraphTraits&lt;const MachineFunction *&gt;::getEntryNode</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a1976c9bfaa3528e1a0697be60c1165ac">  113</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1iterator__range.html">PredRangeT</a> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a1976c9bfaa3528e1a0697be60c1165ac">getPredecessors</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;predecessors();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  }</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a92f58feb24c5cecfc536df5db9e7f2c9">  116</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1iterator__range.html">SuccRangeT</a> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a92f58feb24c5cecfc536df5db9e7f2c9">getSuccessors</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;successors();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;};</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;} <span class="comment">// namespace afdo_detail</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html">  122</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1MIRProfileLoader.html">MIRProfileLoader</a> final</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html">SampleProfileLoaderBaseImpl</a>&lt;MachineBasicBlock&gt; {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#ada46e031da560591716a22f4ef0d3a74">  125</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MIRProfileLoader.html#ada46e031da560591716a22f4ef0d3a74">setInitVals</a>(<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *MDT, <a class="code" href="classllvm_1_1MachinePostDominatorTree.html">MachinePostDominatorTree</a> *MPDT,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                   <a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a> *MLI, <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> *MBFI,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                   <a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html">MachineOptimizationRemarkEmitter</a> *<a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    DT = MDT;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    PDT = MPDT;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    LI = MLI;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a> = MBFI;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    ORE = <a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#af54224c53b1eb4ca2e3ed18ecf90b5b3">  134</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MIRProfileLoader.html#af54224c53b1eb4ca2e3ed18ecf90b5b3">setFSPass</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fc">FSDiscriminatorPass</a> <a class="code" href="classllvm_1_1Pass.html">Pass</a>) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    LowBit = <a class="code" href="namespacellvm.html#ab0b27460e6d0ebd21bfe093f9e99acd0">getFSPassBitBegin</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    HighBit = <a class="code" href="namespacellvm.html#a513148e2db58cc93ef16cccbbfe43877">getFSPassBitEnd</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LowBit &lt; HighBit &amp;&amp; <span class="stringliteral">&quot;HighBit needs to be greater than Lowbit&quot;</span>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#a0545a44b85524b238e9ca6e42437b827">  141</a></span>&#160;  <a class="code" href="classllvm_1_1MIRProfileLoader.html#a0545a44b85524b238e9ca6e42437b827">MIRProfileLoader</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> RemapName,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                   <a class="code" href="classllvm_1_1IntrusiveRefCntPtr.html">IntrusiveRefCntPtr&lt;vfs::FileSystem&gt;</a> <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      : <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html">SampleProfileLoaderBaseImpl</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="ItaniumDemangle_8h.html#ae2b0d0345572d6718e219aa76d1d54edab45cffe084dd3d20d928bee85e7b0f21">string</a>(Name), <a class="code" href="namespacestd.html">std</a>::<a class="code" href="ItaniumDemangle_8h.html#ae2b0d0345572d6718e219aa76d1d54edab45cffe084dd3d20d928bee85e7b0f21">string</a>(RemapName),</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                                    <a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>)) {}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordtype">void</span> setBranchProbs(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="EntryExitInstrumenter_8cpp.html#a3985f1f39349428d17f0d2b81ebc6349">runOnFunction</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordtype">bool</span> doInitialization(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M);</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#a059bc3bbf771ba306ca5a1d9005cd4c5">  149</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MIRProfileLoader.html#a059bc3bbf771ba306ca5a1d9005cd4c5">isValid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ProfileIsValid; }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#ac7b0d41f41bd4959483f76524e705bc7">  152</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classllvm_1_1sampleprofutil_1_1SampleCoverageTracker.html">SampleCoverageTracker</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">  /// Hold the information of the basic block frequency.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#a63af5d890418b5b116bf949091615e8e">  155</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> *<a class="code" href="classllvm_1_1MIRProfileLoader.html#a63af5d890418b5b116bf949091615e8e">BFI</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">  /// PassNum is the sequence number this pass is called, start from 1.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#a7c3c5313c79acf26e6ff9dd9e41280a1">  158</a></span>&#160;<span class="comment"></span>  <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fc">FSDiscriminatorPass</a> <a class="code" href="classllvm_1_1MIRProfileLoader.html#a7c3c5313c79acf26e6ff9dd9e41280a1">P</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// LowBit in the FS discriminator used by this instance. Note the number is</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// 0-based. Base discrimnator use bit 0 to bit 11.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#a8e1223542cb18835ac238d7743697e8f">  162</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1MIRProfileLoader.html#a8e1223542cb18835ac238d7743697e8f">LowBit</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// HighwBit in the FS discriminator used by this instance. Note the number</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// is 0-based.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#a47a26fe71892b312aa080ab7d04b1926">  165</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1MIRProfileLoader.html#a47a26fe71892b312aa080ab7d04b1926">HighBit</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#af36d9dd90a28138156ff4ddbee79d710">  167</a></span>&#160;  <span class="keywordtype">bool</span> ProfileIsValid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;};</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html">SampleProfileLoaderBaseImpl</a>&lt;</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a4c1b265e51c74e24a1eea8a69e080b44">  172</a></span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>&gt;::computeDominanceAndLoopInfo(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#a31f2c5f323ca8742d0588171e0c33b49">  174</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MIRProfileLoader.html#a31f2c5f323ca8742d0588171e0c33b49">MIRProfileLoader::setBranchProbs</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nPropagation complete. Setting branch probs\n&quot;</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;BI : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = &amp;BI;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;succ_size() &lt; 2)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *EC = EquivalenceClass[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>];</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BBWeight = BlockWeights[EC];</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SumEdgeWeight = 0;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Succ : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;successors()) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = std::make_pair(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Succ);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      SumEdgeWeight += EdgeWeights[<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>];</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (BBWeight != SumEdgeWeight) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;BBweight is not equal to SumEdgeWeight: BBWWeight=&quot;</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        &lt;&lt; BBWeight &lt;&lt; <span class="stringliteral">&quot; SumEdgeWeight= &quot;</span> &lt;&lt; SumEdgeWeight</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      BBWeight = SumEdgeWeight;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span> (BBWeight == 0) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SKIPPED. All branch weights are zero.\n&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BBWeightOrig = BBWeight;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> MaxWeight = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint32_t&gt;::max</a>();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Factor = 1;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (BBWeight &gt; MaxWeight) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      Factor = BBWeight / MaxWeight + 1;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      BBWeight /= Factor;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Scaling weights by &quot;</span> &lt;&lt; Factor &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#a904414f0f44918a06bab99336cf587a7">MachineBasicBlock::succ_iterator</a> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;succ_begin(),</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                          SE = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;succ_end();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> != SE; ++<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Succ = *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = std::make_pair(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Succ);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> EdgeWeight = EdgeWeights[<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>];</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      EdgeWeight /= Factor;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BBWeight &gt;= EdgeWeight &amp;&amp;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;             <span class="stringliteral">&quot;BBweight is larger than EdgeWeight -- should not happen.\n&quot;</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> OldProb = <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>-&gt;getMBPI()-&gt;getEdgeProbability(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> NewProb(EdgeWeight, BBWeight);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">if</span> (OldProb == NewProb)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;setSuccProbability(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, NewProb);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="MIRSampleProfile_8cpp.html#a00cf283e630151184bfe9f013ade620e">ShowFSBranchProb</a>)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="keywordtype">bool</span> Show = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> Diff;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">if</span> (OldProb &gt; NewProb)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        Diff = OldProb - NewProb;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        Diff = NewProb - OldProb;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      Show = (Diff &gt;= <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a>(<a class="code" href="MIRSampleProfile_8cpp.html#a7f498f3413bf36ef47beb63cb906110f">FSProfileDebugProbDiffThreshold</a>, 100));</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      Show &amp;= (BBWeightOrig &gt;= <a class="code" href="MIRSampleProfile_8cpp.html#a5f33885a5a6f2797235fe30fcebd049d">FSProfileDebugBWThreshold</a>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keyword">auto</span> DIL = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;findBranchDebugLoc();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keyword">auto</span> SuccDIL = Succ-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ad81901d0d8b768b240e78bf357999f34">findBranchDebugLoc</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">if</span> (Show) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Set branch fs prob: MBB (&quot;</span> &lt;&lt; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getNumber() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;               &lt;&lt; Succ-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>() &lt;&lt; <span class="stringliteral">&quot;): &quot;</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">if</span> (DIL)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; DIL-&gt;getFilename() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; DIL-&gt;getLine() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                 &lt;&lt; DIL-&gt;getColumn();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span> (SuccDIL)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;--&gt;&quot;</span> &lt;&lt; SuccDIL-&gt;getFilename() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; SuccDIL-&gt;getLine()</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; SuccDIL-&gt;getColumn();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; W=&quot;</span> &lt;&lt; BBWeightOrig &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; OldProb &lt;&lt; <span class="stringliteral">&quot; --&gt; &quot;</span> &lt;&lt; NewProb</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#a7cba8042f5f0daa198a43912b9bb3aa9">  257</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MIRProfileLoader.html#a7cba8042f5f0daa198a43912b9bb3aa9">MIRProfileLoader::doInitialization</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keyword">auto</span> &amp;Ctx = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keyword">auto</span> ReaderOrErr = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad27f134383b571c14bae9790536a6d31">sampleprof::SampleProfileReader::create</a>(</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      Filename, Ctx, *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, RemappingFilename);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = ReaderOrErr.getError()) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    std::string <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a> = <span class="stringliteral">&quot;Could not open profile: &quot;</span> + EC.message();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    Ctx.diagnose(<a class="code" href="classllvm_1_1DiagnosticInfoSampleProfile.html">DiagnosticInfoSampleProfile</a>(Filename, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>));</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  Reader = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ReaderOrErr.get());</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  Reader-&gt;setModule(&amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  ProfileIsValid = (Reader-&gt;read() == <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  Reader-&gt;getSummary();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoader.html#a4582acc682e4769b7c2f57d38a153f8d">  276</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MIRProfileLoader.html#a4582acc682e4769b7c2f57d38a153f8d">MIRProfileLoader::runOnFunction</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  clearFunctionData(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  Samples = Reader-&gt;getSamplesFor(Func);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span> (!Samples || Samples-&gt;empty())</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">if</span> (getFunctionLoc(MF) == 0)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> InlinedGUIDs;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordtype">bool</span> Changed = computeAndPropagateWeights(MF, InlinedGUIDs);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// Set the new BPI, BFI.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  setBranchProbs(MF);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="classllvm_1_1MIRProfileLoaderPass.html#a8d5394931a02fac4d0784e318196cf7c">  297</a></span>&#160;<a class="code" href="classllvm_1_1MIRProfileLoaderPass.html#a8d5394931a02fac4d0784e318196cf7c">MIRProfileLoaderPass::MIRProfileLoaderPass</a>(</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    std::string FileName, std::string RemappingFileName, <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fc">FSDiscriminatorPass</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="classllvm_1_1IntrusiveRefCntPtr.html">IntrusiveRefCntPtr&lt;vfs::FileSystem&gt;</a> <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    : <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), ProfileFileName(FileName), <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  LowBit = <a class="code" href="namespacellvm.html#ab0b27460e6d0ebd21bfe093f9e99acd0">getFSPassBitBegin</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  HighBit = <a class="code" href="namespacellvm.html#a513148e2db58cc93ef16cccbbfe43877">getFSPassBitEnd</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keyword">auto</span> VFS = <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> ? <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>) : <a class="code" href="namespacellvm_1_1vfs.html#a9878c6a5a53d24e17c7c1002be31364c">vfs::getRealFileSystem</a>();</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  MIRSampleLoader = std::make_unique&lt;MIRProfileLoader&gt;(</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      FileName, RemappingFileName, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(VFS));</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LowBit &lt; HighBit &amp;&amp; <span class="stringliteral">&quot;HighBit needs to be greater than Lowbit&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keywordtype">bool</span> MIRProfileLoaderPass::runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (!MIRSampleLoader-&gt;isValid())</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MIRProfileLoader pass working on Func: &quot;</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    &lt;&lt; MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  MBFI = &amp;getAnalysis&lt;MachineBlockFrequencyInfo&gt;();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  MIRSampleLoader-&gt;setInitVals(</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      &amp;getAnalysis&lt;MachineDominatorTree&gt;(),</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      &amp;getAnalysis&lt;MachinePostDominatorTree&gt;(), &amp;getAnalysis&lt;MachineLoopInfo&gt;(),</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      MBFI, &amp;getAnalysis&lt;MachineOptimizationRemarkEmitterPass&gt;().getORE());</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac85349aab432e6b7d8b2e8926048a6de">RenumberBlocks</a>();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MIRSampleProfile_8cpp.html#a24b97f4ca5002f0a8f74254156bdc70e">ViewBFIBefore</a> &amp;&amp; <a class="code" href="namespacellvm.html#a7cc8a419725f3a9ce1d23c2db21ea143">ViewBlockLayoutWithBFI</a> != <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa49315903a2559d882f356ae28a455556">GVDT_None</a> &amp;&amp;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      (<a class="code" href="namespacellvm.html#a6391a34afa5b4ed1a5e556a8cc4d971b">ViewBlockFreqFuncName</a>.empty() ||</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;       MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#aa3595f2a07a2268edcfbf41ffa40cabf">equals</a>(<a class="code" href="namespacellvm.html#a6391a34afa5b4ed1a5e556a8cc4d971b">ViewBlockFreqFuncName</a>))) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    MBFI-&gt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html#a0fffc1a69ef51a1f23e7e5026b7e5733">view</a>(<span class="stringliteral">&quot;MIR_Prof_loader_b.&quot;</span> + MF.<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordtype">bool</span> Changed = MIRSampleLoader-&gt;runOnFunction(MF);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    MBFI-&gt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html#a84c7ee9bd2f71192c25e89f3cd58f799">calculate</a>(MF, *MBFI-&gt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html#a6c773188891ca194070345ab04799109">getMBPI</a>(), *&amp;getAnalysis&lt;MachineLoopInfo&gt;());</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MIRSampleProfile_8cpp.html#a120e62b9aa6bcef919037ccfb22bf20b">ViewBFIAfter</a> &amp;&amp; <a class="code" href="namespacellvm.html#a7cc8a419725f3a9ce1d23c2db21ea143">ViewBlockLayoutWithBFI</a> != <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa49315903a2559d882f356ae28a455556">GVDT_None</a> &amp;&amp;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      (<a class="code" href="namespacellvm.html#a6391a34afa5b4ed1a5e556a8cc4d971b">ViewBlockFreqFuncName</a>.empty() ||</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;       MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#aa3595f2a07a2268edcfbf41ffa40cabf">equals</a>(<a class="code" href="namespacellvm.html#a6391a34afa5b4ed1a5e556a8cc4d971b">ViewBlockFreqFuncName</a>))) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    MBFI-&gt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html#a0fffc1a69ef51a1f23e7e5026b7e5733">view</a>(<span class="stringliteral">&quot;MIR_prof_loader_a.&quot;</span> + MF.<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="keywordtype">bool</span> MIRProfileLoaderPass::doInitialization(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MIRProfileLoader pass working on Module &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getName()</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  MIRSampleLoader-&gt;setFSPass(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">return</span> MIRSampleLoader-&gt;doInitialization(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="keywordtype">void</span> MIRProfileLoaderPass::getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a>&gt;();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>&gt;();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachinePostDominatorTree.html">MachinePostDominatorTree</a>&gt;();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>&gt;();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitterPass.html">MachineOptimizationRemarkEmitterPass</a>&gt;();</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">MachineFunctionPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_html_ab0b27460e6d0ebd21bfe093f9e99acd0"><div class="ttname"><a href="namespacellvm.html#ab0b27460e6d0ebd21bfe093f9e99acd0">llvm::getFSPassBitBegin</a></div><div class="ttdeci">static unsigned getFSPassBitBegin(FSDiscriminatorPass P)</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00096">Discriminator.h:96</a></div></div>
<div class="ttc" id="aMIRSampleProfile_8cpp_html_ac57dae906fe8ac64efe52571121b0fe1"><div class="ttname"><a href="MIRSampleProfile_8cpp.html#ac57dae906fe8ac64efe52571121b0fe1">ProfileCount</a></div><div class="ttdeci">Function::ProfileCount ProfileCount</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00037">MIRSampleProfile.cpp:37</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aLazyValueInfo_8cpp_html_a739511554e31b02d233401957fd86f44"><div class="ttname"><a href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a></div><div class="ttdeci">print lazy value Lazy Value Info Printer Pass</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l02067">LazyValueInfo.cpp:2067</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4_html_a70443821321e7f4752ee0d03cecf34a2"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a70443821321e7f4752ee0d03cecf34a2">llvm::afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::getFunction</a></div><div class="ttdeci">static Function &amp; getFunction(MachineFunction &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00109">MIRSampleProfile.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html">llvm::SampleProfileLoaderBaseImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00085">SampleProfileLoaderBaseImpl.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkEmitter.html">llvm::MachineOptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00152">MachineOptimizationRemarkEmitter.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html">llvm::MachineFunctionPass</a></div><div class="ttdoc">MachineFunctionPass - This class adapts the FunctionPass interface to allow convenient creation of pa...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8h_source.html#l00030">MachineFunctionPass.h:30</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBlockFrequencyInfo_html_a0fffc1a69ef51a1f23e7e5026b7e5733"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html#a0fffc1a69ef51a1f23e7e5026b7e5733">llvm::MachineBlockFrequencyInfo::view</a></div><div class="ttdeci">void view(const Twine &amp;Name, bool isSimple=true) const</div><div class="ttdoc">Pop up a ghostview window with the current block frequency propagation rendered using dot.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8cpp_source.html#l00224">MachineBlockFrequencyInfo.cpp:224</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4_html_ab14248930961fbe01f28d936292f7c81"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#ab14248930961fbe01f28d936292f7c81">llvm::afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::getEntryBB</a></div><div class="ttdeci">static const MachineBasicBlock * getEntryBB(const MachineFunction *F)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00110">MIRSampleProfile.cpp:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html">llvm::MIRProfileLoader</a></div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00122">MIRSampleProfile.cpp:122</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_a63af5d890418b5b116bf949091615e8e"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#a63af5d890418b5b116bf949091615e8e">llvm::MIRProfileLoader::BFI</a></div><div class="ttdeci">MachineBlockFrequencyInfo * BFI</div><div class="ttdoc">Hold the information of the basic block frequency.</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00155">MIRSampleProfile.cpp:155</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html_a864fd57b4304ef933b3281d0ef85a88e"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00167">MachineFunctionPass.cpp:167</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00089">MachineLoopInfo.h:89</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fc"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fc">llvm::sampleprof::FSDiscriminatorPass</a></div><div class="ttdeci">FSDiscriminatorPass</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00057">Discriminator.h:57</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8h_html"><div class="ttname"><a href="BlockFrequencyInfoImpl_8h.html">BlockFrequencyInfoImpl.h</a></div></div>
<div class="ttc" id="aMIRSampleProfile_8cpp_html_a29679164c681da5fc6cdcaa0b39538a3"><div class="ttname"><a href="MIRSampleProfile_8cpp.html#a29679164c681da5fc6cdcaa0b39538a3">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(MIRProfileLoaderPass, DEBUG_TYPE, &quot;Load MIR Sample Profile&quot;, false, false) INITIALIZE_PASS_END(MIRProfileLoaderPass</div></div>
<div class="ttc" id="aMachineLoopInfo_8h_html"><div class="ttname"><a href="MachineLoopInfo_8h.html">MachineLoopInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_a8e1223542cb18835ac238d7743697e8f"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#a8e1223542cb18835ac238d7743697e8f">llvm::MIRProfileLoader::LowBit</a></div><div class="ttdeci">unsigned LowBit</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00162">MIRSampleProfile.cpp:162</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBlockFrequencyInfo_html"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html">llvm::MachineBlockFrequencyInfo</a></div><div class="ttdoc">MachineBlockFrequencyInfo pass uses BlockFrequencyInfoImpl implementation to estimate machine basic b...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8h_source.html#l00033">MachineBlockFrequencyInfo.h:33</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_af54224c53b1eb4ca2e3ed18ecf90b5b3"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#af54224c53b1eb4ca2e3ed18ecf90b5b3">llvm::MIRProfileLoader::setFSPass</a></div><div class="ttdeci">void setFSPass(FSDiscriminatorPass Pass)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00134">MIRSampleProfile.cpp:134</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBlockFrequencyInfo_html_a84c7ee9bd2f71192c25e89f3cd58f799"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html#a84c7ee9bd2f71192c25e89f3cd58f799">llvm::MachineBlockFrequencyInfo::calculate</a></div><div class="ttdeci">void calculate(const MachineFunction &amp;F, const MachineBranchProbabilityInfo &amp;MBPI, const MachineLoopInfo &amp;MLI)</div><div class="ttdoc">calculate - compute block frequency info for the given function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8cpp_source.html#l00194">MachineBlockFrequencyInfo.cpp:194</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoaderPass_html"><div class="ttname"><a href="classllvm_1_1MIRProfileLoaderPass.html">llvm::MIRProfileLoaderPass</a></div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8h_source.html#l00037">MIRSampleProfile.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoaderPass_html_a8d5394931a02fac4d0784e318196cf7c"><div class="ttname"><a href="classllvm_1_1MIRProfileLoaderPass.html#a8d5394931a02fac4d0784e318196cf7c">llvm::MIRProfileLoaderPass::MIRProfileLoaderPass</a></div><div class="ttdeci">MIRProfileLoaderPass(std::string FileName=&quot;&quot;, std::string RemappingFileName=&quot;&quot;, FSDiscriminatorPass P=FSDiscriminatorPass::Pass1, IntrusiveRefCntPtr&lt; vfs::FileSystem &gt; FS=nullptr)</div><div class="ttdoc">FS bits will only use the '1' bits in the Mask.</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00297">MIRSampleProfile.cpp:297</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkAnalysis_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">llvm::MachineOptimizationRemarkAnalysis</a></div><div class="ttdoc">Diagnostic information for optimization analysis remarks.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00110">MachineOptimizationRemarkEmitter.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_a059bc3bbf771ba306ca5a1d9005cd4c5"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#a059bc3bbf771ba306ca5a1d9005cd4c5">llvm::MIRProfileLoader::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00149">MIRSampleProfile.cpp:149</a></div></div>
<div class="ttc" id="aSampleProfileLoaderBaseUtil_8h_html"><div class="ttname"><a href="SampleProfileLoaderBaseUtil_8h.html">SampleProfileLoaderBaseUtil.h</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4_html_a1976c9bfaa3528e1a0697be60c1165ac"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a1976c9bfaa3528e1a0697be60c1165ac">llvm::afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::getPredecessors</a></div><div class="ttdeci">static PredRangeT getPredecessors(MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00113">MIRSampleProfile.cpp:113</a></div></div>
<div class="ttc" id="aMIRSampleProfile_8cpp_html_a5f33885a5a6f2797235fe30fcebd049d"><div class="ttname"><a href="MIRSampleProfile_8cpp.html#a5f33885a5a6f2797235fe30fcebd049d">FSProfileDebugBWThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; FSProfileDebugBWThreshold(&quot;fs-profile-debug-bw-threshold&quot;, cl::init(10000), cl::desc(&quot;Only show debug message if the source branch weight is greater &quot; &quot; than this value.&quot;))</div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_aa3595f2a07a2268edcfbf41ffa40cabf"><div class="ttname"><a href="classllvm_1_1StringRef.html#aa3595f2a07a2268edcfbf41ffa40cabf">llvm::StringRef::equals</a></div><div class="ttdeci">bool equals(StringRef RHS) const</div><div class="ttdoc">equals - Check for string equality, this is more efficient than compare() when the relative ordering ...</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00164">StringRef.h:164</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aMachineOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="MachineOptimizationRemarkEmitter_8h.html">MachineOptimizationRemarkEmitter.h</a></div><div class="ttdoc">===- MachineOptimizationRemarkEmitter.h - Opt Diagnostics -*- C++ -*-===//</div></div>
<div class="ttc" id="aCodeGen_2Passes_8h_html"><div class="ttname"><a href="CodeGen_2Passes_8h.html">Passes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; GlobalValue::GUID &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a904414f0f44918a06bab99336cf587a7"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a904414f0f44918a06bab99336cf587a7">llvm::MachineBasicBlock::succ_iterator</a></div><div class="ttdeci">std::vector&lt; MachineBasicBlock * &gt;::iterator succ_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00347">MachineBasicBlock.h:347</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_ada46e031da560591716a22f4ef0d3a74"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#ada46e031da560591716a22f4ef0d3a74">llvm::MIRProfileLoader::setInitVals</a></div><div class="ttdeci">void setInitVals(MachineDominatorTree *MDT, MachinePostDominatorTree *MPDT, MachineLoopInfo *MLI, MachineBlockFrequencyInfo *MBFI, MachineOptimizationRemarkEmitter *MORE)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00125">MIRSampleProfile.cpp:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoop_html"><div class="ttname"><a href="classllvm_1_1MachineLoop.html">llvm::MachineLoop</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00044">MachineLoopInfo.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1vfs_html_a9878c6a5a53d24e17c7c1002be31364c"><div class="ttname"><a href="namespacellvm_1_1vfs.html#a9878c6a5a53d24e17c7c1002be31364c">llvm::vfs::getRealFileSystem</a></div><div class="ttdeci">IntrusiveRefCntPtr&lt; FileSystem &gt; getRealFileSystem()</div><div class="ttdoc">Gets an vfs::FileSystem for the 'real' file system, as seen by the operating system.</div><div class="ttdef"><b>Definition:</b> <a href="VirtualFileSystem_8cpp_source.html#l00375">VirtualFileSystem.cpp:375</a></div></div>
<div class="ttc" id="anamespacellvm_html_a418a6c6d852331ac1e1f7e09be09ab64"><div class="ttname"><a href="namespacellvm.html#a418a6c6d852331ac1e1f7e09be09ab64">llvm::MIRProfileLoaderPassID</a></div><div class="ttdeci">char &amp; MIRProfileLoaderPassID</div><div class="ttdoc">This pass reads flow sensitive profile.</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00074">MIRSampleProfile.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7cc8a419725f3a9ce1d23c2db21ea143"><div class="ttname"><a href="namespacellvm.html#a7cc8a419725f3a9ce1d23c2db21ea143">llvm::ViewBlockLayoutWithBFI</a></div><div class="ttdeci">cl::opt&lt; GVDAGType &gt; ViewBlockLayoutWithBFI(&quot;view-block-layout-with-bfi&quot;, cl::Hidden, cl::desc(&quot;Pop up a window to show a dag displaying MBP layout and associated &quot; &quot;block frequencies of the CFG.&quot;), cl::values(clEnumValN(GVDT_None, &quot;none&quot;, &quot;do not display graphs.&quot;), clEnumValN(GVDT_Fraction, &quot;fraction&quot;, &quot;display a graph using the &quot; &quot;fractional block frequency representation.&quot;), clEnumValN(GVDT_Integer, &quot;integer&quot;, &quot;display a graph using the raw &quot; &quot;integer fractional block frequency representation.&quot;), clEnumValN(GVDT_Count, &quot;count&quot;, &quot;display a graph using the real &quot; &quot;profile count if available.&quot;)))</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockPlacement_8cpp_source.html#l00225">MachineBlockPlacement.cpp:225</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="aMIRSampleProfile_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="MIRSampleProfile_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00039">MIRSampleProfile.cpp:39</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a3d142c9e7c066059e15232c56dec9e2e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">llvm::MachineFunction::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">getName - Return the name of the corresponding LLVM function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00582">MachineFunction.cpp:582</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_a7cba8042f5f0daa198a43912b9bb3aa9"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#a7cba8042f5f0daa198a43912b9bb3aa9">llvm::MIRProfileLoader::doInitialization</a></div><div class="ttdeci">bool doInitialization(Module &amp;M)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00257">MIRSampleProfile.cpp:257</a></div></div>
<div class="ttc" id="anamespacellvm_html_abfc9c7ecf70f66901e439f7c04ef3dbb"><div class="ttname"><a href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a></div><div class="ttdeci">OutputIt move(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdoc">Provide wrappers to std::move which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01862">STLExtras.h:1862</a></div></div>
<div class="ttc" id="aMachineBranchProbabilityInfo_8h_html"><div class="ttname"><a href="MachineBranchProbabilityInfo_8h.html">MachineBranchProbabilityInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_a47a26fe71892b312aa080ab7d04b1926"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#a47a26fe71892b312aa080ab7d04b1926">llvm::MIRProfileLoader::HighBit</a></div><div class="ttdeci">unsigned HighBit</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00165">MIRSampleProfile.cpp:165</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">llvm::X86AS::FS</a></div><div class="ttdeci">@ FS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00201">X86.h:201</a></div></div>
<div class="ttc" id="aMachinePostDominators_8h_html"><div class="ttname"><a href="MachinePostDominators_8h.html">MachinePostDominators.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aaa0783cf44588fd870d3d8dbc7cc7dcc"><div class="ttname"><a href="namespacellvm.html#aaa0783cf44588fd870d3d8dbc7cc7dcc">llvm::createMIRProfileLoaderPass</a></div><div class="ttdeci">FunctionPass * createMIRProfileLoaderPass(std::string File, std::string RemappingFile, sampleprof::FSDiscriminatorPass P, IntrusiveRefCntPtr&lt; vfs::FileSystem &gt; FS)</div><div class="ttdoc">Read Flow Sensitive Profile.</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00077">MIRSampleProfile.cpp:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_a4582acc682e4769b7c2f57d38a153f8d"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#a4582acc682e4769b7c2f57d38a153f8d">llvm::MIRProfileLoader::runOnFunction</a></div><div class="ttdeci">bool runOnFunction(MachineFunction &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00276">MIRSampleProfile.cpp:276</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1DiagnosticInfoSampleProfile_html"><div class="ttname"><a href="classllvm_1_1DiagnosticInfoSampleProfile.html">llvm::DiagnosticInfoSampleProfile</a></div><div class="ttdoc">Diagnostic information for the sample profiler.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00235">DiagnosticInfo.h:235</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3aa22d521bd6a7e6b9f35545dc7b0f1e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const</div><div class="ttdoc">MachineBasicBlocks are uniquely numbered at the function level, unless they're not in a MachineFuncti...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01143">MachineBasicBlock.h:1143</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ad81901d0d8b768b240e78bf357999f34"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ad81901d0d8b768b240e78bf357999f34">llvm::MachineBasicBlock::findBranchDebugLoc</a></div><div class="ttdeci">DebugLoc findBranchDebugLoc()</div><div class="ttdoc">Find and return the merged DebugLoc of the branch instructions of the block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01436">MachineBasicBlock.cpp:1436</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkEmitterPass_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkEmitterPass.html">llvm::MachineOptimizationRemarkEmitterPass</a></div><div class="ttdoc">The analysis pass.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00220">MachineOptimizationRemarkEmitter.h:220</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchProbability_html"><div class="ttname"><a href="classllvm_1_1BranchProbability.html">llvm::BranchProbability</a></div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8h_source.html#l00030">BranchProbability.h:30</a></div></div>
<div class="ttc" id="aMIRSampleProfile_8cpp_html_a009775794ead70aa23c76df46ab4ed8a"><div class="ttname"><a href="MIRSampleProfile_8cpp.html#a009775794ead70aa23c76df46ab4ed8a">Profile</a></div><div class="ttdeci">Load MIR Sample Profile</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00071">MIRSampleProfile.cpp:71</a></div></div>
<div class="ttc" id="aSampleProfileLoaderBaseImpl_8h_html"><div class="ttname"><a href="SampleProfileLoaderBaseImpl_8h.html">SampleProfileLoaderBaseImpl.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">llvm::AMDGPUISD::BFI</a></div><div class="ttdeci">@ BFI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00441">AMDGPUISelLowering.h:441</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aMIRSampleProfile_8cpp_html_a7f498f3413bf36ef47beb63cb906110f"><div class="ttname"><a href="MIRSampleProfile_8cpp.html#a7f498f3413bf36ef47beb63cb906110f">FSProfileDebugProbDiffThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; FSProfileDebugProbDiffThreshold(&quot;fs-profile-debug-prob-diff-threshold&quot;, cl::init(10), cl::desc(&quot;Only show debug message if the branch probility is greater than &quot; &quot;this value (in percentage).&quot;))</div></div>
<div class="ttc" id="aVirtualFileSystem_8h_html"><div class="ttname"><a href="VirtualFileSystem_8h.html">VirtualFileSystem.h</a></div></div>
<div class="ttc" id="aregcomp_8c_html_ace441594c4bd8da94fd64b1c612ca948"><div class="ttname"><a href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a></div><div class="ttdeci">#define MORE()</div><div class="ttdef"><b>Definition:</b> <a href="regcomp_8c_source.html#l00252">regcomp.c:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePostDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachinePostDominatorTree.html">llvm::MachinePostDominatorTree</a></div><div class="ttdoc">MachinePostDominatorTree - an analysis pass wrapper for DominatorTree used to compute the post-domina...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePostDominators_8h_source.html#l00027">MachinePostDominators.h:27</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprofutil_html"><div class="ttname"><a href="namespacellvm_1_1sampleprofutil.html">llvm::sampleprofutil</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseUtil_8h_source.html#l00033">SampleProfileLoaderBaseUtil.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_ad7fab8522e49be1b20c4db4fc431bd3c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">llvm::AMDGPU::SendMsg::Msg</a></div><div class="ttdeci">const CustomOperand&lt; const MCSubtargetInfo &amp; &gt; Msg[]</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUAsmUtils_8cpp_source.html#l00039">AMDGPUAsmUtils.cpp:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_a7c3c5313c79acf26e6ff9dd9e41280a1"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#a7c3c5313c79acf26e6ff9dd9e41280a1">llvm::MIRProfileLoader::P</a></div><div class="ttdeci">FSDiscriminatorPass P</div><div class="ttdoc">PassNum is the sequence number this pass is called, start from 1.</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00158">MIRSampleProfile.cpp:158</a></div></div>
<div class="ttc" id="aEntryExitInstrumenter_8cpp_html_a3985f1f39349428d17f0d2b81ebc6349"><div class="ttname"><a href="EntryExitInstrumenter_8cpp.html#a3985f1f39349428d17f0d2b81ebc6349">runOnFunction</a></div><div class="ttdeci">static bool runOnFunction(Function &amp;F, bool PostInlining)</div><div class="ttdef"><b>Definition:</b> <a href="EntryExitInstrumenter_8cpp_source.html#l00085">EntryExitInstrumenter.cpp:85</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="aMIRSampleProfile_8h_html"><div class="ttname"><a href="MIRSampleProfile_8h.html">MIRSampleProfile.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdoc">Set by analyses that do not transform their input at all.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00130">PassAnalysisSupport.h:130</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4_html_a92f58feb24c5cecfc536df5db9e7f2c9"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01MachineBasicBlock_01_4.html#a92f58feb24c5cecfc536df5db9e7f2c9">llvm::afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::getSuccessors</a></div><div class="ttdeci">static SuccRangeT getSuccessors(MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00116">MIRSampleProfile.cpp:116</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_a31f2c5f323ca8742d0588171e0c33b49"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#a31f2c5f323ca8742d0588171e0c33b49">llvm::MIRProfileLoader::setBranchProbs</a></div><div class="ttdeci">void setBranchProbs(MachineFunction &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00174">MIRSampleProfile.cpp:174</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoaderPass_html_a1eb96b167ffa7f24d42da423d684a6ec"><div class="ttname"><a href="classllvm_1_1MIRProfileLoaderPass.html#a1eb96b167ffa7f24d42da423d684a6ec">llvm::MIRProfileLoaderPass::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8h_source.html#l00045">MIRSampleProfile.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprofutil_1_1SampleCoverageTracker_html"><div class="ttname"><a href="classllvm_1_1sampleprofutil_1_1SampleCoverageTracker.html">llvm::sampleprofutil::SampleCoverageTracker</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseUtil_8h_source.html#l00035">SampleProfileLoaderBaseUtil.h:35</a></div></div>
<div class="ttc" id="aMIRSampleProfile_8cpp_html_a24b97f4ca5002f0a8f74254156bdc70e"><div class="ttname"><a href="MIRSampleProfile_8cpp.html#a24b97f4ca5002f0a8f74254156bdc70e">ViewBFIBefore</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ViewBFIBefore(&quot;fs-viewbfi-before&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;View BFI before MIR loader&quot;))</div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">llvm::sampleprof_error::success</a></div><div class="ttdeci">@ success</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_ad27f134383b571c14bae9790536a6d31"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad27f134383b571c14bae9790536a6d31">llvm::sampleprof::SampleProfileReader::create</a></div><div class="ttdeci">static ErrorOr&lt; std::unique_ptr&lt; SampleProfileReader &gt; &gt; create(const std::string Filename, LLVMContext &amp;C, vfs::FileSystem &amp;FS, FSDiscriminatorPass P=FSDiscriminatorPass::Base, const std::string RemapFilename=&quot;&quot;)</div><div class="ttdoc">Create a sample profile reader appropriate to the file format.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01858">SampleProfReader.cpp:1858</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html"><div class="ttname"><a href="classllvm_1_1Pass.html">llvm::Pass</a></div><div class="ttdoc">Pass interface - Implemented by all 'passes'.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00091">Pass.h:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aff4cd6b62f6834e4ab6d194a6cd10a26"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::Edge</a></div><div class="ttdeci">std::pair&lt; const BasicBlockT *, const BasicBlockT * &gt; Edge</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00115">SampleProfileLoaderBaseImpl.h:115</a></div></div>
<div class="ttc" id="anamespacellvm_html_af0bf055834b973decc2477a8061624ffa49315903a2559d882f356ae28a455556"><div class="ttname"><a href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa49315903a2559d882f356ae28a455556">llvm::GVDT_None</a></div><div class="ttdeci">@ GVDT_None</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01805">BlockFrequencyInfoImpl.h:1805</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_html"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits.html">llvm::afdo_detail::IRTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00058">SampleProfileLoaderBaseImpl.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBlockFrequencyInfo_html_a6c773188891ca194070345ab04799109"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html#a6c773188891ca194070345ab04799109">llvm::MachineBlockFrequencyInfo::getMBPI</a></div><div class="ttdeci">const MachineBranchProbabilityInfo * getMBPI() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8cpp_source.html#l00273">MachineBlockFrequencyInfo.cpp:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1iterator__range_html"><div class="ttname"><a href="classllvm_1_1iterator__range.html">llvm::iterator_range</a></div><div class="ttdoc">A range adaptor for a pair of iterators.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00030">iterator_range.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ac12fffcedd4a1c8bf428d694451f816c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">llvm::AnalysisUsage::addRequiredTransitive</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredTransitive()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00081">PassAnalysisSupport.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_a513148e2db58cc93ef16cccbbfe43877"><div class="ttname"><a href="namespacellvm.html#a513148e2db58cc93ef16cccbbfe43877">llvm::getFSPassBitEnd</a></div><div class="ttdeci">static unsigned getFSPassBitEnd(FSDiscriminatorPass P)</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00089">Discriminator.h:89</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6391a34afa5b4ed1a5e556a8cc4d971b"><div class="ttname"><a href="namespacellvm.html#a6391a34afa5b4ed1a5e556a8cc4d971b">llvm::ViewBlockFreqFuncName</a></div><div class="ttdeci">cl::opt&lt; std::string &gt; ViewBlockFreqFuncName(&quot;view-bfi-func-name&quot;, cl::Hidden, cl::desc(&quot;The option to specify &quot; &quot;the name of the function &quot; &quot;whose CFG will be displayed.&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8cpp_source.html#l00066">MachineBlockFrequencyInfo.cpp:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_html"><div class="ttname"><a href="structllvm_1_1GraphTraits.html">llvm::GraphTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00037">GraphTraits.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIRProfileLoader_html_a0545a44b85524b238e9ca6e42437b827"><div class="ttname"><a href="classllvm_1_1MIRProfileLoader.html#a0545a44b85524b238e9ca6e42437b827">llvm::MIRProfileLoader::MIRProfileLoader</a></div><div class="ttdeci">MIRProfileLoader(StringRef Name, StringRef RemapName, IntrusiveRefCntPtr&lt; vfs::FileSystem &gt; FS)</div><div class="ttdef"><b>Definition:</b> <a href="MIRSampleProfile_8cpp_source.html#l00141">MIRSampleProfile.cpp:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_1_1ProfileCount_html"><div class="ttname"><a href="classllvm_1_1Function_1_1ProfileCount.html">llvm::Function::ProfileCount</a></div><div class="ttdoc">Class to represent profile counts.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00252">Function.h:252</a></div></div>
<div class="ttc" id="aMIRSampleProfile_8cpp_html_a120e62b9aa6bcef919037ccfb22bf20b"><div class="ttname"><a href="MIRSampleProfile_8cpp.html#a120e62b9aa6bcef919037ccfb22bf20b">ViewBFIAfter</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ViewBFIAfter(&quot;fs-viewbfi-after&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;View BFI after MIR loader&quot;))</div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdoc">DominatorTree Class - Concrete subclass of DominatorTreeBase that is used to compute a normal dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00051">MachineDominators.h:51</a></div></div>
<div class="ttc" id="aMIRSampleProfile_8cpp_html_a00cf283e630151184bfe9f013ade620e"><div class="ttname"><a href="MIRSampleProfile_8cpp.html#a00cf283e630151184bfe9f013ade620e">ShowFSBranchProb</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ShowFSBranchProb(&quot;show-fs-branchprob&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;Print setting flow sensitive branch probabilities&quot;))</div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aMachineBlockFrequencyInfo_8h_html"><div class="ttname"><a href="MachineBlockFrequencyInfo_8h.html">MachineBlockFrequencyInfo.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrusiveRefCntPtr_html"><div class="ttname"><a href="classllvm_1_1IntrusiveRefCntPtr.html">llvm::IntrusiveRefCntPtr</a></div><div class="ttdoc">A smart pointer to a reference-counted object that inherits from RefCountedBase or ThreadSafeRefCount...</div><div class="ttdef"><b>Definition:</b> <a href="IntrusiveRefCntPtr_8h_source.html#l00168">IntrusiveRefCntPtr.h:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac85349aab432e6b7d8b2e8926048a6de"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac85349aab432e6b7d8b2e8926048a6de">llvm::MachineFunction::RenumberBlocks</a></div><div class="ttdeci">void RenumberBlocks(MachineBasicBlock *MBBFrom=nullptr)</div><div class="ttdoc">RenumberBlocks - This discards all of the MachineBasicBlock numbers and recomputes them.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00326">MachineFunction.cpp:326</a></div></div>
<div class="ttc" id="aItaniumDemangle_8h_html_ae2b0d0345572d6718e219aa76d1d54edab45cffe084dd3d20d928bee85e7b0f21"><div class="ttname"><a href="ItaniumDemangle_8h.html#ae2b0d0345572d6718e219aa76d1d54edab45cffe084dd3d20d928bee85e7b0f21">SpecialSubKind::string</a></div><div class="ttdeci">@ string</div></div>
<div class="ttc" id="aMachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:56:20 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
