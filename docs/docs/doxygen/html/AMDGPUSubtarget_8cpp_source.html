<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AMDGPU/AMDGPUSubtarget.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_447ce995d6e35417de5ec3060e97c93e.html">AMDGPU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AMDGPUSubtarget.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AMDGPUSubtarget_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- AMDGPUSubtarget.cpp - AMDGPU Subtarget Information ----------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// Implements the AMDGPU specific subclass of TargetSubtarget.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUSubtarget_8h.html">AMDGPUSubtarget.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUCallLowering_8h.html">AMDGPUCallLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUInstructionSelector_8h.html">AMDGPUInstructionSelector.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPULegalizerInfo_8h.html">AMDGPULegalizerInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPURegisterBankInfo_8h.html">AMDGPURegisterBankInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUTargetMachine_8h.html">AMDGPUTargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="R600Subtarget_8h.html">R600Subtarget.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUBaseInfo_8h.html">Utils/AMDGPUBaseInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallString_8h.html">llvm/ADT/SmallString.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineAsmLowering_8h.html">llvm/CodeGen/GlobalISel/InlineAsmLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineScheduler_8h.html">llvm/CodeGen/MachineScheduler.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetFrameLowering_8h.html">llvm/CodeGen/TargetFrameLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsAMDGPU.h&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsR600.h&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MDBuilder_8h.html">llvm/IR/MDBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCSubtargetInfo_8h.html">llvm/MC/MCSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="AMDGPUSubtarget_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   35</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;amdgpu-subtarget&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="AMDGPUSubtarget_8cpp.html#a9edcf2eb5fb8161f71f0b6540ad9cf95">   37</a></span>&#160;<span class="preprocessor">#define GET_SUBTARGETINFO_TARGET_DESC</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="AMDGPUSubtarget_8cpp.html#aa7e319f7bba8b140ee2d876cc3f8308b">   38</a></span>&#160;<span class="preprocessor">#define GET_SUBTARGETINFO_CTOR</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="AMDGPUSubtarget_8cpp.html#a12978c1b87569c406b81c0ff721d418a">   39</a></span>&#160;<span class="preprocessor">#define AMDGPUSubtarget GCNSubtarget</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;AMDGPUGenSubtargetInfo.inc&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#undef AMDGPUSubtarget</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="AMDGPUSubtarget_8cpp.html#ad6bffbcf9785e3c38e03998ab2c6584f">EnablePowerSched</a>(</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="stringliteral">&quot;amdgpu-enable-power-sched&quot;</span>,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable scheduling to minimize mAI power bursts&quot;</span>),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="AMDGPUSubtarget_8cpp.html#a00564154aeffb0cbfcf4c883ea5d0fc5">EnableVGPRIndexMode</a>(</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="stringliteral">&quot;amdgpu-vgpr-index-mode&quot;</span>,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use GPR indexing mode instead of movrel for vector indexing&quot;</span>),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="AMDGPUSubtarget_8cpp.html#a37e1b1daf7e726543f686e46808ee1fc">UseAA</a>(<span class="stringliteral">&quot;amdgpu-use-aa-in-codegen&quot;</span>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                           <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable the use of AA during codegen.&quot;</span>),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                           <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="AMDGPUSubtarget_8cpp.html#af54ac1be45778291e74df6494e35ce8c">NSAThreshold</a>(<span class="stringliteral">&quot;amdgpu-nsa-threshold&quot;</span>,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                      <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Number of addresses from which to enable MIMG NSA.&quot;</span>),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                      <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(3), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<a class="code" href="classllvm_1_1GCNSubtarget.html#af64d48dd1c0bf0bcdefdac099669a1fa">GCNSubtarget::~GCNSubtarget</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a716b165edca27031ffb7a20ea48e41e3">   64</a></span>&#160;<a class="code" href="classllvm_1_1GCNSubtarget.html#a716b165edca27031ffb7a20ea48e41e3">GCNSubtarget::initializeSubtargetDependencies</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TT,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                              <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> GPU, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// Determine default and user-specified characteristics</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">// We want to be able to turn these off, but making this a subtarget feature</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// for SI has the unhelpful behavior that it unsets everything else if you</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// disable it.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// Similarly we want enable-prt-strict-null to be on by default and not to</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// unset everything else if it is disabled</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;256&gt;</a> FullFS(<span class="stringliteral">&quot;+promote-alloca,+load-store-opt,+enable-ds128,&quot;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// Turn on features that HSA ABI requires. Also turn on FlatForGlobal by default</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#acf005b2695c64eb57157215562463116">isAmdHsaOS</a>())</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    FullFS += <span class="stringliteral">&quot;+flat-for-global,+unaligned-access-mode,+trap-handler,&quot;</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  FullFS += <span class="stringliteral">&quot;+enable-prt-strict-null,&quot;</span>; <span class="comment">// This is overridden by a disable in FS</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// Disable mutually exclusive bits.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>.contains_insensitive(<span class="stringliteral">&quot;+wavefrontsize&quot;</span>)) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>.contains_insensitive(<span class="stringliteral">&quot;wavefrontsize16&quot;</span>))</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      FullFS += <span class="stringliteral">&quot;-wavefrontsize16,&quot;</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>.contains_insensitive(<span class="stringliteral">&quot;wavefrontsize32&quot;</span>))</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      FullFS += <span class="stringliteral">&quot;-wavefrontsize32,&quot;</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>.contains_insensitive(<span class="stringliteral">&quot;wavefrontsize64&quot;</span>))</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      FullFS += <span class="stringliteral">&quot;-wavefrontsize64,&quot;</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  FullFS += <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classllvm_1_1GCNSubtarget.html#a1de3db2a7fc8d25fd5bb863ff90f0fd7">ParseSubtargetFeatures</a>(GPU, <span class="comment">/*TuneCPU*/</span> GPU, FullFS);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// Implement the &quot;generic&quot; processors, which acts as the default when no</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// generation features are enabled (e.g for -mcpu=&#39;&#39;). HSA OS defaults to</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">// the first amdgcn target that supports flat addressing. Other OSes defaults</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// to the first amdgcn target.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#a72d895427056e0f3e9147974a95d11f8">Gen</a> == <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a44ffb5f3120d0b92ed40f4ee48ada81e">AMDGPUSubtarget::INVALID</a>) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;     <a class="code" href="classllvm_1_1GCNSubtarget.html#a72d895427056e0f3e9147974a95d11f8">Gen</a> = TT.getOS() == <a class="code" href="classllvm_1_1Triple.html#a3cfefc755ab656000934f91193afb1cda0a0dddcf03f8f66f7c13558b3c81d845">Triple::AMDHSA</a> ? <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a5a040cb5d61ebf76561fcb74c4a77970">AMDGPUSubtarget::SEA_ISLANDS</a></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                        : <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aafd52d574f92cc47671a38d95bca9988">AMDGPUSubtarget::SOUTHERN_ISLANDS</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// We don&#39;t support FP64 for EG/NI atm.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1GCNSubtarget.html#ae408833a27e3db45bd5d4b790cd1ba9f">hasFP64</a>() || (<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aafd52d574f92cc47671a38d95bca9988">AMDGPUSubtarget::SOUTHERN_ISLANDS</a>));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// Targets must either support 64-bit offsets for MUBUF instructions, and/or</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// support flat operations, otherwise they cannot access a 64-bit global</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// address space</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1GCNSubtarget.html#ad773dab02c945afb0bc889ebd67649c0">hasAddr64</a>() || <a class="code" href="classllvm_1_1GCNSubtarget.html#a00e78eae9b647e527c50749797367173">hasFlat</a>());</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// Unless +-flat-for-global is specified, turn on FlatForGlobal for targets</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// that do not support ADDR64 variants of MUBUF instructions. Such targets</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// cannot use a 64 bit offset with a MUBUF instruction to access the global</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// address space</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1GCNSubtarget.html#ad773dab02c945afb0bc889ebd67649c0">hasAddr64</a>() &amp;&amp; !<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>.contains(<span class="stringliteral">&quot;flat-for-global&quot;</span>) &amp;&amp; !<a class="code" href="classllvm_1_1GCNSubtarget.html#ad5bfbea25d0de2655684928e7d7aa2f1">FlatForGlobal</a>) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    ToggleFeature(AMDGPU::FeatureFlatForGlobal);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="classllvm_1_1GCNSubtarget.html#ad5bfbea25d0de2655684928e7d7aa2f1">FlatForGlobal</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// Unless +-flat-for-global is specified, use MUBUF instructions for global</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// address space access if flat operations are not available.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1GCNSubtarget.html#a00e78eae9b647e527c50749797367173">hasFlat</a>() &amp;&amp; !<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>.contains(<span class="stringliteral">&quot;flat-for-global&quot;</span>) &amp;&amp; <a class="code" href="classllvm_1_1GCNSubtarget.html#ad5bfbea25d0de2655684928e7d7aa2f1">FlatForGlobal</a>) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    ToggleFeature(AMDGPU::FeatureFlatForGlobal);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="classllvm_1_1GCNSubtarget.html#ad5bfbea25d0de2655684928e7d7aa2f1">FlatForGlobal</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">// Set defaults if needed.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#a18efbf5a73b167d005a9d1004816ab00">MaxPrivateElementSize</a> == 0)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="classllvm_1_1GCNSubtarget.html#a18efbf5a73b167d005a9d1004816ab00">MaxPrivateElementSize</a> = 4;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#a61d64bc81257fe4f2c899dc26a9c1660">LDSBankCount</a> == 0)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="classllvm_1_1GCNSubtarget.html#a61d64bc81257fe4f2c899dc26a9c1660">LDSBankCount</a> = 32;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span> (TT.getArch() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a387d88fc1b536facc13f5a41170250b0">Triple::amdgcn</a>) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a943378cfc586b0e07ae5899d72c522db">LocalMemorySize</a> == 0)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a943378cfc586b0e07ae5899d72c522db">LocalMemorySize</a> = 32768;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// Do something sensible for unspecified target.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1GCNSubtarget.html#a76168e6f26b0f7cada393b6baaf6d7aa">HasMovrel</a> &amp;&amp; !<a class="code" href="classllvm_1_1GCNSubtarget.html#a2ee2435b1a7b8c192632aeabdd325e7d">HasVGPRIndexMode</a>)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="classllvm_1_1GCNSubtarget.html#a76168e6f26b0f7cada393b6baaf6d7aa">HasMovrel</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ac8a473e77f57a3e0d70375277e45c6b7">AddressableLocalMemorySize</a> = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a943378cfc586b0e07ae5899d72c522db">LocalMemorySize</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU.html#ab07da835cd8eddcfffcfb4192dff59a6">AMDGPU::isGFX10Plus</a>(*<span class="keyword">this</span>) &amp;&amp;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      !getFeatureBits().<a class="code" href="ModuloSchedule_8cpp.html#a106e32122c569cdb42ddf61ecbb0aad1">test</a>(AMDGPU::FeatureCuMode))</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a943378cfc586b0e07ae5899d72c522db">LocalMemorySize</a> *= 2;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// Don&#39;t crash on invalid devices.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a1a16fa16d81293a0114e664d9f290114">WavefrontSizeLog2</a> == 0)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a1a16fa16d81293a0114e664d9f290114">WavefrontSizeLog2</a> = 5;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a0f40e9682781a1c311ff686ff29a573a">HasFminFmaxLegacy</a> = <a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &lt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a752e3e8e514e13b70cf1d092b9746e89">HasSMulHi</a> = <a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307">AMDGPUSubtarget::GFX9</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="classllvm_1_1GCNSubtarget.html#afc6af409114a5e2da7bc8bedf9024cdc">TargetID</a>.<a class="code" href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html#a08b8980d20ebca6171b8139f4dadc3eb">setTargetIDFromFeaturesString</a>(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;xnack setting for subtarget: &quot;</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    &lt;&lt; <a class="code" href="classllvm_1_1GCNSubtarget.html#afc6af409114a5e2da7bc8bedf9024cdc">TargetID</a>.<a class="code" href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html#a25bbe697f6fdd4ee71f4897eaa8f2c65">getXnackSetting</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;sramecc setting for subtarget: &quot;</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    &lt;&lt; <a class="code" href="classllvm_1_1GCNSubtarget.html#afc6af409114a5e2da7bc8bedf9024cdc">TargetID</a>.<a class="code" href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html#aecd3f3ccd0bc04187c08fd2e1bbc9924">getSramEccSetting</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a0edf9f3730615933d02dcaa2969bfa52">  167</a></span>&#160;<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a0edf9f3730615933d02dcaa2969bfa52">AMDGPUSubtarget::AMDGPUSubtarget</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TT) : TargetTriple(TT) {}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#acf1aa5ffc0b59dd205f5dc5142580771">  169</a></span>&#160;<a class="code" href="classllvm_1_1GCNSubtarget.html#acf1aa5ffc0b59dd205f5dc5142580771">GCNSubtarget::GCNSubtarget</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TT, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> GPU, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNTargetMachine.html">GCNTargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    : <span class="comment">// clang-format off</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="classAMDGPUGenSubtargetInfo.html">AMDGPUGenSubtargetInfo</a>(TT, GPU, <span class="comment">/*TuneCPU*/</span> GPU, <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>),</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classllvm_1_1AMDGPUSubtarget.html">AMDGPUSubtarget</a>(TT),</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    TargetTriple(TT),</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    TargetID(*<a class="code" href="lib_2Analysis_2README_8txt.html#ad5ccdce1179bbfb942a084b3005f360d">this</a>),</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    InstrItins(getInstrItineraryForCPU(GPU)),</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="RISCVInsertVSETVLI_8cpp.html#a6ab56a96ea40bb332e1a049c59e67258">InstrInfo</a>(initializeSubtargetDependencies(TT, GPU, <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>)),</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    TLInfo(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>, *<a class="code" href="lib_2Analysis_2README_8txt.html#ad5ccdce1179bbfb942a084b3005f360d">this</a>),</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    FrameLowering(<a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a>::StackGrowsUp, getStackAlignment(), 0) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// clang-format on</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a94e255f5cda4e44bebeabdbf414e6248">MaxWavesPerEU</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#a41a62eaa48728ca1d52dda5d0a9b08c1">AMDGPU::IsaInfo::getMaxWavesPerEU</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a5443dc7c0f90739fe217013b0a6b6206">EUsPerCU</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#a705a7512f5b23ec9b3bb19f032040285">AMDGPU::IsaInfo::getEUsPerCU</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  CallLoweringInfo.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1AMDGPUCallLowering.html">AMDGPUCallLowering</a>(*<a class="code" href="classllvm_1_1GCNSubtarget.html#aadc55ee80218e97fbccb05099877eb51">getTargetLowering</a>()));</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  InlineAsmLoweringInfo.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1InlineAsmLowering.html">InlineAsmLowering</a>(<a class="code" href="classllvm_1_1GCNSubtarget.html#aadc55ee80218e97fbccb05099877eb51">getTargetLowering</a>()));</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="classllvm_1_1Legalizer.html">Legalizer</a>.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1AMDGPULegalizerInfo.html">AMDGPULegalizerInfo</a>(*<span class="keyword">this</span>, <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>));</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  RegBankInfo.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1AMDGPURegisterBankInfo.html">AMDGPURegisterBankInfo</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  InstSelector.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1AMDGPUInstructionSelector.html">AMDGPUInstructionSelector</a>(</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  *<span class="keyword">this</span>, *<span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1AMDGPURegisterBankInfo.html">AMDGPURegisterBankInfo</a> *<span class="keyword">&gt;</span>(RegBankInfo.get()), <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">  191</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">GCNSubtarget::getConstantBusLimit</a>(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &lt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">GFX10</a>)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHLREV_B64_e64:</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHLREV_B64_gfx10:</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHLREV_B64_e64_gfx11:</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHL_B64_e64:</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHRREV_B64_e64:</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHRREV_B64_gfx10:</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHRREV_B64_e64_gfx11:</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHR_B64_e64:</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ASHRREV_I64_e64:</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ASHRREV_I64_gfx10:</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ASHRREV_I64_e64_gfx11:</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ASHR_I64_e64:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">/// This list was mostly derived from experimentation.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a662ced5ddef5f29e53b545dfd51384e9">  215</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a662ced5ddef5f29e53b545dfd51384e9">GCNSubtarget::zeroesHigh16BitsOfDest</a>(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_CVT_F16_F32_e32:</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_CVT_F16_F32_e64:</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_CVT_F16_U16_e32:</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_CVT_F16_U16_e64:</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_CVT_F16_I16_e32:</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_CVT_F16_I16_e64:</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_RCP_F16_e64:</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_RCP_F16_e32:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_RSQ_F16_e64:</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_RSQ_F16_e32:</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SQRT_F16_e64:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SQRT_F16_e32:</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LOG_F16_e64:</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LOG_F16_e32:</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_EXP_F16_e64:</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_EXP_F16_e32:</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SIN_F16_e64:</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SIN_F16_e32:</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_COS_F16_e64:</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_COS_F16_e32:</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FLOOR_F16_e64:</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FLOOR_F16_e32:</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_CEIL_F16_e64:</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_CEIL_F16_e32:</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_TRUNC_F16_e64:</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_TRUNC_F16_e32:</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_RNDNE_F16_e64:</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_RNDNE_F16_e32:</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FRACT_F16_e64:</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FRACT_F16_e32:</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FREXP_MANT_F16_e64:</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FREXP_MANT_F16_e32:</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FREXP_EXP_I16_F16_e64:</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FREXP_EXP_I16_F16_e32:</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LDEXP_F16_e64:</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LDEXP_F16_e32:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHLREV_B16_e64:</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHLREV_B16_e32:</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHRREV_B16_e64:</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_LSHRREV_B16_e32:</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ASHRREV_I16_e64:</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ASHRREV_I16_e32:</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ADD_U16_e64:</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ADD_U16_e32:</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SUB_U16_e64:</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SUB_U16_e32:</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SUBREV_U16_e64:</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SUBREV_U16_e32:</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MUL_LO_U16_e64:</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MUL_LO_U16_e32:</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ADD_F16_e64:</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ADD_F16_e32:</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SUB_F16_e64:</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SUB_F16_e32:</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SUBREV_F16_e64:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SUBREV_F16_e32:</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MUL_F16_e64:</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MUL_F16_e32:</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAX_F16_e64:</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAX_F16_e32:</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MIN_F16_e64:</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MIN_F16_e32:</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAX_U16_e64:</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAX_U16_e32:</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MIN_U16_e64:</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MIN_U16_e32:</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAX_I16_e64:</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAX_I16_e32:</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MIN_I16_e64:</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MIN_I16_e32:</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAD_F16_e64:</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAD_U16_e64:</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAD_I16_e64:</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMA_F16_e64:</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_DIV_FIXUP_F16_e64:</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// On gfx10, all 16-bit instructions preserve the high bits.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &lt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307">AMDGPUSubtarget::GFX9</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MADAK_F16:</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MADMK_F16:</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAC_F16_e64:</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAC_F16_e32:</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAMK_F16:</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAAK_F16:</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_F16_e64:</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_F16_e32:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// In gfx9, the preferred handling of the unused high 16-bits changed. Most</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// instructions maintain the legacy behavior of 0ing. Some instructions</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// changed to preserving the high bits.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() == <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAD_MIXLO_F16:</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAD_MIXHI_F16:</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">// Returns the maximum per-workgroup LDS allocation size (in bytes) that still</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">// allows the given function to achieve an occupancy of NWaves waves per</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">// SIMD / EU, taking into account only the function&#39;s *maximum* workgroup size.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#aaa65bceafd78d01262b121c667576dfc">  317</a></span>&#160;<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aaa65bceafd78d01262b121c667576dfc">AMDGPUSubtarget::getMaxLocalMemSizeWithWaveCount</a>(<span class="keywordtype">unsigned</span> NWaves,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> WaveSize = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">getWavefrontSize</a>();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> WorkGroupSize = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a52b3955112597a3fcbe612414ec40e79">getFlatWorkGroupSizes</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).second;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> WavesPerWorkgroup =</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(1u, (WorkGroupSize + WaveSize - 1) / WaveSize);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> WorkGroupsPerCU =</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(1u, (NWaves * <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a32223c680f720130888787d37d016185">getEUsPerCU</a>()) / WavesPerWorkgroup);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a5954b5fa0774754a36bea0008fd60b28">getLocalMemorySize</a>() / WorkGroupsPerCU;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">// FIXME: Should return min,max range.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">// Returns the maximum occupancy, in number of waves per SIMD / EU, that can</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">// be achieved when only the given function is running on the machine; and</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">// taking into account the overall number of wave slots, the (maximum) workgroup</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">// size, and the per-workgroup LDS allocation size.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a070c057941562774c1ffa4f85b1095ed">  336</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a070c057941562774c1ffa4f85b1095ed">AMDGPUSubtarget::getOccupancyWithLocalMemSize</a>(<a class="code" href="classuint32__t.html">uint32_t</a> Bytes,</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MaxWorkGroupSize = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a52b3955112597a3fcbe612414ec40e79">getFlatWorkGroupSizes</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).second;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MaxWorkGroupsPerCu = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a65f857a7eabda4495d0472e66546253a">getMaxWorkGroupsPerCU</a>(MaxWorkGroupSize);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">if</span> (!MaxWorkGroupsPerCu)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> WaveSize = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">getWavefrontSize</a>();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// FIXME: Do we need to account for alignment requirement of LDS rounding the</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// size up?</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// Compute restriction based on LDS usage</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordtype">unsigned</span> NumGroups = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a5954b5fa0774754a36bea0008fd60b28">getLocalMemorySize</a>() / (Bytes ? Bytes : 1u);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// This can be queried with more LDS than is possible, so just assume the</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// worst.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">if</span> (NumGroups == 0)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  NumGroups = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(MaxWorkGroupsPerCu, NumGroups);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// Round to the number of waves per CU.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MaxGroupNumWaves = <a class="code" href="namespacellvm.html#a1a14592c2ae220a319c7c85ee545c96f">divideCeil</a>(MaxWorkGroupSize, WaveSize);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordtype">unsigned</span> MaxWaves = NumGroups * MaxGroupNumWaves;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// Number of waves per EU (SIMD).</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  MaxWaves = <a class="code" href="namespacellvm.html#a1a14592c2ae220a319c7c85ee545c96f">divideCeil</a>(MaxWaves, <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a32223c680f720130888787d37d016185">getEUsPerCU</a>());</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// Clamp to the maximum possible number of waves.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  MaxWaves = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(MaxWaves, <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ab96f321c806effcca947691e54b24784">getMaxWavesPerEU</a>());</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// FIXME: Needs to be a multiple of the group size?</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">//MaxWaves = MaxGroupNumWaves * (MaxWaves / MaxGroupNumWaves);</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MaxWaves &gt; 0 &amp;&amp; MaxWaves &lt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ab96f321c806effcca947691e54b24784">getMaxWavesPerEU</a>() &amp;&amp;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;         <span class="stringliteral">&quot;computed invalid occupancy&quot;</span>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">return</span> MaxWaves;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a3decc6a183b734da70682b48ec5d5431">  376</a></span>&#160;<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a070c057941562774c1ffa4f85b1095ed">AMDGPUSubtarget::getOccupancyWithLocalMemSize</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a070c057941562774c1ffa4f85b1095ed">getOccupancyWithLocalMemSize</a>(MFI-&gt;getLDSSize(), MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>());</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;std::pair&lt;unsigned, unsigned&gt;</div>
<div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a1068b7ada5cc9c27785b06ec8a8f8782">  382</a></span>&#160;<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a1068b7ada5cc9c27785b06ec8a8f8782">AMDGPUSubtarget::getDefaultFlatWorkGroupSize</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">CallingConv::ID</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda1a9f243b16678fc294567b72bbe87223">CallingConv::AMDGPU_VS</a>:</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedaf2c5be679d7769a9f3e5e308f73a9ff8">CallingConv::AMDGPU_LS</a>:</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda5c0f66e45afd7c51f4ee51552d8fb606">CallingConv::AMDGPU_HS</a>:</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedad61318e853e529ac703f52a853efa1d1">CallingConv::AMDGPU_ES</a>:</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda6f08d1631b96043fe0201973d84e5539">CallingConv::AMDGPU_GS</a>:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda91283117ce67ebdae50cc7730694d8f8">CallingConv::AMDGPU_PS</a>:</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">return</span> std::pair(1, <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">getWavefrontSize</a>());</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> std::pair(1u, <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aabfb87750bb92c2facd6989036e987a8">getMaxFlatWorkGroupSize</a>());</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a52b3955112597a3fcbe612414ec40e79">  396</a></span>&#160;std::pair&lt;unsigned, unsigned&gt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a52b3955112597a3fcbe612414ec40e79">AMDGPUSubtarget::getFlatWorkGroupSizes</a>(</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// Default minimum/maximum flat work group sizes.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  std::pair&lt;unsigned, unsigned&gt; Default =</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a1068b7ada5cc9c27785b06ec8a8f8782">getDefaultFlatWorkGroupSize</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv());</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// Requested minimum/maximum flat work group sizes.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  std::pair&lt;unsigned, unsigned&gt; Requested = <a class="code" href="namespacellvm_1_1AMDGPU.html#a272fc2c1f64096529cd75dbf22890148">AMDGPU::getIntegerPairAttribute</a>(</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="stringliteral">&quot;amdgpu-flat-work-group-size&quot;</span>, Default);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="comment">// Make sure requested minimum is less than requested maximum.</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">if</span> (Requested.first &gt; Requested.second)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> Default;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">// Make sure requested values do not violate subtarget&#39;s specifications.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">if</span> (Requested.first &lt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aeaf5c91b90bac99b00f3855b1af9069a">getMinFlatWorkGroupSize</a>())</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span> Default;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (Requested.second &gt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aabfb87750bb92c2facd6989036e987a8">getMaxFlatWorkGroupSize</a>())</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">return</span> Default;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">return</span> Requested;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#aa08dff44352a0a7a7e50345949a4fd1f">  419</a></span>&#160;std::pair&lt;unsigned, unsigned&gt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a0ee87ff4d1eb3c5e3e685d71e4b567fa">AMDGPUSubtarget::getWavesPerEU</a>(</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, std::pair&lt;unsigned, unsigned&gt; FlatWorkGroupSizes)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// Default minimum/maximum number of waves per execution unit.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  std::pair&lt;unsigned, unsigned&gt; Default(1, <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ab96f321c806effcca947691e54b24784">getMaxWavesPerEU</a>());</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// If minimum/maximum flat work group sizes were explicitly requested using</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// &quot;amdgpu-flat-work-group-size&quot; attribute, then set default minimum/maximum</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// number of waves per execution unit to values implied by requested</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="comment">// minimum/maximum flat work group sizes.</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordtype">unsigned</span> MinImpliedByFlatWorkGroupSize =</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a6420858e0f0f0bfa5da303b363d0fb63">getWavesPerEUForWorkGroup</a>(FlatWorkGroupSizes.second);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  Default.first = MinImpliedByFlatWorkGroupSize;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// Requested minimum/maximum number of waves per execution unit.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  std::pair&lt;unsigned, unsigned&gt; Requested = <a class="code" href="namespacellvm_1_1AMDGPU.html#a272fc2c1f64096529cd75dbf22890148">AMDGPU::getIntegerPairAttribute</a>(</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="stringliteral">&quot;amdgpu-waves-per-eu&quot;</span>, Default, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// Make sure requested minimum is less than requested maximum.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span> (Requested.second &amp;&amp; Requested.first &gt; Requested.second)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> Default;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// Make sure requested values do not violate subtarget&#39;s specifications.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">if</span> (Requested.first &lt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a4e47a88a0ba4b8ca769a5a8609887b44">getMinWavesPerEU</a>() ||</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      Requested.second &gt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ab96f321c806effcca947691e54b24784">getMaxWavesPerEU</a>())</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">return</span> Default;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">// Make sure requested values are compatible with values implied by requested</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// minimum/maximum flat work group sizes.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">if</span> (Requested.first &lt; MinImpliedByFlatWorkGroupSize)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">return</span> Default;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">return</span> Requested;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="AMDGPUSubtarget_8cpp.html#ae13c4e3a2e5393fa5bfd4c32d216e475">  453</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="AMDGPUSubtarget_8cpp.html#ae13c4e3a2e5393fa5bfd4c32d216e475">getReqdWorkGroupSize</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>, <span class="keywordtype">unsigned</span> Dim) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keyword">auto</span> Node = <a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>.<a class="code" href="classllvm_1_1GlobalObject.html#a61a186a60c64a2a5225db9944eaf7df8">getMetadata</a>(<span class="stringliteral">&quot;reqd_work_group_size&quot;</span>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">if</span> (Node &amp;&amp; Node-&gt;getNumOperands() == 3)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">return</span> mdconst::extract&lt;ConstantInt&gt;(Node-&gt;getOperand(Dim))-&gt;getZExtValue();</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;unsigned&gt;::max</a>();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a372f6d69231abbcd8aca7aa02aaba0bc">  460</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a372f6d69231abbcd8aca7aa02aaba0bc">AMDGPUSubtarget::isMesaKernel</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a0972f69944edd9b5edb80bab11002a3c">isMesa3DOS</a>() &amp;&amp; !<a class="code" href="namespacellvm_1_1AMDGPU.html#aa813940c0ad88b3c4419f65af3e89e5e">AMDGPU::isShader</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv());</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a58a778423d8bdcf6b6f94172ff8271b2">  464</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a58a778423d8bdcf6b6f94172ff8271b2">AMDGPUSubtarget::getMaxWorkitemID</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                           <span class="keywordtype">unsigned</span> Dimension)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordtype">unsigned</span> ReqdSize = <a class="code" href="AMDGPUSubtarget_8cpp.html#ae13c4e3a2e5393fa5bfd4c32d216e475">getReqdWorkGroupSize</a>(<a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>, Dimension);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (ReqdSize != <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;unsigned&gt;::max</a>())</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> ReqdSize - 1;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a52b3955112597a3fcbe612414ec40e79">getFlatWorkGroupSizes</a>(<a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>).second - 1;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a553c1b079d8168cdff5b62f756fccf93">  472</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a553c1b079d8168cdff5b62f756fccf93">AMDGPUSubtarget::makeLIDRangeMetadata</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()-&gt;getParent();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordtype">unsigned</span> MinSize = 0;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordtype">unsigned</span> MaxSize = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a52b3955112597a3fcbe612414ec40e79">getFlatWorkGroupSizes</a>(*Kernel).second;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordtype">bool</span> IdQuery = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// If reqd_work_group_size is present it narrows value down.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CI-&gt;getCalledFunction();</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordtype">unsigned</span> Dim = UINT_MAX;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">case</span> Intrinsic::amdgcn_workitem_id_x:</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">case</span> Intrinsic::r600_read_tidig_x:</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        IdQuery = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        [[fallthrough]];</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">case</span> Intrinsic::r600_read_local_size_x:</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        Dim = 0;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">case</span> Intrinsic::amdgcn_workitem_id_y:</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">case</span> Intrinsic::r600_read_tidig_y:</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        IdQuery = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        [[fallthrough]];</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">case</span> Intrinsic::r600_read_local_size_y:</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        Dim = 1;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">case</span> Intrinsic::amdgcn_workitem_id_z:</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="keywordflow">case</span> Intrinsic::r600_read_tidig_z:</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        IdQuery = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        [[fallthrough]];</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">case</span> Intrinsic::r600_read_local_size_z:</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        Dim = 2;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">if</span> (Dim &lt;= 3) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordtype">unsigned</span> ReqdSize = <a class="code" href="AMDGPUSubtarget_8cpp.html#ae13c4e3a2e5393fa5bfd4c32d216e475">getReqdWorkGroupSize</a>(*<a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>, Dim);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (ReqdSize != <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;unsigned&gt;::max</a>())</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;          MinSize = MaxSize = ReqdSize;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">if</span> (!MaxSize)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// Range metadata is [Lo, Hi). For ID query we need to pass max size</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">// as Hi. For size query we need to pass Hi + 1.</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">if</span> (IdQuery)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    MinSize = 0;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    ++MaxSize;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a> MDB(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getContext());</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MaxWorkGroupSizeRange = MDB.<a class="code" href="classllvm_1_1MDBuilder.html#ab6af8e6189a4d10f4a9c20daab0280b8">createRange</a>(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, MinSize),</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                                                  <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, MaxSize));</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;setMetadata(LLVMContext::MD_range, MaxWorkGroupSizeRange);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a591a878d70defc012476ad32669c5238">  534</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a591a878d70defc012476ad32669c5238">AMDGPUSubtarget::getImplicitArgNumBytes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AMDGPU.html#a3cc437d6699fb55c69e78b5d0cad641d">AMDGPU::isKernel</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv()));</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// We don&#39;t allocate the segment if we know the implicit arguments weren&#39;t</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">// used, even if the ABI implies we need them.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-implicitarg-ptr&quot;</span>))</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a372f6d69231abbcd8aca7aa02aaba0bc">isMesaKernel</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> 16;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// Assume all implicit inputs are used by default</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordtype">unsigned</span> NBytes =</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU.html#a393a9a9f611c326cabf217b4c360e2e6">AMDGPU::getCodeObjectVersion</a>(*<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) &gt;= <a class="code" href="namespacellvm_1_1AMDGPU.html#ab8edae44cec4167ac46ac7f60ecb4dafabd2438b14a6a1a27fae653284aaa3cb4">AMDGPU::AMDHSA_COV5</a> ? 256 : 56;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFnAttributeAsParsedInteger(<span class="stringliteral">&quot;amdgpu-implicitarg-num-bytes&quot;</span>,</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                                         NBytes);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;}</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#ac1b7e869cf552cba05a324482f83d2d1">  553</a></span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ac1b7e869cf552cba05a324482f83d2d1">AMDGPUSubtarget::getExplicitKernArgSize</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                                                 <a class="code" href="structllvm_1_1Align.html">Align</a> &amp;MaxAlign)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0">CallingConv::AMDGPU_KERNEL</a> ||</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;         <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda9b5e79699935bf721647d44339701860">CallingConv::SPIR_KERNEL</a>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent()-&gt;getDataLayout();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ExplicitArgBytes = 0;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  MaxAlign = <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.args()) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> IsByRef = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.hasByRefAttr();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTy = IsByRef ? <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getParamByRefType() : <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getType();</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getValueOrABITypeAlignment(</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        IsByRef ? <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getParamAlign() : std::nullopt, ArgTy);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AllocSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(ArgTy);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    ExplicitArgBytes = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(ExplicitArgBytes, Alignment) + AllocSize;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    MaxAlign = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(MaxAlign, Alignment);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">return</span> ExplicitArgBytes;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a76976ccb29b7c0317d800e4dcd294ddb">  575</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a76976ccb29b7c0317d800e4dcd294ddb">AMDGPUSubtarget::getKernArgSegmentSize</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                                <a class="code" href="structllvm_1_1Align.html">Align</a> &amp;MaxAlign)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ExplicitArgBytes = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ac1b7e869cf552cba05a324482f83d2d1">getExplicitKernArgSize</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, MaxAlign);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordtype">unsigned</span> ExplicitOffset = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ad3f7e09d16f088af156f661b88e88da3">getExplicitKernelArgOffset</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TotalSize = ExplicitOffset + ExplicitArgBytes;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordtype">unsigned</span> ImplicitBytes = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a591a878d70defc012476ad32669c5238">getImplicitArgNumBytes</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">if</span> (ImplicitBytes != 0) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a26aacb7fa06e83e34f23c4c566ca509f">getAlignmentForImplicitArgPtr</a>();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    TotalSize = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(ExplicitArgBytes, Alignment) + ImplicitBytes;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    MaxAlign = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(MaxAlign, Alignment);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">// Being able to dereference past the end is useful for emitting scalar loads.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(TotalSize, 4);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#aa8f07b602705bd7687cb7693fd508cfd">  593</a></span>&#160;<a class="code" href="namespacellvm.html#af6d8de6e1f81b4c8ff8de2533458913d">AMDGPUDwarfFlavour</a> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aa8f07b602705bd7687cb7693fd508cfd">AMDGPUSubtarget::getAMDGPUDwarfFlavour</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">getWavefrontSize</a>() == 32 ? <a class="code" href="namespacellvm.html#af6d8de6e1f81b4c8ff8de2533458913da71622970321a9c65c5e965033e7688bc">AMDGPUDwarfFlavour::Wave32</a></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                  : <a class="code" href="namespacellvm.html#af6d8de6e1f81b4c8ff8de2533458913dae21fda25c78af661136d946e9566f52e">AMDGPUDwarfFlavour::Wave64</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#aec6845ed5bb22b096581b6887d6db618">  598</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#aec6845ed5bb22b096581b6887d6db618">GCNSubtarget::overrideSchedPolicy</a>(<a class="code" href="structllvm_1_1MachineSchedPolicy.html">MachineSchedPolicy</a> &amp;Policy,</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                      <span class="keywordtype">unsigned</span> NumRegionInstrs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="comment">// Track register pressure so the scheduler can try to decrease</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="comment">// pressure once register usage is above the threshold defined by</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="comment">// SIRegisterInfo::getRegPressureSetLimit()</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  Policy.<a class="code" href="structllvm_1_1MachineSchedPolicy.html#aee4e3964174cee8cf362508ccef135ca">ShouldTrackPressure</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="comment">// Enabling both top down and bottom up scheduling seems to give us less</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="comment">// register spills than just using one of these approaches on its own.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  Policy.<a class="code" href="structllvm_1_1MachineSchedPolicy.html#a0f609dd4ed94ea69ab680a7228f8786b">OnlyTopDown</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  Policy.<a class="code" href="structllvm_1_1MachineSchedPolicy.html#a47ee8ec29daa3551f798ff4449fbf4d5">OnlyBottomUp</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="comment">// Enabling ShouldTrackLaneMasks crashes the SI Machine Scheduler.</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1GCNSubtarget.html#ad6cff467fd7061aa3d14b86ebb25b426">enableSIScheduler</a>())</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    Policy.<a class="code" href="structllvm_1_1MachineSchedPolicy.html#af3e6dd2ea28909a7bdc5fefae67766b9">ShouldTrackLaneMasks</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a3f464e58eb8545a1261f5ef4be85ce95">  615</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a3f464e58eb8545a1261f5ef4be85ce95">GCNSubtarget::hasMadF16</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">return</span> InstrInfo.<a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(AMDGPU::V_MAD_F16_e64) != -1;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a021be99fec633060e46fd3c482c1c3bc">  619</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a021be99fec633060e46fd3c482c1c3bc">GCNSubtarget::useVGPRIndexMode</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1GCNSubtarget.html#a99ce92019b9024b92d62341296eab008">hasMovrel</a>() || (<a class="code" href="AMDGPUSubtarget_8cpp.html#a00564154aeffb0cbfcf4c883ea5d0fc5">EnableVGPRIndexMode</a> &amp;&amp; <a class="code" href="classllvm_1_1GCNSubtarget.html#a9fae1c20909b13d71c4923a90967f74b">hasVGPRIndexMode</a>());</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a9f0c2a9bd6fbb4b4f778c62d04098b3b">  623</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a9f0c2a9bd6fbb4b4f778c62d04098b3b">GCNSubtarget::useAA</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="AMDGPUSubtarget_8cpp.html#a37e1b1daf7e726543f686e46808ee1fc">UseAA</a>; }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#ab20982dc4ff887572a43754228a94fc0">  625</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#ab20982dc4ff887572a43754228a94fc0">GCNSubtarget::getOccupancyWithNumSGPRs</a>(<span class="keywordtype">unsigned</span> SGPRs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">AMDGPUSubtarget::GFX10</a>)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ab96f321c806effcca947691e54b24784">getMaxWavesPerEU</a>();</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a>) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (SGPRs &lt;= 80)</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">return</span> 10;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (SGPRs &lt;= 88)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">return</span> 9;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span> (SGPRs &lt;= 100)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">return</span> 8;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">return</span> 7;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordflow">if</span> (SGPRs &lt;= 48)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">return</span> 10;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (SGPRs &lt;= 56)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">return</span> 9;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">if</span> (SGPRs &lt;= 64)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">return</span> 8;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">if</span> (SGPRs &lt;= 72)</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">return</span> 7;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">if</span> (SGPRs &lt;= 80)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> 6;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">return</span> 5;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#aa19ea7d1223b3dbc9f1c432059f8e040">  651</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#aa19ea7d1223b3dbc9f1c432059f8e040">GCNSubtarget::getOccupancyWithNumVGPRs</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#a0963ad90c895ee3e4e6d9e463c2d2e23">NumVGPRs</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#ab56dd7bdfea0401c802b4c94cb76ef1e">AMDGPU::IsaInfo::getNumWavesPerEUWithNumVGPRs</a>(<span class="keyword">this</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#a0963ad90c895ee3e4e6d9e463c2d2e23">NumVGPRs</a>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#ad65c004eab25ab815e6bc696b8fb8578">  656</a></span>&#160;<a class="code" href="classllvm_1_1GCNSubtarget.html#ad65c004eab25ab815e6bc696b8fb8578">GCNSubtarget::getBaseReservedNumSGPRs</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> HasFlatScratch)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">AMDGPUSubtarget::GFX10</a>)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> 2; <span class="comment">// VCC. FLAT_SCRATCH and XNACK are no longer in SGPRs.</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">if</span> (HasFlatScratch || <a class="code" href="classllvm_1_1GCNSubtarget.html#aaee498bf7e34783628f61d9aa83fead3">HasArchitectedFlatScratch</a>) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a>)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keywordflow">return</span> 6; <span class="comment">// FLAT_SCRATCH, XNACK, VCC (in that order).</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() == <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a5a040cb5d61ebf76561fcb74c4a77970">AMDGPUSubtarget::SEA_ISLANDS</a>)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">return</span> 4; <span class="comment">// FLAT_SCRATCH, VCC (in that order).</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#ad0dd54f1f3e1eb169b00651cd3d61da6">isXNACKEnabled</a>())</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">return</span> 4; <span class="comment">// XNACK, VCC (in that order).</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">return</span> 2; <span class="comment">// VCC.</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a988c4c0176e7554762642cd4f0fa1b8a">  672</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a988c4c0176e7554762642cd4f0fa1b8a">GCNSubtarget::getReservedNumSGPRs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#ad65c004eab25ab815e6bc696b8fb8578">getBaseReservedNumSGPRs</a>(MFI.<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#a318f4e4abc2a6cfc1776734e748d64e8">hasFlatScratchInit</a>());</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a0b81f06d449a6dc8b3d664b5edded261">  677</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a988c4c0176e7554762642cd4f0fa1b8a">GCNSubtarget::getReservedNumSGPRs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// In principle we do not need to reserve SGPR pair used for flat_scratch if</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="comment">// we know flat instructions do not access the stack anywhere in the</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="comment">// program. For now assume it&#39;s needed if we have flat instructions.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> KernelUsesFlatScratch = <a class="code" href="classllvm_1_1GCNSubtarget.html#a90fc707270386fb970207745d6675805">hasFlatAddressSpace</a>();</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#ad65c004eab25ab815e6bc696b8fb8578">getBaseReservedNumSGPRs</a>(KernelUsesFlatScratch);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a22e6e95a4f532492fa0ec707993ecab9">  685</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a22e6e95a4f532492fa0ec707993ecab9">GCNSubtarget::computeOccupancy</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keywordtype">unsigned</span> LDSSize,</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                                        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#ab3ae015c304377afcbc3ae1ed54578e8">NumSGPRs</a>,</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                                        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#a0963ad90c895ee3e4e6d9e463c2d2e23">NumVGPRs</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordtype">unsigned</span> Occupancy =</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ab96f321c806effcca947691e54b24784">getMaxWavesPerEU</a>(),</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;             <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a070c057941562774c1ffa4f85b1095ed">getOccupancyWithLocalMemSize</a>(LDSSize, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#ab3ae015c304377afcbc3ae1ed54578e8">NumSGPRs</a>)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    Occupancy = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Occupancy, <a class="code" href="classllvm_1_1GCNSubtarget.html#ab20982dc4ff887572a43754228a94fc0">getOccupancyWithNumSGPRs</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#ab3ae015c304377afcbc3ae1ed54578e8">NumSGPRs</a>));</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#a0963ad90c895ee3e4e6d9e463c2d2e23">NumVGPRs</a>)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    Occupancy = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Occupancy, <a class="code" href="classllvm_1_1GCNSubtarget.html#aa19ea7d1223b3dbc9f1c432059f8e040">getOccupancyWithNumVGPRs</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#a0963ad90c895ee3e4e6d9e463c2d2e23">NumVGPRs</a>));</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordflow">return</span> Occupancy;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a6b42f0492d630514943c345ab5eb4bc0">  698</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a6b42f0492d630514943c345ab5eb4bc0">GCNSubtarget::getBaseMaxNumSGPRs</a>(</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, std::pair&lt;unsigned, unsigned&gt; WavesPerEU,</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordtype">unsigned</span> PreloadedSGPRs, <span class="keywordtype">unsigned</span> ReservedNumSGPRs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// Compute maximum number of SGPRs function can use using default/requested</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="comment">// minimum number of waves per execution unit.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordtype">unsigned</span> MaxNumSGPRs = <a class="code" href="classllvm_1_1GCNSubtarget.html#acf6141c742569e20d289c523560f8b00">getMaxNumSGPRs</a>(WavesPerEU.first, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordtype">unsigned</span> MaxAddressableNumSGPRs = <a class="code" href="classllvm_1_1GCNSubtarget.html#acf6141c742569e20d289c523560f8b00">getMaxNumSGPRs</a>(WavesPerEU.first, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="comment">// Check if maximum number of SGPRs was explicitly requested using</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">// &quot;amdgpu-num-sgpr&quot; attribute.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-num-sgpr&quot;</span>)) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordtype">unsigned</span> Requested =</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFnAttributeAsParsedInteger(<span class="stringliteral">&quot;amdgpu-num-sgpr&quot;</span>, MaxNumSGPRs);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="comment">// Make sure requested value does not violate subtarget&#39;s specifications.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span> (Requested &amp;&amp; (Requested &lt;= ReservedNumSGPRs))</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      Requested = 0;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// If more SGPRs are required to support the input user/system SGPRs,</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// increase to accommodate them.</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">// FIXME: This really ends up using the requested number of SGPRs + number</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// of reserved special registers in total. Theoretically you could re-use</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// the last input registers for these special registers, but this would</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="comment">// require a lot of complexity to deal with the weird aliasing.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordtype">unsigned</span> InputNumSGPRs = PreloadedSGPRs;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span> (Requested &amp;&amp; Requested &lt; InputNumSGPRs)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      Requested = InputNumSGPRs;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// Make sure requested value is compatible with values implied by</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// default/requested minimum/maximum number of waves per execution unit.</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (Requested &amp;&amp; Requested &gt; <a class="code" href="classllvm_1_1GCNSubtarget.html#acf6141c742569e20d289c523560f8b00">getMaxNumSGPRs</a>(WavesPerEU.first, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      Requested = 0;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span> (WavesPerEU.second &amp;&amp;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        Requested &amp;&amp; Requested &lt; <a class="code" href="classllvm_1_1GCNSubtarget.html#a1c9934ccbee04b51f83a123e09ae9cf1">getMinNumSGPRs</a>(WavesPerEU.second))</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      Requested = 0;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (Requested)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      MaxNumSGPRs = Requested;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#a463d4dd9c6577a21b6edd9879d013113">hasSGPRInitBug</a>())</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    MaxNumSGPRs = <a class="code" href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#a0bfeeff20516a03e7a4ebf2f0a23fe10a5b5c7c0eaf47f7ad83186812ec4198b3">AMDGPU::IsaInfo::FIXED_NUM_SGPRS_FOR_INIT_BUG</a>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(MaxNumSGPRs - ReservedNumSGPRs, MaxAddressableNumSGPRs);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#aa6b158ec91f975b577a100bbc5fd8554">  745</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#acf6141c742569e20d289c523560f8b00">GCNSubtarget::getMaxNumSGPRs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a6b42f0492d630514943c345ab5eb4bc0">getBaseMaxNumSGPRs</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, MFI.<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#af1935c21c4dd4fbc5a06df5fa285b25c">getWavesPerEU</a>(), MFI.<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#a0ecfadb60fa955d669e8d7a0ad505c5b">getNumPreloadedSGPRs</a>(),</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                            <a class="code" href="classllvm_1_1GCNSubtarget.html#a988c4c0176e7554762642cd4f0fa1b8a">getReservedNumSGPRs</a>(MF));</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="AMDGPUSubtarget_8cpp.html#aa8a25c2fa755917ce57785c5fdaf3ef3">  752</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="AMDGPUSubtarget_8cpp.html#aa8a25c2fa755917ce57785c5fdaf3ef3">getMaxNumPreloadedSGPRs</a>() {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="comment">// Max number of user SGPRs</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordtype">unsigned</span> MaxUserSGPRs = 4 + <span class="comment">// private segment buffer</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                          2 + <span class="comment">// Dispatch ptr</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                          2 + <span class="comment">// queue ptr</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                          2 + <span class="comment">// kernel segment ptr</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                          2 + <span class="comment">// dispatch ID</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                          2 + <span class="comment">// flat scratch init</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                          2;  <span class="comment">// Implicit buffer ptr</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="comment">// Max number of system SGPRs</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordtype">unsigned</span> MaxSystemSGPRs = 1 + <span class="comment">// WorkGroupIDX</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                            1 + <span class="comment">// WorkGroupIDY</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                            1 + <span class="comment">// WorkGroupIDZ</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                            1 + <span class="comment">// WorkGroupInfo</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                            1;  <span class="comment">// private segment wave byte offset</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// Max number of synthetic SGPRs</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordtype">unsigned</span> SyntheticSGPRs = 1; <span class="comment">// LDSKernelId</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordflow">return</span> MaxUserSGPRs + MaxSystemSGPRs + SyntheticSGPRs;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;}</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a415e45063e973508aebd65b3e5824754">  775</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#acf6141c742569e20d289c523560f8b00">GCNSubtarget::getMaxNumSGPRs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a6b42f0492d630514943c345ab5eb4bc0">getBaseMaxNumSGPRs</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a0ee87ff4d1eb3c5e3e685d71e4b567fa">getWavesPerEU</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>), <a class="code" href="AMDGPUSubtarget_8cpp.html#aa8a25c2fa755917ce57785c5fdaf3ef3">getMaxNumPreloadedSGPRs</a>(),</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                            <a class="code" href="classllvm_1_1GCNSubtarget.html#a988c4c0176e7554762642cd4f0fa1b8a">getReservedNumSGPRs</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;}</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a293668f13d1c676db1d1b3be25b7115d">  780</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a293668f13d1c676db1d1b3be25b7115d">GCNSubtarget::getBaseMaxNumVGPRs</a>(</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, std::pair&lt;unsigned, unsigned&gt; WavesPerEU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="comment">// Compute maximum number of VGPRs function can use using default/requested</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// minimum number of waves per execution unit.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordtype">unsigned</span> MaxNumVGPRs = <a class="code" href="classllvm_1_1GCNSubtarget.html#a4f492fa16404497b8f15ea82c4b0a725">getMaxNumVGPRs</a>(WavesPerEU.first);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// Check if maximum number of VGPRs was explicitly requested using</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// &quot;amdgpu-num-vgpr&quot; attribute.</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-num-vgpr&quot;</span>)) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordtype">unsigned</span> Requested =</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFnAttributeAsParsedInteger(<span class="stringliteral">&quot;amdgpu-num-vgpr&quot;</span>, MaxNumVGPRs);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>())</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      Requested *= 2;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// Make sure requested value is compatible with values implied by</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">// default/requested minimum/maximum number of waves per execution unit.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> (Requested &amp;&amp; Requested &gt; <a class="code" href="classllvm_1_1GCNSubtarget.html#a4f492fa16404497b8f15ea82c4b0a725">getMaxNumVGPRs</a>(WavesPerEU.first))</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      Requested = 0;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (WavesPerEU.second &amp;&amp;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        Requested &amp;&amp; Requested &lt; <a class="code" href="classllvm_1_1GCNSubtarget.html#a61d8866021383c037a029d77a3497f23">getMinNumVGPRs</a>(WavesPerEU.second))</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      Requested = 0;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">if</span> (Requested)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      MaxNumVGPRs = Requested;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">return</span> MaxNumVGPRs;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a89a0790cfbae21408e8715d0ed098ed1">  810</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a4f492fa16404497b8f15ea82c4b0a725">GCNSubtarget::getMaxNumVGPRs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a293668f13d1c676db1d1b3be25b7115d">getBaseMaxNumVGPRs</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a0ee87ff4d1eb3c5e3e685d71e4b567fa">getWavesPerEU</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#adacbd1f740db810d1611b071359a2c3e">  814</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a4f492fa16404497b8f15ea82c4b0a725">GCNSubtarget::getMaxNumVGPRs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a293668f13d1c676db1d1b3be25b7115d">getBaseMaxNumVGPRs</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, MFI.<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#af1935c21c4dd4fbc5a06df5fa285b25c">getWavesPerEU</a>());</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a16d91f647699172c94319c5794309f43">  820</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a16d91f647699172c94319c5794309f43">GCNSubtarget::adjustSchedDependency</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <span class="keywordtype">int</span> DefOpIdx, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="classllvm_1_1Use.html">Use</a>,</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                                         <span class="keywordtype">int</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a>, <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Dep)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordflow">if</span> (Dep.<a class="code" href="classllvm_1_1SDep.html#a055c65558a3e0f7d48f1ed3dde061199">getKind</a>() != <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">SDep::Kind::Data</a> || !Dep.<a class="code" href="classllvm_1_1SDep.html#a8b51361656ac436c2c02a20e6196cff1">getReg</a>() ||</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      !<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isInstr() || !<a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;isInstr())</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefI = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getInstr();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *UseI = <a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getInstr();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordflow">if</span> (DefI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3e2f795dfcb9269e1263453796f4b994">isBundle</a>()) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">getRegisterInfo</a>();</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = Dep.<a class="code" href="classllvm_1_1SDep.html#a8b51361656ac436c2c02a20e6196cff1">getReg</a>();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>(DefI-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>());</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>(DefI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">instr_end</a>());</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordtype">unsigned</span> Lat = 0;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">for</span> (++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isBundledWithPred(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;modifiesRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        Lat = InstrInfo.<a class="code" href="classllvm_1_1SIInstrInfo.html#ab9c89059d817934a6c4432b698ba8171">getInstrLatency</a>(<a class="code" href="classllvm_1_1GCNSubtarget.html#ad1a7c5aed35a35708950612b1bb444ab">getInstrItineraryData</a>(), *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Lat)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        --Lat;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(Lat);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (UseI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3e2f795dfcb9269e1263453796f4b994">isBundle</a>()) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">getRegisterInfo</a>();</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = Dep.<a class="code" href="classllvm_1_1SDep.html#a8b51361656ac436c2c02a20e6196cff1">getReg</a>();</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>(UseI-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>());</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>(UseI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">instr_end</a>());</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordtype">unsigned</span> Lat = InstrInfo.<a class="code" href="classllvm_1_1SIInstrInfo.html#ab9c89059d817934a6c4432b698ba8171">getInstrLatency</a>(<a class="code" href="classllvm_1_1GCNSubtarget.html#ad1a7c5aed35a35708950612b1bb444ab">getInstrItineraryData</a>(), *DefI);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">for</span> (++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isBundledWithPred() &amp;&amp; Lat; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;readsRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      --Lat;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(Lat);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Dep.<a class="code" href="classllvm_1_1SDep.html#a5eca2019521fd47b79fe5ef66d02fd43">getLatency</a>() == 0 &amp;&amp; Dep.<a class="code" href="classllvm_1_1SDep.html#a8b51361656ac436c2c02a20e6196cff1">getReg</a>() == AMDGPU::VCC_LO) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="comment">// Work around the fact that SIInstrInfo::fixImplicitOperands modifies</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// implicit operands which come from the MCInstrDesc, which can fool</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// ScheduleDAGInstrs::addPhysRegDataDeps into treating them as implicit</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">// pseudo operands.</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(InstrInfo.<a class="code" href="classllvm_1_1SIInstrInfo.html#a73c5c62286bf6da4e995283f012602fc">getSchedModel</a>().<a class="code" href="classllvm_1_1TargetSchedModel.html#abe764852febe90b22412f1acf299fb9e">computeOperandLatency</a>(</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        DefI, DefOpIdx, UseI, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a>));</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="keyword">struct </span>FillMFMAShadowMutation : <a class="code" href="classllvm_1_1ScheduleDAGMutation.html">ScheduleDAGMutation</a> {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGMI.html">ScheduleDAGMI</a> *DAG;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  FillMFMAShadowMutation(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *tii) : <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>(tii) {}</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordtype">bool</span> isSALU(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isSALU(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isTerminator();</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keywordtype">bool</span> isVALU(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isVALU(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="comment">// Link as many SALU instructions in chain as possible. Return the size</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="comment">// of the chain. Links up to MaxChain instructions.</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordtype">unsigned</span> linkSALUChain(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *To, <span class="keywordtype">unsigned</span> MaxChain,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                         <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;SUnit *&gt;</a> &amp;Visited)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit *, 8&gt;</a> Worklist({To});</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordtype">unsigned</span> Linked = 0;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">while</span> (!Worklist.empty() &amp;&amp; MaxChain-- &gt; 0) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = Worklist.pop_back_val();</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(SU).second)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inserting edge from\n&quot;</span> ; DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aa5f22315c4064579fca6cd88fb36ea5a">dumpNode</a>(*<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                 <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;to\n&quot;</span>; DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aa5f22315c4064579fca6cd88fb36ea5a">dumpNode</a>(*SU); <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <span class="keywordflow">if</span> (SU != <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> &amp;&amp; <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> != &amp;DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a> &amp;&amp; DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ac384df17605ecce542a6d2567c7f1ee0">canAddEdge</a>(SU, <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>))</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">if</span> (DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a86bfa4838cb7e42648615d27c94c8017">addEdge</a>(SU, <a class="code" href="classllvm_1_1SDep.html">SDep</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">SDep::Artificial</a>)))</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;          ++Linked;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;Succs) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SUv = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">if</span> (SUv != <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> &amp;&amp; SU != &amp;DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a> &amp;&amp; isVALU(SUv) &amp;&amp;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ac384df17605ecce542a6d2567c7f1ee0">canAddEdge</a>(SUv, SU))</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;          DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a86bfa4838cb7e42648615d27c94c8017">addEdge</a>(SUv, <a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">SDep::Artificial</a>));</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Succ = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit();</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">if</span> (Succ != SU &amp;&amp; isSALU(Succ))</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;          Worklist.push_back(Succ);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">return</span> Linked;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1cl.html#a7e3e54c1843be55179d4215efe20bb87">apply</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html">ScheduleDAGInstrs</a> *DAGInstrs)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = DAGInstrs-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.hasMAIInsts())</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    DAG = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1ScheduleDAGMI.html">ScheduleDAGMI</a>*<span class="keyword">&gt;</span>(DAGInstrs);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSchedModel.html">TargetSchedModel</a> *TSchedModel = DAGInstrs-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a1284eca54a89002a4b67f4dfe490736b">getSchedModel</a>();</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (!TSchedModel || DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.empty())</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="comment">// Scan for MFMA long latency instructions and try to add a dependency</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="comment">// of available SALU instructions to give them a chance to fill MFMA</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="comment">// shadow. That is desirable to fill MFMA shadow with SALU instructions</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="comment">// rather than VALU to prevent power consumption bursts and throttle.</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keyword">auto</span> LastSALU = DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.begin();</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keyword">auto</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.end();</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;SUnit*, 32&gt;</a> Visited;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MAI = *SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isMAI(MAI) ||</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;           MAI.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AMDGPU::V_ACCVGPR_WRITE_B32_e64 ||</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;           MAI.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AMDGPU::V_ACCVGPR_READ_B32_e64)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="keywordtype">unsigned</span> Lat = TSchedModel-&gt;computeInstrLatency(&amp;MAI) - 1;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Found MFMA: &quot;</span>; DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aa5f22315c4064579fca6cd88fb36ea5a">dumpNode</a>(SU);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                 <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Need &quot;</span> &lt;&lt; Lat</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; instructions to cover latency.\n&quot;</span>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="comment">// Find up to Lat independent scalar instructions as early as</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="comment">// possible such that they can be scheduled after this MFMA.</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <span class="keywordflow">for</span> ( ; Lat &amp;&amp; LastSALU != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++LastSALU) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(&amp;*LastSALU))</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">if</span> (&amp;SU == &amp;DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a> || &amp;SU == &amp;*LastSALU || !isSALU(&amp;*LastSALU) ||</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            !DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ac384df17605ecce542a6d2567c7f1ee0">canAddEdge</a>(&amp;*LastSALU, &amp;SU))</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        Lat -= linkSALUChain(&amp;SU, &amp;*LastSALU, Lat, Visited);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;};</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#aea025495e34d5341d0506001cdd63dea">  964</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#aea025495e34d5341d0506001cdd63dea">GCNSubtarget::getPostRAMutations</a>(</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    std::vector&lt;std::unique_ptr&lt;ScheduleDAGMutation&gt;&gt; &amp;Mutations)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  Mutations.push_back(std::make_unique&lt;FillMFMAShadowMutation&gt;(&amp;InstrInfo));</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;std::unique_ptr&lt;ScheduleDAGMutation&gt;</div>
<div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#ab147239b737c34e48de6c01c55587f47">  970</a></span>&#160;<a class="code" href="classllvm_1_1GCNSubtarget.html#ab147239b737c34e48de6c01c55587f47">GCNSubtarget::createFillMFMAShadowMutation</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AMDGPUSubtarget_8cpp.html#ad6bffbcf9785e3c38e03998ab2c6584f">EnablePowerSched</a> ? std::make_unique&lt;FillMFMAShadowMutation&gt;(&amp;InstrInfo)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                          : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;}</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="classllvm_1_1GCNSubtarget.html#a86673715704dada21e3529d93a5376e8">  975</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1GCNSubtarget.html#a86673715704dada21e3529d93a5376e8">GCNSubtarget::getNSAThreshold</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPUSubtarget_8cpp.html#af54ac1be45778291e74df6494e35ce8c">NSAThreshold</a>.getNumOccurrences() &gt; 0)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="AMDGPUSubtarget_8cpp.html#af54ac1be45778291e74df6494e35ce8c">NSAThreshold</a>.getValue(), 2u);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1Value.html">Value</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a4c866d3504a1e0717c8152a590bd6203">getFnAttributeAsParsedInteger</a>(</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="stringliteral">&quot;amdgpu-nsa-threshold&quot;</span>, -1);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> &gt; 0)</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>, 2);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;}</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#adbf8027ff0f01d2acccb979b5f79e5ca">  987</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html">AMDGPUSubtarget</a> &amp;<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#adbf8027ff0f01d2acccb979b5f79e5ca">AMDGPUSubtarget::get</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ad63e0e437ca71cc2b5a5d4d5aa3685f2">getTargetTriple</a>().<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a387d88fc1b536facc13f5a41170250b0">Triple::amdgcn</a>)</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1AMDGPUSubtarget.html">AMDGPUSubtarget</a>&amp;<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;());</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1AMDGPUSubtarget.html">AMDGPUSubtarget</a>&amp;<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1R600Subtarget.html">R600Subtarget</a>&gt;());</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;}</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPUSubtarget.html#a3aff5ec911fb19c29a981843b638f5c0">  994</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html">AMDGPUSubtarget</a> &amp;<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#adbf8027ff0f01d2acccb979b5f79e5ca">AMDGPUSubtarget::get</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.getTargetTriple().getArch() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a387d88fc1b536facc13f5a41170250b0">Triple::amdgcn</a>)</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1AMDGPUSubtarget.html">AMDGPUSubtarget</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.getSubtarget&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1AMDGPUSubtarget.html">AMDGPUSubtarget</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.getSubtarget&lt;<a class="code" href="classllvm_1_1R600Subtarget.html">R600Subtarget</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructllvm_1_1MachineSchedPolicy_html_a47ee8ec29daa3551f798ff4449fbf4d5"><div class="ttname"><a href="structllvm_1_1MachineSchedPolicy.html#a47ee8ec29daa3551f798ff4449fbf4d5">llvm::MachineSchedPolicy::OnlyBottomUp</a></div><div class="ttdeci">bool OnlyBottomUp</div><div class="ttdef"><b>Definition:</b> <a href="MachineScheduler_8h_source.html#l00191">MachineScheduler.h:191</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab102f0f12dd38aeea5906b1d80c792ff"><div class="ttname"><a href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">llvm::alignTo</a></div><div class="ttdeci">uint64_t alignTo(uint64_t Size, Align A)</div><div class="ttdoc">Returns a multiple of A needed to store Size bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00155">Alignment.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a26aacb7fa06e83e34f23c4c566ca509f"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a26aacb7fa06e83e34f23c4c566ca509f">llvm::AMDGPUSubtarget::getAlignmentForImplicitArgPtr</a></div><div class="ttdeci">Align getAlignmentForImplicitArgPtr() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00223">AMDGPUSubtarget.h:223</a></div></div>
<div class="ttc" id="aclassllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">This class represents an incoming formal argument to a Function.</div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00028">Argument.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a72d895427056e0f3e9147974a95d11f8"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a72d895427056e0f3e9147974a95d11f8">llvm::GCNSubtarget::Gen</a></div><div class="ttdeci">unsigned Gen</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00061">GCNSubtarget.h:61</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a393a9a9f611c326cabf217b4c360e2e6"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a393a9a9f611c326cabf217b4c360e2e6">llvm::AMDGPU::getCodeObjectVersion</a></div><div class="ttdeci">unsigned getCodeObjectVersion(const Module &amp;M)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l00153">AMDGPUBaseInfo.cpp:153</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPURegisterBankInfo_html"><div class="ttname"><a href="classllvm_1_1AMDGPURegisterBankInfo.html">llvm::AMDGPURegisterBankInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegisterBankInfo_8h_source.html#l00042">AMDGPURegisterBankInfo.h:42</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aTargetFrameLowering_8h_html"><div class="ttname"><a href="TargetFrameLowering_8h.html">TargetFrameLowering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key_html_ab3ae015c304377afcbc3ae1ed54578e8"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#ab3ae015c304377afcbc3ae1ed54578e8">llvm::AMDGPU::HSAMD::Kernel::CodeProps::Key::NumSGPRs</a></div><div class="ttdeci">constexpr char NumSGPRs[]</div><div class="ttdoc">Key for Kernel::CodeProps::Metadata::mNumSGPRs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00258">AMDGPUMetadata.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html">llvm::TargetFrameLowering</a></div><div class="ttdoc">Information about stack frame layout on the target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00043">TargetFrameLowering.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a9fae1c20909b13d71c4923a90967f74b"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a9fae1c20909b13d71c4923a90967f74b">llvm::GCNSubtarget::hasVGPRIndexMode</a></div><div class="ttdeci">bool hasVGPRIndexMode() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00852">GCNSubtarget.h:852</a></div></div>
<div class="ttc" id="anamespacellvm_html_af6d8de6e1f81b4c8ff8de2533458913da71622970321a9c65c5e965033e7688bc"><div class="ttname"><a href="namespacellvm.html#af6d8de6e1f81b4c8ff8de2533458913da71622970321a9c65c5e965033e7688bc">llvm::Wave32</a></div><div class="ttdeci">@ Wave32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMCTargetDesc_8h_source.html#l00031">AMDGPUMCTargetDesc.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1"><div class="ttname"><a href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">llvm::SDep::Artificial</a></div><div class="ttdeci">@ Artificial</div><div class="ttdoc">Arbitrary strong DAG edge (no real dependence).</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00072">ScheduleDAG.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsmLowering_html"><div class="ttname"><a href="classllvm_1_1InlineAsmLowering.html">llvm::InlineAsmLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineAsmLowering_8h_source.html#l00028">InlineAsmLowering.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a0f40e9682781a1c311ff686ff29a573a"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a0f40e9682781a1c311ff686ff29a573a">llvm::AMDGPUSubtarget::HasFminFmaxLegacy</a></div><div class="ttdeci">bool HasFminFmaxLegacy</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00061">AMDGPUSubtarget.h:61</a></div></div>
<div class="ttc" id="aSIMachineFunctionInfo_8h_html"><div class="ttname"><a href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a716b165edca27031ffb7a20ea48e41e3"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a716b165edca27031ffb7a20ea48e41e3">llvm::GCNSubtarget::initializeSubtargetDependencies</a></div><div class="ttdeci">GCNSubtarget &amp; initializeSubtargetDependencies(const Triple &amp;TT, StringRef GPU, StringRef FS)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00064">AMDGPUSubtarget.cpp:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a99ce92019b9024b92d62341296eab008"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a99ce92019b9024b92d62341296eab008">llvm::GCNSubtarget::hasMovrel</a></div><div class="ttdeci">bool hasMovrel() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00848">GCNSubtarget.h:848</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307">llvm::AMDGPUSubtarget::GFX9</a></div><div class="ttdeci">@ GFX9</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00040">AMDGPUSubtarget.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2aafd52d574f92cc47671a38d95bca9988"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aafd52d574f92cc47671a38d95bca9988">llvm::AMDGPUSubtarget::SOUTHERN_ISLANDS</a></div><div class="ttdeci">@ SOUTHERN_ISLANDS</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00037">AMDGPUSubtarget.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a387d88fc1b536facc13f5a41170250b0"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a387d88fc1b536facc13f5a41170250b0">llvm::Triple::amdgcn</a></div><div class="ttdeci">@ amdgcn</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00074">Triple.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a4e47a88a0ba4b8ca769a5a8609887b44"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a4e47a88a0ba4b8ca769a5a8609887b44">llvm::AMDGPUSubtarget::getMinWavesPerEU</a></div><div class="ttdeci">virtual unsigned getMinWavesPerEU() const =0</div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ae408833a27e3db45bd5d4b790cd1ba9f"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ae408833a27e3db45bd5d4b790cd1ba9f">llvm::GCNSubtarget::hasFP64</a></div><div class="ttdeci">bool hasFP64() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00313">GCNSubtarget.h:313</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a61a186a60c64a2a5225db9944eaf7df8"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a61a186a60c64a2a5225db9944eaf7df8">llvm::GlobalObject::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(unsigned KindID) const</div><div class="ttdoc">Get the current metadata attachments for the given kind, if any.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01288">Metadata.cpp:1288</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2a5a040cb5d61ebf76561fcb74c4a77970"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a5a040cb5d61ebf76561fcb74c4a77970">llvm::AMDGPUSubtarget::SEA_ISLANDS</a></div><div class="ttdeci">@ SEA_ISLANDS</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00038">AMDGPUSubtarget.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_ac8a473e77f57a3e0d70375277e45c6b7"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#ac8a473e77f57a3e0d70375277e45c6b7">llvm::AMDGPUSubtarget::AddressableLocalMemorySize</a></div><div class="ttdeci">unsigned AddressableLocalMemorySize</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00067">AMDGPUSubtarget.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda6f08d1631b96043fe0201973d84e5539"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda6f08d1631b96043fe0201973d84e5539">llvm::CallingConv::AMDGPU_GS</a></div><div class="ttdeci">@ AMDGPU_GS</div><div class="ttdoc">Used for Mesa/AMDPAL geometry shaders.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00188">CallingConv.h:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_af6d8de6e1f81b4c8ff8de2533458913dae21fda25c78af661136d946e9566f52e"><div class="ttname"><a href="namespacellvm.html#af6d8de6e1f81b4c8ff8de2533458913dae21fda25c78af661136d946e9566f52e">llvm::Wave64</a></div><div class="ttdeci">@ Wave64</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMCTargetDesc_8h_source.html#l00031">AMDGPUMCTargetDesc.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_a86bfa4838cb7e42648615d27c94c8017"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a86bfa4838cb7e42648615d27c94c8017">llvm::ScheduleDAGInstrs::addEdge</a></div><div class="ttdeci">bool addEdge(SUnit *SuccSU, const SDep &amp;PredDep)</div><div class="ttdoc">Add a DAG edge to the given SU with the given predecessor dependence data.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01208">ScheduleDAGInstrs.cpp:1208</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a070c057941562774c1ffa4f85b1095ed"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a070c057941562774c1ffa4f85b1095ed">llvm::AMDGPUSubtarget::getOccupancyWithLocalMemSize</a></div><div class="ttdeci">unsigned getOccupancyWithLocalMemSize(uint32_t Bytes, const Function &amp;) const</div><div class="ttdoc">Inverse of getMaxLocalMemWithWaveCount.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00336">AMDGPUSubtarget.cpp:336</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aAMDGPUSubtarget_8cpp_html_a00564154aeffb0cbfcf4c883ea5d0fc5"><div class="ttname"><a href="AMDGPUSubtarget_8cpp.html#a00564154aeffb0cbfcf4c883ea5d0fc5">EnableVGPRIndexMode</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableVGPRIndexMode(&quot;amdgpu-vgpr-index-mode&quot;, cl::desc(&quot;Use GPR indexing mode instead of movrel for vector indexing&quot;), cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_ab96f321c806effcca947691e54b24784"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#ab96f321c806effcca947691e54b24784">llvm::AMDGPUSubtarget::getMaxWavesPerEU</a></div><div class="ttdeci">unsigned getMaxWavesPerEU() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00266">AMDGPUSubtarget.h:266</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedaf2c5be679d7769a9f3e5e308f73a9ff8"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedaf2c5be679d7769a9f3e5e308f73a9ff8">llvm::CallingConv::AMDGPU_LS</a></div><div class="ttdeci">@ AMDGPU_LS</div><div class="ttdoc">Used for AMDPAL vertex shader if tessellation is in use.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00210">CallingConv.h:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_aab4a86c51e6b126c9c6ef58dbb574431"><div class="ttname"><a href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">llvm::SUnit::Succs</a></div><div class="ttdeci">SmallVector&lt; SDep, 4 &gt; Succs</div><div class="ttdoc">All sunit successors.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00257">ScheduleDAG.h:257</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html">llvm::GCNSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00032">GCNSubtarget.h:32</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_afc6af409114a5e2da7bc8bedf9024cdc"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#afc6af409114a5e2da7bc8bedf9024cdc">llvm::GCNSubtarget::TargetID</a></div><div class="ttdeci">AMDGPU::IsaInfo::AMDGPUTargetID TargetID</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00060">GCNSubtarget.h:60</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda1a9f243b16678fc294567b72bbe87223"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda1a9f243b16678fc294567b72bbe87223">llvm::CallingConv::AMDGPU_VS</a></div><div class="ttdeci">@ AMDGPU_VS</div><div class="ttdoc">Used for Mesa vertex shaders, or AMDPAL last shader stage before rasterization (vertex shader if tess...</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00185">CallingConv.h:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_aabfb87750bb92c2facd6989036e987a8"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#aabfb87750bb92c2facd6989036e987a8">llvm::AMDGPUSubtarget::getMaxFlatWorkGroupSize</a></div><div class="ttdeci">virtual unsigned getMaxFlatWorkGroupSize() const =0</div></div>
<div class="ttc" id="aAMDGPUSubtarget_8cpp_html_aa8a25c2fa755917ce57785c5fdaf3ef3"><div class="ttname"><a href="AMDGPUSubtarget_8cpp.html#aa8a25c2fa755917ce57785c5fdaf3ef3">getMaxNumPreloadedSGPRs</a></div><div class="ttdeci">static unsigned getMaxNumPreloadedSGPRs()</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00752">AMDGPUSubtarget.cpp:752</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html_a0ecfadb60fa955d669e8d7a0ad505c5b"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html#a0ecfadb60fa955d669e8d7a0ad505c5b">llvm::SIMachineFunctionInfo::getNumPreloadedSGPRs</a></div><div class="ttdeci">unsigned getNumPreloadedSGPRs() const</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00853">SIMachineFunctionInfo.h:853</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d"><div class="ttname"><a href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">llvm::Data</a></div><div class="ttdeci">@ Data</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00055">SIMachineScheduler.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a76976ccb29b7c0317d800e4dcd294ddb"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a76976ccb29b7c0317d800e4dcd294ddb">llvm::AMDGPUSubtarget::getKernArgSegmentSize</a></div><div class="ttdeci">unsigned getKernArgSegmentSize(const Function &amp;F, Align &amp;MaxAlign) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00575">AMDGPUSubtarget.cpp:575</a></div></div>
<div class="ttc" id="aRISCVInsertVSETVLI_8cpp_html_a9f4a1ccc4923b17bd414716718e3febf"><div class="ttname"><a href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a></div><div class="ttdeci">unsigned UseOpIdx</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInsertVSETVLI_8cpp_source.html#l00640">RISCVInsertVSETVLI.cpp:640</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a95d2929d1a7c8c66554f0b44b153b573"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">llvm::GCNSubtarget::getRegisterInfo</a></div><div class="ttdeci">const SIRegisterInfo * getRegisterInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00234">GCNSubtarget.h:234</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPULegalizerInfo_html"><div class="ttname"><a href="classllvm_1_1AMDGPULegalizerInfo.html">llvm::AMDGPULegalizerInfo</a></div><div class="ttdoc">This class provides the information for the target register banks.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULegalizerInfo_8h_source.html#l00031">AMDGPULegalizerInfo.h:31</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a3cc437d6699fb55c69e78b5d0cad641d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a3cc437d6699fb55c69e78b5d0cad641d">llvm::AMDGPU::isKernel</a></div><div class="ttdeci">LLVM_READNONE bool isKernel(CallingConv::ID CC)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l01106">AMDGPUBaseInfo.h:1106</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_acf005b2695c64eb57157215562463116"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#acf005b2695c64eb57157215562463116">llvm::AMDGPUSubtarget::isAmdHsaOS</a></div><div class="ttdeci">bool isAmdHsaOS() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00122">AMDGPUSubtarget.h:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a2ee2435b1a7b8c192632aeabdd325e7d"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a2ee2435b1a7b8c192632aeabdd325e7d">llvm::GCNSubtarget::HasVGPRIndexMode</a></div><div class="ttdeci">bool HasVGPRIndexMode</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00118">GCNSubtarget.h:118</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_aec6845ed5bb22b096581b6887d6db618"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#aec6845ed5bb22b096581b6887d6db618">llvm::GCNSubtarget::overrideSchedPolicy</a></div><div class="ttdeci">void overrideSchedPolicy(MachineSchedPolicy &amp;Policy, unsigned NumRegionInstrs) const override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00598">AMDGPUSubtarget.cpp:598</a></div></div>
<div class="ttc" id="aRISCVInsertVSETVLI_8cpp_html_a6ab56a96ea40bb332e1a049c59e67258"><div class="ttname"><a href="RISCVInsertVSETVLI_8cpp.html#a6ab56a96ea40bb332e1a049c59e67258">InstrInfo</a></div><div class="ttdeci">return InstrInfo</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInsertVSETVLI_8cpp_source.html#l00708">RISCVInsertVSETVLI.cpp:708</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdoc">TargetInstrInfo - Interface to description of machine instruction set.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00098">TargetInstrInfo.h:98</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a7e3e54c1843be55179d4215efe20bb87"><div class="ttname"><a href="namespacellvm_1_1cl.html#a7e3e54c1843be55179d4215efe20bb87">llvm::cl::apply</a></div><div class="ttdeci">void apply(Opt *O, const Mod &amp;M, const Mods &amp;... Ms)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01298">CommandLine.h:1298</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_adbf8027ff0f01d2acccb979b5f79e5ca"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#adbf8027ff0f01d2acccb979b5f79e5ca">llvm::AMDGPUSubtarget::get</a></div><div class="ttdeci">static const AMDGPUSubtarget &amp; get(const MachineFunction &amp;MF)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00987">AMDGPUSubtarget.cpp:987</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a1de3db2a7fc8d25fd5bb863ff90f0fd7"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a1de3db2a7fc8d25fd5bb863ff90f0fd7">llvm::GCNSubtarget::ParseSubtargetFeatures</a></div><div class="ttdeci">void ParseSubtargetFeatures(StringRef CPU, StringRef TuneCPU, StringRef FS)</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_aa813940c0ad88b3c4419f65af3e89e5e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#aa813940c0ad88b3c4419f65af3e89e5e">llvm::AMDGPU::isShader</a></div><div class="ttdeci">bool isShader(CallingConv::ID cc)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l01868">AMDGPUBaseInfo.cpp:1868</a></div></div>
<div class="ttc" id="aInlineAsmLowering_8h_html"><div class="ttname"><a href="InlineAsmLowering_8h.html">InlineAsmLowering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_acf6141c742569e20d289c523560f8b00"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#acf6141c742569e20d289c523560f8b00">llvm::GCNSubtarget::getMaxNumSGPRs</a></div><div class="ttdeci">unsigned getMaxNumSGPRs(unsigned WavesPerEU, bool Addressable) const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01176">GCNSubtarget.h:1176</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a021be99fec633060e46fd3c482c1c3bc"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a021be99fec633060e46fd3c482c1c3bc">llvm::GCNSubtarget::useVGPRIndexMode</a></div><div class="ttdeci">bool useVGPRIndexMode() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00619">AMDGPUSubtarget.cpp:619</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad773dab02c945afb0bc889ebd67649c0"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad773dab02c945afb0bc889ebd67649c0">llvm::GCNSubtarget::hasAddr64</a></div><div class="ttdeci">bool hasAddr64() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00337">GCNSubtarget.h:337</a></div></div>
<div class="ttc" id="aSmallString_8h_html"><div class="ttname"><a href="SmallString_8h.html">SmallString.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a73c5c62286bf6da4e995283f012602fc"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a73c5c62286bf6da4e995283f012602fc">llvm::SIInstrInfo::getSchedModel</a></div><div class="ttdeci">const TargetSchedModel &amp; getSchedModel() const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01191">SIInstrInfo.h:1191</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdoc">getInfo - Keep track of various per-function pieces of information for backends that would like to do...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00770">MachineFunction.h:770</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a4c866d3504a1e0717c8152a590bd6203"><div class="ttname"><a href="classllvm_1_1Function.html#a4c866d3504a1e0717c8152a590bd6203">llvm::Function::getFnAttributeAsParsedInteger</a></div><div class="ttdeci">uint64_t getFnAttributeAsParsedInteger(StringRef Kind, uint64_t Default=0) const</div><div class="ttdoc">For a string attribute Kind, parse attribute as an integer.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00674">Function.cpp:674</a></div></div>
<div class="ttc" id="aclassllvm_1_1Legalizer_html"><div class="ttname"><a href="classllvm_1_1Legalizer.html">llvm::Legalizer</a></div><div class="ttdef"><b>Definition:</b> <a href="Legalizer_8h_source.html#l00036">Legalizer.h:36</a></div></div>
<div class="ttc" id="aAMDGPUSubtarget_8cpp_html_ae13c4e3a2e5393fa5bfd4c32d216e475"><div class="ttname"><a href="AMDGPUSubtarget_8cpp.html#ae13c4e3a2e5393fa5bfd4c32d216e475">getReqdWorkGroupSize</a></div><div class="ttdeci">static unsigned getReqdWorkGroupSize(const Function &amp;Kernel, unsigned Dim)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00453">AMDGPUSubtarget.cpp:453</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_aadc55ee80218e97fbccb05099877eb51"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#aadc55ee80218e97fbccb05099877eb51">llvm::GCNSubtarget::getTargetLowering</a></div><div class="ttdeci">const SITargetLowering * getTargetLowering() const override</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00230">GCNSubtarget.h:230</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a0972f69944edd9b5edb80bab11002a3c"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a0972f69944edd9b5edb80bab11002a3c">llvm::AMDGPUSubtarget::isMesa3DOS</a></div><div class="ttdeci">bool isMesa3DOS() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00130">AMDGPUSubtarget.h:130</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ab20982dc4ff887572a43754228a94fc0"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ab20982dc4ff887572a43754228a94fc0">llvm::GCNSubtarget::getOccupancyWithNumSGPRs</a></div><div class="ttdeci">unsigned getOccupancyWithNumSGPRs(unsigned SGPRs) const</div><div class="ttdoc">Return the maximum number of waves per SIMD for kernels using SGPRs SGPRs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00625">AMDGPUSubtarget.cpp:625</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a591a878d70defc012476ad32669c5238"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a591a878d70defc012476ad32669c5238">llvm::AMDGPUSubtarget::getImplicitArgNumBytes</a></div><div class="ttdeci">unsigned getImplicitArgNumBytes(const Function &amp;F) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00534">AMDGPUSubtarget.cpp:534</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_aaee498bf7e34783628f61d9aa83fead3"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#aaee498bf7e34783628f61d9aa83fead3">llvm::GCNSubtarget::HasArchitectedFlatScratch</a></div><div class="ttdeci">bool HasArchitectedFlatScratch</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00176">GCNSubtarget.h:176</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a6b42f0492d630514943c345ab5eb4bc0"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a6b42f0492d630514943c345ab5eb4bc0">llvm::GCNSubtarget::getBaseMaxNumSGPRs</a></div><div class="ttdeci">unsigned getBaseMaxNumSGPRs(const Function &amp;F, std::pair&lt; unsigned, unsigned &gt; WavesPerEU, unsigned PreloadedSGPRs, unsigned ReservedNumSGPRs) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00698">AMDGPUSubtarget.cpp:698</a></div></div>
<div class="ttc" id="aAMDGPUSubtarget_8h_html"><div class="ttname"><a href="AMDGPUSubtarget_8h.html">AMDGPUSubtarget.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a6420858e0f0f0bfa5da303b363d0fb63"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a6420858e0f0f0bfa5da303b363d0fb63">llvm::AMDGPUSubtarget::getWavesPerEUForWorkGroup</a></div><div class="ttdeci">virtual unsigned getWavesPerEUForWorkGroup(unsigned FlatWorkGroupSize) const =0</div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="aMCSubtargetInfo_8h_html"><div class="ttname"><a href="MCSubtargetInfo_8h.html">MCSubtargetInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a372f6d69231abbcd8aca7aa02aaba0bc"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a372f6d69231abbcd8aca7aa02aaba0bc">llvm::AMDGPUSubtarget::isMesaKernel</a></div><div class="ttdeci">bool isMesaKernel(const Function &amp;F) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00460">AMDGPUSubtarget.cpp:460</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a463d4dd9c6577a21b6edd9879d013113"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a463d4dd9c6577a21b6edd9879d013113">llvm::GCNSubtarget::hasSGPRInitBug</a></div><div class="ttdeci">bool hasSGPRInitBug() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00962">GCNSubtarget.h:962</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ab9c89059d817934a6c4432b698ba8171"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ab9c89059d817934a6c4432b698ba8171">llvm::SIInstrInfo::getInstrLatency</a></div><div class="ttdeci">unsigned getInstrLatency(const InstrItineraryData *ItinData, const MachineInstr &amp;MI, unsigned *PredCost=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08349">SIInstrInfo.cpp:8349</a></div></div>
<div class="ttc" id="aMDBuilder_8h_html"><div class="ttname"><a href="MDBuilder_8h.html">MDBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID_html_aecd3f3ccd0bc04187c08fd2e1bbc9924"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html#aecd3f3ccd0bc04187c08fd2e1bbc9924">llvm::AMDGPU::IsaInfo::AMDGPUTargetID::getSramEccSetting</a></div><div class="ttdeci">TargetIDSetting getSramEccSetting() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00190">AMDGPUBaseInfo.h:190</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html">llvm::SIRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00030">SIRegisterInfo.h:30</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1IsaInfo_html_a705a7512f5b23ec9b3bb19f032040285"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#a705a7512f5b23ec9b3bb19f032040285">llvm::AMDGPU::IsaInfo::getEUsPerCU</a></div><div class="ttdeci">unsigned getEUsPerCU(const MCSubtargetInfo *STI)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l00860">AMDGPUBaseInfo.cpp:860</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a58a778423d8bdcf6b6f94172ff8271b2"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a58a778423d8bdcf6b6f94172ff8271b2">llvm::AMDGPUSubtarget::getMaxWorkitemID</a></div><div class="ttdeci">unsigned getMaxWorkitemID(const Function &amp;Kernel, unsigned Dimension) const</div><div class="ttdoc">Return the maximum workitem ID value in the function, for the given (0, 1, 2) dimension.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00464">AMDGPUSubtarget.cpp:464</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a5fc23559f17bbe5ff83ec0fed0a5fdcf"><div class="ttname"><a href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">llvm::Triple::getArch</a></div><div class="ttdeci">ArchType getArch() const</div><div class="ttdoc">Get the parsed architecture type of this triple.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00355">Triple.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a4f492fa16404497b8f15ea82c4b0a725"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a4f492fa16404497b8f15ea82c4b0a725">llvm::GCNSubtarget::getMaxNumVGPRs</a></div><div class="ttdeci">unsigned getMaxNumVGPRs(unsigned WavesPerEU) const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01246">GCNSubtarget.h:1246</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a61d64bc81257fe4f2c899dc26a9c1660"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a61d64bc81257fe4f2c899dc26a9c1660">llvm::GCNSubtarget::LDSBankCount</a></div><div class="ttdeci">int LDSBankCount</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00063">GCNSubtarget.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a5954b5fa0774754a36bea0008fd60b28"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a5954b5fa0774754a36bea0008fd60b28">llvm::AMDGPUSubtarget::getLocalMemorySize</a></div><div class="ttdeci">unsigned getLocalMemorySize() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00210">AMDGPUSubtarget.h:210</a></div></div>
<div class="ttc" id="aAMDGPUSubtarget_8cpp_html_af54ac1be45778291e74df6494e35ce8c"><div class="ttname"><a href="AMDGPUSubtarget_8cpp.html#af54ac1be45778291e74df6494e35ce8c">NSAThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; NSAThreshold(&quot;amdgpu-nsa-threshold&quot;, cl::desc(&quot;Number of addresses from which to enable MIMG NSA.&quot;), cl::init(3), cl::Hidden)</div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab07da835cd8eddcfffcfb4192dff59a6"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab07da835cd8eddcfffcfb4192dff59a6">llvm::AMDGPU::isGFX10Plus</a></div><div class="ttdeci">bool isGFX10Plus(const MCSubtargetInfo &amp;STI)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l01982">AMDGPUBaseInfo.cpp:1982</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 256 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a32223c680f720130888787d37d016185"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a32223c680f720130888787d37d016185">llvm::AMDGPUSubtarget::getEUsPerCU</a></div><div class="ttdeci">unsigned getEUsPerCU() const</div><div class="ttdoc">Number of SIMDs/EUs (execution units) per &quot;CU&quot; (&quot;compute unit&quot;), where the &quot;CU&quot; is the unit onto whic...</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00221">AMDGPUSubtarget.h:221</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a0edf9f3730615933d02dcaa2969bfa52"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a0edf9f3730615933d02dcaa2969bfa52">llvm::AMDGPUSubtarget::AMDGPUSubtarget</a></div><div class="ttdeci">AMDGPUSubtarget(const Triple &amp;TT)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00167">AMDGPUSubtarget.cpp:167</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_ae66cd705df2870244a05921f551ff131"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">llvm::AMDGPUSubtarget::getWavefrontSize</a></div><div class="ttdeci">unsigned getWavefrontSize() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00202">AMDGPUSubtarget.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a3cfefc755ab656000934f91193afb1cda0a0dddcf03f8f66f7c13558b3c81d845"><div class="ttname"><a href="classllvm_1_1Triple.html#a3cfefc755ab656000934f91193afb1cda0a0dddcf03f8f66f7c13558b3c81d845">llvm::Triple::AMDHSA</a></div><div class="ttdeci">@ AMDHSA</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00211">Triple.h:211</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">llvm::AMDGPUSubtarget::GFX10</a></div><div class="ttdeci">@ GFX10</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00041">AMDGPUSubtarget.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="anamespacellvm_html_af6d8de6e1f81b4c8ff8de2533458913d"><div class="ttname"><a href="namespacellvm.html#af6d8de6e1f81b4c8ff8de2533458913d">llvm::AMDGPUDwarfFlavour</a></div><div class="ttdeci">AMDGPUDwarfFlavour</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMCTargetDesc_8h_source.html#l00031">AMDGPUMCTargetDesc.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a1a16fa16d81293a0114e664d9f290114"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a1a16fa16d81293a0114e664d9f290114">llvm::AMDGPUSubtarget::WavefrontSizeLog2</a></div><div class="ttdeci">char WavefrontSizeLog2</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00068">AMDGPUSubtarget.h:68</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a553c1b079d8168cdff5b62f756fccf93"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a553c1b079d8168cdff5b62f756fccf93">llvm::AMDGPUSubtarget::makeLIDRangeMetadata</a></div><div class="ttdeci">bool makeLIDRangeMetadata(Instruction *I) const</div><div class="ttdoc">Creates value range metadata on an workitemid.* intrinsic call or load.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00472">AMDGPUSubtarget.cpp:472</a></div></div>
<div class="ttc" id="aclassllvm_1_1R600Subtarget_html"><div class="ttname"><a href="classllvm_1_1R600Subtarget.html">llvm::R600Subtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="R600Subtarget_8h_source.html#l00029">R600Subtarget.h:29</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1a14592c2ae220a319c7c85ee545c96f"><div class="ttname"><a href="namespacellvm.html#a1a14592c2ae220a319c7c85ee545c96f">llvm::divideCeil</a></div><div class="ttdeci">uint64_t divideCeil(uint64_t Numerator, uint64_t Denominator)</div><div class="ttdoc">Returns the integer ceil(Numerator / Denominator).</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00522">MathExtras.h:522</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html">llvm::AMDGPUSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00029">AMDGPUSubtarget.h:29</a></div></div>
<div class="ttc" id="aAMDGPURegisterBankInfo_8h_html"><div class="ttname"><a href="AMDGPURegisterBankInfo_8h.html">AMDGPURegisterBankInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSchedModel_html"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html">llvm::TargetSchedModel</a></div><div class="ttdoc">Provide an instruction scheduling machine model to CodeGen passes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8h_source.html#l00030">TargetSchedule.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="anamespacellvm_1_1omp_html_a9ecb71ea2b9e2a17b205ca3c03fb5a9d"><div class="ttname"><a href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">llvm::omp::Kernel</a></div><div class="ttdeci">Function * Kernel</div><div class="ttdoc">Summary of a kernel (=entry point for target offloading).</div><div class="ttdef"><b>Definition:</b> <a href="OpenMPOpt_8h_source.html#l00021">OpenMPOpt.h:21</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_acf1aa5ffc0b59dd205f5dc5142580771"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#acf1aa5ffc0b59dd205f5dc5142580771">llvm::GCNSubtarget::GCNSubtarget</a></div><div class="ttdeci">GCNSubtarget(const Triple &amp;TT, StringRef GPU, StringRef FS, const GCNTargetMachine &amp;TM)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00169">AMDGPUSubtarget.cpp:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUCallLowering_html"><div class="ttname"><a href="classllvm_1_1AMDGPUCallLowering.html">llvm::AMDGPUCallLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUCallLowering_8h_source.html#l00026">AMDGPUCallLowering.h:26</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a0727ce4ffb9b167e7ad283259d82b10c"><div class="ttname"><a href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">llvm::SUnit::getInstr</a></div><div class="ttdeci">MachineInstr * getInstr() const</div><div class="ttdoc">Returns the representative MachineInstr for this SUnit.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00373">ScheduleDAG.h:373</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a8b51361656ac436c2c02a20e6196cff1"><div class="ttname"><a href="classllvm_1_1SDep.html#a8b51361656ac436c2c02a20e6196cff1">llvm::SDep::getReg</a></div><div class="ttdeci">unsigned getReg() const</div><div class="ttdoc">Returns the register associated with this edge.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00218">ScheduleDAG.h:218</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a00e78eae9b647e527c50749797367173"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a00e78eae9b647e527c50749797367173">llvm::GCNSubtarget::hasFlat</a></div><div class="ttdeci">bool hasFlat() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00341">GCNSubtarget.h:341</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aAMDGPUInstructionSelector_8h_html"><div class="ttname"><a href="AMDGPUInstructionSelector_8h.html">AMDGPUInstructionSelector.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdoc">Primary interface to the complete machine description for the target machine.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00078">TargetMachine.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUInstructionSelector_html"><div class="ttname"><a href="classllvm_1_1AMDGPUInstructionSelector.html">llvm::AMDGPUInstructionSelector</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUInstructionSelector_8h_source.html#l00047">AMDGPUInstructionSelector.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0">llvm::CallingConv::AMDGPU_KERNEL</a></div><div class="ttdeci">@ AMDGPU_KERNEL</div><div class="ttdoc">Used for AMDGPU code object kernels.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00197">CallingConv.h:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_ac384df17605ecce542a6d2567c7f1ee0"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#ac384df17605ecce542a6d2567c7f1ee0">llvm::ScheduleDAGInstrs::canAddEdge</a></div><div class="ttdeci">bool canAddEdge(SUnit *SuccSU, SUnit *PredSU)</div><div class="ttdoc">True if an edge can be added from PredSU to SuccSU without creating a cycle.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01204">ScheduleDAGInstrs.cpp:1204</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_aaa65bceafd78d01262b121c667576dfc"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#aaa65bceafd78d01262b121c667576dfc">llvm::AMDGPUSubtarget::getMaxLocalMemSizeWithWaveCount</a></div><div class="ttdeci">unsigned getMaxLocalMemSizeWithWaveCount(unsigned WaveCount, const Function &amp;) const</div><div class="ttdoc">Return the amount of LDS that can be used that will not restrict the occupancy lower than WaveCount.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00317">AMDGPUSubtarget.cpp:317</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID_html_a25bbe697f6fdd4ee71f4897eaa8f2c65"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html#a25bbe697f6fdd4ee71f4897eaa8f2c65">llvm::AMDGPU::IsaInfo::AMDGPUTargetID::getXnackSetting</a></div><div class="ttdeci">TargetIDSetting getXnackSetting() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00157">AMDGPUBaseInfo.h:157</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedad61318e853e529ac703f52a853efa1d1"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedad61318e853e529ac703f52a853efa1d1">llvm::CallingConv::AMDGPU_ES</a></div><div class="ttdeci">@ AMDGPU_ES</div><div class="ttdoc">Used for AMDPAL shader stage before geometry shader if geometry is in use.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00215">CallingConv.h:215</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">llvm::X86AS::FS</a></div><div class="ttdeci">@ FS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00201">X86.h:201</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1IsaInfo_html_a0bfeeff20516a03e7a4ebf2f0a23fe10a5b5c7c0eaf47f7ad83186812ec4198b3"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#a0bfeeff20516a03e7a4ebf2f0a23fe10a5b5c7c0eaf47f7ad83186812ec4198b3">llvm::AMDGPU::IsaInfo::FIXED_NUM_SGPRS_FOR_INIT_BUG</a></div><div class="ttdeci">@ FIXED_NUM_SGPRS_FOR_INIT_BUG</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00115">AMDGPUBaseInfo.h:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a61d8866021383c037a029d77a3497f23"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a61d8866021383c037a029d77a3497f23">llvm::GCNSubtarget::getMinNumVGPRs</a></div><div class="ttdeci">unsigned getMinNumVGPRs(unsigned WavesPerEU) const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01240">GCNSubtarget.h:1240</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a1fc0ea9be83e3d4cb2aeb2d7b2363e73"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">llvm::GCNSubtarget::hasGFX90AInsts</a></div><div class="ttdeci">bool hasGFX90AInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01064">GCNSubtarget.h:1064</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_aa19ea7d1223b3dbc9f1c432059f8e040"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#aa19ea7d1223b3dbc9f1c432059f8e040">llvm::GCNSubtarget::getOccupancyWithNumVGPRs</a></div><div class="ttdeci">unsigned getOccupancyWithNumVGPRs(unsigned VGPRs) const</div><div class="ttdoc">Return the maximum number of waves per SIMD for kernels using VGPRs VGPRs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00651">AMDGPUSubtarget.cpp:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGMI_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAGMI.html">llvm::ScheduleDAGMI</a></div><div class="ttdoc">ScheduleDAGMI is an implementation of ScheduleDAGInstrs that simply schedules machine instructions ac...</div><div class="ttdef"><b>Definition:</b> <a href="MachineScheduler_8h_source.html#l00273">MachineScheduler.h:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSchedModel_html_abe764852febe90b22412f1acf299fb9e"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#abe764852febe90b22412f1acf299fb9e">llvm::TargetSchedModel::computeOperandLatency</a></div><div class="ttdeci">unsigned computeOperandLatency(const MachineInstr *DefMI, unsigned DefOperIdx, const MachineInstr *UseMI, unsigned UseOperIdx) const</div><div class="ttdoc">Compute operand latency based on the available machine model.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00168">TargetSchedule.cpp:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aAMDGPUSubtarget_8cpp_html_a37e1b1daf7e726543f686e46808ee1fc"><div class="ttname"><a href="AMDGPUSubtarget_8cpp.html#a37e1b1daf7e726543f686e46808ee1fc">UseAA</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; UseAA(&quot;amdgpu-use-aa-in-codegen&quot;, cl::desc(&quot;Enable the use of AA during codegen.&quot;), cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a18efbf5a73b167d005a9d1004816ab00"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a18efbf5a73b167d005a9d1004816ab00">llvm::GCNSubtarget::MaxPrivateElementSize</a></div><div class="ttdeci">unsigned MaxPrivateElementSize</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00064">GCNSubtarget.h:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a94e255f5cda4e44bebeabdbf414e6248"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a94e255f5cda4e44bebeabdbf414e6248">llvm::AMDGPUSubtarget::MaxWavesPerEU</a></div><div class="ttdeci">unsigned MaxWavesPerEU</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00065">AMDGPUSubtarget.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_ad3f7e09d16f088af156f661b88e88da3"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#ad3f7e09d16f088af156f661b88e88da3">llvm::AMDGPUSubtarget::getExplicitKernelArgOffset</a></div><div class="ttdeci">unsigned getExplicitKernelArgOffset(const Function &amp;F) const</div><div class="ttdoc">Returns the offset in bytes from the start of the input buffer of the first explicit kernel argument.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00229">AMDGPUSubtarget.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acae72f6ab1071b7ec87b741a8bef582b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">llvm::MachineBasicBlock::instr_end</a></div><div class="ttdeci">instr_iterator instr_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00295">MachineBasicBlock.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNTargetMachine_html"><div class="ttname"><a href="classllvm_1_1GCNTargetMachine.html">llvm::GCNTargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUTargetMachine_8h_source.html#l00074">AMDGPUTargetMachine.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_aeaf5c91b90bac99b00f3855b1af9069a"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#aeaf5c91b90bac99b00f3855b1af9069a">llvm::AMDGPUSubtarget::getMinFlatWorkGroupSize</a></div><div class="ttdeci">virtual unsigned getMinFlatWorkGroupSize() const =0</div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1IsaInfo_html_ab56dd7bdfea0401c802b4c94cb76ef1e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#ab56dd7bdfea0401c802b4c94cb76ef1e">llvm::AMDGPU::IsaInfo::getNumWavesPerEUWithNumVGPRs</a></div><div class="ttdeci">unsigned getNumWavesPerEUWithNumVGPRs(const MCSubtargetInfo *STI, unsigned NumVGPRs)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l01073">AMDGPUBaseInfo.cpp:1073</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="alib_2Analysis_2README_8txt_html_ad5ccdce1179bbfb942a084b3005f360d"><div class="ttname"><a href="lib_2Analysis_2README_8txt.html#ad5ccdce1179bbfb942a084b3005f360d">this</a></div><div class="ttdeci">Analysis the ScalarEvolution expression for r is this</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Analysis_2README_8txt_source.html#l00008">README.txt:8</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0363204b5fbab08a46f5a7cd7f376f78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns the opcode of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00516">MachineInstr.h:516</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_aa8f07b602705bd7687cb7693fd508cfd"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#aa8f07b602705bd7687cb7693fd508cfd">llvm::AMDGPUSubtarget::getAMDGPUDwarfFlavour</a></div><div class="ttdeci">AMDGPUDwarfFlavour getAMDGPUDwarfFlavour() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00593">AMDGPUSubtarget.cpp:593</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a5a3d3d075a208011a24a0918b58d7daa"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">llvm::ScheduleDAG::MF</a></div><div class="ttdeci">MachineFunction &amp; MF</div><div class="ttdoc">Machine function.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00559">ScheduleDAG.h:559</a></div></div>
<div class="ttc" id="ainclude_2llvm_2Support_2CMakeLists_8txt_html_aef9367eb0b7430eaf70b1f2725488f2a"><div class="ttname"><a href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a></div><div class="ttdeci">if(llvm_vc STREQUAL &quot;&quot;) set(fake_version_inc &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Support_2CMakeLists_8txt_source.html#l00014">CMakeLists.txt:14</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a3f464e58eb8545a1261f5ef4be85ce95"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a3f464e58eb8545a1261f5ef4be85ce95">llvm::GCNSubtarget::hasMadF16</a></div><div class="ttdeci">bool hasMadF16() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00615">AMDGPUSubtarget.cpp:615</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aRISCVRedundantCopyElimination_8cpp_html_a77c69067ae8279bc00ab8757731e90d7"><div class="ttname"><a href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a></div><div class="ttdeci">auto CC</div><div class="ttdef"><b>Definition:</b> <a href="RISCVRedundantCopyElimination_8cpp_source.html#l00079">RISCVRedundantCopyElimination.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a65f857a7eabda4495d0472e66546253a"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a65f857a7eabda4495d0472e66546253a">llvm::AMDGPUSubtarget::getMaxWorkGroupsPerCU</a></div><div class="ttdeci">virtual unsigned getMaxWorkGroupsPerCU(unsigned FlatWorkGroupSize) const =0</div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a5443dc7c0f90739fe217013b0a6b6206"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a5443dc7c0f90739fe217013b0a6b6206">llvm::AMDGPUSubtarget::EUsPerCU</a></div><div class="ttdeci">unsigned EUsPerCU</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00064">AMDGPUSubtarget.h:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a16d91f647699172c94319c5794309f43"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a16d91f647699172c94319c5794309f43">llvm::GCNSubtarget::adjustSchedDependency</a></div><div class="ttdeci">void adjustSchedDependency(SUnit *Def, int DefOpIdx, SUnit *Use, int UseOpIdx, SDep &amp;Dep) const override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00820">AMDGPUSubtarget.cpp:820</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a1c9934ccbee04b51f83a123e09ae9cf1"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a1c9934ccbee04b51f83a123e09ae9cf1">llvm::GCNSubtarget::getMinNumSGPRs</a></div><div class="ttdeci">unsigned getMinNumSGPRs(unsigned WavesPerEU) const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01170">GCNSubtarget.h:1170</a></div></div>
<div class="ttc" id="astructllvm_1_1MachineSchedPolicy_html_aee4e3964174cee8cf362508ccef135ca"><div class="ttname"><a href="structllvm_1_1MachineSchedPolicy.html#aee4e3964174cee8cf362508ccef135ca">llvm::MachineSchedPolicy::ShouldTrackPressure</a></div><div class="ttdeci">bool ShouldTrackPressure</div><div class="ttdef"><b>Definition:</b> <a href="MachineScheduler_8h_source.html#l00183">MachineScheduler.h:183</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_aea025495e34d5341d0506001cdd63dea"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#aea025495e34d5341d0506001cdd63dea">llvm::GCNSubtarget::getPostRAMutations</a></div><div class="ttdeci">void getPostRAMutations(std::vector&lt; std::unique_ptr&lt; ScheduleDAGMutation &gt;&gt; &amp;Mutations) const override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00964">AMDGPUSubtarget.cpp:964</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a90fc707270386fb970207745d6675805"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a90fc707270386fb970207745d6675805">llvm::GCNSubtarget::hasFlatAddressSpace</a></div><div class="ttdeci">bool hasFlatAddressSpace() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00571">GCNSubtarget.h:571</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad5bfbea25d0de2655684928e7d7aa2f1"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad5bfbea25d0de2655684928e7d7aa2f1">llvm::GCNSubtarget::FlatForGlobal</a></div><div class="ttdeci">bool FlatForGlobal</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00073">GCNSubtarget.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a988c4c0176e7554762642cd4f0fa1b8a"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a988c4c0176e7554762642cd4f0fa1b8a">llvm::GCNSubtarget::getReservedNumSGPRs</a></div><div class="ttdeci">unsigned getReservedNumSGPRs(const MachineFunction &amp;MF) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00672">AMDGPUSubtarget.cpp:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html"><div class="ttname"><a href="classllvm_1_1SDep.html">llvm::SDep</a></div><div class="ttdoc">Scheduling dependency.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00049">ScheduleDAG.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_ac1b7e869cf552cba05a324482f83d2d1"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#ac1b7e869cf552cba05a324482f83d2d1">llvm::AMDGPUSubtarget::getExplicitKernArgSize</a></div><div class="ttdeci">uint64_t getExplicitKernArgSize(const Function &amp;F, Align &amp;MaxAlign) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00553">AMDGPUSubtarget.cpp:553</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2a44ffb5f3120d0b92ed40f4ee48ada81e"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a44ffb5f3120d0b92ed40f4ee48ada81e">llvm::AMDGPUSubtarget::INVALID</a></div><div class="ttdeci">@ INVALID</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00032">AMDGPUSubtarget.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a3d5aacd5fc7d6a739ce913974ed1e53d"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">llvm::ScheduleDAG::SUnits</a></div><div class="ttdeci">std::vector&lt; SUnit &gt; SUnits</div><div class="ttdoc">The scheduling units.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00561">ScheduleDAG.h:561</a></div></div>
<div class="ttc" id="aclassAMDGPUGenSubtargetInfo_html"><div class="ttname"><a href="classAMDGPUGenSubtargetInfo.html">AMDGPUGenSubtargetInfo</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a752e3e8e514e13b70cf1d092b9746e89"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a752e3e8e514e13b70cf1d092b9746e89">llvm::AMDGPUSubtarget::HasSMulHi</a></div><div class="ttdeci">bool HasSMulHi</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00059">AMDGPUSubtarget.h:59</a></div></div>
<div class="ttc" id="astructllvm_1_1MachineSchedPolicy_html_a0f609dd4ed94ea69ab680a7228f8786b"><div class="ttname"><a href="structllvm_1_1MachineSchedPolicy.html#a0f609dd4ed94ea69ab680a7228f8786b">llvm::MachineSchedPolicy::OnlyTopDown</a></div><div class="ttdeci">bool OnlyTopDown</div><div class="ttdef"><b>Definition:</b> <a href="MachineScheduler_8h_source.html#l00190">MachineScheduler.h:190</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ae68d159179d37dc7969439d842e2644f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const LLVMTargetMachine &amp; getTarget() const</div><div class="ttdoc">getTarget - Return the target machine this machine code is compiled with</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00668">MachineFunction.h:668</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">llvm::AMDGPUSubtarget::VOLCANIC_ISLANDS</a></div><div class="ttdeci">@ VOLCANIC_ISLANDS</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00039">AMDGPUSubtarget.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="aAMDGPUSubtarget_8cpp_html_ad6bffbcf9785e3c38e03998ab2c6584f"><div class="ttname"><a href="AMDGPUSubtarget_8cpp.html#ad6bffbcf9785e3c38e03998ab2c6584f">EnablePowerSched</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnablePowerSched(&quot;amdgpu-enable-power-sched&quot;, cl::desc(&quot;Enable scheduling to minimize mAI power bursts&quot;), cl::init(false))</div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda9b5e79699935bf721647d44339701860"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda9b5e79699935bf721647d44339701860">llvm::CallingConv::SPIR_KERNEL</a></div><div class="ttdeci">@ SPIR_KERNEL</div><div class="ttdoc">Used for SPIR kernel functions.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00141">CallingConv.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a148b76c8f993d4a3d95ac19c60e2ebe0"><div class="ttname"><a href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">llvm::SDep::setLatency</a></div><div class="ttdeci">void setLatency(unsigned Lat)</div><div class="ttdoc">Sets the latency for this edge.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00147">ScheduleDAG.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a9f0c2a9bd6fbb4b4f778c62d04098b3b"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a9f0c2a9bd6fbb4b4f778c62d04098b3b">llvm::GCNSubtarget::useAA</a></div><div class="ttdeci">bool useAA() const override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00623">AMDGPUSubtarget.cpp:623</a></div></div>
<div class="ttc" id="aR600Subtarget_8h_html"><div class="ttname"><a href="R600Subtarget_8h.html">R600Subtarget.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html_af1935c21c4dd4fbc5a06df5fa285b25c"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html#af1935c21c4dd4fbc5a06df5fa285b25c">llvm::SIMachineFunctionInfo::getWavesPerEU</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; getWavesPerEU() const</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00996">SIMachineFunctionInfo.h:996</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda5c0f66e45afd7c51f4ee51552d8fb606"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda5c0f66e45afd7c51f4ee51552d8fb606">llvm::CallingConv::AMDGPU_HS</a></div><div class="ttdeci">@ AMDGPU_HS</div><div class="ttdoc">Used for Mesa/AMDPAL hull shaders (= tessellation control shaders).</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00203">CallingConv.h:203</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a662ced5ddef5f29e53b545dfd51384e9"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a662ced5ddef5f29e53b545dfd51384e9">llvm::GCNSubtarget::zeroesHigh16BitsOfDest</a></div><div class="ttdeci">bool zeroesHigh16BitsOfDest(unsigned Opcode) const</div><div class="ttdoc">Returns if the result of this instruction with a 16-bit result returned in a 32-bit register implicit...</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00215">AMDGPUSubtarget.cpp:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a055c65558a3e0f7d48f1ed3dde061199"><div class="ttname"><a href="classllvm_1_1SDep.html#a055c65558a3e0f7d48f1ed3dde061199">llvm::SDep::getKind</a></div><div class="ttdeci">Kind getKind() const</div><div class="ttdoc">Returns an enum value representing the kind of the dependence.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00486">ScheduleDAG.h:486</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a3e2f795dfcb9269e1263453796f4b994"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3e2f795dfcb9269e1263453796f4b994">llvm::MachineInstr::isBundle</a></div><div class="ttdeci">bool isBundle() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01340">MachineInstr.h:1340</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html"><div class="ttname"><a href="classllvm_1_1MDBuilder.html">llvm::MDBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8h_source.html#l00036">MDBuilder.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ace4de1de19cbe837c578fb3654b6c998"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">llvm::GCNSubtarget::getGeneration</a></div><div class="ttdeci">Generation getGeneration() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00273">GCNSubtarget.h:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html">llvm::SIInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00044">SIInstrInfo.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a943378cfc586b0e07ae5899d72c522db"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a943378cfc586b0e07ae5899d72c522db">llvm::AMDGPUSubtarget::LocalMemorySize</a></div><div class="ttdeci">unsigned LocalMemorySize</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00066">AMDGPUSubtarget.h:66</a></div></div>
<div class="ttc" id="aAMDGPULegalizerInfo_8h_html"><div class="ttname"><a href="AMDGPULegalizerInfo_8h.html">AMDGPULegalizerInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad0dd54f1f3e1eb169b00651cd3d61da6"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad0dd54f1f3e1eb169b00651cd3d61da6">llvm::GCNSubtarget::isXNACKEnabled</a></div><div class="ttdeci">bool isXNACKEnabled() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00559">GCNSubtarget.h:559</a></div></div>
<div class="ttc" id="aAMDGPUCallLowering_8h_html"><div class="ttname"><a href="AMDGPUCallLowering_8h.html">AMDGPUCallLowering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a76168e6f26b0f7cada393b6baaf6d7aa"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a76168e6f26b0f7cada393b6baaf6d7aa">llvm::GCNSubtarget::HasMovrel</a></div><div class="ttdeci">bool HasMovrel</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00117">GCNSubtarget.h:117</a></div></div>
<div class="ttc" id="aMachineScheduler_8h_html"><div class="ttname"><a href="MachineScheduler_8h.html">MachineScheduler.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_aa5f22315c4064579fca6cd88fb36ea5a"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#aa5f22315c4064579fca6cd88fb36ea5a">llvm::ScheduleDAGInstrs::dumpNode</a></div><div class="ttdeci">void dumpNode(const SUnit &amp;SU) const override</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01164">ScheduleDAGInstrs.cpp:1164</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a33a600e1b2e066f85e6a2bb588a7f3f1"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">llvm::GCNSubtarget::getConstantBusLimit</a></div><div class="ttdeci">unsigned getConstantBusLimit(unsigned Opcode) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00191">AMDGPUSubtarget.cpp:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad65c004eab25ab815e6bc696b8fb8578"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad65c004eab25ab815e6bc696b8fb8578">llvm::GCNSubtarget::getBaseReservedNumSGPRs</a></div><div class="ttdeci">unsigned getBaseReservedNumSGPRs(const bool HasFlatScratch) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00656">AMDGPUSubtarget.cpp:656</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a86673715704dada21e3529d93a5376e8"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a86673715704dada21e3529d93a5376e8">llvm::GCNSubtarget::getNSAThreshold</a></div><div class="ttdeci">unsigned getNSAThreshold(const MachineFunction &amp;MF) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00975">AMDGPUSubtarget.cpp:975</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html_ab6af8e6189a4d10f4a9c20daab0280b8"><div class="ttname"><a href="classllvm_1_1MDBuilder.html#ab6af8e6189a4d10f4a9c20daab0280b8">llvm::MDBuilder::createRange</a></div><div class="ttdeci">MDNode * createRange(const APInt &amp;Lo, const APInt &amp;Hi)</div><div class="ttdoc">Return metadata describing the range [Lo, Hi).</div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8cpp_source.html#l00084">MDBuilder.cpp:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_af64d48dd1c0bf0bcdefdac099669a1fa"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#af64d48dd1c0bf0bcdefdac099669a1fa">llvm::GCNSubtarget::~GCNSubtarget</a></div><div class="ttdeci">~GCNSubtarget() override</div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a1068b7ada5cc9c27785b06ec8a8f8782"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a1068b7ada5cc9c27785b06ec8a8f8782">llvm::AMDGPUSubtarget::getDefaultFlatWorkGroupSize</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; getDefaultFlatWorkGroupSize(CallingConv::ID CC) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00382">AMDGPUSubtarget.cpp:382</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html">llvm::SIMachineFunctionInfo</a></div><div class="ttdoc">This class keeps track of the SPI_SP_INPUT_ADDR config register, which tells the hardware which inter...</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00358">SIMachineFunctionInfo.h:358</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda91283117ce67ebdae50cc7730694d8f8"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda91283117ce67ebdae50cc7730694d8f8">llvm::CallingConv::AMDGPU_PS</a></div><div class="ttdeci">@ AMDGPU_PS</div><div class="ttdoc">Used for Mesa/AMDPAL pixel shaders.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00191">CallingConv.h:191</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1IsaInfo_html_a41a62eaa48728ca1d52dda5d0a9b08c1"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#a41a62eaa48728ca1d52dda5d0a9b08c1">llvm::AMDGPU::IsaInfo::getMaxWavesPerEU</a></div><div class="ttdeci">unsigned getMaxWavesPerEU(const MCSubtargetInfo *STI)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l00894">AMDGPUBaseInfo.cpp:894</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_ad63e0e437ca71cc2b5a5d4d5aa3685f2"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ad63e0e437ca71cc2b5a5d4d5aa3685f2">llvm::TargetMachine::getTargetTriple</a></div><div class="ttdeci">const Triple &amp; getTargetTriple() const</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00127">TargetMachine.h:127</a></div></div>
<div class="ttc" id="astructllvm_1_1MachineSchedPolicy_html_af3e6dd2ea28909a7bdc5fefae67766b9"><div class="ttname"><a href="structllvm_1_1MachineSchedPolicy.html#af3e6dd2ea28909a7bdc5fefae67766b9">llvm::MachineSchedPolicy::ShouldTrackLaneMasks</a></div><div class="ttdeci">bool ShouldTrackLaneMasks</div><div class="ttdoc">Track LaneMasks to allow reordering of independent subregister writes of the same vreg.</div><div class="ttdef"><b>Definition:</b> <a href="MachineScheduler_8h_source.html#l00186">MachineScheduler.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad6cff467fd7061aa3d14b86ebb25b426"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad6cff467fd7061aa3d14b86ebb25b426">llvm::GCNSubtarget::enableSIScheduler</a></div><div class="ttdeci">bool enableSIScheduler() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00954">GCNSubtarget.h:954</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad1a7c5aed35a35708950612b1bb444ab"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad1a7c5aed35a35708950612b1bb444ab">llvm::GCNSubtarget::getInstrItineraryData</a></div><div class="ttdeci">const InstrItineraryData * getInstrItineraryData() const override</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00267">GCNSubtarget.h:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_a1284eca54a89002a4b67f4dfe490736b"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a1284eca54a89002a4b67f4dfe490736b">llvm::ScheduleDAGInstrs::getSchedModel</a></div><div class="ttdeci">const TargetSchedModel * getSchedModel() const</div><div class="ttdoc">Gets the machine model for instruction scheduling.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00263">ScheduleDAGInstrs.h:263</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGMutation_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAGMutation.html">llvm::ScheduleDAGMutation</a></div><div class="ttdoc">Mutate the DAG as a postpass after normal DAG building.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGMutation_8h_source.html#l00022">ScheduleDAGMutation.h:22</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html">llvm::SmallPtrSetImpl</a></div><div class="ttdoc">A templated base class for SmallPtrSet which provides the typesafe interface that is common across al...</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00344">SmallPtrSet.h:344</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key_html_a0963ad90c895ee3e4e6d9e463c2d2e23"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1CodeProps_1_1Key.html#a0963ad90c895ee3e4e6d9e463c2d2e23">llvm::AMDGPU::HSAMD::Kernel::CodeProps::Key::NumVGPRs</a></div><div class="ttdeci">constexpr char NumVGPRs[]</div><div class="ttdoc">Key for Kernel::CodeProps::Metadata::mNumVGPRs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00260">AMDGPUMetadata.h:260</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID_html_a08b8980d20ebca6171b8139f4dadc3eb"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html#a08b8980d20ebca6171b8139f4dadc3eb">llvm::AMDGPU::IsaInfo::AMDGPUTargetID::setTargetIDFromFeaturesString</a></div><div class="ttdeci">void setTargetIDFromFeaturesString(StringRef FS)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l00640">AMDGPUBaseInfo.cpp:640</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html"><div class="ttname"><a href="classllvm_1_1SUnit.html">llvm::SUnit</a></div><div class="ttdoc">Scheduling unit. This is a node in the scheduling DAG.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00242">ScheduleDAG.h:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ab147239b737c34e48de6c01c55587f47"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ab147239b737c34e48de6c01c55587f47">llvm::GCNSubtarget::createFillMFMAShadowMutation</a></div><div class="ttdeci">std::unique_ptr&lt; ScheduleDAGMutation &gt; createFillMFMAShadowMutation(const TargetInstrInfo *TII) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00970">AMDGPUSubtarget.cpp:970</a></div></div>
<div class="ttc" id="aBlockVerifier_8cpp_html_ae45c7d73c0ff5d177b59153ffae77f84"><div class="ttname"><a href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a></div><div class="ttdeci">BlockVerifier::State From</div><div class="ttdef"><b>Definition:</b> <a href="BlockVerifier_8cpp_source.html#l00055">BlockVerifier.cpp:55</a></div></div>
<div class="ttc" id="astructllvm_1_1MachineSchedPolicy_html"><div class="ttname"><a href="structllvm_1_1MachineSchedPolicy.html">llvm::MachineSchedPolicy</a></div><div class="ttdoc">Define a generic scheduling policy for targets that don't provide their own MachineSchedStrategy.</div><div class="ttdef"><b>Definition:</b> <a href="MachineScheduler_8h_source.html#l00181">MachineScheduler.h:181</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a52b3955112597a3fcbe612414ec40e79"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a52b3955112597a3fcbe612414ec40e79">llvm::AMDGPUSubtarget::getFlatWorkGroupSizes</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; getFlatWorkGroupSizes(const Function &amp;F) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00396">AMDGPUSubtarget.cpp:396</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html">llvm::ScheduleDAGInstrs</a></div><div class="ttdoc">A ScheduleDAG for scheduling lists of MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00120">ScheduleDAGInstrs.h:120</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a272fc2c1f64096529cd75dbf22890148"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a272fc2c1f64096529cd75dbf22890148">llvm::AMDGPU::getIntegerPairAttribute</a></div><div class="ttdeci">std::pair&lt; int, int &gt; getIntegerPairAttribute(const Function &amp;F, StringRef Name, std::pair&lt; int, int &gt; Default, bool OnlyFirstRequired)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l01214">AMDGPUBaseInfo.cpp:1214</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a0ee87ff4d1eb3c5e3e685d71e4b567fa"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a0ee87ff4d1eb3c5e3e685d71e4b567fa">llvm::AMDGPUSubtarget::getWavesPerEU</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; getWavesPerEU(const Function &amp;F) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00098">AMDGPUSubtarget.h:98</a></div></div>
<div class="ttc" id="aModuloSchedule_8cpp_html_a106e32122c569cdb42ddf61ecbb0aad1"><div class="ttname"><a href="ModuloSchedule_8cpp.html#a106e32122c569cdb42ddf61ecbb0aad1">test</a></div><div class="ttdeci">modulo schedule test</div><div class="ttdef"><b>Definition:</b> <a href="ModuloSchedule_8cpp_source.html#l02143">ModuloSchedule.cpp:2143</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a22e6e95a4f532492fa0ec707993ecab9"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a22e6e95a4f532492fa0ec707993ecab9">llvm::GCNSubtarget::computeOccupancy</a></div><div class="ttdeci">unsigned computeOccupancy(const Function &amp;F, unsigned LDSSize=0, unsigned NumSGPRs=0, unsigned NumVGPRs=0) const</div><div class="ttdoc">Return occupancy for the given function.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00685">AMDGPUSubtarget.cpp:685</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab8edae44cec4167ac46ac7f60ecb4dafabd2438b14a6a1a27fae653284aaa3cb4"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab8edae44cec4167ac46ac7f60ecb4dafabd2438b14a6a1a27fae653284aaa3cb4">llvm::AMDGPU::AMDHSA_COV5</a></div><div class="ttdeci">@ AMDHSA_COV5</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00051">AMDGPUBaseInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html_a318f4e4abc2a6cfc1776734e748d64e8"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html#a318f4e4abc2a6cfc1776734e748d64e8">llvm::SIMachineFunctionInfo::hasFlatScratchInit</a></div><div class="ttdeci">bool hasFlatScratchInit() const</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00775">SIMachineFunctionInfo.h:775</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_af81f734d7fb268c95c1c63c399a7c4a6"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">llvm::ScheduleDAG::ExitSU</a></div><div class="ttdeci">SUnit ExitSU</div><div class="ttdoc">Special node for the region exit.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00563">ScheduleDAG.h:563</a></div></div>
<div class="ttc" id="aAMDGPUTargetMachine_8h_html"><div class="ttname"><a href="AMDGPUTargetMachine_8h.html">AMDGPUTargetMachine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a5eca2019521fd47b79fe5ef66d02fd43"><div class="ttname"><a href="classllvm_1_1SDep.html#a5eca2019521fd47b79fe5ef66d02fd43">llvm::SDep::getLatency</a></div><div class="ttdeci">unsigned getLatency() const</div><div class="ttdoc">Returns the latency value for this edge, which roughly means the minimum number of cycles that must e...</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00142">ScheduleDAG.h:142</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ae25e963e7382528026a78b5c2e31c435"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">llvm::SIInstrInfo::pseudoToMCOpcode</a></div><div class="ttdeci">int pseudoToMCOpcode(int Opcode) const</div><div class="ttdoc">Return a target-specific opcode if Opcode is a pseudo instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08044">SIInstrInfo.cpp:8044</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a293668f13d1c676db1d1b3be25b7115d"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a293668f13d1c676db1d1b3be25b7115d">llvm::GCNSubtarget::getBaseMaxNumVGPRs</a></div><div class="ttdeci">unsigned getBaseMaxNumVGPRs(const Function &amp;F, std::pair&lt; unsigned, unsigned &gt; WavesPerEU) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00780">AMDGPUSubtarget.cpp:780</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aAMDGPUBaseInfo_8h_html"><div class="ttname"><a href="AMDGPUBaseInfo_8h.html">AMDGPUBaseInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:09:40 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
