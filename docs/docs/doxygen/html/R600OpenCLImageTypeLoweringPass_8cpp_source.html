<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AMDGPU/R600OpenCLImageTypeLoweringPass.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_447ce995d6e35417de5ec3060e97c93e.html">AMDGPU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">R600OpenCLImageTypeLoweringPass.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="R600OpenCLImageTypeLoweringPass_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- R600OpenCLImageTypeLoweringPass.cpp ------------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// This pass resolves calls to OpenCL image attribute, image resource ID and</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// sampler resource ID getter functions.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/// Image attributes (size and format) are expected to be passed to the kernel</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/// as kernel arguments immediately following the image argument itself,</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/// therefore this pass adds image size and format arguments to the kernel</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/// functions in the module. The kernel functions with image arguments are</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/// re-created using the new signature. The new arguments are added to the</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// kernel metadata with kernel_arg_type set to &quot;image_size&quot; or &quot;image_format&quot;.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/// Note: this pass may invalidate pointers to functions.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/// Resource IDs of read-only images, write-only images and samplers are</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/// defined to be their index among the kernel arguments of the same</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/// type and access qualifier.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="R600_8h.html">R600.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Cloning_8h.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a37b0e45cf56c7638f8c603239396a3a5">   39</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a37b0e45cf56c7638f8c603239396a3a5">GetImageSizeFunc</a> =         <span class="stringliteral">&quot;llvm.OpenCL.image.get.size&quot;</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8c8172d032069b64fa83cc1fb2280c42">   40</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8c8172d032069b64fa83cc1fb2280c42">GetImageFormatFunc</a> =       <span class="stringliteral">&quot;llvm.OpenCL.image.get.format&quot;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#aca84683e827c1878a38e6e48c83aaebb">   41</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#aca84683e827c1878a38e6e48c83aaebb">GetImageResourceIDFunc</a> =   <span class="stringliteral">&quot;llvm.OpenCL.image.get.resource.id&quot;</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a3db2eda519bfc054dd911e32af0d6f4d">   42</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a3db2eda519bfc054dd911e32af0d6f4d">GetSamplerResourceIDFunc</a> =</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="stringliteral">&quot;llvm.OpenCL.sampler.get.resource.id&quot;</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#aae90d370f386932f5c8fd2d011c95ddf">   45</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#aae90d370f386932f5c8fd2d011c95ddf">ImageSizeArgMDType</a> =   <span class="stringliteral">&quot;__llvm_image_size&quot;</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#acaa9c80110705a1f6a598639ae919bfd">   46</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#acaa9c80110705a1f6a598639ae919bfd">ImageFormatArgMDType</a> = <span class="stringliteral">&quot;__llvm_image_format&quot;</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a1e57bf5caf2298139f9ab5fb74999e23">   48</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a1e57bf5caf2298139f9ab5fb74999e23">KernelsMDNodeName</a> = <span class="stringliteral">&quot;opencl.kernels&quot;</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a96c13058a87c15cd58329360c7eb4236">   49</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a96c13058a87c15cd58329360c7eb4236">KernelArgMDNodeNames</a>[] = {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="stringliteral">&quot;kernel_arg_addr_space&quot;</span>,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="stringliteral">&quot;kernel_arg_access_qual&quot;</span>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="stringliteral">&quot;kernel_arg_type&quot;</span>,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="stringliteral">&quot;kernel_arg_base_type&quot;</span>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="stringliteral">&quot;kernel_arg_type_qual&quot;</span>};</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a4fcd2f7ea81e84dfac669ceb0a6eda56">   55</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a4fcd2f7ea81e84dfac669ceb0a6eda56">NumKernelArgMDNodes</a> = 5;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">using</span> MDVector = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 8&gt;</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">struct </span>KernelArgMD {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  MDVector <a class="code" href="namespacellvm_1_1logicalview.html#a6687f64ee378577ef98160a59b3abcc9">ArgVector</a>[<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a4fcd2f7ea81e84dfac669ceb0a6eda56">NumKernelArgMDNodes</a>];</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;};</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a162a731af373b7026fdd1fe8ae54bbe3">   67</a></span>&#160;<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a162a731af373b7026fdd1fe8ae54bbe3">IsImageType</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeString) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">return</span> TypeString == <span class="stringliteral">&quot;image2d_t&quot;</span> || TypeString == <span class="stringliteral">&quot;image3d_t&quot;</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a834ef6cea23843bec307de03c8a0b73f">   72</a></span>&#160;<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a834ef6cea23843bec307de03c8a0b73f">IsSamplerType</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeString) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">return</span> TypeString == <span class="stringliteral">&quot;sampler_t&quot;</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a3f4438d7374e840ae26a131b001d8ce0">   77</a></span>&#160;<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a3f4438d7374e840ae26a131b001d8ce0">GetFunctionFromMDNode</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">if</span> (!Node)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordtype">size_t</span> NumOps = Node-&gt;getNumOperands();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> (NumOps != <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a4fcd2f7ea81e84dfac669ceb0a6eda56">NumKernelArgMDNodes</a> + 1)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = mdconst::dyn_extract&lt;Function&gt;(Node-&gt;getOperand(0));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// Validation checks.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordtype">size_t</span> ExpectNumArgNodeOps = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() + 1;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a4fcd2f7ea81e84dfac669ceb0a6eda56">NumKernelArgMDNodes</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ArgNode = dyn_cast_or_null&lt;MDNode&gt;(Node-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1));</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (ArgNode-&gt;<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>() != ExpectNumArgNodeOps)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (!ArgNode-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(0))</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// FIXME: It should be possible to do image lowering when some metadata</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// args missing or not in the expected order.</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="classllvm_1_1MDString.html">MDString</a> *StringNode = dyn_cast&lt;MDString&gt;(ArgNode-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(0));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (!StringNode || StringNode-&gt;<a class="code" href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">getString</a>() != <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a96c13058a87c15cd58329360c7eb4236">KernelArgMDNodeNames</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a></div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a83b7dc810cf4c3050ff52c245eb0a5e9">  109</a></span>&#160;<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a83b7dc810cf4c3050ff52c245eb0a5e9">AccessQualFromMD</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *KernelMDNode, <span class="keywordtype">unsigned</span> ArgIdx) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ArgAQNode = cast&lt;MDNode&gt;(KernelMDNode-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(2));</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">return</span> cast&lt;MDString&gt;(ArgAQNode-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(ArgIdx + 1))-&gt;getString();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a21caf59ebb50607d80672fa9cbca25d3">  115</a></span>&#160;<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a21caf59ebb50607d80672fa9cbca25d3">ArgTypeFromMD</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *KernelMDNode, <span class="keywordtype">unsigned</span> ArgIdx) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ArgTypeNode = cast&lt;MDNode&gt;(KernelMDNode-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(3));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">return</span> cast&lt;MDString&gt;(ArgTypeNode-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(ArgIdx + 1))-&gt;getString();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">static</span> MDVector</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#ac63fffbaa27bd0a8d519da317a037d13">  121</a></span>&#160;<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#ac63fffbaa27bd0a8d519da317a037d13">GetArgMD</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *KernelMDNode, <span class="keywordtype">unsigned</span> OpIdx) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  MDVector Res;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a4fcd2f7ea81e84dfac669ceb0a6eda56">NumKernelArgMDNodes</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node = cast&lt;MDNode&gt;(KernelMDNode-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1));</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    Res.push_back(Node-&gt;getOperand(OpIdx));</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8388ad714d73e79dde0a9e89872e76bb">  131</a></span>&#160;<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8388ad714d73e79dde0a9e89872e76bb">PushArgMD</a>(KernelArgMD &amp;MD, <span class="keyword">const</span> MDVector &amp;V) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(V.size() == <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a4fcd2f7ea81e84dfac669ceb0a6eda56">NumKernelArgMDNodes</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a4fcd2f7ea81e84dfac669ceb0a6eda56">NumKernelArgMDNodes</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    MD.ArgVector[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].push_back(V[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keyword">class </span>R600OpenCLImageTypeLoweringPass : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> *<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int32Type;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ImageSizeType;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ImageFormatType;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 4&gt;</a> InstsToErase;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordtype">bool</span> replaceImageUses(<a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;ImageArg, <a class="code" href="classuint32__t.html">uint32_t</a> ResourceID,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;ImageSizeArg,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                        <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;ImageFormatArg) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : ImageArg.<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keyword">auto</span> Inst = dyn_cast&lt;CallInst&gt;(<a class="code" href="classllvm_1_1Use.html">Use</a>.<a class="code" href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">getUser</a>());</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">if</span> (!Inst) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = Inst-&gt;getCalledFunction();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Replacement = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#aca84683e827c1878a38e6e48c83aaebb">GetImageResourceIDFunc</a>)) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        Replacement = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int32Type, ResourceID);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a37b0e45cf56c7638f8c603239396a3a5">GetImageSizeFunc</a>)) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        Replacement = &amp;ImageSizeArg;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8c8172d032069b64fa83cc1fb2280c42">GetImageFormatFunc</a>)) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        Replacement = &amp;ImageFormatArg;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      Inst-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Replacement);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      InstsToErase.push_back(Inst);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordtype">bool</span> replaceSamplerUses(<a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;SamplerArg, <a class="code" href="classuint32__t.html">uint32_t</a> ResourceID) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : SamplerArg.<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keyword">auto</span> Inst = dyn_cast&lt;CallInst&gt;(<a class="code" href="classllvm_1_1Use.html">Use</a>.<a class="code" href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">getUser</a>());</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">if</span> (!Inst) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = Inst-&gt;getCalledFunction();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Replacement = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">if</span> (Name == <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a3db2eda519bfc054dd911e32af0d6f4d">GetSamplerResourceIDFunc</a>) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        Replacement = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int32Type, ResourceID);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      Inst-&gt;replaceAllUsesWith(Replacement);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      InstsToErase.push_back(Inst);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordtype">bool</span> replaceImageAndSamplerUses(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *KernelMDNode) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> NumReadOnlyImageArgs = 0;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> NumWriteOnlyImageArgs = 0;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> NumSamplerArgs = 0;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    InstsToErase.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> ArgI = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin(); ArgI != <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_end(); ++ArgI) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = *ArgI;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="classllvm_1_1Type.html">Type</a> = <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a21caf59ebb50607d80672fa9cbca25d3">ArgTypeFromMD</a>(KernelMDNode, <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getArgNo());</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="comment">// Handle image types.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a162a731af373b7026fdd1fe8ae54bbe3">IsImageType</a>(<a class="code" href="classllvm_1_1Type.html">Type</a>)) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> AccessQual = <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a83b7dc810cf4c3050ff52c245eb0a5e9">AccessQualFromMD</a>(KernelMDNode, <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getArgNo());</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> ResourceID;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (AccessQual == <span class="stringliteral">&quot;read_only&quot;</span>) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          ResourceID = NumReadOnlyImageArgs++;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AccessQual == <span class="stringliteral">&quot;write_only&quot;</span>) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;          ResourceID = NumWriteOnlyImageArgs++;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Wrong image access qualifier.&quot;</span>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;SizeArg = *(++ArgI);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;FormatArg = *(++ArgI);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> |= replaceImageUses(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, ResourceID, SizeArg, FormatArg);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="comment">// Handle sampler type.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a834ef6cea23843bec307de03c8a0b73f">IsSamplerType</a>(<a class="code" href="classllvm_1_1Type.html">Type</a>)) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> ResourceID = NumSamplerArgs++;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> |= replaceSamplerUses(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, ResourceID);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; InstsToErase.size(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      InstsToErase[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;eraseFromParent();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  std::tuple&lt;Function *, MDNode *&gt;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  addImplicitArgs(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *KernelMDNode) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type *, 8&gt;</a> ArgTypes;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// Metadata operands for new MDNode.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    KernelArgMD NewArgMDs;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8388ad714d73e79dde0a9e89872e76bb">PushArgMD</a>(NewArgMDs, <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#ac63fffbaa27bd0a8d519da317a037d13">GetArgMD</a>(KernelMDNode, 0));</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Add implicit arguments to the signature.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      ArgTypes.push_back(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">getParamType</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      MDVector ArgMD = <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#ac63fffbaa27bd0a8d519da317a037d13">GetArgMD</a>(KernelMDNode, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8388ad714d73e79dde0a9e89872e76bb">PushArgMD</a>(NewArgMDs, ArgMD);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a162a731af373b7026fdd1fe8ae54bbe3">IsImageType</a>(<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a21caf59ebb50607d80672fa9cbca25d3">ArgTypeFromMD</a>(KernelMDNode, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)))</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="comment">// Add size implicit argument.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      ArgTypes.push_back(ImageSizeType);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      ArgMD[2] = ArgMD[3] = <a class="code" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(*<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#aae90d370f386932f5c8fd2d011c95ddf">ImageSizeArgMDType</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8388ad714d73e79dde0a9e89872e76bb">PushArgMD</a>(NewArgMDs, ArgMD);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="comment">// Add format implicit argument.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      ArgTypes.push_back(ImageFormatType);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      ArgMD[2] = ArgMD[3] = <a class="code" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(*<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#acaa9c80110705a1f6a598639ae919bfd">ImageFormatArgMDType</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8388ad714d73e79dde0a9e89872e76bb">PushArgMD</a>(NewArgMDs, ArgMD);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (!Modified) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">return</span> std::tuple(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// Create function with new signature and clone the old body into it.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keyword">auto</span> NewFT = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>(), ArgTypes, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keyword">auto</span> NewF = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(NewFT, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getLinkage(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName());</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="classllvm_1_1ValueMap.html">ValueToValueMapTy</a> VMap;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">auto</span> NewFArgIt = NewF-&gt;arg_begin();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>: <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;args()) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keyword">auto</span> ArgName = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getName();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      NewFArgIt-&gt;setName(ArgName);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      VMap[&amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>] = &amp;(*NewFArgIt++);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a162a731af373b7026fdd1fe8ae54bbe3">IsImageType</a>(<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a21caf59ebb50607d80672fa9cbca25d3">ArgTypeFromMD</a>(KernelMDNode, <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getArgNo()))) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        (NewFArgIt++)-&gt;setName(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;__size_&quot;</span>) + ArgName);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        (NewFArgIt++)-&gt;setName(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;__format_&quot;</span>) + ArgName);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ReturnInst*, 8&gt;</a> Returns;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="namespacellvm.html#ac1b2be839460bb277d4f07f4aa5225ac">CloneFunctionInto</a>(NewF, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, VMap, <a class="code" href="namespacellvm.html#abe00617fc34ceb1aa0eb62995732b30aa68b46a44773674a07e6730fac74fc46b">CloneFunctionChangeType::LocalChangesOnly</a>,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                      Returns);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// Build new MDNode.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 6&gt;</a> KernelMDArgs;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    KernelMDArgs.push_back(<a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(NewF));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> MDVector &amp;MDV : NewArgMDs.ArgVector)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      KernelMDArgs.push_back(<a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(*<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, MDV));</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *NewMDNode = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(*<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, KernelMDArgs);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> std::tuple(NewF, NewMDNode);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordtype">bool</span> transformKernels(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *KernelsMDNode = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a1e57bf5caf2298139f9ab5fb74999e23">KernelsMDNodeName</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (!KernelsMDNode)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; KernelsMDNode-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">getNumOperands</a>(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *KernelMDNode = KernelsMDNode-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="R600OpenCLImageTypeLoweringPass_8cpp.html#a3f4438d7374e840ae26a131b001d8ce0">GetFunctionFromMDNode</a>(KernelMDNode);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *NewF;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *NewMDNode;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      std::tie(NewF, NewMDNode) = addImplicitArgs(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, KernelMDNode);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">if</span> (NewF) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="comment">// Replace old function and metadata with new ones.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunctionList().push_back(NewF);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(NewF-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>(), NewF-&gt;<a class="code" href="classllvm_1_1Function.html#adf50671db83d2813e0d897ea2cfc9102">getFunctionType</a>(),</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                              NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">getAttributes</a>());</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        KernelsMDNode-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1">setOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, NewMDNode);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = NewF;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        KernelMDNode = NewMDNode;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> |= replaceImageAndSamplerUses(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, KernelMDNode);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  R600OpenCLImageTypeLoweringPass() : <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordtype">bool</span> runOnModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    Int32Type = <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    ImageSizeType = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(Int32Type, 3);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    ImageFormatType = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(Int32Type, 2);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> transformKernels(M);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> getPassName()<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;R600 OpenCL Image Type Pass&quot;</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;};</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">R600OpenCLImageTypeLoweringPass::ID</a> = 0;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa21e10c20c38a113fe8f605b018ec325">  372</a></span>&#160;<a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> *<a class="code" href="namespacellvm.html#aa21e10c20c38a113fe8f605b018ec325">llvm::createR600OpenCLImageTypeLoweringPass</a>() {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> R600OpenCLImageTypeLoweringPass();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">This class represents an incoming formal argument to a Function.</div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00028">Argument.h:28</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html">llvm::NamedMDNode</a></div><div class="ttdoc">A tuple of MDNodes.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01587">Metadata.h:1587</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">llvm::AArch64PACKey::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00790">AArch64BaseInfo.h:790</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_acde8007e0e69969423e2de52343b702f"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">llvm::NamedMDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01211">Metadata.cpp:1211</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModulePass_html"><div class="ttname"><a href="classllvm_1_1ModulePass.html">llvm::ModulePass</a></div><div class="ttdoc">ModulePass class - This class is used to implement unstructured interprocedural optimizations and ana...</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00248">Pass.h:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_a543df3cb1eda9d491a7822ef4216e3b1"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1">llvm::NamedMDNode::setOperand</a></div><div class="ttdeci">void setOperand(unsigned I, MDNode *New)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01223">Metadata.cpp:1223</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAsMetadata_html_a703ab6c3e14ff7565866468d731f537a"><div class="ttname"><a href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">llvm::ConstantAsMetadata::get</a></div><div class="ttdeci">static ConstantAsMetadata * get(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00419">Metadata.h:419</a></div></div>
<div class="ttc" id="anamespacellvm_html_abe00617fc34ceb1aa0eb62995732b30aa68b46a44773674a07e6730fac74fc46b"><div class="ttname"><a href="namespacellvm.html#abe00617fc34ceb1aa0eb62995732b30aa68b46a44773674a07e6730fac74fc46b">llvm::CloneFunctionChangeType::LocalChangesOnly</a></div><div class="ttdeci">@ LocalChangesOnly</div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a104d6154321899b53e40455e71d8e83a"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">llvm::FunctionType::getNumParams</a></div><div class="ttdeci">unsigned getNumParams() const</div><div class="ttdoc">Return the number of fixed parameters this function type requires.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00139">DerivedTypes.h:139</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa21e10c20c38a113fe8f605b018ec325"><div class="ttname"><a href="namespacellvm.html#aa21e10c20c38a113fe8f605b018ec325">llvm::createR600OpenCLImageTypeLoweringPass</a></div><div class="ttdeci">ModulePass * createR600OpenCLImageTypeLoweringPass()</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00372">R600OpenCLImageTypeLoweringPass.cpp:372</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a162a731af373b7026fdd1fe8ae54bbe3"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a162a731af373b7026fdd1fe8ae54bbe3">IsImageType</a></div><div class="ttdeci">static bool IsImageType(StringRef TypeString)</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00067">R600OpenCLImageTypeLoweringPass.cpp:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aa4068e37ec583962685e3567dc102ae5"><div class="ttname"><a href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">llvm::MDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return number of MDNode operands.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01297">Metadata.h:1297</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_afad351d7bf10ac0446b64e7827634e94"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a></div><div class="ttdeci">LLVMContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00066">NVVMIntrRange.cpp:66</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aR600_8h_html"><div class="ttname"><a href="R600_8h.html">R600.h</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_acaa9c80110705a1f6a598639ae919bfd"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#acaa9c80110705a1f6a598639ae919bfd">ImageFormatArgMDType</a></div><div class="ttdeci">static StringRef ImageFormatArgMDType</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00046">R600OpenCLImageTypeLoweringPass.cpp:46</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a8388ad714d73e79dde0a9e89872e76bb"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8388ad714d73e79dde0a9e89872e76bb">PushArgMD</a></div><div class="ttdeci">static void PushArgMD(KernelArgMD &amp;MD, const MDVector &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00131">R600OpenCLImageTypeLoweringPass.cpp:131</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a3db2eda519bfc054dd911e32af0d6f4d"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a3db2eda519bfc054dd911e32af0d6f4d">GetSamplerResourceIDFunc</a></div><div class="ttdeci">static StringRef GetSamplerResourceIDFunc</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00042">R600OpenCLImageTypeLoweringPass.cpp:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_aecb93439702247fe5353a9966f7cefcd"><div class="ttname"><a href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">llvm::Value::uses</a></div><div class="ttdeci">iterator_range&lt; use_iterator &gt; uses()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00376">Value.h:376</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a8c8172d032069b64fa83cc1fb2280c42"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a8c8172d032069b64fa83cc1fb2280c42">GetImageFormatFunc</a></div><div class="ttdeci">static StringRef GetImageFormatFunc</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00040">R600OpenCLImageTypeLoweringPass.cpp:40</a></div></div>
<div class="ttc" id="aLoopDeletion_8cpp_html_a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64"><div class="ttname"><a href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">LoopDeletionResult::Modified</a></div><div class="ttdeci">@ Modified</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html_a50a2e57da274f8d69b9f932977379cdf"><div class="ttname"><a href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">llvm::Use::getUser</a></div><div class="ttdeci">User * getUser() const</div><div class="ttdoc">Returns the User that contains this Use.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00072">Use.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a7477aafbbe989ad35b96fac186d8e9fd"><div class="ttname"><a href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeList getAttributes() const</div><div class="ttdoc">Return the attribute list for this Function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00313">Function.h:313</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a37b0e45cf56c7638f8c603239396a3a5"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a37b0e45cf56c7638f8c603239396a3a5">GetImageSizeFunc</a></div><div class="ttdeci">static StringRef GetImageSizeFunc</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00039">R600OpenCLImageTypeLoweringPass.cpp:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a6cbc0453586a25c057a32161b38b8ce4"><div class="ttname"><a href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">llvm::MDNode::getOperand</a></div><div class="ttdeci">const MDOperand &amp; getOperand(unsigned I) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01291">Metadata.h:1291</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_aae90d370f386932f5c8fd2d011c95ddf"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#aae90d370f386932f5c8fd2d011c95ddf">ImageSizeArgMDType</a></div><div class="ttdeci">static StringRef ImageSizeArgMDType</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00045">R600OpenCLImageTypeLoweringPass.cpp:45</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a21caf59ebb50607d80672fa9cbca25d3"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a21caf59ebb50607d80672fa9cbca25d3">ArgTypeFromMD</a></div><div class="ttdeci">static StringRef ArgTypeFromMD(MDNode *KernelMDNode, unsigned ArgIdx)</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00115">R600OpenCLImageTypeLoweringPass.cpp:115</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a6687f64ee378577ef98160a59b3abcc9"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a6687f64ee378577ef98160a59b3abcc9">llvm::logicalview::ArgVector</a></div><div class="ttdeci">std::vector&lt; std::string &gt; ArgVector</div><div class="ttdef"><b>Definition:</b> <a href="LVReaderHandler_8h_source.html#l00031">LVReaderHandler.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="aCloning_8h_html"><div class="ttname"><a href="Cloning_8h.html">Cloning.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a20cdc3911828248e70dbeae018106b76"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">llvm::FunctionType::getParamType</a></div><div class="ttdeci">Type * getParamType(unsigned i) const</div><div class="ttdoc">Parameter type accessors.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00135">DerivedTypes.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_affbb7e2e9ad8d18114816f2443d672b9"><div class="ttname"><a href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">llvm::MDString::get</a></div><div class="ttdeci">static MDString * get(LLVMContext &amp;Context, StringRef Str)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00497">Metadata.cpp:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_aa24b566603d206b0e74bf63daf521078"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078">llvm::NamedMDNode::getOperand</a></div><div class="ttdeci">MDNode * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01215">Metadata.cpp:1215</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6adbed68009f582caa84cdfd2adf36f1"><div class="ttname"><a href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, unsigned AddrSpace, const Twine &amp;N=&quot;&quot;, Module *M=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00136">Function.h:136</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_aca84683e827c1878a38e6e48c83aaebb"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#aca84683e827c1878a38e6e48c83aaebb">GetImageResourceIDFunc</a></div><div class="ttdeci">static StringRef GetImageResourceIDFunc</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00041">R600OpenCLImageTypeLoweringPass.cpp:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html_adf411edc4f135b570ab218079474ce77"><div class="ttname"><a href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">llvm::ArrayType::get</a></div><div class="ttdeci">static ArrayType * get(Type *ElementType, uint64_t NumElements)</div><div class="ttdoc">This static method is the primary way to construct an ArrayType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00640">Type.cpp:640</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a96c13058a87c15cd58329360c7eb4236"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a96c13058a87c15cd58329360c7eb4236">KernelArgMDNodeNames</a></div><div class="ttdeci">static StringRef KernelArgMDNodeNames[]</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00049">R600OpenCLImageTypeLoweringPass.cpp:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a1e57bf5caf2298139f9ab5fb74999e23"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a1e57bf5caf2298139f9ab5fb74999e23">KernelsMDNodeName</a></div><div class="ttdeci">static StringRef KernelsMDNodeName</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00048">R600OpenCLImageTypeLoweringPass.cpp:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueMap_html"><div class="ttname"><a href="classllvm_1_1ValueMap.html">llvm::ValueMap&lt; const Value *, WeakTrackingVH &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a3f4438d7374e840ae26a131b001d8ce0"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a3f4438d7374e840ae26a131b001d8ce0">GetFunctionFromMDNode</a></div><div class="ttdeci">static Function * GetFunctionFromMDNode(MDNode *Node)</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00077">R600OpenCLImageTypeLoweringPass.cpp:77</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a83b7dc810cf4c3050ff52c245eb0a5e9"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a83b7dc810cf4c3050ff52c245eb0a5e9">AccessQualFromMD</a></div><div class="ttdeci">static StringRef AccessQualFromMD(MDNode *KernelMDNode, unsigned ArgIdx)</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00109">R600OpenCLImageTypeLoweringPass.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_adf50671db83d2813e0d897ea2cfc9102"><div class="ttname"><a href="classllvm_1_1Function.html#adf50671db83d2813e0d897ea2cfc9102">llvm::Function::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const</div><div class="ttdoc">Returns the FunctionType for me.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00174">Function.h:174</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_ac63fffbaa27bd0a8d519da317a037d13"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#ac63fffbaa27bd0a8d519da317a037d13">GetArgMD</a></div><div class="ttdeci">static MDVector GetArgMD(MDNode *KernelMDNode, unsigned OpIdx)</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00121">R600OpenCLImageTypeLoweringPass.cpp:121</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a834ef6cea23843bec307de03c8a0b73f"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a834ef6cea23843bec307de03c8a0b73f">IsSamplerType</a></div><div class="ttdeci">static bool IsSamplerType(StringRef TypeString)</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00072">R600OpenCLImageTypeLoweringPass.cpp:72</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aR600OpenCLImageTypeLoweringPass_8cpp_html_a4fcd2f7ea81e84dfac669ceb0a6eda56"><div class="ttname"><a href="R600OpenCLImageTypeLoweringPass_8cpp.html#a4fcd2f7ea81e84dfac669ceb0a6eda56">NumKernelArgMDNodes</a></div><div class="ttdeci">static const unsigned NumKernelArgMDNodes</div><div class="ttdef"><b>Definition:</b> <a href="R600OpenCLImageTypeLoweringPass_8cpp_source.html#l00055">R600OpenCLImageTypeLoweringPass.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac1b2be839460bb277d4f07f4aa5225ac"><div class="ttname"><a href="namespacellvm.html#ac1b2be839460bb277d4f07f4aa5225ac">llvm::CloneFunctionInto</a></div><div class="ttdeci">void CloneFunctionInto(Function *NewFunc, const Function *OldFunc, ValueToValueMapTy &amp;VMap, CloneFunctionChangeType Changes, SmallVectorImpl&lt; ReturnInst * &gt; &amp;Returns, const char *NameSuffix=&quot;&quot;, ClonedCodeInfo *CodeInfo=nullptr, ValueMapTypeRemapper *TypeMapper=nullptr, ValueMaterializer *Materializer=nullptr)</div><div class="ttdoc">Clone OldFunc into NewFunc, transforming the old arguments into references to VMap values.</div><div class="ttdef"><b>Definition:</b> <a href="CloneFunction_8cpp_source.html#l00086">CloneFunction.cpp:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_ae44259d9edd71181ea8b89d18f27a967"><div class="ttname"><a href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">llvm::MDString::getString</a></div><div class="ttdeci">StringRef getString() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00507">Metadata.cpp:507</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html"><div class="ttname"><a href="classllvm_1_1MDString.html">llvm::MDString</a></div><div class="ttdoc">A single uniqued string.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00611">Metadata.h:611</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_ac453ad79a3d50950bac79bc9dff85918"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00124">DerivedTypes.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdoc">Class to represent function types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00103">DerivedTypes.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:10:04 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
