<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AArch64/AArch64InstrInfo.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_b69b85499a0be7bec9dbd65569a12909.html">AArch64</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AArch64InstrInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AArch64InstrInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- AArch64InstrInfo.cpp - AArch64 Instruction Information -------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file contains the AArch64 implementation of the TargetInstrInfo class.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AArch64InstrInfo_8h.html">AArch64InstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AArch64MachineFunctionInfo_8h.html">AArch64MachineFunctionInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AArch64Subtarget_8h.html">AArch64Subtarget.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AArch64AddressingModes_8h.html">MCTargetDesc/AArch64AddressingModes.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AArch64BaseInfo_8h.html">Utils/AArch64BaseInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineCombinerPattern_8h.html">llvm/CodeGen/MachineCombinerPattern.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineMemOperand_8h.html">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineModuleInfo_8h.html">llvm/CodeGen/MachineModuleInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOperand_8h.html">llvm/CodeGen/MachineOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StackMaps_8h.html">llvm/CodeGen/StackMaps.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalValue_8h.html">llvm/IR/GlobalValue.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmInfo_8h.html">llvm/MC/MCAsmInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInst_8h.html">llvm/MC/MCInst.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInstBuilder_8h.html">llvm/MC/MCInstBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInstrDesc_8h.html">llvm/MC/MCInstrDesc.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeGen_8h.html">llvm/Support/CodeGen.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LEB128_8h.html">llvm/Support/LEB128.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOptions_8h.html">llvm/Target/TargetOptions.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a5d99008fb7e5cdc4774786d0743a2c4f">   57</a></span>&#160;<span class="preprocessor">#define GET_INSTRINFO_CTOR_DTOR</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;AArch64GenInstrInfo.inc&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="AArch64InstrInfo_8cpp.html#a8e8f53000ca7074ce5b8d4c836d3b4cb">TBZDisplacementBits</a>(</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="stringliteral">&quot;aarch64-tbz-offset-bits&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(14),</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Restrict range of TB[N]Z instructions (DEBUG)&quot;</span>));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="AArch64InstrInfo_8cpp.html#a84639a0d1d87c7eff7b7bb2535f80c3e">CBZDisplacementBits</a>(</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="stringliteral">&quot;aarch64-cbz-offset-bits&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(19),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Restrict range of CB[N]Z instructions (DEBUG)&quot;</span>));</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a1ae0afc417a86f5d88ba3198ddedd628">BCCDisplacementBits</a>(<span class="stringliteral">&quot;aarch64-bcc-offset-bits&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(19),</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                        <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Restrict range of Bcc instructions (DEBUG)&quot;</span>));</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a685d0f817c9260ea16202a9964652fe6">   72</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a685d0f817c9260ea16202a9964652fe6">AArch64InstrInfo::AArch64InstrInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1AArch64Subtarget.html">AArch64Subtarget</a> &amp;STI)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    : <a class="code" href="classAArch64GenInstrInfo.html">AArch64GenInstrInfo</a>(AArch64::ADJCALLSTACKDOWN, AArch64::ADJCALLSTACKUP,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                          AArch64::<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aec1078d911aabd272954b9125eaee6df">CATCHRET</a>),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      RI(STI.getTargetTriple()), Subtarget(STI) {}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">/// GetInstSize - Return the number of bytes of code the specified</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">/// instruction may be.  This returns the maximum number of bytes.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a1bf38b3bbe867377cde6e530a0256b29">   79</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a1bf38b3bbe867377cde6e530a0256b29">AArch64InstrInfo::getInstSizeInBytes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmInfo.html">MCAsmInfo</a> *MAI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a171c7253c2b03171bdf22c1bd910f674">getMCAsmInfo</a>();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">AArch64::INLINEASM</a> || <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136">AArch64::INLINEASM_BR</a>)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keywordflow">return</span> getInlineAsmLength(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getSymbolName(), *MAI);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// Meta-instructions emit no code.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isMetaInstruction())</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="comment">// FIXME: We currently only handle pseudoinstructions that don&#39;t get expanded</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">//        before the assembly printer.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">unsigned</span> NumBytes = 0;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">// Size should be preferably set in</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// llvm/lib/Target/AArch64/AArch64InstrInfo.td (default case).</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// Specific cases handle instructions of variable sizes</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">switch</span> (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>()) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#ad675c21464eb38c355e73c7f72f8160b">getSize</a>())</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">return</span> Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#ad675c21464eb38c355e73c7f72f8160b">getSize</a>();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// Anything not explicitly designated otherwise (i.e. pseudo-instructions</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// with fixed constant size but not specified in .td file) is a normal</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// 4-byte insn.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    NumBytes = 4;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad2904b2502547c3f3d390774f8f548c7">TargetOpcode::STACKMAP</a>:</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// The upper bound for a stackmap intrinsic is the full length of its shadow</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    NumBytes = <a class="code" href="classllvm_1_1StackMapOpers.html">StackMapOpers</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1StackMapOpers.html#a4330cae153bbaadcf79bb4917a6c3924">getNumPatchBytes</a>();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumBytes % 4 == 0 &amp;&amp; <span class="stringliteral">&quot;Invalid number of NOP bytes requested!&quot;</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa31dda85603496c333a105d53ce62150">TargetOpcode::PATCHPOINT</a>:</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// The size of the patchpoint intrinsic is the number of bytes requested</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    NumBytes = <a class="code" href="classllvm_1_1PatchPointOpers.html">PatchPointOpers</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1PatchPointOpers.html#aa319bb1da5a106c84bfa9a1fdca084bc">getNumPatchBytes</a>();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumBytes % 4 == 0 &amp;&amp; <span class="stringliteral">&quot;Invalid number of NOP bytes requested!&quot;</span>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">case</span> TargetOpcode::STATEPOINT:</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    NumBytes = <a class="code" href="classllvm_1_1StatepointOpers.html">StatepointOpers</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1StatepointOpers.html#a0eeee60ca2931edc9e1f653fbc66373c">getNumPatchBytes</a>();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumBytes % 4 == 0 &amp;&amp; <span class="stringliteral">&quot;Invalid number of NOP bytes requested!&quot;</span>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// No patch bytes means a normal call inst is emitted</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (NumBytes == 0)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      NumBytes = 4;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">case</span> AArch64::SPACE:</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    NumBytes = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">case</span> TargetOpcode::BUNDLE:</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    NumBytes = getInstBundleLength(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">return</span> NumBytes;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keywordtype">unsigned</span> AArch64InstrInfo::getInstBundleLength(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordtype">unsigned</span> Size = 0;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;instr_end();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">while</span> (++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isInsideBundle()) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isBundle() &amp;&amp; <span class="stringliteral">&quot;No nested bundle!&quot;</span>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    Size += <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a1bf38b3bbe867377cde6e530a0256b29">getInstSizeInBytes</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">return</span> Size;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#aae34e9ed9446266fe2dcc421cc67093f">  151</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="AArch64InstrInfo_8cpp.html#aae34e9ed9446266fe2dcc421cc67093f">parseCondBranch</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastInst, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;<a class="code" href="classllvm_1_1Target.html">Target</a>,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// Block ends with fall-through condbranch.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">switch</span> (LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown branch instruction?&quot;</span>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">case</span> AArch64::Bcc:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classllvm_1_1Target.html">Target</a> = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZW:</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZX:</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZW:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZX:</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="classllvm_1_1Target.html">Target</a> = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(-1));</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()));</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">case</span> AArch64::TBZW:</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">case</span> AArch64::TBZX:</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">case</span> AArch64::TBNZW:</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">case</span> AArch64::TBNZX:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classllvm_1_1Target.html">Target</a> = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(-1));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0));</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a4847fec83cba37133072e8930de7eb0e">  182</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a4847fec83cba37133072e8930de7eb0e">getBranchDisplacementBits</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unexpected opcode!&quot;</span>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">AArch64::B</a>:</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">return</span> 64;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">case</span> AArch64::TBNZW:</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">case</span> AArch64::TBZW:</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">case</span> AArch64::TBNZX:</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">case</span> AArch64::TBZX:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a8e8f53000ca7074ce5b8d4c836d3b4cb">TBZDisplacementBits</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZW:</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZW:</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZX:</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZX:</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a84639a0d1d87c7eff7b7bb2535f80c3e">CBZDisplacementBits</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">case</span> AArch64::Bcc:</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a1ae0afc417a86f5d88ba3198ddedd628">BCCDisplacementBits</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a2d997a80040d5eea603cf8ca302c2dbc">  203</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a2d997a80040d5eea603cf8ca302c2dbc">AArch64InstrInfo::isBranchOffsetInRange</a>(<span class="keywordtype">unsigned</span> BranchOp,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                             int64_t BrOffset)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a4847fec83cba37133072e8930de7eb0e">getBranchDisplacementBits</a>(BranchOp);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &gt;= 3 &amp;&amp; <span class="stringliteral">&quot;max branch displacement must be enough to jump&quot;</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                      <span class="stringliteral">&quot;over conditional branch expansion&quot;</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aad80b46c754cc7216244a866ec9b1cb0">isIntN</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, BrOffset / 4);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *</div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a15b71869ae17ba55cfb477020eaadc19">  212</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a15b71869ae17ba55cfb477020eaadc19">AArch64InstrInfo::getBranchDestBlock</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unexpected opcode!&quot;</span>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">AArch64::B</a>:</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getMBB();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">case</span> AArch64::TBZW:</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">case</span> AArch64::TBNZW:</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">case</span> AArch64::TBZX:</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">case</span> AArch64::TBNZX:</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getMBB();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZW:</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZW:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZX:</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZX:</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">case</span> AArch64::Bcc:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getMBB();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">// Branch analysis.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#aa61674464afddf4b2a24ab65f3833233">  233</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aa61674464afddf4b2a24ab65f3833233">AArch64InstrInfo::analyzeBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                     <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                     <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;FBB,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                     <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                     <span class="keywordtype">bool</span> AllowModify)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">// If the block has no terminators, it just falls into the block after it.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab8d7b8ff6803133d567fd4240e6364ce">getLastNonDebugInstr</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// Skip over SpeculationBarrierEndBB terminators</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == AArch64::SpeculationBarrierISBDSBEndBB ||</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == AArch64::SpeculationBarrierSBEndBB) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (!isUnpredicatedTerminator(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// Get the last instruction in the block.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastInst = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// If there is only one terminator instruction, process it.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordtype">unsigned</span> LastOpc = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() || !isUnpredicatedTerminator(*--<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(LastOpc)) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">isCondBranchOpcode</a>(LastOpc)) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">// Block ends with fall-through condbranch.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#aae34e9ed9446266fe2dcc421cc67093f">parseCondBranch</a>(LastInst, <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Can&#39;t handle indirect branch.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// Get the instruction before it if it is a terminator.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SecondLastInst = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordtype">unsigned</span> SecondLastOpc = SecondLastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// If AllowModify is true and the block ends with two or more unconditional</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// branches, delete all but the first unconditional branch.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">if</span> (AllowModify &amp;&amp; <a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(LastOpc)) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(SecondLastOpc)) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      LastInst = SecondLastInst;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      LastOpc = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() || !isUnpredicatedTerminator(*--<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="comment">// Return now the only terminator is an unconditional branch.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        SecondLastInst = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        SecondLastOpc = SecondLastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// If we&#39;re allowed to modify and the block ends in a unconditional branch</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// which could simply fallthrough, remove the branch.  (Note: This case only</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// matters when we can&#39;t understand the whole sequence, otherwise it&#39;s also</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// handled by BranchFolding.cpp.)</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (AllowModify &amp;&amp; <a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(LastOpc) &amp;&amp;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#abd85c9d7c51eb515a550069e9ad9445e">isLayoutSuccessor</a>(<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a15b71869ae17ba55cfb477020eaadc19">getBranchDestBlock</a>(*LastInst))) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    LastInst = SecondLastInst;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    LastOpc = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() || !isUnpredicatedTerminator(*--<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(LastOpc) &amp;&amp;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;             <span class="stringliteral">&quot;unreachable unconditional branches removed above&quot;</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">isCondBranchOpcode</a>(LastOpc)) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="comment">// Block ends with fall-through condbranch.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="AArch64InstrInfo_8cpp.html#aae34e9ed9446266fe2dcc421cc67093f">parseCondBranch</a>(LastInst, <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Can&#39;t handle indirect branch.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      SecondLastInst = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      SecondLastOpc = SecondLastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// If there are three terminators, we don&#39;t know what sort of block this is.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">if</span> (SecondLastInst &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() &amp;&amp; isUnpredicatedTerminator(*--<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// If the block ends with a B and a Bcc, handle it.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">isCondBranchOpcode</a>(SecondLastOpc) &amp;&amp; <a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(LastOpc)) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#aae34e9ed9446266fe2dcc421cc67093f">parseCondBranch</a>(SecondLastInst, <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    FBB = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="comment">// If the block ends with two unconditional branches, handle it.  The second</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">// one is not executed, so remove it.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(SecondLastOpc) &amp;&amp; <a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(LastOpc)) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = SecondLastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LastInst;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (AllowModify)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// ...likewise if it ends with an indirect branch followed by an unconditional</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// branch.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a25ebb5d5fa4431b1a1835d0a5f4e2796">isIndirectBranchOpcode</a>(SecondLastOpc) &amp;&amp; <a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(LastOpc)) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LastInst;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (AllowModify)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// Otherwise, can&#39;t handle this.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a51f54f2b0fd916f4c01b600905180782">  351</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a51f54f2b0fd916f4c01b600905180782">AArch64InstrInfo::analyzeBranchPredicate</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                              MachineBranchPredicate &amp;MBP,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                              <span class="keywordtype">bool</span> AllowModify)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="comment">// For the moment, handle only a block which ends with a cb(n)zx followed by</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// a fallthrough.  Why this?  Because it is a common form.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// TODO: Should we handle b.cc?</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab8d7b8ff6803133d567fd4240e6364ce">getLastNonDebugInstr</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// Skip over SpeculationBarrierEndBB terminators</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == AArch64::SpeculationBarrierISBDSBEndBB ||</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == AArch64::SpeculationBarrierSBEndBB) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">if</span> (!isUnpredicatedTerminator(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// Get the last instruction in the block.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastInst = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordtype">unsigned</span> LastOpc = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">isCondBranchOpcode</a>(LastOpc))</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">switch</span> (LastOpc) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZW:</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZX:</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZW:</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZX:</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  };</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  MBP.TrueDest = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MBP.TrueDest &amp;&amp; <span class="stringliteral">&quot;expected!&quot;</span>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  MBP.FalseDest = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  MBP.ConditionDef = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  MBP.SingleUseCondition = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  MBP.LHS = LastInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  MBP.RHS = <a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(0);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  MBP.Predicate = LastOpc == AArch64::CBNZX ? <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">MachineBranchPredicate::PRED_NE</a></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                            : <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">MachineBranchPredicate::PRED_EQ</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a7cca5afbdfdcb468161ffe0b888668d0">  401</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a7cca5afbdfdcb468161ffe0b888668d0">AArch64InstrInfo::reverseBranchCondition</a>(</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm() != -1) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// Regular Bcc</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = (<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a>)(<span class="keywordtype">int</span>)<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].setImm(<a class="code" href="namespacellvm_1_1AArch64CC.html#afc2ebeb83373be407903e43096e4f7b9">AArch64CC::getInvertedCondCode</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">// Folded compare-and-branch</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].getImm()) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown conditional branch!&quot;</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">case</span> AArch64::CBZW:</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].setImm(AArch64::CBNZW);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">case</span> AArch64::CBNZW:</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].setImm(AArch64::CBZW);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">case</span> AArch64::CBZX:</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].setImm(AArch64::CBNZX);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">case</span> AArch64::CBNZX:</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].setImm(AArch64::CBZX);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">case</span> AArch64::TBZW:</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].setImm(AArch64::TBNZW);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">case</span> AArch64::TBNZW:</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].setImm(AArch64::TBZW);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">case</span> AArch64::TBZX:</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].setImm(AArch64::TBNZX);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">case</span> AArch64::TBNZX:</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].setImm(AArch64::TBZX);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a94cd6ca17535844dc42503cc7b6f32ef">  442</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a94cd6ca17535844dc42503cc7b6f32ef">AArch64InstrInfo::removeBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                                        <span class="keywordtype">int</span> *BytesRemoved)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab8d7b8ff6803133d567fd4240e6364ce">getLastNonDebugInstr</a>();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode()) &amp;&amp;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      !<a class="code" href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">isCondBranchOpcode</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode()))</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">// Remove the branch.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (BytesRemoved)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      *BytesRemoved = 4;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">isCondBranchOpcode</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode())) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">if</span> (BytesRemoved)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      *BytesRemoved = 4;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="comment">// Remove the branch.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span> (BytesRemoved)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    *BytesRemoved = 8;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="keywordtype">void</span> AArch64InstrInfo::instantiateCondBranch(</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>,</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm() != -1) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">// Regular Bcc</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::Bcc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm()).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// Folded compare-and-branch</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">// Note that we use addOperand instead of addReg to keep the flags.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].getImm())).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[2]);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() &gt; 3)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[3].getImm());</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#ab8903896a25679d038ebd3e8769233f6">  494</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#ab8903896a25679d038ebd3e8769233f6">AArch64InstrInfo::insertBranch</a>(</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *FBB,</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <span class="keywordtype">int</span> *BytesAdded)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="comment">// Shouldn&#39;t be a fall through.</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> &amp;&amp; <span class="stringliteral">&quot;insertBranch must not be told to insert a fallthrough&quot;</span>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">if</span> (!FBB) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.empty()) <span class="comment">// Unconditional branch?</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">AArch64::B</a>)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      instantiateCondBranch(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (BytesAdded)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      *BytesAdded = 4;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// Two-way conditional branch.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  instantiateCondBranch(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">AArch64::B</a>)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(FBB);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">if</span> (BytesAdded)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    *BytesAdded = 8;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">// Find the original register that VReg is copied from.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a18f4a66d99dba4cf2a2c1054d796cf9c">  523</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a18f4a66d99dba4cf2a2c1054d796cf9c">removeCopies</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keywordtype">unsigned</span> VReg) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(VReg)) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(VReg);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a6ee45760c97bf2dda6bee91508e6946e">isFullCopy</a>())</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">return</span> VReg;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    VReg = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">return</span> VReg;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">// Determine if VReg is defined by an instruction that can be folded into a</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">// csel instruction. If so, return the folded opcode, and the replacement</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">// register.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#aef21a685c4183683271cbaa741991f12">  536</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="AArch64InstrInfo_8cpp.html#aef21a685c4183683271cbaa741991f12">canFoldIntoCSel</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keywordtype">unsigned</span> VReg,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                                <span class="keywordtype">unsigned</span> *NewVReg = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  VReg = <a class="code" href="AArch64InstrInfo_8cpp.html#a18f4a66d99dba4cf2a2c1054d796cf9c">removeCopies</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, VReg);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(VReg))</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordtype">bool</span> Is64Bit = AArch64::GPR64allRegClass.hasSubClassEq(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(VReg));</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(VReg);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordtype">unsigned</span> SrcOpNum = 0;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXri:</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWri:</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="comment">// if NZCV is used, do not fold.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(AArch64::NZCV, <span class="keyword">true</span>) == -1)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// fall-through to ADDXri and ADDWri.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXri:</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWri:</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">// add x, 1 -&gt; csinc.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() || <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() != 1 ||</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() != 0)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    SrcOpNum = 1;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    Opc = Is64Bit ? AArch64::CSINCXr : AArch64::CSINCWr;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">case</span> AArch64::ORNXrr:</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">case</span> AArch64::ORNWrr: {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// not x -&gt; csinv, represented as orn dst, xzr, src.</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordtype">unsigned</span> ZReg = <a class="code" href="AArch64InstrInfo_8cpp.html#a18f4a66d99dba4cf2a2c1054d796cf9c">removeCopies</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">if</span> (ZReg != AArch64::XZR &amp;&amp; ZReg != AArch64::WZR)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    SrcOpNum = 2;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    Opc = Is64Bit ? AArch64::CSINVXr : AArch64::CSINVWr;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrr:</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrr:</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">// if NZCV is used, do not fold.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(AArch64::NZCV, <span class="keyword">true</span>) == -1)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="comment">// fall-through to SUBXrr and SUBWrr.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrr:</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrr: {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// neg x -&gt; csneg, represented as sub dst, xzr, src.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordtype">unsigned</span> ZReg = <a class="code" href="AArch64InstrInfo_8cpp.html#a18f4a66d99dba4cf2a2c1054d796cf9c">removeCopies</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span> (ZReg != AArch64::XZR &amp;&amp; ZReg != AArch64::WZR)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    SrcOpNum = 2;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    Opc = Is64Bit ? AArch64::CSNEGXr : AArch64::CSNEGWr;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Opc &amp;&amp; SrcOpNum &amp;&amp; <span class="stringliteral">&quot;Missing parameters&quot;</span>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">if</span> (NewVReg)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    *NewVReg = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(SrcOpNum).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">return</span> Opc;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a2fe077e55074778fb173f0f5cc8f5ca2">  602</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a2fe077e55074778fb173f0f5cc8f5ca2">AArch64InstrInfo::canInsertSelect</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                                       <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                       <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg, <a class="code" href="classllvm_1_1Register.html">Register</a> TrueReg,</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                       <a class="code" href="classllvm_1_1Register.html">Register</a> FalseReg, <span class="keywordtype">int</span> &amp;CondCycles,</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                       <span class="keywordtype">int</span> &amp;TrueCycles,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                                       <span class="keywordtype">int</span> &amp;FalseCycles)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="comment">// Check register classes.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      RI.getCommonSubClass(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(TrueReg), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(FalseReg));</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">if</span> (!RC)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">// Also need to check the dest regclass, in case we&#39;re trying to optimize</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="comment">// something like:</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// %1(gpr) = PHI %2(fpr), bb1, %(fpr), bb2</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">if</span> (!RI.getCommonSubClass(RC, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(DstReg)))</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// Expanding cbz/tbz requires an extra cycle of latency on the condition.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordtype">unsigned</span> ExtraCondLat = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() != 1;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// GPRs are handled by csel.</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">// FIXME: Fold in x+1, -x, and ~x when applicable.</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (AArch64::GPR64allRegClass.hasSubClassEq(RC) ||</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      AArch64::GPR32allRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// Single-cycle csel, csinc, csinv, and csneg.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    CondCycles = 1 + ExtraCondLat;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    TrueCycles = FalseCycles = 1;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#aef21a685c4183683271cbaa741991f12">canFoldIntoCSel</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrueReg))</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      TrueCycles = 0;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#aef21a685c4183683271cbaa741991f12">canFoldIntoCSel</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, FalseReg))</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      FalseCycles = 0;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">// Scalar floating point is handled by fcsel.</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">// FIXME: Form fabs, fmin, and fmax when applicable.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (AArch64::FPR64RegClass.hasSubClassEq(RC) ||</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      AArch64::FPR32RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    CondCycles = 5 + ExtraCondLat;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    TrueCycles = FalseCycles = 2;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">// Can&#39;t do vectors.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a029c7ad54d8731492ed559aa860e3395">  651</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a029c7ad54d8731492ed559aa860e3395">AArch64InstrInfo::insertSelect</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                                    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg,</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                                    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                                    <a class="code" href="classllvm_1_1Register.html">Register</a> TrueReg, <a class="code" href="classllvm_1_1Register.html">Register</a> FalseReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">// Parse the condition code, see parseCondBranch() above.</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size()) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown condition opcode in Cond&quot;</span>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">case</span> 1: <span class="comment">// b.cc</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm());</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">case</span> 3: { <span class="comment">// cbz/cbnz</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">// We must insert a compare against 0.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordtype">bool</span> Is64Bit;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].getImm()) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown branch opcode in Cond&quot;</span>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">case</span> AArch64::CBZW:</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      Is64Bit = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a756347c46f7abfa1e1fefcc39502c680">AArch64CC::EQ</a>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">case</span> AArch64::CBZX:</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      Is64Bit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a756347c46f7abfa1e1fefcc39502c680">AArch64CC::EQ</a>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">case</span> AArch64::CBNZW:</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      Is64Bit = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f">AArch64CC::NE</a>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">case</span> AArch64::CBNZX:</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      Is64Bit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f">AArch64CC::NE</a>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[2].getReg();</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">if</span> (Is64Bit) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="comment">// cmp reg, #0 is actually subs xzr, reg, #0.</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg, &amp;AArch64::GPR64spRegClass);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::SUBSXri), AArch64::XZR)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg, &amp;AArch64::GPR32spRegClass);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::SUBSWri), AArch64::WZR)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">case</span> 4: { <span class="comment">// tbz/tbnz</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">// We must insert a tst instruction.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].getImm()) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown branch opcode in Cond&quot;</span>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">case</span> AArch64::TBZW:</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">case</span> AArch64::TBZX:</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a756347c46f7abfa1e1fefcc39502c680">AArch64CC::EQ</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">case</span> AArch64::TBNZW:</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">case</span> AArch64::TBNZX:</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f">AArch64CC::NE</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// cmp reg, #foo is actually ands xzr, reg, #1&lt;&lt;foo.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].getImm() == AArch64::TBZW || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].getImm() == AArch64::TBNZW)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ANDSWri), AArch64::WZR)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[2].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>())</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;              <a class="code" href="namespacellvm_1_1AArch64__AM.html#a832ad315a355f4ddcc32f189f34e28a9">AArch64_AM::encodeLogicalImmediate</a>(1ull &lt;&lt; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[3].getImm(), 32));</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ANDSXri), AArch64::XZR)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[2].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>())</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;              <a class="code" href="namespacellvm_1_1AArch64__AM.html#a832ad315a355f4ddcc32f189f34e28a9">AArch64_AM::encodeLogicalImmediate</a>(1ull &lt;&lt; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[3].getImm(), 64));</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordtype">bool</span> TryFold = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(DstReg, &amp;AArch64::GPR64RegClass)) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    RC = &amp;AArch64::GPR64RegClass;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    Opc = AArch64::CSELXr;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    TryFold = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(DstReg, &amp;AArch64::GPR32RegClass)) {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    RC = &amp;AArch64::GPR32RegClass;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    Opc = AArch64::CSELWr;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    TryFold = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(DstReg, &amp;AArch64::FPR64RegClass)) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    Opc = AArch64::FCSELDrrr;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(DstReg, &amp;AArch64::FPR32RegClass)) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    RC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    Opc = AArch64::FCSELSrrr;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RC &amp;&amp; <span class="stringliteral">&quot;Unsupported regclass&quot;</span>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="comment">// Try folding simple instructions into the csel.</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">if</span> (TryFold) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordtype">unsigned</span> NewVReg = 0;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordtype">unsigned</span> FoldedOpc = <a class="code" href="AArch64InstrInfo_8cpp.html#aef21a685c4183683271cbaa741991f12">canFoldIntoCSel</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrueReg, &amp;NewVReg);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">if</span> (FoldedOpc) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="comment">// The folded opcodes csinc, csinc and csneg apply the operation to</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="comment">// FalseReg, so we need to invert the condition.</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#afc2ebeb83373be407903e43096e4f7b9">AArch64CC::getInvertedCondCode</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      TrueReg = FalseReg;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      FoldedOpc = <a class="code" href="AArch64InstrInfo_8cpp.html#aef21a685c4183683271cbaa741991f12">canFoldIntoCSel</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, FalseReg, &amp;NewVReg);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// Fold the operation. Leave any dead instructions for DCE to clean up.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">if</span> (FoldedOpc) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      FalseReg = NewVReg;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      Opc = FoldedOpc;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="comment">// The extends the live range of NewVReg.</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a3da9727b1d452d6dcab08fde547ab634">clearKillFlags</a>(NewVReg);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">// Pull all virtual register into the appropriate class.</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(TrueReg, RC);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(FalseReg, RC);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// Insert the csel.</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc), DstReg)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">/// Returns true if a MOVi32imm or MOVi64imm can be expanded to an  ORRxx.</span></div>
<div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a1de3723766632d625fae11642a4583ae">  788</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a1de3723766632d625fae11642a4583ae">canBeExpandedToORR</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> BitSize) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm();</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> UImm = <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &lt;&lt; (64 - BitSize) &gt;&gt; (64 - BitSize);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Encoding;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a2cd3e23b97b495a98c0b723ab18e4d96">AArch64_AM::processLogicalImmediate</a>(UImm, BitSize, Encoding);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">// FIXME: this implementation should be micro-architecture dependent, so a</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">// micro-architecture target hook should be introduced here in future.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#ade267f03d50e04004e9ef2019ce25738">  797</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#ade267f03d50e04004e9ef2019ce25738">AArch64InstrInfo::isAsCheapAsAMove</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.hasCustomCheapAsMoveHandling())</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isAsCheapAsAMove();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="comment">// Firstly, check cases gated by features.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordflow">if</span> (Subtarget.hasZeroCycleZeroingFP()) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span> (Opcode == AArch64::FMOVH0 ||</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        Opcode == AArch64::FMOVS0 ||</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        Opcode == AArch64::FMOVD0)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordflow">if</span> (Subtarget.hasZeroCycleZeroingGP()) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (Opcode == TargetOpcode::COPY &amp;&amp;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == AArch64::WZR ||</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;         <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == AArch64::XZR))</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="comment">// Secondly, check cases specific to sub-targets.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">if</span> (Subtarget.hasExynosCheapAsMoveHandling()) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">if</span> (isExynosCheapAsMove(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isAsCheapAsAMove();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="comment">// Finally, check generic cases.</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="comment">// add/sub on register without shift</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWri:</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXri:</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWri:</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXri:</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm() == 0);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="comment">// logical ops on immediate</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDWri:</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDXri:</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordflow">case</span> AArch64::EORWri:</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="keywordflow">case</span> AArch64::EORXri:</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRWri:</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRXri:</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="comment">// logical ops on register without shift</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDWrr:</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDXrr:</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">case</span> AArch64::BICWrr:</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">case</span> AArch64::BICXrr:</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="keywordflow">case</span> AArch64::EONWrr:</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordflow">case</span> AArch64::EONXrr:</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">case</span> AArch64::EORWrr:</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">case</span> AArch64::EORXrr:</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordflow">case</span> AArch64::ORNWrr:</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keywordflow">case</span> AArch64::ORNXrr:</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRWrr:</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRXrr:</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="comment">// If MOVi32imm or MOVi64imm can be expanded into ORRWri or</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="comment">// ORRXri, it is as cheap as MOV</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="keywordflow">case</span> AArch64::MOVi32imm:</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a1de3723766632d625fae11642a4583ae">canBeExpandedToORR</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 32);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">case</span> AArch64::MOVi64imm:</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a1de3723766632d625fae11642a4583ae">canBeExpandedToORR</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 64);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown opcode to check as cheap as a move!&quot;</span>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;}</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a796a2f531a01a5d72a58920fa8ec61b9">  876</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a796a2f531a01a5d72a58920fa8ec61b9">AArch64InstrInfo::isFalkorShiftExtFast</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWrs:</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrs:</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrs:</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrs: {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordtype">unsigned</span> ShiftVal = <a class="code" href="namespacellvm_1_1AArch64__AM.html#a22f623563f43de6d1aabcdfa9d341031">AArch64_AM::getShiftValue</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">if</span> (ShiftVal == 0)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#adff7aee2baba9b9691304bee7e76f574">AArch64_AM::getShiftType</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) == <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a1d97e13eb9923037fe733eda83b7f938">AArch64_AM::LSL</a> &amp;&amp; ShiftVal &lt;= 5;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWrx:</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrx:</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrx64:</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrx:</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrx:</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrx64: {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1AArch64__AM.html#ad45de36bc238edb61ed6b9375030f62f">AArch64_AM::getArithExtendType</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a59dcdcd32661c3deea19d0b4c00aeb09">AArch64_AM::UXTB</a>:</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a822b65b0f419881e5f0352e2f4f33d29">AArch64_AM::UXTH</a>:</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a2620d8167a503c9942cc4afded7f830d">AArch64_AM::UXTW</a>:</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1ad2f6771d4027a09ba1d0de2e5ea54470">AArch64_AM::UXTX</a>:</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a529c6b94f32165c3d420316bcb6e0d9e">AArch64_AM::getArithShiftValue</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &lt;= 4;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrs:</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrs: {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordtype">unsigned</span> ShiftVal = <a class="code" href="namespacellvm_1_1AArch64__AM.html#a22f623563f43de6d1aabcdfa9d341031">AArch64_AM::getShiftValue</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">return</span> ShiftVal == 0 ||</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;           (<a class="code" href="namespacellvm_1_1AArch64__AM.html#adff7aee2baba9b9691304bee7e76f574">AArch64_AM::getShiftType</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) == <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a2f11475361161d9ce95a2f7be74de342">AArch64_AM::ASR</a> &amp;&amp; ShiftVal == 31);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrs:</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrs: {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordtype">unsigned</span> ShiftVal = <a class="code" href="namespacellvm_1_1AArch64__AM.html#a22f623563f43de6d1aabcdfa9d341031">AArch64_AM::getShiftValue</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">return</span> ShiftVal == 0 ||</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;           (<a class="code" href="namespacellvm_1_1AArch64__AM.html#adff7aee2baba9b9691304bee7e76f574">AArch64_AM::getShiftType</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) == <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a2f11475361161d9ce95a2f7be74de342">AArch64_AM::ASR</a> &amp;&amp; ShiftVal == 63);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrx:</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrx:</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrx64:</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrx:</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrx:</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrx64: {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1AArch64__AM.html#ad45de36bc238edb61ed6b9375030f62f">AArch64_AM::getArithExtendType</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a59dcdcd32661c3deea19d0b4c00aeb09">AArch64_AM::UXTB</a>:</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a822b65b0f419881e5f0352e2f4f33d29">AArch64_AM::UXTH</a>:</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a2620d8167a503c9942cc4afded7f830d">AArch64_AM::UXTW</a>:</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1ad2f6771d4027a09ba1d0de2e5ea54470">AArch64_AM::UXTX</a>:</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a529c6b94f32165c3d420316bcb6e0d9e">AArch64_AM::getArithShiftValue</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) == 0;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBBroW:</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBBroX:</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBroW:</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBroX:</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDroW:</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDroX:</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHHroW:</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHHroX:</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHroW:</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHroX:</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQroW:</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQroX:</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSBWroW:</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSBWroX:</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSBXroW:</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSBXroX:</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSHWroW:</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSHWroX:</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSHXroW:</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSHXroX:</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSWroW:</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSWroX:</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSroW:</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSroX:</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWroW:</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWroX:</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXroW:</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXroX:</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordflow">case</span> AArch64::PRFMroW:</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">case</span> AArch64::PRFMroX:</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBBroW:</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBBroX:</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBroW:</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBroX:</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDroW:</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDroX:</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHHroW:</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHHroX:</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHroW:</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHroX:</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQroW:</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQroX:</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSroW:</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSroX:</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWroW:</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWroX:</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXroW:</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXroX: {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordtype">unsigned</span> IsSigned = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">return</span> !IsSigned;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;}</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a52619cc1f9c5c3029a03a6c956b32595">  998</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a52619cc1f9c5c3029a03a6c956b32595">AArch64InstrInfo::isSEHInstruction</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_StackAlloc:</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveFPLR:</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveFPLR_X:</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveReg:</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveReg_X:</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveRegP:</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveRegP_X:</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveFReg:</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveFReg_X:</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveFRegP:</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SaveFRegP_X:</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_SetFP:</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_AddFP:</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_Nop:</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_PrologEnd:</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_EpilogStart:</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_EpilogEnd:</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">case</span> AArch64::SEH_PACSignLR:</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;}</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a3477f1dd30b1caa79a5216523b50ce8c"> 1025</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a3477f1dd30b1caa79a5216523b50ce8c">AArch64InstrInfo::isCoalescableExtInstr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                                             <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;SrcReg, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;DstReg,</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                                             <span class="keywordtype">unsigned</span> &amp;SubIdx)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">case</span> AArch64::SBFMXri: <span class="comment">// aka sxtw</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordflow">case</span> AArch64::UBFMXri: <span class="comment">// aka uxtw</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="comment">// Check for the 32 -&gt; 64 bit extension case, these instructions can do</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">// much more.</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm() != 0 || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm() != 31)</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">// This is a signed or unsigned 32 -&gt; 64 bit extension.</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    DstReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    SubIdx = AArch64::sub_32;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;}</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a23fc03605ab508eb40a5fb968a78e139"> 1045</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23fc03605ab508eb40a5fb968a78e139">AArch64InstrInfo::areMemAccessesTriviallyDisjoint</a>(</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MIa, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MIb)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *BaseOpA = <span class="keyword">nullptr</span>, *BaseOpB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  int64_t OffsetA = 0, OffsetB = 0;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordtype">unsigned</span> WidthA = 0, WidthB = 0;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordtype">bool</span> OffsetAIsScalable = <span class="keyword">false</span>, OffsetBIsScalable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MIa.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>() &amp;&amp; <span class="stringliteral">&quot;MIa must be a load or store.&quot;</span>);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MIb.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>() &amp;&amp; <span class="stringliteral">&quot;MIb must be a load or store.&quot;</span>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordflow">if</span> (MIa.<a class="code" href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">hasUnmodeledSideEffects</a>() || MIb.<a class="code" href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">hasUnmodeledSideEffects</a>() ||</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      MIa.<a class="code" href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">hasOrderedMemoryRef</a>() || MIb.<a class="code" href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">hasOrderedMemoryRef</a>())</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="comment">// Retrieve the base, offset from the base and width. Width</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="comment">// is the size of memory that is being loaded/stored (e.g. 1, 2, 4, 8).  If</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="comment">// base are identical, and the offset of a lower memory access +</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="comment">// the width doesn&#39;t overlap the offset of a higher memory access,</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="comment">// then the memory accesses are different.</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">// If OffsetAIsScalable and OffsetBIsScalable are both true, they</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// are assumed to have the same scale (vscale).</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a1e330d75233f2f61fdb64b374f55ee04">getMemOperandWithOffsetWidth</a>(MIa, BaseOpA, OffsetA, OffsetAIsScalable,</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                                   WidthA, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) &amp;&amp;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a1e330d75233f2f61fdb64b374f55ee04">getMemOperandWithOffsetWidth</a>(MIb, BaseOpB, OffsetB, OffsetBIsScalable,</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                                   WidthB, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">if</span> (BaseOpA-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">isIdenticalTo</a>(*BaseOpB) &amp;&amp;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        OffsetAIsScalable == OffsetBIsScalable) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="keywordtype">int</span> LowOffset = OffsetA &lt; OffsetB ? OffsetA : OffsetB;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordtype">int</span> HighOffset = OffsetA &lt; OffsetB ? OffsetB : OffsetA;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <span class="keywordtype">int</span> LowWidth = (LowOffset == OffsetA) ? WidthA : WidthB;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="keywordflow">if</span> (LowOffset + LowWidth &lt;= HighOffset)</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  }</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;}</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#ab46fe6f7eb24fe0268c273a28452ecba"> 1083</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#ab46fe6f7eb24fe0268c273a28452ecba">AArch64InstrInfo::isSchedulingBoundary</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetInstrInfo.html#ad071e937f4986e51fd3fd54b10888894">TargetInstrInfo::isSchedulingBoundary</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MF))</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">case</span> AArch64::HINT:</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="comment">// CSDB hints are scheduling barriers.</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getImm() == 0x14)</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordflow">case</span> AArch64::DSB:</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordflow">case</span> AArch64::ISB:</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">// DSB and ISB also are scheduling barriers.</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">case</span> AArch64::MSRpstatesvcrImm1:</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="comment">// SMSTART and SMSTOP are also scheduling barriers.</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">default</span>:;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a52619cc1f9c5c3029a03a6c956b32595">isSEHInstruction</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keyword">auto</span> Next = std::next(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator());</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">return</span> Next != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; Next-&gt;isCFIInstruction();</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment">/// analyzeCompare - For a comparison instruction, return the source registers</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment">/// in SrcReg and SrcReg2, and the value it compares against in CmpValue.</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">/// Return true if the comparison instruction can be analyzed.</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#ad11fff0bd7672635d1cabedca7be31c6"> 1112</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#ad11fff0bd7672635d1cabedca7be31c6">AArch64InstrInfo::analyzeCompare</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;SrcReg,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                                      <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;SrcReg2, int64_t &amp;CmpMask,</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                                      int64_t &amp;CmpValue)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="comment">// The first operand can be a frame index where we&#39;d normally expect a</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="comment">// register.</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() &gt;= 2 &amp;&amp; <span class="stringliteral">&quot;All AArch64 cmps should have 2 operands&quot;</span>);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isReg())</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">case</span> AArch64::PTEST_PP:</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="keywordflow">case</span> AArch64::PTEST_PP_ANY:</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    SrcReg2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="comment">// Not sure about the mask and value for now...</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    CmpMask = ~0;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    CmpValue = 0;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrr:</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrs:</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrx:</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrr:</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrs:</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrx:</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrr:</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrs:</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrx:</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrr:</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrs:</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrx:</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="comment">// Replace SUBSWrr with SUBWrr if NZCV is not used.</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    SrcReg2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getReg();</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    CmpMask = ~0;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    CmpValue = 0;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWri:</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWri:</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXri:</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXri:</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    SrcReg2 = 0;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    CmpMask = ~0;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    CmpValue = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDSWri:</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDSXri:</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="comment">// ANDS does not use the same encoding scheme as the others xxxS</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="comment">// instructions.</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    SrcReg2 = 0;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    CmpMask = ~0;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    CmpValue = <a class="code" href="namespacellvm_1_1AArch64__AM.html#a1affd6d7e8a280fa6a0b642a6e0734b8">AArch64_AM::decodeLogicalImmediate</a>(</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                   <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm(),</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                   <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AArch64::ANDSWri ? 32 : 64);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;}</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a77dea00ee37a964ad5edf6072fb35071"> 1175</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a77dea00ee37a964ad5edf6072fb35071">UpdateOperandRegClass</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> &amp;&amp; <span class="stringliteral">&quot;Can&#39;t get MachineBasicBlock here&quot;</span>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MF &amp;&amp; <span class="stringliteral">&quot;Can&#39;t get MachineFunction here&quot;</span>);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OpIdx = 0, EndIdx = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">getNumOperands</a>(); OpIdx &lt; EndIdx;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;       ++OpIdx) {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(OpIdx);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *OpRegCstraints =</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        Instr.<a class="code" href="classllvm_1_1MachineInstr.html#af551bfe7ee8756cbe50de3bb97478723">getRegClassConstraint</a>(OpIdx, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="comment">// If there&#39;s no constraint, there&#39;s nothing to do.</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">if</span> (!OpRegCstraints)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">// If the operand is a frame index, there&#39;s nothing to do here.</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="comment">// A frame index operand will resolve correctly during PEI.</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>())</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;           <span class="stringliteral">&quot;Operand has register constraints without being a register!&quot;</span>);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isPhysical()) {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="keywordflow">if</span> (!OpRegCstraints-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!OpRegCstraints-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a8ea8ce186fc4a70ad542e74d015d84ed">hasSubClassEq</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) &amp;&amp;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;               !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, OpRegCstraints))</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;}</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="comment">/// Return the opcode that does not set flags when possible - otherwise</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment">/// return the original opcode. The caller is responsible to do the actual</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment">/// substitution and legality checking.</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#aa3d936cb9197b15ae6b41f8a52592961"> 1216</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="AArch64InstrInfo_8cpp.html#aa3d936cb9197b15ae6b41f8a52592961">convertToNonFlagSettingOpc</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// Don&#39;t convert all compare instructions, because for some the zero register</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="comment">// encoding becomes the sp register.</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="keywordtype">bool</span> MIDefinesZeroReg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.definesRegister(AArch64::WZR) || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.definesRegister(AArch64::XZR))</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    MIDefinesZeroReg = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrr:</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDWrr;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWri:</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">return</span> MIDefinesZeroReg ? AArch64::ADDSWri : AArch64::ADDWri;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrs:</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">return</span> MIDefinesZeroReg ? AArch64::ADDSWrs : AArch64::ADDWrs;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrx:</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDWrx;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrr:</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDXrr;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXri:</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">return</span> MIDefinesZeroReg ? AArch64::ADDSXri : AArch64::ADDXri;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrs:</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordflow">return</span> MIDefinesZeroReg ? AArch64::ADDSXrs : AArch64::ADDXrs;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrx:</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDXrx;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrr:</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBWrr;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWri:</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">return</span> MIDefinesZeroReg ? AArch64::SUBSWri : AArch64::SUBWri;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrs:</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">return</span> MIDefinesZeroReg ? AArch64::SUBSWrs : AArch64::SUBWrs;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrx:</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBWrx;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrr:</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBXrr;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXri:</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">return</span> MIDefinesZeroReg ? AArch64::SUBSXri : AArch64::SUBXri;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrs:</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">return</span> MIDefinesZeroReg ? AArch64::SUBSXrs : AArch64::SUBXrs;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrx:</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBXrx;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;}</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847ad95a443441a0fd8b5fffc844eb6fabc3"> 1261</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847">AccessKind</a> { <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847ad95a443441a0fd8b5fffc844eb6fabc3">AK_Write</a> = 0x01, <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847af7122e781d4583ad1b055afbfee22794">AK_Read</a> = 0x10, <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847a4674dbc301d67e19366ba51f76b75720">AK_All</a> = 0x11 };</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">/// True when condition flags are accessed (either by writing or reading)</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment">/// on the instruction trace starting at From and ending at To.</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">/// Note: If From and To are from different blocks it&#39;s assumed CC are accessed</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">///       on the path.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a19a5a038e1b77984ca9710992b68b938"> 1268</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a19a5a038e1b77984ca9710992b68b938">areCFlagsAccessedBetweenInstrs</a>(</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> To,</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <span class="keyword">const</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847">AccessKind</a> AccessToCheck = <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847a4674dbc301d67e19366ba51f76b75720">AK_All</a>) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="comment">// Early exit if To is at the beginning of the BB.</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordflow">if</span> (To == To-&gt;getParent()-&gt;begin())</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="comment">// Check whether the instructions are in the same basic block</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="comment">// If not, assume the condition flags might get modified somewhere.</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordflow">if</span> (To-&gt;getParent() != <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getParent())</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="comment">// From must be above To.</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">std::any_of</a>(</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      ++To.<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html#a13dd64c40d9f175e578ade3ef60ea351">getReverse</a>(), To-&gt;getParent()-&gt;rend(),</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      [<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>](<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) { return MI.getIterator() == From; }));</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="comment">// We iterate backward starting at \p To until we hit \p From.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr :</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;       <a class="code" href="namespacellvm.html#a90f68a1fc5d44bb06164dc2188b8e486">instructionsWithoutDebug</a>(++To.<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html#a13dd64c40d9f175e578ade3ef60ea351">getReverse</a>(), <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>.getReverse())) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">if</span> (((AccessToCheck &amp; <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847ad95a443441a0fd8b5fffc844eb6fabc3">AK_Write</a>) &amp;&amp;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;         Instr.modifiesRegister(AArch64::NZCV, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) ||</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        ((AccessToCheck &amp; <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847af7122e781d4583ad1b055afbfee22794">AK_Read</a>) &amp;&amp; Instr.readsRegister(AArch64::NZCV, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)))</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;}</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">/// optimizePTestInstr - Attempt to remove a ptest of a predicate-generating</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment">/// operation which could set the flags in an identical manner</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> AArch64InstrInfo::optimizePTestInstr(</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *PTest, <span class="keywordtype">unsigned</span> MaskReg, <span class="keywordtype">unsigned</span> PredReg,</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(MaskReg);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="keyword">auto</span> *Pred = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(PredReg);</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keyword">auto</span> NewOp = Pred-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="keywordtype">bool</span> OpChanged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="keywordtype">unsigned</span> MaskOpcode = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>-&gt;getOpcode();</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordtype">unsigned</span> PredOpcode = Pred-&gt;getOpcode();</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keywordtype">bool</span> PredIsPTestLike = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af93867ed83dede2b0063fbaa26a3086d">isPTestLikeOpcode</a>(PredOpcode);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keywordtype">bool</span> PredIsWhileLike = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a38f8066c29c8c7afd3906d08e8407282">isWhileOpcode</a>(PredOpcode);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a133ece1ebe8f30b0e292213ab8c16753">isPTrueOpcode</a>(MaskOpcode) &amp;&amp; (PredIsPTestLike || PredIsWhileLike) &amp;&amp;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a225bf56c837056189e19a6d525e9a93a">getElementSizeForOpcode</a>(MaskOpcode) ==</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;          <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a225bf56c837056189e19a6d525e9a93a">getElementSizeForOpcode</a>(PredOpcode) &amp;&amp;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>-&gt;getOperand(1).getImm() == 31) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="comment">// For PTEST(PTRUE_ALL, WHILE), if the element size matches, the PTEST is</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="comment">// redundant since WHILE performs an implicit PTEST with an all active</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="comment">// mask. Must be an all active predicate of matching element size.</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="comment">// For PTEST(PTRUE_ALL, PTEST_LIKE), the PTEST is redundant if the</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="comment">// PTEST_LIKE instruction uses the same all active mask and the element</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="comment">// size matches. If the PTEST has a condition of any then it is always</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="comment">// redundant.</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">if</span> (PredIsPTestLike) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="keyword">auto</span> PTestLikeMask = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Pred-&gt;getOperand(1).getReg());</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> != PTestLikeMask &amp;&amp; PTest-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() != AArch64::PTEST_PP_ANY)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="comment">// Fallthough to simply remove the PTEST.</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> == Pred) &amp;&amp; (PredIsPTestLike || PredIsWhileLike) &amp;&amp;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;             PTest-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AArch64::PTEST_PP_ANY) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="comment">// For PTEST(PG, PG), PTEST is redundant when PG is the result of an</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="comment">// instruction that sets the flags as PTEST would. This is only valid when</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="comment">// the condition is any.</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="comment">// Fallthough to simply remove the PTEST.</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PredIsPTestLike) {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="comment">// For PTEST(PG, PTEST_LIKE(PG, ...)), the PTEST is redundant since the</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="comment">// flags are set based on the same mask &#39;PG&#39;, but PTEST_LIKE must operate</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="comment">// on 8-bit predicates like the PTEST.  Otherwise, for instructions like</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="comment">// compare that also support 16/32/64-bit predicates, the implicit PTEST</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="comment">// performed by the compare could consider fewer lanes for these element</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="comment">// sizes.</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="comment">// For example, consider</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="comment">//   ptrue p0.b                    ; P0=1111-1111-1111-1111</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="comment">//   index z0.s, #0, #1            ; Z0=&lt;0,1,2,3&gt;</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="comment">//   index z1.s, #1, #1            ; Z1=&lt;1,2,3,4&gt;</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="comment">//   cmphi p1.s, p0/z, z1.s, z0.s  ; P1=0001-0001-0001-0001</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="comment">//                                 ;       ^ last active</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="comment">//   ptest p0, p1.b                ; P1=0001-0001-0001-0001</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="comment">//                                 ;     ^ last active</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="comment">// where the compare generates a canonical all active 32-bit predicate</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="comment">// (equivalent to &#39;ptrue p1.s, all&#39;). The implicit PTEST sets the last</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="comment">// active flag, whereas the PTEST instruction with the same mask doesn&#39;t.</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="comment">// For PTEST_ANY this doesn&#39;t apply as the flags in this case would be</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="comment">// identical regardless of element size.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keyword">auto</span> PTestLikeMask = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Pred-&gt;getOperand(1).getReg());</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> PredElementSize = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a225bf56c837056189e19a6d525e9a93a">getElementSizeForOpcode</a>(PredOpcode);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> != PTestLikeMask) ||</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        (PredElementSize != <a class="code" href="namespacellvm_1_1AArch64.html#a2a41a022b24374a579418d7d2476e6daa86e49744f5bdd2e0dde6362eb361c36f">AArch64::ElementSizeB</a> &amp;&amp;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;         PTest-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() != AArch64::PTEST_PP_ANY))</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="comment">// Fallthough to simply remove the PTEST.</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="comment">// If OP in PTEST(PG, OP(PG, ...)) has a flag-setting variant change the</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="comment">// opcode so the PTEST becomes redundant.</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">switch</span> (PredOpcode) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">case</span> AArch64::AND_PPzPP:</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">case</span> AArch64::BIC_PPzPP:</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">case</span> AArch64::EOR_PPzPP:</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordflow">case</span> AArch64::NAND_PPzPP:</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">case</span> AArch64::NOR_PPzPP:</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">case</span> AArch64::ORN_PPzPP:</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">case</span> AArch64::ORR_PPzPP:</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">case</span> AArch64::BRKA_PPzP:</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">case</span> AArch64::BRKPA_PPzPP:</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">case</span> AArch64::BRKB_PPzP:</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">case</span> AArch64::BRKPB_PPzPP:</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">case</span> AArch64::RDFFR_PPz: {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="comment">// Check to see if our mask is the same. If not the resulting flag bits</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="comment">// may be different and we can&#39;t remove the ptest.</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="keyword">auto</span> *PredMask = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Pred-&gt;getOperand(1).getReg());</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> != PredMask)</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">case</span> AArch64::BRKN_PPzP: {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="comment">// BRKN uses an all active implicit mask to set flags unlike the other</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="comment">// flag-setting instructions.</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="comment">// PTEST(PTRUE_B(31), BRKN(PG, A, B)) -&gt; BRKNS(PG, A, B).</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="keywordflow">if</span> ((MaskOpcode != AArch64::PTRUE_B) ||</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;          (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>-&gt;getOperand(1).getImm() != 31))</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">case</span> AArch64::PTRUE_B:</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      <span class="comment">// PTEST(OP=PTRUE_B(A), OP) -&gt; PTRUES_B(A)</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <span class="comment">// Bail out if we don&#39;t recognize the input</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    NewOp = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a2aa16f9d03ff7a4744cc7b83b4c39ec4">convertToFlagSettingOpc</a>(PredOpcode);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    OpChanged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="comment">// If another instruction between Pred and PTest accesses flags, don&#39;t remove</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="comment">// the ptest or update the earlier instruction to modify them.</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a19a5a038e1b77984ca9710992b68b938">areCFlagsAccessedBetweenInstrs</a>(Pred, PTest, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="comment">// If we pass all the checks, it&#39;s safe to remove the PTEST and use the flags</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="comment">// as they are prior to PTEST. Sometimes this requires the tested PTEST</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="comment">// operand to be replaced with an equivalent instruction that also sets the</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="comment">// flags.</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  Pred-&gt;setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOp));</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  PTest-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">if</span> (OpChanged) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordtype">bool</span> succeeded = <a class="code" href="AArch64InstrInfo_8cpp.html#a77dea00ee37a964ad5edf6072fb35071">UpdateOperandRegClass</a>(*Pred);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    (void)succeeded;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(succeeded &amp;&amp; <span class="stringliteral">&quot;Operands have incompatible register classes!&quot;</span>);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    Pred-&gt;addRegisterDefined(AArch64::NZCV, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="comment">// Ensure that the flags def is live.</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="keywordflow">if</span> (Pred-&gt;registerDefIsDead(AArch64::NZCV, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Pred-&gt;getNumOperands();</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = Pred-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AArch64::NZCV) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        MO.<a class="code" href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">setIsDead</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  }</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;}</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="comment">/// Try to optimize a compare instruction. A compare instruction is an</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="comment">/// instruction which produces AArch64::NZCV. It can be truly compare</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="comment">/// instruction</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="comment">/// when there are no uses of its destination register.</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="comment">/// The following steps are tried in order:</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="comment">/// 1. Convert CmpInstr into an unconditional version.</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">/// 2. Remove CmpInstr if above there is an instruction producing a needed</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="comment">///    condition code or an instruction which can be converted into such an</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="comment">///    instruction.</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="comment">///    Only comparison with zero is supported.</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#abc0f8152bb9c4cdd79a31196933bb5df"> 1457</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#abc0f8152bb9c4cdd79a31196933bb5df">AArch64InstrInfo::optimizeCompareInstr</a>(</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CmpInstr, <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg, <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg2, int64_t CmpMask,</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    int64_t CmpValue, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>());</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="comment">// Replace SUBSWrr with SUBWrr if NZCV is not used.</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordtype">int</span> DeadNZCVIdx = CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(AArch64::NZCV, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">if</span> (DeadNZCVIdx != -1) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordflow">if</span> (CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#aabed741772b1be65069d9274446a914d">definesRegister</a>(AArch64::WZR) ||</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#aabed741772b1be65069d9274446a914d">definesRegister</a>(AArch64::XZR)) {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    }</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordtype">unsigned</span> Opc = CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc = <a class="code" href="AArch64InstrInfo_8cpp.html#aa3d936cb9197b15ae6b41f8a52592961">convertToNonFlagSettingOpc</a>(CmpInstr);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordflow">if</span> (NewOpc == Opc)</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">setDesc</a>(MCID);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">removeOperand</a>(DeadNZCVIdx);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordtype">bool</span> succeeded = <a class="code" href="AArch64InstrInfo_8cpp.html#a77dea00ee37a964ad5edf6072fb35071">UpdateOperandRegClass</a>(CmpInstr);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    (void)succeeded;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(succeeded &amp;&amp; <span class="stringliteral">&quot;Some operands reg class are incompatible!&quot;</span>);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  }</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="keywordflow">if</span> (CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AArch64::PTEST_PP ||</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AArch64::PTEST_PP_ANY)</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">return</span> optimizePTestInstr(&amp;CmpInstr, SrcReg, SrcReg2, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">if</span> (SrcReg2 != 0)</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="comment">// CmpInstr is a Compare instruction if destination register is not used.</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">use_nodbg_empty</a>(CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keywordflow">if</span> (CmpValue == 0 &amp;&amp; substituteCmpToZero(CmpInstr, SrcReg, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>))</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">return</span> (CmpValue == 0 || CmpValue == 1) &amp;&amp;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;         removeCmpToZeroOrOne(CmpInstr, SrcReg, CmpValue, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment">/// Get opcode of S version of Instr.</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="comment">/// If Instr is S version its opcode is returned.</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="comment">/// AArch64::INSTRUCTION_LIST_END is returned if Instr does not have S version</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="comment">/// or we are not interested in it.</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a30270b20b168cbb68c654812dd91db96"> 1505</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a30270b20b168cbb68c654812dd91db96">sForm</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="keywordflow">switch</span> (Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">return</span> AArch64::INSTRUCTION_LIST_END;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrr:</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWri:</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrr:</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXri:</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrr:</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWri:</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrr:</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXri:</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keywordflow">return</span> Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWrr:</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSWrr;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWri:</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSWri;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrr:</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSXrr;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXri:</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSXri;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordflow">case</span> AArch64::ADCWr:</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">return</span> AArch64::ADCSWr;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">case</span> AArch64::ADCXr:</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="keywordflow">return</span> AArch64::ADCSXr;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrr:</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSWrr;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWri:</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSWri;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrr:</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSXrr;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXri:</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSXri;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">case</span> AArch64::SBCWr:</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">return</span> AArch64::SBCSWr;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keywordflow">case</span> AArch64::SBCXr:</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <span class="keywordflow">return</span> AArch64::SBCSXr;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDWri:</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keywordflow">return</span> AArch64::ANDSWri;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDXri:</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">return</span> AArch64::ANDSXri;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;}</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">/// Check if AArch64::NZCV should be alive in successors of MBB.</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae8cec029e7a55bb4cc72a055c5f7b641"> 1552</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ae8cec029e7a55bb4cc72a055c5f7b641">areCFlagsAliveInSuccessors</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">successors</a>())</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;isLiveIn(AArch64::NZCV))</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;}</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="comment">/// \returns The condition code operand index for \p Instr if it is a branch</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment">/// or select and -1 otherwise.</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a3fefa051734eb13c5ee1a4741fe03310"> 1562</a></span>&#160;<a class="code" href="AArch64InstrInfo_8cpp.html#a3fefa051734eb13c5ee1a4741fe03310">findCondCodeUseOperandIdxForBranchOrSelect</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr) {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">switch</span> (Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">case</span> AArch64::Bcc: {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordtype">int</span> Idx = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a0012f75cbba71c9c29aac592ff3d6400">findRegisterUseOperandIdx</a>(AArch64::NZCV);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx &gt;= 2);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">return</span> Idx - 2;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="keywordflow">case</span> AArch64::CSINVWr:</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="keywordflow">case</span> AArch64::CSINVXr:</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordflow">case</span> AArch64::CSINCWr:</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="keywordflow">case</span> AArch64::CSINCXr:</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="keywordflow">case</span> AArch64::CSELWr:</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keywordflow">case</span> AArch64::CSELXr:</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keywordflow">case</span> AArch64::CSNEGWr:</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordflow">case</span> AArch64::CSNEGXr:</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <span class="keywordflow">case</span> AArch64::FCSELSrrr:</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keywordflow">case</span> AArch64::FCSELDrrr: {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordtype">int</span> Idx = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a0012f75cbba71c9c29aac592ff3d6400">findRegisterUseOperandIdx</a>(AArch64::NZCV);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx &gt;= 1);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">return</span> Idx - 1;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;}</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">/// Find a condition code used by the instruction.</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment">/// Returns AArch64CC::Invalid if either the instruction does not use condition</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment">/// codes or we don&#39;t optimize CmpInstr in the presence of such instructions.</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a088e2740f3c34806eb6ecdf02a03a958"> 1593</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a> <a class="code" href="AArch64InstrInfo_8cpp.html#a088e2740f3c34806eb6ecdf02a03a958">findCondCodeUsedByInstr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordtype">int</span> CCIdx = <a class="code" href="AArch64InstrInfo_8cpp.html#a3fefa051734eb13c5ee1a4741fe03310">findCondCodeUseOperandIdxForBranchOrSelect</a>(Instr);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordflow">return</span> CCIdx &gt;= 0 ? <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                          Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(CCIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>())</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                    : <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aef225b7df5953a2942e07071d0013eb0">AArch64CC::Invalid</a>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;}</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a833c45aff4e26b616764ec936994bf45"> 1600</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1UsedNZCV.html">UsedNZCV</a> <a class="code" href="AArch64InstrInfo_8cpp.html#a833c45aff4e26b616764ec936994bf45">getUsedNZCV</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>) {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> != <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aef225b7df5953a2942e07071d0013eb0">AArch64CC::Invalid</a>);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <a class="code" href="structllvm_1_1UsedNZCV.html">UsedNZCV</a> UsedFlags;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a756347c46f7abfa1e1fefcc39502c680">AArch64CC::EQ</a>: <span class="comment">// Z set</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f">AArch64CC::NE</a>: <span class="comment">// Z clear</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    UsedFlags.<a class="code" href="structllvm_1_1UsedNZCV.html#af3f54f8d3913945d66d952527d20a025">Z</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aa5506efe3dc67f7b794331f0cbffddaf">AArch64CC::HI</a>: <span class="comment">// Z clear and C set</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">AArch64CC::LS</a>: <span class="comment">// Z set   or  C clear</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    UsedFlags.<a class="code" href="structllvm_1_1UsedNZCV.html#af3f54f8d3913945d66d952527d20a025">Z</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630">AArch64CC::HS</a>: <span class="comment">// C set</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab620924321db413fcc748afe522c2303">AArch64CC::LO</a>: <span class="comment">// C clear</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    UsedFlags.<a class="code" href="structllvm_1_1UsedNZCV.html#a45bff45182b5da58e31d988ef5826e69">C</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00">AArch64CC::MI</a>: <span class="comment">// N set</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a5b3c2afaad5594cd0eedd58a78a91baf">AArch64CC::PL</a>: <span class="comment">// N clear</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    UsedFlags.<a class="code" href="structllvm_1_1UsedNZCV.html#abe2f97a45fb29b53c3258372c7baa7c6">N</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">AArch64CC::VS</a>: <span class="comment">// V set</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">AArch64CC::VC</a>: <span class="comment">// V clear</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    UsedFlags.<a class="code" href="structllvm_1_1UsedNZCV.html#a1574ad01c6812d8d7758ded60242f6d8">V</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a91a0c1b4eac415607c4ceb0a899c4629">AArch64CC::GT</a>: <span class="comment">// Z clear, N and V the same</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">AArch64CC::LE</a>: <span class="comment">// Z set,   N and V differ</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    UsedFlags.<a class="code" href="structllvm_1_1UsedNZCV.html#af3f54f8d3913945d66d952527d20a025">Z</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">AArch64CC::GE</a>: <span class="comment">// N and V the same</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a">AArch64CC::LT</a>: <span class="comment">// N and V differ</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    UsedFlags.<a class="code" href="structllvm_1_1UsedNZCV.html#abe2f97a45fb29b53c3258372c7baa7c6">N</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    UsedFlags.<a class="code" href="structllvm_1_1UsedNZCV.html#a1574ad01c6812d8d7758ded60242f6d8">V</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">return</span> UsedFlags;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;}</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment">/// \returns Conditions flags used after \p CmpInstr in its MachineBB if NZCV</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="comment">/// flags are not alive in successors of the same \p CmpInstr and \p MI parent.</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="comment">/// \returns std::nullopt otherwise.</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment">/// Collect instructions using that flags in \p CCUseInstrs if provided.</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="comment"></span>std::optional&lt;UsedNZCV&gt;</div>
<div class="line"><a name="l01650"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8d6c4616e2c2cc90d58377868eda6102"> 1650</a></span>&#160;<a class="code" href="namespacellvm.html#a8d6c4616e2c2cc90d58377868eda6102">llvm::examineCFlagsUse</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CmpInstr,</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                       <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> *CCUseInstrs) {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *CmpParent = CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent() != CmpParent)</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#ae8cec029e7a55bb4cc72a055c5f7b641">areCFlagsAliveInSuccessors</a>(CmpParent))</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160; </div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  <a class="code" href="structllvm_1_1UsedNZCV.html">UsedNZCV</a> NZCVUsedAfterCmp;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr : <a class="code" href="namespacellvm.html#a90f68a1fc5d44bb06164dc2188b8e486">instructionsWithoutDebug</a>(</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;           std::next(CmpInstr.<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>()), CmpParent-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">instr_end</a>())) {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">if</span> (Instr.readsRegister(AArch64::NZCV, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a088e2740f3c34806eb6ecdf02a03a958">findCondCodeUsedByInstr</a>(Instr);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> == <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aef225b7df5953a2942e07071d0013eb0">AArch64CC::Invalid</a>) <span class="comment">// Unsupported conditional instruction</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      NZCVUsedAfterCmp |= <a class="code" href="AArch64InstrInfo_8cpp.html#a833c45aff4e26b616764ec936994bf45">getUsedNZCV</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <span class="keywordflow">if</span> (CCUseInstrs)</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        CCUseInstrs-&gt;push_back(&amp;Instr);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    }</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> (Instr.modifiesRegister(AArch64::NZCV, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  }</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <span class="keywordflow">return</span> NZCVUsedAfterCmp;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;}</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160; </div>
<div class="line"><a name="l01677"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a22d94dbb2ca88224dfaf3377e3adf7cf"> 1677</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a22d94dbb2ca88224dfaf3377e3adf7cf">isADDSRegImm</a>(<span class="keywordtype">unsigned</span> Opcode) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="keywordflow">return</span> Opcode == AArch64::ADDSWri || Opcode == AArch64::ADDSXri;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;}</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160; </div>
<div class="line"><a name="l01681"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a7713f36f3b42f9196c16db0d7493b466"> 1681</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a7713f36f3b42f9196c16db0d7493b466">isSUBSRegImm</a>(<span class="keywordtype">unsigned</span> Opcode) {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keywordflow">return</span> Opcode == AArch64::SUBSWri || Opcode == AArch64::SUBSXri;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;}</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="comment">/// Check if CmpInstr can be substituted by MI.</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="comment">/// CmpInstr can be substituted:</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="comment">/// - CmpInstr is either &#39;ADDS %vreg, 0&#39; or &#39;SUBS %vreg, 0&#39;</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment">/// - and, MI and CmpInstr are from the same MachineBB</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment">/// - and, condition flags are not alive in successors of the CmpInstr parent</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="comment">/// - and, if MI opcode is the S form there must be no defs of flags between</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="comment">///        MI and CmpInstr</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="comment">///        or if MI opcode is not the S form there must be neither defs of flags</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="comment">///        nor uses of flags between MI and CmpInstr.</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="comment">/// - and  C/V flags are not used after CmpInstr</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a80ba8826b4f8e7008ae9453968ed35fa"> 1696</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a80ba8826b4f8e7008ae9453968ed35fa">canInstrSubstituteCmpInstr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CmpInstr,</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) {</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64InstrInfo_8cpp.html#a30270b20b168cbb68c654812dd91db96">sForm</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) != AArch64::INSTRUCTION_LIST_END);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> CmpOpcode = CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64InstrInfo_8cpp.html#a22d94dbb2ca88224dfaf3377e3adf7cf">isADDSRegImm</a>(CmpOpcode) &amp;&amp; !<a class="code" href="AArch64InstrInfo_8cpp.html#a7713f36f3b42f9196c16db0d7493b466">isSUBSRegImm</a>(CmpOpcode))</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  std::optional&lt;UsedNZCV&gt; NZVCUsed = <a class="code" href="namespacellvm.html#a8d6c4616e2c2cc90d58377868eda6102">examineCFlagsUse</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, CmpInstr, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">if</span> (!NZVCUsed || NZVCUsed-&gt;C || NZVCUsed-&gt;V)</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160; </div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847">AccessKind</a> AccessToCheck = <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847ad95a443441a0fd8b5fffc844eb6fabc3">AK_Write</a>;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a30270b20b168cbb68c654812dd91db96">sForm</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) != <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode())</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    AccessToCheck = <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847a4674dbc301d67e19366ba51f76b75720">AK_All</a>;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="AArch64InstrInfo_8cpp.html#a19a5a038e1b77984ca9710992b68b938">areCFlagsAccessedBetweenInstrs</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, &amp;CmpInstr, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, AccessToCheck);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;}</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="comment">/// Substitute an instruction comparing to zero with another instruction</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="comment">/// which produces needed condition flags.</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="comment">/// Return true on success.</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> AArch64InstrInfo::substituteCmpToZero(</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CmpInstr, <span class="keywordtype">unsigned</span> SrcReg,</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="comment">// Get the unique definition of SrcReg.</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(SrcReg);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160; </div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordtype">unsigned</span> NewOpc = <a class="code" href="AArch64InstrInfo_8cpp.html#a30270b20b168cbb68c654812dd91db96">sForm</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="keywordflow">if</span> (NewOpc == AArch64::INSTRUCTION_LIST_END)</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64InstrInfo_8cpp.html#a80ba8826b4f8e7008ae9453968ed35fa">canInstrSubstituteCmpInstr</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, CmpInstr, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="comment">// Update the instruction to set NZCV.</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc));</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="keywordtype">bool</span> succeeded = <a class="code" href="AArch64InstrInfo_8cpp.html#a77dea00ee37a964ad5edf6072fb35071">UpdateOperandRegClass</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  (void)succeeded;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(succeeded &amp;&amp; <span class="stringliteral">&quot;Some operands reg class are incompatible!&quot;</span>);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;addRegisterDefined(AArch64::NZCV, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;}</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="comment">/// \returns True if \p CmpInstr can be removed.</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="comment">/// \p IsInvertCC is true if, after removing \p CmpInstr, condition</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="comment">/// codes used in \p CCUseInstrs must be inverted.</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a7dc60439888b36449abcb98f47d23ec6"> 1749</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a7dc60439888b36449abcb98f47d23ec6">canCmpInstrBeRemoved</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CmpInstr,</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                                 <span class="keywordtype">int</span> CmpValue, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;CCUseInstrs,</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                                 <span class="keywordtype">bool</span> &amp;IsInvertCC) {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((CmpValue == 0 || CmpValue == 1) &amp;&amp;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;         <span class="stringliteral">&quot;Only comparisons to 0 or 1 considered for removal!&quot;</span>);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160; </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="comment">// MI is &#39;CSINCWr %vreg, wzr, wzr, &lt;cc&gt;&#39; or &#39;CSINCXr %vreg, xzr, xzr, &lt;cc&gt;&#39;</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  <span class="keywordtype">unsigned</span> MIOpc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="keywordflow">if</span> (MIOpc == AArch64::CSINCWr) {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() != AArch64::WZR ||</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getReg() != AArch64::WZR)</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MIOpc == AArch64::CSINCXr) {</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() != AArch64::XZR ||</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getReg() != AArch64::XZR)</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  }</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a> MICC = <a class="code" href="AArch64InstrInfo_8cpp.html#a088e2740f3c34806eb6ecdf02a03a958">findCondCodeUsedByInstr</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordflow">if</span> (MICC == <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aef225b7df5953a2942e07071d0013eb0">AArch64CC::Invalid</a>)</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  <span class="comment">// NZCV needs to be defined</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.findRegisterDefOperandIdx(AArch64::NZCV, <span class="keyword">true</span>) != -1)</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="comment">// CmpInstr is &#39;ADDS %vreg, 0&#39; or &#39;SUBS %vreg, 0&#39; or &#39;SUBS %vreg, 1&#39;</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> CmpOpcode = CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <span class="keywordtype">bool</span> IsSubsRegImm = <a class="code" href="AArch64InstrInfo_8cpp.html#a7713f36f3b42f9196c16db0d7493b466">isSUBSRegImm</a>(CmpOpcode);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="keywordflow">if</span> (CmpValue &amp;&amp; !IsSubsRegImm)</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordflow">if</span> (!CmpValue &amp;&amp; !IsSubsRegImm &amp;&amp; !<a class="code" href="AArch64InstrInfo_8cpp.html#a22d94dbb2ca88224dfaf3377e3adf7cf">isADDSRegImm</a>(CmpOpcode))</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="comment">// MI conditions allowed: eq, ne, mi, pl</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <a class="code" href="structllvm_1_1UsedNZCV.html">UsedNZCV</a> MIUsedNZCV = <a class="code" href="AArch64InstrInfo_8cpp.html#a833c45aff4e26b616764ec936994bf45">getUsedNZCV</a>(MICC);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">if</span> (MIUsedNZCV.<a class="code" href="structllvm_1_1UsedNZCV.html#a45bff45182b5da58e31d988ef5826e69">C</a> || MIUsedNZCV.<a class="code" href="structllvm_1_1UsedNZCV.html#a1574ad01c6812d8d7758ded60242f6d8">V</a>)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  std::optional&lt;UsedNZCV&gt; NZCVUsedAfterCmp =</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      <a class="code" href="namespacellvm.html#a8d6c4616e2c2cc90d58377868eda6102">examineCFlagsUse</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, CmpInstr, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, &amp;CCUseInstrs);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="comment">// Condition flags are not used in CmpInstr basic block successors and only</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="comment">// Z or N flags allowed to be used after CmpInstr within its basic block</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordflow">if</span> (!NZCVUsedAfterCmp || NZCVUsedAfterCmp-&gt;C || NZCVUsedAfterCmp-&gt;V)</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="comment">// Z or N flag used after CmpInstr must correspond to the flag used in MI</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <span class="keywordflow">if</span> ((MIUsedNZCV.<a class="code" href="structllvm_1_1UsedNZCV.html#af3f54f8d3913945d66d952527d20a025">Z</a> &amp;&amp; NZCVUsedAfterCmp-&gt;N) ||</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      (MIUsedNZCV.<a class="code" href="structllvm_1_1UsedNZCV.html#abe2f97a45fb29b53c3258372c7baa7c6">N</a> &amp;&amp; NZCVUsedAfterCmp-&gt;Z))</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="comment">// If CmpInstr is comparison to zero MI conditions are limited to eq, ne</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <span class="keywordflow">if</span> (MIUsedNZCV.<a class="code" href="structllvm_1_1UsedNZCV.html#abe2f97a45fb29b53c3258372c7baa7c6">N</a> &amp;&amp; !CmpValue)</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160; </div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="comment">// There must be no defs of flags between MI and CmpInstr</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a19a5a038e1b77984ca9710992b68b938">areCFlagsAccessedBetweenInstrs</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, &amp;CmpInstr, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847ad95a443441a0fd8b5fffc844eb6fabc3">AK_Write</a>))</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="comment">// Condition code is inverted in the following cases:</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="comment">// 1. MI condition is ne; CmpInstr is &#39;ADDS %vreg, 0&#39; or &#39;SUBS %vreg, 0&#39;</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="comment">// 2. MI condition is eq, pl; CmpInstr is &#39;SUBS %vreg, 1&#39;</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  IsInvertCC = (CmpValue &amp;&amp; (MICC == <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a756347c46f7abfa1e1fefcc39502c680">AArch64CC::EQ</a> || MICC == <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a5b3c2afaad5594cd0eedd58a78a91baf">AArch64CC::PL</a>)) ||</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;               (!CmpValue &amp;&amp; MICC == <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f">AArch64CC::NE</a>);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="comment">/// Remove comparison in csinc-cmp sequence</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="comment">/// Examples:</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="comment">/// 1. \code</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment">///   csinc w9, wzr, wzr, ne</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">///   cmp   w9, #0</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">///   b.eq</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">/// to</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">///    \code</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="comment">///   csinc w9, wzr, wzr, ne</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="comment">///   b.ne</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="comment">/// 2. \code</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="comment">///   csinc x2, xzr, xzr, mi</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="comment">///   cmp   x2, #1</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;<span class="comment">///   b.pl</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment">/// to</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment">///    \code</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">///   csinc x2, xzr, xzr, mi</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment">///   b.pl</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="comment">/// \param  CmpInstr comparison instruction</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="comment">/// \return True when comparison removed</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> AArch64InstrInfo::removeCmpToZeroOrOne(</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CmpInstr, <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">int</span> CmpValue,</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(SrcReg);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 4&gt;</a> CCUseInstrs;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordtype">bool</span> IsInvertCC = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64InstrInfo_8cpp.html#a7dc60439888b36449abcb98f47d23ec6">canCmpInstrBeRemoved</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, CmpInstr, CmpValue, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, CCUseInstrs,</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                            IsInvertCC))</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="comment">// Make transformation</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="keywordflow">if</span> (IsInvertCC) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="comment">// Invert condition codes in CmpInstr CC users</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CCUseInstr : CCUseInstrs) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      <span class="keywordtype">int</span> Idx = <a class="code" href="AArch64InstrInfo_8cpp.html#a3fefa051734eb13c5ee1a4741fe03310">findCondCodeUseOperandIdxForBranchOrSelect</a>(*CCUseInstr);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx &gt;= 0 &amp;&amp; <span class="stringliteral">&quot;Unexpected instruction using CC.&quot;</span>);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;CCOperand = CCUseInstr-&gt;getOperand(Idx);</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a> CCUse = <a class="code" href="namespacellvm_1_1AArch64CC.html#afc2ebeb83373be407903e43096e4f7b9">AArch64CC::getInvertedCondCode</a>(</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;          <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a><span class="keyword">&gt;</span>(CCOperand.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>()));</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      CCOperand.<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(CCUse);</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    }</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  }</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;}</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a8997d907b1de0e1b433c59102335b06a"> 1871</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a8997d907b1de0e1b433c59102335b06a">AArch64InstrInfo::expandPostRAPseudo</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() != TargetOpcode::LOAD_STACK_GUARD &amp;&amp;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aec1078d911aabd272954b9125eaee6df">AArch64::CATCHRET</a>)</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="keyword">auto</span> &amp;Subtarget = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1AArch64Subtarget.html">AArch64Subtarget</a>&gt;();</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a69f50b8c0a70f57950c142ca963e1cb5">getRegisterInfo</a>();</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160; </div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aec1078d911aabd272954b9125eaee6df">AArch64::CATCHRET</a>) {</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="comment">// Skip to the first instruction before the epilog.</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> =</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *TargetMBB = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getMBB();</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keyword">auto</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a> = <a class="code" href="classllvm_1_1MachineBasicBlock.html#ae34c996b58df9b9ce6695a0c8b70c533">MachineBasicBlock::iterator</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> FirstEpilogSEH = std::prev(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordflow">while</span> (FirstEpilogSEH-&gt;getFlag(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a4e4e6764dc61dbf0e8f330644880480f">MachineInstr::FrameDestroy</a>) &amp;&amp;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;           FirstEpilogSEH != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      FirstEpilogSEH = std::prev(FirstEpilogSEH);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <span class="keywordflow">if</span> (FirstEpilogSEH != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      FirstEpilogSEH = std::next(FirstEpilogSEH);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, FirstEpilogSEH, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(<a class="code" href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19aa2e9d9d7c30818fd5ba551f8d3f0af34">AArch64::ADRP</a>))</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::X0, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(TargetMBB);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, FirstEpilogSEH, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::ADDXri))</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::X0, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::X0)</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(TargetMBB)</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  }</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160; </div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getStackProtectorGuard() == <span class="stringliteral">&quot;sysreg&quot;</span>) {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1AArch64SysReg_1_1SysReg.html">AArch64SysReg::SysReg</a> *SrcReg =</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        <a class="code" href="namespacellvm_1_1AArch64SysReg.html#ad8a1ac5376cb94ca96e5be8f18ca1000">AArch64SysReg::lookupSysRegByName</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getStackProtectorGuardReg());</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">if</span> (!SrcReg)</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unknown SysReg for Stack Protector Guard Register&quot;</span>);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160; </div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="comment">// mrs xN, sysreg</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19a0767ec4421b5ce84bb44f55969d6bea8">AArch64::MRS</a>))</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da4c5b26e761294db59c1ad1cc6fc1d0ba">RegState::Renamable</a>)</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(SrcReg-&gt;<a class="code" href="structllvm_1_1AArch64SysReg_1_1SysReg.html#a1453415c05ff6815cd3f98c7d529e4f8">Encoding</a>);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getStackProtectorGuardOffset();</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &gt;= 0 &amp;&amp; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &lt;= 32760 &amp;&amp; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> % 8 == 0) {</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <span class="comment">// ldr xN, [xN, #offset]</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRXui))</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec748fa81e1488192450f0b2a8d1aeca">addUse</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> / 8);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &gt;= -256 &amp;&amp; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &lt;= 255) {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <span class="comment">// ldur xN, [xN, #offset]</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDURXi))</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec748fa81e1488192450f0b2a8d1aeca">addUse</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &gt;= -4095 &amp;&amp; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &lt;= 4095) {</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &gt; 0) {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <span class="comment">// add xN, xN, #offset</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ADDXri))</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec748fa81e1488192450f0b2a8d1aeca">addUse</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        <span class="comment">// sub xN, xN, #offset</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::SUBXri))</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec748fa81e1488192450f0b2a8d1aeca">addUse</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(-<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      <span class="comment">// ldr xN, [xN]</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRXui))</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec748fa81e1488192450f0b2a8d1aeca">addUse</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      <span class="comment">// Cases that are larger than +/- 4095 and not a multiple of 8, or larger</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;      <span class="comment">// than 23760.</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      <span class="comment">// It might be nice to use AArch64::MOVi32imm here, which would get</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      <span class="comment">// expanded in PreSched2 after PostRA, but our lone scratch Reg already</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      <span class="comment">// contains the MRS result. findScratchNonCalleeSaveRegister() in</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      <span class="comment">// AArch64FrameLowering might help us find such a scratch register</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      <span class="comment">// though. If we failed to find a scratch register, we could emit a</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      <span class="comment">// stream of add instructions to build up the immediate. Or, we could try</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      <span class="comment">// to insert a AArch64::MOVi32imm before register allocation so that we</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <span class="comment">// didn&#39;t need to scavenge for a scratch register.</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unable to encode Stack Protector Guard Offset&quot;</span>);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    }</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ad26bff839257f220557ce812b2159c72">erase</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160; </div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV =</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      cast&lt;GlobalValue&gt;((*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin())-&gt;getValue());</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>();</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keywordtype">unsigned</span> OpFlags = Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#aa2bf24e995494a7c64d8f3e02818ad30">ClassifyGlobalReference</a>(GV, <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a028a4adc46c746ba1501e1e6fefb54cc">MO_NC</a> = <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a028a4adc46c746ba1501e1e6fefb54cc">AArch64II::MO_NC</a>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160; </div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  <span class="keywordflow">if</span> ((OpFlags &amp; <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a4144c2ee93286fba09bd8f14fb11f27a">AArch64II::MO_GOT</a>) != 0) {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19adfb5f0cc680a060e5ca88e6e923d7183">AArch64::LOADgot</a>), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">addGlobalAddress</a>(GV, 0, OpFlags);</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a59137b132e07516767761d5decf7e252">isTargetILP32</a>()) {</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      <span class="keywordtype">unsigned</span> Reg32 = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">getSubReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, AArch64::sub_32);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRWui))</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(Reg32, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">RegState::Dead</a>)</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec748fa81e1488192450f0b2a8d1aeca">addUse</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin())</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRXui), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin());</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.getCodeModel() == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa5208f558fccf9f63423fb5385bb3e75c">CodeModel::Large</a>) {</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a59137b132e07516767761d5decf7e252">isTargetILP32</a>() &amp;&amp; <span class="stringliteral">&quot;how can large exist in ILP32?&quot;</span>);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::MOVZXi), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">addGlobalAddress</a>(GV, 0, <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a6d9cfbe4ea54a3ce9d5308efab7200b9">AArch64II::MO_G0</a> | <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a028a4adc46c746ba1501e1e6fefb54cc">MO_NC</a>)</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::MOVKXi), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">addGlobalAddress</a>(GV, 0, <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a30eefa1143a0a238486ada4ff95bc34b">AArch64II::MO_G1</a> | <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a028a4adc46c746ba1501e1e6fefb54cc">MO_NC</a>)</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(16);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::MOVKXi), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">addGlobalAddress</a>(GV, 0, <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71ae048a7c85d8a27195ad9ce1e1282bda9">AArch64II::MO_G2</a> | <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a028a4adc46c746ba1501e1e6fefb54cc">MO_NC</a>)</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(32);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::MOVKXi), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">addGlobalAddress</a>(GV, 0, <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71af2217d25138eade76a256c4c3dc131bd">AArch64II::MO_G3</a>)</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(48);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRXui), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin());</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.getCodeModel() == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa686bcdfaefdfe3f49acbfe6f680bc22d">CodeModel::Tiny</a>) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19a8ee06ddad96ab8a83a8513e4b5b49717">AArch64::ADR</a>), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">addGlobalAddress</a>(GV, 0, OpFlags);</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19aa2e9d9d7c30818fd5ba551f8d3f0af34">AArch64::ADRP</a>), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">addGlobalAddress</a>(GV, 0, OpFlags | <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a7f04634c15a04a59d5f234002e613b5b">AArch64II::MO_PAGE</a>);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> LoFlags = OpFlags | <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a3a5053185998bdf24f3167c234915785">AArch64II::MO_PAGEOFF</a> | <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a028a4adc46c746ba1501e1e6fefb54cc">MO_NC</a>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a59137b132e07516767761d5decf7e252">isTargetILP32</a>()) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      <span class="keywordtype">unsigned</span> Reg32 = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">getSubReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, AArch64::sub_32);</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRWui))</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(Reg32, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">RegState::Dead</a>)</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec748fa81e1488192450f0b2a8d1aeca">addUse</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">addGlobalAddress</a>(GV, 0, LoFlags)</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin())</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRXui), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">addGlobalAddress</a>(GV, 0, LoFlags)</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin());</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ad26bff839257f220557ce812b2159c72">erase</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160; </div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;}</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160; </div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment">// Return true if this instruction simply sets its single destination register</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="comment">// to zero. This is equivalent to a register rename of the zero-register.</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#acb53158b2fba2683ec41c5873eb16a2f"> 2041</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#acb53158b2fba2683ec41c5873eb16a2f">AArch64InstrInfo::isGPRZero</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="keywordflow">case</span> AArch64::MOVZWi:</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <span class="keywordflow">case</span> AArch64::MOVZXi: <span class="comment">// movz Rd, #0 (LSL #0)</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isImm() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm() == 0) {</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().getNumOperands() == 3 &amp;&amp;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;             <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm() == 0 &amp;&amp; <span class="stringliteral">&quot;invalid MOVZi operands&quot;</span>);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    }</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDWri: <span class="comment">// and Rd, Rzr, #imm</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == AArch64::WZR;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDXri:</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == AArch64::XZR;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">case</span> TargetOpcode::COPY:</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == AArch64::WZR;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  }</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;}</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160; </div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="comment">// Return true if this instruction simply renames a general register without</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="comment">// modifying bits.</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a2a037132ef2f33daa0522efe92a983ed"> 2065</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a2a037132ef2f33daa0522efe92a983ed">AArch64InstrInfo::isGPRCopy</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">case</span> TargetOpcode::COPY: {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="comment">// GPR32 copies will by lowered to ORRXrs</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="keywordflow">return</span> (AArch64::GPR32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DstReg) ||</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            AArch64::GPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DstReg));</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  }</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRXrs: <span class="comment">// orr Xd, Xzr, Xm (LSL #0)</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == AArch64::XZR) {</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().getNumOperands() == 4 &amp;&amp;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;             <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm() == 0 &amp;&amp; <span class="stringliteral">&quot;invalid ORRrs operands&quot;</span>);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    }</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXri: <span class="comment">// add Xd, Xn, #0 (LSL #0)</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm() == 0) {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().getNumOperands() == 4 &amp;&amp;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;             <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm() == 0 &amp;&amp; <span class="stringliteral">&quot;invalid ADDXri operands&quot;</span>);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    }</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  }</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;}</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="comment">// Return true if this instruction simply renames a general register without</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="comment">// modifying bits.</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a0f025e2cec1b7eb026b572b2d12800fd"> 2095</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a0f025e2cec1b7eb026b572b2d12800fd">AArch64InstrInfo::isFPRCopy</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <span class="keywordflow">case</span> TargetOpcode::COPY: {</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordflow">return</span> AArch64::FPR128RegClass.contains(DstReg);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  }</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRv16i8:</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getReg()) {</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().getNumOperands() == 3 &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).isReg() &amp;&amp;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;             <span class="stringliteral">&quot;invalid ORRv16i8 operands&quot;</span>);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  }</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;}</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a9577820d8006811afa3d9713624c1e01"> 2114</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a9577820d8006811afa3d9713624c1e01">AArch64InstrInfo::isLoadFromStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                                               <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWui:</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXui:</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBui:</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHui:</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSui:</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDui:</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQui:</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getSubReg() == 0 &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isFI() &amp;&amp;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isImm() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm() == 0) {</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getIndex();</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    }</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160; </div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;}</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#abb85cb5e394d43767d67d067075a7b4f"> 2137</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#abb85cb5e394d43767d67d067075a7b4f">AArch64InstrInfo::isStoreToStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;                                              <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWui:</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXui:</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBui:</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHui:</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSui:</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDui:</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQui:</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="keywordflow">case</span> AArch64::LDR_PXI:</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="keywordflow">case</span> AArch64::STR_PXI:</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getSubReg() == 0 &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isFI() &amp;&amp;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isImm() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm() == 0) {</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getIndex();</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    }</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  }</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;}</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;<span class="comment">/// Check all MachineMemOperands for a hint to suppress pairing.</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#aaa692777da741a4f7da2822b9f154a42"> 2162</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aaa692777da741a4f7da2822b9f154a42">AArch64InstrInfo::isLdStPairSuppressed</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands(), [](<a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO) {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    return MMO-&gt;getFlags() &amp; MOSuppressPair;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  });</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;}</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<span class="comment">/// Set a flag on the first MachineMemOperand to suppress pairing.</span></div>
<div class="line"><a name="l02169"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#ae2f38a334980a3888a4fc55b8e9542ac"> 2169</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#ae2f38a334980a3888a4fc55b8e9542ac">AArch64InstrInfo::suppressLdStPair</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_empty())</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  (*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin())-&gt;setFlags(<a class="code" href="namespacellvm.html#acecb758d131c550fcdf82d6211884138">MOSuppressPair</a>);</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;}</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="comment">/// Check all MachineMemOperands for a hint that the load/store is strided.</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a801e90197138f0d232f8efcf2426dd81"> 2176</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a801e90197138f0d232f8efcf2426dd81">AArch64InstrInfo::isStridedAccess</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands(), [](<a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO) {</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    return MMO-&gt;getFlags() &amp; MOStridedAccess;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  });</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;}</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a402d07e412b1466bf04c19cfde24de49"> 2182</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a402d07e412b1466bf04c19cfde24de49">AArch64InstrInfo::hasUnscaledLdStOffset</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="keywordflow">case</span> AArch64::STURSi:</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSpre:</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  <span class="keywordflow">case</span> AArch64::STURDi:</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDpre:</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  <span class="keywordflow">case</span> AArch64::STURQi:</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQpre:</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  <span class="keywordflow">case</span> AArch64::STURBBi:</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="keywordflow">case</span> AArch64::STURHHi:</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="keywordflow">case</span> AArch64::STURWi:</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWpre:</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  <span class="keywordflow">case</span> AArch64::STURXi:</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXpre:</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSi:</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSpre:</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURDi:</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDpre:</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURQi:</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQpre:</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURWi:</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWpre:</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURXi:</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXpre:</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSWi:</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURHHi:</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURBBi:</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSBWi:</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSHWi:</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;}</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160; </div>
<div class="line"><a name="l02217"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a3ed4919d637d0c25ecee9f7bd16f11b2"> 2217</a></span>&#160;std::optional&lt;unsigned&gt; <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a3ed4919d637d0c25ecee9f7bd16f11b2">AArch64InstrInfo::getUnscaledLdSt</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="keywordflow">case</span> AArch64::PRFMui: <span class="keywordflow">return</span> AArch64::PRFUMi;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXui: <span class="keywordflow">return</span> AArch64::LDURXi;</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWui: <span class="keywordflow">return</span> AArch64::LDURWi;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBui: <span class="keywordflow">return</span> AArch64::LDURBi;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHui: <span class="keywordflow">return</span> AArch64::LDURHi;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSui: <span class="keywordflow">return</span> AArch64::LDURSi;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDui: <span class="keywordflow">return</span> AArch64::LDURDi;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQui: <span class="keywordflow">return</span> AArch64::LDURQi;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBBui: <span class="keywordflow">return</span> AArch64::LDURBBi;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHHui: <span class="keywordflow">return</span> AArch64::LDURHHi;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSBXui: <span class="keywordflow">return</span> AArch64::LDURSBXi;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSBWui: <span class="keywordflow">return</span> AArch64::LDURSBWi;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSHXui: <span class="keywordflow">return</span> AArch64::LDURSHXi;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSHWui: <span class="keywordflow">return</span> AArch64::LDURSHWi;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSWui: <span class="keywordflow">return</span> AArch64::LDURSWi;</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXui: <span class="keywordflow">return</span> AArch64::STURXi;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWui: <span class="keywordflow">return</span> AArch64::STURWi;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBui: <span class="keywordflow">return</span> AArch64::STURBi;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHui: <span class="keywordflow">return</span> AArch64::STURHi;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSui: <span class="keywordflow">return</span> AArch64::STURSi;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDui: <span class="keywordflow">return</span> AArch64::STURDi;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQui: <span class="keywordflow">return</span> AArch64::STURQi;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBBui: <span class="keywordflow">return</span> AArch64::STURBBi;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHHui: <span class="keywordflow">return</span> AArch64::STURHHi;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  }</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;}</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160; </div>
<div class="line"><a name="l02247"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#ac473d40b6b8803f2924e0c6751f51bf3"> 2247</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#ac473d40b6b8803f2924e0c6751f51bf3">AArch64InstrInfo::getLoadStoreImmIdx</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPXi:</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPDi:</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <span class="keywordflow">case</span> AArch64::STPXi:</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="keywordflow">case</span> AArch64::STPDi:</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPXi:</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPDi:</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPXi:</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPDi:</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPQi:</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="keywordflow">case</span> AArch64::STPQi:</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPQi:</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPQi:</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPWi:</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPSi:</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  <span class="keywordflow">case</span> AArch64::STPWi:</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="keywordflow">case</span> AArch64::STPSi:</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPWi:</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPSi:</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPWi:</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPSi:</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <span class="keywordflow">case</span> AArch64::LDG:</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <span class="keywordflow">case</span> AArch64::STGPi:</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160; </div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1B_IMM:</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1B_H_IMM:</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1B_S_IMM:</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1B_D_IMM:</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SB_H_IMM:</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SB_S_IMM:</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SB_D_IMM:</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1H_IMM:</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1H_S_IMM:</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1H_D_IMM:</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SH_S_IMM:</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SH_D_IMM:</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1W_IMM:</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1W_D_IMM:</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SW_D_IMM:</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1D_IMM:</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160; </div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <span class="keywordflow">case</span> AArch64::LD2B_IMM:</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="keywordflow">case</span> AArch64::LD2H_IMM:</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <span class="keywordflow">case</span> AArch64::LD2W_IMM:</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="keywordflow">case</span> AArch64::LD2D_IMM:</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="keywordflow">case</span> AArch64::LD3B_IMM:</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="keywordflow">case</span> AArch64::LD3H_IMM:</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="keywordflow">case</span> AArch64::LD3W_IMM:</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="keywordflow">case</span> AArch64::LD3D_IMM:</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="keywordflow">case</span> AArch64::LD4B_IMM:</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <span class="keywordflow">case</span> AArch64::LD4H_IMM:</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="keywordflow">case</span> AArch64::LD4W_IMM:</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keywordflow">case</span> AArch64::LD4D_IMM:</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160; </div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1B_IMM:</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1B_H_IMM:</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1B_S_IMM:</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1B_D_IMM:</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1H_IMM:</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1H_S_IMM:</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1H_D_IMM:</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1W_IMM:</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1W_D_IMM:</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1D_IMM:</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160; </div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2B_IMM:</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2H_IMM:</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2W_IMM:</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2D_IMM:</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <span class="keywordflow">case</span> AArch64::ST3B_IMM:</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">case</span> AArch64::ST3H_IMM:</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <span class="keywordflow">case</span> AArch64::ST3W_IMM:</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <span class="keywordflow">case</span> AArch64::ST3D_IMM:</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <span class="keywordflow">case</span> AArch64::ST4B_IMM:</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <span class="keywordflow">case</span> AArch64::ST4H_IMM:</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  <span class="keywordflow">case</span> AArch64::ST4W_IMM:</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <span class="keywordflow">case</span> AArch64::ST4D_IMM:</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160; </div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RB_IMM:</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RB_H_IMM:</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RB_S_IMM:</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RB_D_IMM:</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSB_H_IMM:</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSB_S_IMM:</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSB_D_IMM:</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RH_IMM:</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RH_S_IMM:</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RH_D_IMM:</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSH_S_IMM:</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSH_D_IMM:</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RW_IMM:</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RW_D_IMM:</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSW_IMM:</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RD_IMM:</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160; </div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNT1B_ZRI:</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNT1H_ZRI:</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNT1W_ZRI:</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNT1D_ZRI:</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  <span class="keywordflow">case</span> AArch64::STNT1B_ZRI:</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <span class="keywordflow">case</span> AArch64::STNT1H_ZRI:</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  <span class="keywordflow">case</span> AArch64::STNT1W_ZRI:</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  <span class="keywordflow">case</span> AArch64::STNT1D_ZRI:</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1B_IMM:</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1B_H_IMM:</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1B_S_IMM:</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1B_D_IMM:</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SB_H_IMM:</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SB_S_IMM:</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SB_D_IMM:</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1H_IMM:</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1H_S_IMM:</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1H_D_IMM:</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SH_S_IMM:</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SH_D_IMM:</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1W_IMM:</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1W_D_IMM:</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SW_D_IMM:</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1D_IMM:</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDG:</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="keywordflow">case</span> AArch64::STGOffset:</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="keywordflow">case</span> AArch64::LDR_PXI:</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="keywordflow">case</span> AArch64::STR_PXI:</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  }</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;}</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160; </div>
<div class="line"><a name="l02379"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a5c41685529bfa4394f6b8f15207809c1"> 2379</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a5c41685529bfa4394f6b8f15207809c1">AArch64InstrInfo::isPairableLdStInst</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <span class="comment">// Scaled instructions.</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSui:</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDui:</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQui:</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXui:</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWui:</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSui:</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDui:</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQui:</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXui:</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWui:</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSWui:</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="comment">// Unscaled instructions.</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <span class="keywordflow">case</span> AArch64::STURSi:</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSpre:</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="keywordflow">case</span> AArch64::STURDi:</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDpre:</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <span class="keywordflow">case</span> AArch64::STURQi:</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQpre:</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  <span class="keywordflow">case</span> AArch64::STURWi:</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWpre:</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="keywordflow">case</span> AArch64::STURXi:</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXpre:</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSi:</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSpre:</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURDi:</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDpre:</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURQi:</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQpre:</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURWi:</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWpre:</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURXi:</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXpre:</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSWi:</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  }</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;}</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160; </div>
<div class="line"><a name="l02421"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a2aa16f9d03ff7a4744cc7b83b4c39ec4"> 2421</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a2aa16f9d03ff7a4744cc7b83b4c39ec4">AArch64InstrInfo::convertToFlagSettingOpc</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Opcode has no flag setting equivalent!&quot;</span>);</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="comment">// 32-bit cases:</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWri:</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSWri;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWrr:</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSWrr;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWrs:</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSWrs;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWrx:</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSWrx;</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDWri:</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="keywordflow">return</span> AArch64::ANDSWri;</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDWrr:</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="keywordflow">return</span> AArch64::ANDSWrr;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDWrs:</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="keywordflow">return</span> AArch64::ANDSWrs;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  <span class="keywordflow">case</span> AArch64::BICWrr:</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">return</span> AArch64::BICSWrr;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="keywordflow">case</span> AArch64::BICWrs:</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="keywordflow">return</span> AArch64::BICSWrs;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWri:</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSWri;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrr:</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSWrr;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrs:</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSWrs;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrx:</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSWrx;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  <span class="comment">// 64-bit cases:</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXri:</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSXri;</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrr:</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSXrr;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrs:</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSXrs;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrx:</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <span class="keywordflow">return</span> AArch64::ADDSXrx;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDXri:</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <span class="keywordflow">return</span> AArch64::ANDSXri;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDXrr:</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <span class="keywordflow">return</span> AArch64::ANDSXrr;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDXrs:</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    <span class="keywordflow">return</span> AArch64::ANDSXrs;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordflow">case</span> AArch64::BICXrr:</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">return</span> AArch64::BICSXrr;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="keywordflow">case</span> AArch64::BICXrs:</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="keywordflow">return</span> AArch64::BICSXrs;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXri:</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSXri;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrr:</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSXrr;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrs:</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSXrs;</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrx:</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <span class="keywordflow">return</span> AArch64::SUBSXrx;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="comment">// SVE instructions:</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="keywordflow">case</span> AArch64::AND_PPzPP:</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keywordflow">return</span> AArch64::ANDS_PPzPP;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  <span class="keywordflow">case</span> AArch64::BIC_PPzPP:</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="keywordflow">return</span> AArch64::BICS_PPzPP;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  <span class="keywordflow">case</span> AArch64::EOR_PPzPP:</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    <span class="keywordflow">return</span> AArch64::EORS_PPzPP;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  <span class="keywordflow">case</span> AArch64::NAND_PPzPP:</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <span class="keywordflow">return</span> AArch64::NANDS_PPzPP;</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  <span class="keywordflow">case</span> AArch64::NOR_PPzPP:</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <span class="keywordflow">return</span> AArch64::NORS_PPzPP;</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <span class="keywordflow">case</span> AArch64::ORN_PPzPP:</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keywordflow">return</span> AArch64::ORNS_PPzPP;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="keywordflow">case</span> AArch64::ORR_PPzPP:</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <span class="keywordflow">return</span> AArch64::ORRS_PPzPP;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="keywordflow">case</span> AArch64::BRKA_PPzP:</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="keywordflow">return</span> AArch64::BRKAS_PPzP;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="keywordflow">case</span> AArch64::BRKPA_PPzPP:</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <span class="keywordflow">return</span> AArch64::BRKPAS_PPzPP;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="keywordflow">case</span> AArch64::BRKB_PPzP:</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <span class="keywordflow">return</span> AArch64::BRKBS_PPzP;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="keywordflow">case</span> AArch64::BRKPB_PPzPP:</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <span class="keywordflow">return</span> AArch64::BRKPBS_PPzPP;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  <span class="keywordflow">case</span> AArch64::BRKN_PPzP:</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    <span class="keywordflow">return</span> AArch64::BRKNS_PPzP;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  <span class="keywordflow">case</span> AArch64::RDFFR_PPz:</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <span class="keywordflow">return</span> AArch64::RDFFRS_PPz;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  <span class="keywordflow">case</span> AArch64::PTRUE_B:</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="keywordflow">return</span> AArch64::PTRUES_B;</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  }</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;}</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160; </div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;<span class="comment">// Is this a candidate for ld/st merging or pairing?  For example, we don&#39;t</span></div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;<span class="comment">// touch volatiles or load/stores that have a hint to avoid pair formation.</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#af28ada2e1e13faab18ee3746c01e684c"> 2513</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af28ada2e1e13faab18ee3746c01e684c">AArch64InstrInfo::isCandidateToMergeOrPair</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160; </div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;  <span class="keywordtype">bool</span> IsPreLdSt = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a482f66b2913dcfcc84a4cfeafc83e304">isPreLdSt</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160; </div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <span class="comment">// If this is a volatile load/store, don&#39;t mess with it.</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasOrderedMemoryRef())</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160; </div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;  <span class="comment">// Make sure this is a reg/fi+imm (as opposed to an address reloc).</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="comment">// For Pre-inc LD/ST, the operand is shifted by one.</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(IsPreLdSt ? 2 : 1).isReg() ||</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;          <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(IsPreLdSt ? 2 : 1).isFI()) &amp;&amp;</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;         <span class="stringliteral">&quot;Expected a reg or frame index operand.&quot;</span>);</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160; </div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="comment">// For Pre-indexed addressing quadword instructions, the third operand is the</span></div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <span class="comment">// immediate value.</span></div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordtype">bool</span> IsImmPreLdSt = IsPreLdSt &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).isImm();</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160; </div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isImm() &amp;&amp; !IsImmPreLdSt)</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160; </div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="comment">// Can&#39;t merge/pair if the instruction modifies the base register.</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  <span class="comment">// e.g., ldr x0, [x0]</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  <span class="comment">// This case will never occur with an FI base.</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="comment">// However, if the instruction is an LDR/STR&lt;S,D,Q,W,X&gt;pre, it can be merged.</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <span class="comment">// For example:</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  <span class="comment">//   ldr q0, [x11, #32]!</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  <span class="comment">//   ldr q1, [x11, #16]</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <span class="comment">//   to</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  <span class="comment">//   ldp q0, q1, [x11, #32]!</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isReg() &amp;&amp; !IsPreLdSt) {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> BaseReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.modifiesRegister(BaseReg, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160; </div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <span class="comment">// Check if this load/store has a hint to avoid pair formation.</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  <span class="comment">// MachineMemOperands hints are set by the AArch64StorePairSuppress pass.</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AArch64InstrInfo.html#aaa692777da741a4f7da2822b9f154a42">isLdStPairSuppressed</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160; </div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <span class="comment">// Do not pair any callee-save store/reload instructions in the</span></div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  <span class="comment">// prologue/epilogue if the CFI information encoded the operations as separate</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="comment">// instructions, as that will cause the size of the actual prologue to mismatch</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="comment">// with the prologue size recorded in the Windows CFI.</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmInfo.html">MCAsmInfo</a> *MAI = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getMF()-&gt;getTarget().getMCAsmInfo();</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="keywordtype">bool</span> NeedsWinCFI = MAI-&gt;<a class="code" href="classllvm_1_1MCAsmInfo.html#ac158349781823fe8ff9e02d3a3533d55">usesWindowsCFI</a>() &amp;&amp;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;                     <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getMF()-&gt;getFunction().needsUnwindTableEntry();</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <span class="keywordflow">if</span> (NeedsWinCFI &amp;&amp; (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getFlag(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>) ||</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;                      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getFlag(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a4e4e6764dc61dbf0e8f330644880480f">MachineInstr::FrameDestroy</a>)))</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160; </div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  <span class="comment">// On some CPUs quad load/store pairs are slower than two single load/stores.</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <span class="keywordflow">if</span> (Subtarget.isPaired128Slow()) {</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    <span class="keywordflow">case</span> AArch64::LDURQi:</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <span class="keywordflow">case</span> AArch64::STURQi:</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="keywordflow">case</span> AArch64::LDRQui:</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <span class="keywordflow">case</span> AArch64::STRQui:</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    }</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  }</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;}</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160; </div>
<div class="line"><a name="l02582"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a90a17ebfc2faf34552e728b4bd90800c"> 2582</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a90a17ebfc2faf34552e728b4bd90800c">AArch64InstrInfo::getMemOperandsWithOffsetWidth</a>(</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LdSt, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const MachineOperand *&gt;</a> &amp;BaseOps,</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <span class="keywordtype">bool</span> &amp;OffsetIsScalable, <span class="keywordtype">unsigned</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>,</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="keywordflow">if</span> (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>())</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160; </div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *BaseOp;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a1e330d75233f2f61fdb64b374f55ee04">getMemOperandWithOffsetWidth</a>(LdSt, BaseOp, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, OffsetIsScalable,</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;                                    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  BaseOps.push_back(BaseOp);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;}</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160; </div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;std::optional&lt;ExtAddrMode&gt;</div>
<div class="line"><a name="l02598"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a4d52ee98b63ac121fc09f1a5b04358ed"> 2598</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a4d52ee98b63ac121fc09f1a5b04358ed">AArch64InstrInfo::getAddrModeFromMemoryOp</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MemI,</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>; <span class="comment">// Filled with the base operand of MI.</span></div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;             <span class="comment">// Filled with the offset of MI.</span></div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <span class="keywordtype">bool</span> OffsetIsScalable;</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  <span class="keywordflow">if</span> (!getMemOperandWithOffset(MemI, <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, OffsetIsScalable, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160; </div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>-&gt;isReg())</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <a class="code" href="structllvm_1_1ExtAddrMode.html">ExtAddrMode</a> AM;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  AM.<a class="code" href="structllvm_1_1ExtAddrMode.html#a2404b5dd8b0a6746487c699291c54927">BaseReg</a> = <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>-&gt;getReg();</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  AM.<a class="code" href="structllvm_1_1ExtAddrMode.html#a6a401a868b47dfbf62f962c746579675">Displacement</a> = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;  AM.<a class="code" href="structllvm_1_1ExtAddrMode.html#a243a500ecf43f8be3648cd935b943165">ScaledReg</a> = 0;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  AM.<a class="code" href="structllvm_1_1ExtAddrMode.html#ae20bc007be03337ee451abb60d74260b">Scale</a> = 0;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="keywordflow">return</span> AM;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;}</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160; </div>
<div class="line"><a name="l02616"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a1e330d75233f2f61fdb64b374f55ee04"> 2616</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a1e330d75233f2f61fdb64b374f55ee04">AArch64InstrInfo::getMemOperandWithOffsetWidth</a>(</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LdSt, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *&amp;BaseOp, int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="keywordtype">bool</span> &amp;OffsetIsScalable, <span class="keywordtype">unsigned</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>,</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>() &amp;&amp; <span class="stringliteral">&quot;Expected a memory operation.&quot;</span>);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <span class="comment">// Handle only loads/stores with base register followed by immediate offset.</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="keywordflow">if</span> (LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">getNumExplicitOperands</a>() == 3) {</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <span class="comment">// Non-paired instruction (e.g., ldr x1, [x0, #8]).</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    <span class="keywordflow">if</span> ((!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>()) ||</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        !LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">getNumExplicitOperands</a>() == 4) {</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="comment">// Paired instruction (e.g., ldp x1, x2, [x0, #8]).</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="keywordflow">if</span> (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() ||</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>()) ||</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        !LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160; </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  <span class="comment">// Get the scaling factor for the instruction and set the width for the</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  <span class="comment">// instruction.</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a> Scale(0U, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  int64_t Dummy1, Dummy2;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160; </div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  <span class="comment">// If this returns false, then it&#39;s an instruction we don&#39;t want to handle.</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1AArch64InstrInfo.html#aaab2023296750137637c02807f30ef25">getMemOpInfo</a>(LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>(), Scale, <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, Dummy1, Dummy2))</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160; </div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;  <span class="comment">// Compute the offset. Offset is calculated as the immediate operand</span></div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  <span class="comment">// multiplied by the scaling factor. Unscaled instructions have scaling factor</span></div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  <span class="comment">// set to 1.</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <span class="keywordflow">if</span> (LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">getNumExplicitOperands</a>() == 3) {</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    BaseOp = &amp;LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() * Scale.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>();</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">getNumExplicitOperands</a>() == 4 &amp;&amp; <span class="stringliteral">&quot;invalid number of operands&quot;</span>);</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    BaseOp = &amp;LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() * Scale.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>();</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  }</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  OffsetIsScalable = Scale.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>();</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160; </div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  <span class="keywordflow">if</span> (!BaseOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !BaseOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>())</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160; </div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;}</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160; </div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;</div>
<div class="line"><a name="l02665"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a9f95e557fb675ab6ef80f2fc4b8b3e01"> 2665</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a9f95e557fb675ab6ef80f2fc4b8b3e01">AArch64InstrInfo::getMemOpBaseRegImmOfsOffsetOperand</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LdSt)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>() &amp;&amp; <span class="stringliteral">&quot;Expected a memory operation.&quot;</span>);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;OfsOp = LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">getNumExplicitOperands</a>() - 1);</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OfsOp.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp; <span class="stringliteral">&quot;Offset operand wasn&#39;t immediate.&quot;</span>);</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="keywordflow">return</span> OfsOp;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;}</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160; </div>
<div class="line"><a name="l02672"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#aaab2023296750137637c02807f30ef25"> 2672</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aaab2023296750137637c02807f30ef25">AArch64InstrInfo::getMemOpInfo</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a> &amp;Scale,</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;                                    <span class="keywordtype">unsigned</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, int64_t &amp;MinOffset,</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;                                    int64_t &amp;MaxOffset) {</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> SVEMaxBytesPerVector = <a class="code" href="namespacellvm_1_1AArch64.html#a6a5ae9fa4a6b5b601a674e40a86e861a">AArch64::SVEMaxBitsPerVector</a> / 8;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  <span class="comment">// Not a memory operation or something we want to handle.</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(0);</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 0;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    MinOffset = MaxOffset = 0;</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWpost:</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWpost:</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 32;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(4);</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURQi:</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="keywordflow">case</span> AArch64::STURQi:</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 16;</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  <span class="keywordflow">case</span> AArch64::PRFUMi:</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURXi:</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURDi:</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <span class="keywordflow">case</span> AArch64::STURXi:</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <span class="keywordflow">case</span> AArch64::STURDi:</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 8;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURWi:</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSi:</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSWi:</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <span class="keywordflow">case</span> AArch64::STURWi:</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  <span class="keywordflow">case</span> AArch64::STURSi:</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 4;</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURHi:</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURHHi:</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSHXi:</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSHWi:</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <span class="keywordflow">case</span> AArch64::STURHi:</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  <span class="keywordflow">case</span> AArch64::STURHHi:</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 2;</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURBi:</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURBBi:</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSBXi:</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSBWi:</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <span class="keywordflow">case</span> AArch64::STURBi:</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  <span class="keywordflow">case</span> AArch64::STURBBi:</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 1;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPQi:</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPQi:</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="keywordflow">case</span> AArch64::STPQi:</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPQi:</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(16);</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 32;</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    MinOffset = -64;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQui:</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQui:</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(16);</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 16;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    MaxOffset = 4095;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPXi:</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPDi:</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPXi:</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPDi:</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  <span class="keywordflow">case</span> AArch64::STPXi:</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  <span class="keywordflow">case</span> AArch64::STPDi:</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPXi:</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPDi:</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(8);</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 16;</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    MinOffset = -64;</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  <span class="keywordflow">case</span> AArch64::PRFMui:</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXui:</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDui:</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXui:</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDui:</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(8);</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 8;</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    MaxOffset = 4095;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <span class="keywordflow">case</span> AArch64::StoreSwiftAsyncContext:</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="comment">// Store is an STRXui, but there might be an ADDXri in the expansion too.</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 8;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    MaxOffset = 4095;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPWi:</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPSi:</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPWi:</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNPSi:</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;  <span class="keywordflow">case</span> AArch64::STPWi:</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <span class="keywordflow">case</span> AArch64::STPSi:</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPWi:</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;  <span class="keywordflow">case</span> AArch64::STNPSi:</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(4);</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 8;</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    MinOffset = -64;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWui:</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSui:</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSWui:</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWui:</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSui:</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(4);</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 4;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    MaxOffset = 4095;</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHui:</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHHui:</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSHWui:</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSHXui:</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHui:</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHHui:</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(2);</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 2;</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    MaxOffset = 4095;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBui:</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBBui:</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSBWui:</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSBXui:</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBui:</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBBui:</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 1;</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    MaxOffset = 4095;</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;  <span class="keywordflow">case</span> AArch64::STPXpre:</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPXpost:</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  <span class="keywordflow">case</span> AArch64::STPDpre:</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPDpost:</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(8);</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 8;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    MinOffset = -512;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;    MaxOffset = 504;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  <span class="keywordflow">case</span> AArch64::STPQpre:</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPQpost:</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(16);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 16;</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    MinOffset = -1024;</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    MaxOffset = 1008;</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXpre:</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDpre:</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXpost:</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDpost:</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 8;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQpre:</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQpost:</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 16;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDG:</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(16);</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 0;</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <span class="keywordflow">case</span> AArch64::TAGPstack:</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(16);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 0;</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    <span class="comment">// TAGP with a negative offset turns into SUBP, which has a maximum offset</span></div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <span class="comment">// of 63 (not 64!).</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    MinOffset = -63;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="keywordflow">case</span> AArch64::LDG:</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <span class="keywordflow">case</span> AArch64::STGOffset:</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;  <span class="keywordflow">case</span> AArch64::STZGOffset:</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(16);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 16;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  <span class="keywordflow">case</span> AArch64::STR_ZZZZXI:</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="keywordflow">case</span> AArch64::LDR_ZZZZXI:</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(16);</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector * 4;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    MaxOffset = 252;</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="keywordflow">case</span> AArch64::STR_ZZZXI:</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="keywordflow">case</span> AArch64::LDR_ZZZXI:</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(16);</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector * 3;</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    MaxOffset = 253;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <span class="keywordflow">case</span> AArch64::STR_ZZXI:</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  <span class="keywordflow">case</span> AArch64::LDR_ZZXI:</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(16);</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector * 2;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    MaxOffset = 254;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  <span class="keywordflow">case</span> AArch64::LDR_PXI:</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <span class="keywordflow">case</span> AArch64::STR_PXI:</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(2);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector / 8;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <span class="keywordflow">case</span> AArch64::LDR_ZXI:</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  <span class="keywordflow">case</span> AArch64::STR_ZXI:</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(16);</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1B_IMM:</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1H_IMM:</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1W_IMM:</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1D_IMM:</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNT1B_ZRI:</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNT1H_ZRI:</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNT1W_ZRI:</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNT1D_ZRI:</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1B_IMM:</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1H_IMM:</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1W_IMM:</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1D_IMM:</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <span class="keywordflow">case</span> AArch64::STNT1B_ZRI:</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;  <span class="keywordflow">case</span> AArch64::STNT1H_ZRI:</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  <span class="keywordflow">case</span> AArch64::STNT1W_ZRI:</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;  <span class="keywordflow">case</span> AArch64::STNT1D_ZRI:</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1B_IMM:</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1H_IMM:</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1W_IMM:</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1D_IMM:</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <span class="comment">// A full vectors worth of data</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <span class="comment">// Width = mbytes * elements</span></div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(16);</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    MinOffset = -8;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    MaxOffset = 7;</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <span class="keywordflow">case</span> AArch64::LD2B_IMM:</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <span class="keywordflow">case</span> AArch64::LD2H_IMM:</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;  <span class="keywordflow">case</span> AArch64::LD2W_IMM:</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  <span class="keywordflow">case</span> AArch64::LD2D_IMM:</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2B_IMM:</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2H_IMM:</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2W_IMM:</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2D_IMM:</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(32);</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector * 2;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    MinOffset = -8;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    MaxOffset = 7;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  <span class="keywordflow">case</span> AArch64::LD3B_IMM:</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="keywordflow">case</span> AArch64::LD3H_IMM:</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  <span class="keywordflow">case</span> AArch64::LD3W_IMM:</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="keywordflow">case</span> AArch64::LD3D_IMM:</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <span class="keywordflow">case</span> AArch64::ST3B_IMM:</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <span class="keywordflow">case</span> AArch64::ST3H_IMM:</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <span class="keywordflow">case</span> AArch64::ST3W_IMM:</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <span class="keywordflow">case</span> AArch64::ST3D_IMM:</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(48);</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector * 3;</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    MinOffset = -8;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    MaxOffset = 7;</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="keywordflow">case</span> AArch64::LD4B_IMM:</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <span class="keywordflow">case</span> AArch64::LD4H_IMM:</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  <span class="keywordflow">case</span> AArch64::LD4W_IMM:</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;  <span class="keywordflow">case</span> AArch64::LD4D_IMM:</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;  <span class="keywordflow">case</span> AArch64::ST4B_IMM:</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <span class="keywordflow">case</span> AArch64::ST4H_IMM:</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;  <span class="keywordflow">case</span> AArch64::ST4W_IMM:</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <span class="keywordflow">case</span> AArch64::ST4D_IMM:</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(64);</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector * 4;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    MinOffset = -8;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    MaxOffset = 7;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1B_H_IMM:</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SB_H_IMM:</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1H_S_IMM:</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SH_S_IMM:</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1W_D_IMM:</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SW_D_IMM:</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1B_H_IMM:</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1H_S_IMM:</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1W_D_IMM:</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1B_H_IMM:</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SB_H_IMM:</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1H_S_IMM:</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SH_S_IMM:</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1W_D_IMM:</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SW_D_IMM:</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="comment">// A half vector worth of data</span></div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <span class="comment">// Width = mbytes * elements</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(8);</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector / 2;</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    MinOffset = -8;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    MaxOffset = 7;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1B_S_IMM:</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SB_S_IMM:</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1H_D_IMM:</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SH_D_IMM:</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1B_S_IMM:</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1H_D_IMM:</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1B_S_IMM:</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SB_S_IMM:</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1H_D_IMM:</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SH_D_IMM:</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    <span class="comment">// A quarter vector worth of data</span></div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <span class="comment">// Width = mbytes * elements</span></div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(4);</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector / 4;</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    MinOffset = -8;</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    MaxOffset = 7;</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1B_D_IMM:</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1SB_D_IMM:</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1B_D_IMM:</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1B_D_IMM:</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;  <span class="keywordflow">case</span> AArch64::LDNF1SB_D_IMM:</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    <span class="comment">// A eighth vector worth of data</span></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <span class="comment">// Width = mbytes * elements</span></div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    Scale = <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">TypeSize::Scalable</a>(2);</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = SVEMaxBytesPerVector / 8;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    MinOffset = -8;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    MaxOffset = 7;</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2GOffset:</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;  <span class="keywordflow">case</span> AArch64::STZ2GOffset:</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(16);</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 32;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    MinOffset = -256;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    MaxOffset = 255;</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  <span class="keywordflow">case</span> AArch64::STGPi:</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(16);</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 16;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    MinOffset = -64;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RB_IMM:</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RB_H_IMM:</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RB_S_IMM:</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RB_D_IMM:</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSB_H_IMM:</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSB_S_IMM:</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSB_D_IMM:</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(1);</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 1;</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RH_IMM:</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RH_S_IMM:</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RH_D_IMM:</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSH_S_IMM:</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSH_D_IMM:</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(2);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 2;</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RW_IMM:</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RW_D_IMM:</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RSW_IMM:</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(4);</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 4;</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1RD_IMM:</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    Scale = <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(8);</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = 8;</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    MinOffset = 0;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    MaxOffset = 63;</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  }</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160; </div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;}</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160; </div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;<span class="comment">// Scaling factor for unscaled load or store.</span></div>
<div class="line"><a name="l03091"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#af269ff6efde917e353e6652a11e473ec"> 3091</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af269ff6efde917e353e6652a11e473ec">AArch64InstrInfo::getMemScale</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Opcode has unknown scale!&quot;</span>);</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRBBui:</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURBBi:</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSBWui:</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSBWi:</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;  <span class="keywordflow">case</span> AArch64::STRBBui:</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;  <span class="keywordflow">case</span> AArch64::STURBBi:</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRHHui:</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURHHi:</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSHWui:</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSHWi:</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  <span class="keywordflow">case</span> AArch64::STRHHui:</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  <span class="keywordflow">case</span> AArch64::STURHHi:</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSui:</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSi:</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSpre:</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSWui:</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSWi:</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWpre:</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWui:</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURWi:</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSui:</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  <span class="keywordflow">case</span> AArch64::STURSi:</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSpre:</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWui:</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;  <span class="keywordflow">case</span> AArch64::STURWi:</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWpre:</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPSi:</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPSWi:</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPWi:</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  <span class="keywordflow">case</span> AArch64::STPSi:</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  <span class="keywordflow">case</span> AArch64::STPWi:</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDui:</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURDi:</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDpre:</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXui:</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURXi:</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXpre:</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDui:</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;  <span class="keywordflow">case</span> AArch64::STURDi:</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDpre:</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXui:</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;  <span class="keywordflow">case</span> AArch64::STURXi:</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXpre:</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPDi:</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPXi:</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  <span class="keywordflow">case</span> AArch64::STPDi:</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  <span class="keywordflow">case</span> AArch64::STPXi:</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    <span class="keywordflow">return</span> 8;</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQui:</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURQi:</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQui:</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;  <span class="keywordflow">case</span> AArch64::STURQi:</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQpre:</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPQi:</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQpre:</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  <span class="keywordflow">case</span> AArch64::STPQi:</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;  <span class="keywordflow">case</span> AArch64::STGOffset:</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;  <span class="keywordflow">case</span> AArch64::STZGOffset:</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;  <span class="keywordflow">case</span> AArch64::ST2GOffset:</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;  <span class="keywordflow">case</span> AArch64::STZ2GOffset:</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  <span class="keywordflow">case</span> AArch64::STGPi:</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    <span class="keywordflow">return</span> 16;</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  }</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;}</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160; </div>
<div class="line"><a name="l03163"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#aea1877f1ea9ff547ae50f179902e2961"> 3163</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aea1877f1ea9ff547ae50f179902e2961">AArch64InstrInfo::isPreLd</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWpre:</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRXpre:</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSpre:</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRDpre:</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRQpre:</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;  }</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;}</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160; </div>
<div class="line"><a name="l03176"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a61af0a6c92c6e41f81dcead5ef46a4a7"> 3176</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a61af0a6c92c6e41f81dcead5ef46a4a7">AArch64InstrInfo::isPreSt</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  <span class="keywordflow">case</span> AArch64::STRWpre:</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;  <span class="keywordflow">case</span> AArch64::STRXpre:</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;  <span class="keywordflow">case</span> AArch64::STRSpre:</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;  <span class="keywordflow">case</span> AArch64::STRDpre:</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;  <span class="keywordflow">case</span> AArch64::STRQpre:</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;  }</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;}</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160; </div>
<div class="line"><a name="l03189"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a482f66b2913dcfcc84a4cfeafc83e304"> 3189</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a482f66b2913dcfcc84a4cfeafc83e304">AArch64InstrInfo::isPreLdSt</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aea1877f1ea9ff547ae50f179902e2961">isPreLd</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a61af0a6c92c6e41f81dcead5ef46a4a7">isPreSt</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;}</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160; </div>
<div class="line"><a name="l03193"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a6ba8f62a5514943195111193dfd7ae08"> 3193</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a6ba8f62a5514943195111193dfd7ae08">AArch64InstrInfo::isPairedLdSt</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPSi:</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPSWi:</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPDi:</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPQi:</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPWi:</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  <span class="keywordflow">case</span> AArch64::LDPXi:</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <span class="keywordflow">case</span> AArch64::STPSi:</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  <span class="keywordflow">case</span> AArch64::STPDi:</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <span class="keywordflow">case</span> AArch64::STPQi:</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;  <span class="keywordflow">case</span> AArch64::STPWi:</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;  <span class="keywordflow">case</span> AArch64::STPXi:</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;  <span class="keywordflow">case</span> AArch64::STGPi:</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;  }</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;}</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160; </div>
<div class="line"><a name="l03213"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#af66bca919a5501ae9f377298fd684864"> 3213</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#af66bca919a5501ae9f377298fd684864">AArch64InstrInfo::getLdStBaseOp</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;  <span class="keywordtype">unsigned</span> Idx =</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a6ba8f62a5514943195111193dfd7ae08">AArch64InstrInfo::isPairedLdSt</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a482f66b2913dcfcc84a4cfeafc83e304">AArch64InstrInfo::isPreLdSt</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) ? 2</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                                                                            : 1;</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Idx);</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;}</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160; </div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;</div>
<div class="line"><a name="l03221"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a3111bf1fd6e9282ec7a9b14b3a3cae3e"> 3221</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a3111bf1fd6e9282ec7a9b14b3a3cae3e">AArch64InstrInfo::getLdStOffsetOp</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;  <span class="keywordtype">unsigned</span> Idx =</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;      <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a6ba8f62a5514943195111193dfd7ae08">AArch64InstrInfo::isPairedLdSt</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a482f66b2913dcfcc84a4cfeafc83e304">AArch64InstrInfo::isPreLdSt</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) ? 3</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;                                                                            : 2;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Idx);</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;}</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160; </div>
<div class="line"><a name="l03228"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da"> 3228</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *<a class="code" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">getRegClass</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;                                              <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent() == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;  <span class="keywordflow">return</span> MF ? MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a3699f85cc3382ffc17d597837412b27d">getRegClassOrNull</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;}</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160; </div>
<div class="line"><a name="l03236"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a0650a7436e6924414e9d28b7b7cbfd66"> 3236</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a0650a7436e6924414e9d28b7b7cbfd66">AArch64InstrInfo::isQForm</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;  <span class="keyword">auto</span> IsQFPR = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg())</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg();</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isPhysical())</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;      <span class="keywordflow">return</span> AArch64::FPR128RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *TRC = <a class="code" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">::getRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <span class="keywordflow">return</span> TRC == &amp;AArch64::FPR128RegClass ||</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;           TRC == &amp;AArch64::FPR128_loRegClass;</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;  };</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands(), IsQFPR);</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;}</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160; </div>
<div class="line"><a name="l03250"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a918c01f70ad534a740d3dc2ad3af1a3f"> 3250</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a918c01f70ad534a740d3dc2ad3af1a3f">AArch64InstrInfo::isFpOrNEON</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;  <span class="keyword">auto</span> IsFPR = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg())</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg();</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isPhysical())</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;      <span class="keywordflow">return</span> AArch64::FPR128RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) ||</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;             AArch64::FPR64RegClass.contains(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) ||</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;             AArch64::FPR32RegClass.contains(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) ||</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;             AArch64::FPR16RegClass.contains(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) ||</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;             AArch64::FPR8RegClass.contains(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160; </div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *TRC = <a class="code" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">::getRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    <span class="keywordflow">return</span> TRC == &amp;AArch64::FPR128RegClass ||</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;           TRC == &amp;AArch64::FPR128_loRegClass ||</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;           TRC == &amp;AArch64::FPR64RegClass ||</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;           TRC == &amp;AArch64::FPR64_loRegClass ||</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;           TRC == &amp;AArch64::FPR32RegClass || TRC == &amp;AArch64::FPR16RegClass ||</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;           TRC == &amp;AArch64::FPR8RegClass;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;  };</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands(), IsFPR);</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;}</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160; </div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;<span class="comment">// Scale the unscaled offsets.  Returns false if the unscaled offset can&#39;t be</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;<span class="comment">// scaled.</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a6bee6e7bc0ab5c00b5331eddb64e7ac4"> 3275</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a6bee6e7bc0ab5c00b5331eddb64e7ac4">scaleOffset</a>(<span class="keywordtype">unsigned</span> Opc, int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  <span class="keywordtype">int</span> Scale = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af269ff6efde917e353e6652a11e473ec">AArch64InstrInfo::getMemScale</a>(Opc);</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160; </div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  <span class="comment">// If the byte-offset isn&#39;t a multiple of the stride, we can&#39;t scale this</span></div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;  <span class="comment">// offset.</span></div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> % Scale != 0)</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160; </div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;  <span class="comment">// Convert the byte-offset used by unscaled into an &quot;element&quot; offset used</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;  <span class="comment">// by the scaled pair load/store instructions.</span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;  <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> /= Scale;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;}</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160; </div>
<div class="line"><a name="l03289"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a372af6912a0c5feb882c8194f28ab8b2"> 3289</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a372af6912a0c5feb882c8194f28ab8b2">canPairLdStOpc</a>(<span class="keywordtype">unsigned</span> FirstOpc, <span class="keywordtype">unsigned</span> SecondOpc) {</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  <span class="keywordflow">if</span> (FirstOpc == SecondOpc)</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  <span class="comment">// We can also pair sign-ext and zero-ext instructions.</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;  <span class="keywordflow">switch</span> (FirstOpc) {</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRWui:</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURWi:</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <span class="keywordflow">return</span> SecondOpc == AArch64::LDRSWui || SecondOpc == AArch64::LDURSWi;</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;  <span class="keywordflow">case</span> AArch64::LDRSWui:</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;  <span class="keywordflow">case</span> AArch64::LDURSWi:</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    <span class="keywordflow">return</span> SecondOpc == AArch64::LDRWui || SecondOpc == AArch64::LDURWi;</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  }</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;  <span class="comment">// These instructions can&#39;t be paired based on their opcodes.</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;}</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160; </div>
<div class="line"><a name="l03307"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ac6785462ddb955dc6a9a79d592dd9718"> 3307</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ac6785462ddb955dc6a9a79d592dd9718">shouldClusterFI</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI, <span class="keywordtype">int</span> FI1,</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                            int64_t Offset1, <span class="keywordtype">unsigned</span> Opcode1, <span class="keywordtype">int</span> FI2,</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;                            int64_t Offset2, <span class="keywordtype">unsigned</span> Opcode2) {</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <span class="comment">// Accesses through fixed stack object frame indices may access a different</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;  <span class="comment">// fixed stack slot. Check that the object offsets + offsets match.</span></div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae6e7e975f7a4e5d535be32068a7c67df">isFixedObjectIndex</a>(FI1) &amp;&amp; MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae6e7e975f7a4e5d535be32068a7c67df">isFixedObjectIndex</a>(FI2)) {</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    int64_t ObjectOffset1 = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">getObjectOffset</a>(FI1);</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    int64_t ObjectOffset2 = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">getObjectOffset</a>(FI2);</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ObjectOffset1 &lt;= ObjectOffset2 &amp;&amp; <span class="stringliteral">&quot;Object offsets are not ordered.&quot;</span>);</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    <span class="comment">// Convert to scaled object offsets.</span></div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    <span class="keywordtype">int</span> Scale1 = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af269ff6efde917e353e6652a11e473ec">AArch64InstrInfo::getMemScale</a>(Opcode1);</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    <span class="keywordflow">if</span> (ObjectOffset1 % Scale1 != 0)</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;    ObjectOffset1 /= Scale1;</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;    <span class="keywordtype">int</span> Scale2 = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af269ff6efde917e353e6652a11e473ec">AArch64InstrInfo::getMemScale</a>(Opcode2);</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    <span class="keywordflow">if</span> (ObjectOffset2 % Scale2 != 0)</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    ObjectOffset2 /= Scale2;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    ObjectOffset1 += Offset1;</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    ObjectOffset2 += Offset2;</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;    <span class="keywordflow">return</span> ObjectOffset1 + 1 == ObjectOffset2;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;  }</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160; </div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;  <span class="keywordflow">return</span> FI1 == FI2;</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;}</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;<span class="comment">/// Detect opportunities for ldp/stp formation.</span></div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;<span class="comment">/// Only called for LdSt for which getMemOperandWithOffset returns true.</span></div>
<div class="line"><a name="l03336"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a1c6c6052f4f028c5fc16a59cce34dd14"> 3336</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a1c6c6052f4f028c5fc16a59cce34dd14">AArch64InstrInfo::shouldClusterMemOps</a>(</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps1,</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps2, <span class="keywordtype">unsigned</span> NumLoads,</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <span class="keywordtype">unsigned</span> NumBytes)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 1 &amp;&amp; BaseOps2.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 1);</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;BaseOp1 = *BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">front</a>();</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;BaseOp2 = *BaseOps2.<a class="code" href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">front</a>();</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;FirstLdSt = *BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>();</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;SecondLdSt = *BaseOp2.<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>();</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;  <span class="keywordflow">if</span> (BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#ab313591ae4ea1e3a4ab59121a7dc2a2b">getType</a>() != BaseOp2.<a class="code" href="classllvm_1_1MachineOperand.html#ab313591ae4ea1e3a4ab59121a7dc2a2b">getType</a>())</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160; </div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>()) &amp;&amp;</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;         <span class="stringliteral">&quot;Only base registers and frame indices are supported.&quot;</span>);</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160; </div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;  <span class="comment">// Check for both base regs and base FI.</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <span class="keywordflow">if</span> (BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() != BaseOp2.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160; </div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;  <span class="comment">// Only cluster up to a single pair.</span></div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  <span class="keywordflow">if</span> (NumLoads &gt; 2)</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160; </div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a5c41685529bfa4394f6b8f15207809c1">isPairableLdStInst</a>(FirstLdSt) || !<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a5c41685529bfa4394f6b8f15207809c1">isPairableLdStInst</a>(SecondLdSt))</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160; </div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;  <span class="comment">// Can we pair these instructions based on their opcodes?</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;  <span class="keywordtype">unsigned</span> FirstOpc = FirstLdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  <span class="keywordtype">unsigned</span> SecondOpc = SecondLdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64InstrInfo_8cpp.html#a372af6912a0c5feb882c8194f28ab8b2">canPairLdStOpc</a>(FirstOpc, SecondOpc))</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160; </div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;  <span class="comment">// Can&#39;t merge volatiles or load/stores that have a hint to avoid pair</span></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;  <span class="comment">// formation, for example.</span></div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1AArch64InstrInfo.html#af28ada2e1e13faab18ee3746c01e684c">isCandidateToMergeOrPair</a>(FirstLdSt) ||</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;      !<a class="code" href="classllvm_1_1AArch64InstrInfo.html#af28ada2e1e13faab18ee3746c01e684c">isCandidateToMergeOrPair</a>(SecondLdSt))</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160; </div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  <span class="comment">// isCandidateToMergeOrPair guarantees that operand 2 is an immediate.</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;  int64_t Offset1 = FirstLdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a402d07e412b1466bf04c19cfde24de49">hasUnscaledLdStOffset</a>(FirstOpc) &amp;&amp; !<a class="code" href="AArch64InstrInfo_8cpp.html#a6bee6e7bc0ab5c00b5331eddb64e7ac4">scaleOffset</a>(FirstOpc, Offset1))</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160; </div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;  int64_t Offset2 = SecondLdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a402d07e412b1466bf04c19cfde24de49">hasUnscaledLdStOffset</a>(SecondOpc) &amp;&amp; !<a class="code" href="AArch64InstrInfo_8cpp.html#a6bee6e7bc0ab5c00b5331eddb64e7ac4">scaleOffset</a>(SecondOpc, Offset2))</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160; </div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;  <span class="comment">// Pairwise instructions have a 7-bit signed offset field.</span></div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;  <span class="keywordflow">if</span> (Offset1 &gt; 63 || Offset1 &lt; -64)</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160; </div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  <span class="comment">// The caller should already have ordered First/SecondLdSt by offset.</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;  <span class="comment">// Note: except for non-equal frame index bases</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;  <span class="keywordflow">if</span> (BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>()) {</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">isIdenticalTo</a>(BaseOp2) || Offset1 &lt;= Offset2) &amp;&amp;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;           <span class="stringliteral">&quot;Caller should have ordered offsets.&quot;</span>);</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160; </div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI =</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;        FirstLdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ac6785462ddb955dc6a9a79d592dd9718">shouldClusterFI</a>(MFI, BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">getIndex</a>(), Offset1, FirstOpc,</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                           BaseOp2.<a class="code" href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">getIndex</a>(), Offset2, SecondOpc);</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;  }</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160; </div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Offset1 &lt;= Offset2 &amp;&amp; <span class="stringliteral">&quot;Caller should have ordered offsets.&quot;</span>);</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160; </div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;  <span class="keywordflow">return</span> Offset1 + 1 == Offset2;</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;}</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160; </div>
<div class="line"><a name="l03404"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a8b5ade7499d54741b10d53af24ed3ff2"> 3404</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> &amp;<a class="code" href="AArch64InstrInfo_8cpp.html#a8b5ade7499d54741b10d53af24ed3ff2">AddSubReg</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> &amp;MIB,</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;                                            <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keywordtype">unsigned</span> SubIdx,</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;                                            <span class="keywordtype">unsigned</span> State,</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) {</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;  <span class="keywordflow">if</span> (!SubIdx)</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <span class="keywordflow">return</span> MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, State);</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160; </div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Register.html#af4aef3aa547629015801993f9d393109">Register::isPhysicalRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    <span class="keywordflow">return</span> MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">getSubReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SubIdx), State);</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  <span class="keywordflow">return</span> MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, State, SubIdx);</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;}</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160; </div>
<div class="line"><a name="l03416"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a00bd5f8fc1c23cffaa56ecb4cf6443d4"> 3416</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a00bd5f8fc1c23cffaa56ecb4cf6443d4">forwardCopyWillClobberTuple</a>(<span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> SrcReg,</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;                                        <span class="keywordtype">unsigned</span> NumRegs) {</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;  <span class="comment">// We really want the positive remainder mod 32 here, that happens to be</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;  <span class="comment">// easily obtainable with a mask.</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  <span class="keywordflow">return</span> ((DestReg - SrcReg) &amp; 0x1f) &lt; NumRegs;</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;}</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160; </div>
<div class="line"><a name="l03423"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5"> 3423</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">AArch64InstrInfo::copyPhysRegTuple</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;                                        <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestReg,</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;                                        <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcReg, <span class="keywordtype">bool</span> KillSrc,</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;                                        <span class="keywordtype">unsigned</span> Opcode,</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;                                        <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Indices)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register copy without NEON&quot;</span>);</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> DestEncoding = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a8ce9439c5f364d8b85930e0ee689bbb8">getEncodingValue</a>(DestReg);</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> SrcEncoding = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a8ce9439c5f364d8b85930e0ee689bbb8">getEncodingValue</a>(SrcReg);</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;  <span class="keywordtype">unsigned</span> NumRegs = Indices.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>();</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160; </div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = 0, End = NumRegs, Incr = 1;</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a00bd5f8fc1c23cffaa56ecb4cf6443d4">forwardCopyWillClobberTuple</a>(DestEncoding, SrcEncoding, NumRegs)) {</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = NumRegs - 1;</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    End = -1;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    Incr = -1;</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  }</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160; </div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  <span class="keywordflow">for</span> (; <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> != End; <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> += Incr) {</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode));</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a8b5ade7499d54741b10d53af24ed3ff2">AddSubReg</a>(MIB, DestReg, Indices[<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>], <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a8b5ade7499d54741b10d53af24ed3ff2">AddSubReg</a>(MIB, SrcReg, Indices[<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>], 0, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a8b5ade7499d54741b10d53af24ed3ff2">AddSubReg</a>(MIB, SrcReg, Indices[<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>], <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  }</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;}</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160; </div>
<div class="line"><a name="l03450"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a989da0fe668d5de76ef2ccd3c04a8d35"> 3450</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a989da0fe668d5de76ef2ccd3c04a8d35">AArch64InstrInfo::copyGPRRegTuple</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;                                       <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <span class="keywordtype">unsigned</span> DestReg,</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;                                       <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">bool</span> KillSrc,</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;                                       <span class="keywordtype">unsigned</span> Opcode, <span class="keywordtype">unsigned</span> ZeroReg,</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;                                       <a class="code" href="classllvm_1_1ArrayRef.html">llvm::ArrayRef&lt;unsigned&gt;</a> Indices)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <span class="keywordtype">unsigned</span> NumRegs = Indices.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>();</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160; </div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> DestEncoding = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a8ce9439c5f364d8b85930e0ee689bbb8">getEncodingValue</a>(DestReg);</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> SrcEncoding = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a8ce9439c5f364d8b85930e0ee689bbb8">getEncodingValue</a>(SrcReg);</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DestEncoding % NumRegs == 0 &amp;&amp; SrcEncoding % NumRegs == 0 &amp;&amp;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;         <span class="stringliteral">&quot;GPR reg sequences should not be able to overlap&quot;</span>);</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160; </div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = 0; <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> != NumRegs; ++<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>) {</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode));</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a8b5ade7499d54741b10d53af24ed3ff2">AddSubReg</a>(MIB, DestReg, Indices[<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>], <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ZeroReg);</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a8b5ade7499d54741b10d53af24ed3ff2">AddSubReg</a>(MIB, SrcReg, Indices[<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>], <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  }</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;}</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160; </div>
<div class="line"><a name="l03475"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a298be1031f30bb6d33dda81a8fc572fc"> 3475</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a298be1031f30bb6d33dda81a8fc572fc">AArch64InstrInfo::copyPhysReg</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;                                   <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestReg,</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;                                   <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcReg, <span class="keywordtype">bool</span> KillSrc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;  <span class="keywordflow">if</span> (AArch64::GPR32spRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;      (AArch64::GPR32spRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) || SrcReg == AArch64::WZR)) {</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160; </div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <span class="keywordflow">if</span> (DestReg == AArch64::WSP || SrcReg == AArch64::WSP) {</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;      <span class="comment">// If either operand is WSP, expand to ADD #0.</span></div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;      <span class="keywordflow">if</span> (Subtarget.hasZeroCycleRegMove()) {</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;        <span class="comment">// Cyclone recognizes &quot;ADD Xd, Xn, #0&quot; as a zero-cycle register move.</span></div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;        <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestRegX = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa5aad3f9195b1fd331f449ce9a709da2">getMatchingSuperReg</a>(</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;            DestReg, AArch64::sub_32, &amp;AArch64::GPR64spRegClass);</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;        <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcRegX = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa5aad3f9195b1fd331f449ce9a709da2">getMatchingSuperReg</a>(</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;            SrcReg, AArch64::sub_32, &amp;AArch64::GPR64spRegClass);</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;        <span class="comment">// This instruction is reading and writing X registers.  This may upset</span></div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;        <span class="comment">// the register scavenger and machine verifier, so we need to indicate</span></div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;        <span class="comment">// that we are reading an undefined value from SrcRegX, but a proper</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;        <span class="comment">// value from SrcReg.</span></div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ADDXri), DestRegX)</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcRegX, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>)</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#aeae88f12b667477f90db9b726556b337">AArch64_AM::getShifterImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a1d97e13eb9923037fe733eda83b7f938">AArch64_AM::LSL</a>, 0))</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ADDWri), DestReg)</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc))</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#aeae88f12b667477f90db9b726556b337">AArch64_AM::getShifterImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a1d97e13eb9923037fe733eda83b7f938">AArch64_AM::LSL</a>, 0));</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;      }</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SrcReg == AArch64::WZR &amp;&amp; Subtarget.hasZeroCycleZeroingGP()) {</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::MOVZWi), DestReg)</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#aeae88f12b667477f90db9b726556b337">AArch64_AM::getShifterImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a1d97e13eb9923037fe733eda83b7f938">AArch64_AM::LSL</a>, 0));</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;      <span class="keywordflow">if</span> (Subtarget.hasZeroCycleRegMove()) {</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        <span class="comment">// Cyclone recognizes &quot;ORR Xd, XZR, Xm&quot; as a zero-cycle register move.</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;        <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestRegX = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa5aad3f9195b1fd331f449ce9a709da2">getMatchingSuperReg</a>(</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;            DestReg, AArch64::sub_32, &amp;AArch64::GPR64spRegClass);</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;        <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcRegX = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa5aad3f9195b1fd331f449ce9a709da2">getMatchingSuperReg</a>(</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;            SrcReg, AArch64::sub_32, &amp;AArch64::GPR64spRegClass);</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;        <span class="comment">// This instruction is reading and writing X registers.  This may upset</span></div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        <span class="comment">// the register scavenger and machine verifier, so we need to indicate</span></div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;        <span class="comment">// that we are reading an undefined value from SrcRegX, but a proper</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;        <span class="comment">// value from SrcReg.</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ORRXrr), DestRegX)</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::XZR)</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcRegX, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>)</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;        <span class="comment">// Otherwise, expand to ORR WZR.</span></div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ORRWrr), DestReg)</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::WZR)</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;      }</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    }</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;  }</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160; </div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;  <span class="comment">// Copy a Predicate register by ORRing with itself.</span></div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <span class="keywordflow">if</span> (AArch64::PPRRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;      AArch64::PPRRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a6bf37de5e34809ecd132df69cc78bd07">hasSVEorSME</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected SVE register.&quot;</span>);</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ORR_PPzPP), DestReg)</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg) <span class="comment">// Pg</span></div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg)</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  }</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160; </div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;  <span class="comment">// Copy a Z register by ORRing with itself.</span></div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;  <span class="keywordflow">if</span> (AArch64::ZPRRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;      AArch64::ZPRRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a6bf37de5e34809ecd132df69cc78bd07">hasSVEorSME</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected SVE register.&quot;</span>);</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ORR_ZZZ), DestReg)</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg)</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;  }</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160; </div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;  <span class="comment">// Copy a Z register pair by copying the individual sub-registers.</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  <span class="keywordflow">if</span> (AArch64::ZPR2RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;      AArch64::ZPR2RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a6bf37de5e34809ecd132df69cc78bd07">hasSVEorSME</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected SVE register.&quot;</span>);</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::zsub0, AArch64::zsub1};</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">copyPhysRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORR_ZZZ,</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;                     Indices);</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  }</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160; </div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <span class="comment">// Copy a Z register triple by copying the individual sub-registers.</span></div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;  <span class="keywordflow">if</span> (AArch64::ZPR3RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;      AArch64::ZPR3RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a6bf37de5e34809ecd132df69cc78bd07">hasSVEorSME</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected SVE register.&quot;</span>);</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::zsub0, AArch64::zsub1,</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;                                       AArch64::zsub2};</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">copyPhysRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORR_ZZZ,</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;                     Indices);</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;  }</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160; </div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;  <span class="comment">// Copy a Z register quad by copying the individual sub-registers.</span></div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;  <span class="keywordflow">if</span> (AArch64::ZPR4RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;      AArch64::ZPR4RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a6bf37de5e34809ecd132df69cc78bd07">hasSVEorSME</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected SVE register.&quot;</span>);</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::zsub0, AArch64::zsub1,</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;                                       AArch64::zsub2, AArch64::zsub3};</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">copyPhysRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORR_ZZZ,</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;                     Indices);</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;  }</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160; </div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;  <span class="keywordflow">if</span> (AArch64::GPR64spRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;      (AArch64::GPR64spRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) || SrcReg == AArch64::XZR)) {</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    <span class="keywordflow">if</span> (DestReg == AArch64::SP || SrcReg == AArch64::SP) {</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;      <span class="comment">// If either operand is SP, expand to ADD #0.</span></div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ADDXri), DestReg)</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc))</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#aeae88f12b667477f90db9b726556b337">AArch64_AM::getShifterImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a1d97e13eb9923037fe733eda83b7f938">AArch64_AM::LSL</a>, 0));</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SrcReg == AArch64::XZR &amp;&amp; Subtarget.hasZeroCycleZeroingGP()) {</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::MOVZXi), DestReg)</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#aeae88f12b667477f90db9b726556b337">AArch64_AM::getShifterImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a1d97e13eb9923037fe733eda83b7f938">AArch64_AM::LSL</a>, 0));</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;      <span class="comment">// Otherwise, expand to ORR XZR.</span></div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ORRXrr), DestReg)</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::XZR)</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    }</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  }</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160; </div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;  <span class="comment">// Copy a DDDD register quad by copying the individual sub-registers.</span></div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;  <span class="keywordflow">if</span> (AArch64::DDDDRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;      AArch64::DDDDRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::dsub0, AArch64::dsub1,</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;                                       AArch64::dsub2, AArch64::dsub3};</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">copyPhysRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORRv8i8,</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;                     Indices);</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;  }</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160; </div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;  <span class="comment">// Copy a DDD register triple by copying the individual sub-registers.</span></div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;  <span class="keywordflow">if</span> (AArch64::DDDRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;      AArch64::DDDRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::dsub0, AArch64::dsub1,</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;                                       AArch64::dsub2};</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">copyPhysRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORRv8i8,</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;                     Indices);</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  }</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160; </div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;  <span class="comment">// Copy a DD register pair by copying the individual sub-registers.</span></div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  <span class="keywordflow">if</span> (AArch64::DDRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;      AArch64::DDRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::dsub0, AArch64::dsub1};</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">copyPhysRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORRv8i8,</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;                     Indices);</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  }</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160; </div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;  <span class="comment">// Copy a QQQQ register quad by copying the individual sub-registers.</span></div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;  <span class="keywordflow">if</span> (AArch64::QQQQRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;      AArch64::QQQQRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::qsub0, AArch64::qsub1,</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;                                       AArch64::qsub2, AArch64::qsub3};</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">copyPhysRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORRv16i8,</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;                     Indices);</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  }</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160; </div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  <span class="comment">// Copy a QQQ register triple by copying the individual sub-registers.</span></div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  <span class="keywordflow">if</span> (AArch64::QQQRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;      AArch64::QQQRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::qsub0, AArch64::qsub1,</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;                                       AArch64::qsub2};</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">copyPhysRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORRv16i8,</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;                     Indices);</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  }</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160; </div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  <span class="comment">// Copy a QQ register pair by copying the individual sub-registers.</span></div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <span class="keywordflow">if</span> (AArch64::QQRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;      AArch64::QQRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::qsub0, AArch64::qsub1};</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">copyPhysRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORRv16i8,</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;                     Indices);</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;  }</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160; </div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  <span class="keywordflow">if</span> (AArch64::XSeqPairsClassRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;      AArch64::XSeqPairsClassRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::sube64, AArch64::subo64};</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a989da0fe668d5de76ef2ccd3c04a8d35">copyGPRRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORRXrs,</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;                    AArch64::XZR, Indices);</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;  }</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160; </div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <span class="keywordflow">if</span> (AArch64::WSeqPairsClassRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;      AArch64::WSeqPairsClassRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Indices[] = {AArch64::sube32, AArch64::subo32};</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a989da0fe668d5de76ef2ccd3c04a8d35">copyGPRRegTuple</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, AArch64::ORRWrs,</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;                    AArch64::WZR, Indices);</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;  }</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160; </div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <span class="keywordflow">if</span> (AArch64::FPR128RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;      AArch64::FPR128RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a0c98b67f7eccc57aa4872a3fa136c2b8">forceStreamingCompatibleSVE</a>()) {</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ORR_ZZZ))</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::Z0 + (DestReg - AArch64::Q0), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::Z0 + (SrcReg - AArch64::Q0))</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::Z0 + (SrcReg - AArch64::Q0));</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget.hasNEON()) {</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ORRv16i8), DestReg)</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg)</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::STRQpre))</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc))</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP)</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(-16);</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRQpre))</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP)</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(16);</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    }</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  }</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160; </div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;  <span class="keywordflow">if</span> (AArch64::FPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;      AArch64::FPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::FMOVDr), DestReg)</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;  }</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160; </div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  <span class="keywordflow">if</span> (AArch64::FPR32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;      AArch64::FPR32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::FMOVSr), DestReg)</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;  }</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160; </div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;  <span class="keywordflow">if</span> (AArch64::FPR16RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;      AArch64::FPR16RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    DestReg =</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;        RI.getMatchingSuperReg(DestReg, AArch64::hsub, &amp;AArch64::FPR32RegClass);</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    SrcReg =</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;        RI.getMatchingSuperReg(SrcReg, AArch64::hsub, &amp;AArch64::FPR32RegClass);</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::FMOVSr), DestReg)</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  }</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160; </div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;  <span class="keywordflow">if</span> (AArch64::FPR8RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;      AArch64::FPR8RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    DestReg =</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;        RI.getMatchingSuperReg(DestReg, AArch64::bsub, &amp;AArch64::FPR32RegClass);</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    SrcReg =</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;        RI.getMatchingSuperReg(SrcReg, AArch64::bsub, &amp;AArch64::FPR32RegClass);</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::FMOVSr), DestReg)</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  }</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160; </div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;  <span class="comment">// Copies between GPR64 and FPR64.</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;  <span class="keywordflow">if</span> (AArch64::FPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;      AArch64::GPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::FMOVXDr), DestReg)</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  }</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;  <span class="keywordflow">if</span> (AArch64::GPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;      AArch64::FPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::FMOVDXr), DestReg)</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  }</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;  <span class="comment">// Copies between GPR32 and FPR32.</span></div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  <span class="keywordflow">if</span> (AArch64::FPR32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;      AArch64::GPR32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::FMOVWSr), DestReg)</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;  }</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  <span class="keywordflow">if</span> (AArch64::GPR32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;      AArch64::FPR32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::FMOVSWr), DestReg)</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  }</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160; </div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;  <span class="keywordflow">if</span> (DestReg == AArch64::NZCV) {</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AArch64::GPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) &amp;&amp; <span class="stringliteral">&quot;Invalid NZCV copy&quot;</span>);</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::MSR))</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AArch64SysReg::NZCV)</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc))</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::NZCV, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  }</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160; </div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;  <span class="keywordflow">if</span> (SrcReg == AArch64::NZCV) {</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AArch64::GPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp; <span class="stringliteral">&quot;Invalid NZCV copy&quot;</span>);</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19a0767ec4421b5ce84bb44f55969d6bea8">AArch64::MRS</a>), DestReg)</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AArch64SysReg::NZCV)</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::NZCV, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;  }</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160; </div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;  <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ad4f8f1aca0bb01f65be1d7dee43f7f83">getRegAsmName</a>(DestReg) &lt;&lt; <span class="stringliteral">&quot; = COPY &quot;</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;         &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ad4f8f1aca0bb01f65be1d7dee43f7f83">getRegAsmName</a>(SrcReg) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unimplemented reg-to-reg copy&quot;</span>);</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;}</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160; </div>
<div class="line"><a name="l03797"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#afb4c3921369b6b1fef886bfa979b6d2a"> 3797</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="AArch64InstrInfo_8cpp.html#afb4c3921369b6b1fef886bfa979b6d2a">storeRegPairToStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;                                    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> InsertBefore,</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID,</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;                                    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg, <span class="keywordtype">bool</span> IsKill,</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;                                    <span class="keywordtype">unsigned</span> SubIdx0, <span class="keywordtype">unsigned</span> SubIdx1, <span class="keywordtype">int</span> FI,</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;                                    <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO) {</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg0 = SrcReg;</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg1 = SrcReg;</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  <span class="keywordflow">if</span> (SrcReg.<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>()) {</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    SrcReg0 = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">getSubReg</a>(SrcReg, SubIdx0);</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    SubIdx0 = 0;</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;    SrcReg1 = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">getSubReg</a>(SrcReg, SubIdx1);</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    SubIdx1 = 0;</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  }</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsertBefore, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), MCID)</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(IsKill), SubIdx0)</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(IsKill), SubIdx1)</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">addFrameIndex</a>(FI)</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(MMO);</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;}</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160; </div>
<div class="line"><a name="l03820"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a9443e11ff036b633e23f360416d529e8"> 3820</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a9443e11ff036b633e23f360416d529e8">AArch64InstrInfo::storeRegToStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;                                           <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>,</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                                           <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg, <span class="keywordtype">bool</span> isKill, <span class="keywordtype">int</span> FI,</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;                                           <a class="code" href="classllvm_1_1Register.html">Register</a> VReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160; </div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;  <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a> PtrInfo = <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, FI);</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">getMachineMemOperand</a>(PtrInfo, <a class="code" href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>,</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;                              MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(FI), MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(FI));</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;  <span class="keywordtype">unsigned</span> StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>;</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ad0e6256f93a13938e8e59828d5677e32">getSpillSize</a>(*RC)) {</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;  <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;    <span class="keywordflow">if</span> (AArch64::FPR8RegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;      Opc = AArch64::STRBui;</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    <span class="keywordflow">if</span> (AArch64::FPR16RegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;      Opc = AArch64::STRHui;</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::PPRRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without SVE&quot;</span>);</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;      Opc = AArch64::STR_PXI;</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    }</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    <span class="keywordflow">if</span> (AArch64::GPR32allRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;      Opc = AArch64::STRWui;</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;      <span class="keywordflow">if</span> (SrcReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;        MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg, &amp;AArch64::GPR32RegClass);</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcReg != AArch64::WSP);</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::FPR32RegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;      Opc = AArch64::STRSui;</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    <span class="keywordflow">if</span> (AArch64::GPR64allRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;      Opc = AArch64::STRXui;</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;      <span class="keywordflow">if</span> (SrcReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;        MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg, &amp;AArch64::GPR64RegClass);</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcReg != AArch64::SP);</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::FPR64RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      Opc = AArch64::STRDui;</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::WSeqPairsClassRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#afb4c3921369b6b1fef886bfa979b6d2a">storeRegPairToStackSlot</a>(<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>,</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;                              <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::STPWi), SrcReg, isKill,</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;                              AArch64::sube32, AArch64::subo32, FI, MMO);</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;    }</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;    <span class="keywordflow">if</span> (AArch64::FPR128RegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;      Opc = AArch64::STRQui;</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::DDRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without NEON&quot;</span>);</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;      Opc = AArch64::ST1Twov1d;</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::XSeqPairsClassRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#afb4c3921369b6b1fef886bfa979b6d2a">storeRegPairToStackSlot</a>(<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>,</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;                              <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::STPXi), SrcReg, isKill,</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;                              AArch64::sube64, AArch64::subo64, FI, MMO);</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::ZPRRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without SVE&quot;</span>);</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;      Opc = AArch64::STR_ZXI;</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    }</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;    <span class="keywordflow">if</span> (AArch64::DDDRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without NEON&quot;</span>);</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;      Opc = AArch64::ST1Threev1d;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;    }</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;    <span class="keywordflow">if</span> (AArch64::DDDDRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without NEON&quot;</span>);</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;      Opc = AArch64::ST1Fourv1d;</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::QQRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without NEON&quot;</span>);</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;      Opc = AArch64::ST1Twov2d;</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::ZPR2RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without SVE&quot;</span>);</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;      Opc = AArch64::STR_ZZXI;</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;    }</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    <span class="keywordflow">if</span> (AArch64::QQQRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without NEON&quot;</span>);</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;      Opc = AArch64::ST1Threev2d;</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::ZPR3RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without SVE&quot;</span>);</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;      Opc = AArch64::STR_ZZZXI;</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;    }</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;    <span class="keywordflow">if</span> (AArch64::QQQQRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without NEON&quot;</span>);</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      Opc = AArch64::ST1Fourv2d;</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::ZPR4RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register store without SVE&quot;</span>);</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;      Opc = AArch64::STR_ZZZZXI;</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    }</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;  }</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Opc &amp;&amp; <span class="stringliteral">&quot;Unknown register class&quot;</span>);</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a6ba514594eb802f087046edbe201f8f4">setStackID</a>(FI, StackID);</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160; </div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc))</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;                                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;                                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">addFrameIndex</a>(FI);</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160; </div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addImm(0);</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addMemOperand(MMO);</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;}</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160; </div>
<div class="line"><a name="l03951"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ab1601d92ffdfcf6fe48b40b6a7cf8d59"> 3951</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ab1601d92ffdfcf6fe48b40b6a7cf8d59">loadRegPairFromStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;                                     <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;                                     <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> InsertBefore,</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID,</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;                                     <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg, <span class="keywordtype">unsigned</span> SubIdx0,</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;                                     <span class="keywordtype">unsigned</span> SubIdx1, <span class="keywordtype">int</span> FI,</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;                                     <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO) {</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg0 = DestReg;</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg1 = DestReg;</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;  <span class="keywordtype">bool</span> IsUndef = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;  <span class="keywordflow">if</span> (DestReg.<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>()) {</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;    DestReg0 = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">getSubReg</a>(DestReg, SubIdx0);</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    SubIdx0 = 0;</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;    DestReg1 = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">getSubReg</a>(DestReg, SubIdx1);</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    SubIdx1 = 0;</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;    IsUndef = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  }</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsertBefore, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), MCID)</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestReg0, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(IsUndef), SubIdx0)</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestReg1, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(IsUndef), SubIdx1)</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">addFrameIndex</a>(FI)</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(MMO);</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;}</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160; </div>
<div class="line"><a name="l03976"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a7663d9ec7fc1457a7d7f3eeaeb3b356a"> 3976</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a7663d9ec7fc1457a7d7f3eeaeb3b356a">AArch64InstrInfo::loadRegFromStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;                                            <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>,</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;                                            <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg, <span class="keywordtype">int</span> FI,</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;                                            <a class="code" href="classllvm_1_1Register.html">Register</a> VReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;  <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a> PtrInfo = <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, FI);</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">getMachineMemOperand</a>(PtrInfo, <a class="code" href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>,</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;                              MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(FI), MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(FI));</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160; </div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;  <span class="keywordtype">unsigned</span> StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>;</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ad0e6256f93a13938e8e59828d5677e32">getSpillSize</a>(*RC)) {</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;    <span class="keywordflow">if</span> (AArch64::FPR8RegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;      Opc = AArch64::LDRBui;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;  <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;    <span class="keywordflow">if</span> (AArch64::FPR16RegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;      Opc = AArch64::LDRHui;</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::PPRRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without SVE&quot;</span>);</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;      Opc = AArch64::LDR_PXI;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    }</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    <span class="keywordflow">if</span> (AArch64::GPR32allRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;      Opc = AArch64::LDRWui;</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;      <span class="keywordflow">if</span> (DestReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;        MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(DestReg, &amp;AArch64::GPR32RegClass);</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DestReg != AArch64::WSP);</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::FPR32RegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;      Opc = AArch64::LDRSui;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;    <span class="keywordflow">if</span> (AArch64::GPR64allRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;      Opc = AArch64::LDRXui;</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;      <span class="keywordflow">if</span> (DestReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;        MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(DestReg, &amp;AArch64::GPR64RegClass);</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DestReg != AArch64::SP);</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::FPR64RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;      Opc = AArch64::LDRDui;</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::WSeqPairsClassRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#ab1601d92ffdfcf6fe48b40b6a7cf8d59">loadRegPairFromStackSlot</a>(<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>,</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;                               <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDPWi), DestReg, AArch64::sube32,</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;                               AArch64::subo32, FI, MMO);</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    }</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    <span class="keywordflow">if</span> (AArch64::FPR128RegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;      Opc = AArch64::LDRQui;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::DDRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without NEON&quot;</span>);</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;      Opc = AArch64::LD1Twov1d;</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::XSeqPairsClassRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#ab1601d92ffdfcf6fe48b40b6a7cf8d59">loadRegPairFromStackSlot</a>(<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>,</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;                               <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDPXi), DestReg, AArch64::sube64,</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;                               AArch64::subo64, FI, MMO);</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::ZPRRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without SVE&quot;</span>);</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;      Opc = AArch64::LDR_ZXI;</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;    }</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;    <span class="keywordflow">if</span> (AArch64::DDDRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without NEON&quot;</span>);</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;      Opc = AArch64::LD1Threev1d;</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    }</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;    <span class="keywordflow">if</span> (AArch64::DDDDRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without NEON&quot;</span>);</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;      Opc = AArch64::LD1Fourv1d;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::QQRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without NEON&quot;</span>);</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;      Opc = AArch64::LD1Twov2d;</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::ZPR2RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without SVE&quot;</span>);</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;      Opc = AArch64::LDR_ZZXI;</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;    }</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;    <span class="keywordflow">if</span> (AArch64::QQQRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without NEON&quot;</span>);</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;      Opc = AArch64::LD1Threev2d;</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::ZPR3RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without SVE&quot;</span>);</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;      Opc = AArch64::LDR_ZZZXI;</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;    }</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;    <span class="keywordflow">if</span> (AArch64::QQQQRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasNEON() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without NEON&quot;</span>);</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;      Opc = AArch64::LD1Fourv2d;</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::ZPR4RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasSVE() &amp;&amp; <span class="stringliteral">&quot;Unexpected register load without SVE&quot;</span>);</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;      Opc = AArch64::LDR_ZZZZXI;</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;      StackID = <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">TargetStackID::ScalableVector</a>;</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    }</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;  }</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160; </div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Opc &amp;&amp; <span class="stringliteral">&quot;Unknown register class&quot;</span>);</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a6ba514594eb802f087046edbe201f8f4">setStackID</a>(FI, StackID);</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160; </div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc))</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;                                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestReg, <a class="code" href="namespacellvm.html#aa5e4d7acf58e87826a15b94d37144f2b">getDefRegState</a>(<span class="keyword">true</span>))</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;                                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">addFrameIndex</a>(FI);</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addImm(0);</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addMemOperand(MMO);</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;}</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160; </div>
<div class="line"><a name="l04107"></a><span class="lineno"><a class="line" href="namespacellvm.html#adb26c86c4abcccbe5376b3f7e5e8af69"> 4107</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#adb26c86c4abcccbe5376b3f7e5e8af69">llvm::isNZCVTouchedInInstructionRange</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>,</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) {</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(<a class="code" href="namespacellvm.html#a90f68a1fc5d44bb06164dc2188b8e486">instructionsWithoutDebug</a>(std::next(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getIterator()),</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;                                         <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getIterator()),</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;                [<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;                  return I.modifiesRegister(AArch64::NZCV, TRI) ||</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;                         I.readsRegister(AArch64::NZCV, TRI);</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;                });</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;}</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160; </div>
<div class="line"><a name="l04118"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#aff8cfe59027e5ffa1af1ff646a2da516"> 4118</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aff8cfe59027e5ffa1af1ff646a2da516">AArch64InstrInfo::decomposeStackOffsetForDwarfOffsets</a>(</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, int64_t &amp;ByteSized, int64_t &amp;VGSized) {</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;  <span class="comment">// The smallest scalable element supported by scaled SVE addressing</span></div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;  <span class="comment">// modes are predicates, which are 2 scalable bytes in size. So the scalable</span></div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;  <span class="comment">// byte offset must always be a multiple of 2.</span></div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getScalable() % 2 == 0 &amp;&amp; <span class="stringliteral">&quot;Invalid frame offset&quot;</span>);</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160; </div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <span class="comment">// VGSized offsets are divided by &#39;2&#39;, because the VG register is the</span></div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;  <span class="comment">// the number of 64bit granules as opposed to 128bit vector chunks,</span></div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  <span class="comment">// which is how the &#39;n&#39; in e.g. MVT::nxv1i8 is modelled.</span></div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  <span class="comment">// So, for a stack offset of 16 MVT::nxv1i8&#39;s, the size is n x 16 bytes.</span></div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  <span class="comment">// VG = n * 2 and the dwarf offset must be VG * 8 bytes.</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  ByteSized = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getFixed();</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  VGSized = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getScalable() / 2;</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;}</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;<span class="comment">/// Returns the offset in parts to which this frame offset can be</span></div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;<span class="comment">/// decomposed for the purpose of describing a frame offset.</span></div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;<span class="comment">/// For non-scalable offsets this is simply its byte size.</span></div>
<div class="line"><a name="l04137"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a06abc64620fa2741d4756f05c337c9aa"> 4137</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a06abc64620fa2741d4756f05c337c9aa">AArch64InstrInfo::decomposeStackOffsetForFrameOffsets</a>(</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, int64_t &amp;NumBytes, int64_t &amp;NumPredicateVectors,</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    int64_t &amp;NumDataVectors) {</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;  <span class="comment">// The smallest scalable element supported by scaled SVE addressing</span></div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;  <span class="comment">// modes are predicates, which are 2 scalable bytes in size. So the scalable</span></div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;  <span class="comment">// byte offset must always be a multiple of 2.</span></div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getScalable() % 2 == 0 &amp;&amp; <span class="stringliteral">&quot;Invalid frame offset&quot;</span>);</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160; </div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;  NumBytes = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getFixed();</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;  NumDataVectors = 0;</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;  NumPredicateVectors = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getScalable() / 2;</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;  <span class="comment">// This method is used to get the offsets to adjust the frame offset.</span></div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  <span class="comment">// If the function requires ADDPL to be used and needs more than two ADDPL</span></div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;  <span class="comment">// instructions, part of the offset is folded into NumDataVectors so that it</span></div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;  <span class="comment">// uses ADDVL for part of it, reducing the number of ADDPL instructions.</span></div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;  <span class="keywordflow">if</span> (NumPredicateVectors % 8 == 0 || NumPredicateVectors &lt; -64 ||</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;      NumPredicateVectors &gt; 62) {</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;    NumDataVectors = NumPredicateVectors / 8;</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    NumPredicateVectors -= NumDataVectors * 8;</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;  }</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;}</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160; </div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;<span class="comment">// Convenience function to create a DWARF expression for</span></div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;<span class="comment">//   Expr + NumBytes + NumVGScaledBytes * AArch64::VG</span></div>
<div class="line"><a name="l04161"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a6030b34ba7d1e280088089c0e269bbed"> 4161</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a6030b34ba7d1e280088089c0e269bbed">appendVGScaledOffsetExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;char&gt;</a> &amp;Expr, <span class="keywordtype">int</span> NumBytes,</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;                                     <span class="keywordtype">int</span> NumVGScaledBytes, <span class="keywordtype">unsigned</span> VG,</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;                                     <a class="code" href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a> &amp;Comment) {</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;  uint8_t buffer[16];</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160; </div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;  <span class="keywordflow">if</span> (NumBytes) {</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    Expr.push_back(dwarf::DW_OP_consts);</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    Expr.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(buffer, buffer + <a class="code" href="namespacellvm.html#ac21006e81ffbbc79e8e51e44f7878053">encodeSLEB128</a>(NumBytes, buffer));</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    Expr.push_back((uint8_t)dwarf::DW_OP_plus);</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;    Comment &lt;&lt; (NumBytes &lt; 0 ? <span class="stringliteral">&quot; - &quot;</span> : <span class="stringliteral">&quot; + &quot;</span>) &lt;&lt; <a class="code" href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">std::abs</a>(NumBytes);</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;  }</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160; </div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;  <span class="keywordflow">if</span> (NumVGScaledBytes) {</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;    Expr.push_back((uint8_t)dwarf::DW_OP_consts);</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;    Expr.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(buffer, buffer + <a class="code" href="namespacellvm.html#ac21006e81ffbbc79e8e51e44f7878053">encodeSLEB128</a>(NumVGScaledBytes, buffer));</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160; </div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;    Expr.push_back((uint8_t)dwarf::DW_OP_bregx);</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;    Expr.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(buffer, buffer + <a class="code" href="namespacellvm.html#ad0f8c0e82cde3bb0849fc59e3510f05a">encodeULEB128</a>(VG, buffer));</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    Expr.push_back(0);</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160; </div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    Expr.push_back((uint8_t)dwarf::DW_OP_mul);</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    Expr.push_back((uint8_t)dwarf::DW_OP_plus);</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160; </div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    Comment &lt;&lt; (NumVGScaledBytes &lt; 0 ? <span class="stringliteral">&quot; - &quot;</span> : <span class="stringliteral">&quot; + &quot;</span>)</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;            &lt;&lt; <a class="code" href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">std::abs</a>(NumVGScaledBytes) &lt;&lt; <span class="stringliteral">&quot; * VG&quot;</span>;</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;  }</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;}</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160; </div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;<span class="comment">// Creates an MCCFIInstruction:</span></div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;<span class="comment">//    { DW_CFA_def_cfa_expression, ULEB128 (sizeof expr), expr }</span></div>
<div class="line"><a name="l04191"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ad301df8bf0c11d0c17113d3c221025d8"> 4191</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MCCFIInstruction.html">MCCFIInstruction</a> <a class="code" href="AArch64InstrInfo_8cpp.html#ad301df8bf0c11d0c17113d3c221025d8">createDefCFAExpression</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;                                               <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  int64_t NumBytes, NumVGScaledBytes;</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;  <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aff8cfe59027e5ffa1af1ff646a2da516">AArch64InstrInfo::decomposeStackOffsetForDwarfOffsets</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, NumBytes,</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;                                                        NumVGScaledBytes);</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;  std::string CommentBuffer;</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;  <a class="code" href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a> Comment(CommentBuffer);</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160; </div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> == AArch64::SP)</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;    Comment &lt;&lt; <span class="stringliteral">&quot;sp&quot;</span>;</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> == AArch64::FP)</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;    Comment &lt;&lt; <span class="stringliteral">&quot;fp&quot;</span>;</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;    Comment &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160; </div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;  <span class="comment">// Build up the expression (Reg + NumBytes + NumVGScaledBytes * AArch64::VG)</span></div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;64&gt;</a> Expr;</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;  <span class="keywordtype">unsigned</span> DwarfReg = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#a0a20b56d95a9020588d573b6f7340cd5">getDwarfRegNum</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;  Expr.push_back((uint8_t)(dwarf::DW_OP_breg0 + DwarfReg));</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;  Expr.push_back(0);</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;  <a class="code" href="AArch64InstrInfo_8cpp.html#a6030b34ba7d1e280088089c0e269bbed">appendVGScaledOffsetExpr</a>(Expr, NumBytes, NumVGScaledBytes,</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;                           <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#a0a20b56d95a9020588d573b6f7340cd5">getDwarfRegNum</a>(AArch64::VG, <span class="keyword">true</span>), Comment);</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160; </div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;  <span class="comment">// Wrap this into DW_CFA_def_cfa.</span></div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;64&gt;</a> DefCfaExpr;</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;  DefCfaExpr.push_back(dwarf::DW_CFA_def_cfa_expression);</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;  uint8_t buffer[16];</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;  DefCfaExpr.<a class="code" href="classllvm_1_1SmallString.html#ac22cf1a1c08b7ccaefc51508536312a4">append</a>(buffer, buffer + <a class="code" href="namespacellvm.html#ad0f8c0e82cde3bb0849fc59e3510f05a">encodeULEB128</a>(Expr.size(), buffer));</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;  DefCfaExpr.<a class="code" href="classllvm_1_1SmallString.html#ac22cf1a1c08b7ccaefc51508536312a4">append</a>(Expr.<a class="code" href="classllvm_1_1SmallString.html#af5dd7241878be5eed07736eb156bb10b">str</a>());</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MCCFIInstruction.html#ae450f408644d907ec3e4ea018f764a0b">MCCFIInstruction::createEscape</a>(<span class="keyword">nullptr</span>, DefCfaExpr.<a class="code" href="classllvm_1_1SmallString.html#af5dd7241878be5eed07736eb156bb10b">str</a>(),</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;                                        Comment.str());</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;}</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160; </div>
<div class="line"><a name="l04225"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1170c3796a8947456c2d7841642b96eb"> 4225</a></span>&#160;<a class="code" href="classllvm_1_1MCCFIInstruction.html">MCCFIInstruction</a> <a class="code" href="namespacellvm.html#a1170c3796a8947456c2d7841642b96eb">llvm::createDefCFA</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;                                    <span class="keywordtype">unsigned</span> FrameReg, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;                                    <span class="keywordtype">bool</span> LastAdjustmentWasScalable) {</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getScalable())</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ad301df8bf0c11d0c17113d3c221025d8">createDefCFAExpression</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160; </div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;  <span class="keywordflow">if</span> (FrameReg == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> &amp;&amp; !LastAdjustmentWasScalable)</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MCCFIInstruction.html#a03e76dd55b65ca0af930c3150413e148">MCCFIInstruction::cfiDefCfaOffset</a>(<span class="keyword">nullptr</span>, <span class="keywordtype">int</span>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getFixed()));</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160; </div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;  <span class="keywordtype">unsigned</span> DwarfReg = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#a0a20b56d95a9020588d573b6f7340cd5">getDwarfRegNum</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MCCFIInstruction.html#abda962a8d0de68f0817ed1837557713a">MCCFIInstruction::cfiDefCfa</a>(<span class="keyword">nullptr</span>, DwarfReg, (<span class="keywordtype">int</span>)<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getFixed());</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;}</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160; </div>
<div class="line"><a name="l04239"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2cd95c4fd57b9c1804bc70a37ac24574"> 4239</a></span>&#160;<a class="code" href="classllvm_1_1MCCFIInstruction.html">MCCFIInstruction</a> <a class="code" href="namespacellvm.html#a2cd95c4fd57b9c1804bc70a37ac24574">llvm::createCFAOffset</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;                                       <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> &amp;OffsetFromDefCFA) {</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;  int64_t NumBytes, NumVGScaledBytes;</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;  <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aff8cfe59027e5ffa1af1ff646a2da516">AArch64InstrInfo::decomposeStackOffsetForDwarfOffsets</a>(</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;      OffsetFromDefCFA, NumBytes, NumVGScaledBytes);</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160; </div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;  <span class="keywordtype">unsigned</span> DwarfReg = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#a0a20b56d95a9020588d573b6f7340cd5">getDwarfRegNum</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160; </div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;  <span class="comment">// Non-scalable offsets can use DW_CFA_offset directly.</span></div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;  <span class="keywordflow">if</span> (!NumVGScaledBytes)</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MCCFIInstruction.html#aea2b8a3efd6694a33452ed7e8716300e">MCCFIInstruction::createOffset</a>(<span class="keyword">nullptr</span>, DwarfReg, NumBytes);</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160; </div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;  std::string CommentBuffer;</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;  <a class="code" href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a> Comment(CommentBuffer);</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;  Comment &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) &lt;&lt; <span class="stringliteral">&quot;  @ cfa&quot;</span>;</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160; </div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <span class="comment">// Build up expression (NumBytes + NumVGScaledBytes * AArch64::VG)</span></div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;64&gt;</a> OffsetExpr;</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <a class="code" href="AArch64InstrInfo_8cpp.html#a6030b34ba7d1e280088089c0e269bbed">appendVGScaledOffsetExpr</a>(OffsetExpr, NumBytes, NumVGScaledBytes,</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;                           <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#a0a20b56d95a9020588d573b6f7340cd5">getDwarfRegNum</a>(AArch64::VG, <span class="keyword">true</span>), Comment);</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160; </div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;  <span class="comment">// Wrap this into DW_CFA_expression</span></div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;64&gt;</a> CfaExpr;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;  CfaExpr.push_back(dwarf::DW_CFA_expression);</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;  uint8_t buffer[16];</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  CfaExpr.<a class="code" href="classllvm_1_1SmallString.html#ac22cf1a1c08b7ccaefc51508536312a4">append</a>(buffer, buffer + <a class="code" href="namespacellvm.html#ad0f8c0e82cde3bb0849fc59e3510f05a">encodeULEB128</a>(DwarfReg, buffer));</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;  CfaExpr.<a class="code" href="classllvm_1_1SmallString.html#ac22cf1a1c08b7ccaefc51508536312a4">append</a>(buffer, buffer + <a class="code" href="namespacellvm.html#ad0f8c0e82cde3bb0849fc59e3510f05a">encodeULEB128</a>(OffsetExpr.size(), buffer));</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  CfaExpr.<a class="code" href="classllvm_1_1SmallString.html#ac22cf1a1c08b7ccaefc51508536312a4">append</a>(OffsetExpr.<a class="code" href="classllvm_1_1SmallString.html#af5dd7241878be5eed07736eb156bb10b">str</a>());</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160; </div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MCCFIInstruction.html#ae450f408644d907ec3e4ea018f764a0b">MCCFIInstruction::createEscape</a>(<span class="keyword">nullptr</span>, CfaExpr.<a class="code" href="classllvm_1_1SmallString.html#af5dd7241878be5eed07736eb156bb10b">str</a>(), Comment.str());</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;}</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160; </div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;<span class="comment">// Helper function to emit a frame offset adjustment from a given</span></div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;<span class="comment">// pointer (SrcReg), stored into DestReg. This function is explicit</span></div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;<span class="comment">// in that it requires the opcode.</span></div>
<div class="line"><a name="l04275"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#aea02c3c9f298ea50ec11bb7c8201525a"> 4275</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="AArch64InstrInfo_8cpp.html#aea02c3c9f298ea50ec11bb7c8201525a">emitFrameOffsetAdj</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;                               <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>,</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <span class="keywordtype">unsigned</span> DestReg,</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;                               <span class="keywordtype">unsigned</span> SrcReg, int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <span class="keywordtype">unsigned</span> Opc,</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;                               <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518">MachineInstr::MIFlag</a> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>, <span class="keywordtype">bool</span> NeedsWinCFI,</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;                               <span class="keywordtype">bool</span> *HasWinCFI, <span class="keywordtype">bool</span> EmitCFAOffset,</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;                               <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> CFAOffset, <span class="keywordtype">unsigned</span> FrameReg) {</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;  <span class="keywordtype">int</span> Sign = 1;</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;  <span class="keywordtype">unsigned</span> MaxEncoding, ShiftSize;</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXri:</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXri:</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXri:</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXri:</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;    MaxEncoding = 0xfff;</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    ShiftSize = 12;</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDVL_XXI:</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDPL_XXI:</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSVL_XXI:</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSPL_XXI:</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;    MaxEncoding = 31;</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;    ShiftSize = 0;</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &lt; 0) {</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;      MaxEncoding = 32;</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;      Sign = -1;</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = -<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;    }</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unsupported opcode&quot;</span>);</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;  }</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160; </div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;  <span class="comment">// `Offset` can be in bytes or in &quot;scalable bytes&quot;.</span></div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;  <span class="keywordtype">int</span> VScale = 1;</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;  <span class="keywordflow">if</span> (Opc == AArch64::ADDVL_XXI || Opc == AArch64::ADDSVL_XXI)</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;    VScale = 16;</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opc == AArch64::ADDPL_XXI || Opc == AArch64::ADDSPL_XXI)</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    VScale = 2;</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160; </div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;  <span class="comment">// FIXME: If the offset won&#39;t fit in 24-bits, compute the offset into a</span></div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;  <span class="comment">// scratch register.  If DestReg is a virtual register, use it as the</span></div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;  <span class="comment">// scratch register; otherwise, create a new virtual register (to be</span></div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;  <span class="comment">// replaced by the scavenger at the end of PEI).  That case can be optimized</span></div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;  <span class="comment">// slightly if DestReg is SP which is always 16-byte aligned, so the scratch</span></div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  <span class="comment">// register can be loaded with offset%8 and the add/sub can use an extending</span></div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;  <span class="comment">// instruction with LSL#3.</span></div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <span class="comment">// Currently the function handles any offsets but generates a poor sequence</span></div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;  <span class="comment">// of code.</span></div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="comment">//  assert(Offset &lt; (1 &lt;&lt; 24) &amp;&amp; &quot;unimplemented reg plus immediate&quot;);</span></div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160; </div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MaxEncodableValue = MaxEncoding &lt;&lt; ShiftSize;</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> TmpReg = DestReg;</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;  <span class="keywordflow">if</span> (TmpReg == AArch64::XZR)</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;    TmpReg = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;        &amp;AArch64::GPR64RegClass);</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ThisVal = std::min&lt;uint64_t&gt;(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, MaxEncodableValue);</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;    <span class="keywordtype">unsigned</span> LocalShiftSize = 0;</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;    <span class="keywordflow">if</span> (ThisVal &gt; MaxEncoding) {</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;      ThisVal = ThisVal &gt;&gt; ShiftSize;</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;      LocalShiftSize = ShiftSize;</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;    }</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((ThisVal &gt;&gt; ShiftSize) &lt;= MaxEncoding &amp;&amp;</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;           <span class="stringliteral">&quot;Encoding cannot handle value that big&quot;</span>);</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160; </div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> -= ThisVal &lt;&lt; LocalShiftSize;</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> == 0)</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;      TmpReg = DestReg;</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;    <span class="keyword">auto</span> MBI = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(Opc), TmpReg)</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg)</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Sign * (<span class="keywordtype">int</span>)ThisVal);</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;    <span class="keywordflow">if</span> (ShiftSize)</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;      MBI = MBI.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;          <a class="code" href="namespacellvm_1_1AArch64__AM.html#aeae88f12b667477f90db9b726556b337">AArch64_AM::getShifterImm</a>(<a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a1d97e13eb9923037fe733eda83b7f938">AArch64_AM::LSL</a>, LocalShiftSize));</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;    MBI = MBI.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a49f174e0e7941fe7dad04d4f948a2d63">setMIFlag</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>);</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160; </div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    <span class="keyword">auto</span> Change =</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;        VScale == 1</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;            ? <a class="code" href="classllvm_1_1StackOffset.html#a0775e5fb52ac148f4d06e7eedb34e94e">StackOffset::getFixed</a>(ThisVal &lt;&lt; LocalShiftSize)</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;            : <a class="code" href="classllvm_1_1StackOffset.html#a3bb61639d8566c8d12f66c562d948bef">StackOffset::getScalable</a>(VScale * (ThisVal &lt;&lt; LocalShiftSize));</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;    <span class="keywordflow">if</span> (Sign == -1 || Opc == AArch64::SUBXri || Opc == AArch64::SUBSXri)</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;      CFAOffset += Change;</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;      CFAOffset -= Change;</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;    <span class="keywordflow">if</span> (EmitCFAOffset &amp;&amp; DestReg == TmpReg) {</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;      <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> &amp;STI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>();</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *STI.<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160; </div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;      <span class="keywordtype">unsigned</span> CFIIndex = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a247230f547064b27022d70c0aeb86682">addFrameInst</a>(</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;          <a class="code" href="namespacellvm.html#a1170c3796a8947456c2d7841642b96eb">createDefCFA</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, FrameReg, DestReg, CFAOffset, VScale != 1));</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(TargetOpcode::CFI_INSTRUCTION))</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad51b0d1c80a9dbf0eea9162e2e3ec0dd">addCFIIndex</a>(CFIIndex)</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">setMIFlags</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>);</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;    }</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160; </div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    <span class="keywordflow">if</span> (NeedsWinCFI) {</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Sign == 1 &amp;&amp; <span class="stringliteral">&quot;SEH directives should always have a positive sign&quot;</span>);</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)(ThisVal &lt;&lt; LocalShiftSize);</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;      <span class="keywordflow">if</span> ((DestReg == AArch64::FP &amp;&amp; SrcReg == AArch64::SP) ||</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;          (SrcReg == AArch64::FP &amp;&amp; DestReg == AArch64::SP)) {</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;        <span class="keywordflow">if</span> (HasWinCFI)</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;          *HasWinCFI = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 0)</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;          <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::SEH_SetFP)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a49f174e0e7941fe7dad04d4f948a2d63">setMIFlag</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>);</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;          <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::SEH_AddFP))</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a49f174e0e7941fe7dad04d4f948a2d63">setMIFlag</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>);</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> == 0 &amp;&amp; <span class="stringliteral">&quot;Expected remaining offset to be zero to &quot;</span></div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;                              <span class="stringliteral">&quot;emit a single SEH directive&quot;</span>);</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DestReg == AArch64::SP) {</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;        <span class="keywordflow">if</span> (HasWinCFI)</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;          *HasWinCFI = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcReg == AArch64::SP &amp;&amp; <span class="stringliteral">&quot;Unexpected SrcReg for SEH_StackAlloc&quot;</span>);</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::SEH_StackAlloc))</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a49f174e0e7941fe7dad04d4f948a2d63">setMIFlag</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>);</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;      }</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;    }</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160; </div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;    SrcReg = TmpReg;</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;  } <span class="keywordflow">while</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;}</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160; </div>
<div class="line"><a name="l04402"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7c6206e8d8fd98ecca8ac2c785ee9491"> 4402</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a7c6206e8d8fd98ecca8ac2c785ee9491">llvm::emitFrameOffset</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;                           <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;                           <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> SrcReg,</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;                           <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;                           <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518">MachineInstr::MIFlag</a> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>, <span class="keywordtype">bool</span> SetNZCV,</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;                           <span class="keywordtype">bool</span> NeedsWinCFI, <span class="keywordtype">bool</span> *HasWinCFI,</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;                           <span class="keywordtype">bool</span> EmitCFAOffset, <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> CFAOffset,</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;                           <span class="keywordtype">unsigned</span> FrameReg) {</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;  <span class="comment">// If a function is marked as arm_locally_streaming, then the runtime value of</span></div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;  <span class="comment">// vscale in the prologue/epilogue is different the runtime value of vscale</span></div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;  <span class="comment">// in the function&#39;s body. To avoid having to consider multiple vscales,</span></div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;  <span class="comment">// we can use `addsvl` to allocate any scalable stack-slots, which under</span></div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;  <span class="comment">// most circumstances will be only locals, not callee-save slots.</span></div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;  <span class="keywordtype">bool</span> UseSVL = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(<span class="stringliteral">&quot;aarch64_pstate_sm_body&quot;</span>);</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160; </div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;  int64_t Bytes, NumPredicateVectors, NumDataVectors;</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;  <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a06abc64620fa2741d4756f05c337c9aa">AArch64InstrInfo::decomposeStackOffsetForFrameOffsets</a>(</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, Bytes, NumPredicateVectors, NumDataVectors);</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160; </div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;  <span class="comment">// First emit non-scalable frame offsets, or a simple &#39;mov&#39;.</span></div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;  <span class="keywordflow">if</span> (Bytes || (!<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &amp;&amp; SrcReg != DestReg)) {</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((DestReg != AArch64::SP || Bytes % 8 == 0) &amp;&amp;</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;           <span class="stringliteral">&quot;SP increment/decrement not 8-byte aligned&quot;</span>);</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;    <span class="keywordtype">unsigned</span> Opc = SetNZCV ? AArch64::ADDSXri : AArch64::ADDXri;</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    <span class="keywordflow">if</span> (Bytes &lt; 0) {</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;      Bytes = -Bytes;</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;      Opc = SetNZCV ? AArch64::SUBSXri : AArch64::SUBXri;</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;    }</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#aea02c3c9f298ea50ec11bb7c8201525a">emitFrameOffsetAdj</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, Bytes, Opc, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>,</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;                       NeedsWinCFI, HasWinCFI, EmitCFAOffset, CFAOffset,</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;                       FrameReg);</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;    CFAOffset += (Opc == AArch64::ADDXri || Opc == AArch64::ADDSXri)</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;                     ? <a class="code" href="classllvm_1_1StackOffset.html#a0775e5fb52ac148f4d06e7eedb34e94e">StackOffset::getFixed</a>(-Bytes)</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;                     : <a class="code" href="classllvm_1_1StackOffset.html#a0775e5fb52ac148f4d06e7eedb34e94e">StackOffset::getFixed</a>(Bytes);</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;    SrcReg = DestReg;</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;    FrameReg = DestReg;</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;  }</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160; </div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(SetNZCV &amp;&amp; (NumPredicateVectors || NumDataVectors)) &amp;&amp;</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;         <span class="stringliteral">&quot;SetNZCV not supported with SVE vectors&quot;</span>);</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(NeedsWinCFI &amp;&amp; (NumPredicateVectors || NumDataVectors)) &amp;&amp;</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;         <span class="stringliteral">&quot;WinCFI not supported with SVE vectors&quot;</span>);</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160; </div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;  <span class="keywordflow">if</span> (NumDataVectors) {</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#aea02c3c9f298ea50ec11bb7c8201525a">emitFrameOffsetAdj</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, NumDataVectors,</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;                       UseSVL ? AArch64::ADDSVL_XXI : AArch64::ADDVL_XXI,</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;                       <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>, NeedsWinCFI, <span class="keyword">nullptr</span>, EmitCFAOffset,</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;                       CFAOffset, FrameReg);</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;    CFAOffset += <a class="code" href="classllvm_1_1StackOffset.html#a3bb61639d8566c8d12f66c562d948bef">StackOffset::getScalable</a>(-NumDataVectors * 16);</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;    SrcReg = DestReg;</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;  }</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160; </div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;  <span class="keywordflow">if</span> (NumPredicateVectors) {</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DestReg != AArch64::SP &amp;&amp; <span class="stringliteral">&quot;Unaligned access to SP&quot;</span>);</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#aea02c3c9f298ea50ec11bb7c8201525a">emitFrameOffsetAdj</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, NumPredicateVectors,</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;                       UseSVL ? AArch64::ADDSPL_XXI : AArch64::ADDPL_XXI,</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;                       <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>, NeedsWinCFI, <span class="keyword">nullptr</span>, EmitCFAOffset,</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;                       CFAOffset, FrameReg);</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;  }</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;}</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160; </div>
<div class="line"><a name="l04464"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a64505b70265bcadc4993631d532a5fd5"> 4464</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a64505b70265bcadc4993631d532a5fd5">AArch64InstrInfo::foldMemoryOperandImpl</a>(</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Ops,</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> InsertPt, <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>,</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *LIS, <a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a> *VRM)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;  <span class="comment">// This is a bit of a hack. Consider this instruction:</span></div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;  <span class="comment">//   %0 = COPY %sp; GPR64all:%0</span></div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;  <span class="comment">// We explicitly chose GPR64all for the virtual register so such a copy might</span></div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;  <span class="comment">// be eliminated by RegisterCoalescer. However, that may not be possible, and</span></div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;  <span class="comment">// %0 may even spill. We can&#39;t spill %sp, and since it is in the GPR64all</span></div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;  <span class="comment">// register class, TargetInstrInfo::foldMemoryOperand() is going to try.</span></div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;  <span class="comment">// To prevent that, we are going to constrain the %0 register class here.</span></div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;  <span class="comment">// &lt;rdar://problem/11522048&gt;</span></div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isFullCopy()) {</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;    <span class="keywordflow">if</span> (SrcReg == AArch64::SP &amp;&amp; DstReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()) {</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(DstReg, &amp;AArch64::GPR64RegClass);</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;    }</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;    <span class="keywordflow">if</span> (DstReg == AArch64::SP &amp;&amp; SrcReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()) {</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg, &amp;AArch64::GPR64RegClass);</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;    }</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    <span class="comment">// Nothing can folded with copy from/to NZCV.</span></div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;    <span class="keywordflow">if</span> (SrcReg == AArch64::NZCV || DstReg == AArch64::NZCV)</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;  }</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160; </div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;  <span class="comment">// Handle the case where a copy is being spilled or filled but the source</span></div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;  <span class="comment">// and destination register class don&#39;t match.  For example:</span></div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;  <span class="comment">//   %0 = COPY %xzr; GPR64common:%0</span></div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;  <span class="comment">// In this case we can still safely fold away the COPY and generate the</span></div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;  <span class="comment">// following spill code:</span></div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;  <span class="comment">//   STRXui %xzr, %stack.0</span></div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;  <span class="comment">// This also eliminates spilled cross register class COPYs (e.g. between x and</span></div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;  <span class="comment">// d regs) of the same size.  For example:</span></div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;  <span class="comment">//   %0 = COPY %1; GPR64:%0, FPR64:%1</span></div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;  <span class="comment">// will be filled as</span></div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;  <span class="comment">//   LDRDui %0, fi&lt;#0&gt;</span></div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;  <span class="comment">// instead of</span></div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;  <span class="comment">//   LDRXui %Temp, fi&lt;#0&gt;</span></div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;  <span class="comment">//   %0 = FMOV %Temp</span></div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCopy() &amp;&amp; Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 1 &amp;&amp;</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;      <span class="comment">// Make sure we&#39;re only folding the explicit COPY defs/uses.</span></div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;      (Ops[0] == 0 || Ops[0] == 1)) {</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;    <span class="keywordtype">bool</span> IsSpill = Ops[0] == 0;</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;    <span class="keywordtype">bool</span> IsFill = !IsSpill;</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;DstMO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0);</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;SrcMO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1);</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = DstMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = SrcMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;    <span class="comment">// This is slightly expensive to compute for physical regs since</span></div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;    <span class="comment">// getMinimalPhysRegClass is slow.</span></div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    <span class="keyword">auto</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">getRegClass</a> = [&amp;](<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) ? <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;                                              : <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a17287afec9c4e572033dc4d1d6e11367">getMinimalPhysRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    };</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160; </div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;    <span class="keywordflow">if</span> (DstMO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>() == 0 &amp;&amp; SrcMO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>() == 0) {</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(*<a class="code" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">getRegClass</a>(DstReg)) ==</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;                 <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(*<a class="code" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">getRegClass</a>(SrcReg)) &amp;&amp;</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;             <span class="stringliteral">&quot;Mismatched register size in non subreg COPY&quot;</span>);</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;      <span class="keywordflow">if</span> (IsSpill)</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;        <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a9443e11ff036b633e23f360416d529e8">storeRegToStackSlot</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsertPt, SrcReg, SrcMO.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>(), <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>,</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;                            <a class="code" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">getRegClass</a>(SrcReg), &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a>());</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;        <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a7663d9ec7fc1457a7d7f3eeaeb3b356a">loadRegFromStackSlot</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsertPt, DstReg, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>,</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">getRegClass</a>(DstReg), &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a>());</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;      <span class="keywordflow">return</span> &amp;*--InsertPt;</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    }</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160; </div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;    <span class="comment">// Handle cases like spilling def of:</span></div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    <span class="comment">//   %0:sub_32&lt;def,read-undef&gt; = COPY %wzr; GPR64common:%0</span></div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;    <span class="comment">// where the physical register source can be widened and stored to the full</span></div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    <span class="comment">// virtual reg destination stack slot, in this case producing:</span></div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;    <span class="comment">//   STRXui %xzr, %stack.0</span></div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;    <span class="keywordflow">if</span> (IsSpill &amp;&amp; DstMO.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>() &amp;&amp; SrcReg.<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>()) {</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcMO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>() == 0 &amp;&amp;</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;             <span class="stringliteral">&quot;Unexpected subreg on physical register&quot;</span>);</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SpillRC;</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;      <span class="keywordtype">unsigned</span> SpillSubreg;</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;      <span class="keywordflow">switch</span> (DstMO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>()) {</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;        SpillRC = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;      <span class="keywordflow">case</span> AArch64::sub_32:</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;      <span class="keywordflow">case</span> AArch64::ssub:</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;        <span class="keywordflow">if</span> (AArch64::GPR32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;          SpillRC = &amp;AArch64::GPR64RegClass;</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;          SpillSubreg = AArch64::sub_32;</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AArch64::FPR32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;          SpillRC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;          SpillSubreg = AArch64::ssub;</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;          SpillRC = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;      <span class="keywordflow">case</span> AArch64::dsub:</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;        <span class="keywordflow">if</span> (AArch64::FPR64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;          SpillRC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;          SpillSubreg = AArch64::dsub;</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;          SpillRC = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;      }</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160; </div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;      <span class="keywordflow">if</span> (SpillRC)</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> WidenedSrcReg =</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;                <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa5aad3f9195b1fd331f449ce9a709da2">getMatchingSuperReg</a>(SrcReg, SpillSubreg, SpillRC)) {</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;          <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a9443e11ff036b633e23f360416d529e8">storeRegToStackSlot</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsertPt, WidenedSrcReg, SrcMO.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>(),</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;                              <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, SpillRC, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a>());</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;          <span class="keywordflow">return</span> &amp;*--InsertPt;</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;        }</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;    }</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160; </div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;    <span class="comment">// Handle cases like filling use of:</span></div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;    <span class="comment">//   %0:sub_32&lt;def,read-undef&gt; = COPY %1; GPR64:%0, GPR32:%1</span></div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;    <span class="comment">// where we can load the full virtual reg source stack slot, into the subreg</span></div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;    <span class="comment">// destination, in this case producing:</span></div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;    <span class="comment">//   LDRWui %0:sub_32&lt;def,read-undef&gt;, %stack.0</span></div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;    <span class="keywordflow">if</span> (IsFill &amp;&amp; SrcMO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>() == 0 &amp;&amp; DstMO.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>()) {</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *FillRC;</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;      <span class="keywordflow">switch</span> (DstMO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>()) {</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;        FillRC = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;      <span class="keywordflow">case</span> AArch64::sub_32:</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;        FillRC = &amp;AArch64::GPR32RegClass;</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;      <span class="keywordflow">case</span> AArch64::ssub:</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;        FillRC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;      <span class="keywordflow">case</span> AArch64::dsub:</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;        FillRC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;      }</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160; </div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;      <span class="keywordflow">if</span> (FillRC) {</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(*<a class="code" href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">getRegClass</a>(SrcReg)) ==</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;                   <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(*FillRC) &amp;&amp;</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;               <span class="stringliteral">&quot;Mismatched regclass size on folded subreg COPY&quot;</span>);</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;        <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a7663d9ec7fc1457a7d7f3eeaeb3b356a">loadRegFromStackSlot</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsertPt, DstReg, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, FillRC, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;                             <a class="code" href="classllvm_1_1Register.html">Register</a>());</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LoadMI = *--InsertPt;</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;        <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;LoadDst = LoadMI.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoadDst.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;unexpected subreg on fill load&quot;</span>);</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;        LoadDst.<a class="code" href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">setSubReg</a>(DstMO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>());</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;        LoadDst.<a class="code" href="classllvm_1_1MachineOperand.html#ab979122f21b7fa46d3d2d9b21983068b">setIsUndef</a>();</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;        <span class="keywordflow">return</span> &amp;LoadMI;</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;      }</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;    }</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;  }</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160; </div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;  <span class="comment">// Cannot fold.</span></div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;}</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160; </div>
<div class="line"><a name="l04646"></a><span class="lineno"><a class="line" href="namespacellvm.html#a18dec717578f39bfcff50e325c2d27c5"> 4646</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a18dec717578f39bfcff50e325c2d27c5">llvm::isAArch64FrameOffsetLegal</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;                                    <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> &amp;SOffset,</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;                                    <span class="keywordtype">bool</span> *OutUseUnscaledOp,</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;                                    <span class="keywordtype">unsigned</span> *OutUnscaledOp,</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;                                    int64_t *EmittableOffset) {</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;  <span class="comment">// Set output values in case of early exit.</span></div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;  <span class="keywordflow">if</span> (EmittableOffset)</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    *EmittableOffset = 0;</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;  <span class="keywordflow">if</span> (OutUseUnscaledOp)</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;    *OutUseUnscaledOp = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;  <span class="keywordflow">if</span> (OutUnscaledOp)</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    *OutUnscaledOp = 0;</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160; </div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;  <span class="comment">// Exit early for structured vector spills/fills as they can&#39;t take an</span></div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;  <span class="comment">// immediate offset.</span></div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1Twov2d:</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1Threev2d:</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1Fourv2d:</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1Twov1d:</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1Threev1d:</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;  <span class="keywordflow">case</span> AArch64::LD1Fourv1d:</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1Twov2d:</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1Threev2d:</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1Fourv2d:</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1Twov1d:</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1Threev1d:</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1Fourv1d:</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1i8:</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1i16:</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1i32:</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;  <span class="keywordflow">case</span> AArch64::ST1i64:</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;  <span class="keywordflow">case</span> AArch64::IRG:</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;  <span class="keywordflow">case</span> AArch64::IRGstack:</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;  <span class="keywordflow">case</span> AArch64::STGloop:</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;  <span class="keywordflow">case</span> AArch64::STZGloop:</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3d42df7595bb7da318e52023ffe95226afb5cb35207b915f8db3811db32920094">AArch64FrameOffsetCannotUpdate</a>;</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;  }</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160; </div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;  <span class="comment">// Get the min/max offset and the scale.</span></div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;  <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a> ScaleValue(0U, <span class="keyword">false</span>);</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>;</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;  int64_t MinOff, MaxOff;</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1AArch64InstrInfo.html#aaab2023296750137637c02807f30ef25">AArch64InstrInfo::getMemOpInfo</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(), ScaleValue, <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, MinOff,</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;                                      MaxOff))</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unhandled opcode in isAArch64FrameOffsetLegal&quot;</span>);</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160; </div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;  <span class="comment">// Construct the complete offset.</span></div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;  <span class="keywordtype">bool</span> IsMulVL = ScaleValue.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>();</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;  <span class="keywordtype">unsigned</span> Scale = ScaleValue.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>();</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;  int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = IsMulVL ? SOffset.<a class="code" href="classllvm_1_1StackOffset.html#ac92bd14c26009fdfdc00576604da950f">getScalable</a>() : SOffset.<a class="code" href="classllvm_1_1StackOffset.html#aeb11e994c5580c80bbb0951eb05f9c80">getFixed</a>();</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160; </div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;ImmOpnd =</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="classllvm_1_1AArch64InstrInfo.html#ac473d40b6b8803f2924e0c6751f51bf3">AArch64InstrInfo::getLoadStoreImmIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()));</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;  <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += ImmOpnd.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() * Scale;</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160; </div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;  <span class="comment">// If the offset doesn&#39;t match the scale, we rewrite the instruction to</span></div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;  <span class="comment">// use the unscaled instruction instead. Likewise, if we have a negative</span></div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;  <span class="comment">// offset and there is an unscaled op to use.</span></div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;  std::optional&lt;unsigned&gt; UnscaledOp =</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;      <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a3ed4919d637d0c25ecee9f7bd16f11b2">AArch64InstrInfo::getUnscaledLdSt</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode());</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;  <span class="keywordtype">bool</span> useUnscaledOp = UnscaledOp &amp;&amp; (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> % Scale || <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &lt; 0);</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;  <span class="keywordflow">if</span> (useUnscaledOp &amp;&amp;</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;      !<a class="code" href="classllvm_1_1AArch64InstrInfo.html#aaab2023296750137637c02807f30ef25">AArch64InstrInfo::getMemOpInfo</a>(*UnscaledOp, ScaleValue, <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, MinOff,</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;                                      MaxOff))</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unhandled opcode in isAArch64FrameOffsetLegal&quot;</span>);</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160; </div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;  Scale = ScaleValue.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>();</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IsMulVL == ScaleValue.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>() &amp;&amp;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;         <span class="stringliteral">&quot;Unscaled opcode has different value for scalable&quot;</span>);</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160; </div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;  int64_t Remainder = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> % Scale;</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(Remainder &amp;&amp; useUnscaledOp) &amp;&amp;</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;         <span class="stringliteral">&quot;Cannot have remainder when using unscaled op&quot;</span>);</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160; </div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MinOff &lt; MaxOff &amp;&amp; <span class="stringliteral">&quot;Unexpected Min/Max offsets&quot;</span>);</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;  int64_t NewOffset = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> / Scale;</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;  <span class="keywordflow">if</span> (MinOff &lt;= NewOffset &amp;&amp; NewOffset &lt;= MaxOff)</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = Remainder;</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;    NewOffset = NewOffset &lt; 0 ? MinOff : MaxOff;</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> - NewOffset * Scale + Remainder;</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;  }</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160; </div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;  <span class="keywordflow">if</span> (EmittableOffset)</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;    *EmittableOffset = NewOffset;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;  <span class="keywordflow">if</span> (OutUseUnscaledOp)</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;    *OutUseUnscaledOp = useUnscaledOp;</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;  <span class="keywordflow">if</span> (OutUnscaledOp &amp;&amp; UnscaledOp)</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;    *OutUnscaledOp = *UnscaledOp;</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160; </div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;  <span class="keywordflow">if</span> (IsMulVL)</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;    SOffset = <a class="code" href="classllvm_1_1StackOffset.html#aab735eb6b844f1b683d12013a083b4e2">StackOffset::get</a>(SOffset.<a class="code" href="classllvm_1_1StackOffset.html#aeb11e994c5580c80bbb0951eb05f9c80">getFixed</a>(), <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    SOffset = <a class="code" href="classllvm_1_1StackOffset.html#aab735eb6b844f1b683d12013a083b4e2">StackOffset::get</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, SOffset.<a class="code" href="classllvm_1_1StackOffset.html#ac92bd14c26009fdfdc00576604da950f">getScalable</a>());</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3d42df7595bb7da318e52023ffe95226a8dc2c9caf2dbb5337725c3f2dc11f72f">AArch64FrameOffsetCanUpdate</a> |</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;         (SOffset ? 0 : <a class="code" href="namespacellvm.html#a3d42df7595bb7da318e52023ffe95226a11e259103be968c42cfd9c607f12904a">AArch64FrameOffsetIsLegal</a>);</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;}</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160; </div>
<div class="line"><a name="l04747"></a><span class="lineno"><a class="line" href="namespacellvm.html#acbe69ef233b07b4362366dcfc380abca"> 4747</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#acbe69ef233b07b4362366dcfc380abca">llvm::rewriteAArch64FrameIndex</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> FrameRegIdx,</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;                                    <span class="keywordtype">unsigned</span> FrameReg, <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html">AArch64InstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;  <span class="keywordtype">unsigned</span> ImmIdx = FrameRegIdx + 1;</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160; </div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;  <span class="keywordflow">if</span> (Opcode == AArch64::ADDSXri || Opcode == AArch64::ADDXri) {</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += <a class="code" href="classllvm_1_1StackOffset.html#a0775e5fb52ac148f4d06e7eedb34e94e">StackOffset::getFixed</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(ImmIdx).getImm());</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;    <a class="code" href="namespacellvm.html#a7c6206e8d8fd98ecca8ac2c785ee9491">emitFrameOffset</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(),</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;                    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg(), FrameReg, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;                    <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a75967179a013c48b7d5b1690cb0b47cc">MachineInstr::NoFlags</a>, (Opcode == AArch64::ADDSXri));</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a>();</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;  }</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160; </div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;  int64_t NewOffset;</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;  <span class="keywordtype">unsigned</span> UnscaledOp;</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;  <span class="keywordtype">bool</span> UseUnscaledOp;</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structStatus.html">Status</a> = <a class="code" href="namespacellvm.html#a18dec717578f39bfcff50e325c2d27c5">isAArch64FrameOffsetLegal</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, &amp;UseUnscaledOp,</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;                                         &amp;UnscaledOp, &amp;NewOffset);</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structStatus.html">Status</a> &amp; <a class="code" href="namespacellvm.html#a3d42df7595bb7da318e52023ffe95226a8dc2c9caf2dbb5337725c3f2dc11f72f">AArch64FrameOffsetCanUpdate</a>) {</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structStatus.html">Status</a> &amp; <a class="code" href="namespacellvm.html#a3d42df7595bb7da318e52023ffe95226a11e259103be968c42cfd9c607f12904a">AArch64FrameOffsetIsLegal</a>)</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;      <span class="comment">// Replace the FrameIndex with FrameReg.</span></div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(FrameRegIdx).ChangeToRegister(FrameReg, <span class="keyword">false</span>);</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;    <span class="keywordflow">if</span> (UseUnscaledOp)</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(UnscaledOp));</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160; </div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(ImmIdx).ChangeToImmediate(NewOffset);</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;  }</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160; </div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;}</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160; </div>
<div class="line"><a name="l04782"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#af373607877e9c76b500c1942c86e8da2"> 4782</a></span>&#160;<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af373607877e9c76b500c1942c86e8da2">AArch64InstrInfo::getNop</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MCInstBuilder.html">MCInstBuilder</a>(AArch64::HINT).<a class="code" href="classllvm_1_1MCInstBuilder.html#aa296050dba06115b42a55769847379ee">addImm</a>(0);</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;}</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160; </div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;<span class="comment">// AArch64 supports MachineCombiner.</span></div>
<div class="line"><a name="l04787"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a74804e3c6e291fe90c0cb697632dcf0e"> 4787</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a74804e3c6e291fe90c0cb697632dcf0e">AArch64InstrInfo::useMachineCombiner</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160; </div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;<span class="comment">// True when Opc sets flag</span></div>
<div class="line"><a name="l04790"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a31643f4a8497b19fbc2891b312eb7c2d"> 4790</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a31643f4a8497b19fbc2891b312eb7c2d">isCombineInstrSettingFlag</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrr:</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWri:</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrr:</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXri:</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrr:</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrr:</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;  <span class="comment">// Note: MSUB Wd,Wn,Wm,Wi -&gt; Wd = Wi - WnxWm, not Wd=WnxWm - Wi.</span></div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWri:</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXri:</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;  }</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;}</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160; </div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;<span class="comment">// 32b Opcodes that can be combined with a MUL</span></div>
<div class="line"><a name="l04809"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#aac1b3c004a879852010caa15e70109e0"> 4809</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#aac1b3c004a879852010caa15e70109e0">isCombineInstrCandidate32</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWrr:</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWri:</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrr:</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWrr:</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWri:</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrr:</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;  <span class="comment">// Note: MSUB Wd,Wn,Wm,Wi -&gt; Wd = Wi - WnxWm, not Wd=WnxWm - Wi.</span></div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWri:</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWri:</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;  }</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;}</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160; </div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;<span class="comment">// 64b Opcodes that can be combined with a MUL</span></div>
<div class="line"><a name="l04828"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a10faaea75a2dba1bf0bbdd2daeb7b953"> 4828</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a10faaea75a2dba1bf0bbdd2daeb7b953">isCombineInstrCandidate64</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrr:</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXri:</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrr:</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXrr:</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXri:</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrr:</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;  <span class="comment">// Note: MSUB Wd,Wn,Wm,Wi -&gt; Wd = Wi - WnxWm, not Wd=WnxWm - Wi.</span></div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXri:</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXri:</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv8i8:</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv16i8:</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv4i16:</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv8i16:</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv2i32:</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv4i32:</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv8i8:</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv16i8:</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv4i16:</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv8i16:</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv2i32:</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv4i32:</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;  }</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;}</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160; </div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;<span class="comment">// FP Opcodes that can be combined with a FMUL.</span></div>
<div class="line"><a name="l04859"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a89fae3db628b477b713990d7a58732ea"> 4859</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a89fae3db628b477b713990d7a58732ea">isCombineInstrCandidateFP</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst) {</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;  <span class="keywordflow">switch</span> (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDHrr:</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDSrr:</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDDrr:</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv4f16:</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv8f16:</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv2f32:</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv2f64:</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv4f32:</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBHrr:</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBSrr:</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBDrr:</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv4f16:</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv8f16:</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv2f32:</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv2f64:</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv4f32:</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;    <a class="code" href="classllvm_1_1TargetOptions.html">TargetOptions</a> <a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>;</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;    <span class="comment">// We can fuse FADD/FSUB with FMUL, if fusion is either allowed globally by</span></div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;    <span class="comment">// the target options or if FADD/FSUB has the contract fast-math flag.</span></div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.UnsafeFPMath ||</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;           <a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowFPOpFusion == <a class="code" href="namespacellvm_1_1FPOpFusion.html#a9c71bae9f02af273833fde586d529fc5aa9dfaae1f5b7d4ebb31ccf9aee1aacce">FPOpFusion::Fast</a> ||</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;           Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a9a1da4c7c2a2a2ed0d083327dd28277c">MachineInstr::FmContract</a>);</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;  }</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;}</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160; </div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;<span class="comment">// Opcodes that can be combined with a MUL</span></div>
<div class="line"><a name="l04891"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae0c83ea77a8a90f821157e321ff1ad5b"> 4891</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ae0c83ea77a8a90f821157e321ff1ad5b">isCombineInstrCandidate</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#aac1b3c004a879852010caa15e70109e0">isCombineInstrCandidate32</a>(Opc) || <a class="code" href="AArch64InstrInfo_8cpp.html#a10faaea75a2dba1bf0bbdd2daeb7b953">isCombineInstrCandidate64</a>(Opc));</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;}</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160; </div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;<span class="comment">// Utility routine that checks if \param MO is defined by an</span></div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;<span class="comment">// \param CombineOpc instruction in the basic block \param MBB</span></div>
<div class="line"><a name="l04898"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14"> 4898</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14">canCombine</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO,</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;                       <span class="keywordtype">unsigned</span> CombineOpc, <span class="keywordtype">unsigned</span> ZeroReg = 0,</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;                       <span class="keywordtype">bool</span> CheckZeroReg = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160; </div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;  <span class="comment">// And it needs to be in the trace (otherwise, it won&#39;t have a depth).</span></div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent() != &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> || (<span class="keywordtype">unsigned</span>)<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode() != CombineOpc)</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;  <span class="comment">// Must only used by the user we combine with.</span></div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">hasOneNonDBGUse</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0).getReg()))</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160; </div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;  <span class="keywordflow">if</span> (CheckZeroReg) {</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getNumOperands() &gt;= 4 &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0).isReg() &amp;&amp;</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;           <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).isReg() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2).isReg() &amp;&amp;</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;           <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).isReg() &amp;&amp; <span class="stringliteral">&quot;MAdd/MSub must have a least 4 regs&quot;</span>);</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;    <span class="comment">// The third input reg must be zero.</span></div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getReg() != ZeroReg)</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;  }</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160; </div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a31643f4a8497b19fbc2891b312eb7c2d">isCombineInstrSettingFlag</a>(CombineOpc) &amp;&amp;</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;findRegisterDefOperandIdx(AArch64::NZCV, <span class="keyword">true</span>) == -1)</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160; </div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;}</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160; </div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;<span class="comment">// Is \param MO defined by an integer multiply and can be combined?</span></div>
<div class="line"><a name="l04931"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#af975a2c02ec432e792cd734ce52fa02c"> 4931</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#af975a2c02ec432e792cd734ce52fa02c">canCombineWithMUL</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO,</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;                              <span class="keywordtype">unsigned</span> MulOpc, <span class="keywordtype">unsigned</span> ZeroReg) {</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14">canCombine</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MO, MulOpc, ZeroReg, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;}</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160; </div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;<span class="comment">// Is \param MO defined by a floating-point multiply and can be combined?</span></div>
<div class="line"><a name="l04938"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a6d8faa716c9389c680c284bc9284c113"> 4938</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a6d8faa716c9389c680c284bc9284c113">canCombineWithFMUL</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO,</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;                               <span class="keywordtype">unsigned</span> MulOpc) {</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14">canCombine</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MO, MulOpc);</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;}</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160; </div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;<span class="comment">// TODO: There are many more machine instruction opcodes to match:</span></div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;<span class="comment">//       1. Other data types (integer, vectors)</span></div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;<span class="comment">//       2. Other math / logic operations (xor, or)</span></div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;<span class="comment">//       3. Other forms of the same operation (intrinsics and other variants)</span></div>
<div class="line"><a name="l04947"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#aab3d65d6e0daa1da2c564a3803f207b2"> 4947</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aab3d65d6e0daa1da2c564a3803f207b2">AArch64InstrInfo::isAssociativeAndCommutative</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst,</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;                                                   <span class="keywordtype">bool</span> Invert)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;  <span class="keywordflow">if</span> (Invert)</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;  <span class="keywordflow">switch</span> (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;  <span class="comment">// == Floating-point types ==</span></div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;  <span class="comment">// -- Floating-point instructions --</span></div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDHrr:</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDSrr:</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDDrr:</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULHrr:</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULSrr:</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULDrr:</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULX16:</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULX32:</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULX64:</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;  <span class="comment">// -- Advanced SIMD instructions --</span></div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv4f16:</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv8f16:</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv2f32:</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv4f32:</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv2f64:</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv4f16:</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv8f16:</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv2f32:</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv4f32:</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv2f64:</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULXv4f16:</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULXv8f16:</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULXv2f32:</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULXv4f32:</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULXv2f64:</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;  <span class="comment">// -- SVE instructions --</span></div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;  <span class="comment">// Opcodes FMULX_ZZZ_? don&#39;t exist because there is no unpredicated FMULX</span></div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;  <span class="comment">// in the SVE instruction set (though there are predicated ones).</span></div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;  <span class="keywordflow">case</span> AArch64::FADD_ZZZ_H:</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;  <span class="keywordflow">case</span> AArch64::FADD_ZZZ_S:</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;  <span class="keywordflow">case</span> AArch64::FADD_ZZZ_D:</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;  <span class="keywordflow">case</span> AArch64::FMUL_ZZZ_H:</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;  <span class="keywordflow">case</span> AArch64::FMUL_ZZZ_S:</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;  <span class="keywordflow">case</span> AArch64::FMUL_ZZZ_D:</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;    <span class="keywordflow">return</span> Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">UnsafeFPMath</a> ||</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;           (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(MachineInstr::MIFlag::FmReassoc) &amp;&amp;</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;            Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(MachineInstr::MIFlag::FmNsz));</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160; </div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;  <span class="comment">// == Integer types ==</span></div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;  <span class="comment">// -- Base instructions --</span></div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;  <span class="comment">// Opcodes MULWrr and MULXrr don&#39;t exist because</span></div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;  <span class="comment">// `MUL &lt;Wd&gt;, &lt;Wn&gt;, &lt;Wm&gt;` and `MUL &lt;Xd&gt;, &lt;Xn&gt;, &lt;Xm&gt;` are aliases of</span></div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;  <span class="comment">// `MADD &lt;Wd&gt;, &lt;Wn&gt;, &lt;Wm&gt;, WZR` and `MADD &lt;Xd&gt;, &lt;Xn&gt;, &lt;Xm&gt;, XZR` respectively.</span></div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;  <span class="comment">// The machine-combiner does not support three-source-operands machine</span></div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;  <span class="comment">// instruction. So we cannot reassociate MULs.</span></div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWrr:</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrr:</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDWrr:</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDXrr:</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRWrr:</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRXrr:</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;  <span class="keywordflow">case</span> AArch64::EORWrr:</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;  <span class="keywordflow">case</span> AArch64::EORXrr:</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;  <span class="keywordflow">case</span> AArch64::EONWrr:</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;  <span class="keywordflow">case</span> AArch64::EONXrr:</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;  <span class="comment">// -- Advanced SIMD instructions --</span></div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;  <span class="comment">// Opcodes MULv1i64 and MULv2i64 don&#39;t exist because there is no 64-bit MUL</span></div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;  <span class="comment">// in the Advanced SIMD instruction set.</span></div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv8i8:</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv16i8:</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv4i16:</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv8i16:</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv2i32:</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv4i32:</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv1i64:</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv2i64:</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;  <span class="keywordflow">case</span> AArch64::MULv8i8:</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;  <span class="keywordflow">case</span> AArch64::MULv16i8:</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;  <span class="keywordflow">case</span> AArch64::MULv4i16:</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;  <span class="keywordflow">case</span> AArch64::MULv8i16:</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;  <span class="keywordflow">case</span> AArch64::MULv2i32:</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;  <span class="keywordflow">case</span> AArch64::MULv4i32:</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDv8i8:</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDv16i8:</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRv8i8:</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRv16i8:</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;  <span class="keywordflow">case</span> AArch64::EORv8i8:</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;  <span class="keywordflow">case</span> AArch64::EORv16i8:</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;  <span class="comment">// -- SVE instructions --</span></div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;  <span class="keywordflow">case</span> AArch64::ADD_ZZZ_B:</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;  <span class="keywordflow">case</span> AArch64::ADD_ZZZ_H:</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;  <span class="keywordflow">case</span> AArch64::ADD_ZZZ_S:</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;  <span class="keywordflow">case</span> AArch64::ADD_ZZZ_D:</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;  <span class="keywordflow">case</span> AArch64::MUL_ZZZ_B:</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;  <span class="keywordflow">case</span> AArch64::MUL_ZZZ_H:</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;  <span class="keywordflow">case</span> AArch64::MUL_ZZZ_S:</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;  <span class="keywordflow">case</span> AArch64::MUL_ZZZ_D:</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;  <span class="keywordflow">case</span> AArch64::AND_ZZZ:</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;  <span class="keywordflow">case</span> AArch64::ORR_ZZZ:</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;  <span class="keywordflow">case</span> AArch64::EOR_ZZZ:</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160; </div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;  }</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;}</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;<span class="comment">/// Find instructions that can be turned into madd.</span></div>
<div class="line"><a name="l05052"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#afd0aa3ba35c12ee51c941a5c1c1e275e"> 5052</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#afd0aa3ba35c12ee51c941a5c1c1e275e">getMaddPatterns</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineCombinerPattern&gt;</a> &amp;Patterns) {</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;  <span class="keywordtype">unsigned</span> Opc = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Root.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;  <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160; </div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64InstrInfo_8cpp.html#ae0c83ea77a8a90f821157e321ff1ad5b">isCombineInstrCandidate</a>(Opc))</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a31643f4a8497b19fbc2891b312eb7c2d">isCombineInstrSettingFlag</a>(Opc)) {</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;    <span class="keywordtype">int</span> Cmp_NZCV = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(AArch64::NZCV, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;    <span class="comment">// When NZCV is live bail out.</span></div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;    <span class="keywordflow">if</span> (Cmp_NZCV == -1)</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc = <a class="code" href="AArch64InstrInfo_8cpp.html#aa3d936cb9197b15ae6b41f8a52592961">convertToNonFlagSettingOpc</a>(Root);</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;    <span class="comment">// When opcode can&#39;t change bail out.</span></div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;    <span class="comment">// CHECKME: do we miss any cases for opcode conversion?</span></div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;    <span class="keywordflow">if</span> (NewOpc == Opc)</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;    Opc = NewOpc;</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;  }</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160; </div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;  <span class="keyword">auto</span> setFound = [&amp;](<span class="keywordtype">int</span> Opcode, <span class="keywordtype">int</span> Operand, <span class="keywordtype">unsigned</span> ZeroReg,</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;                      <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) {</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#af975a2c02ec432e792cd734ce52fa02c">canCombineWithMUL</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(Operand), Opcode, ZeroReg)) {</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;      Patterns.push_back(<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>);</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;      Found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;    }</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;  };</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160; </div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;  <span class="keyword">auto</span> setVFound = [&amp;](<span class="keywordtype">int</span> Opcode, <span class="keywordtype">int</span> Operand, <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) {</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14">canCombine</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(Operand), Opcode)) {</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;      Patterns.push_back(<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>);</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;      Found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;    }</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;  };</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160; </div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> MCP;</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160; </div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWrr:</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp;</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;           <span class="stringliteral">&quot;ADDWrr does not have register operands&quot;</span>);</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    setFound(AArch64::MADDWrrr, 1, AArch64::WZR, MCP::MULADDW_OP1);</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;    setFound(AArch64::MADDWrrr, 2, AArch64::WZR, MCP::MULADDW_OP2);</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXrr:</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;    setFound(AArch64::MADDXrrr, 1, AArch64::XZR, MCP::MULADDX_OP1);</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    setFound(AArch64::MADDXrrr, 2, AArch64::XZR, MCP::MULADDX_OP2);</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrr:</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;    setFound(AArch64::MADDWrrr, 1, AArch64::WZR, MCP::MULSUBW_OP1);</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    setFound(AArch64::MADDWrrr, 2, AArch64::WZR, MCP::MULSUBW_OP2);</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrr:</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;    setFound(AArch64::MADDXrrr, 1, AArch64::XZR, MCP::MULSUBX_OP1);</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;    setFound(AArch64::MADDXrrr, 2, AArch64::XZR, MCP::MULSUBX_OP2);</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWri:</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;    setFound(AArch64::MADDWrrr, 1, AArch64::WZR, MCP::MULADDWI_OP1);</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXri:</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;    setFound(AArch64::MADDXrrr, 1, AArch64::XZR, MCP::MULADDXI_OP1);</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWri:</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;    setFound(AArch64::MADDWrrr, 1, AArch64::WZR, MCP::MULSUBWI_OP1);</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXri:</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;    setFound(AArch64::MADDXrrr, 1, AArch64::XZR, MCP::MULSUBXI_OP1);</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv8i8:</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    setVFound(AArch64::MULv8i8, 1, MCP::MULADDv8i8_OP1);</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;    setVFound(AArch64::MULv8i8, 2, MCP::MULADDv8i8_OP2);</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv16i8:</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;    setVFound(AArch64::MULv16i8, 1, MCP::MULADDv16i8_OP1);</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;    setVFound(AArch64::MULv16i8, 2, MCP::MULADDv16i8_OP2);</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv4i16:</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;    setVFound(AArch64::MULv4i16, 1, MCP::MULADDv4i16_OP1);</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;    setVFound(AArch64::MULv4i16, 2, MCP::MULADDv4i16_OP2);</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;    setVFound(AArch64::MULv4i16_indexed, 1, MCP::MULADDv4i16_indexed_OP1);</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;    setVFound(AArch64::MULv4i16_indexed, 2, MCP::MULADDv4i16_indexed_OP2);</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv8i16:</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;    setVFound(AArch64::MULv8i16, 1, MCP::MULADDv8i16_OP1);</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;    setVFound(AArch64::MULv8i16, 2, MCP::MULADDv8i16_OP2);</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;    setVFound(AArch64::MULv8i16_indexed, 1, MCP::MULADDv8i16_indexed_OP1);</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;    setVFound(AArch64::MULv8i16_indexed, 2, MCP::MULADDv8i16_indexed_OP2);</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv2i32:</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;    setVFound(AArch64::MULv2i32, 1, MCP::MULADDv2i32_OP1);</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;    setVFound(AArch64::MULv2i32, 2, MCP::MULADDv2i32_OP2);</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;    setVFound(AArch64::MULv2i32_indexed, 1, MCP::MULADDv2i32_indexed_OP1);</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;    setVFound(AArch64::MULv2i32_indexed, 2, MCP::MULADDv2i32_indexed_OP2);</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDv4i32:</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;    setVFound(AArch64::MULv4i32, 1, MCP::MULADDv4i32_OP1);</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;    setVFound(AArch64::MULv4i32, 2, MCP::MULADDv4i32_OP2);</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;    setVFound(AArch64::MULv4i32_indexed, 1, MCP::MULADDv4i32_indexed_OP1);</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;    setVFound(AArch64::MULv4i32_indexed, 2, MCP::MULADDv4i32_indexed_OP2);</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv8i8:</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;    setVFound(AArch64::MULv8i8, 1, MCP::MULSUBv8i8_OP1);</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;    setVFound(AArch64::MULv8i8, 2, MCP::MULSUBv8i8_OP2);</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv16i8:</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;    setVFound(AArch64::MULv16i8, 1, MCP::MULSUBv16i8_OP1);</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;    setVFound(AArch64::MULv16i8, 2, MCP::MULSUBv16i8_OP2);</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv4i16:</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;    setVFound(AArch64::MULv4i16, 1, MCP::MULSUBv4i16_OP1);</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;    setVFound(AArch64::MULv4i16, 2, MCP::MULSUBv4i16_OP2);</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;    setVFound(AArch64::MULv4i16_indexed, 1, MCP::MULSUBv4i16_indexed_OP1);</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;    setVFound(AArch64::MULv4i16_indexed, 2, MCP::MULSUBv4i16_indexed_OP2);</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv8i16:</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;    setVFound(AArch64::MULv8i16, 1, MCP::MULSUBv8i16_OP1);</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;    setVFound(AArch64::MULv8i16, 2, MCP::MULSUBv8i16_OP2);</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;    setVFound(AArch64::MULv8i16_indexed, 1, MCP::MULSUBv8i16_indexed_OP1);</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;    setVFound(AArch64::MULv8i16_indexed, 2, MCP::MULSUBv8i16_indexed_OP2);</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv2i32:</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;    setVFound(AArch64::MULv2i32, 1, MCP::MULSUBv2i32_OP1);</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;    setVFound(AArch64::MULv2i32, 2, MCP::MULSUBv2i32_OP2);</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;    setVFound(AArch64::MULv2i32_indexed, 1, MCP::MULSUBv2i32_indexed_OP1);</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;    setVFound(AArch64::MULv2i32_indexed, 2, MCP::MULSUBv2i32_indexed_OP2);</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBv4i32:</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;    setVFound(AArch64::MULv4i32, 1, MCP::MULSUBv4i32_OP1);</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    setVFound(AArch64::MULv4i32, 2, MCP::MULSUBv4i32_OP2);</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;    setVFound(AArch64::MULv4i32_indexed, 1, MCP::MULSUBv4i32_indexed_OP1);</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;    setVFound(AArch64::MULv4i32_indexed, 2, MCP::MULSUBv4i32_indexed_OP2);</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;  }</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;  <span class="keywordflow">return</span> Found;</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;}<span class="comment"></span></div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;<span class="comment">/// Floating-Point Support</span></div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;<span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;<span class="comment">/// Find instructions that can be turned into madd.</span></div>
<div class="line"><a name="l05193"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ad0da9705518e24c1435d33d0ad806b3e"> 5193</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ad0da9705518e24c1435d33d0ad806b3e">getFMAPatterns</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineCombinerPattern&gt;</a> &amp;Patterns) {</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160; </div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64InstrInfo_8cpp.html#a89fae3db628b477b713990d7a58732ea">isCombineInstrCandidateFP</a>(Root))</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160; </div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Root.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;  <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160; </div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a> = [&amp;](<span class="keywordtype">int</span> Opcode, <span class="keywordtype">int</span> Operand,</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;                   <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a6d8faa716c9389c680c284bc9284c113">canCombineWithFMUL</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(Operand), Opcode)) {</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;      Patterns.push_back(<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>);</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;    }</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  };</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160; </div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> MCP;</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160; </div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;  <span class="keywordflow">switch</span> (Root.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Unsupported FP instruction in combiner\n&quot;</span>);</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDHrr:</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp;</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;           <span class="stringliteral">&quot;FADDHrr does not have register operands&quot;</span>);</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160; </div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;    Found  = <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULHrr, 1, MCP::FMULADDH_OP1);</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULHrr, 2, MCP::FMULADDH_OP2);</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDSrr:</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp;</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;           <span class="stringliteral">&quot;FADDSrr does not have register operands&quot;</span>);</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160; </div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULSrr, 1, MCP::FMULADDS_OP1) ||</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv1i32_indexed, 1, MCP::FMLAv1i32_indexed_OP1);</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160; </div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULSrr, 2, MCP::FMULADDS_OP2) ||</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv1i32_indexed, 2, MCP::FMLAv1i32_indexed_OP2);</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDDrr:</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULDrr, 1, MCP::FMULADDD_OP1) ||</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv1i64_indexed, 1, MCP::FMLAv1i64_indexed_OP1);</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160; </div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULDrr, 2, MCP::FMULADDD_OP2) ||</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv1i64_indexed, 2, MCP::FMLAv1i64_indexed_OP2);</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv4f16:</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4i16_indexed, 1, MCP::FMLAv4i16_indexed_OP1) ||</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4f16, 1, MCP::FMLAv4f16_OP1);</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160; </div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4i16_indexed, 2, MCP::FMLAv4i16_indexed_OP2) ||</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4f16, 2, MCP::FMLAv4f16_OP2);</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv8f16:</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv8i16_indexed, 1, MCP::FMLAv8i16_indexed_OP1) ||</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv8f16, 1, MCP::FMLAv8f16_OP1);</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160; </div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv8i16_indexed, 2, MCP::FMLAv8i16_indexed_OP2) ||</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv8f16, 2, MCP::FMLAv8f16_OP2);</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv2f32:</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2i32_indexed, 1, MCP::FMLAv2i32_indexed_OP1) ||</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2f32, 1, MCP::FMLAv2f32_OP1);</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160; </div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2i32_indexed, 2, MCP::FMLAv2i32_indexed_OP2) ||</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2f32, 2, MCP::FMLAv2f32_OP2);</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv2f64:</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2i64_indexed, 1, MCP::FMLAv2i64_indexed_OP1) ||</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2f64, 1, MCP::FMLAv2f64_OP1);</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160; </div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2i64_indexed, 2, MCP::FMLAv2i64_indexed_OP2) ||</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2f64, 2, MCP::FMLAv2f64_OP2);</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;  <span class="keywordflow">case</span> AArch64::FADDv4f32:</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4i32_indexed, 1, MCP::FMLAv4i32_indexed_OP1) ||</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4f32, 1, MCP::FMLAv4f32_OP1);</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160; </div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4i32_indexed, 2, MCP::FMLAv4i32_indexed_OP2) ||</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4f32, 2, MCP::FMLAv4f32_OP2);</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBHrr:</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;    Found  = <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULHrr, 1, MCP::FMULSUBH_OP1);</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULHrr, 2, MCP::FMULSUBH_OP2);</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FNMULHrr, 1, MCP::FNMULSUBH_OP1);</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBSrr:</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;    Found = <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULSrr, 1, MCP::FMULSUBS_OP1);</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160; </div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULSrr, 2, MCP::FMULSUBS_OP2) ||</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv1i32_indexed, 2, MCP::FMLSv1i32_indexed_OP2);</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160; </div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FNMULSrr, 1, MCP::FNMULSUBS_OP1);</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBDrr:</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;    Found = <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULDrr, 1, MCP::FMULSUBD_OP1);</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160; </div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULDrr, 2, MCP::FMULSUBD_OP2) ||</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv1i64_indexed, 2, MCP::FMLSv1i64_indexed_OP2);</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160; </div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FNMULDrr, 1, MCP::FNMULSUBD_OP1);</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv4f16:</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4i16_indexed, 2, MCP::FMLSv4i16_indexed_OP2) ||</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4f16, 2, MCP::FMLSv4f16_OP2);</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160; </div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4i16_indexed, 1, MCP::FMLSv4i16_indexed_OP1) ||</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4f16, 1, MCP::FMLSv4f16_OP1);</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv8f16:</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv8i16_indexed, 2, MCP::FMLSv8i16_indexed_OP2) ||</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv8f16, 2, MCP::FMLSv8f16_OP2);</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160; </div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv8i16_indexed, 1, MCP::FMLSv8i16_indexed_OP1) ||</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv8f16, 1, MCP::FMLSv8f16_OP1);</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv2f32:</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2i32_indexed, 2, MCP::FMLSv2i32_indexed_OP2) ||</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2f32, 2, MCP::FMLSv2f32_OP2);</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160; </div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2i32_indexed, 1, MCP::FMLSv2i32_indexed_OP1) ||</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2f32, 1, MCP::FMLSv2f32_OP1);</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv2f64:</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2i64_indexed, 2, MCP::FMLSv2i64_indexed_OP2) ||</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2f64, 2, MCP::FMLSv2f64_OP2);</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160; </div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2i64_indexed, 1, MCP::FMLSv2i64_indexed_OP1) ||</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv2f64, 1, MCP::FMLSv2f64_OP1);</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;  <span class="keywordflow">case</span> AArch64::FSUBv4f32:</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4i32_indexed, 2, MCP::FMLSv4i32_indexed_OP2) ||</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4f32, 2, MCP::FMLSv4f32_OP2);</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160; </div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4i32_indexed, 1, MCP::FMLSv4i32_indexed_OP1) ||</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;             <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::FMULv4f32, 1, MCP::FMLSv4f32_OP1);</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;  }</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;  <span class="keywordflow">return</span> Found;</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;}</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160; </div>
<div class="line"><a name="l05336"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ac90b2efcdfc682d9a3fc934694d1557c"> 5336</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ac90b2efcdfc682d9a3fc934694d1557c">getFMULPatterns</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineCombinerPattern&gt;</a> &amp;Patterns) {</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Root.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;  <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160; </div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a> = [&amp;](<span class="keywordtype">unsigned</span> Opcode, <span class="keywordtype">int</span> Operand,</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;                   <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;    <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(Operand);</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;    <span class="comment">// Ignore No-op COPYs in FMUL(COPY(DUP(..)))</span></div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode() == TargetOpcode::COPY &amp;&amp;</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getReg().isVirtual())</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getReg());</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode() == Opcode) {</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;      Patterns.push_back(<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>);</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;    }</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;  };</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160; </div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> MCP;</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160; </div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;  <span class="keywordflow">switch</span> (Root.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv2f32:</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;    Found = <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv2i32lane, 1, MCP::FMULv2i32_indexed_OP1);</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv2i32lane, 2, MCP::FMULv2i32_indexed_OP2);</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv2f64:</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;    Found = <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv2i64lane, 1, MCP::FMULv2i64_indexed_OP1);</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv2i64lane, 2, MCP::FMULv2i64_indexed_OP2);</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv4f16:</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;    Found = <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv4i16lane, 1, MCP::FMULv4i16_indexed_OP1);</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv4i16lane, 2, MCP::FMULv4i16_indexed_OP2);</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv4f32:</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;    Found = <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv4i32lane, 1, MCP::FMULv4i32_indexed_OP1);</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv4i32lane, 2, MCP::FMULv4i32_indexed_OP2);</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;  <span class="keywordflow">case</span> AArch64::FMULv8f16:</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;    Found = <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv8i16lane, 1, MCP::FMULv8i16_indexed_OP1);</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;    Found |= <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>(AArch64::DUPv8i16lane, 2, MCP::FMULv8i16_indexed_OP2);</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;  }</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160; </div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;  <span class="keywordflow">return</span> Found;</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;}</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;<span class="comment">/// Return true when a code sequence can improve throughput. It</span></div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;<span class="comment">/// should be called only for instructions in loops.</span></div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;<span class="comment">/// \param Pattern - combiner pattern</span></div>
<div class="line"><a name="l05392"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a10ff9c7b29be1debe32fa6ba92256068"> 5392</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a10ff9c7b29be1debe32fa6ba92256068">AArch64InstrInfo::isThroughputPattern</a>(</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;    <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) {</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2c64fa121b5991687394790a52ecf299">MachineCombinerPattern::FMULADDH_OP1</a>:</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a9064e3d57055daa26f814fc94c1cecfb">MachineCombinerPattern::FMULADDH_OP2</a>:</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a6028bd3a601dd504141e1361b5db1492">MachineCombinerPattern::FMULSUBH_OP1</a>:</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a296286c6430a892d841cb513531660b8">MachineCombinerPattern::FMULSUBH_OP2</a>:</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2aa982c2e9455a191597a4d7373b8f5d">MachineCombinerPattern::FMULADDS_OP1</a>:</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a72d2a54e9757efee4bf7e0cc8bbdf489">MachineCombinerPattern::FMULADDS_OP2</a>:</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a15a6d01915a59c547b3b0f93e49963e9">MachineCombinerPattern::FMULSUBS_OP1</a>:</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a97d771099b0db3d75f4b3f386d0c1092">MachineCombinerPattern::FMULSUBS_OP2</a>:</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a03290efbf7ccd62d1500de80287021b5">MachineCombinerPattern::FMULADDD_OP1</a>:</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a57e701bf8e691f97f00961440fd86ece">MachineCombinerPattern::FMULADDD_OP2</a>:</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af7fc35feded50db37bcfab5eab7aadbb">MachineCombinerPattern::FMULSUBD_OP1</a>:</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad928dd9bf909fd02460a07284c2bb35c">MachineCombinerPattern::FMULSUBD_OP2</a>:</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a615ff3cce7bc1e4ff773167c5c17d168">MachineCombinerPattern::FNMULSUBH_OP1</a>:</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a7f4b4c44651a69c4f6f9134cb4b51352">MachineCombinerPattern::FNMULSUBS_OP1</a>:</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4d8c9c67f03d210a1c844f09f64137c6">MachineCombinerPattern::FNMULSUBD_OP1</a>:</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a521b32f7c9c577a6b39781213eb2cb30">MachineCombinerPattern::FMLAv4i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae4b83d82585f6cf865c9c772daff9aac">MachineCombinerPattern::FMLAv4i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae85c386ac7b2ceea0d88784fafafd39e">MachineCombinerPattern::FMLAv8i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae15079d2e661de449accda868512f3f2">MachineCombinerPattern::FMLAv8i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a07b4e7927d6c11fbc390d55161008bec">MachineCombinerPattern::FMLAv1i32_indexed_OP1</a>:</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aadd2f44199ccd69d17aed8a5e0998c8e">MachineCombinerPattern::FMLAv1i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a29ca12a368c8c3752c4cf28a39468b44">MachineCombinerPattern::FMLAv1i64_indexed_OP1</a>:</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aae06220c51ead042db61d0f53f19c72d">MachineCombinerPattern::FMLAv1i64_indexed_OP2</a>:</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a23541701e4107566402d268babc0f7a0">MachineCombinerPattern::FMLAv4f16_OP2</a>:</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa9f3c5f2295bad84281cbeaa529e61e7">MachineCombinerPattern::FMLAv4f16_OP1</a>:</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05abf7ba5f9855516b861f6c4cf5c34491f">MachineCombinerPattern::FMLAv8f16_OP1</a>:</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa5cad2c16f0f98b21059d400a842e007">MachineCombinerPattern::FMLAv8f16_OP2</a>:</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4dea34f9dbf530101a40103639f059e2">MachineCombinerPattern::FMLAv2f32_OP2</a>:</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab69092ab6c6e9cd0991d64490009a768">MachineCombinerPattern::FMLAv2f32_OP1</a>:</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05adfc676b68cdc9d3fb6b6dfd043d90131">MachineCombinerPattern::FMLAv2f64_OP1</a>:</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a13802c3052a671d9a5e8e877e2cd3a05">MachineCombinerPattern::FMLAv2f64_OP2</a>:</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8f80dd904ec89e49bde70d459e4af797">MachineCombinerPattern::FMLAv2i32_indexed_OP1</a>:</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4ba13e72e96e35990ba222a501f1cfbe">MachineCombinerPattern::FMLAv2i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2ed3ade77242d9e64161d189f8ce6005">MachineCombinerPattern::FMLAv2i64_indexed_OP1</a>:</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2a43e332a448a5e87a619d833c162703">MachineCombinerPattern::FMLAv2i64_indexed_OP2</a>:</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2de7d9704e1d5b42f56ed3f11f095596">MachineCombinerPattern::FMLAv4f32_OP1</a>:</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4da5c624b602859153b3f5ca5aaca932">MachineCombinerPattern::FMLAv4f32_OP2</a>:</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4376790aa70f615c404bf3c4f9c82490">MachineCombinerPattern::FMLAv4i32_indexed_OP1</a>:</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a73146e4a922058dc65540763ca1054d8">MachineCombinerPattern::FMLAv4i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a54d11bc3d8843ff040af59be8bb7af13">MachineCombinerPattern::FMLSv4i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a17362ccaee2fef3337d9a29ff399232b">MachineCombinerPattern::FMLSv4i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab4d7219c033a36da60f10c78e269e3ad">MachineCombinerPattern::FMLSv8i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a832f7ffb68fe4a65abd0264fdb503665">MachineCombinerPattern::FMLSv8i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05acf29990824391c17beb64d5a9550a733">MachineCombinerPattern::FMLSv1i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa1b36e8f37f19ad49f7c55272586c602">MachineCombinerPattern::FMLSv1i64_indexed_OP2</a>:</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2d716f420628248e7a89013c5460484">MachineCombinerPattern::FMLSv2i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a19f4ffebc2ddf94a14b8ad8d081b517e">MachineCombinerPattern::FMLSv2i64_indexed_OP2</a>:</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a59c025ee51897a76f97fee4d314b8c54">MachineCombinerPattern::FMLSv4f16_OP1</a>:</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af70e0b1d6898bd3f0ae6df4ac616b4c3">MachineCombinerPattern::FMLSv4f16_OP2</a>:</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05addbc12649925b262818f3e005a4ec1e4">MachineCombinerPattern::FMLSv8f16_OP1</a>:</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab7eaf10b55b2c3b849c192426ab2ef00">MachineCombinerPattern::FMLSv8f16_OP2</a>:</div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a85248a43678ef4a873ca8783c0f83a60">MachineCombinerPattern::FMLSv2f32_OP2</a>:</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a450bf3e112ffa4c43568d1d9193d40a1">MachineCombinerPattern::FMLSv2f64_OP2</a>:</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05afde7d706260ac691ef32056402b10797">MachineCombinerPattern::FMLSv4i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a51010efdaa1d2ca750d10de8c350b9ec">MachineCombinerPattern::FMLSv4f32_OP2</a>:</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8cea7bb0f58bc0730334b6c9e29f7919">MachineCombinerPattern::FMULv2i32_indexed_OP1</a>:</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a7083c6344f6aaeb66d5d136b5debd090">MachineCombinerPattern::FMULv2i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4418916d7a4f6a6777fb46416e056855">MachineCombinerPattern::FMULv2i64_indexed_OP1</a>:</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a074d0c905ca2fb4901b31fe698abf443">MachineCombinerPattern::FMULv2i64_indexed_OP2</a>:</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a147765c12581b905031f7e6a52c6a7e8">MachineCombinerPattern::FMULv4i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a08dfa5dc60f3899e1cd19eebdb70b54c">MachineCombinerPattern::FMULv4i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae7e70ffe0ed4582ac605800a85891c4c">MachineCombinerPattern::FMULv4i32_indexed_OP1</a>:</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a84fb1fbcce97b415254f7d9bd38b363a">MachineCombinerPattern::FMULv4i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a16125e32c14e620f74bd688db0fd2190">MachineCombinerPattern::FMULv8i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a33b8842dbda2bbc78c42098cf27af35e">MachineCombinerPattern::FMULv8i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab43a44a5e9f8e54e889661f2518f4a4c">MachineCombinerPattern::MULADDv8i8_OP1</a>:</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a80c5c5734f45e1c6d5949b48c88633a4">MachineCombinerPattern::MULADDv8i8_OP2</a>:</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a547b6fdc8555c9102461469c3d8efc15">MachineCombinerPattern::MULADDv16i8_OP1</a>:</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a395a9f3a54f88bc3dd42f5c51eb83f26">MachineCombinerPattern::MULADDv16i8_OP2</a>:</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae91264626f3ffaac2026259631e98f8a">MachineCombinerPattern::MULADDv4i16_OP1</a>:</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7d6e49a4f9c90d3ef8419ead6f7924c">MachineCombinerPattern::MULADDv4i16_OP2</a>:</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac897548bafa7b95eb321258f794eb2ac">MachineCombinerPattern::MULADDv8i16_OP1</a>:</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a134f907cbb8c1abeba32bf0a70ffbdf9">MachineCombinerPattern::MULADDv8i16_OP2</a>:</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad3bf370e23985108ea96f3a193abd0bd">MachineCombinerPattern::MULADDv2i32_OP1</a>:</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a6189fc353fb1b17771ca2149885bd99e">MachineCombinerPattern::MULADDv2i32_OP2</a>:</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac9ad5c1f6d178b55bde924aeb418d0b2">MachineCombinerPattern::MULADDv4i32_OP1</a>:</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad9823821c5d84e2290f359c4f353d165">MachineCombinerPattern::MULADDv4i32_OP2</a>:</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2202d07bf3272b53672ef28aebf12568">MachineCombinerPattern::MULSUBv8i8_OP1</a>:</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a332b32bf8ce7a30d6b74adcbcc659011">MachineCombinerPattern::MULSUBv8i8_OP2</a>:</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac6f2d047f840c8f78290d1a3005edf99">MachineCombinerPattern::MULSUBv16i8_OP1</a>:</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a747c64f3b74a759daf45120930f0feb6">MachineCombinerPattern::MULSUBv16i8_OP2</a>:</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab68b56d06e4d0e81788707d8b1c1e634">MachineCombinerPattern::MULSUBv4i16_OP1</a>:</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05adf327b07510cec09ba74659917d2cb7d">MachineCombinerPattern::MULSUBv4i16_OP2</a>:</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4a1f8baa8091e277a45471c02e9bf4bf">MachineCombinerPattern::MULSUBv8i16_OP1</a>:</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a3ba9d4ba817e0fd17811e4f297bb0394">MachineCombinerPattern::MULSUBv8i16_OP2</a>:</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab65c69bb870dc8c6261058fe4a855d30">MachineCombinerPattern::MULSUBv2i32_OP1</a>:</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae74328d517bf2a463bb93eab364ba33f">MachineCombinerPattern::MULSUBv2i32_OP2</a>:</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a80b124af47379d05275a319fc182d613">MachineCombinerPattern::MULSUBv4i32_OP1</a>:</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2b295e79e72029068bfb6efdc54b9515">MachineCombinerPattern::MULSUBv4i32_OP2</a>:</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2213964950e793c7afdd7e2241ed5fff">MachineCombinerPattern::MULADDv4i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af7b9eb664f370ad6c3d4e2204447d75c">MachineCombinerPattern::MULADDv4i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aee6f9bcc13cce461b198d2229eeaf6ad">MachineCombinerPattern::MULADDv8i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af18f788c6a2a2a0ac97b233744ccbeaa">MachineCombinerPattern::MULADDv8i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05afb477086016ec7ad3f992288ce2e7d9d">MachineCombinerPattern::MULADDv2i32_indexed_OP1</a>:</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a3f0e9880b84d39c823228682966c4da3">MachineCombinerPattern::MULADDv2i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a90c191a6a05a332c9f765b2c84f4680b">MachineCombinerPattern::MULADDv4i32_indexed_OP1</a>:</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a71679481ab07058465bc551b4bdcffce">MachineCombinerPattern::MULADDv4i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a581fd12b0f735520833a7d4b553a52ad">MachineCombinerPattern::MULSUBv4i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1a60a3fac27c1e7e8183a440d69f2f81">MachineCombinerPattern::MULSUBv4i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab91852340bbcfb51939f35ee372fd22d">MachineCombinerPattern::MULSUBv8i16_indexed_OP1</a>:</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1e69956b425232693eded29d47d6d15d">MachineCombinerPattern::MULSUBv8i16_indexed_OP2</a>:</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2635a71f0901740dd5519d3ec9a3a202">MachineCombinerPattern::MULSUBv2i32_indexed_OP1</a>:</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a84158dd1a8182d6f197658be0527d28a">MachineCombinerPattern::MULSUBv2i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad7bab6f226e174247c9ef9b4e0d1bd0a">MachineCombinerPattern::MULSUBv4i32_indexed_OP1</a>:</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac57a2cf15e78090fa9176ea4e214b4df">MachineCombinerPattern::MULSUBv4i32_indexed_OP2</a>:</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;  } <span class="comment">// end switch (Pattern)</span></div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;}</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;<span class="comment">/// Find other MI combine patterns.</span></div>
<div class="line"><a name="l05508"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a0b11f61ff61b4dc4cf41ec3fdce85a1b"> 5508</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a0b11f61ff61b4dc4cf41ec3fdce85a1b">getMiscPatterns</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineCombinerPattern&gt;</a> &amp;Patterns)</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;{</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;  <span class="comment">// A - (B + C)  ==&gt;   (A - B) - C  or  (A - C) - B</span></div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;  <span class="keywordtype">unsigned</span> Opc = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Root.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160; </div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWrr:</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWrr:</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXrr:</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXrr:</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;    <span class="comment">// Found candidate root.</span></div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;  }</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160; </div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a31643f4a8497b19fbc2891b312eb7c2d">isCombineInstrSettingFlag</a>(Opc) &amp;&amp;</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;      Root.<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(AArch64::NZCV, <span class="keyword">true</span>) == -1)</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160; </div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14">canCombine</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2), AArch64::ADDWrr) ||</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14">canCombine</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2), AArch64::ADDSWrr) ||</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14">canCombine</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2), AArch64::ADDXrr) ||</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14">canCombine</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2), AArch64::ADDSXrr)) {</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;    Patterns.push_back(<a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a0ac798ae63c221cbb32a74a107d06856">MachineCombinerPattern::SUBADD_OP1</a>);</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;    Patterns.push_back(<a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a88faec6f601613c5f899517ef02db99c">MachineCombinerPattern::SUBADD_OP2</a>);</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;  }</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160; </div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;}</div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;<span class="comment">/// Return true when there is potentially a faster code sequence for an</span></div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;<span class="comment">/// instruction chain ending in \p Root. All potential patterns are listed in</span></div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;<span class="comment">/// the \p Pattern vector. Pattern should be sorted in priority order since the</span></div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;<span class="comment">/// pattern evaluator stops checking as soon as it finds a faster sequence.</span></div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05547"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#abe8ebb102b353daa82abe17d08054c6e"> 5547</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#abe8ebb102b353daa82abe17d08054c6e">AArch64InstrInfo::getMachineCombinerPatterns</a>(</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineCombinerPattern&gt;</a> &amp;Patterns,</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;    <span class="keywordtype">bool</span> DoRegPressureReduce)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;  <span class="comment">// Integer patterns</span></div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#afd0aa3ba35c12ee51c941a5c1c1e275e">getMaddPatterns</a>(Root, Patterns))</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;  <span class="comment">// Floating point patterns</span></div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#ac90b2efcdfc682d9a3fc934694d1557c">getFMULPatterns</a>(Root, Patterns))</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#ad0da9705518e24c1435d33d0ad806b3e">getFMAPatterns</a>(Root, Patterns))</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160; </div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;  <span class="comment">// Other patterns</span></div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a0b11f61ff61b4dc4cf41ec3fdce85a1b">getMiscPatterns</a>(Root, Patterns))</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160; </div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a46ab782fa8efa2745e4fe000a1cd3d5a">TargetInstrInfo::getMachineCombinerPatterns</a>(Root, Patterns,</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;                                                     DoRegPressureReduce);</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;}</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160; </div>
<div class="line"><a name="l05567"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987"> 5567</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987">FMAInstKind</a> { Default, <a class="code" href="README__P9_8txt.html#a0b2a8fd73722063e86d9f2771b964fe6">Indexed</a>, <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">Accumulator</a> };<span class="comment"></span></div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;<span class="comment">/// genFusedMultiply - Generate fused multiply instructions.</span></div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;<span class="comment">/// This function supports both integer and floating point instructions.</span></div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;<span class="comment">/// A typical example:</span></div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;<span class="comment">///  F|MUL I=A,B,0</span></div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;<span class="comment">///  F|ADD R,I,C</span></div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;<span class="comment">///  ==&gt; F|MADD R,A,B,C</span></div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;<span class="comment">/// \param MF Containing MachineFunction</span></div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;<span class="comment">/// \param MRI Register information</span></div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;<span class="comment">/// \param TII Target information</span></div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;<span class="comment">/// \param Root is the F|ADD instruction</span></div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;<span class="comment">/// \param [out] InsInstrs is a vector of machine instructions and will</span></div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;<span class="comment">/// contain the generated madd instruction</span></div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;<span class="comment">/// \param IdxMulOpd is index of operand in Root that is the result of</span></div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;<span class="comment">/// the F|MUL. In the example above IdxMulOpd is 1.</span></div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;<span class="comment">/// \param MaddOpc the opcode fo the f|madd instruction</span></div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;<span class="comment">/// \param RC Register class of operands</span></div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;<span class="comment">/// \param kind of fma instruction (addressing mode) to be generated</span></div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;<span class="comment">/// \param ReplacedAddend is the result register from the instruction</span></div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;<span class="comment">/// replacing the non-combined operand, if any.</span></div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div>
<div class="line"><a name="l05588"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425"> 5588</a></span>&#160;<a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs, <span class="keywordtype">unsigned</span> IdxMulOpd,</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;                 <span class="keywordtype">unsigned</span> MaddOpc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;                 <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987">FMAInstKind</a> kind = <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987a7a1920d61156abc05a60135aefe8bc67">FMAInstKind::Default</a>,</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1Register.html">Register</a> *ReplacedAddend = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IdxMulOpd == 1 || IdxMulOpd == 2);</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160; </div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;  <span class="keywordtype">unsigned</span> IdxOtherOpd = IdxMulOpd == 1 ? 2 : 1;</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxMulOpd).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg0 = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>-&gt;getOperand(1).getReg();</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;  <span class="keywordtype">bool</span> Src0IsKill = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>-&gt;getOperand(1).isKill();</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg1 = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>-&gt;getOperand(2).getReg();</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;  <span class="keywordtype">bool</span> Src1IsKill = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>-&gt;getOperand(2).isKill();</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160; </div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg2;</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;  <span class="keywordtype">bool</span> Src2IsKill;</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;  <span class="keywordflow">if</span> (ReplacedAddend) {</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;    <span class="comment">// If we just generated a new addend, we must be it&#39;s only use.</span></div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;    SrcReg2 = *ReplacedAddend;</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;    Src2IsKill = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;    SrcReg2 = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxOtherOpd).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;    Src2IsKill = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxOtherOpd).<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>();</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;  }</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160; </div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;  <span class="keywordflow">if</span> (ResultReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(ResultReg, RC);</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;  <span class="keywordflow">if</span> (SrcReg0.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg0, RC);</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;  <span class="keywordflow">if</span> (SrcReg1.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg1, RC);</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;  <span class="keywordflow">if</span> (SrcReg2.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg2, RC);</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160; </div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB;</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;  <span class="keywordflow">if</span> (kind == <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987a7a1920d61156abc05a60135aefe8bc67">FMAInstKind::Default</a>)</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(MaddOpc), ResultReg)</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src0IsKill))</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src1IsKill))</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg2, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src2IsKill));</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (kind == <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>)</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(MaddOpc), ResultReg)</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg2, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src2IsKill))</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src0IsKill))</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src1IsKill))</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>-&gt;getOperand(3).getImm());</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (kind == <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>)</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(MaddOpc), ResultReg)</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg2, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src2IsKill))</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src0IsKill))</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src1IsKill));</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Invalid FMA instruction kind \n&quot;</span>);</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;  <span class="comment">// Insert the MADD (MADD, FMA, FMS, FMLA, FMSL)</span></div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;  InsInstrs.push_back(MIB);</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>;</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;}</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;<span class="comment">/// Fold (FMUL x (DUP y lane)) into (FMUL_indexed x y lane)</span></div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div>
<div class="line"><a name="l05650"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a25f231b9d7956e632ee2fc265ae23bba"> 5650</a></span>&#160;<a class="code" href="AArch64InstrInfo_8cpp.html#a25f231b9d7956e632ee2fc265ae23bba">genIndexedMultiply</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;                   <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;                   <span class="keywordtype">unsigned</span> IdxDupOp, <span class="keywordtype">unsigned</span> MulOpc,</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>) {</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(((IdxDupOp == 1) || (IdxDupOp == 2)) &amp;&amp;</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;         <span class="stringliteral">&quot;Invalid index of FMUL operand&quot;</span>);</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160; </div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *Root.<a class="code" href="classllvm_1_1MachineInstr.html#ab05719438bdf4b46871e5ecd9730caeb">getMF</a>();</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160; </div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Dup =</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxDupOp).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160; </div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;  <span class="keywordflow">if</span> (Dup-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == TargetOpcode::COPY)</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;    Dup = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Dup-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160; </div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DupSrcReg = Dup-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a3da9727b1d452d6dcab08fde547ab634">clearKillFlags</a>(DupSrcReg);</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(DupSrcReg, RC);</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160; </div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;  <span class="keywordtype">unsigned</span> DupSrcLane = Dup-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160; </div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;  <span class="keywordtype">unsigned</span> IdxMulOp = IdxDupOp == 1 ? 2 : 1;</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MulOp = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxMulOp);</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160; </div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160; </div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB;</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;  MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(MulOpc), ResultReg)</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(MulOp)</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DupSrcReg)</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(DupSrcLane);</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160; </div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;  InsInstrs.push_back(MIB);</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;  <span class="keywordflow">return</span> &amp;Root;</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;}</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;<span class="comment">/// genFusedMultiplyAcc - Helper to generate fused multiply accumulate</span></div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;<span class="comment">/// instructions.</span></div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;<span class="comment">/// \see genFusedMultiply</span></div>
<div class="line"><a name="l05691"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af"> 5691</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;    <span class="keywordtype">unsigned</span> IdxMulOpd, <span class="keywordtype">unsigned</span> MaddOpc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC) {</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, IdxMulOpd, MaddOpc, RC,</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;                          <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;}</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;<span class="comment">/// genNeg - Helper to generate an intermediate negation of the second operand</span></div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;<span class="comment">/// of Root</span></div>
<div class="line"><a name="l05701"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a875d4d0bf620bc2515b57e5554a510fb"> 5701</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="AArch64InstrInfo_8cpp.html#a875d4d0bf620bc2515b57e5554a510fb">genNeg</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;                       <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;                       <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg,</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;                       <span class="keywordtype">unsigned</span> MnegOpc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC) {</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(MnegOpc), NewVR)</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2));</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;  InsInstrs.push_back(MIB);</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160; </div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>());</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;  InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160; </div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;  <span class="keywordflow">return</span> NewVR;</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;}</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;<span class="comment">/// genFusedMultiplyAccNeg - Helper to generate fused multiply accumulate</span></div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;<span class="comment">/// instructions with an additional negation of the accumulator</span></div>
<div class="line"><a name="l05720"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae3ef42086d0578cd1fa764d113f6881b"> 5720</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64InstrInfo_8cpp.html#ae3ef42086d0578cd1fa764d113f6881b">genFusedMultiplyAccNeg</a>(</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg, <span class="keywordtype">unsigned</span> IdxMulOpd,</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;    <span class="keywordtype">unsigned</span> MaddOpc, <span class="keywordtype">unsigned</span> MnegOpc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC) {</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IdxMulOpd == 1);</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160; </div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR =</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#a875d4d0bf620bc2515b57e5554a510fb">genNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, InstrIdxForVirtReg, MnegOpc, RC);</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, IdxMulOpd, MaddOpc, RC,</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;                          <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>, &amp;NewVR);</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;}</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;<span class="comment">/// genFusedMultiplyIdx - Helper to generate fused multiply accumulate</span></div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;<span class="comment">/// instructions.</span></div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;<span class="comment">/// \see genFusedMultiply</span></div>
<div class="line"><a name="l05737"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef"> 5737</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;    <span class="keywordtype">unsigned</span> IdxMulOpd, <span class="keywordtype">unsigned</span> MaddOpc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC) {</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, IdxMulOpd, MaddOpc, RC,</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;                          <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;}</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;<span class="comment">/// genFusedMultiplyAccNeg - Helper to generate fused multiply accumulate</span></div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;<span class="comment">/// instructions with an additional negation of the accumulator</span></div>
<div class="line"><a name="l05747"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a73f9fde2778444c73d9ca47438e72f8d"> 5747</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64InstrInfo_8cpp.html#a73f9fde2778444c73d9ca47438e72f8d">genFusedMultiplyIdxNeg</a>(</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg, <span class="keywordtype">unsigned</span> IdxMulOpd,</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;    <span class="keywordtype">unsigned</span> MaddOpc, <span class="keywordtype">unsigned</span> MnegOpc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC) {</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IdxMulOpd == 1);</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160; </div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR =</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;      <a class="code" href="AArch64InstrInfo_8cpp.html#a875d4d0bf620bc2515b57e5554a510fb">genNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, InstrIdxForVirtReg, MnegOpc, RC);</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160; </div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, IdxMulOpd, MaddOpc, RC,</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;                          <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>, &amp;NewVR);</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;}</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;<span class="comment">/// genMaddR - Generate madd instruction and combine mul and add using</span></div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;<span class="comment">/// an extra virtual register</span></div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;<span class="comment">/// Example - an ADD intermediate needs to be stored in a register:</span></div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;<span class="comment">///   MUL I=A,B,0</span></div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;<span class="comment">///   ADD R,I,Imm</span></div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;<span class="comment">///   ==&gt; ORR  V, ZR, Imm</span></div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;<span class="comment">///   ==&gt; MADD R,A,B,V</span></div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;<span class="comment">/// \param MF Containing MachineFunction</span></div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;<span class="comment">/// \param MRI Register information</span></div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;<span class="comment">/// \param TII Target information</span></div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;<span class="comment">/// \param Root is the ADD instruction</span></div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;<span class="comment">/// \param [out] InsInstrs is a vector of machine instructions and will</span></div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;<span class="comment">/// contain the generated madd instruction</span></div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;<span class="comment">/// \param IdxMulOpd is index of operand in Root that is the result of</span></div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;<span class="comment">/// the MUL. In the example above IdxMulOpd is 1.</span></div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;<span class="comment">/// \param MaddOpc the opcode fo the madd instruction</span></div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;<span class="comment">/// \param VR is a virtual register that holds the value of an ADD operand</span></div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;<span class="comment">/// (V in the example above).</span></div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;<span class="comment">/// \param RC Register class of operands</span></div>
<div class="line"><a name="l05780"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a8d68b44f534c304b92aabf73008dc1cb"> 5780</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64InstrInfo_8cpp.html#a8d68b44f534c304b92aabf73008dc1cb">genMaddR</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;                              <span class="keywordtype">unsigned</span> IdxMulOpd, <span class="keywordtype">unsigned</span> MaddOpc, <span class="keywordtype">unsigned</span> VR,</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC) {</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IdxMulOpd == 1 || IdxMulOpd == 2);</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160; </div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxMulOpd).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg0 = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>-&gt;getOperand(1).getReg();</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;  <span class="keywordtype">bool</span> Src0IsKill = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>-&gt;getOperand(1).isKill();</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg1 = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>-&gt;getOperand(2).getReg();</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;  <span class="keywordtype">bool</span> Src1IsKill = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>-&gt;getOperand(2).isKill();</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160; </div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;  <span class="keywordflow">if</span> (ResultReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(ResultReg, RC);</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;  <span class="keywordflow">if</span> (SrcReg0.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg0, RC);</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;  <span class="keywordflow">if</span> (SrcReg1.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg1, RC);</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(VR))</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(VR, RC);</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160; </div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(MaddOpc), ResultReg)</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src0IsKill))</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Src1IsKill))</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VR);</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;  <span class="comment">// Insert the MADD</span></div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;  InsInstrs.push_back(MIB);</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>;</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;}</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;<span class="comment">/// Do the following transformation</span></div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;<span class="comment">/// A - (B + C)  ==&gt;   (A - B) - C</span></div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;<span class="comment">/// A - (B + C)  ==&gt;   (A - C) - B</span></div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05817"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a012040151268735433380829e4ef0dcd"> 5817</a></span>&#160;<a class="code" href="AArch64InstrInfo_8cpp.html#a012040151268735433380829e4ef0dcd">genSubAdd2SubSub</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root,</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;                 <span class="keywordtype">unsigned</span> IdxOpd1,</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;                 <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg) {</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IdxOpd1 == 1 || IdxOpd1 == 2);</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;  <span class="keywordtype">unsigned</span> IdxOtherOpd = IdxOpd1 == 1 ? 2 : 1;</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *AddMI = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160; </div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegA = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;  <span class="keywordtype">bool</span> RegAIsKill = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>();</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegB = AddMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxOpd1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;  <span class="keywordtype">bool</span> RegBIsKill = AddMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxOpd1).<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>();</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegC = AddMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxOtherOpd).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;  <span class="keywordtype">bool</span> RegCIsKill = AddMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(IdxOtherOpd).<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>();</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(RegA));</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160; </div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;  <span class="keywordflow">if</span> (Opcode == AArch64::SUBSWrr)</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;    Opcode = AArch64::SUBWrr;</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opcode == AArch64::SUBSXrr)</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;    Opcode = AArch64::SUBXrr;</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Opcode == AArch64::SUBWrr || Opcode == AArch64::SUBXrr) &amp;&amp;</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;           <span class="stringliteral">&quot;Unexpected instruction opcode.&quot;</span>);</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160; </div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB1 =</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(Opcode), NewVR)</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegA, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(RegAIsKill))</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegB, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(RegBIsKill));</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB2 =</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(Opcode), ResultReg)</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVR, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>))</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegC, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(RegCIsKill));</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160; </div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;  InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;  InsInstrs.push_back(MIB1);</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;  InsInstrs.push_back(MIB2);</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;  DelInstrs.push_back(AddMI);</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;}</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;<span class="comment">/// When getMachineCombinerPatterns() finds potential patterns,</span></div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;<span class="comment">/// this function generates the instructions that could replace the</span></div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;<span class="comment">/// original code sequence</span></div>
<div class="line"><a name="l05863"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a80ae2cc1410980d536c9032568832dab"> 5863</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a80ae2cc1410980d536c9032568832dab">AArch64InstrInfo::genAlternativeCodeSequence</a>(</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>,</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Root.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160; </div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC;</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;  <span class="keywordtype">unsigned</span> Opc;</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) {</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;    <span class="comment">// Reassociate instructions.</span></div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;    <a class="code" href="classllvm_1_1TargetInstrInfo.html#aa438b91b89d93aa1caed060cfc90d1cd">TargetInstrInfo::genAlternativeCodeSequence</a>(Root, <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>, InsInstrs,</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;                                                DelInstrs, InstrIdxForVirtReg);</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a0ac798ae63c221cbb32a74a107d06856">MachineCombinerPattern::SUBADD_OP1</a>:</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;    <span class="comment">// A - (B + C)</span></div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;    <span class="comment">// ==&gt; (A - B) - C</span></div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a012040151268735433380829e4ef0dcd">genSubAdd2SubSub</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, DelInstrs, 1,</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;                     InstrIdxForVirtReg);</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a88faec6f601613c5f899517ef02db99c">MachineCombinerPattern::SUBADD_OP2</a>:</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;    <span class="comment">// A - (B + C)</span></div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;    <span class="comment">// ==&gt; (A - C) - B</span></div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a012040151268735433380829e4ef0dcd">genSubAdd2SubSub</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, DelInstrs, 2,</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;                     InstrIdxForVirtReg);</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab0463108c1a22d61437ab9f8afa16dd6">MachineCombinerPattern::MULADDW_OP1</a>:</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae76b12e1408c68a474e6599b0dc0ed8d">MachineCombinerPattern::MULADDX_OP1</a>:</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;    <span class="comment">// MUL I=A,B,0</span></div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;    <span class="comment">// ADD R,I,C</span></div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;    <span class="comment">// ==&gt; MADD R,A,B,C</span></div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;    <span class="comment">// --- Create(MADD);</span></div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab0463108c1a22d61437ab9f8afa16dd6">MachineCombinerPattern::MULADDW_OP1</a>) {</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;      Opc = AArch64::MADDWrrr;</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;      RC = &amp;AArch64::GPR32RegClass;</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;      Opc = AArch64::MADDXrrr;</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;      RC = &amp;AArch64::GPR64RegClass;</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;    }</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab66aa5e09c8483c462584509ec18c5ea">MachineCombinerPattern::MULADDW_OP2</a>:</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4eca2bf387bac8749af955ac467e689e">MachineCombinerPattern::MULADDX_OP2</a>:</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;    <span class="comment">// MUL I=A,B,0</span></div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;    <span class="comment">// ADD R,C,I</span></div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;    <span class="comment">// ==&gt; MADD R,A,B,C</span></div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;    <span class="comment">// --- Create(MADD);</span></div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab66aa5e09c8483c462584509ec18c5ea">MachineCombinerPattern::MULADDW_OP2</a>) {</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;      Opc = AArch64::MADDWrrr;</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;      RC = &amp;AArch64::GPR32RegClass;</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;      Opc = AArch64::MADDXrrr;</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;      RC = &amp;AArch64::GPR64RegClass;</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;    }</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2fa503376495cd110965ec1b531bce73">MachineCombinerPattern::MULADDWI_OP1</a>:</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a27f95a016db7579ee3748369cc518ec9">MachineCombinerPattern::MULADDXI_OP1</a>: {</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;    <span class="comment">// MUL I=A,B,0</span></div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;    <span class="comment">// ADD R,I,Imm</span></div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;    <span class="comment">// ==&gt; MOV V, Imm</span></div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;    <span class="comment">// ==&gt; MADD R,A,B,V</span></div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    <span class="comment">// --- Create(MADD);</span></div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *OrrRC;</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;    <span class="keywordtype">unsigned</span> BitSize, OrrOpc, ZeroReg;</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2fa503376495cd110965ec1b531bce73">MachineCombinerPattern::MULADDWI_OP1</a>) {</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;      OrrOpc = AArch64::ORRWri;</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;      OrrRC = &amp;AArch64::GPR32spRegClass;</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;      BitSize = 32;</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;      ZeroReg = AArch64::WZR;</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;      Opc = AArch64::MADDWrrr;</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;      RC = &amp;AArch64::GPR32RegClass;</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;      OrrOpc = AArch64::ORRXri;</div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;      OrrRC = &amp;AArch64::GPR64spRegClass;</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;      BitSize = 64;</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;      ZeroReg = AArch64::XZR;</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;      Opc = AArch64::MADDXrrr;</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;      RC = &amp;AArch64::GPR64RegClass;</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;    }</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(OrrRC);</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160; </div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;    <span class="keywordflow">if</span> (Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>()) {</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;      <span class="keywordtype">unsigned</span> Val = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &lt;&lt; Val;</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;    }</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> UImm = <a class="code" href="namespacellvm.html#ad12a58d7f81a304e0c568ad2210bc4fe">SignExtend64</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, BitSize);</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;    <span class="comment">// The immediate can be composed via a single instruction.</span></div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;AArch64_IMM::ImmInsnModel, 4&gt;</a> <a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a96d5dc120196819fbfbc257cba09b2aa">Insn</a>;</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64__IMM.html#a77a4e6615fbc6c2bbcf179370dbd0fa9">AArch64_IMM::expandMOVImm</a>(UImm, BitSize, <a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a96d5dc120196819fbfbc257cba09b2aa">Insn</a>);</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a96d5dc120196819fbfbc257cba09b2aa">Insn</a>.size() != 1)</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;    <span class="keyword">auto</span> MovI = <a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a96d5dc120196819fbfbc257cba09b2aa">Insn</a>.begin();</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB1;</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;    <span class="comment">// MOV is an alias for one of three instructions: movz, movn, and orr.</span></div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;    <span class="keywordflow">if</span> (MovI-&gt;Opcode == OrrOpc)</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;      MIB1 = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(OrrOpc), NewVR)</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ZeroReg)</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(MovI-&gt;Op2);</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;      <span class="keywordflow">if</span> (BitSize == 32)</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((MovI-&gt;Opcode == AArch64::MOVNWi ||</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;                MovI-&gt;Opcode == AArch64::MOVZWi) &amp;&amp;</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;               <span class="stringliteral">&quot;Expected opcode&quot;</span>);</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((MovI-&gt;Opcode == AArch64::MOVNXi ||</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;                MovI-&gt;Opcode == AArch64::MOVZXi) &amp;&amp;</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;               <span class="stringliteral">&quot;Expected opcode&quot;</span>);</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;      MIB1 = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(MovI-&gt;Opcode), NewVR)</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(MovI-&gt;Op1)</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(MovI-&gt;Op2);</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;    }</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;    InsInstrs.push_back(MIB1);</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a8d68b44f534c304b92aabf73008dc1cb">genMaddR</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, NewVR, RC);</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;  }</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4793d022bcb9d48a9d535990179977bf">MachineCombinerPattern::MULSUBW_OP1</a>:</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad2c3bc2a42e083e2fb01153831bd0dbd">MachineCombinerPattern::MULSUBX_OP1</a>: {</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    <span class="comment">// MUL I=A,B,0</span></div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;    <span class="comment">// SUB R,I, C</span></div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;    <span class="comment">// ==&gt; SUB  V, 0, C</span></div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;    <span class="comment">// ==&gt; MADD R,A,B,V // = -C + A*B</span></div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;    <span class="comment">// --- Create(MADD);</span></div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SubRC;</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;    <span class="keywordtype">unsigned</span> SubOpc, ZeroReg;</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4793d022bcb9d48a9d535990179977bf">MachineCombinerPattern::MULSUBW_OP1</a>) {</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;      SubOpc = AArch64::SUBWrr;</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;      SubRC = &amp;AArch64::GPR32spRegClass;</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;      ZeroReg = AArch64::WZR;</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;      Opc = AArch64::MADDWrrr;</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;      RC = &amp;AArch64::GPR32RegClass;</div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;      SubOpc = AArch64::SUBXrr;</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;      SubRC = &amp;AArch64::GPR64spRegClass;</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;      ZeroReg = AArch64::XZR;</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;      Opc = AArch64::MADDXrrr;</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;      RC = &amp;AArch64::GPR64RegClass;</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;    }</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(SubRC);</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;    <span class="comment">// SUB NewVR, 0, C</span></div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB1 =</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(SubOpc), NewVR)</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ZeroReg)</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2));</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;    InsInstrs.push_back(MIB1);</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a8d68b44f534c304b92aabf73008dc1cb">genMaddR</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, NewVR, RC);</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;  }</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a068a0d81b376d09225a729014cbc3ea8">MachineCombinerPattern::MULSUBW_OP2</a>:</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05abd09f0b4e2d7e21332d9cd723a7528f0">MachineCombinerPattern::MULSUBX_OP2</a>:</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;    <span class="comment">// MUL I=A,B,0</span></div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;    <span class="comment">// SUB R,C,I</span></div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;    <span class="comment">// ==&gt; MSUB R,A,B,C (computes C - A*B)</span></div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;    <span class="comment">// --- Create(MSUB);</span></div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a068a0d81b376d09225a729014cbc3ea8">MachineCombinerPattern::MULSUBW_OP2</a>) {</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;      Opc = AArch64::MSUBWrrr;</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;      RC = &amp;AArch64::GPR32RegClass;</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;      Opc = AArch64::MSUBXrrr;</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;      RC = &amp;AArch64::GPR64RegClass;</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;    }</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a5d49fd91db5ae34f84ed73048dbaf46f">MachineCombinerPattern::MULSUBWI_OP1</a>:</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8427539a44774ff5060ae67cd1d42e6e">MachineCombinerPattern::MULSUBXI_OP1</a>: {</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    <span class="comment">// MUL I=A,B,0</span></div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;    <span class="comment">// SUB R,I, Imm</span></div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;    <span class="comment">// ==&gt; MOV  V, -Imm</span></div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;    <span class="comment">// ==&gt; MADD R,A,B,V // = -Imm + A*B</span></div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;    <span class="comment">// --- Create(MADD);</span></div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *OrrRC;</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;    <span class="keywordtype">unsigned</span> BitSize, OrrOpc, ZeroReg;</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a5d49fd91db5ae34f84ed73048dbaf46f">MachineCombinerPattern::MULSUBWI_OP1</a>) {</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;      OrrOpc = AArch64::ORRWri;</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;      OrrRC = &amp;AArch64::GPR32spRegClass;</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;      BitSize = 32;</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;      ZeroReg = AArch64::WZR;</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;      Opc = AArch64::MADDWrrr;</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;      RC = &amp;AArch64::GPR32RegClass;</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;      OrrOpc = AArch64::ORRXri;</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;      OrrRC = &amp;AArch64::GPR64spRegClass;</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;      BitSize = 64;</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;      ZeroReg = AArch64::XZR;</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;      Opc = AArch64::MADDXrrr;</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;      RC = &amp;AArch64::GPR64RegClass;</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;    }</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(OrrRC);</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;    <span class="keywordflow">if</span> (Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>()) {</div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;      <span class="keywordtype">unsigned</span> Val = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &lt;&lt; Val;</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;    }</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> UImm = <a class="code" href="namespacellvm.html#ad12a58d7f81a304e0c568ad2210bc4fe">SignExtend64</a>(-<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, BitSize);</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;    <span class="comment">// The immediate can be composed via a single instruction.</span></div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;AArch64_IMM::ImmInsnModel, 4&gt;</a> <a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a96d5dc120196819fbfbc257cba09b2aa">Insn</a>;</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64__IMM.html#a77a4e6615fbc6c2bbcf179370dbd0fa9">AArch64_IMM::expandMOVImm</a>(UImm, BitSize, <a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a96d5dc120196819fbfbc257cba09b2aa">Insn</a>);</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a96d5dc120196819fbfbc257cba09b2aa">Insn</a>.size() != 1)</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;    <span class="keyword">auto</span> MovI = <a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a96d5dc120196819fbfbc257cba09b2aa">Insn</a>.begin();</div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB1;</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;    <span class="comment">// MOV is an alias for one of three instructions: movz, movn, and orr.</span></div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;    <span class="keywordflow">if</span> (MovI-&gt;Opcode == OrrOpc)</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;      MIB1 = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(OrrOpc), NewVR)</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ZeroReg)</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(MovI-&gt;Op2);</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;      <span class="keywordflow">if</span> (BitSize == 32)</div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((MovI-&gt;Opcode == AArch64::MOVNWi ||</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;                MovI-&gt;Opcode == AArch64::MOVZWi) &amp;&amp;</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;               <span class="stringliteral">&quot;Expected opcode&quot;</span>);</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((MovI-&gt;Opcode == AArch64::MOVNXi ||</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;                MovI-&gt;Opcode == AArch64::MOVZXi) &amp;&amp;</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;               <span class="stringliteral">&quot;Expected opcode&quot;</span>);</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;      MIB1 = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(MovI-&gt;Opcode), NewVR)</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(MovI-&gt;Op1)</div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(MovI-&gt;Op2);</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;    }</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;    InsInstrs.push_back(MIB1);</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a8d68b44f534c304b92aabf73008dc1cb">genMaddR</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, NewVR, RC);</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;  }</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160; </div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab43a44a5e9f8e54e889661f2518f4a4c">MachineCombinerPattern::MULADDv8i8_OP1</a>:</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;    Opc = AArch64::MLAv8i8;</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a80c5c5734f45e1c6d5949b48c88633a4">MachineCombinerPattern::MULADDv8i8_OP2</a>:</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;    Opc = AArch64::MLAv8i8;</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a547b6fdc8555c9102461469c3d8efc15">MachineCombinerPattern::MULADDv16i8_OP1</a>:</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;    Opc = AArch64::MLAv16i8;</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a395a9f3a54f88bc3dd42f5c51eb83f26">MachineCombinerPattern::MULADDv16i8_OP2</a>:</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;    Opc = AArch64::MLAv16i8;</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae91264626f3ffaac2026259631e98f8a">MachineCombinerPattern::MULADDv4i16_OP1</a>:</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;    Opc = AArch64::MLAv4i16;</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7d6e49a4f9c90d3ef8419ead6f7924c">MachineCombinerPattern::MULADDv4i16_OP2</a>:</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;    Opc = AArch64::MLAv4i16;</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac897548bafa7b95eb321258f794eb2ac">MachineCombinerPattern::MULADDv8i16_OP1</a>:</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;    Opc = AArch64::MLAv8i16;</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a134f907cbb8c1abeba32bf0a70ffbdf9">MachineCombinerPattern::MULADDv8i16_OP2</a>:</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;    Opc = AArch64::MLAv8i16;</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad3bf370e23985108ea96f3a193abd0bd">MachineCombinerPattern::MULADDv2i32_OP1</a>:</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;    Opc = AArch64::MLAv2i32;</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a6189fc353fb1b17771ca2149885bd99e">MachineCombinerPattern::MULADDv2i32_OP2</a>:</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;    Opc = AArch64::MLAv2i32;</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac9ad5c1f6d178b55bde924aeb418d0b2">MachineCombinerPattern::MULADDv4i32_OP1</a>:</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;    Opc = AArch64::MLAv4i32;</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad9823821c5d84e2290f359c4f353d165">MachineCombinerPattern::MULADDv4i32_OP2</a>:</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;    Opc = AArch64::MLAv4i32;</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160; </div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2202d07bf3272b53672ef28aebf12568">MachineCombinerPattern::MULSUBv8i8_OP1</a>:</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;    Opc = AArch64::MLAv8i8;</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#ae3ef42086d0578cd1fa764d113f6881b">genFusedMultiplyAccNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv8i8,</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;                                 RC);</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a332b32bf8ce7a30d6b74adcbcc659011">MachineCombinerPattern::MULSUBv8i8_OP2</a>:</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;    Opc = AArch64::MLSv8i8;</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac6f2d047f840c8f78290d1a3005edf99">MachineCombinerPattern::MULSUBv16i8_OP1</a>:</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;    Opc = AArch64::MLAv16i8;</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#ae3ef42086d0578cd1fa764d113f6881b">genFusedMultiplyAccNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv16i8,</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;                                 RC);</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a747c64f3b74a759daf45120930f0feb6">MachineCombinerPattern::MULSUBv16i8_OP2</a>:</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;    Opc = AArch64::MLSv16i8;</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab68b56d06e4d0e81788707d8b1c1e634">MachineCombinerPattern::MULSUBv4i16_OP1</a>:</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;    Opc = AArch64::MLAv4i16;</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#ae3ef42086d0578cd1fa764d113f6881b">genFusedMultiplyAccNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv4i16,</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;                                 RC);</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05adf327b07510cec09ba74659917d2cb7d">MachineCombinerPattern::MULSUBv4i16_OP2</a>:</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;    Opc = AArch64::MLSv4i16;</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4a1f8baa8091e277a45471c02e9bf4bf">MachineCombinerPattern::MULSUBv8i16_OP1</a>:</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;    Opc = AArch64::MLAv8i16;</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#ae3ef42086d0578cd1fa764d113f6881b">genFusedMultiplyAccNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv8i16,</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;                                 RC);</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a3ba9d4ba817e0fd17811e4f297bb0394">MachineCombinerPattern::MULSUBv8i16_OP2</a>:</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;    Opc = AArch64::MLSv8i16;</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab65c69bb870dc8c6261058fe4a855d30">MachineCombinerPattern::MULSUBv2i32_OP1</a>:</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;    Opc = AArch64::MLAv2i32;</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#ae3ef42086d0578cd1fa764d113f6881b">genFusedMultiplyAccNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv2i32,</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;                                 RC);</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae74328d517bf2a463bb93eab364ba33f">MachineCombinerPattern::MULSUBv2i32_OP2</a>:</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;    Opc = AArch64::MLSv2i32;</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a80b124af47379d05275a319fc182d613">MachineCombinerPattern::MULSUBv4i32_OP1</a>:</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;    Opc = AArch64::MLAv4i32;</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#ae3ef42086d0578cd1fa764d113f6881b">genFusedMultiplyAccNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv4i32,</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;                                 RC);</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2b295e79e72029068bfb6efdc54b9515">MachineCombinerPattern::MULSUBv4i32_OP2</a>:</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;    Opc = AArch64::MLSv4i32;</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160; </div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2213964950e793c7afdd7e2241ed5fff">MachineCombinerPattern::MULADDv4i16_indexed_OP1</a>:</div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;    Opc = AArch64::MLAv4i16_indexed;</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af7b9eb664f370ad6c3d4e2204447d75c">MachineCombinerPattern::MULADDv4i16_indexed_OP2</a>:</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;    Opc = AArch64::MLAv4i16_indexed;</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aee6f9bcc13cce461b198d2229eeaf6ad">MachineCombinerPattern::MULADDv8i16_indexed_OP1</a>:</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;    Opc = AArch64::MLAv8i16_indexed;</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af18f788c6a2a2a0ac97b233744ccbeaa">MachineCombinerPattern::MULADDv8i16_indexed_OP2</a>:</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;    Opc = AArch64::MLAv8i16_indexed;</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05afb477086016ec7ad3f992288ce2e7d9d">MachineCombinerPattern::MULADDv2i32_indexed_OP1</a>:</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;    Opc = AArch64::MLAv2i32_indexed;</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a3f0e9880b84d39c823228682966c4da3">MachineCombinerPattern::MULADDv2i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;    Opc = AArch64::MLAv2i32_indexed;</div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a90c191a6a05a332c9f765b2c84f4680b">MachineCombinerPattern::MULADDv4i32_indexed_OP1</a>:</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;    Opc = AArch64::MLAv4i32_indexed;</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a71679481ab07058465bc551b4bdcffce">MachineCombinerPattern::MULADDv4i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;    Opc = AArch64::MLAv4i32_indexed;</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160; </div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a581fd12b0f735520833a7d4b553a52ad">MachineCombinerPattern::MULSUBv4i16_indexed_OP1</a>:</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;    Opc = AArch64::MLAv4i16_indexed;</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a73f9fde2778444c73d9ca47438e72f8d">genFusedMultiplyIdxNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv4i16,</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;                                 RC);</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1a60a3fac27c1e7e8183a440d69f2f81">MachineCombinerPattern::MULSUBv4i16_indexed_OP2</a>:</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;    Opc = AArch64::MLSv4i16_indexed;</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab91852340bbcfb51939f35ee372fd22d">MachineCombinerPattern::MULSUBv8i16_indexed_OP1</a>:</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;    Opc = AArch64::MLAv8i16_indexed;</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a73f9fde2778444c73d9ca47438e72f8d">genFusedMultiplyIdxNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv8i16,</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;                                 RC);</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1e69956b425232693eded29d47d6d15d">MachineCombinerPattern::MULSUBv8i16_indexed_OP2</a>:</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;    Opc = AArch64::MLSv8i16_indexed;</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2635a71f0901740dd5519d3ec9a3a202">MachineCombinerPattern::MULSUBv2i32_indexed_OP1</a>:</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;    Opc = AArch64::MLAv2i32_indexed;</div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a73f9fde2778444c73d9ca47438e72f8d">genFusedMultiplyIdxNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv2i32,</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;                                 RC);</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a84158dd1a8182d6f197658be0527d28a">MachineCombinerPattern::MULSUBv2i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;    Opc = AArch64::MLSv2i32_indexed;</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad7bab6f226e174247c9ef9b4e0d1bd0a">MachineCombinerPattern::MULSUBv4i32_indexed_OP1</a>:</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;    Opc = AArch64::MLAv4i32_indexed;</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a73f9fde2778444c73d9ca47438e72f8d">genFusedMultiplyIdxNeg</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs,</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;                                 InstrIdxForVirtReg, 1, Opc, AArch64::NEGv4i32,</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;                                 RC);</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac57a2cf15e78090fa9176ea4e214b4df">MachineCombinerPattern::MULSUBv4i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;    Opc = AArch64::MLSv4i32_indexed;</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160; </div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;  <span class="comment">// Floating Point Support</span></div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2c64fa121b5991687394790a52ecf299">MachineCombinerPattern::FMULADDH_OP1</a>:</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;    Opc = AArch64::FMADDHrrr;</div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;    RC = &amp;AArch64::FPR16RegClass;</div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2aa982c2e9455a191597a4d7373b8f5d">MachineCombinerPattern::FMULADDS_OP1</a>:</div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;    Opc = AArch64::FMADDSrrr;</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;    RC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a03290efbf7ccd62d1500de80287021b5">MachineCombinerPattern::FMULADDD_OP1</a>:</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;    Opc = AArch64::FMADDDrrr;</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160; </div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a9064e3d57055daa26f814fc94c1cecfb">MachineCombinerPattern::FMULADDH_OP2</a>:</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;    Opc = AArch64::FMADDHrrr;</div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;    RC = &amp;AArch64::FPR16RegClass;</div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a72d2a54e9757efee4bf7e0cc8bbdf489">MachineCombinerPattern::FMULADDS_OP2</a>:</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;    Opc = AArch64::FMADDSrrr;</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;    RC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a57e701bf8e691f97f00961440fd86ece">MachineCombinerPattern::FMULADDD_OP2</a>:</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;    Opc = AArch64::FMADDDrrr;</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160; </div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a07b4e7927d6c11fbc390d55161008bec">MachineCombinerPattern::FMLAv1i32_indexed_OP1</a>:</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;    Opc = AArch64::FMLAv1i32_indexed;</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;    RC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aadd2f44199ccd69d17aed8a5e0998c8e">MachineCombinerPattern::FMLAv1i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;    Opc = AArch64::FMLAv1i32_indexed;</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;    RC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160; </div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a29ca12a368c8c3752c4cf28a39468b44">MachineCombinerPattern::FMLAv1i64_indexed_OP1</a>:</div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;    Opc = AArch64::FMLAv1i64_indexed;</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aae06220c51ead042db61d0f53f19c72d">MachineCombinerPattern::FMLAv1i64_indexed_OP2</a>:</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;    Opc = AArch64::FMLAv1i64_indexed;</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160; </div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a521b32f7c9c577a6b39781213eb2cb30">MachineCombinerPattern::FMLAv4i16_indexed_OP1</a>:</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;    Opc = AArch64::FMLAv4i16_indexed;</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa9f3c5f2295bad84281cbeaa529e61e7">MachineCombinerPattern::FMLAv4f16_OP1</a>:</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;    Opc = AArch64::FMLAv4f16;</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae4b83d82585f6cf865c9c772daff9aac">MachineCombinerPattern::FMLAv4i16_indexed_OP2</a>:</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;    Opc = AArch64::FMLAv4i16_indexed;</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a23541701e4107566402d268babc0f7a0">MachineCombinerPattern::FMLAv4f16_OP2</a>:</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;    Opc = AArch64::FMLAv4f16;</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160; </div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8f80dd904ec89e49bde70d459e4af797">MachineCombinerPattern::FMLAv2i32_indexed_OP1</a>:</div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab69092ab6c6e9cd0991d64490009a768">MachineCombinerPattern::FMLAv2f32_OP1</a>:</div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8f80dd904ec89e49bde70d459e4af797">MachineCombinerPattern::FMLAv2i32_indexed_OP1</a>) {</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;      Opc = AArch64::FMLAv2i32_indexed;</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;      Opc = AArch64::FMLAv2f32;</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;    }</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4ba13e72e96e35990ba222a501f1cfbe">MachineCombinerPattern::FMLAv2i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4dea34f9dbf530101a40103639f059e2">MachineCombinerPattern::FMLAv2f32_OP2</a>:</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4ba13e72e96e35990ba222a501f1cfbe">MachineCombinerPattern::FMLAv2i32_indexed_OP2</a>) {</div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;      Opc = AArch64::FMLAv2i32_indexed;</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;      Opc = AArch64::FMLAv2f32;</div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;    }</div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160; </div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae85c386ac7b2ceea0d88784fafafd39e">MachineCombinerPattern::FMLAv8i16_indexed_OP1</a>:</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;    Opc = AArch64::FMLAv8i16_indexed;</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05abf7ba5f9855516b861f6c4cf5c34491f">MachineCombinerPattern::FMLAv8f16_OP1</a>:</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;    Opc = AArch64::FMLAv8f16;</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae15079d2e661de449accda868512f3f2">MachineCombinerPattern::FMLAv8i16_indexed_OP2</a>:</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;    Opc = AArch64::FMLAv8i16_indexed;</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa5cad2c16f0f98b21059d400a842e007">MachineCombinerPattern::FMLAv8f16_OP2</a>:</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;    Opc = AArch64::FMLAv8f16;</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160; </div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2ed3ade77242d9e64161d189f8ce6005">MachineCombinerPattern::FMLAv2i64_indexed_OP1</a>:</div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05adfc676b68cdc9d3fb6b6dfd043d90131">MachineCombinerPattern::FMLAv2f64_OP1</a>:</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2ed3ade77242d9e64161d189f8ce6005">MachineCombinerPattern::FMLAv2i64_indexed_OP1</a>) {</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;      Opc = AArch64::FMLAv2i64_indexed;</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;      Opc = AArch64::FMLAv2f64;</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;    }</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2a43e332a448a5e87a619d833c162703">MachineCombinerPattern::FMLAv2i64_indexed_OP2</a>:</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a13802c3052a671d9a5e8e877e2cd3a05">MachineCombinerPattern::FMLAv2f64_OP2</a>:</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2a43e332a448a5e87a619d833c162703">MachineCombinerPattern::FMLAv2i64_indexed_OP2</a>) {</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;      Opc = AArch64::FMLAv2i64_indexed;</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;      Opc = AArch64::FMLAv2f64;</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;    }</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160; </div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4376790aa70f615c404bf3c4f9c82490">MachineCombinerPattern::FMLAv4i32_indexed_OP1</a>:</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2de7d9704e1d5b42f56ed3f11f095596">MachineCombinerPattern::FMLAv4f32_OP1</a>:</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4376790aa70f615c404bf3c4f9c82490">MachineCombinerPattern::FMLAv4i32_indexed_OP1</a>) {</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;      Opc = AArch64::FMLAv4i32_indexed;</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;      Opc = AArch64::FMLAv4f32;</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;    }</div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160; </div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a73146e4a922058dc65540763ca1054d8">MachineCombinerPattern::FMLAv4i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4da5c624b602859153b3f5ca5aaca932">MachineCombinerPattern::FMLAv4f32_OP2</a>:</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a73146e4a922058dc65540763ca1054d8">MachineCombinerPattern::FMLAv4i32_indexed_OP2</a>) {</div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;      Opc = AArch64::FMLAv4i32_indexed;</div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;      Opc = AArch64::FMLAv4f32;</div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;    }</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160; </div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a6028bd3a601dd504141e1361b5db1492">MachineCombinerPattern::FMULSUBH_OP1</a>:</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;    Opc = AArch64::FNMSUBHrrr;</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;    RC = &amp;AArch64::FPR16RegClass;</div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a15a6d01915a59c547b3b0f93e49963e9">MachineCombinerPattern::FMULSUBS_OP1</a>:</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    Opc = AArch64::FNMSUBSrrr;</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;    RC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af7fc35feded50db37bcfab5eab7aadbb">MachineCombinerPattern::FMULSUBD_OP1</a>:</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;    Opc = AArch64::FNMSUBDrrr;</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160; </div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a615ff3cce7bc1e4ff773167c5c17d168">MachineCombinerPattern::FNMULSUBH_OP1</a>:</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;    Opc = AArch64::FNMADDHrrr;</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;    RC = &amp;AArch64::FPR16RegClass;</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a7f4b4c44651a69c4f6f9134cb4b51352">MachineCombinerPattern::FNMULSUBS_OP1</a>:</div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;    Opc = AArch64::FNMADDSrrr;</div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;    RC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4d8c9c67f03d210a1c844f09f64137c6">MachineCombinerPattern::FNMULSUBD_OP1</a>:</div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;    Opc = AArch64::FNMADDDrrr;</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC);</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160; </div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a296286c6430a892d841cb513531660b8">MachineCombinerPattern::FMULSUBH_OP2</a>:</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;    Opc = AArch64::FMSUBHrrr;</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;    RC = &amp;AArch64::FPR16RegClass;</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a97d771099b0db3d75f4b3f386d0c1092">MachineCombinerPattern::FMULSUBS_OP2</a>:</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;    Opc = AArch64::FMSUBSrrr;</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;    RC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad928dd9bf909fd02460a07284c2bb35c">MachineCombinerPattern::FMULSUBD_OP2</a>:</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;    Opc = AArch64::FMSUBDrrr;</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC);</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160; </div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05acf29990824391c17beb64d5a9550a733">MachineCombinerPattern::FMLSv1i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;    Opc = AArch64::FMLSv1i32_indexed;</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;    RC = &amp;AArch64::FPR32RegClass;</div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160; </div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa1b36e8f37f19ad49f7c55272586c602">MachineCombinerPattern::FMLSv1i64_indexed_OP2</a>:</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;    Opc = AArch64::FMLSv1i64_indexed;</div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160; </div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a59c025ee51897a76f97fee4d314b8c54">MachineCombinerPattern::FMLSv4f16_OP1</a>:</div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a54d11bc3d8843ff040af59be8bb7af13">MachineCombinerPattern::FMLSv4i16_indexed_OP1</a>: {</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB1 =</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::FNEGv4f16), NewVR)</div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2));</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;    InsInstrs.push_back(MIB1);</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a59c025ee51897a76f97fee4d314b8c54">MachineCombinerPattern::FMLSv4f16_OP1</a>) {</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;      Opc = AArch64::FMLAv4f16;</div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>, &amp;NewVR);</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;      Opc = AArch64::FMLAv4i16_indexed;</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>, &amp;NewVR);</div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;    }</div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;  }</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af70e0b1d6898bd3f0ae6df4ac616b4c3">MachineCombinerPattern::FMLSv4f16_OP2</a>:</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;    Opc = AArch64::FMLSv4f16;</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a17362ccaee2fef3337d9a29ff399232b">MachineCombinerPattern::FMLSv4i16_indexed_OP2</a>:</div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;    Opc = AArch64::FMLSv4i16_indexed;</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160; </div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a85248a43678ef4a873ca8783c0f83a60">MachineCombinerPattern::FMLSv2f32_OP2</a>:</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2d716f420628248e7a89013c5460484">MachineCombinerPattern::FMLSv2i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2d716f420628248e7a89013c5460484">MachineCombinerPattern::FMLSv2i32_indexed_OP2</a>) {</div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;      Opc = AArch64::FMLSv2i32_indexed;</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;      Opc = AArch64::FMLSv2f32;</div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;    }</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160; </div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05addbc12649925b262818f3e005a4ec1e4">MachineCombinerPattern::FMLSv8f16_OP1</a>:</div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab4d7219c033a36da60f10c78e269e3ad">MachineCombinerPattern::FMLSv8i16_indexed_OP1</a>: {</div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB1 =</div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::FNEGv8f16), NewVR)</div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2));</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;    InsInstrs.push_back(MIB1);</div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05addbc12649925b262818f3e005a4ec1e4">MachineCombinerPattern::FMLSv8f16_OP1</a>) {</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;      Opc = AArch64::FMLAv8f16;</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>, &amp;NewVR);</div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;      Opc = AArch64::FMLAv8i16_indexed;</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>, &amp;NewVR);</div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;    }</div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;  }</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab7eaf10b55b2c3b849c192426ab2ef00">MachineCombinerPattern::FMLSv8f16_OP2</a>:</div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;    Opc = AArch64::FMLSv8f16;</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a832f7ffb68fe4a65abd0264fdb503665">MachineCombinerPattern::FMLSv8i16_indexed_OP2</a>:</div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;    Opc = AArch64::FMLSv8i16_indexed;</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;                           <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160; </div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a450bf3e112ffa4c43568d1d9193d40a1">MachineCombinerPattern::FMLSv2f64_OP2</a>:</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a19f4ffebc2ddf94a14b8ad8d081b517e">MachineCombinerPattern::FMLSv2i64_indexed_OP2</a>:</div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a19f4ffebc2ddf94a14b8ad8d081b517e">MachineCombinerPattern::FMLSv2i64_indexed_OP2</a>) {</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;      Opc = AArch64::FMLSv2i64_indexed;</div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;      Opc = AArch64::FMLSv2f64;</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;    }</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160; </div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a51010efdaa1d2ca750d10de8c350b9ec">MachineCombinerPattern::FMLSv4f32_OP2</a>:</div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05afde7d706260ac691ef32056402b10797">MachineCombinerPattern::FMLSv4i32_indexed_OP2</a>:</div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05afde7d706260ac691ef32056402b10797">MachineCombinerPattern::FMLSv4i32_indexed_OP2</a>) {</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;      Opc = AArch64::FMLSv4i32_indexed;</div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>);</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;      Opc = AArch64::FMLSv4f32;</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 2, Opc, RC,</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>);</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;    }</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac5a30549fe8425855610e29203ca1c9a">MachineCombinerPattern::FMLSv2f32_OP1</a>:</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1cbe2e1c0cbaffe3679afcc7e69582d0">MachineCombinerPattern::FMLSv2i32_indexed_OP1</a>: {</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;    RC = &amp;AArch64::FPR64RegClass;</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB1 =</div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::FNEGv2f32), NewVR)</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2));</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;    InsInstrs.push_back(MIB1);</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1cbe2e1c0cbaffe3679afcc7e69582d0">MachineCombinerPattern::FMLSv2i32_indexed_OP1</a>) {</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;      Opc = AArch64::FMLAv2i32_indexed;</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>, &amp;NewVR);</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;      Opc = AArch64::FMLAv2f32;</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>, &amp;NewVR);</div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;    }</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;  }</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4488867294264fa12092c6121b93e530">MachineCombinerPattern::FMLSv4f32_OP1</a>:</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a7f3b8fc2531f7a300c494ef77a630b31">MachineCombinerPattern::FMLSv4i32_indexed_OP1</a>: {</div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB1 =</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::FNEGv4f32), NewVR)</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2));</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;    InsInstrs.push_back(MIB1);</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a7f3b8fc2531f7a300c494ef77a630b31">MachineCombinerPattern::FMLSv4i32_indexed_OP1</a>) {</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;      Opc = AArch64::FMLAv4i32_indexed;</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>, &amp;NewVR);</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;      Opc = AArch64::FMLAv4f32;</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>, &amp;NewVR);</div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;    }</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;  }</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a59cc126201a45868166b5ddad3206b7f">MachineCombinerPattern::FMLSv2f64_OP1</a>:</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a40719f011633f9bd8003d80dfccea246">MachineCombinerPattern::FMLSv2i64_indexed_OP1</a>: {</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;    RC = &amp;AArch64::FPR128RegClass;</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB1 =</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1MIMetadata.html">MIMetadata</a>(Root), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::FNEGv2f64), NewVR)</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2));</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;    InsInstrs.push_back(MIB1);</div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVR, 0));</div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a40719f011633f9bd8003d80dfccea246">MachineCombinerPattern::FMLSv2i64_indexed_OP1</a>) {</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;      Opc = AArch64::FMLAv2i64_indexed;</div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a>, &amp;NewVR);</div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;      Opc = AArch64::FMLAv2f64;</div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a> = <a class="code" href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a>(MF, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Root, InsInstrs, 1, Opc, RC,</div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;                             <a class="code" href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a>, &amp;NewVR);</div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;    }</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;  }</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8cea7bb0f58bc0730334b6c9e29f7919">MachineCombinerPattern::FMULv2i32_indexed_OP1</a>:</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a7083c6344f6aaeb66d5d136b5debd090">MachineCombinerPattern::FMULv2i32_indexed_OP2</a>: {</div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;    <span class="keywordtype">unsigned</span> IdxDupOp =</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;        (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8cea7bb0f58bc0730334b6c9e29f7919">MachineCombinerPattern::FMULv2i32_indexed_OP1</a>) ? 1 : 2;</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a25f231b9d7956e632ee2fc265ae23bba">genIndexedMultiply</a>(Root, InsInstrs, IdxDupOp, AArch64::FMULv2i32_indexed,</div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;                       &amp;AArch64::FPR128RegClass, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;  }</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4418916d7a4f6a6777fb46416e056855">MachineCombinerPattern::FMULv2i64_indexed_OP1</a>:</div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a074d0c905ca2fb4901b31fe698abf443">MachineCombinerPattern::FMULv2i64_indexed_OP2</a>: {</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;    <span class="keywordtype">unsigned</span> IdxDupOp =</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;        (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4418916d7a4f6a6777fb46416e056855">MachineCombinerPattern::FMULv2i64_indexed_OP1</a>) ? 1 : 2;</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a25f231b9d7956e632ee2fc265ae23bba">genIndexedMultiply</a>(Root, InsInstrs, IdxDupOp, AArch64::FMULv2i64_indexed,</div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;                       &amp;AArch64::FPR128RegClass, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;  }</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a147765c12581b905031f7e6a52c6a7e8">MachineCombinerPattern::FMULv4i16_indexed_OP1</a>:</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a08dfa5dc60f3899e1cd19eebdb70b54c">MachineCombinerPattern::FMULv4i16_indexed_OP2</a>: {</div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;    <span class="keywordtype">unsigned</span> IdxDupOp =</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;        (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a147765c12581b905031f7e6a52c6a7e8">MachineCombinerPattern::FMULv4i16_indexed_OP1</a>) ? 1 : 2;</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a25f231b9d7956e632ee2fc265ae23bba">genIndexedMultiply</a>(Root, InsInstrs, IdxDupOp, AArch64::FMULv4i16_indexed,</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;                       &amp;AArch64::FPR128_loRegClass, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;  }</div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae7e70ffe0ed4582ac605800a85891c4c">MachineCombinerPattern::FMULv4i32_indexed_OP1</a>:</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a84fb1fbcce97b415254f7d9bd38b363a">MachineCombinerPattern::FMULv4i32_indexed_OP2</a>: {</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;    <span class="keywordtype">unsigned</span> IdxDupOp =</div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;        (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae7e70ffe0ed4582ac605800a85891c4c">MachineCombinerPattern::FMULv4i32_indexed_OP1</a>) ? 1 : 2;</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a25f231b9d7956e632ee2fc265ae23bba">genIndexedMultiply</a>(Root, InsInstrs, IdxDupOp, AArch64::FMULv4i32_indexed,</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;                       &amp;AArch64::FPR128RegClass, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;  }</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a16125e32c14e620f74bd688db0fd2190">MachineCombinerPattern::FMULv8i16_indexed_OP1</a>:</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a33b8842dbda2bbc78c42098cf27af35e">MachineCombinerPattern::FMULv8i16_indexed_OP2</a>: {</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;    <span class="keywordtype">unsigned</span> IdxDupOp =</div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;        (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a16125e32c14e620f74bd688db0fd2190">MachineCombinerPattern::FMULv8i16_indexed_OP1</a>) ? 1 : 2;</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a25f231b9d7956e632ee2fc265ae23bba">genIndexedMultiply</a>(Root, InsInstrs, IdxDupOp, AArch64::FMULv8i16_indexed,</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;                       &amp;AArch64::FPR128_loRegClass, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;  }</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;  } <span class="comment">// end switch (Pattern)</span></div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;  <span class="comment">// Record MUL and ADD/SUB for deletion</span></div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>)</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;    DelInstrs.push_back(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>);</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;  DelInstrs.push_back(&amp;Root);</div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160; </div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;  <span class="comment">// Set the flags on the inserted instructions to be the merged flags of the</span></div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;  <span class="comment">// instructions that we have combined.</span></div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> Flags = Root.<a class="code" href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">getFlags</a>();</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>)</div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;    Flags = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a05f67657336e5c8274dc9081a577c115">mergeFlagsWith</a>(*<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">MUL</a>);</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : InsInstrs)</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setFlags(Flags);</div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;}</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;<span class="comment">/// Replace csincr-branch sequence by simple conditional branch</span></div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;<span class="comment">/// Examples:</span></div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;<span class="comment">/// 1. \code</span></div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;<span class="comment">///   csinc  w9, wzr, wzr, &lt;condition code&gt;</span></div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;<span class="comment">///   tbnz   w9, #0, 0x44</span></div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;<span class="comment">/// to</span></div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;<span class="comment">///    \code</span></div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;<span class="comment">///   b.&lt;inverted condition code&gt;</span></div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;<span class="comment">/// 2. \code</span></div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;<span class="comment">///   csinc w9, wzr, wzr, &lt;condition code&gt;</span></div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;<span class="comment">///   tbz   w9, #0, 0x44</span></div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;<span class="comment">/// to</span></div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;<span class="comment">///    \code</span></div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;<span class="comment">///   b.&lt;condition code&gt;</span></div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;<span class="comment">/// Replace compare and branch sequence by TBZ/TBNZ instruction when the</span></div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;<span class="comment">/// compare&#39;s constant operand is power of 2.</span></div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;<span class="comment">/// Examples:</span></div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;<span class="comment">///    \code</span></div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;<span class="comment">///   and  w8, w8, #0x400</span></div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;<span class="comment">///   cbnz w8, L1</span></div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;<span class="comment">/// to</span></div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;<span class="comment">///    \code</span></div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;<span class="comment">///   tbnz w8, #10, L1</span></div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;<span class="comment">///    \endcode</span></div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;<span class="comment">/// \param  MI Conditional Branch</span></div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;<span class="comment">/// \return True when the simple conditional branch is generated</span></div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l06832"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#af0bbac5dd9f698f2c73477c4e5f36b60"> 6832</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af0bbac5dd9f698f2c73477c4e5f36b60">AArch64InstrInfo::optimizeCondBranch</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;  <span class="keywordtype">bool</span> IsNegativeBranch = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;  <span class="keywordtype">bool</span> IsTestAndBranch = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;  <span class="keywordtype">unsigned</span> TargetBBInMI = 0;</div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown branch instruction?&quot;</span>);</div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;  <span class="keywordflow">case</span> AArch64::Bcc:</div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZW:</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;  <span class="keywordflow">case</span> AArch64::CBZX:</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;    TargetBBInMI = 1;</div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZW:</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;  <span class="keywordflow">case</span> AArch64::CBNZX:</div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;    TargetBBInMI = 1;</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;    IsNegativeBranch = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;  <span class="keywordflow">case</span> AArch64::TBZW:</div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;  <span class="keywordflow">case</span> AArch64::TBZX:</div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;    TargetBBInMI = 2;</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;    IsTestAndBranch = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;  <span class="keywordflow">case</span> AArch64::TBNZW:</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;  <span class="keywordflow">case</span> AArch64::TBNZX:</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;    TargetBBInMI = 2;</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;    IsNegativeBranch = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;    IsTestAndBranch = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;  }</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;  <span class="comment">// So we increment a zero register and test for bits other</span></div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;  <span class="comment">// than bit 0? Conservatively bail out in case the verifier</span></div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;  <span class="comment">// missed this case.</span></div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;  <span class="keywordflow">if</span> (IsTestAndBranch &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm())</div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160; </div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;  <span class="comment">// Find Definition.</span></div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent() &amp;&amp; <span class="stringliteral">&quot;Incomplete machine instruciton\n&quot;</span>);</div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> VReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;  <span class="keywordflow">if</span> (!VReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160; </div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(VReg);</div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160; </div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;  <span class="comment">// Look through COPY instructions to find definition.</span></div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1912d4fbc40c61a12b1f770ad54dfd74">isCopy</a>()) {</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> CopyVReg = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">hasOneNonDBGUse</a>(CopyVReg))</div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a92d46fa856af865f8c997f97596990ec">hasOneDef</a>(CopyVReg))</div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;    <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(CopyVReg);</div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;  }</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160; </div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;  <span class="comment">// Fold AND into a TBZ/TBNZ if constant operand is power of 2.</span></div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDWri:</div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;  <span class="keywordflow">case</span> AArch64::ANDXri: {</div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;    <span class="keywordflow">if</span> (IsTestAndBranch)</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">hasOneNonDBGUse</a>(VReg))</div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160; </div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;    <span class="keywordtype">bool</span> Is32Bit = (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AArch64::ANDWri);</div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="namespacellvm_1_1AArch64__AM.html#a1affd6d7e8a280fa6a0b642a6e0734b8">AArch64_AM::decodeLogicalImmediate</a>(</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>(), Is32Bit ? 32 : 64);</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a434f6a0d80fb13e4326e848a6391f057">isPowerOf2_64</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160; </div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewReg = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;    <span class="keywordflow">if</span> (!NewReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160; </div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5f95077d52fb7c8cd08ce6338b107bcf">def_empty</a>(NewReg) &amp;&amp; <span class="stringliteral">&quot;Register must be defined.&quot;</span>);</div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160; </div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;RefToMBB = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getMBB();</div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="namespacellvm.html#a4f42ed6fd2569fa43f03814a17f9d94a">Log2_64</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;    <span class="keywordtype">unsigned</span> Opc = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &lt; 32)</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;                       ? (IsNegativeBranch ? AArch64::TBNZW : AArch64::TBZW)</div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;                       : (IsNegativeBranch ? AArch64::TBNZX : AArch64::TBZX);</div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(RefToMBB, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc))</div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewReg)</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)</div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;    <span class="comment">// Register lives on to the CBZ now.</span></div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;    MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160; </div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;    <span class="comment">// For immediate smaller than 32, we need to use the 32-bit</span></div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;    <span class="comment">// variant (W) in all cases. Indeed the 64-bit variant does not</span></div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;    <span class="comment">// allow to encode them.</span></div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;    <span class="comment">// Therefore, if the input register is 64-bit, we need to take the</span></div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;    <span class="comment">// 32-bit sub-part.</span></div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;    <span class="keywordflow">if</span> (!Is32Bit &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &lt; 32)</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;      NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">setSubReg</a>(AArch64::sub_32);</div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;  }</div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;  <span class="comment">// Look for CSINC</span></div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;  <span class="keywordflow">case</span> AArch64::CSINCWr:</div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;  <span class="keywordflow">case</span> AArch64::CSINCXr: {</div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AArch64::WZR &amp;&amp;</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;          <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AArch64::WZR) &amp;&amp;</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;        !(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AArch64::XZR &amp;&amp;</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;          <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AArch64::XZR))</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160; </div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(AArch64::NZCV, <span class="keyword">true</span>) != -1)</div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160; </div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = (<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">AArch64CC::CondCode</a>)<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;    <span class="comment">// Convert only when the condition code is not modified between</span></div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;    <span class="comment">// the CSINC and the branch. The CC may be used by other</span></div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;    <span class="comment">// instructions in between.</span></div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64InstrInfo_8cpp.html#a19a5a038e1b77984ca9710992b68b938">areCFlagsAccessedBetweenInstrs</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>(), <a class="code" href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847ad95a443441a0fd8b5fffc844eb6fabc3">AK_Write</a>))</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;RefToMBB = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(TargetBBInMI).getMBB();</div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;    <span class="keywordflow">if</span> (IsNegativeBranch)</div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#afc2ebeb83373be407903e43096e4f7b9">AArch64CC::getInvertedCondCode</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(RefToMBB, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::Bcc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;  }</div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;  }</div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;}</div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160; </div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;std::pair&lt;unsigned, unsigned&gt;</div>
<div class="line"><a name="l06970"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#acb8985e96f5a8a270fc9d57fc8c99920"> 6970</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#acb8985e96f5a8a270fc9d57fc8c99920">AArch64InstrInfo::decomposeMachineOperandsTargetFlags</a>(<span class="keywordtype">unsigned</span> TF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a431b2e3ea036a96be92385e07bfbb0ad">AArch64II::MO_FRAGMENT</a>;</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;  <span class="keywordflow">return</span> std::make_pair(TF &amp; <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, TF &amp; ~<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;}</div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160; </div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;unsigned, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l06976"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a9e7195b691e065ac34568c1b3340a3f8"> 6976</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a9e7195b691e065ac34568c1b3340a3f8">AArch64InstrInfo::getSerializableDirectMachineOperandTargetFlags</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;  <span class="keyword">using namespace </span>AArch64II;</div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160; </div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;unsigned, const char *&gt; TargetFlags[] = {</div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a7f04634c15a04a59d5f234002e613b5b">MO_PAGE</a>, <span class="stringliteral">&quot;aarch64-page&quot;</span>}, {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a3a5053185998bdf24f3167c234915785">MO_PAGEOFF</a>, <span class="stringliteral">&quot;aarch64-pageoff&quot;</span>},</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71af2217d25138eade76a256c4c3dc131bd">MO_G3</a>, <span class="stringliteral">&quot;aarch64-g3&quot;</span>},     {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71ae048a7c85d8a27195ad9ce1e1282bda9">MO_G2</a>, <span class="stringliteral">&quot;aarch64-g2&quot;</span>},</div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a30eefa1143a0a238486ada4ff95bc34b">MO_G1</a>, <span class="stringliteral">&quot;aarch64-g1&quot;</span>},     {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a6d9cfbe4ea54a3ce9d5308efab7200b9">MO_G0</a>, <span class="stringliteral">&quot;aarch64-g0&quot;</span>},</div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71abb4faac7fe2138d41464b4e802ec103f">MO_HI12</a>, <span class="stringliteral">&quot;aarch64-hi12&quot;</span>}};</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(TargetFlags);</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;}</div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160; </div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;unsigned, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l06988"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#aedb4c96bbe231a3c622b06e15fdb05cb"> 6988</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#aedb4c96bbe231a3c622b06e15fdb05cb">AArch64InstrInfo::getSerializableBitmaskMachineOperandTargetFlags</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;  <span class="keyword">using namespace </span>AArch64II;</div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160; </div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;unsigned, const char *&gt; TargetFlags[] = {</div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71afacfcdd80d8095ce952ab919979f1d2f">MO_COFFSTUB</a>, <span class="stringliteral">&quot;aarch64-coffstub&quot;</span>},</div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a4144c2ee93286fba09bd8f14fb11f27a">MO_GOT</a>, <span class="stringliteral">&quot;aarch64-got&quot;</span>},</div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a028a4adc46c746ba1501e1e6fefb54cc">MO_NC</a>, <span class="stringliteral">&quot;aarch64-nc&quot;</span>},</div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a39261c05ab3afff5126eb55ee51fed44">MO_S</a>, <span class="stringliteral">&quot;aarch64-s&quot;</span>},</div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71add46ede0892fdd429e940eb97c1e6e55">MO_TLS</a>, <span class="stringliteral">&quot;aarch64-tls&quot;</span>},</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a014aa77d177f925047f52c27d6dec14e">MO_DLLIMPORT</a>, <span class="stringliteral">&quot;aarch64-dllimport&quot;</span>},</div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a9ea5b7786e0c56498ed306d74e3052d0">MO_DLLIMPORTAUX</a>, <span class="stringliteral">&quot;aarch64-dllimportaux&quot;</span>},</div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a4ac8a83c3f27cf2acb3928c64c07f1db">MO_PREL</a>, <span class="stringliteral">&quot;aarch64-prel&quot;</span>},</div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71aefb2c1834e49df9715967d4a2c9c99e8">MO_TAGGED</a>, <span class="stringliteral">&quot;aarch64-tagged&quot;</span>}};</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(TargetFlags);</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;}</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160; </div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;MachineMemOperand::Flags, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l07005"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a74f4174a5d158b611050cdf7abd04b58"> 7005</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a74f4174a5d158b611050cdf7abd04b58">AArch64InstrInfo::getSerializableMachineMemOperandTargetFlags</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;MachineMemOperand::Flags, const char *&gt; TargetFlags[] =</div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;      {{<a class="code" href="namespacellvm.html#acecb758d131c550fcdf82d6211884138">MOSuppressPair</a>, <span class="stringliteral">&quot;aarch64-suppress-pair&quot;</span>},</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;       {<a class="code" href="namespacellvm.html#adcbbc11398a037540fd4fbab96e6f6a4">MOStridedAccess</a>, <span class="stringliteral">&quot;aarch64-strided-access&quot;</span>}};</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(TargetFlags);</div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;}</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;<span class="comment">/// Constants defining how certain sequences should be outlined.</span></div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;<span class="comment">/// This encompasses how an outlined function should be called, and what kind of</span></div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;<span class="comment">/// frame should be emitted for that outlined function.</span></div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;<span class="comment">/// \p MachineOutlinerDefault implies that the function should be called with</span></div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;<span class="comment">/// a save and restore of LR to the stack.</span></div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;<span class="comment">/// That is,</span></div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;<span class="comment">/// I1     Save LR                    OUTLINED_FUNCTION:</span></div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;<span class="comment">/// I2 --&gt; BL OUTLINED_FUNCTION       I1</span></div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;<span class="comment">/// I3     Restore LR                 I2</span></div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;<span class="comment">///                                   I3</span></div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;<span class="comment">///                                   RET</span></div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;<span class="comment">/// * Call construction overhead: 3 (save + BL + restore)</span></div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;<span class="comment">/// * Frame construction overhead: 1 (ret)</span></div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;<span class="comment">/// * Requires stack fixups? Yes</span></div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;<span class="comment">/// \p MachineOutlinerTailCall implies that the function is being created from</span></div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;<span class="comment">/// a sequence of instructions ending in a return.</span></div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;<span class="comment">/// That is,</span></div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;<span class="comment">/// I1                             OUTLINED_FUNCTION:</span></div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;<span class="comment">/// I2 --&gt; B OUTLINED_FUNCTION     I1</span></div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;<span class="comment">/// RET                            I2</span></div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;<span class="comment">///                                RET</span></div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;<span class="comment">/// * Call construction overhead: 1 (B)</span></div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;<span class="comment">/// * Frame construction overhead: 0 (Return included in sequence)</span></div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;<span class="comment">/// * Requires stack fixups? No</span></div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;<span class="comment">/// \p MachineOutlinerNoLRSave implies that the function should be called using</span></div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;<span class="comment">/// a BL instruction, but doesn&#39;t require LR to be saved and restored. This</span></div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;<span class="comment">/// happens when LR is known to be dead.</span></div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;<span class="comment">/// That is,</span></div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;<span class="comment">/// I1                                OUTLINED_FUNCTION:</span></div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;<span class="comment">/// I2 --&gt; BL OUTLINED_FUNCTION       I1</span></div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;<span class="comment">/// I3                                I2</span></div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;<span class="comment">///                                   I3</span></div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;<span class="comment">///                                   RET</span></div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;<span class="comment">/// * Call construction overhead: 1 (BL)</span></div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;<span class="comment">/// * Frame construction overhead: 1 (RET)</span></div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;<span class="comment">/// * Requires stack fixups? No</span></div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;<span class="comment">/// \p MachineOutlinerThunk implies that the function is being created from</span></div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;<span class="comment">/// a sequence of instructions ending in a call. The outlined function is</span></div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;<span class="comment">/// called with a BL instruction, and the outlined function tail-calls the</span></div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;<span class="comment">/// original call destination.</span></div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;<span class="comment">/// That is,</span></div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;<span class="comment">/// I1                                OUTLINED_FUNCTION:</span></div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;<span class="comment">/// I2 --&gt; BL OUTLINED_FUNCTION       I1</span></div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;<span class="comment">/// BL f                              I2</span></div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;<span class="comment">///                                   B f</span></div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;<span class="comment">/// * Call construction overhead: 1 (BL)</span></div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;<span class="comment">/// * Frame construction overhead: 0</span></div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;<span class="comment">/// * Requires stack fixups? No</span></div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;<span class="comment">/// \p MachineOutlinerRegSave implies that the function should be called with a</span></div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;<span class="comment">/// save and restore of LR to an available register. This allows us to avoid</span></div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;<span class="comment">/// stack fixups. Note that this outlining variant is compatible with the</span></div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;<span class="comment">/// NoLRSave case.</span></div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;<span class="comment">/// That is,</span></div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;<span class="comment">/// I1     Save LR                    OUTLINED_FUNCTION:</span></div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;<span class="comment">/// I2 --&gt; BL OUTLINED_FUNCTION       I1</span></div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;<span class="comment">/// I3     Restore LR                 I2</span></div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;<span class="comment">///                                   I3</span></div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;<span class="comment">///                                   RET</span></div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;<span class="comment">/// * Call construction overhead: 3 (save + BL + restore)</span></div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;<span class="comment">/// * Frame construction overhead: 1 (ret)</span></div>
<div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;<span class="comment">/// * Requires stack fixups? No</span></div>
<div class="line"><a name="l07092"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4"> 7092</a></span>&#160;<span class="comment"></span><span class="keyword">enum</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4">MachineOutlinerClass</a> {</div>
<div class="line"><a name="l07093"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae6d079724e013e1fd057cf6fcb57675a"> 7093</a></span>&#160;  <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae6d079724e013e1fd057cf6fcb57675a">MachineOutlinerDefault</a>,  <span class="comment">/// Emit a save, restore, call, and return.</span></div>
<div class="line"><a name="l07094"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7"> 7094</a></span>&#160;<span class="comment"></span>  <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a>, <span class="comment">/// Only emit a branch.</span></div>
<div class="line"><a name="l07095"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a91f63a4449fb0a4504497465cc2f4c9a"> 7095</a></span>&#160;<span class="comment"></span>  <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a91f63a4449fb0a4504497465cc2f4c9a">MachineOutlinerNoLRSave</a>, <span class="comment">/// Emit a call and return.</span></div>
<div class="line"><a name="l07096"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c"> 7096</a></span>&#160;<span class="comment"></span>  <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c">MachineOutlinerThunk</a>,    <span class="comment">/// Emit a call and tail-call.</span></div>
<div class="line"><a name="l07097"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a428eb3c2a256781b5e0589b47427e585"> 7097</a></span>&#160;<span class="comment"></span>  <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a428eb3c2a256781b5e0589b47427e585">MachineOutlinerRegSave</a>   <span class="comment">/// Same as default, but save to a register.</span></div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;<span class="comment"></span>};</div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160; </div>
<div class="line"><a name="l07100"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129"> 7100</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129">MachineOutlinerMBBFlags</a> {</div>
<div class="line"><a name="l07101"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4833a7f75545b7500185a9ececd92b08"> 7101</a></span>&#160;  <a class="code" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4833a7f75545b7500185a9ececd92b08">LRUnavailableSomewhere</a> = 0x2,</div>
<div class="line"><a name="l07102"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4f2a846b62b36aa105ec3ddfd151a482"> 7102</a></span>&#160;  <a class="code" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4f2a846b62b36aa105ec3ddfd151a482">HasCalls</a> = 0x4,</div>
<div class="line"><a name="l07103"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129ac7d6a08b9442af3460a55305a35fd823"> 7103</a></span>&#160;  <a class="code" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129ac7d6a08b9442af3460a55305a35fd823">UnsafeRegsDead</a> = 0x8</div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;};</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160; </div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;<a class="code" href="classllvm_1_1Register.html">Register</a></div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;AArch64InstrInfo::findRegisterToSaveLRTo(<a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getMF();</div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1AArch64RegisterInfo.html">AArch64RegisterInfo</a> *ARI =</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1AArch64RegisterInfo.html">AArch64RegisterInfo</a> *<span class="keyword">&gt;</span>(&amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;  <span class="comment">// Check if there is an available register across the sequence that we can</span></div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;  <span class="comment">// use.</span></div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> : AArch64::GPR64RegClass) {</div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;    <span class="keywordflow">if</span> (!ARI-&gt;<a class="code" href="classllvm_1_1AArch64RegisterInfo.html#a291580cc01efa41a004f8b30e358969f">isReservedReg</a>(*MF, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) &amp;&amp;</div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;        <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != AArch64::LR &amp;&amp;  <span class="comment">// LR is not reserved, but don&#39;t use it.</span></div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;        <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != AArch64::X16 &amp;&amp; <span class="comment">// X16 is not guaranteed to be preserved.</span></div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;        <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != AArch64::X17 &amp;&amp; <span class="comment">// Ditto for X17.</span></div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isAvailableAcrossAndOutOfSeq(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) &amp;&amp;</div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isAvailableInsideSeq(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;  }</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;}</div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160; </div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l07127"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ac15c0fdff1ea78da81fb615670cbd7c1"> 7127</a></span>&#160;<a class="code" href="AArch64InstrInfo_8cpp.html#ac15c0fdff1ea78da81fb615670cbd7c1">outliningCandidatesSigningScopeConsensus</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>,</div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) {</div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;MFIa = <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>.getMF()-&gt;getInfo&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;();</div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;MFIb = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>.getMF()-&gt;getInfo&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;();</div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160; </div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;  <span class="keywordflow">return</span> MFIa-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#a606dce8fc572cecd6eab6f419f11aa6d">shouldSignReturnAddress</a>(<span class="keyword">false</span>) == MFIb-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#a606dce8fc572cecd6eab6f419f11aa6d">shouldSignReturnAddress</a>(<span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;         MFIa-&gt;shouldSignReturnAddress(<span class="keyword">true</span>) == MFIb-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#a606dce8fc572cecd6eab6f419f11aa6d">shouldSignReturnAddress</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;}</div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160; </div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l07137"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#abc2a85d6828b45938a55cce5ea029d72"> 7137</a></span>&#160;<a class="code" href="AArch64InstrInfo_8cpp.html#abc2a85d6828b45938a55cce5ea029d72">outliningCandidatesSigningKeyConsensus</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>,</div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) {</div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;MFIa = <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>.getMF()-&gt;getInfo&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;();</div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;MFIb = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>.getMF()-&gt;getInfo&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;();</div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160; </div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;  <span class="keywordflow">return</span> MFIa-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#afd791302f998513ddb029c191f550232">shouldSignWithBKey</a>() == MFIb-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#afd791302f998513ddb029c191f550232">shouldSignWithBKey</a>();</div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;}</div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160; </div>
<div class="line"><a name="l07145"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#aa863e9b6fdfad53c49593d81d89f6cec"> 7145</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AArch64InstrInfo_8cpp.html#aa863e9b6fdfad53c49593d81d89f6cec">outliningCandidatesV8_3OpsConsensus</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>,</div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) {</div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1AArch64Subtarget.html">AArch64Subtarget</a> &amp;SubtargetA =</div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>.getMF()-&gt;getSubtarget&lt;<a class="code" href="classllvm_1_1AArch64Subtarget.html">AArch64Subtarget</a>&gt;();</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1AArch64Subtarget.html">AArch64Subtarget</a> &amp;SubtargetB =</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>.getMF()-&gt;getSubtarget&lt;<a class="code" href="classllvm_1_1AArch64Subtarget.html">AArch64Subtarget</a>&gt;();</div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;  <span class="keywordflow">return</span> SubtargetA.hasV8_3aOps() == SubtargetB.hasV8_3aOps();</div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;}</div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160; </div>
<div class="line"><a name="l07154"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#ac091833891ee8d22563063570f1cfad0"> 7154</a></span>&#160;<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html">outliner::OutlinedFunction</a> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#ac091833891ee8d22563063570f1cfad0">AArch64InstrInfo::getOutliningCandidateInfo</a>(</div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;    std::vector&lt;outliner::Candidate&gt; &amp;RepeatedSequenceLocs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;  <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;FirstCand = RepeatedSequenceLocs[0];</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;  <span class="keywordtype">unsigned</span> SequenceSize =</div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;      std::accumulate(FirstCand.<a class="code" href="structllvm_1_1outliner_1_1Candidate.html#a20c626fe8e33ae4a8737a7c360482ee9">front</a>(), std::next(FirstCand.<a class="code" href="structllvm_1_1outliner_1_1Candidate.html#abcd908a35267cd2a6a3afdb42c92117c">back</a>()), 0,</div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;                      [<span class="keyword">this</span>](<span class="keywordtype">unsigned</span> Sum, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;                        return Sum + getInstSizeInBytes(MI);</div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;                      });</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;  <span class="keywordtype">unsigned</span> NumBytesToCreateFrame = 0;</div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160; </div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;  <span class="comment">// We only allow outlining for functions having exactly matching return</span></div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;  <span class="comment">// address signing attributes, i.e., all share the same value for the</span></div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;  <span class="comment">// attribute &quot;sign-return-address&quot; and all share the same type of key they</span></div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;  <span class="comment">// are signed with.</span></div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;  <span class="comment">// Additionally we require all functions to simultaniously either support</span></div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;  <span class="comment">// v8.3a features or not. Otherwise an outlined function could get signed</span></div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;  <span class="comment">// using dedicated v8.3 instructions and a call from a function that doesn&#39;t</span></div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;  <span class="comment">// support v8.3 instructions would therefore be invalid.</span></div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;  <span class="keywordflow">if</span> (std::adjacent_find(</div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;          RepeatedSequenceLocs.begin(), RepeatedSequenceLocs.end(),</div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;          [](<span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) {</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;            <span class="comment">// Return true if a and b are non-equal w.r.t. return address</span></div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;            <span class="comment">// signing or support of v8.3a features</span></div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;            if (outliningCandidatesSigningScopeConsensus(a, b) &amp;&amp;</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;                outliningCandidatesSigningKeyConsensus(a, b) &amp;&amp;</div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;                outliningCandidatesV8_3OpsConsensus(a, b)) {</div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;              return false;</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;            }</div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;          }) != RepeatedSequenceLocs.end()) {</div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html">outliner::OutlinedFunction</a>();</div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;  }</div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160; </div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;  <span class="comment">// Since at this point all candidates agree on their return address signing</span></div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;  <span class="comment">// picking just one is fine. If the candidate functions potentially sign their</span></div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;  <span class="comment">// return addresses, the outlined function should do the same. Note that in</span></div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;  <span class="comment">// the case of &quot;sign-return-address&quot;=&quot;non-leaf&quot; this is an assumption: It is</span></div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;  <span class="comment">// not certainly true that the outlined function will have to sign its return</span></div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;  <span class="comment">// address but this decision is made later, when the decision to outline</span></div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;  <span class="comment">// has already been made.</span></div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;  <span class="comment">// The same holds for the number of additional instructions we need: On</span></div>
<div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;  <span class="comment">// v8.3a RET can be replaced by RETAA/RETAB and no AUT instruction is</span></div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;  <span class="comment">// necessary. However, at this point we don&#39;t know if the outlined function</span></div>
<div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;  <span class="comment">// will have a RET instruction so we assume the worst.</span></div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>();</div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;  <span class="keywordflow">if</span> (FirstCand.getMF()</div>
<div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;          -&gt;getInfo&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;()</div>
<div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;          -&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#a606dce8fc572cecd6eab6f419f11aa6d">shouldSignReturnAddress</a>(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;    <span class="comment">// One PAC and one AUT instructions</span></div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;    NumBytesToCreateFrame += 8;</div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160; </div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;    <span class="comment">// We have to check if sp modifying instructions would get outlined.</span></div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;    <span class="comment">// If so we only allow outlining if sp is unchanged overall, so matching</span></div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;    <span class="comment">// sub and add instructions are okay to outline, all other sp modifications</span></div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;    <span class="comment">// are not</span></div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;    <span class="keyword">auto</span> hasIllegalSPModification = [&amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>](<a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;      <span class="keywordtype">int</span> SPValue = 0;</div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acb4d7c02992f3821f3e3432b6c65de49">front</a>();</div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;      <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;modifiesRegister(AArch64::SP, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) {</div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;          <span class="keywordflow">switch</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;          <span class="keywordflow">case</span> AArch64::ADDXri:</div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;          <span class="keywordflow">case</span> AArch64::ADDWri:</div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getNumOperands() == 4 &amp;&amp; <span class="stringliteral">&quot;Wrong number of operands&quot;</span>);</div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getOperand(2).isImm() &amp;&amp;</div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;                   <span class="stringliteral">&quot;Expected operand to be immediate&quot;</span>);</div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getOperand(1).isReg() &amp;&amp;</div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;                   <span class="stringliteral">&quot;Expected operand to be a register&quot;</span>);</div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;            <span class="comment">// Check if the add just increments sp. If so, we search for</span></div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;            <span class="comment">// matching sub instructions that decrement sp. If not, the</span></div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;            <span class="comment">// modification is illegal</span></div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getOperand(1).getReg() == AArch64::SP)</div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;              SPValue += <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getOperand(2).getImm();</div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;          <span class="keywordflow">case</span> AArch64::SUBXri:</div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;          <span class="keywordflow">case</span> AArch64::SUBWri:</div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getNumOperands() == 4 &amp;&amp; <span class="stringliteral">&quot;Wrong number of operands&quot;</span>);</div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getOperand(2).isImm() &amp;&amp;</div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;                   <span class="stringliteral">&quot;Expected operand to be immediate&quot;</span>);</div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getOperand(1).isReg() &amp;&amp;</div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;                   <span class="stringliteral">&quot;Expected operand to be a register&quot;</span>);</div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;            <span class="comment">// Check if the sub just decrements sp. If so, we search for</span></div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;            <span class="comment">// matching add instructions that increment sp. If not, the</span></div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;            <span class="comment">// modification is illegal</span></div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getOperand(1).getReg() == AArch64::SP)</div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;              SPValue -= <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;getOperand(2).getImm();</div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;          }</div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;        }</div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a> == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ace3ed0412f841777b7de55d47883890e">back</a>())</div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;        ++<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>;</div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;      }</div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;      <span class="keywordflow">if</span> (SPValue)</div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;    };</div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;    <span class="comment">// Remove candidates with illegal stack modifying instructions</span></div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;    <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a>(RepeatedSequenceLocs, hasIllegalSPModification);</div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160; </div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;    <span class="comment">// If the sequence doesn&#39;t have enough candidates left, then we&#39;re done.</span></div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;    <span class="keywordflow">if</span> (RepeatedSequenceLocs.size() &lt; 2)</div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html">outliner::OutlinedFunction</a>();</div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;  }</div>
<div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160; </div>
<div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;  <span class="comment">// Properties about candidate MBBs that hold for all of them.</span></div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;  <span class="keywordtype">unsigned</span> FlagsSetInAll = 0xF;</div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160; </div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;  <span class="comment">// Compute liveness information for each candidate, and set FlagsSetInAll.</span></div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : RepeatedSequenceLocs)</div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;    FlagsSetInAll &amp;= <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Flags;</div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160; </div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;  <span class="keywordtype">unsigned</span> LastInstrOpcode = RepeatedSequenceLocs[0].back()-&gt;getOpcode();</div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160; </div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;  <span class="comment">// Helper lambda which sets call information for every candidate.</span></div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;  <span class="keyword">auto</span> SetCandidateCallInfo =</div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;      [&amp;RepeatedSequenceLocs](<span class="keywordtype">unsigned</span> CallID, <span class="keywordtype">unsigned</span> NumBytesForCall) {</div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : RepeatedSequenceLocs)</div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;          <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.setCallInfo(CallID, NumBytesForCall);</div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;      };</div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160; </div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;  <span class="keywordtype">unsigned</span> FrameID = <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae6d079724e013e1fd057cf6fcb57675a">MachineOutlinerDefault</a>;</div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;  NumBytesToCreateFrame += 4;</div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160; </div>
<div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;  <span class="keywordtype">bool</span> HasBTI = <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(RepeatedSequenceLocs, [](<a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getMF()-&gt;getInfo&lt;AArch64FunctionInfo&gt;()-&gt;branchTargetEnforcement();</div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;  });</div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160; </div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;  <span class="comment">// We check to see if CFI Instructions are present, and if they are</span></div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;  <span class="comment">// we find the number of CFI Instructions in the candidates.</span></div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;  <span class="keywordtype">unsigned</span> CFICount = 0;</div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(RepeatedSequenceLocs[0].front(),</div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;                            std::next(RepeatedSequenceLocs[0].back()))) {</div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isCFIInstruction())</div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;      CFICount++;</div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;  }</div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160; </div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;  <span class="comment">// We compare the number of found CFI Instructions to  the number of CFI</span></div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;  <span class="comment">// instructions in the parent function for each candidate.  We must check this</span></div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;  <span class="comment">// since if we outline one of the CFI instructions in a function, we have to</span></div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;  <span class="comment">// outline them all for correctness. If we do not, the address offsets will be</span></div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;  <span class="comment">// incorrect between the two sections of the program.</span></div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : RepeatedSequenceLocs) {</div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;    std::vector&lt;MCCFIInstruction&gt; CFIInstructions =</div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getMF()-&gt;getFrameInstructions();</div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160; </div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;    <span class="keywordflow">if</span> (CFICount &gt; 0 &amp;&amp; CFICount != CFIInstructions.size())</div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html">outliner::OutlinedFunction</a>();</div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;  }</div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160; </div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;  <span class="comment">// Returns true if an instructions is safe to fix up, false otherwise.</span></div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;  <span class="keyword">auto</span> IsSafeToFixup = [<span class="keyword">this</span>, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>](<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall())</div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160; </div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.modifiesRegister(AArch64::SP, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) &amp;&amp;</div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;        !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.readsRegister(AArch64::SP, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160; </div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;    <span class="comment">// Any modification of SP will break our code to save/restore LR.</span></div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;    <span class="comment">// FIXME: We could handle some instructions which add a constant</span></div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;    <span class="comment">// offset to SP, with a bit more work.</span></div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.modifiesRegister(AArch64::SP, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160; </div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;    <span class="comment">// At this point, we have a stack instruction that we might need to</span></div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160;    <span class="comment">// fix up. We&#39;ll handle it if it&#39;s a load or store.</span></div>
<div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoadOrStore()) {</div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>; <span class="comment">// Filled with the base operand of MI.</span></div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;      int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;             <span class="comment">// Filled with the offset of MI.</span></div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;      <span class="keywordtype">bool</span> OffsetIsScalable;</div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160; </div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;      <span class="comment">// Does it allow us to offset the base operand and is the base the</span></div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;      <span class="comment">// register SP?</span></div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;      <span class="keywordflow">if</span> (!getMemOperandWithOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Base, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, OffsetIsScalable, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) ||</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;          !<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>-&gt;isReg() || <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>-&gt;getReg() != AArch64::SP)</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160; </div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;      <span class="comment">// Fixe-up code below assumes bytes.</span></div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;      <span class="keywordflow">if</span> (OffsetIsScalable)</div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160; </div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;      <span class="comment">// Find the minimum/maximum offset for this instruction and check</span></div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;      <span class="comment">// if fixing it up would be in range.</span></div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;      int64_t MinOffset,</div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;          MaxOffset;  <span class="comment">// Unscaled offsets for the instruction.</span></div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;      <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a> Scale(0U, <span class="keyword">false</span>); <span class="comment">// The scale to multiply the offsets by.</span></div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;      <span class="keywordtype">unsigned</span> DummyWidth;</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;      <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aaab2023296750137637c02807f30ef25">getMemOpInfo</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(), Scale, DummyWidth, MinOffset, MaxOffset);</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160; </div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += 16; <span class="comment">// Update the offset to what it would be if we outlined.</span></div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &lt; MinOffset * (int64_t)Scale.getFixedValue() ||</div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;          <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &gt; MaxOffset * (int64_t)Scale.getFixedValue())</div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160; </div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;      <span class="comment">// It&#39;s in range, so we can outline it.</span></div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;    }</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160; </div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;    <span class="comment">// FIXME: Add handling for instructions like &quot;add x0, sp, #8&quot;.</span></div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160; </div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;    <span class="comment">// We can&#39;t fix it up, so don&#39;t outline it.</span></div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;  };</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160; </div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;  <span class="comment">// True if it&#39;s possible to fix up each stack instruction in this sequence.</span></div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;  <span class="comment">// Important for frames/call variants that modify the stack.</span></div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;  <span class="keywordtype">bool</span> AllStackInstrsSafe = <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">std::all_of</a>(</div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;      FirstCand.front(), std::next(FirstCand.back()), IsSafeToFixup);</div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160; </div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;  <span class="comment">// If the last instruction in any candidate is a terminator, then we should</span></div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;  <span class="comment">// tail call all of the candidates.</span></div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;  <span class="keywordflow">if</span> (RepeatedSequenceLocs[0].back()-&gt;isTerminator()) {</div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;    FrameID = <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a>;</div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;    NumBytesToCreateFrame = 0;</div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;    SetCandidateCallInfo(<a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a>, 4);</div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;  }</div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160; </div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LastInstrOpcode == <a class="code" href="namespacellvm_1_1ARCISD.html#a383dfc381bd557f340886bb106e3d92ea37102c3bc1feaf214eb32e66a1ffc007">AArch64::BL</a> ||</div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;           ((LastInstrOpcode == AArch64::BLR ||</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;             LastInstrOpcode == AArch64::BLRNoIP) &amp;&amp;</div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;            !HasBTI)) {</div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;    <span class="comment">// FIXME: Do we need to check if the code after this uses the value of LR?</span></div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;    FrameID = <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c">MachineOutlinerThunk</a>;</div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;    NumBytesToCreateFrame = 0;</div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;    SetCandidateCallInfo(<a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c">MachineOutlinerThunk</a>, 4);</div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;  }</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160; </div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;    <span class="comment">// We need to decide how to emit calls + frames. We can always emit the same</span></div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;    <span class="comment">// frame if we don&#39;t need to save to the stack. If we have to save to the</span></div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;    <span class="comment">// stack, then we need a different frame.</span></div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;    <span class="keywordtype">unsigned</span> NumBytesNoStackCalls = 0;</div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;    std::vector&lt;outliner::Candidate&gt; CandidatesWithoutStackFixups;</div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160; </div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;    <span class="comment">// Check if we have to save LR.</span></div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : RepeatedSequenceLocs) {</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;      <span class="keywordtype">bool</span> LRAvailable =</div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;          (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Flags &amp; <a class="code" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4833a7f75545b7500185a9ececd92b08">MachineOutlinerMBBFlags::LRUnavailableSomewhere</a>)</div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;              ? <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isAvailableAcrossAndOutOfSeq(AArch64::LR, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)</div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;              : <span class="keyword">true</span>;</div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;      <span class="comment">// If we have a noreturn caller, then we&#39;re going to be conservative and</span></div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;      <span class="comment">// say that we have to save LR. If we don&#39;t have a ret at the end of the</span></div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;      <span class="comment">// block, then we can&#39;t reason about liveness accurately.</span></div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;      <span class="comment">// FIXME: We can probably do better than always disabling this in</span></div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;      <span class="comment">// noreturn functions by fixing up the liveness info.</span></div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1codeview.html#a0cc2805b6b89a94c5b5983f95367168ca2f53c1c34a1df353b3853e16e0c1967f">IsNoReturn</a> =</div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;          <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getMF()-&gt;getFunction().hasFnAttribute(Attribute::NoReturn);</div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160; </div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;      <span class="comment">// Is LR available? If so, we don&#39;t need a save.</span></div>
<div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;      <span class="keywordflow">if</span> (LRAvailable &amp;&amp; !IsNoReturn) {</div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;        NumBytesNoStackCalls += 4;</div>
<div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.setCallInfo(<a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a91f63a4449fb0a4504497465cc2f4c9a">MachineOutlinerNoLRSave</a>, 4);</div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;        CandidatesWithoutStackFixups.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;      }</div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160; </div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;      <span class="comment">// Is an unused register available? If so, we won&#39;t modify the stack, so</span></div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;      <span class="comment">// we can outline with the same frame type as those that don&#39;t save LR.</span></div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (findRegisterToSaveLRTo(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) {</div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;        NumBytesNoStackCalls += 12;</div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.setCallInfo(<a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a428eb3c2a256781b5e0589b47427e585">MachineOutlinerRegSave</a>, 12);</div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;        CandidatesWithoutStackFixups.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;      }</div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160; </div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;      <span class="comment">// Is SP used in the sequence at all? If not, we don&#39;t have to modify</span></div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;      <span class="comment">// the stack, so we are guaranteed to get the same frame.</span></div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isAvailableInsideSeq(AArch64::SP, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) {</div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;        NumBytesNoStackCalls += 12;</div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.setCallInfo(<a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae6d079724e013e1fd057cf6fcb57675a">MachineOutlinerDefault</a>, 12);</div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;        CandidatesWithoutStackFixups.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;      }</div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160; </div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;      <span class="comment">// If we outline this, we need to modify the stack. Pretend we don&#39;t</span></div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;      <span class="comment">// outline this by saving all of its bytes.</span></div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;        NumBytesNoStackCalls += SequenceSize;</div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;      }</div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;    }</div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160; </div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;    <span class="comment">// If there are no places where we have to save LR, then note that we</span></div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;    <span class="comment">// don&#39;t have to update the stack. Otherwise, give every candidate the</span></div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;    <span class="comment">// default call type, as long as it&#39;s safe to do so.</span></div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;    <span class="keywordflow">if</span> (!AllStackInstrsSafe ||</div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;        NumBytesNoStackCalls &lt;= RepeatedSequenceLocs.size() * 12) {</div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;      RepeatedSequenceLocs = CandidatesWithoutStackFixups;</div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;      FrameID = <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a91f63a4449fb0a4504497465cc2f4c9a">MachineOutlinerNoLRSave</a>;</div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;      SetCandidateCallInfo(<a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae6d079724e013e1fd057cf6fcb57675a">MachineOutlinerDefault</a>, 12);</div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160; </div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;      <span class="comment">// Bugzilla ID: 46767</span></div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;      <span class="comment">// TODO: Check if fixing up the stack more than once is safe so we can</span></div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;      <span class="comment">// outline these.</span></div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;      <span class="comment">// An outline resulting in a caller that requires stack fixups at the</span></div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;      <span class="comment">// callsite to a callee that also requires stack fixups can happen when</span></div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;      <span class="comment">// there are no available registers at the candidate callsite for a</span></div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;      <span class="comment">// candidate that itself also has calls.</span></div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;      <span class="comment">// In other words if function_containing_sequence in the following pseudo</span></div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;      <span class="comment">// assembly requires that we save LR at the point of the call, but there</span></div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;      <span class="comment">// are no available registers: in this case we save using SP and as a</span></div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;      <span class="comment">// result the SP offsets requires stack fixups by multiples of 16.</span></div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;      <span class="comment">// function_containing_sequence:</span></div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;      <span class="comment">//   ...</span></div>
<div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;      <span class="comment">//   save LR to SP &lt;- Requires stack instr fixups in OUTLINED_FUNCTION_N</span></div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;      <span class="comment">//   call OUTLINED_FUNCTION_N</span></div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;      <span class="comment">//   restore LR from SP</span></div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;      <span class="comment">//   ...</span></div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;      <span class="comment">// OUTLINED_FUNCTION_N:</span></div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;      <span class="comment">//   save LR to SP &lt;- Requires stack instr fixups in OUTLINED_FUNCTION_N</span></div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;      <span class="comment">//   ...</span></div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;      <span class="comment">//   bl foo</span></div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;      <span class="comment">//   restore LR from SP</span></div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;      <span class="comment">//   ret</span></div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;      <span class="comment">// Because the code to handle more than one stack fixup does not</span></div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;      <span class="comment">// currently have the proper checks for legality, these cases will assert</span></div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;      <span class="comment">// in the AArch64 MachineOutliner. This is because the code to do this</span></div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;      <span class="comment">// needs more hardening, testing, better checks that generated code is</span></div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;      <span class="comment">// legal, etc and because it is only verified to handle a single pass of</span></div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;      <span class="comment">// stack fixup.</span></div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;      <span class="comment">// The assert happens in AArch64InstrInfo::buildOutlinedFrame to catch</span></div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;      <span class="comment">// these cases until they are known to be handled. Bugzilla 46767 is</span></div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;      <span class="comment">// referenced in comments at the assert site.</span></div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;      <span class="comment">// To avoid asserting (or generating non-legal code on noassert builds)</span></div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;      <span class="comment">// we remove all candidates which would need more than one stack fixup by</span></div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;      <span class="comment">// pruning the cases where the candidate has calls while also having no</span></div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;      <span class="comment">// available LR and having no available general purpose registers to copy</span></div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;      <span class="comment">// LR to (ie one extra stack save/restore).</span></div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;      <span class="keywordflow">if</span> (FlagsSetInAll &amp; <a class="code" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4f2a846b62b36aa105ec3ddfd151a482">MachineOutlinerMBBFlags::HasCalls</a>) {</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;        <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">erase_if</a>(RepeatedSequenceLocs, [<span class="keyword">this</span>, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>](<a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;          <span class="keywordflow">return</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">std::any_of</a>(</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;                     <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.front(), std::next(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.back()),</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;                     [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) { return MI.isCall(); })) &amp;&amp;</div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;                 (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isAvailableAcrossAndOutOfSeq(AArch64::LR, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) ||</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;                  !findRegisterToSaveLRTo(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;        });</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;      }</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;    }</div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160; </div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;    <span class="comment">// If we dropped all of the candidates, bail out here.</span></div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;    <span class="keywordflow">if</span> (RepeatedSequenceLocs.size() &lt; 2) {</div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;      RepeatedSequenceLocs.clear();</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html">outliner::OutlinedFunction</a>();</div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;    }</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;  }</div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160; </div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;  <span class="comment">// Does every candidate&#39;s MBB contain a call? If so, then we might have a call</span></div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;  <span class="comment">// in the range.</span></div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;  <span class="keywordflow">if</span> (FlagsSetInAll &amp; <a class="code" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4f2a846b62b36aa105ec3ddfd151a482">MachineOutlinerMBBFlags::HasCalls</a>) {</div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;    <span class="comment">// Check if the range contains a call. These require a save + restore of the</span></div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;    <span class="comment">// link register.</span></div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;    <span class="keywordtype">bool</span> ModStackToSaveLR = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">std::any_of</a>(FirstCand.front(), FirstCand.back(),</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;                    [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) { return MI.isCall(); }))</div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;      ModStackToSaveLR = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160; </div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;    <span class="comment">// Handle the last instruction separately. If this is a tail call, then the</span></div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;    <span class="comment">// last instruction is a call. We don&#39;t want to save + restore in this case.</span></div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;    <span class="comment">// However, it could be possible that the last instruction is a call without</span></div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;    <span class="comment">// it being valid to tail call this sequence. We should consider this as</span></div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;    <span class="comment">// well.</span></div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FrameID != <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c">MachineOutlinerThunk</a> &amp;&amp;</div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;             FrameID != <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a> &amp;&amp; FirstCand.back()-&gt;isCall())</div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;      ModStackToSaveLR = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160; </div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;    <span class="keywordflow">if</span> (ModStackToSaveLR) {</div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;      <span class="comment">// We can&#39;t fix up the stack. Bail out.</span></div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;      <span class="keywordflow">if</span> (!AllStackInstrsSafe) {</div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;        RepeatedSequenceLocs.clear();</div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html">outliner::OutlinedFunction</a>();</div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;      }</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160; </div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;      <span class="comment">// Save + restore LR.</span></div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;      NumBytesToCreateFrame += 8;</div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;    }</div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;  }</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160; </div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;  <span class="comment">// If we have CFI instructions, we can only outline if the outlined section</span></div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;  <span class="comment">// can be a tail call</span></div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;  <span class="keywordflow">if</span> (FrameID != <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a> &amp;&amp; CFICount &gt; 0)</div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html">outliner::OutlinedFunction</a>();</div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160; </div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html">outliner::OutlinedFunction</a>(RepeatedSequenceLocs, SequenceSize,</div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;                                    NumBytesToCreateFrame, FrameID);</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;}</div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160; </div>
<div class="line"><a name="l07553"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a8e7ea4a37a21caeb8c336ef3e95f8ee0"> 7553</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a8e7ea4a37a21caeb8c336ef3e95f8ee0">AArch64InstrInfo::isFunctionSafeToOutlineFrom</a>(</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">bool</span> OutlineFromLinkOnceODRs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160; </div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;  <span class="comment">// Can F be deduplicated by the linker? If it can, don&#39;t outline from it.</span></div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;  <span class="keywordflow">if</span> (!OutlineFromLinkOnceODRs &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasLinkOnceODRLinkage())</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160; </div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;  <span class="comment">// Don&#39;t outline from functions with section markings; the program could</span></div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;  <span class="comment">// expect that all the code is in the named section.</span></div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;  <span class="comment">// FIXME: Allow outlining from multiple functions with the same section</span></div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;  <span class="comment">// marking.</span></div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasSection())</div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160; </div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;  <span class="comment">// Outlining from functions with redzones is unsafe since the outliner may</span></div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;  <span class="comment">// modify the stack. Check if hasRedZone is true or unknown; if yes, don&#39;t</span></div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;  <span class="comment">// outline from it.</span></div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;  <a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;();</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;  <span class="keywordflow">if</span> (!AFI || AFI-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#a1e57c4a03c488be702e999854654a400">hasRedZone</a>().value_or(<span class="keyword">true</span>))</div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160; </div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;  <span class="comment">// FIXME: Teach the outliner to generate/handle Windows unwind info.</span></div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a171c7253c2b03171bdf22c1bd910f674">getMCAsmInfo</a>()-&gt;<a class="code" href="classllvm_1_1MCAsmInfo.html#ac158349781823fe8ff9e02d3a3533d55">usesWindowsCFI</a>())</div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160; </div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;  <span class="comment">// It&#39;s safe to outline from MF.</span></div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;}</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160; </div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;<a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;MachineBasicBlock::iterator, MachineBasicBlock::iterator&gt;</a>&gt;</div>
<div class="line"><a name="l07584"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a57639f2f066637e2f3571662526f213d"> 7584</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a57639f2f066637e2f3571662526f213d">AArch64InstrInfo::getOutlinableRanges</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;                                      <span class="keywordtype">unsigned</span> &amp;Flags)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a218bf4a49a8808ebb854ec9b89907904">tracksLiveness</a>() &amp;&amp;</div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;         <span class="stringliteral">&quot;Must track liveness!&quot;</span>);</div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt;</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;      std::pair&lt;MachineBasicBlock::iterator, MachineBasicBlock::iterator&gt;&gt;</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;      Ranges;</div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;  <span class="comment">// According to the AArch64 Procedure Call Standard, the following are</span></div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;  <span class="comment">// undefined on entry/exit from a function call:</span></div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;  <span class="comment">// * Registers x16, x17, (and thus w16, w17)</span></div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;  <span class="comment">// * Condition codes (and thus the NZCV register)</span></div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;  <span class="comment">// If any of these registers are used inside or live across an outlined</span></div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;  <span class="comment">// function, then they may be modified later, either by the compiler or</span></div>
<div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;  <span class="comment">// some other tool (like the linker).</span></div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;  <span class="comment">// To avoid outlining in these situations, partition each block into ranges</span></div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;  <span class="comment">// where these registers are dead. We will only outline from those ranges.</span></div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;  <a class="code" href="classllvm_1_1LiveRegUnits.html">LiveRegUnits</a> LRU(<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>());</div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;  <span class="keyword">auto</span> AreAllUnsafeRegsDead = [&amp;LRU]() {</div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;    <span class="keywordflow">return</span> LRU.<a class="code" href="classllvm_1_1LiveRegUnits.html#a3996f7c3774880bfe32422602fe34f9c">available</a>(AArch64::W16) &amp;&amp; LRU.<a class="code" href="classllvm_1_1LiveRegUnits.html#a3996f7c3774880bfe32422602fe34f9c">available</a>(AArch64::W17) &amp;&amp;</div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;           LRU.<a class="code" href="classllvm_1_1LiveRegUnits.html#a3996f7c3774880bfe32422602fe34f9c">available</a>(AArch64::NZCV);</div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;  };</div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160; </div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;  <span class="comment">// We need to know if LR is live across an outlining boundary later on in</span></div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;  <span class="comment">// order to decide how we&#39;ll create the outlined call, frame, etc.</span></div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;  <span class="comment">// It&#39;s pretty expensive to check this for *every candidate* within a block.</span></div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;  <span class="comment">// That&#39;s some potentially n^2 behaviour, since in the worst case, we&#39;d need</span></div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;  <span class="comment">// to compute liveness from the end of the block for O(n) candidates within</span></div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;  <span class="comment">// the block.</span></div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;  <span class="comment">// So, to improve the average case, let&#39;s keep track of liveness from the end</span></div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;  <span class="comment">// of the block to the beginning of *every outlinable range*. If we know that</span></div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;  <span class="comment">// LR is available in every range we could outline from, then we know that</span></div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;  <span class="comment">// we don&#39;t need to check liveness for any candidate within that range.</span></div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;  <span class="keywordtype">bool</span> LRAvailableEverywhere = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;  <span class="comment">// Compute liveness bottom-up.</span></div>
<div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;  LRU.<a class="code" href="classllvm_1_1LiveRegUnits.html#ab4fff7ad3de452b1b1d20de5afd986a3">addLiveOuts</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;  <span class="comment">// Update flags that require info about the entire MBB.</span></div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;  <span class="keyword">auto</span> UpdateWholeMBBFlags = [&amp;Flags](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall() &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isTerminator())</div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;      Flags |= <a class="code" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4f2a846b62b36aa105ec3ddfd151a482">MachineOutlinerMBBFlags::HasCalls</a>;</div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;  };</div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;  <span class="comment">// Range: [RangeBegin, RangeEnd)</span></div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::instr_iterator</a> RangeBegin, RangeEnd;</div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;  <span class="keywordtype">unsigned</span> RangeLen;</div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;  <span class="keyword">auto</span> CreateNewRangeStartingAt =</div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;      [&amp;RangeBegin, &amp;RangeEnd,</div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;       &amp;RangeLen](<a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::instr_iterator</a> NewBegin) {</div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;        RangeBegin = NewBegin;</div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;        RangeEnd = std::next(RangeBegin);</div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;        RangeLen = 0;</div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;      };</div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;  <span class="keyword">auto</span> SaveRangeIfNonEmpty = [&amp;RangeLen, &amp;Ranges, &amp;RangeBegin, &amp;RangeEnd]() {</div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;    <span class="comment">// At least one unsafe register is not dead. We do not want to outline at</span></div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;    <span class="comment">// this point. If it is long enough to outline from, save the range</span></div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;    <span class="comment">// [RangeBegin, RangeEnd).</span></div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;    <span class="keywordflow">if</span> (RangeLen &gt; 1)</div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;      Ranges.push_back(std::make_pair(RangeBegin, RangeEnd));</div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;  };</div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;  <span class="comment">// Find the first point where all unsafe registers are dead.</span></div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;  <span class="comment">// FIND: &lt;safe instr&gt; &lt;-- end of first potential range</span></div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;  <span class="comment">// SKIP: &lt;unsafe def&gt;</span></div>
<div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;  <span class="comment">// SKIP: ... everything between ...</span></div>
<div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;  <span class="comment">// SKIP: &lt;unsafe use&gt;</span></div>
<div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;  <span class="keyword">auto</span> FirstPossibleEndPt = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3758eeb6d9f052f15217146b4ae4d5a1">instr_rbegin</a>();</div>
<div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;  <span class="keywordflow">for</span> (; FirstPossibleEndPt != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab42a834f1ab8e65b6f525a5cb23a4fe7">instr_rend</a>(); ++FirstPossibleEndPt) {</div>
<div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;    LRU.<a class="code" href="classllvm_1_1LiveRegUnits.html#aa5fb273566c37fdc7da88a0fec5a554c">stepBackward</a>(*FirstPossibleEndPt);</div>
<div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;    <span class="comment">// Update flags that impact how we outline across the entire block,</span></div>
<div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;    <span class="comment">// regardless of safety.</span></div>
<div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;    UpdateWholeMBBFlags(*FirstPossibleEndPt);</div>
<div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;    <span class="keywordflow">if</span> (AreAllUnsafeRegsDead())</div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;  }</div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;  <span class="comment">// If we exhausted the entire block, we have no safe ranges to outline.</span></div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;  <span class="keywordflow">if</span> (FirstPossibleEndPt == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab42a834f1ab8e65b6f525a5cb23a4fe7">instr_rend</a>())</div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;    <span class="keywordflow">return</span> Ranges;</div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;  <span class="comment">// Current range.</span></div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;  CreateNewRangeStartingAt(FirstPossibleEndPt-&gt;getIterator());</div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;  <span class="comment">// StartPt points to the first place where all unsafe registers</span></div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;  <span class="comment">// are dead (if there is any such point). Begin partitioning the MBB into</span></div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;  <span class="comment">// ranges.</span></div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(FirstPossibleEndPt, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab42a834f1ab8e65b6f525a5cb23a4fe7">instr_rend</a>())) {</div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;    LRU.<a class="code" href="classllvm_1_1LiveRegUnits.html#aa5fb273566c37fdc7da88a0fec5a554c">stepBackward</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;    UpdateWholeMBBFlags(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;    <span class="keywordflow">if</span> (!AreAllUnsafeRegsDead()) {</div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;      SaveRangeIfNonEmpty();</div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;      CreateNewRangeStartingAt(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator());</div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;    }</div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;    LRAvailableEverywhere &amp;= LRU.<a class="code" href="classllvm_1_1LiveRegUnits.html#a3996f7c3774880bfe32422602fe34f9c">available</a>(AArch64::LR);</div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;    RangeBegin = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator();</div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;    ++RangeLen;</div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;  }</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;  <span class="comment">// Above loop misses the last (or only) range. If we are still safe, then</span></div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;  <span class="comment">// let&#39;s save the range.</span></div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;  <span class="keywordflow">if</span> (AreAllUnsafeRegsDead())</div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;    SaveRangeIfNonEmpty();</div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;  <span class="keywordflow">if</span> (Ranges.empty())</div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;    <span class="keywordflow">return</span> Ranges;</div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;  <span class="comment">// We found the ranges bottom-up. Mapping expects the top-down. Reverse</span></div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;  <span class="comment">// the order.</span></div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;  <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">std::reverse</a>(Ranges.begin(), Ranges.end());</div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;  <span class="comment">// If there is at least one outlinable range where LR is unavailable</span></div>
<div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160;  <span class="comment">// somewhere, remember that.</span></div>
<div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;  <span class="keywordflow">if</span> (!LRAvailableEverywhere)</div>
<div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;    Flags |= <a class="code" href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4833a7f75545b7500185a9ececd92b08">MachineOutlinerMBBFlags::LRUnavailableSomewhere</a>;</div>
<div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;  <span class="keywordflow">return</span> Ranges;</div>
<div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;}</div>
<div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160; </div>
<div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;<a class="code" href="namespacellvm_1_1outliner.html#a0765e098fe7aae0f01b60ec890ac1b52">outliner::InstrType</a></div>
<div class="line"><a name="l07698"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a2360ff10d0e52ff8bf237809c794de14"> 7698</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a2360ff10d0e52ff8bf237809c794de14">AArch64InstrInfo::getOutliningTypeImpl</a>(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> &amp;MIT,</div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;                                   <span class="keywordtype">unsigned</span> Flags)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *MIT;</div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;  <a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a> *FuncInfo = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;();</div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160; </div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160;  <span class="comment">// Don&#39;t outline anything used for return address signing. The outlined</span></div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;  <span class="comment">// function will get signed later if needed</span></div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;  <span class="keywordflow">case</span> AArch64::PACIASP:</div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;  <span class="keywordflow">case</span> AArch64::PACIBSP:</div>
<div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;  <span class="keywordflow">case</span> AArch64::AUTIASP:</div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;  <span class="keywordflow">case</span> AArch64::AUTIBSP:</div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;  <span class="keywordflow">case</span> AArch64::RETAA:</div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;  <span class="keywordflow">case</span> AArch64::RETAB:</div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;  <span class="keywordflow">case</span> AArch64::EMITBKEY:</div>
<div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">outliner::InstrType::Illegal</a>;</div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;  }</div>
<div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160; </div>
<div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;  <span class="comment">// Don&#39;t outline LOHs.</span></div>
<div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;  <span class="keywordflow">if</span> (FuncInfo-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#af5fb82333a878b0be74f7a2c9c42ea02">getLOHRelated</a>().<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">outliner::InstrType::Illegal</a>;</div>
<div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160; </div>
<div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160;  <span class="comment">// We can only outline these if we will tail call the outlined function, or</span></div>
<div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;  <span class="comment">// fix up the CFI offsets. Currently, CFI instructions are outlined only if</span></div>
<div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;  <span class="comment">// in a tail call.</span></div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;  <span class="comment">// FIXME: If the proper fixups for the offset are implemented, this should be</span></div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;  <span class="comment">// possible.</span></div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCFIInstruction())</div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">outliner::InstrType::Legal</a>;</div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160; </div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;  <span class="comment">// Is this a terminator for a basic block?</span></div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isTerminator())</div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;    <span class="comment">// TargetInstrInfo::getOutliningType has already filtered out anything</span></div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;    <span class="comment">// that would break this, so we can allow it here.</span></div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">outliner::InstrType::Legal</a>;</div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160; </div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;  <span class="comment">// Make sure none of the operands are un-outlinable.</span></div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MOP : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;    <span class="comment">// A check preventing CFI indices was here before, but only CFI</span></div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;    <span class="comment">// instructions should have those.</span></div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MOP.isCFIIndex());</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160; </div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;    <span class="comment">// If it uses LR or W30 explicitly, then don&#39;t touch it.</span></div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;    <span class="keywordflow">if</span> (MOP.isReg() &amp;&amp; !MOP.isImplicit() &amp;&amp;</div>
<div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;        (MOP.getReg() == AArch64::LR || MOP.getReg() == AArch64::W30))</div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">outliner::InstrType::Illegal</a>;</div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;  }</div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160; </div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;  <span class="comment">// Special cases for instructions that can always be outlined, but will fail</span></div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;  <span class="comment">// the later tests. e.g, ADRPs, which are PC-relative use LR, but can always</span></div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;  <span class="comment">// be outlined because they don&#39;t require a *specific* value to be in LR.</span></div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == <a class="code" href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19aa2e9d9d7c30818fd5ba551f8d3f0af34">AArch64::ADRP</a>)</div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">outliner::InstrType::Legal</a>;</div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160; </div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;  <span class="comment">// If MI is a call we might be able to outline it. We don&#39;t want to outline</span></div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;  <span class="comment">// any calls that rely on the position of items on the stack. When we outline</span></div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;  <span class="comment">// something containing a call, we have to emit a save and restore of LR in</span></div>
<div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;  <span class="comment">// the outlined function. Currently, this always happens by saving LR to the</span></div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;  <span class="comment">// stack. Thus, if we outline, say, half the parameters for a function call</span></div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;  <span class="comment">// plus the call, then we&#39;ll break the callee&#39;s expectations for the layout</span></div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;  <span class="comment">// of the stack.</span></div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;  <span class="comment">// FIXME: Allow calls to functions which construct a stack frame, as long</span></div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;  <span class="comment">// as they don&#39;t access arguments on the stack.</span></div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;  <span class="comment">// FIXME: Figure out some way to analyze functions defined in other modules.</span></div>
<div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;  <span class="comment">// We should be able to compute the memory usage based on the IR calling</span></div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160;  <span class="comment">// convention, even if we can&#39;t see the definition.</span></div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall()) {</div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;    <span class="comment">// Get the function associated with the call. Look at each operand and find</span></div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160;    <span class="comment">// the one that represents the callee and get its name.</span></div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MOP : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160;      <span class="keywordflow">if</span> (MOP.isGlobal()) {</div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;        <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = dyn_cast&lt;Function&gt;(MOP.getGlobal());</div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;      }</div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;    }</div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160; </div>
<div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;    <span class="comment">// Never outline calls to mcount.  There isn&#39;t any rule that would require</span></div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;    <span class="comment">// this, but the Linux kernel&#39;s &quot;ftrace&quot; feature depends on it.</span></div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> &amp;&amp; <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getName() == <span class="stringliteral">&quot;\01_mcount&quot;</span>)</div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">outliner::InstrType::Illegal</a>;</div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160; </div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;    <span class="comment">// If we don&#39;t know anything about the callee, assume it depends on the</span></div>
<div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160;    <span class="comment">// stack layout of the caller. In that case, it&#39;s only legal to outline</span></div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;    <span class="comment">// as a tail-call. Explicitly list the call instructions we know about so we</span></div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;    <span class="comment">// don&#39;t get unexpected results with call pseudo-instructions.</span></div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;    <span class="keyword">auto</span> UnknownCallOutlineType = <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">outliner::InstrType::Illegal</a>;</div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AArch64::BLR ||</div>
<div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AArch64::BLRNoIP || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ARCISD.html#a383dfc381bd557f340886bb106e3d92ea37102c3bc1feaf214eb32e66a1ffc007">AArch64::BL</a>)</div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;      UnknownCallOutlineType = <a class="code" href="namespacellvm_1_1outliner.html#a0765e098fe7aae0f01b60ec890ac1b52a6adc06fdab039cdbfaaeda00060c5e63">outliner::InstrType::LegalTerminator</a>;</div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160; </div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>)</div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;      <span class="keywordflow">return</span> UnknownCallOutlineType;</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160; </div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;    <span class="comment">// We have a function we have information about. Check it if it&#39;s something</span></div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;    <span class="comment">// can safely outline.</span></div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *CalleeMF = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6691cc6c9b7341348045f8d54a14e7a7">getMMI</a>().<a class="code" href="classllvm_1_1MachineModuleInfo.html#ac1a4ac2dc30f53dff05d2c7b2d8ebaef">getMachineFunction</a>(*<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160; </div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;    <span class="comment">// We don&#39;t know what&#39;s going on with the callee at all. Don&#39;t touch it.</span></div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;    <span class="keywordflow">if</span> (!CalleeMF)</div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;      <span class="keywordflow">return</span> UnknownCallOutlineType;</div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160; </div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;    <span class="comment">// Check if we know anything about the callee saves on the function. If we</span></div>
<div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;    <span class="comment">// don&#39;t, then don&#39;t touch it, since that implies that we haven&#39;t</span></div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;    <span class="comment">// computed anything about its stack frame yet.</span></div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;    <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = CalleeMF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;    <span class="keywordflow">if</span> (!MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a81504f733d0491a446a16ef1ba0a5c2a">isCalleeSavedInfoValid</a>() || MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a14c39a24bf6ebbe339ae8a453c7fdd11">getStackSize</a>() &gt; 0 ||</div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;        MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ab4b44bc5aa744df4f8b70f971e8dcbf1">getNumObjects</a>() &gt; 0)</div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;      <span class="keywordflow">return</span> UnknownCallOutlineType;</div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160; </div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;    <span class="comment">// At this point, we can say that CalleeMF ought to not pass anything on the</span></div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;    <span class="comment">// stack. Therefore, we can outline it.</span></div>
<div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">outliner::InstrType::Legal</a>;</div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;  }</div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160; </div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;  <span class="comment">// Don&#39;t touch the link register or W30.</span></div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.readsRegister(AArch64::W30, &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>()) ||</div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.modifiesRegister(AArch64::W30, &amp;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">getRegisterInfo</a>()))</div>
<div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">outliner::InstrType::Illegal</a>;</div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160; </div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;  <span class="comment">// Don&#39;t outline BTI instructions, because that will prevent the outlining</span></div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;  <span class="comment">// site from being indirectly callable.</span></div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AArch64::HINT) {</div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getImm();</div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 32 || <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 34 || <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 36 || <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 38)</div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">outliner::InstrType::Illegal</a>;</div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;  }</div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160; </div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">outliner::InstrType::Legal</a>;</div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;}</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160; </div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;<span class="keywordtype">void</span> AArch64InstrInfo::fixupPostOutline(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>;</div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>;</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;    int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;    <span class="keywordtype">bool</span> OffsetIsScalable;</div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160; </div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;    <span class="comment">// Is this a load or store with an immediate offset with SP as the base?</span></div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoadOrStore() ||</div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;        !<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a1e330d75233f2f61fdb64b374f55ee04">getMemOperandWithOffsetWidth</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Base, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, OffsetIsScalable, <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>,</div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;                                      &amp;RI) ||</div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;        (<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>-&gt;isReg() &amp;&amp; <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>-&gt;getReg() != AArch64::SP))</div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160; </div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;    <span class="comment">// It is, so we have to fix it up.</span></div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;    <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a> Scale(0U, <span class="keyword">false</span>);</div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;    int64_t Dummy1, Dummy2;</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160; </div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;StackOffsetOperand = <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a9f95e557fb675ab6ef80f2fc4b8b3e01">getMemOpBaseRegImmOfsOffsetOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(StackOffsetOperand.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp; <span class="stringliteral">&quot;Stack offset wasn&#39;t immediate!&quot;</span>);</div>
<div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;    <a class="code" href="classllvm_1_1AArch64InstrInfo.html#aaab2023296750137637c02807f30ef25">getMemOpInfo</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(), Scale, <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, Dummy1, Dummy2);</div>
<div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Scale != 0 &amp;&amp; <span class="stringliteral">&quot;Unexpected opcode!&quot;</span>);</div>
<div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!OffsetIsScalable &amp;&amp; <span class="stringliteral">&quot;Expected offset to be a byte offset&quot;</span>);</div>
<div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160; </div>
<div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;    <span class="comment">// We&#39;ve pushed the return address to the stack, so add 16 to the offset.</span></div>
<div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;    <span class="comment">// This is safe, since we already checked if it would overflow when we</span></div>
<div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;    <span class="comment">// checked if this instruction was legal to outline.</span></div>
<div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;    int64_t NewImm = (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> + 16) / (int64_t)Scale.getFixedValue();</div>
<div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;    StackOffsetOperand.<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(NewImm);</div>
<div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;  }</div>
<div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;}</div>
<div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160; </div>
<div class="line"><a name="l07865"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a3c5e54a089e34d37720e02c30ad44c78"> 7865</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a3c5e54a089e34d37720e02c30ad44c78">signOutlinedFunction</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;                                 <span class="keywordtype">bool</span> ShouldSignReturnAddr,</div>
<div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;                                 <span class="keywordtype">bool</span> ShouldSignReturnAddrWithBKey) {</div>
<div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160;  <span class="keywordflow">if</span> (ShouldSignReturnAddr) {</div>
<div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MBBPAC = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MBBAUT = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1AArch64Subtarget.html">AArch64Subtarget</a> &amp;Subtarget = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1AArch64Subtarget.html">AArch64Subtarget</a>&gt;();</div>
<div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = Subtarget.<a class="code" href="classllvm_1_1AArch64Subtarget.html#a39505e1fb9837807a81c02bd1eef7418">getInstrInfo</a>();</div>
<div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>;</div>
<div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160; </div>
<div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;    <span class="keywordflow">if</span> (MBBAUT != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = MBBAUT-&gt;getDebugLoc();</div>
<div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160; </div>
<div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;    <span class="comment">// At the very beginning of the basic block we insert the following</span></div>
<div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;    <span class="comment">// depending on the key type</span></div>
<div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;    <span class="comment">// a_key:                   b_key:</span></div>
<div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;    <span class="comment">//    PACIASP                   EMITBKEY</span></div>
<div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;    <span class="comment">//    CFI_INSTRUCTION           PACIBSP</span></div>
<div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;    <span class="comment">//                              CFI_INSTRUCTION</span></div>
<div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;    <span class="keywordflow">if</span> (ShouldSignReturnAddrWithBKey) {</div>
<div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MBBPAC, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::EMITBKEY))</div>
<div class="line"><a name="l07887"></a><span class="lineno"> 7887</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a49f174e0e7941fe7dad04d4f948a2d63">setMIFlag</a>(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div>
<div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;    }</div>
<div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160; </div>
<div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MBBPAC, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(),</div>
<div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(ShouldSignReturnAddrWithBKey ? AArch64::PACIBSP</div>
<div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;                                                  : AArch64::PACIASP))</div>
<div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a49f174e0e7941fe7dad04d4f948a2d63">setMIFlag</a>(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div>
<div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160; </div>
<div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;    <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;()-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#aaa6625e357c6806a89b36759ae16b630">needsDwarfUnwindInfo</a>(MF)) {</div>
<div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;      <span class="keywordtype">unsigned</span> CFIIndex =</div>
<div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;          MF.<a class="code" href="classllvm_1_1MachineFunction.html#a247230f547064b27022d70c0aeb86682">addFrameInst</a>(<a class="code" href="classllvm_1_1MCCFIInstruction.html#add1bf26f643dc758cdfb148eed30d0b3">MCCFIInstruction::createNegateRAState</a>(<span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MBBPAC, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AArch64::CFI_INSTRUCTION))</div>
<div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad51b0d1c80a9dbf0eea9162e2e3ec0dd">addCFIIndex</a>(CFIIndex)</div>
<div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">setMIFlags</a>(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div>
<div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;    }</div>
<div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160; </div>
<div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160;    <span class="comment">// If v8.3a features are available we can replace a RET instruction by</span></div>
<div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;    <span class="comment">// RETAA or RETAB and omit the AUT instructions. In this case the</span></div>
<div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;    <span class="comment">// DW_CFA_AARCH64_negate_ra_state can&#39;t be emitted.</span></div>
<div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;    <span class="keywordflow">if</span> (Subtarget.hasPAuth() &amp;&amp; MBBAUT != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp;</div>
<div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;        MBBAUT-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ARCISD.html#a383dfc381bd557f340886bb106e3d92ea0e21991e38db8b5d09e9e301406cfd13">AArch64::RET</a>) {</div>
<div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MBBAUT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160;              <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(ShouldSignReturnAddrWithBKey ? AArch64::RETAB</div>
<div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;                                                    : AArch64::RETAA))</div>
<div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a77d96c1c7f31baecc71004069dbc5eda">copyImplicitOps</a>(*MBBAUT);</div>
<div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ad26bff839257f220557ce812b2159c72">erase</a>(MBBAUT);</div>
<div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MBBAUT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;              <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(ShouldSignReturnAddrWithBKey ? AArch64::AUTIBSP</div>
<div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;                                                    : AArch64::AUTIASP))</div>
<div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a49f174e0e7941fe7dad04d4f948a2d63">setMIFlag</a>(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a4e4e6764dc61dbf0e8f330644880480f">MachineInstr::FrameDestroy</a>);</div>
<div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;      <span class="keywordtype">unsigned</span> CFIIndexAuth =</div>
<div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;          MF.<a class="code" href="classllvm_1_1MachineFunction.html#a247230f547064b27022d70c0aeb86682">addFrameInst</a>(<a class="code" href="classllvm_1_1MCCFIInstruction.html#add1bf26f643dc758cdfb148eed30d0b3">MCCFIInstruction::createNegateRAState</a>(<span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MBBAUT, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(TargetOpcode::CFI_INSTRUCTION))</div>
<div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad51b0d1c80a9dbf0eea9162e2e3ec0dd">addCFIIndex</a>(CFIIndexAuth)</div>
<div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">setMIFlags</a>(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a4e4e6764dc61dbf0e8f330644880480f">MachineInstr::FrameDestroy</a>);</div>
<div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;    }</div>
<div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;  }</div>
<div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;}</div>
<div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160; </div>
<div class="line"><a name="l07927"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a9b0a622dbae74cb8a4b9b87a8b559b25"> 7927</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a9b0a622dbae74cb8a4b9b87a8b559b25">AArch64InstrInfo::buildOutlinedFrame</a>(</div>
<div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html">outliner::OutlinedFunction</a> &amp;OF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160; </div>
<div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;  <a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a> *FI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;();</div>
<div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160; </div>
<div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;  <span class="keywordflow">if</span> (OF.<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html#a83ee605247fd32b2a6981444fd996825">FrameConstructionID</a> == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a>)</div>
<div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160;    FI-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#aacfaac36c46f4afa2ddf2b67808f9aab">setOutliningStyle</a>(<span class="stringliteral">&quot;Tail Call&quot;</span>);</div>
<div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OF.<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html#a83ee605247fd32b2a6981444fd996825">FrameConstructionID</a> == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c">MachineOutlinerThunk</a>) {</div>
<div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;    <span class="comment">// For thunk outlining, rewrite the last instruction from a call to a</span></div>
<div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;    <span class="comment">// tail-call.</span></div>
<div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Call = &amp;*--<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">instr_end</a>();</div>
<div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160;    <span class="keywordtype">unsigned</span> TailOpcode;</div>
<div class="line"><a name="l07940"></a><span class="lineno"> 7940</span>&#160;    <span class="keywordflow">if</span> (Call-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ARCISD.html#a383dfc381bd557f340886bb106e3d92ea37102c3bc1feaf214eb32e66a1ffc007">AArch64::BL</a>) {</div>
<div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;      TailOpcode = AArch64::TCRETURNdi;</div>
<div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Call-&gt;getOpcode() == AArch64::BLR ||</div>
<div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;             Call-&gt;getOpcode() == AArch64::BLRNoIP);</div>
<div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160;      TailOpcode = AArch64::TCRETURNriALL;</div>
<div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;    }</div>
<div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *TC = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TailOpcode))</div>
<div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160;                           .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Call-&gt;getOperand(0))</div>
<div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160;                           .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), TC);</div>
<div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;    Call-&gt;eraseFromParent();</div>
<div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160; </div>
<div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160;    FI-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#aacfaac36c46f4afa2ddf2b67808f9aab">setOutliningStyle</a>(<span class="stringliteral">&quot;Thunk&quot;</span>);</div>
<div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160;  }</div>
<div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160; </div>
<div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;  <span class="keywordtype">bool</span> IsLeafFunction = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160; </div>
<div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;  <span class="comment">// Is there a call in the outlined range?</span></div>
<div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;  <span class="keyword">auto</span> IsNonTailCall = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall() &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isReturn();</div>
<div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160;  };</div>
<div class="line"><a name="l07962"></a><span class="lineno"> 7962</span>&#160; </div>
<div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a40bf8f9579717d3f9be7640f1c6d678b">instrs</a>(), IsNonTailCall)) {</div>
<div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;    <span class="comment">// Fix up the instructions in the range, since we&#39;re going to modify the</span></div>
<div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160;    <span class="comment">// stack.</span></div>
<div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160; </div>
<div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;    <span class="comment">// Bugzilla ID: 46767</span></div>
<div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;    <span class="comment">// TODO: Check if fixing up twice is safe so we can outline these.</span></div>
<div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OF.<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html#a83ee605247fd32b2a6981444fd996825">FrameConstructionID</a> != <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae6d079724e013e1fd057cf6fcb57675a">MachineOutlinerDefault</a> &amp;&amp;</div>
<div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;           <span class="stringliteral">&quot;Can only fix up stack references once&quot;</span>);</div>
<div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;    fixupPostOutline(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160; </div>
<div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160;    IsLeafFunction = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160; </div>
<div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;    <span class="comment">// LR has to be a live in so that we can save it.</span></div>
<div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a5fc7747b752105f022c214bd2403eeee">isLiveIn</a>(AArch64::LR))</div>
<div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acce9c12cc977a88dc7bc51493ce7681c">addLiveIn</a>(AArch64::LR);</div>
<div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160; </div>
<div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> It = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Et = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160; </div>
<div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;    <span class="keywordflow">if</span> (OF.<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html#a83ee605247fd32b2a6981444fd996825">FrameConstructionID</a> == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a> ||</div>
<div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160;        OF.<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html#a83ee605247fd32b2a6981444fd996825">FrameConstructionID</a> == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c">MachineOutlinerThunk</a>)</div>
<div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;      Et = std::prev(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div>
<div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160; </div>
<div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;    <span class="comment">// Insert a save before the outlined region</span></div>
<div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *STRXpre = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::STRXpre))</div>
<div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;                                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;                                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::LR)</div>
<div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;                                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP)</div>
<div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;                                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(-16);</div>
<div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160;    It = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(It, STRXpre);</div>
<div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160; </div>
<div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;    <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;()-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#aaa6625e357c6806a89b36759ae16b630">needsDwarfUnwindInfo</a>(MF)) {</div>
<div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> &amp;STI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>();</div>
<div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCRegisterInfo.html">MCRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = STI.<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160;      <span class="keywordtype">unsigned</span> DwarfReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;getDwarfRegNum(AArch64::LR, <span class="keyword">true</span>);</div>
<div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160; </div>
<div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;      <span class="comment">// Add a CFI saying the stack was moved 16 B down.</span></div>
<div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160;      int64_t StackPosEntry =</div>
<div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;          MF.<a class="code" href="classllvm_1_1MachineFunction.html#a247230f547064b27022d70c0aeb86682">addFrameInst</a>(<a class="code" href="classllvm_1_1MCCFIInstruction.html#a03e76dd55b65ca0af930c3150413e148">MCCFIInstruction::cfiDefCfaOffset</a>(<span class="keyword">nullptr</span>, 16));</div>
<div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, It, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::CFI_INSTRUCTION))</div>
<div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad51b0d1c80a9dbf0eea9162e2e3ec0dd">addCFIIndex</a>(StackPosEntry)</div>
<div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">setMIFlags</a>(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div>
<div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160; </div>
<div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160;      <span class="comment">// Add a CFI saying that the LR that we want to find is now 16 B higher</span></div>
<div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160;      <span class="comment">// than before.</span></div>
<div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;      int64_t LRPosEntry = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a247230f547064b27022d70c0aeb86682">addFrameInst</a>(</div>
<div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;          <a class="code" href="classllvm_1_1MCCFIInstruction.html#aea2b8a3efd6694a33452ed7e8716300e">MCCFIInstruction::createOffset</a>(<span class="keyword">nullptr</span>, DwarfReg, -16));</div>
<div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, It, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::CFI_INSTRUCTION))</div>
<div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad51b0d1c80a9dbf0eea9162e2e3ec0dd">addCFIIndex</a>(LRPosEntry)</div>
<div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">setMIFlags</a>(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div>
<div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160;    }</div>
<div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160; </div>
<div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160;    <span class="comment">// Insert a restore before the terminator for the function.</span></div>
<div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LDRXpost = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRXpost))</div>
<div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;                                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;                                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::LR, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160;                                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP)</div>
<div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;                                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(16);</div>
<div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;    Et = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(Et, LDRXpost);</div>
<div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160;  }</div>
<div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160; </div>
<div class="line"><a name="l08024"></a><span class="lineno"> 8024</span>&#160;  <span class="comment">// If a bunch of candidates reach this point they must agree on their return</span></div>
<div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;  <span class="comment">// address signing. It is therefore enough to just consider the signing</span></div>
<div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;  <span class="comment">// behaviour of one of them</span></div>
<div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;MFI = *OF.<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html#afaa7ed984d2671729752893984eb85a3">Candidates</a>.front().getMF()-&gt;getInfo&lt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html">AArch64FunctionInfo</a>&gt;();</div>
<div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;  <span class="keywordtype">bool</span> ShouldSignReturnAddr = MFI.<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#a606dce8fc572cecd6eab6f419f11aa6d">shouldSignReturnAddress</a>(!IsLeafFunction);</div>
<div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160; </div>
<div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;  <span class="comment">// a_key is the default</span></div>
<div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;  <span class="keywordtype">bool</span> ShouldSignReturnAddrWithBKey = MFI.shouldSignWithBKey();</div>
<div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160; </div>
<div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;  <span class="comment">// If this is a tail call outlined function, then there&#39;s already a return.</span></div>
<div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;  <span class="keywordflow">if</span> (OF.<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html#a83ee605247fd32b2a6981444fd996825">FrameConstructionID</a> == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a> ||</div>
<div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;      OF.<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html#a83ee605247fd32b2a6981444fd996825">FrameConstructionID</a> == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c">MachineOutlinerThunk</a>) {</div>
<div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;    <a class="code" href="AArch64InstrInfo_8cpp.html#a3c5e54a089e34d37720e02c30ad44c78">signOutlinedFunction</a>(MF, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, ShouldSignReturnAddr,</div>
<div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;                         ShouldSignReturnAddrWithBKey);</div>
<div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;  }</div>
<div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160; </div>
<div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;  <span class="comment">// It&#39;s not a tail call, so we have to insert the return ourselves.</span></div>
<div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160; </div>
<div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160;  <span class="comment">// LR has to be a live in so that we can return to it.</span></div>
<div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a5fc7747b752105f022c214bd2403eeee">isLiveIn</a>(AArch64::LR))</div>
<div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acce9c12cc977a88dc7bc51493ce7681c">addLiveIn</a>(AArch64::LR);</div>
<div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160; </div>
<div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#aaf6381f136d6cb9f13adbd90b1781923">ret</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1ARCISD.html#a383dfc381bd557f340886bb106e3d92ea0e21991e38db8b5d09e9e301406cfd13">AArch64::RET</a>))</div>
<div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;                          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::LR);</div>
<div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160;  <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), <a class="code" href="lib_2Target_2X86_2README_8txt.html#aaf6381f136d6cb9f13adbd90b1781923">ret</a>);</div>
<div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160; </div>
<div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;  <a class="code" href="AArch64InstrInfo_8cpp.html#a3c5e54a089e34d37720e02c30ad44c78">signOutlinedFunction</a>(MF, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, ShouldSignReturnAddr,</div>
<div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;                       ShouldSignReturnAddrWithBKey);</div>
<div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160; </div>
<div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160;  FI-&gt;<a class="code" href="classllvm_1_1AArch64FunctionInfo.html#aacfaac36c46f4afa2ddf2b67808f9aab">setOutliningStyle</a>(<span class="stringliteral">&quot;Function&quot;</span>);</div>
<div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160; </div>
<div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160;  <span class="comment">// Did we have to modify the stack by saving the link register?</span></div>
<div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;  <span class="keywordflow">if</span> (OF.<a class="code" href="structllvm_1_1outliner_1_1OutlinedFunction.html#a83ee605247fd32b2a6981444fd996825">FrameConstructionID</a> != <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae6d079724e013e1fd057cf6fcb57675a">MachineOutlinerDefault</a>)</div>
<div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08059"></a><span class="lineno"> 8059</span>&#160; </div>
<div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;  <span class="comment">// We modified the stack.</span></div>
<div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160;  <span class="comment">// Walk over the basic block and fix up all the stack accesses.</span></div>
<div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;  fixupPostOutline(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160;}</div>
<div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160; </div>
<div class="line"><a name="l08065"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a4c5be0dce0caceff8b457e09b8a998fc"> 8065</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a4c5be0dce0caceff8b457e09b8a998fc">AArch64InstrInfo::insertOutlinedCall</a>(</div>
<div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> &amp;It,</div>
<div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08068"></a><span class="lineno"> 8068</span>&#160; </div>
<div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160;  <span class="comment">// Are we tail calling?</span></div>
<div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.CallConstructionID == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a>) {</div>
<div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160;    <span class="comment">// If yes, then we can just branch to the label.</span></div>
<div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160;    It = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(It, <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::TCRETURNdi))</div>
<div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160;                            .addGlobalAddress(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedValue(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>()))</div>
<div class="line"><a name="l08074"></a><span class="lineno"> 8074</span>&#160;                            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0));</div>
<div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;    <span class="keywordflow">return</span> It;</div>
<div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160;  }</div>
<div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160; </div>
<div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160;  <span class="comment">// Are we saving the link register?</span></div>
<div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.CallConstructionID == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a91f63a4449fb0a4504497465cc2f4c9a">MachineOutlinerNoLRSave</a> ||</div>
<div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.CallConstructionID == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c">MachineOutlinerThunk</a>) {</div>
<div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160;    <span class="comment">// No, so just insert the call.</span></div>
<div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160;    It = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(It, <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1ARCISD.html#a383dfc381bd557f340886bb106e3d92ea37102c3bc1feaf214eb32e66a1ffc007">AArch64::BL</a>))</div>
<div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160;                            .addGlobalAddress(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedValue(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>())));</div>
<div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160;    <span class="keywordflow">return</span> It;</div>
<div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;  }</div>
<div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160; </div>
<div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;  <span class="comment">// We want to return the spot where we inserted the call.</span></div>
<div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> CallPt;</div>
<div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160; </div>
<div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160;  <span class="comment">// Instructions for saving and restoring LR around the call instruction we&#39;re</span></div>
<div class="line"><a name="l08091"></a><span class="lineno"> 8091</span>&#160;  <span class="comment">// going to insert.</span></div>
<div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Save;</div>
<div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Restore;</div>
<div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160;  <span class="comment">// Can we save to a register?</span></div>
<div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.CallConstructionID == <a class="code" href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a428eb3c2a256781b5e0589b47427e585">MachineOutlinerRegSave</a>) {</div>
<div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160;    <span class="comment">// FIXME: This logic should be sunk into a target-specific interface so that</span></div>
<div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160;    <span class="comment">// we don&#39;t have to recompute the register.</span></div>
<div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = findRegisterToSaveLRTo(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> &amp;&amp; <span class="stringliteral">&quot;No callee-saved register available?&quot;</span>);</div>
<div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160; </div>
<div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160;    <span class="comment">// LR has to be a live in so that we can save it.</span></div>
<div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a5fc7747b752105f022c214bd2403eeee">isLiveIn</a>(AArch64::LR))</div>
<div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acce9c12cc977a88dc7bc51493ce7681c">addLiveIn</a>(AArch64::LR);</div>
<div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160; </div>
<div class="line"><a name="l08105"></a><span class="lineno"> 8105</span>&#160;    <span class="comment">// Save and restore LR from Reg.</span></div>
<div class="line"><a name="l08106"></a><span class="lineno"> 8106</span>&#160;    Save = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ORRXrs), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l08107"></a><span class="lineno"> 8107</span>&#160;               .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::XZR)</div>
<div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;               .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::LR)</div>
<div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160;               .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160;    Restore = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::ORRXrs), AArch64::LR)</div>
<div class="line"><a name="l08111"></a><span class="lineno"> 8111</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::XZR)</div>
<div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l08114"></a><span class="lineno"> 8114</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;    <span class="comment">// We have the default case. Save and restore from SP.</span></div>
<div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160;    Save = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::STRXpre))</div>
<div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;               .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160;               .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::LR)</div>
<div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160;               .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP)</div>
<div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160;               .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(-16);</div>
<div class="line"><a name="l08121"></a><span class="lineno"> 8121</span>&#160;    Restore = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AArch64::LDRXpost))</div>
<div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::LR, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AArch64::SP)</div>
<div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(16);</div>
<div class="line"><a name="l08126"></a><span class="lineno"> 8126</span>&#160;  }</div>
<div class="line"><a name="l08127"></a><span class="lineno"> 8127</span>&#160; </div>
<div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;  It = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(It, Save);</div>
<div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;  It++;</div>
<div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160; </div>
<div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;  <span class="comment">// Insert the call.</span></div>
<div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160;  It = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(It, <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1ARCISD.html#a383dfc381bd557f340886bb106e3d92ea37102c3bc1feaf214eb32e66a1ffc007">AArch64::BL</a>))</div>
<div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160;                          .addGlobalAddress(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedValue(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>())));</div>
<div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;  CallPt = It;</div>
<div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;  It++;</div>
<div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160; </div>
<div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;  It = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(It, Restore);</div>
<div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;  <span class="keywordflow">return</span> CallPt;</div>
<div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160;}</div>
<div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160; </div>
<div class="line"><a name="l08141"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a944bf3cc625b6bf05e52bc6daa2cc47f"> 8141</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a944bf3cc625b6bf05e52bc6daa2cc47f">AArch64InstrInfo::shouldOutlineFromFunctionByDefault</a>(</div>
<div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;  <span class="keywordflow">return</span> MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a548cfb9440f36ba67fc5566b8e967fc6">hasMinSize</a>();</div>
<div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;}</div>
<div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160; </div>
<div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;std::optional&lt;DestSourcePair&gt;</div>
<div class="line"><a name="l08147"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a117c27122f686eca6691089a9aecbc21"> 8147</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a117c27122f686eca6691089a9aecbc21">AArch64InstrInfo::isCopyInstrImpl</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160; </div>
<div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;  <span class="comment">// AArch64::ORRWrs and AArch64::ORRXrs with WZR/XZR reg</span></div>
<div class="line"><a name="l08150"></a><span class="lineno"> 8150</span>&#160;  <span class="comment">// and zero immediate operands used as an alias for mov instruction.</span></div>
<div class="line"><a name="l08151"></a><span class="lineno"> 8151</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AArch64::ORRWrs &amp;&amp;</div>
<div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == AArch64::WZR &amp;&amp;</div>
<div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm() == 0x0) {</div>
<div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DestSourcePair.html">DestSourcePair</a>{<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2)};</div>
<div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;  }</div>
<div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160; </div>
<div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AArch64::ORRXrs &amp;&amp;</div>
<div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == AArch64::XZR &amp;&amp;</div>
<div class="line"><a name="l08159"></a><span class="lineno"> 8159</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm() == 0x0) {</div>
<div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DestSourcePair.html">DestSourcePair</a>{<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2)};</div>
<div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;  }</div>
<div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160; </div>
<div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;}</div>
<div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160; </div>
<div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160;std::optional&lt;RegImmPair&gt;</div>
<div class="line"><a name="l08167"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a195a0fee60fb5a1164767ec13d9729dd"> 8167</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a195a0fee60fb5a1164767ec13d9729dd">AArch64InstrInfo::isAddImmediate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;  <span class="keywordtype">int</span> Sign = 1;</div>
<div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160;  int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160; </div>
<div class="line"><a name="l08171"></a><span class="lineno"> 8171</span>&#160;  <span class="comment">// TODO: Handle cases where Reg is a super- or sub-register of the</span></div>
<div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;  <span class="comment">// destination register.</span></div>
<div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Op0 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0);</div>
<div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;  <span class="keywordflow">if</span> (!Op0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != Op0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())</div>
<div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160; </div>
<div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBWri:</div>
<div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBXri:</div>
<div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSWri:</div>
<div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;  <span class="keywordflow">case</span> AArch64::SUBSXri:</div>
<div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160;    Sign *= -1;</div>
<div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l08186"></a><span class="lineno"> 8186</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSWri:</div>
<div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDSXri:</div>
<div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDWri:</div>
<div class="line"><a name="l08189"></a><span class="lineno"> 8189</span>&#160;  <span class="keywordflow">case</span> AArch64::ADDXri: {</div>
<div class="line"><a name="l08190"></a><span class="lineno"> 8190</span>&#160;    <span class="comment">// TODO: Third operand can be global address (usually some string).</span></div>
<div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).isReg() || !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isReg() ||</div>
<div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;        !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isImm())</div>
<div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l08194"></a><span class="lineno"> 8194</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> == 0 || <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> == 12) &amp;&amp; <span class="stringliteral">&quot;Shift can be either 0 or 12&quot;</span>);</div>
<div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = Sign * (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm() &lt;&lt; <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l08197"></a><span class="lineno"> 8197</span>&#160;  }</div>
<div class="line"><a name="l08198"></a><span class="lineno"> 8198</span>&#160;  }</div>
<div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1RegImmPair.html">RegImmPair</a>{<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg(), <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>};</div>
<div class="line"><a name="l08200"></a><span class="lineno"> 8200</span>&#160;}</div>
<div class="line"><a name="l08201"></a><span class="lineno"> 8201</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l08202"></a><span class="lineno"> 8202</span>&#160;<span class="comment">/// If the given ORR instruction is a copy, and \p DescribedReg overlaps with</span></div>
<div class="line"><a name="l08203"></a><span class="lineno"> 8203</span>&#160;<span class="comment">/// the destination register then, if possible, describe the value in terms of</span></div>
<div class="line"><a name="l08204"></a><span class="lineno"> 8204</span>&#160;<span class="comment">/// the source register.</span></div>
<div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;<span class="comment"></span><span class="keyword">static</span> std::optional&lt;ParamLoadedValue&gt;</div>
<div class="line"><a name="l08206"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a227d9ffe08d619b8ba3bb95f2ae6db0e"> 8206</a></span>&#160;<a class="code" href="AArch64InstrInfo_8cpp.html#a227d9ffe08d619b8ba3bb95f2ae6db0e">describeORRLoadedValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> DescribedReg,</div>
<div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l08208"></a><span class="lineno"> 8208</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) {</div>
<div class="line"><a name="l08209"></a><span class="lineno"> 8209</span>&#160;  <span class="keyword">auto</span> DestSrc = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isCopyInstr(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l08210"></a><span class="lineno"> 8210</span>&#160;  <span class="keywordflow">if</span> (!DestSrc)</div>
<div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160; </div>
<div class="line"><a name="l08213"></a><span class="lineno"> 8213</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg = DestSrc-&gt;Destination-&gt;getReg();</div>
<div class="line"><a name="l08214"></a><span class="lineno"> 8214</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = DestSrc-&gt;Source-&gt;getReg();</div>
<div class="line"><a name="l08215"></a><span class="lineno"> 8215</span>&#160; </div>
<div class="line"><a name="l08216"></a><span class="lineno"> 8216</span>&#160;  <span class="keyword">auto</span> Expr = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">DIExpression::get</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getMF()-&gt;getFunction().getContext(), {});</div>
<div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160; </div>
<div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160;  <span class="comment">// If the described register is the destination, just return the source.</span></div>
<div class="line"><a name="l08219"></a><span class="lineno"> 8219</span>&#160;  <span class="keywordflow">if</span> (DestReg == DescribedReg)</div>
<div class="line"><a name="l08220"></a><span class="lineno"> 8220</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0f121bc5e3b5fb189a14cd793f9f5236">ParamLoadedValue</a>(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(SrcReg, <span class="keyword">false</span>), Expr);</div>
<div class="line"><a name="l08221"></a><span class="lineno"> 8221</span>&#160; </div>
<div class="line"><a name="l08222"></a><span class="lineno"> 8222</span>&#160;  <span class="comment">// ORRWrs zero-extends to 64-bits, so we need to consider such cases.</span></div>
<div class="line"><a name="l08223"></a><span class="lineno"> 8223</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AArch64::ORRWrs &amp;&amp;</div>
<div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160;      <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#ab8e1321ecb267615f4f4be14b92cf03a">isSuperRegister</a>(DestReg, DescribedReg))</div>
<div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0f121bc5e3b5fb189a14cd793f9f5236">ParamLoadedValue</a>(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(SrcReg, <span class="keyword">false</span>), Expr);</div>
<div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160; </div>
<div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160;  <span class="comment">// We may need to describe the lower part of a ORRXrs move.</span></div>
<div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AArch64::ORRXrs &amp;&amp;</div>
<div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160;      <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a97b138b96791a09a0d9b9c77f0fb6e85">isSubRegister</a>(DestReg, DescribedReg)) {</div>
<div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcSubReg = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">getSubReg</a>(SrcReg, AArch64::sub_32);</div>
<div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0f121bc5e3b5fb189a14cd793f9f5236">ParamLoadedValue</a>(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(SrcSubReg, <span class="keyword">false</span>), Expr);</div>
<div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;  }</div>
<div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160; </div>
<div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a973016c591557c107018a0e6478b30a9">isSuperOrSubRegisterEq</a>(DestReg, DescribedReg) &amp;&amp;</div>
<div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;         <span class="stringliteral">&quot;Unhandled ORR[XW]rs copy case&quot;</span>);</div>
<div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160; </div>
<div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160;}</div>
<div class="line"><a name="l08239"></a><span class="lineno"> 8239</span>&#160; </div>
<div class="line"><a name="l08240"></a><span class="lineno"> 8240</span>&#160;std::optional&lt;ParamLoadedValue&gt;</div>
<div class="line"><a name="l08241"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a7a1bb4352b705901de9836f44ad326f4"> 8241</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#a7a1bb4352b705901de9836f44ad326f4">AArch64InstrInfo::describeLoadedValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l08242"></a><span class="lineno"> 8242</span>&#160;                                      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08243"></a><span class="lineno"> 8243</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getMF();</div>
<div class="line"><a name="l08244"></a><span class="lineno"> 8244</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160;  <span class="keywordflow">case</span> AArch64::MOVZWi:</div>
<div class="line"><a name="l08247"></a><span class="lineno"> 8247</span>&#160;  <span class="keywordflow">case</span> AArch64::MOVZXi: {</div>
<div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160;    <span class="comment">// MOVZWi may be used for producing zero-extended 32-bit immediates in</span></div>
<div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;    <span class="comment">// 64-bit parameters, so we need to consider super-registers.</span></div>
<div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a10add2603cf9d4706e64a3605783b764">isSuperRegisterEq</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg(), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160; </div>
<div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isImm())</div>
<div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;    int64_t Immediate = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm();</div>
<div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0f121bc5e3b5fb189a14cd793f9f5236">ParamLoadedValue</a>(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(Immediate &lt;&lt; <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>),</div>
<div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;                            <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160;  }</div>
<div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRWrs:</div>
<div class="line"><a name="l08261"></a><span class="lineno"> 8261</span>&#160;  <span class="keywordflow">case</span> AArch64::ORRXrs:</div>
<div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64InstrInfo_8cpp.html#a227d9ffe08d619b8ba3bb95f2ae6db0e">describeORRLoadedValue</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">this</span>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;  }</div>
<div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160; </div>
<div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a6885e40448874565521daac98e11f50d">TargetInstrInfo::describeLoadedValue</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160;}</div>
<div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160; </div>
<div class="line"><a name="l08268"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a791f9b87aba84585f9777360bb26d84b"> 8268</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a791f9b87aba84585f9777360bb26d84b">AArch64InstrInfo::isExtendLikelyToBeFolded</a>(</div>
<div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;ExtMI, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ExtMI.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == TargetOpcode::G_SEXT ||</div>
<div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;         ExtMI.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == TargetOpcode::G_ZEXT ||</div>
<div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;         ExtMI.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == TargetOpcode::G_ANYEXT);</div>
<div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160; </div>
<div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160;  <span class="comment">// Anyexts are nops.</span></div>
<div class="line"><a name="l08275"></a><span class="lineno"> 8275</span>&#160;  <span class="keywordflow">if</span> (ExtMI.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == TargetOpcode::G_ANYEXT)</div>
<div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160; </div>
<div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DefReg = ExtMI.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">hasOneNonDBGUse</a>(DefReg))</div>
<div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160; </div>
<div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160;  <span class="comment">// It&#39;s likely that a sext/zext as a G_PTR_ADD offset will be folded into an</span></div>
<div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;  <span class="comment">// addressing mode.</span></div>
<div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;  <span class="keyword">auto</span> *UserMI = &amp;*<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a741b5105cca6e98538c79acf275ca733">use_instr_nodbg_begin</a>(DefReg);</div>
<div class="line"><a name="l08285"></a><span class="lineno"> 8285</span>&#160;  <span class="keywordflow">return</span> UserMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == TargetOpcode::G_PTR_ADD;</div>
<div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160;}</div>
<div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160; </div>
<div class="line"><a name="l08288"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a225bf56c837056189e19a6d525e9a93a"> 8288</a></span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a225bf56c837056189e19a6d525e9a93a">AArch64InstrInfo::getElementSizeForOpcode</a>(<span class="keywordtype">unsigned</span> Opc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc).TSFlags &amp; <a class="code" href="namespacellvm_1_1AArch64.html#a2a41a022b24374a579418d7d2476e6daabba4d0fbf16c6ed6a4a264351f1441e8">AArch64::ElementSizeMask</a>;</div>
<div class="line"><a name="l08290"></a><span class="lineno"> 8290</span>&#160;}</div>
<div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160; </div>
<div class="line"><a name="l08292"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#af93867ed83dede2b0063fbaa26a3086d"> 8292</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#af93867ed83dede2b0063fbaa26a3086d">AArch64InstrInfo::isPTestLikeOpcode</a>(<span class="keywordtype">unsigned</span> Opc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc).TSFlags &amp; <a class="code" href="namespacellvm_1_1AArch64.html#a6d80df9ebba012ae0264f1a6bfefb887">AArch64::InstrFlagIsPTestLike</a>;</div>
<div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;}</div>
<div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160; </div>
<div class="line"><a name="l08296"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#a38f8066c29c8c7afd3906d08e8407282"> 8296</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AArch64InstrInfo.html#a38f8066c29c8c7afd3906d08e8407282">AArch64InstrInfo::isWhileOpcode</a>(<span class="keywordtype">unsigned</span> Opc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08297"></a><span class="lineno"> 8297</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc).TSFlags &amp; <a class="code" href="namespacellvm_1_1AArch64.html#a55a90256e857e185aeaac9aabf606133">AArch64::InstrFlagIsWhile</a>;</div>
<div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;}</div>
<div class="line"><a name="l08299"></a><span class="lineno"> 8299</span>&#160; </div>
<div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l08301"></a><span class="lineno"><a class="line" href="classllvm_1_1AArch64InstrInfo.html#af0696650ebf608e7bfc64a5ac79f3704"> 8301</a></span>&#160;<a class="code" href="classllvm_1_1AArch64InstrInfo.html#af0696650ebf608e7bfc64a5ac79f3704">AArch64InstrInfo::getTailDuplicateSize</a>(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36">CodeGenOpt::Level</a> OptLevel)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08302"></a><span class="lineno"> 8302</span>&#160;  <span class="keywordflow">return</span> OptLevel &gt;= <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36a71969d8670845bfa9d80ba2197dba678">CodeGenOpt::Aggressive</a> ? 6 : 2;</div>
<div class="line"><a name="l08303"></a><span class="lineno"> 8303</span>&#160;}</div>
<div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160; </div>
<div class="line"><a name="l08305"></a><span class="lineno"><a class="line" href="namespacellvm.html#a3a91375dbee36ddeeee15b974e39782c"> 8305</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a3a91375dbee36ddeeee15b974e39782c">llvm::getBLRCallOpcode</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1AArch64Subtarget.html">AArch64Subtarget</a>&gt;().hardenSlsBlr())</div>
<div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160;    <span class="keywordflow">return</span> AArch64::BLRNoIP;</div>
<div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160;    <span class="keywordflow">return</span> AArch64::BLR;</div>
<div class="line"><a name="l08310"></a><span class="lineno"> 8310</span>&#160;}</div>
<div class="line"><a name="l08311"></a><span class="lineno"> 8311</span>&#160; </div>
<div class="line"><a name="l08312"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#ae7cacd3c36ea1b8c5eb3fd95f8c35cca"> 8312</a></span>&#160;<span class="preprocessor">#define GET_INSTRINFO_HELPERS</span></div>
<div class="line"><a name="l08313"></a><span class="lineno"><a class="line" href="AArch64InstrInfo_8cpp.html#a68cd09032654ae05bb2a11b7c60a1cdd"> 8313</a></span>&#160;<span class="preprocessor">#define GET_INSTRMAP_INFO</span></div>
<div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160;<span class="preprocessor">#include &quot;AArch64GenInstrInfo.inc&quot;</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a84158dd1a8182d6f197658be0527d28a"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a84158dd1a8182d6f197658be0527d28a">llvm::MachineCombinerPattern::MULSUBv2i32_indexed_OP2</a></div><div class="ttdeci">@ MULSUBv2i32_indexed_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ad4f8f1aca0bb01f65be1d7dee43f7f83"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ad4f8f1aca0bb01f65be1d7dee43f7f83">llvm::TargetRegisterInfo::getRegAsmName</a></div><div class="ttdeci">virtual StringRef getRegAsmName(MCRegister Reg) const</div><div class="ttdoc">Return the assembly name for Reg.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l01058">TargetRegisterInfo.h:1058</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">llvm::RegState::Undef</a></div><div class="ttdeci">@ Undef</div><div class="ttdoc">Value of the register doesn't matter.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00052">MachineInstrBuilder.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_af0696650ebf608e7bfc64a5ac79f3704"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#af0696650ebf608e7bfc64a5ac79f3704">llvm::AArch64InstrInfo::getTailDuplicateSize</a></div><div class="ttdeci">unsigned int getTailDuplicateSize(CodeGenOpt::Level OptLevel) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08301">AArch64InstrInfo.cpp:8301</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_aae34e9ed9446266fe2dcc421cc67093f"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#aae34e9ed9446266fe2dcc421cc67093f">parseCondBranch</a></div><div class="ttdeci">static void parseCondBranch(MachineInstr *LastInst, MachineBasicBlock *&amp;Target, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00151">AArch64InstrInfo.cpp:151</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4376790aa70f615c404bf3c4f9c82490"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4376790aa70f615c404bf3c4f9c82490">llvm::MachineCombinerPattern::FMLAv4i32_indexed_OP1</a></div><div class="ttdeci">@ FMLAv4i32_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71af2217d25138eade76a256c4c3dc131bd"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71af2217d25138eade76a256c4c3dc131bd">llvm::AArch64II::MO_G3</a></div><div class="ttdeci">@ MO_G3</div><div class="ttdoc">MO_G3 - A symbol operand with this flag (granule 3) represents the high 16-bits of a 64-bit address,...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00715">AArch64BaseInfo.h:715</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ae85c386ac7b2ceea0d88784fafafd39e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae85c386ac7b2ceea0d88784fafafd39e">llvm::MachineCombinerPattern::FMLAv8i16_indexed_OP1</a></div><div class="ttdeci">@ FMLAv8i16_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64ISD_html_a35ad1b8db0dfad0b69c9185c5fe24e19adfb5f0cc680a060e5ca88e6e923d7183"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19adfb5f0cc680a060e5ca88e6e923d7183">llvm::AArch64ISD::LOADgot</a></div><div class="ttdeci">@ LOADgot</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00078">AArch64ISelLowering.h:78</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28aef225b7df5953a2942e07071d0013eb0"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aef225b7df5953a2942e07071d0013eb0">llvm::AArch64CC::Invalid</a></div><div class="ttdeci">@ Invalid</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00272">AArch64BaseInfo.h:272</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a529c6b94f32165c3d420316bcb6e0d9e"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a529c6b94f32165c3d420316bcb6e0d9e">llvm::AArch64_AM::getArithShiftValue</a></div><div class="ttdeci">static unsigned getArithShiftValue(unsigned Imm)</div><div class="ttdoc">getArithShiftValue - get the arithmetic shift value.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00119">AArch64AddressingModes.h:119</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a1ae0afc417a86f5d88ba3198ddedd628"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a1ae0afc417a86f5d88ba3198ddedd628">BCCDisplacementBits</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; BCCDisplacementBits(&quot;aarch64-bcc-offset-bits&quot;, cl::Hidden, cl::init(19), cl::desc(&quot;Restrict range of Bcc instructions (DEBUG)&quot;))</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28ab620924321db413fcc748afe522c2303"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab620924321db413fcc748afe522c2303">llvm::AArch64CC::LO</a></div><div class="ttdeci">@ LO</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00258">AArch64BaseInfo.h:258</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a332b32bf8ce7a30d6b74adcbcc659011"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a332b32bf8ce7a30d6b74adcbcc659011">llvm::MachineCombinerPattern::MULSUBv8i8_OP2</a></div><div class="ttdeci">@ MULSUBv8i8_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_aee50fcacb786c1fc56168a0c55a4e934"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">llvm::MCInstrDesc::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Return the opcode number for this descriptor.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00230">MCInstrDesc.h:230</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ad7bab6f226e174247c9ef9b4e0d1bd0a"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad7bab6f226e174247c9ef9b4e0d1bd0a">llvm::MachineCombinerPattern::MULSUBv4i32_indexed_OP1</a></div><div class="ttdeci">@ MULSUBv4i32_indexed_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_ae2f38a334980a3888a4fc55b8e9542ac"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#ae2f38a334980a3888a4fc55b8e9542ac">llvm::AArch64InstrInfo::suppressLdStPair</a></div><div class="ttdeci">static void suppressLdStPair(MachineInstr &amp;MI)</div><div class="ttdoc">Hint that pairing the given load or store is unprofitable.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02169">AArch64InstrInfo.cpp:2169</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a10ff9c7b29be1debe32fa6ba92256068"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a10ff9c7b29be1debe32fa6ba92256068">llvm::AArch64InstrInfo::isThroughputPattern</a></div><div class="ttdeci">bool isThroughputPattern(MachineCombinerPattern Pattern) const override</div><div class="ttdoc">Return true when a code sequence can improve throughput.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05392">AArch64InstrInfo.cpp:5392</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28aa5506efe3dc67f7b794331f0cbffddaf"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aa5506efe3dc67f7b794331f0cbffddaf">llvm::AArch64CC::HI</a></div><div class="ttdeci">@ HI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00263">AArch64BaseInfo.h:263</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a4f1ceb770fe3446bfb2b3fa26858098f"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const</div><div class="ttdoc">Add a new immediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00131">MachineInstrBuilder.h:131</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a317497ce5235c135f0b4d4ab463f1847"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847">AccessKind</a></div><div class="ttdeci">AccessKind</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01261">AArch64InstrInfo.cpp:1261</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a77d96c1c7f31baecc71004069dbc5eda"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a77d96c1c7f31baecc71004069dbc5eda">llvm::MachineInstrBuilder::copyImplicitOps</a></div><div class="ttdeci">const MachineInstrBuilder &amp; copyImplicitOps(const MachineInstr &amp;OtherMI) const</div><div class="ttdoc">Copy all the implicit operands from OtherMI onto this one.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00321">MachineInstrBuilder.h:321</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackMapOpers_html"><div class="ttname"><a href="classllvm_1_1StackMapOpers.html">llvm::StackMapOpers</a></div><div class="ttdoc">MI-level stackmap operands.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00035">StackMaps.h:35</a></div></div>
<div class="ttc" id="aAArch64MachineFunctionInfo_8h_html"><div class="ttname"><a href="AArch64MachineFunctionInfo_8h.html">AArch64MachineFunctionInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2213964950e793c7afdd7e2241ed5fff"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2213964950e793c7afdd7e2241ed5fff">llvm::MachineCombinerPattern::MULADDv4i16_indexed_OP1</a></div><div class="ttdeci">@ MULADDv4i16_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a57e701bf8e691f97f00961440fd86ece"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a57e701bf8e691f97f00961440fd86ece">llvm::MachineCombinerPattern::FMULADDD_OP2</a></div><div class="ttdeci">@ FMULADDD_OP2</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a7dc60439888b36449abcb98f47d23ec6"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a7dc60439888b36449abcb98f47d23ec6">canCmpInstrBeRemoved</a></div><div class="ttdeci">static bool canCmpInstrBeRemoved(MachineInstr &amp;MI, MachineInstr &amp;CmpInstr, int CmpValue, const TargetRegisterInfo &amp;TRI, SmallVectorImpl&lt; MachineInstr * &gt; &amp;CCUseInstrs, bool &amp;IsInvertCC)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01749">AArch64InstrInfo.cpp:1749</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa31dda85603496c333a105d53ce62150"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa31dda85603496c333a105d53ce62150">llvm::ISD::PATCHPOINT</a></div><div class="ttdeci">@ PATCHPOINT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01303">ISDOpcodes.h:1303</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_a6cf2f8996b1e9aaf2d7a435aaa62382f"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a></div><div class="ttdeci">MachineInstrBuilder &amp; UseMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00107">AArch64ExpandPseudoInsts.cpp:107</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a298be1031f30bb6d33dda81a8fc572fc"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a298be1031f30bb6d33dda81a8fc572fc">llvm::AArch64InstrInfo::copyPhysReg</a></div><div class="ttdeci">void copyPhysReg(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, const DebugLoc &amp;DL, MCRegister DestReg, MCRegister SrcReg, bool KillSrc) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03475">AArch64InstrInfo.cpp:3475</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a5fc7747b752105f022c214bd2403eeee"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a5fc7747b752105f022c214bd2403eeee">llvm::MachineBasicBlock::isLiveIn</a></div><div class="ttdeci">bool isLiveIn(MCPhysReg Reg, LaneBitmask LaneMask=LaneBitmask::getAll()) const</div><div class="ttdoc">Return true if the specified register is in the live in set.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00601">MachineBasicBlock.cpp:601</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f">llvm::AArch64CC::NE</a></div><div class="ttdeci">@ NE</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00256">AArch64BaseInfo.h:256</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ad9823821c5d84e2290f359c4f353d165"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad9823821c5d84e2290f359c4f353d165">llvm::MachineCombinerPattern::MULADDv4i32_OP2</a></div><div class="ttdeci">@ MULADDv4i32_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a6028bd3a601dd504141e1361b5db1492"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a6028bd3a601dd504141e1361b5db1492">llvm::MachineCombinerPattern::FMULSUBH_OP1</a></div><div class="ttdeci">@ FMULSUBH_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2202d07bf3272b53672ef28aebf12568"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2202d07bf3272b53672ef28aebf12568">llvm::MachineCombinerPattern::MULSUBv8i8_OP1</a></div><div class="ttdeci">@ MULSUBv8i8_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af2c351dad09a71aa08e1d85c67ae6e53"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(Register Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false, bool isRenamable=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00833">MachineOperand.h:833</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05af7b9eb664f370ad6c3d4e2204447d75c"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af7b9eb664f370ad6c3d4e2204447d75c">llvm::MachineCombinerPattern::MULADDv4i16_indexed_OP2</a></div><div class="ttdeci">@ MULADDv4i16_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71abb4faac7fe2138d41464b4e802ec103f"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71abb4faac7fe2138d41464b4e802ec103f">llvm::AArch64II::MO_HI12</a></div><div class="ttdeci">@ MO_HI12</div><div class="ttdoc">MO_HI12 - This flag indicates that a symbol operand represents the bits 13-24 of a 64-bit address,...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00732">AArch64BaseInfo.h:732</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a7e75394a33f6a5897d7a14c0ba5d44f1a1d97e13eb9923037fe733eda83b7f938"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a1d97e13eb9923037fe733eda83b7f938">llvm::AArch64_AM::LSL</a></div><div class="ttdeci">@ LSL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00035">AArch64AddressingModes.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5c77792a06583e0fe7a0379ad94a2809"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">llvm::MachineRegisterInfo::createVirtualRegister</a></div><div class="ttdeci">Register createVirtualRegister(const TargetRegisterClass *RegClass, StringRef Name=&quot;&quot;)</div><div class="ttdoc">createVirtualRegister - Create and return a new virtual register in the function with the specified r...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00157">MachineRegisterInfo.cpp:157</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aadd2f44199ccd69d17aed8a5e0998c8e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aadd2f44199ccd69d17aed8a5e0998c8e">llvm::MachineCombinerPattern::FMLAv1i32_indexed_OP2</a></div><div class="ttdeci">@ FMLAv1i32_indexed_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a8997d907b1de0e1b433c59102335b06a"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a8997d907b1de0e1b433c59102335b06a">llvm::AArch64InstrInfo::expandPostRAPseudo</a></div><div class="ttdeci">bool expandPostRAPseudo(MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01871">AArch64InstrInfo.cpp:1871</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a30eefa1143a0a238486ada4ff95bc34b"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a30eefa1143a0a238486ada4ff95bc34b">llvm::AArch64II::MO_G1</a></div><div class="ttdeci">@ MO_G1</div><div class="ttdoc">MO_G1 - A symbol operand with this flag (granule 1) represents the bits 16-31 of a 64-bit address,...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00723">AArch64BaseInfo.h:723</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetOptions_html"><div class="ttname"><a href="classllvm_1_1TargetOptions.html">llvm::TargetOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00124">TargetOptions.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64FunctionInfo_html_a1e57c4a03c488be702e999854654a400"><div class="ttname"><a href="classllvm_1_1AArch64FunctionInfo.html#a1e57c4a03c488be702e999854654a400">llvm::AArch64FunctionInfo::hasRedZone</a></div><div class="ttdeci">std::optional&lt; bool &gt; hasRedZone() const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64MachineFunctionInfo_8h_source.html#l00336">AArch64MachineFunctionInfo.h:336</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="aMCInstrDesc_8h_html"><div class="ttname"><a href="MCInstrDesc_8h.html">MCInstrDesc.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html_aab735eb6b844f1b683d12013a083b4e2"><div class="ttname"><a href="classllvm_1_1StackOffset.html#aab735eb6b844f1b683d12013a083b4e2">llvm::StackOffset::get</a></div><div class="ttdeci">static StackOffset get(int64_t Fixed, int64_t Scalable)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00047">TypeSize.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00">llvm::AArch64CC::MI</a></div><div class="ttdeci">@ MI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00259">AArch64BaseInfo.h:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a1bf38b3bbe867377cde6e530a0256b29"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a1bf38b3bbe867377cde6e530a0256b29">llvm::AArch64InstrInfo::getInstSizeInBytes</a></div><div class="ttdeci">unsigned getInstSizeInBytes(const MachineInstr &amp;MI) const override</div><div class="ttdoc">GetInstSize - Return the number of bytes of code the specified instruction may be.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00079">AArch64InstrInfo.cpp:79</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a15a6d01915a59c547b3b0f93e49963e9"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a15a6d01915a59c547b3b0f93e49963e9">llvm::MachineCombinerPattern::FMULSUBS_OP1</a></div><div class="ttdeci">@ FMULSUBS_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a17f5d15a7320dec2cfefb6617f711ab7"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">llvm::MachineInstr::mayLoadOrStore</a></div><div class="ttdeci">bool mayLoadOrStore(QueryType Type=AnyInBundle) const</div><div class="ttdoc">Return true if this instruction could possibly read or modify memory.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01079">MachineInstr.h:1079</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ad3bf370e23985108ea96f3a193abd0bd"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad3bf370e23985108ea96f3a193abd0bd">llvm::MachineCombinerPattern::MULADDv2i32_OP1</a></div><div class="ttdeci">@ MULADDv2i32_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a56b7fed94faeb5bc67ee2b71608d2665"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">llvm::MachineInstr::getNumExplicitOperands</a></div><div class="ttdeci">unsigned getNumExplicitOperands() const</div><div class="ttdoc">Returns the number of non-implicit operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00734">MachineInstr.cpp:734</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a1ac8d27532cfd1d1f032ecbff2ba3611"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">llvm::MachineInstrBuilder::add</a></div><div class="ttdeci">const MachineInstrBuilder &amp; add(const MachineOperand &amp;MO) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00224">MachineInstrBuilder.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_afd0aa3ba35c12ee51c941a5c1c1e275e"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#afd0aa3ba35c12ee51c941a5c1c1e275e">getMaddPatterns</a></div><div class="ttdeci">static bool getMaddPatterns(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineCombinerPattern &gt; &amp;Patterns)</div><div class="ttdoc">Find instructions that can be turned into madd.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05052">AArch64InstrInfo.cpp:5052</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64FunctionInfo_html_aaa6625e357c6806a89b36759ae16b630"><div class="ttname"><a href="classllvm_1_1AArch64FunctionInfo.html#aaa6625e357c6806a89b36759ae16b630">llvm::AArch64FunctionInfo::needsDwarfUnwindInfo</a></div><div class="ttdeci">bool needsDwarfUnwindInfo(const MachineFunction &amp;MF) const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64MachineFunctionInfo_8cpp_source.html#l00132">AArch64MachineFunctionInfo.cpp:132</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_ad34f7e3cd7a9add3ab2529e267b48004"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">llvm::TargetSubtargetInfo::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00095">TargetSubtargetInfo.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a9188f84e1dd67530330dcab9cae787d7"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">llvm::details::FixedOrScalableQuantity::isScalable</a></div><div class="ttdeci">constexpr bool isScalable() const</div><div class="ttdoc">Returns whether the quantity is scaled by a runtime quantity (vscale).</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00166">TypeSize.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a40bf8f9579717d3f9be7640f1c6d678b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a40bf8f9579717d3f9be7640f1c6d678b">llvm::MachineBasicBlock::instrs</a></div><div class="ttdeci">instr_range instrs()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00304">MachineBasicBlock.h:304</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_ad51b0d1c80a9dbf0eea9162e2e3ec0dd"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad51b0d1c80a9dbf0eea9162e2e3ec0dd">llvm::MachineInstrBuilder::addCFIIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addCFIIndex(unsigned CFIIndex) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00247">MachineInstrBuilder.h:247</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00642">raw_ostream.h:642</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a317497ce5235c135f0b4d4ab463f1847ad95a443441a0fd8b5fffc844eb6fabc3"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847ad95a443441a0fd8b5fffc844eb6fabc3">AK_Write</a></div><div class="ttdeci">@ AK_Write</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01261">AArch64InstrInfo.cpp:1261</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ae76b12e1408c68a474e6599b0dc0ed8d"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae76b12e1408c68a474e6599b0dc0ed8d">llvm::MachineCombinerPattern::MULADDX_OP1</a></div><div class="ttdeci">@ MULADDX_OP1</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64SysReg_html_ad8a1ac5376cb94ca96e5be8f18ca1000"><div class="ttname"><a href="namespacellvm_1_1AArch64SysReg.html#ad8a1ac5376cb94ca96e5be8f18ca1000">llvm::AArch64SysReg::lookupSysRegByName</a></div><div class="ttdeci">const SysReg * lookupSysRegByName(StringRef)</div></div>
<div class="ttc" id="anamespacellvm_html_a3d42df7595bb7da318e52023ffe95226a8dc2c9caf2dbb5337725c3f2dc11f72f"><div class="ttname"><a href="namespacellvm.html#a3d42df7595bb7da318e52023ffe95226a8dc2c9caf2dbb5337725c3f2dc11f72f">llvm::AArch64FrameOffsetCanUpdate</a></div><div class="ttdeci">@ AArch64FrameOffsetCanUpdate</div><div class="ttdoc">Offset can apply, at least partly.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00440">AArch64InstrInfo.h:440</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a1e330d75233f2f61fdb64b374f55ee04"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a1e330d75233f2f61fdb64b374f55ee04">llvm::AArch64InstrInfo::getMemOperandWithOffsetWidth</a></div><div class="ttdeci">bool getMemOperandWithOffsetWidth(const MachineInstr &amp;MI, const MachineOperand *&amp;BaseOp, int64_t &amp;Offset, bool &amp;OffsetIsScalable, unsigned &amp;Width, const TargetRegisterInfo *TRI) const</div><div class="ttdoc">If OffsetIsScalable is set to 'true', the offset is scaled by vscale.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02616">AArch64InstrInfo.cpp:2616</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_a1112b818386ec01ddfdf3a5d0024eb17"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a></div><div class="ttdeci">return AArch64::GPR64RegClass contains(Reg)</div></div>
<div class="ttc" id="aclassllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdoc">Target - Wrapper for Target specific information.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00149">TargetRegistry.h:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCAsmInfo_html"><div class="ttname"><a href="classllvm_1_1MCAsmInfo.html">llvm::MCAsmInfo</a></div><div class="ttdoc">This class is intended to be used as a base class for asm properties and features specific to the tar...</div><div class="ttdef"><b>Definition:</b> <a href="MCAsmInfo_8h_source.html#l00056">MCAsmInfo.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a8a82683fccdef8a5ef772ef03277aee7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">llvm::MachineOperand::setIsKill</a></div><div class="ttdeci">void setIsKill(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00519">MachineOperand.h:519</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64_html_a6d80df9ebba012ae0264f1a6bfefb887"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a6d80df9ebba012ae0264f1a6bfefb887">llvm::AArch64::InstrFlagIsPTestLike</a></div><div class="ttdeci">static const uint64_t InstrFlagIsPTestLike</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00583">AArch64InstrInfo.h:583</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__with__parent_html_a26708685cc8b94fe3d7092ee080dbb34"><div class="ttname"><a href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">llvm::ilist_node_with_parent::getNextNode</a></div><div class="ttdeci">NodeTy * getNextNode()</div><div class="ttdoc">Get the next node, or nullptr for the list tail.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00289">ilist_node.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; MachineInstr *, 4 &gt;</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_aea02c3c9f298ea50ec11bb7c8201525a"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#aea02c3c9f298ea50ec11bb7c8201525a">emitFrameOffsetAdj</a></div><div class="ttdeci">static void emitFrameOffsetAdj(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, const DebugLoc &amp;DL, unsigned DestReg, unsigned SrcReg, int64_t Offset, unsigned Opc, const TargetInstrInfo *TII, MachineInstr::MIFlag Flag, bool NeedsWinCFI, bool *HasWinCFI, bool EmitCFAOffset, StackOffset CFAOffset, unsigned FrameReg)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04275">AArch64InstrInfo.cpp:4275</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a72d2a54e9757efee4bf7e0cc8bbdf489"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a72d2a54e9757efee4bf7e0cc8bbdf489">llvm::MachineCombinerPattern::FMULADDS_OP2</a></div><div class="ttdeci">@ FMULADDS_OP2</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a30270b20b168cbb68c654812dd91db96"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a30270b20b168cbb68c654812dd91db96">sForm</a></div><div class="ttdeci">static unsigned sForm(MachineInstr &amp;Instr)</div><div class="ttdoc">Get opcode of S version of Instr.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01505">AArch64InstrInfo.cpp:1505</a></div></div>
<div class="ttc" id="astructllvm_1_1UsedNZCV_html_a1574ad01c6812d8d7758ded60242f6d8"><div class="ttname"><a href="structllvm_1_1UsedNZCV.html#a1574ad01c6812d8d7758ded60242f6d8">llvm::UsedNZCV::V</a></div><div class="ttdeci">bool V</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00381">AArch64InstrInfo.h:381</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a0d496cc15e312863869a384532968143"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">llvm::MachineFunction::getMachineMemOperand</a></div><div class="ttdeci">MachineMemOperand * getMachineMemOperand(MachinePointerInfo PtrInfo, MachineMemOperand::Flags f, uint64_t s, Align base_alignment, const AAMDNodes &amp;AAInfo=AAMDNodes(), const MDNode *Ranges=nullptr, SyncScope::ID SSID=SyncScope::System, AtomicOrdering Ordering=AtomicOrdering::NotAtomic, AtomicOrdering FailureOrdering=AtomicOrdering::NotAtomic)</div><div class="ttdoc">getMachineMemOperand - Allocate a new MachineMemOperand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00469">MachineFunction.cpp:469</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a46ab782fa8efa2745e4fe000a1cd3d5a"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a46ab782fa8efa2745e4fe000a1cd3d5a">llvm::TargetInstrInfo::getMachineCombinerPatterns</a></div><div class="ttdeci">virtual bool getMachineCombinerPatterns(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineCombinerPattern &gt; &amp;Patterns, bool DoRegPressureReduce) const</div><div class="ttdoc">Return true when there is potentially a faster code sequence for an instruction chain ending in Root.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00786">TargetInstrInfo.cpp:786</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a90a17ebfc2faf34552e728b4bd90800c"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a90a17ebfc2faf34552e728b4bd90800c">llvm::AArch64InstrInfo::getMemOperandsWithOffsetWidth</a></div><div class="ttdeci">bool getMemOperandsWithOffsetWidth(const MachineInstr &amp;MI, SmallVectorImpl&lt; const MachineOperand * &gt; &amp;BaseOps, int64_t &amp;Offset, bool &amp;OffsetIsScalable, unsigned &amp;Width, const TargetRegisterInfo *TRI) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02582">AArch64InstrInfo.cpp:2582</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a0a20b56d95a9020588d573b6f7340cd5"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a0a20b56d95a9020588d573b6f7340cd5">llvm::MCRegisterInfo::getDwarfRegNum</a></div><div class="ttdeci">int getDwarfRegNum(MCRegister RegNum, bool isEH) const</div><div class="ttdoc">Map a target register to an equivalent dwarf register number.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8cpp_source.html#l00068">MCRegisterInfo.cpp:68</a></div></div>
<div class="ttc" id="aclassllvm_1_1VirtRegMap_html"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html">llvm::VirtRegMap</a></div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00033">VirtRegMap.h:33</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a8a77823ca1d474b22f9b923674749a14"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a8a77823ca1d474b22f9b923674749a14">canCombine</a></div><div class="ttdeci">static bool canCombine(MachineBasicBlock &amp;MBB, MachineOperand &amp;MO, unsigned CombineOpc, unsigned ZeroReg=0, bool CheckZeroReg=false)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04898">AArch64InstrInfo.cpp:4898</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a73146e4a922058dc65540763ca1054d8"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a73146e4a922058dc65540763ca1054d8">llvm::MachineCombinerPattern::FMLAv4i32_indexed_OP2</a></div><div class="ttdeci">@ FMLAv4i32_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a3a91375dbee36ddeeee15b974e39782c"><div class="ttname"><a href="namespacellvm.html#a3a91375dbee36ddeeee15b974e39782c">llvm::getBLRCallOpcode</a></div><div class="ttdeci">unsigned getBLRCallOpcode(const MachineFunction &amp;MF)</div><div class="ttdoc">Return opcode to be used for indirect calls.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08305">AArch64InstrInfo.cpp:8305</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac9a7de5a04920954ac964059cfc428ad"><div class="ttname"><a href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a></div><div class="ttdeci">void erase_if(Container &amp;C, UnaryPredicate P)</div><div class="ttdoc">Provide a container algorithm similar to C++ Library Fundamentals v2's erase_if which is equivalent t...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01998">STLExtras.h:1998</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_af988c2b4f62506108843a0fdc04b43a2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">llvm::MachineRegisterInfo::getUniqueVRegDef</a></div><div class="ttdeci">MachineInstr * getUniqueVRegDef(Register Reg) const</div><div class="ttdoc">getUniqueVRegDef - Return the unique machine instr that defines the specified virtual register or nul...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00409">MachineRegisterInfo.cpp:409</a></div></div>
<div class="ttc" id="aAArch64BaseInfo_8h_html"><div class="ttname"><a href="AArch64BaseInfo_8h.html">AArch64BaseInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4793d022bcb9d48a9d535990179977bf"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4793d022bcb9d48a9d535990179977bf">llvm::MachineCombinerPattern::MULSUBW_OP1</a></div><div class="ttdeci">@ MULSUBW_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a482f66b2913dcfcc84a4cfeafc83e304"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a482f66b2913dcfcc84a4cfeafc83e304">llvm::AArch64InstrInfo::isPreLdSt</a></div><div class="ttdeci">static bool isPreLdSt(const MachineInstr &amp;MI)</div><div class="ttdoc">Returns whether the instruction is a pre-indexed load/store.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03189">AArch64InstrInfo.cpp:3189</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a2cd3e23b97b495a98c0b723ab18e4d96"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a2cd3e23b97b495a98c0b723ab18e4d96">llvm::AArch64_AM::processLogicalImmediate</a></div><div class="ttdeci">static bool processLogicalImmediate(uint64_t Imm, unsigned RegSize, uint64_t &amp;Encoding)</div><div class="ttdoc">processLogicalImmediate - Determine if an immediate value can be encoded as the immediate operand of ...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00214">AArch64AddressingModes.h:214</a></div></div>
<div class="ttc" id="aMCInstBuilder_8h_html"><div class="ttname"><a href="MCInstBuilder_8h.html">MCInstBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_aea2efb72b66f0b71d52898a155f20ab0"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#aea2efb72b66f0b71d52898a155f20ab0">llvm::details::FixedOrScalableQuantity&lt; TypeSize, uint64_t &gt;::Scalable</a></div><div class="ttdeci">bool Scalable</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00097">TypeSize.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a741b5105cca6e98538c79acf275ca733"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a741b5105cca6e98538c79acf275ca733">llvm::MachineRegisterInfo::use_instr_nodbg_begin</a></div><div class="ttdeci">use_instr_nodbg_iterator use_instr_nodbg_begin(Register RegNo) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00557">MachineRegisterInfo.h:557</a></div></div>
<div class="ttc" id="aMachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegUnits_html_a3996f7c3774880bfe32422602fe34f9c"><div class="ttname"><a href="classllvm_1_1LiveRegUnits.html#a3996f7c3774880bfe32422602fe34f9c">llvm::LiveRegUnits::available</a></div><div class="ttdeci">bool available(MCPhysReg Reg) const</div><div class="ttdoc">Returns true if no part of physical register Reg is live.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRegUnits_8h_source.html#l00116">LiveRegUnits.h:116</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a747c64f3b74a759daf45120930f0feb6"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a747c64f3b74a759daf45120930f0feb6">llvm::MachineCombinerPattern::MULSUBv16i8_OP2</a></div><div class="ttdeci">@ MULSUBv16i8_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a9e7195b691e065ac34568c1b3340a3f8"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a9e7195b691e065ac34568c1b3340a3f8">llvm::AArch64InstrInfo::getSerializableDirectMachineOperandTargetFlags</a></div><div class="ttdeci">ArrayRef&lt; std::pair&lt; unsigned, const char * &gt; &gt; getSerializableDirectMachineOperandTargetFlags() const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l06976">AArch64InstrInfo.cpp:6976</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a87849514193302b75f50a8092f94b98a"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">llvm::TargetSubtargetInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - If register information is available, return it.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00127">TargetSubtargetInfo.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a4ac8a83c3f27cf2acb3928c64c07f1db"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a4ac8a83c3f27cf2acb3928c64c07f1db">llvm::AArch64II::MO_PREL</a></div><div class="ttdeci">@ MO_PREL</div><div class="ttdoc">MO_PREL - Indicates that the bits of the symbol operand represented by MO_G0 etc are PC relative.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00766">AArch64BaseInfo.h:766</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a450bf3e112ffa4c43568d1d9193d40a1"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a450bf3e112ffa4c43568d1d9193d40a1">llvm::MachineCombinerPattern::FMLSv2f64_OP2</a></div><div class="ttdeci">@ FMLSv2f64_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a2feaa1c69335c6b9028076cd68c7a5f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">llvm::MachineOperand::setImm</a></div><div class="ttdeci">void setImm(int64_t immVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00684">MachineOperand.h:684</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a8ce9439c5f364d8b85930e0ee689bbb8"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a8ce9439c5f364d8b85930e0ee689bbb8">llvm::MCRegisterInfo::getEncodingValue</a></div><div class="ttdeci">uint16_t getEncodingValue(MCRegister RegNo) const</div><div class="ttdoc">Returns the encoding for RegNo.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00553">MCRegisterInfo.h:553</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4ba13e72e96e35990ba222a501f1cfbe"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4ba13e72e96e35990ba222a501f1cfbe">llvm::MachineCombinerPattern::FMLAv2i32_indexed_OP2</a></div><div class="ttdeci">@ FMLAv2i32_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a59cc126201a45868166b5ddad3206b7f"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a59cc126201a45868166b5ddad3206b7f">llvm::MachineCombinerPattern::FMLSv2f64_OP1</a></div><div class="ttdeci">@ FMLSv2f64_OP1</div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00468">README.txt:468</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64Subtarget_html_a39505e1fb9837807a81c02bd1eef7418"><div class="ttname"><a href="classllvm_1_1AArch64Subtarget.html#a39505e1fb9837807a81c02bd1eef7418">llvm::AArch64Subtarget::getInstrInfo</a></div><div class="ttdeci">const AArch64InstrInfo * getInstrInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Subtarget_8h_source.html#l00181">AArch64Subtarget.h:181</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a7f3b8fc2531f7a300c494ef77a630b31"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a7f3b8fc2531f7a300c494ef77a630b31">llvm::MachineCombinerPattern::FMLSv4i32_indexed_OP1</a></div><div class="ttdeci">@ FMLSv4i32_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_1_1outliner_html_a0765e098fe7aae0f01b60ec890ac1b52"><div class="ttname"><a href="namespacellvm_1_1outliner.html#a0765e098fe7aae0f01b60ec890ac1b52">llvm::outliner::InstrType</a></div><div class="ttdeci">InstrType</div><div class="ttdoc">Represents how an instruction should be mapped by the outliner.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00033">MachineOutliner.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a4c5be0dce0caceff8b457e09b8a998fc"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a4c5be0dce0caceff8b457e09b8a998fc">llvm::AArch64InstrInfo::insertOutlinedCall</a></div><div class="ttdeci">MachineBasicBlock::iterator insertOutlinedCall(Module &amp;M, MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator &amp;It, MachineFunction &amp;MF, outliner::Candidate &amp;C) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08065">AArch64InstrInfo.cpp:8065</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a225bf56c837056189e19a6d525e9a93a"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a225bf56c837056189e19a6d525e9a93a">llvm::AArch64InstrInfo::getElementSizeForOpcode</a></div><div class="ttdeci">uint64_t getElementSizeForOpcode(unsigned Opc) const</div><div class="ttdoc">Returns the vector element size (B, H, S or D) of an SVE opcode.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08288">AArch64InstrInfo.cpp:8288</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">llvm::tgtok::Bits</a></div><div class="ttdeci">@ Bits</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdoc">A description of a memory reference used in the backend.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00127">MachineMemOperand.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a23fc03605ab508eb40a5fb968a78e139"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a23fc03605ab508eb40a5fb968a78e139">llvm::AArch64InstrInfo::areMemAccessesTriviallyDisjoint</a></div><div class="ttdeci">bool areMemAccessesTriviallyDisjoint(const MachineInstr &amp;MIa, const MachineInstr &amp;MIb) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01045">AArch64InstrInfo.cpp:1045</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_abb0a82cf9ab3cf0c256918c17512f987"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987">FMAInstKind</a></div><div class="ttdeci">FMAInstKind</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05567">AArch64InstrInfo.cpp:5567</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0e6336a1dd23986cd15023ea0aae5269"><div class="ttname"><a href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">llvm::isCondBranchOpcode</a></div><div class="ttdeci">static bool isCondBranchOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00464">AArch64InstrInfo.h:464</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a117c27122f686eca6691089a9aecbc21"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a117c27122f686eca6691089a9aecbc21">llvm::AArch64InstrInfo::isCopyInstrImpl</a></div><div class="ttdeci">std::optional&lt; DestSourcePair &gt; isCopyInstrImpl(const MachineInstr &amp;MI) const override</div><div class="ttdoc">If the specific machine instruction is an instruction that moves/copies value from one register to an...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08147">AArch64InstrInfo.cpp:8147</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ab05719438bdf4b46871e5ecd9730caeb"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab05719438bdf4b46871e5ecd9730caeb">llvm::MachineInstr::getMF</a></div><div class="ttdeci">const MachineFunction * getMF() const</div><div class="ttdoc">Return the function that contains the basic block that this instruction belongs to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00691">MachineInstr.cpp:691</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbe69ef233b07b4362366dcfc380abca"><div class="ttname"><a href="namespacellvm.html#acbe69ef233b07b4362366dcfc380abca">llvm::rewriteAArch64FrameIndex</a></div><div class="ttdeci">bool rewriteAArch64FrameIndex(MachineInstr &amp;MI, unsigned FrameRegIdx, unsigned FrameReg, StackOffset &amp;Offset, const AArch64InstrInfo *TII)</div><div class="ttdoc">rewriteAArch64FrameIndex - Rewrite MI to access 'Offset' bytes from the FP.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04747">AArch64InstrInfo.cpp:4747</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a85248a43678ef4a873ca8783c0f83a60"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a85248a43678ef4a873ca8783c0f83a60">llvm::MachineCombinerPattern::FMLSv2f32_OP2</a></div><div class="ttdeci">@ FMLSv2f32_OP2</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987aa66d3974b6f2e3a542f896da144cd297">FMAInstKind::Accumulator</a></div><div class="ttdeci">@ Accumulator</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a918c01f70ad534a740d3dc2ad3af1a3f"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a918c01f70ad534a740d3dc2ad3af1a3f">llvm::AArch64InstrInfo::isFpOrNEON</a></div><div class="ttdeci">static bool isFpOrNEON(const MachineInstr &amp;MI)</div><div class="ttdoc">Returns whether the instruction is FP or NEON.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03250">AArch64InstrInfo.cpp:3250</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64_html_a2a41a022b24374a579418d7d2476e6daa86e49744f5bdd2e0dde6362eb361c36f"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a2a41a022b24374a579418d7d2476e6daa86e49744f5bdd2e0dde6362eb361c36f">llvm::AArch64::ElementSizeB</a></div><div class="ttdeci">@ ElementSizeB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00555">AArch64InstrInfo.h:555</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a317497ce5235c135f0b4d4ab463f1847a4674dbc301d67e19366ba51f76b75720"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847a4674dbc301d67e19366ba51f76b75720">AK_All</a></div><div class="ttdeci">@ AK_All</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01261">AArch64InstrInfo.cpp:1261</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_aaf6381f136d6cb9f13adbd90b1781923"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#aaf6381f136d6cb9f13adbd90b1781923">ret</a></div><div class="ttdeci">to esp esp setne al movzbw ax esp setg cl movzbw cx cmove cx cl jne LBB1_2 esp ret(also really horrible code on ppc). This is due to the expand code for 64-bit compares. GCC produces multiple branches</div></div>
<div class="ttc" id="astructllvm_1_1ExtAddrMode_html_a243a500ecf43f8be3648cd935b943165"><div class="ttname"><a href="structllvm_1_1ExtAddrMode.html#a243a500ecf43f8be3648cd935b943165">llvm::ExtAddrMode::ScaledReg</a></div><div class="ttdeci">Register ScaledReg</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00089">TargetInstrInfo.h:89</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ac897548bafa7b95eb321258f794eb2ac"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac897548bafa7b95eb321258f794eb2ac">llvm::MachineCombinerPattern::MULADDv8i16_OP1</a></div><div class="ttdeci">@ MULADDv8i16_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a1912d4fbc40c61a12b1f770ad54dfd74"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1912d4fbc40c61a12b1f770ad54dfd74">llvm::MachineInstr::isCopy</a></div><div class="ttdeci">bool isCopy() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01344">MachineInstr.h:1344</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2635a71f0901740dd5519d3ec9a3a202"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2635a71f0901740dd5519d3ec9a3a202">llvm::MachineCombinerPattern::MULSUBv2i32_indexed_OP1</a></div><div class="ttdeci">@ MULSUBv2i32_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ac5a30549fe8425855610e29203ca1c9a"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac5a30549fe8425855610e29203ca1c9a">llvm::MachineCombinerPattern::FMLSv2f32_OP1</a></div><div class="ttdeci">@ FMLSv2f32_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_abbf5784629864b659e702b4861bc3b1e"><div class="ttname"><a href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">llvm::isUncondBranchOpcode</a></div><div class="ttdeci">static bool isUncondBranchOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00462">AArch64InstrInfo.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1StatepointOpers_html_a0eeee60ca2931edc9e1f653fbc66373c"><div class="ttname"><a href="classllvm_1_1StatepointOpers.html#a0eeee60ca2931edc9e1f653fbc66373c">llvm::StatepointOpers::getNumPatchBytes</a></div><div class="ttdeci">uint32_t getNumPatchBytes() const</div><div class="ttdoc">Return the number of patchable bytes the given statepoint should emit.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00207">StackMaps.h:207</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab43a44a5e9f8e54e889661f2518f4a4c"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab43a44a5e9f8e54e889661f2518f4a4c">llvm::MachineCombinerPattern::MULADDv8i8_OP1</a></div><div class="ttdeci">@ MULADDv8i8_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a88faec6f601613c5f899517ef02db99c"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a88faec6f601613c5f899517ef02db99c">llvm::MachineCombinerPattern::SUBADD_OP2</a></div><div class="ttdeci">@ SUBADD_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="astructllvm_1_1AArch64SysReg_1_1SysReg_html"><div class="ttname"><a href="structllvm_1_1AArch64SysReg_1_1SysReg.html">llvm::AArch64SysReg::SysReg</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00653">AArch64BaseInfo.h:653</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d"><div class="ttname"><a href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">llvm::DiagnosticPredicateTy::Match</a></div><div class="ttdeci">@ Match</div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ace3ed0412f841777b7de55d47883890e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ace3ed0412f841777b7de55d47883890e">llvm::MachineBasicBlock::back</a></div><div class="ttdeci">MachineInstr &amp; back()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00289">MachineBasicBlock.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInst_html"><div class="ttname"><a href="classllvm_1_1MCInst.html">llvm::MCInst</a></div><div class="ttdoc">Instances of this class represent a single low-level machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00184">MCInst.h:184</a></div></div>
<div class="ttc" id="astructllvm_1_1outliner_1_1OutlinedFunction_html"><div class="ttname"><a href="structllvm_1_1outliner_1_1OutlinedFunction.html">llvm::outliner::OutlinedFunction</a></div><div class="ttdoc">The information necessary to create an outlined function for some class of candidate.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00214">MachineOutliner.h:214</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a989da0fe668d5de76ef2ccd3c04a8d35"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a989da0fe668d5de76ef2ccd3c04a8d35">llvm::AArch64InstrInfo::copyGPRRegTuple</a></div><div class="ttdeci">void copyGPRRegTuple(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, DebugLoc DL, unsigned DestReg, unsigned SrcReg, bool KillSrc, unsigned Opcode, unsigned ZeroReg, llvm::ArrayRef&lt; unsigned &gt; Indices) const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03450">AArch64InstrInfo.cpp:3450</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a6bee6e7bc0ab5c00b5331eddb64e7ac4"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a6bee6e7bc0ab5c00b5331eddb64e7ac4">scaleOffset</a></div><div class="ttdeci">static bool scaleOffset(unsigned Opc, int64_t &amp;Offset)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03275">AArch64InstrInfo.cpp:3275</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad7213433bd60dc33020246384dc18b9b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">llvm::MachineOperand::isFI</a></div><div class="ttdeci">bool isFI() const</div><div class="ttdoc">isFI - Tests if this is a MO_FrameIndex operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00339">MachineOperand.h:339</a></div></div>
<div class="ttc" id="astructllvm_1_1UsedNZCV_html"><div class="ttname"><a href="structllvm_1_1UsedNZCV.html">llvm::UsedNZCV</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00377">AArch64InstrInfo.h:377</a></div></div>
<div class="ttc" id="aclassllvm_1_1PatchPointOpers_html"><div class="ttname"><a href="classllvm_1_1PatchPointOpers.html">llvm::PatchPointOpers</a></div><div class="ttdoc">MI-level patchpoint operands.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00076">StackMaps.h:76</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ab0b0a572164f8fccd5474cb6babed129a4f2a846b62b36aa105ec3ddfd151a482"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4f2a846b62b36aa105ec3ddfd151a482">HasCalls</a></div><div class="ttdeci">@ HasCalls</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07102">AArch64InstrInfo.cpp:7102</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a59c025ee51897a76f97fee4d314b8c54"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a59c025ee51897a76f97fee4d314b8c54">llvm::MachineCombinerPattern::FMLSv4f16_OP1</a></div><div class="ttdeci">@ FMLSv4f16_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64FunctionInfo_html_af5fb82333a878b0be74f7a2c9c42ea02"><div class="ttname"><a href="classllvm_1_1AArch64FunctionInfo.html#af5fb82333a878b0be74f7a2c9c42ea02">llvm::AArch64FunctionInfo::getLOHRelated</a></div><div class="ttdeci">const SetOfInstructions &amp; getLOHRelated() const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64MachineFunctionInfo_8h_source.html#l00374">AArch64MachineFunctionInfo.h:374</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a9b0a622dbae74cb8a4b9b87a8b559b25"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a9b0a622dbae74cb8a4b9b87a8b559b25">llvm::AArch64InstrInfo::buildOutlinedFrame</a></div><div class="ttdeci">void buildOutlinedFrame(MachineBasicBlock &amp;MBB, MachineFunction &amp;MF, const outliner::OutlinedFunction &amp;OF) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07927">AArch64InstrInfo.cpp:7927</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a80c5c5734f45e1c6d5949b48c88633a4"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a80c5c5734f45e1c6d5949b48c88633a4">llvm::MachineCombinerPattern::MULADDv8i8_OP2</a></div><div class="ttdeci">@ MULADDv8i8_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1ARCISD_html_a383dfc381bd557f340886bb106e3d92ea37102c3bc1feaf214eb32e66a1ffc007"><div class="ttname"><a href="namespacellvm_1_1ARCISD.html#a383dfc381bd557f340886bb106e3d92ea37102c3bc1feaf214eb32e66a1ffc007">llvm::ARCISD::BL</a></div><div class="ttdeci">@ BL</div><div class="ttdef"><b>Definition:</b> <a href="ARCISelLowering_8h_source.html#l00034">ARCISelLowering.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html_a06e32f822cc82701a5652331bccab467"><div class="ttname"><a href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">llvm::TypeSize::Fixed</a></div><div class="ttdeci">static constexpr TypeSize Fixed(ScalarTy ExactSize)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00331">TypeSize.h:331</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a07b4e7927d6c11fbc390d55161008bec"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a07b4e7927d6c11fbc390d55161008bec">llvm::MachineCombinerPattern::FMLAv1i32_indexed_OP1</a></div><div class="ttdeci">@ FMLAv1i32_indexed_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a0cc2805b6b89a94c5b5983f95367168ca2f53c1c34a1df353b3853e16e0c1967f"><div class="ttname"><a href="namespacellvm_1_1codeview.html#a0cc2805b6b89a94c5b5983f95367168ca2f53c1c34a1df353b3853e16e0c1967f">llvm::codeview::ProcSymFlags::IsNoReturn</a></div><div class="ttdeci">@ IsNoReturn</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ae7e70ffe0ed4582ac605800a85891c4c"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae7e70ffe0ed4582ac605800a85891c4c">llvm::MachineCombinerPattern::FMULv4i32_indexed_OP1</a></div><div class="ttdeci">@ FMULv4i32_indexed_OP1</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_aef21a685c4183683271cbaa741991f12"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#aef21a685c4183683271cbaa741991f12">canFoldIntoCSel</a></div><div class="ttdeci">static unsigned canFoldIntoCSel(const MachineRegisterInfo &amp;MRI, unsigned VReg, unsigned *NewVReg=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00536">AArch64InstrInfo.cpp:536</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCCFIInstruction_html_a03e76dd55b65ca0af930c3150413e148"><div class="ttname"><a href="classllvm_1_1MCCFIInstruction.html#a03e76dd55b65ca0af930c3150413e148">llvm::MCCFIInstruction::cfiDefCfaOffset</a></div><div class="ttdeci">static MCCFIInstruction cfiDefCfaOffset(MCSymbol *L, int Offset)</div><div class="ttdoc">.cfi_def_cfa_offset modifies a rule for computing CFA.</div><div class="ttdef"><b>Definition:</b> <a href="MCDwarf_8h_source.html#l00547">MCDwarf.h:547</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3a1f79eb5e89f41ad5a3d8e9b2a367a"><div class="ttname"><a href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">llvm::getUndefRegState</a></div><div class="ttdeci">unsigned getUndefRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00537">MachineInstrBuilder.h:537</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aabc3917d917c6247778c88107945d13b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">llvm::MachineInstr::hasOrderedMemoryRef</a></div><div class="ttdeci">bool hasOrderedMemoryRef() const</div><div class="ttdoc">Return true if this instruction may have an ordered or volatile memory reference, or if the informati...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01384">MachineInstr.cpp:1384</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71add46ede0892fdd429e940eb97c1e6e55"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71add46ede0892fdd429e940eb97c1e6e55">llvm::AArch64II::MO_TLS</a></div><div class="ttdeci">@ MO_TLS</div><div class="ttdoc">MO_TLS - Indicates that the operand being accessed is some kind of thread-local symbol.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00753">AArch64BaseInfo.h:753</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aafacf84de1cb994a92dc045f4aa1d518a4e4e6764dc61dbf0e8f330644880480f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a4e4e6764dc61dbf0e8f330644880480f">llvm::MachineInstr::FrameDestroy</a></div><div class="ttdeci">@ FrameDestroy</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00086">MachineInstr.h:86</a></div></div>
<div class="ttc" id="astructllvm_1_1ExtAddrMode_html"><div class="ttname"><a href="structllvm_1_1ExtAddrMode.html">llvm::ExtAddrMode</a></div><div class="ttdoc">Used to describe addressing mode similar to ExtAddrMode in CodeGenPrepare.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00087">TargetInstrInfo.h:87</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa5cad2c16f0f98b21059d400a842e007"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa5cad2c16f0f98b21059d400a842e007">llvm::MachineCombinerPattern::FMLAv8f16_OP2</a></div><div class="ttdeci">@ FMLAv8f16_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">llvm::ISD::INLINEASM</a></div><div class="ttdeci">@ INLINEASM</div><div class="ttdoc">INLINEASM - Represents an inline asm block.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01024">ISDOpcodes.h:1024</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a7ef4d3003047043a3de118adbb0570fd"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a></div><div class="ttdeci">=0.0 ? 0.0 :(a &gt; 0.0 ? 1.0 :-1.0) a</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00489">README.txt:489</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a13802c3052a671d9a5e8e877e2cd3a05"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a13802c3052a671d9a5e8e877e2cd3a05">llvm::MachineCombinerPattern::FMLAv2f64_OP2</a></div><div class="ttdeci">@ FMLAv2f64_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ad26bff839257f220557ce812b2159c72"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ad26bff839257f220557ce812b2159c72">llvm::MachineBasicBlock::erase</a></div><div class="ttdeci">instr_iterator erase(instr_iterator I)</div><div class="ttdoc">Remove an instruction from the instruction list and delete it.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01323">MachineBasicBlock.cpp:1323</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a218bf4a49a8808ebb854ec9b89907904"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a218bf4a49a8808ebb854ec9b89907904">llvm::MachineRegisterInfo::tracksLiveness</a></div><div class="ttdeci">bool tracksLiveness() const</div><div class="ttdoc">tracksLiveness - Returns true when tracking register liveness accurately.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00209">MachineRegisterInfo.h:209</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a89fae3db628b477b713990d7a58732ea"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a89fae3db628b477b713990d7a58732ea">isCombineInstrCandidateFP</a></div><div class="ttdeci">static bool isCombineInstrCandidateFP(const MachineInstr &amp;Inst)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04859">AArch64InstrInfo.cpp:4859</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a">llvm::AArch64CC::LT</a></div><div class="ttdeci">@ LT</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00266">AArch64BaseInfo.h:266</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a8427539a44774ff5060ae67cd1d42e6e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8427539a44774ff5060ae67cd1d42e6e">llvm::MachineCombinerPattern::MULSUBXI_OP1</a></div><div class="ttdeci">@ MULSUBXI_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a23541701e4107566402d268babc0f7a0"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a23541701e4107566402d268babc0f7a0">llvm::MachineCombinerPattern::FMLAv4f16_OP2</a></div><div class="ttdeci">@ FMLAv4f16_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ae74328d517bf2a463bb93eab364ba33f"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae74328d517bf2a463bb93eab364ba33f">llvm::MachineCombinerPattern::MULSUBv2i32_OP2</a></div><div class="ttdeci">@ MULSUBv2i32_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a3d42df7595bb7da318e52023ffe95226afb5cb35207b915f8db3811db32920094"><div class="ttname"><a href="namespacellvm.html#a3d42df7595bb7da318e52023ffe95226afb5cb35207b915f8db3811db32920094">llvm::AArch64FrameOffsetCannotUpdate</a></div><div class="ttdeci">@ AArch64FrameOffsetCannotUpdate</div><div class="ttdoc">Offset cannot apply.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00438">AArch64InstrInfo.h:438</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2c64fa121b5991687394790a52ecf299"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2c64fa121b5991687394790a52ecf299">llvm::MachineCombinerPattern::FMULADDH_OP1</a></div><div class="ttdeci">@ FMULADDH_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ad2f4d922d52fe33423474951f704b91b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">llvm::MachineInstr::getFlags</a></div><div class="ttdeci">uint16_t getFlags() const</div><div class="ttdoc">Return the MI flags bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00352">MachineInstr.h:352</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a5c41685529bfa4394f6b8f15207809c1"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a5c41685529bfa4394f6b8f15207809c1">llvm::AArch64InstrInfo::isPairableLdStInst</a></div><div class="ttdeci">static bool isPairableLdStInst(const MachineInstr &amp;MI)</div><div class="ttdoc">Return true if pairing the given load or store may be paired with another.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02379">AArch64InstrInfo.cpp:2379</a></div></div>
<div class="ttc" id="anamespacellvm_html_a73257f51950d9ea50955e3fb9c724a25"><div class="ttname"><a href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">llvm::get</a></div><div class="ttdeci">decltype(auto) get(const PointerIntPair&lt; PointerTy, IntBits, IntType, PtrTraits, Info &gt; &amp;Pair)</div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00234">PointerIntPair.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4046212ebc647b17e811837ae4ea3afd"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">llvm::MachineOperand::isKill</a></div><div class="ttdeci">bool isKill() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00399">MachineOperand.h:399</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a85eb6ee9f537a283b2ba9964c54ab2f2"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">llvm::MachineInstrBuilder::addDef</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addDef(Register RegNo, unsigned Flags=0, unsigned SubReg=0) const</div><div class="ttdoc">Add a virtual register definition operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00116">MachineInstrBuilder.h:116</a></div></div>
<div class="ttc" id="aclassAArch64GenInstrInfo_html"><div class="ttname"><a href="classAArch64GenInstrInfo.html">AArch64GenInstrInfo</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a13bd3dae94013a7bf38afc9391c8fa8f"><div class="ttname"><a href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">llvm::Register::isPhysical</a></div><div class="ttdeci">bool isPhysical() const</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00097">Register.h:97</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8d6c4616e2c2cc90d58377868eda6102"><div class="ttname"><a href="namespacellvm.html#a8d6c4616e2c2cc90d58377868eda6102">llvm::examineCFlagsUse</a></div><div class="ttdeci">std::optional&lt; UsedNZCV &gt; examineCFlagsUse(MachineInstr &amp;MI, MachineInstr &amp;CmpInstr, const TargetRegisterInfo &amp;TRI, SmallVectorImpl&lt; MachineInstr * &gt; *CCUseInstrs=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01650">AArch64InstrInfo.cpp:1650</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa5e4d7acf58e87826a15b94d37144f2b"><div class="ttname"><a href="namespacellvm.html#aa5e4d7acf58e87826a15b94d37144f2b">llvm::getDefRegState</a></div><div class="ttdeci">unsigned getDefRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00525">MachineInstrBuilder.h:525</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_ac473d40b6b8803f2924e0c6751f51bf3"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#ac473d40b6b8803f2924e0c6751f51bf3">llvm::AArch64InstrInfo::getLoadStoreImmIdx</a></div><div class="ttdeci">static unsigned getLoadStoreImmIdx(unsigned Opc)</div><div class="ttdoc">Returns the index for the immediate for a given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02247">AArch64InstrInfo.cpp:2247</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a4847fec83cba37133072e8930de7eb0e"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a4847fec83cba37133072e8930de7eb0e">getBranchDisplacementBits</a></div><div class="ttdeci">static unsigned getBranchDisplacementBits(unsigned Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00182">AArch64InstrInfo.cpp:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_a60b6974966381f08079722f2258a0039"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">llvm::TargetRegisterClass::contains</a></div><div class="ttdeci">bool contains(Register Reg) const</div><div class="ttdoc">Return true if the specified register is included in this register class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00096">TargetRegisterInfo.h:96</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegUnits_html_ab4fff7ad3de452b1b1d20de5afd986a3"><div class="ttname"><a href="classllvm_1_1LiveRegUnits.html#ab4fff7ad3de452b1b1d20de5afd986a3">llvm::LiveRegUnits::addLiveOuts</a></div><div class="ttdeci">void addLiveOuts(const MachineBasicBlock &amp;MBB)</div><div class="ttdoc">Adds registers living out of block MBB.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRegUnits_8cpp_source.html#l00138">LiveRegUnits.cpp:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a6d9cfbe4ea54a3ce9d5308efab7200b9"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a6d9cfbe4ea54a3ce9d5308efab7200b9">llvm::AArch64II::MO_G0</a></div><div class="ttdeci">@ MO_G0</div><div class="ttdoc">MO_G0 - A symbol operand with this flag (granule 0) represents the bits 0-15 of a 64-bit address,...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00727">AArch64BaseInfo.h:727</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a38f8066c29c8c7afd3906d08e8407282"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a38f8066c29c8c7afd3906d08e8407282">llvm::AArch64InstrInfo::isWhileOpcode</a></div><div class="ttdeci">bool isWhileOpcode(unsigned Opc) const</div><div class="ttdoc">Returns true if the opcode is for an SVE WHILE## instruction.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08296">AArch64InstrInfo.cpp:8296</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05afde7d706260ac691ef32056402b10797"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05afde7d706260ac691ef32056402b10797">llvm::MachineCombinerPattern::FMLSv4i32_indexed_OP2</a></div><div class="ttdeci">@ FMLSv4i32_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a4f42ed6fd2569fa43f03814a17f9d94a"><div class="ttname"><a href="namespacellvm.html#a4f42ed6fd2569fa43f03814a17f9d94a">llvm::Log2_64</a></div><div class="ttdeci">unsigned Log2_64(uint64_t Value)</div><div class="ttdoc">Return the floor log base 2 of the specified value, -1 if the value is zero.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00388">MathExtras.h:388</a></div></div>
<div class="ttc" id="anamespacellvm_html_adcbbc11398a037540fd4fbab96e6f6a4"><div class="ttname"><a href="namespacellvm.html#adcbbc11398a037540fd4fbab96e6f6a4">llvm::MOStridedAccess</a></div><div class="ttdeci">static const MachineMemOperand::Flags MOStridedAccess</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00030">AArch64InstrInfo.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_ad675c21464eb38c355e73c7f72f8160b"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#ad675c21464eb38c355e73c7f72f8160b">llvm::MCInstrDesc::getSize</a></div><div class="ttdeci">unsigned getSize() const</div><div class="ttdoc">Return the number of bytes in the encoding of this instruction, or zero if the encoding size cannot b...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00600">MCInstrDesc.h:600</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdoc">TargetInstrInfo - Interface to description of machine instruction set.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00098">TargetInstrInfo.h:98</a></div></div>
<div class="ttc" id="aGlobalValue_8h_html"><div class="ttname"><a href="GlobalValue_8h.html">GlobalValue.h</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8h_html"><div class="ttname"><a href="AArch64InstrInfo_8h.html">AArch64InstrInfo.h</a></div></div>
<div class="ttc" id="aTarget_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">llvm::AArch64CC::VC</a></div><div class="ttdeci">@ VC</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00262">AArch64BaseInfo.h:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_af8571e8dfb010fd8ae76cc4f87aafaac"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">llvm::MachineInstrBuilder::addMBB</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMBB(MachineBasicBlock *MBB, unsigned TargetFlags=0) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00146">MachineInstrBuilder.h:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackMapOpers_html_a4330cae153bbaadcf79bb4917a6c3924"><div class="ttname"><a href="classllvm_1_1StackMapOpers.html#a4330cae153bbaadcf79bb4917a6c3924">llvm::StackMapOpers::getNumPatchBytes</a></div><div class="ttdeci">uint32_t getNumPatchBytes() const</div><div class="ttdoc">Return the number of patchable bytes the given stackmap should emit.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00050">StackMaps.h:50</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_aa863e9b6fdfad53c49593d81d89f6cec"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#aa863e9b6fdfad53c49593d81d89f6cec">outliningCandidatesV8_3OpsConsensus</a></div><div class="ttdeci">static bool outliningCandidatesV8_3OpsConsensus(const outliner::Candidate &amp;a, const outliner::Candidate &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07145">AArch64InstrInfo.cpp:7145</a></div></div>
<div class="ttc" id="aMipsDisassembler_8cpp_html_a15b5b86944f6df97d2c3659d77f51f91"><div class="ttname"><a href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a></div><div class="ttdeci">static unsigned getReg(const MCDisassembler *D, unsigned RC, unsigned RegNo)</div><div class="ttdef"><b>Definition:</b> <a href="MipsDisassembler_8cpp_source.html#l00521">MipsDisassembler.cpp:521</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab09679b541a6ba1219b3602569847364"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">llvm::MachineOperand::CreateImm</a></div><div class="ttdeci">static MachineOperand CreateImm(int64_t Val)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00815">MachineOperand.h:815</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html">llvm::AArch64InstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00035">AArch64InstrInfo.h:35</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a77dea00ee37a964ad5edf6072fb35071"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a77dea00ee37a964ad5edf6072fb35071">UpdateOperandRegClass</a></div><div class="ttdeci">static bool UpdateOperandRegClass(MachineInstr &amp;Instr)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01175">AArch64InstrInfo.cpp:1175</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64ISD_html_a35ad1b8db0dfad0b69c9185c5fe24e19a0767ec4421b5ce84bb44f55969d6bea8"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19a0767ec4421b5ce84bb44f55969d6bea8">llvm::AArch64ISD::MRS</a></div><div class="ttdeci">@ MRS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00305">AArch64ISelLowering.h:305</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac21006e81ffbbc79e8e51e44f7878053"><div class="ttname"><a href="namespacellvm.html#ac21006e81ffbbc79e8e51e44f7878053">llvm::encodeSLEB128</a></div><div class="ttdeci">unsigned encodeSLEB128(int64_t Value, raw_ostream &amp;OS, unsigned PadTo=0)</div><div class="ttdoc">Utility function to encode a SLEB128 value to an output stream.</div><div class="ttdef"><b>Definition:</b> <a href="LEB128_8h_source.html#l00023">LEB128.h:23</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a38b28a85f818b49d8806c150b8a5b4f7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00556">MachineOperand.h:556</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdoc">getInfo - Keep track of various per-function pieces of information for backends that would like to do...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00770">MachineFunction.h:770</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a51010efdaa1d2ca750d10de8c350b9ec"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a51010efdaa1d2ca750d10de8c350b9ec">llvm::MachineCombinerPattern::FMLSv4f32_OP2</a></div><div class="ttdeci">@ FMLSv4f32_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aec1078d911aabd272954b9125eaee6df"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aec1078d911aabd272954b9125eaee6df">llvm::ISD::CATCHRET</a></div><div class="ttdeci">@ CATCHRET</div><div class="ttdoc">CATCHRET - Represents a return from a catch block funclet.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01043">ISDOpcodes.h:1043</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ae15079d2e661de449accda868512f3f2"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae15079d2e661de449accda868512f3f2">llvm::MachineCombinerPattern::FMLAv8i16_indexed_OP2</a></div><div class="ttdeci">@ FMLAv8i16_indexed_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64Subtarget_html_a59137b132e07516767761d5decf7e252"><div class="ttname"><a href="classllvm_1_1AArch64Subtarget.html#a59137b132e07516767761d5decf7e252">llvm::AArch64Subtarget::isTargetILP32</a></div><div class="ttdeci">bool isTargetILP32() const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Subtarget_8h_source.html#l00273">AArch64Subtarget.h:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_ab46fe6f7eb24fe0268c273a28452ecba"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#ab46fe6f7eb24fe0268c273a28452ecba">llvm::AArch64InstrInfo::isSchedulingBoundary</a></div><div class="ttdeci">bool isSchedulingBoundary(const MachineInstr &amp;MI, const MachineBasicBlock *MBB, const MachineFunction &amp;MF) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01083">AArch64InstrInfo.cpp:1083</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a3f7a45f6e10668a5f702e26bca80d18e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00526">MachineInstr.h:526</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">llvm::IRSimilarity::Illegal</a></div><div class="ttdeci">@ Illegal</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a6189fc353fb1b17771ca2149885bd99e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a6189fc353fb1b17771ca2149885bd99e">llvm::MachineCombinerPattern::MULADDv2i32_OP2</a></div><div class="ttdeci">@ MULADDv2i32_OP2</div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a001d31fcea92be51d2999826b806606f"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">llvm::MachineOperand::setSubReg</a></div><div class="ttdeci">void setSubReg(unsigned subReg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00490">MachineOperand.h:490</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_acb53158b2fba2683ec41c5873eb16a2f"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#acb53158b2fba2683ec41c5873eb16a2f">llvm::AArch64InstrInfo::isGPRZero</a></div><div class="ttdeci">static bool isGPRZero(const MachineInstr &amp;MI)</div><div class="ttdoc">Does this instruction set its full destination register to zero?</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02041">AArch64InstrInfo.cpp:2041</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ab0b0a572164f8fccd5474cb6babed129ac7d6a08b9442af3460a55305a35fd823"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129ac7d6a08b9442af3460a55305a35fd823">UnsafeRegsDead</a></div><div class="ttdeci">@ UnsafeRegsDead</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07103">AArch64InstrInfo.cpp:7103</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da4c5b26e761294db59c1ad1cc6fc1d0ba"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da4c5b26e761294db59c1ad1cc6fc1d0ba">llvm::RegState::Renamable</a></div><div class="ttdeci">@ Renamable</div><div class="ttdoc">Register that may be renamed.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00061">MachineInstrBuilder.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_af4aef3aa547629015801993f9d393109"><div class="ttname"><a href="classllvm_1_1Register.html#af4aef3aa547629015801993f9d393109">llvm::Register::isPhysicalRegister</a></div><div class="ttdeci">static bool isPhysicalRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00065">Register.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a9443e11ff036b633e23f360416d529e8"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a9443e11ff036b633e23f360416d529e8">llvm::AArch64InstrInfo::storeRegToStackSlot</a></div><div class="ttdeci">void storeRegToStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, Register SrcReg, bool isKill, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI, Register VReg) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03820">AArch64InstrInfo.cpp:3820</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00045">TargetRegisterInfo.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CodeGenOpt_html_ad7e52174abb1cfb84238ad1ac475ee36a71969d8670845bfa9d80ba2197dba678"><div class="ttname"><a href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36a71969d8670845bfa9d80ba2197dba678">llvm::CodeGenOpt::Aggressive</a></div><div class="ttdeci">@ Aggressive</div><div class="ttdoc">-O3</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00061">CodeGen.h:61</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64_html_a55a90256e857e185aeaac9aabf606133"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a55a90256e857e185aeaac9aabf606133">llvm::AArch64::InstrFlagIsWhile</a></div><div class="ttdeci">static const uint64_t InstrFlagIsWhile</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00582">AArch64InstrInfo.h:582</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_acdf5bf3bbc10f9331f56441a4d483bb1"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int b</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00418">README.txt:418</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a944bf3cc625b6bf05e52bc6daa2cc47f"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a944bf3cc625b6bf05e52bc6daa2cc47f">llvm::AArch64InstrInfo::shouldOutlineFromFunctionByDefault</a></div><div class="ttdeci">bool shouldOutlineFromFunctionByDefault(MachineFunction &amp;MF) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08141">AArch64InstrInfo.cpp:8141</a></div></div>
<div class="ttc" id="aRISCVRedundantCopyElimination_8cpp_html_a1441f79530bc7f3a89118bb8067eac69"><div class="ttname"><a href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a></div><div class="ttdeci">const SmallVectorImpl&lt; MachineOperand &gt; MachineBasicBlock * TBB</div><div class="ttdef"><b>Definition:</b> <a href="RISCVRedundantCopyElimination_8cpp_source.html#l00076">RISCVRedundantCopyElimination.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_abe8ebb102b353daa82abe17d08054c6e"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#abe8ebb102b353daa82abe17d08054c6e">llvm::AArch64InstrInfo::getMachineCombinerPatterns</a></div><div class="ttdeci">bool getMachineCombinerPatterns(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineCombinerPattern &gt; &amp;Patterns, bool DoRegPressureReduce) const override</div><div class="ttdoc">Return true when there is potentially a faster code sequence for an instruction chain ending in Root.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05547">AArch64InstrInfo.cpp:5547</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ac57a2cf15e78090fa9176ea4e214b4df"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac57a2cf15e78090fa9176ea4e214b4df">llvm::MachineCombinerPattern::MULSUBv4i32_indexed_OP2</a></div><div class="ttdeci">@ MULSUBv4i32_indexed_OP2</div></div>
<div class="ttc" id="aMCInst_8h_html"><div class="ttname"><a href="MCInst_8h.html">MCInst.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630">llvm::AArch64CC::HS</a></div><div class="ttdeci">@ HS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00257">AArch64BaseInfo.h:257</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4488867294264fa12092c6121b93e530"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4488867294264fa12092c6121b93e530">llvm::MachineCombinerPattern::FMLSv4f32_OP1</a></div><div class="ttdeci">@ FMLSv4f32_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_ab8903896a25679d038ebd3e8769233f6"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#ab8903896a25679d038ebd3e8769233f6">llvm::AArch64InstrInfo::insertBranch</a></div><div class="ttdeci">unsigned insertBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *TBB, MachineBasicBlock *FBB, ArrayRef&lt; MachineOperand &gt; Cond, const DebugLoc &amp;DL, int *BytesAdded=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00494">AArch64InstrInfo.cpp:494</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdoc">Describe properties that are true of each instruction in the target description file.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00198">MCInstrDesc.h:198</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a068a0d81b376d09225a729014cbc3ea8"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a068a0d81b376d09225a729014cbc3ea8">llvm::MachineCombinerPattern::MULSUBW_OP2</a></div><div class="ttdeci">@ MULSUBW_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a5d49fd91db5ae34f84ed73048dbaf46f"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a5d49fd91db5ae34f84ed73048dbaf46f">llvm::MachineCombinerPattern::MULSUBWI_OP1</a></div><div class="ttdeci">@ MULSUBWI_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">llvm::MachineInstr::FrameSetup</a></div><div class="ttdeci">@ FrameSetup</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00084">MachineInstr.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a801e90197138f0d232f8efcf2426dd81"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a801e90197138f0d232f8efcf2426dd81">llvm::AArch64InstrInfo::isStridedAccess</a></div><div class="ttdeci">static bool isStridedAccess(const MachineInstr &amp;MI)</div><div class="ttdoc">Return true if the given load or store is a strided memory access.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02176">AArch64InstrInfo.cpp:2176</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">llvm::MCID::Flag</a></div><div class="ttdeci">Flag</div><div class="ttdoc">These should be considered private to the implementation of the MCInstrDesc class.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00148">MCInstrDesc.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html_aeb11e994c5580c80bbb0951eb05f9c80"><div class="ttname"><a href="classllvm_1_1StackOffset.html#aeb11e994c5580c80bbb0951eb05f9c80">llvm::StackOffset::getFixed</a></div><div class="ttdeci">static StackOffset getFixed(int64_t Fixed)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00045">TypeSize.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_aeae88f12b667477f90db9b726556b337"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#aeae88f12b667477f90db9b726556b337">llvm::AArch64_AM::getShifterImm</a></div><div class="ttdeci">static unsigned getShifterImm(AArch64_AM::ShiftExtendType ST, unsigned Imm)</div><div class="ttdoc">getShifterImm - Encode the shift type and amount: imm: 6-bit shift amount shifter: 000 ==&gt; lsl 001 ==...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00099">AArch64AddressingModes.h:99</a></div></div>
<div class="ttc" id="aMachineCombinerPattern_8h_html"><div class="ttname"><a href="MachineCombinerPattern_8h.html">MachineCombinerPattern.h</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987acccd5fd8c8f59fe9373c56b1b951780c">FMAInstKind::Indexed</a></div><div class="ttdeci">@ Indexed</div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a47c521bf7ba0bb2147b96d068af30d04"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a></div><div class="ttdeci">const char LLVMTargetMachineRef LLVMPassBuilderOptionsRef Options</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00048">PassBuilderBindings.cpp:48</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">llvm::AArch64CC::LE</a></div><div class="ttdeci">@ LE</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00268">AArch64BaseInfo.h:268</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_af01e300c1d03a13eb9edabea4ed9aef5"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#af01e300c1d03a13eb9edabea4ed9aef5">llvm::AArch64InstrInfo::copyPhysRegTuple</a></div><div class="ttdeci">void copyPhysRegTuple(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, const DebugLoc &amp;DL, MCRegister DestReg, MCRegister SrcReg, bool KillSrc, unsigned Opcode, llvm::ArrayRef&lt; unsigned &gt; Indices) const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03423">AArch64InstrInfo.cpp:3423</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a0f025e2cec1b7eb026b572b2d12800fd"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a0f025e2cec1b7eb026b572b2d12800fd">llvm::AArch64InstrInfo::isFPRCopy</a></div><div class="ttdeci">static bool isFPRCopy(const MachineInstr &amp;MI)</div><div class="ttdoc">Does this instruction rename an FPR without modifying bits?</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02095">AArch64InstrInfo.cpp:2095</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a22f623563f43de6d1aabcdfa9d341031"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a22f623563f43de6d1aabcdfa9d341031">llvm::AArch64_AM::getShiftValue</a></div><div class="ttdeci">static unsigned getShiftValue(unsigned Imm)</div><div class="ttdoc">getShiftValue - Extract the shift value.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00086">AArch64AddressingModes.h:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a5b3c2afaad5594cd0eedd58a78a91baf"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a5b3c2afaad5594cd0eedd58a78a91baf">llvm::AArch64CC::PL</a></div><div class="ttdeci">@ PL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00260">AArch64BaseInfo.h:260</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a74804e3c6e291fe90c0cb697632dcf0e"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a74804e3c6e291fe90c0cb697632dcf0e">llvm::AArch64InstrInfo::useMachineCombiner</a></div><div class="ttdeci">bool useMachineCombiner() const override</div><div class="ttdoc">AArch64 supports MachineCombiner.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04787">AArch64InstrInfo.cpp:4787</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a14c39a24bf6ebbe339ae8a453c7fdd11"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a14c39a24bf6ebbe339ae8a453c7fdd11">llvm::MachineFrameInfo::getStackSize</a></div><div class="ttdeci">uint64_t getStackSize() const</div><div class="ttdoc">Return the number of bytes that must be allocated to hold all of the fixed size frame objects.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00585">MachineFrameInfo.h:585</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ae3ef42086d0578cd1fa764d113f6881b"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ae3ef42086d0578cd1fa764d113f6881b">genFusedMultiplyAccNeg</a></div><div class="ttdeci">static MachineInstr * genFusedMultiplyAccNeg(MachineFunction &amp;MF, MachineRegisterInfo &amp;MRI, const TargetInstrInfo *TII, MachineInstr &amp;Root, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, DenseMap&lt; unsigned, unsigned &gt; &amp;InstrIdxForVirtReg, unsigned IdxMulOpd, unsigned MaddOpc, unsigned MnegOpc, const TargetRegisterClass *RC)</div><div class="ttdoc">genFusedMultiplyAccNeg - Helper to generate fused multiply accumulate instructions with an additional...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05720">AArch64InstrInfo.cpp:5720</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_adf98860d7f42290f873c82a981eb0ea6"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">llvm::MachineFrameInfo::getObjectOffset</a></div><div class="ttdeci">int64_t getObjectOffset(int ObjectIdx) const</div><div class="ttdoc">Return the assigned stack offset of the specified object from the incoming stack pointer.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00526">MachineFrameInfo.h:526</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a1de3723766632d625fae11642a4583ae"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a1de3723766632d625fae11642a4583ae">canBeExpandedToORR</a></div><div class="ttdeci">static bool canBeExpandedToORR(const MachineInstr &amp;MI, unsigned BitSize)</div><div class="ttdoc">Returns true if a MOVi32imm or MOVi64imm can be expanded to an ORRxx.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00788">AArch64InstrInfo.cpp:788</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00687">SmallVector.h:687</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a832f7ffb68fe4a65abd0264fdb503665"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a832f7ffb68fe4a65abd0264fdb503665">llvm::MachineCombinerPattern::FMLSv8i16_indexed_OP2</a></div><div class="ttdeci">@ FMLSv8i16_indexed_OP2</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a6d8faa716c9389c680c284bc9284c113"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a6d8faa716c9389c680c284bc9284c113">canCombineWithFMUL</a></div><div class="ttdeci">static bool canCombineWithFMUL(MachineBasicBlock &amp;MBB, MachineOperand &amp;MO, unsigned MulOpc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04938">AArch64InstrInfo.cpp:4938</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCCFIInstruction_html_ae450f408644d907ec3e4ea018f764a0b"><div class="ttname"><a href="classllvm_1_1MCCFIInstruction.html#ae450f408644d907ec3e4ea018f764a0b">llvm::MCCFIInstruction::createEscape</a></div><div class="ttdeci">static MCCFIInstruction createEscape(MCSymbol *L, StringRef Vals, StringRef Comment=&quot;&quot;)</div><div class="ttdoc">.cfi_escape Allows the user to add arbitrary bytes to the unwind info.</div><div class="ttdef"><b>Definition:</b> <a href="MCDwarf_8h_source.html#l00632">MCDwarf.h:632</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ae6e7e975f7a4e5d535be32068a7c67df"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ae6e7e975f7a4e5d535be32068a7c67df">llvm::MachineFrameInfo::isFixedObjectIndex</a></div><div class="ttdeci">bool isFixedObjectIndex(int ObjectIdx) const</div><div class="ttdoc">Returns true if the specified index corresponds to a fixed stack object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00688">MachineFrameInfo.h:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegUnits_html"><div class="ttname"><a href="classllvm_1_1LiveRegUnits.html">llvm::LiveRegUnits</a></div><div class="ttdoc">A set of register units used to track register liveness.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRegUnits_8h_source.html#l00030">LiveRegUnits.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aabed741772b1be65069d9274446a914d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabed741772b1be65069d9274446a914d">llvm::MachineInstr::definesRegister</a></div><div class="ttdeci">bool definesRegister(Register Reg, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Return true if the MachineInstr fully defines the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01428">MachineInstr.h:1428</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a9ea5b7786e0c56498ed306d74e3052d0"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a9ea5b7786e0c56498ed306d74e3052d0">llvm::AArch64II::MO_DLLIMPORTAUX</a></div><div class="ttdeci">@ MO_DLLIMPORTAUX</div><div class="ttdoc">MO_DLLIMPORTAUX - Symbol refers to &quot;auxilliary&quot; import stub.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00781">AArch64BaseInfo.h:781</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a71679481ab07058465bc551b4bdcffce"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a71679481ab07058465bc551b4bdcffce">llvm::MachineCombinerPattern::MULADDv4i32_indexed_OP2</a></div><div class="ttdeci">@ MULADDv4i32_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a615ff3cce7bc1e4ff773167c5c17d168"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a615ff3cce7bc1e4ff773167c5c17d168">llvm::MachineCombinerPattern::FNMULSUBH_OP1</a></div><div class="ttdeci">@ FNMULSUBH_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a40d954b9cf9ee8b545a78725f2549cba"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">llvm::MachineRegisterInfo::getVRegDef</a></div><div class="ttdeci">MachineInstr * getVRegDef(Register Reg) const</div><div class="ttdoc">getVRegDef - Return the machine instr that defines the specified virtual register or null if none is ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00398">MachineRegisterInfo.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_acad8fe90886f92eabced0c2f9bd0e6f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">llvm::MachineOperand::getParent</a></div><div class="ttdeci">MachineInstr * getParent()</div><div class="ttdoc">getParent - Return the instruction that this operand belongs to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00243">MachineOperand.h:243</a></div></div>
<div class="ttc" id="anamespacellvm_html_aad80b46c754cc7216244a866ec9b1cb0"><div class="ttname"><a href="namespacellvm.html#aad80b46c754cc7216244a866ec9b1cb0">llvm::isIntN</a></div><div class="ttdeci">bool isIntN(unsigned N, int64_t x)</div><div class="ttdoc">Checks if an signed integer fits into the given (dynamic) bit width.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00261">MathExtras.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a81504f733d0491a446a16ef1ba0a5c2a"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a81504f733d0491a446a16ef1ba0a5c2a">llvm::MachineFrameInfo::isCalleeSavedInfoValid</a></div><div class="ttdeci">bool isCalleeSavedInfoValid() const</div><div class="ttdoc">Has the callee saved info been calculated yet?</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00800">MachineFrameInfo.h:800</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a875d4d0bf620bc2515b57e5554a510fb"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a875d4d0bf620bc2515b57e5554a510fb">genNeg</a></div><div class="ttdeci">static Register genNeg(MachineFunction &amp;MF, MachineRegisterInfo &amp;MRI, const TargetInstrInfo *TII, MachineInstr &amp;Root, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, DenseMap&lt; unsigned, unsigned &gt; &amp;InstrIdxForVirtReg, unsigned MnegOpc, const TargetRegisterClass *RC)</div><div class="ttdoc">genNeg - Helper to generate an intermediate negation of the second operand of Root</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05701">AArch64InstrInfo.cpp:5701</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a80b124af47379d05275a319fc182d613"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a80b124af47379d05275a319fc182d613">llvm::MachineCombinerPattern::MULSUBv4i32_OP1</a></div><div class="ttdeci">@ MULSUBv4i32_OP1</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a22d94dbb2ca88224dfaf3377e3adf7cf"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a22d94dbb2ca88224dfaf3377e3adf7cf">isADDSRegImm</a></div><div class="ttdeci">static bool isADDSRegImm(unsigned Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01677">AArch64InstrInfo.cpp:1677</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCCFIInstruction_html"><div class="ttname"><a href="classllvm_1_1MCCFIInstruction.html">llvm::MCCFIInstruction</a></div><div class="ttdef"><b>Definition:</b> <a href="MCDwarf_8h_source.html#l00479">MCDwarf.h:479</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a1a60a3fac27c1e7e8183a440d69f2f81"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1a60a3fac27c1e7e8183a440d69f2f81">llvm::MachineCombinerPattern::MULSUBv4i16_indexed_OP2</a></div><div class="ttdeci">@ MULSUBv4i16_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a1170c3796a8947456c2d7841642b96eb"><div class="ttname"><a href="namespacellvm.html#a1170c3796a8947456c2d7841642b96eb">llvm::createDefCFA</a></div><div class="ttdeci">MCCFIInstruction createDefCFA(const TargetRegisterInfo &amp;TRI, unsigned FrameReg, unsigned Reg, const StackOffset &amp;Offset, bool LastAdjustmentWasScalable=true)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04225">AArch64InstrInfo.cpp:4225</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a15b71869ae17ba55cfb477020eaadc19"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a15b71869ae17ba55cfb477020eaadc19">llvm::AArch64InstrInfo::getBranchDestBlock</a></div><div class="ttdeci">MachineBasicBlock * getBranchDestBlock(const MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00212">AArch64InstrInfo.cpp:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64FunctionInfo_html_afd791302f998513ddb029c191f550232"><div class="ttname"><a href="classllvm_1_1AArch64FunctionInfo.html#afd791302f998513ddb029c191f550232">llvm::AArch64FunctionInfo::shouldSignWithBKey</a></div><div class="ttdeci">bool shouldSignWithBKey() const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64MachineFunctionInfo_8h_source.html#l00432">AArch64MachineFunctionInfo.h:432</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ab0b0a572164f8fccd5474cb6babed129a4833a7f75545b7500185a9ececd92b08"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129a4833a7f75545b7500185a9ececd92b08">LRUnavailableSomewhere</a></div><div class="ttdeci">@ LRUnavailableSomewhere</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07101">AArch64InstrInfo.cpp:7101</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 64 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64FunctionInfo_html_aacfaac36c46f4afa2ddf2b67808f9aab"><div class="ttname"><a href="classllvm_1_1AArch64FunctionInfo.html#aacfaac36c46f4afa2ddf2b67808f9aab">llvm::AArch64FunctionInfo::setOutliningStyle</a></div><div class="ttdeci">void setOutliningStyle(std::string Style)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64MachineFunctionInfo_8h_source.html#l00251">AArch64MachineFunctionInfo.h:251</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_ad45de36bc238edb61ed6b9375030f62f"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#ad45de36bc238edb61ed6b9375030f62f">llvm::AArch64_AM::getArithExtendType</a></div><div class="ttdeci">static AArch64_AM::ShiftExtendType getArithExtendType(unsigned Imm)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00139">AArch64AddressingModes.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5f95077d52fb7c8cd08ce6338b107bcf"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5f95077d52fb7c8cd08ce6338b107bcf">llvm::MachineRegisterInfo::def_empty</a></div><div class="ttdeci">bool def_empty(Register RegNo) const</div><div class="ttdoc">def_empty - Return true if there are no instructions defining the specified register (it may be live-...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00448">MachineRegisterInfo.h:448</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aae06220c51ead042db61d0f53f19c72d"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aae06220c51ead042db61d0f53f19c72d">llvm::MachineCombinerPattern::FMLAv1i64_indexed_OP2</a></div><div class="ttdeci">@ FMLAv1i64_indexed_OP2</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_aa3d936cb9197b15ae6b41f8a52592961"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#aa3d936cb9197b15ae6b41f8a52592961">convertToNonFlagSettingOpc</a></div><div class="ttdeci">static unsigned convertToNonFlagSettingOpc(const MachineInstr &amp;MI)</div><div class="ttdoc">Return the opcode that does not set flags when possible - otherwise return the original opcode.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01216">AArch64InstrInfo.cpp:1216</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aa363afffca4fc13a709673936b47fe33"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(Register Reg) const</div><div class="ttdoc">Return the register class of the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00661">MachineRegisterInfo.h:661</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa9f3c5f2295bad84281cbeaa529e61e7"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa9f3c5f2295bad84281cbeaa529e61e7">llvm::MachineCombinerPattern::FMLAv4f16_OP1</a></div><div class="ttdeci">@ FMLAv4f16_OP1</div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a7083c6344f6aaeb66d5d136b5debd090"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a7083c6344f6aaeb66d5d136b5debd090">llvm::MachineCombinerPattern::FMULv2i32_indexed_OP2</a></div><div class="ttdeci">@ FMULv2i32_indexed_OP2</div></div>
<div class="ttc" id="aAArch64AddressingModes_8h_html"><div class="ttname"><a href="AArch64AddressingModes_8h.html">AArch64AddressingModes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIMetadata_html"><div class="ttname"><a href="classllvm_1_1MIMetadata.html">llvm::MIMetadata</a></div><div class="ttdoc">Set of metadata that should be preserved when using BuildMI().</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00335">MachineInstrBuilder.h:335</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">llvm::PPC::PRED_EQ</a></div><div class="ttdeci">@ PRED_EQ</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00029">PPCPredicates.h:29</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a1affd6d7e8a280fa6a0b642a6e0734b8"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a1affd6d7e8a280fa6a0b642a6e0734b8">llvm::AArch64_AM::decodeLogicalImmediate</a></div><div class="ttdeci">static uint64_t decodeLogicalImmediate(uint64_t val, unsigned regSize)</div><div class="ttdoc">decodeLogicalImmediate - Decode a logical immediate value in the form &quot;N:immr:imms&quot; (where the immr a...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00294">AArch64AddressingModes.h:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a3477f1dd30b1caa79a5216523b50ce8c"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a3477f1dd30b1caa79a5216523b50ce8c">llvm::AArch64InstrInfo::isCoalescableExtInstr</a></div><div class="ttdeci">bool isCoalescableExtInstr(const MachineInstr &amp;MI, Register &amp;SrcReg, Register &amp;DstReg, unsigned &amp;SubIdx) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01025">AArch64InstrInfo.cpp:1025</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ad928dd9bf909fd02460a07284c2bb35c"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad928dd9bf909fd02460a07284c2bb35c">llvm::MachineCombinerPattern::FMULSUBD_OP2</a></div><div class="ttdeci">@ FMULSUBD_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a6691cc6c9b7341348045f8d54a14e7a7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6691cc6c9b7341348045f8d54a14e7a7">llvm::MachineFunction::getMMI</a></div><div class="ttdeci">MachineModuleInfo &amp; getMMI() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00623">MachineFunction.h:623</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html_ac22cf1a1c08b7ccaefc51508536312a4"><div class="ttname"><a href="classllvm_1_1SmallString.html#ac22cf1a1c08b7ccaefc51508536312a4">llvm::SmallString::append</a></div><div class="ttdeci">void append(StringRef RHS)</div><div class="ttdoc">Append from a StringRef.</div><div class="ttdef"><b>Definition:</b> <a href="SmallString_8h_source.html#l00068">SmallString.h:68</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3d42df7595bb7da318e52023ffe95226a11e259103be968c42cfd9c607f12904a"><div class="ttname"><a href="namespacellvm.html#a3d42df7595bb7da318e52023ffe95226a11e259103be968c42cfd9c607f12904a">llvm::AArch64FrameOffsetIsLegal</a></div><div class="ttdeci">@ AArch64FrameOffsetIsLegal</div><div class="ttdoc">Offset is legal.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00439">AArch64InstrInfo.h:439</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_aebafd86dde59b5a05b22e8720e808a9d"><div class="ttname"><a href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">llvm::Register::isVirtual</a></div><div class="ttdeci">bool isVirtual() const</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00091">Register.h:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64Subtarget_html_a0c98b67f7eccc57aa4872a3fa136c2b8"><div class="ttname"><a href="classllvm_1_1AArch64Subtarget.html#a0c98b67f7eccc57aa4872a3fa136c2b8">llvm::AArch64Subtarget::forceStreamingCompatibleSVE</a></div><div class="ttdeci">bool forceStreamingCompatibleSVE() const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Subtarget_8cpp_source.html#l00476">AArch64Subtarget.cpp:476</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a2aa16f9d03ff7a4744cc7b83b4c39ec4"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a2aa16f9d03ff7a4744cc7b83b4c39ec4">llvm::AArch64InstrInfo::convertToFlagSettingOpc</a></div><div class="ttdeci">static unsigned convertToFlagSettingOpc(unsigned Opc)</div><div class="ttdoc">Return the opcode that set flags when possible.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02421">AArch64InstrInfo.cpp:2421</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a3da9727b1d452d6dcab08fde547ab634"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a3da9727b1d452d6dcab08fde547ab634">llvm::MachineRegisterInfo::clearKillFlags</a></div><div class="ttdeci">void clearKillFlags(Register Reg) const</div><div class="ttdoc">clearKillFlags - Iterate over all the uses of the given register and clear the kill flag from the Mac...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00435">MachineRegisterInfo.cpp:435</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa7d6e49a4f9c90d3ef8419ead6f7924c"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7d6e49a4f9c90d3ef8419ead6f7924c">llvm::MachineCombinerPattern::MULADDv4i16_OP2</a></div><div class="ttdeci">@ MULADDv4i16_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a39261c05ab3afff5126eb55ee51fed44"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a39261c05ab3afff5126eb55ee51fed44">llvm::AArch64II::MO_S</a></div><div class="ttdeci">@ MO_S</div><div class="ttdoc">MO_S - Indicates that the bits of the symbol operand represented by MO_G0 etc are signed.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00762">AArch64BaseInfo.h:762</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a03258ce69ceadb08e189389468f7fd0a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">llvm::MachineInstrBuilder::addFrameIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addFrameIndex(int Idx) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00152">MachineInstrBuilder.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a49f174e0e7941fe7dad04d4f948a2d63"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a49f174e0e7941fe7dad04d4f948a2d63">llvm::MachineInstrBuilder::setMIFlag</a></div><div class="ttdeci">const MachineInstrBuilder &amp; setMIFlag(MachineInstr::MIFlag Flag) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00278">MachineInstrBuilder.h:278</a></div></div>
<div class="ttc" id="anamespacellvm_html_a18dec717578f39bfcff50e325c2d27c5"><div class="ttname"><a href="namespacellvm.html#a18dec717578f39bfcff50e325c2d27c5">llvm::isAArch64FrameOffsetLegal</a></div><div class="ttdeci">int isAArch64FrameOffsetLegal(const MachineInstr &amp;MI, StackOffset &amp;Offset, bool *OutUseUnscaledOp=nullptr, unsigned *OutUnscaledOp=nullptr, int64_t *EmittableOffset=nullptr)</div><div class="ttdoc">Check if the Offset is a valid frame offset for MI.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04646">AArch64InstrInfo.cpp:4646</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01410">CommandLine.h:1410</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a10faaea75a2dba1bf0bbdd2daeb7b953"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a10faaea75a2dba1bf0bbdd2daeb7b953">isCombineInstrCandidate64</a></div><div class="ttdeci">static bool isCombineInstrCandidate64(unsigned Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04828">AArch64InstrInfo.cpp:4828</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a31643f4a8497b19fbc2891b312eb7c2d"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a31643f4a8497b19fbc2891b312eb7c2d">isCombineInstrSettingFlag</a></div><div class="ttdeci">static bool isCombineInstrSettingFlag(unsigned Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04790">AArch64InstrInfo.cpp:4790</a></div></div>
<div class="ttc" id="anamespacellvm_html_a25ebb5d5fa4431b1a1835d0a5f4e2796"><div class="ttname"><a href="namespacellvm.html#a25ebb5d5fa4431b1a1835d0a5f4e2796">llvm::isIndirectBranchOpcode</a></div><div class="ttdeci">static bool isIndirectBranchOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00481">AArch64InstrInfo.h:481</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegUnits_html_aa5fb273566c37fdc7da88a0fec5a554c"><div class="ttname"><a href="classllvm_1_1LiveRegUnits.html#aa5fb273566c37fdc7da88a0fec5a554c">llvm::LiveRegUnits::stepBackward</a></div><div class="ttdeci">void stepBackward(const MachineInstr &amp;MI)</div><div class="ttdoc">Updates liveness when stepping backwards over the instruction MI.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRegUnits_8cpp_source.html#l00044">LiveRegUnits.cpp:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05addbc12649925b262818f3e005a4ec1e4"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05addbc12649925b262818f3e005a4ec1e4">llvm::MachineCombinerPattern::FMLSv8f16_OP1</a></div><div class="ttdeci">@ FMLSv8f16_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab7eaf10b55b2c3b849c192426ab2ef00"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab7eaf10b55b2c3b849c192426ab2ef00">llvm::MachineCombinerPattern::FMLSv8f16_OP2</a></div><div class="ttdeci">@ FMLSv8f16_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05abd09f0b4e2d7e21332d9cd723a7528f0"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05abd09f0b4e2d7e21332d9cd723a7528f0">llvm::MachineCombinerPattern::MULSUBX_OP2</a></div><div class="ttdeci">@ MULSUBX_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ad0e6256f93a13938e8e59828d5677e32"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ad0e6256f93a13938e8e59828d5677e32">llvm::TargetRegisterInfo::getSpillSize</a></div><div class="ttdeci">unsigned getSpillSize(const TargetRegisterClass &amp;RC) const</div><div class="ttdoc">Return the size in bytes of the stack slot allocated to hold a spilled copy of a register from class ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00285">TargetRegisterInfo.h:285</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a1255befbcd6e034394681b1bcd3529ff"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">llvm::MachineOperand::isUndef</a></div><div class="ttdeci">bool isUndef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00404">MachineOperand.h:404</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4da5c624b602859153b3f5ca5aaca932"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4da5c624b602859153b3f5ca5aaca932">llvm::MachineCombinerPattern::FMLAv4f32_OP2</a></div><div class="ttdeci">@ FMLAv4f32_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html_a13dd64c40d9f175e578ade3ef60ea351"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html#a13dd64c40d9f175e578ade3ef60ea351">llvm::MachineInstrBundleIterator::getReverse</a></div><div class="ttdeci">reverse_iterator getReverse() const</div><div class="ttdoc">Get a reverse iterator to the same node.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundleIterator_8h_source.html#l00283">MachineInstrBundleIterator.h:283</a></div></div>
<div class="ttc" id="aclassllvm_1_1PatchPointOpers_html_aa319bb1da5a106c84bfa9a1fdca084bc"><div class="ttname"><a href="classllvm_1_1PatchPointOpers.html#aa319bb1da5a106c84bfa9a1fdca084bc">llvm::PatchPointOpers::getNumPatchBytes</a></div><div class="ttdeci">uint32_t getNumPatchBytes() const</div><div class="ttdoc">Return the number of patchable bytes the given patchpoint should emit.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00104">StackMaps.h:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a61a42c85bd86c6ca4554e27d33c3f798"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">llvm::MachineOperand::setIsDead</a></div><div class="ttdeci">void setIsDead(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00525">MachineOperand.h:525</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab42a834f1ab8e65b6f525a5cb23a4fe7"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab42a834f1ab8e65b6f525a5cb23a4fe7">llvm::MachineBasicBlock::instr_rend</a></div><div class="ttdeci">reverse_instr_iterator instr_rend()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00299">MachineBasicBlock.h:299</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">llvm::IRSimilarity::Legal</a></div><div class="ttdeci">@ Legal</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a014aa77d177f925047f52c27d6dec14e"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a014aa77d177f925047f52c27d6dec14e">llvm::AArch64II::MO_DLLIMPORT</a></div><div class="ttdeci">@ MO_DLLIMPORT</div><div class="ttdoc">MO_DLLIMPORT - On a symbol operand, this represents that the reference to the symbol is for an import...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00758">AArch64BaseInfo.h:758</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00069">MachineInstrBuilder.h:69</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab69092ab6c6e9cd0991d64490009a768"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab69092ab6c6e9cd0991d64490009a768">llvm::MachineCombinerPattern::FMLAv2f32_OP1</a></div><div class="ttdeci">@ FMLAv2f32_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a90c191a6a05a332c9f765b2c84f4680b"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a90c191a6a05a332c9f765b2c84f4680b">llvm::MachineCombinerPattern::MULADDv4i32_indexed_OP1</a></div><div class="ttdeci">@ MULADDv4i32_indexed_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a9284fd53296d2a2f8ae654d000971000"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">llvm::MachineFrameInfo::getObjectSize</a></div><div class="ttdeci">int64_t getObjectSize(int ObjectIdx) const</div><div class="ttdoc">Return the size of the specified object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00470">MachineFrameInfo.h:470</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a3ed4919d637d0c25ecee9f7bd16f11b2"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a3ed4919d637d0c25ecee9f7bd16f11b2">llvm::AArch64InstrInfo::getUnscaledLdSt</a></div><div class="ttdeci">static std::optional&lt; unsigned &gt; getUnscaledLdSt(unsigned Opc)</div><div class="ttdoc">Returns the unscaled load/store for the scaled load/store opcode, if there is a corresponding unscale...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02217">AArch64InstrInfo.cpp:2217</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a1cbe2e1c0cbaffe3679afcc7e69582d0"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1cbe2e1c0cbaffe3679afcc7e69582d0">llvm::MachineCombinerPattern::FMLSv2i32_indexed_OP1</a></div><div class="ttdeci">@ FMLSv2i32_indexed_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a33365204be9cb132de322e3713253b57"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">llvm::MachineInstr::getFlag</a></div><div class="ttdeci">bool getFlag(MIFlag Flag) const</div><div class="ttdoc">Return whether an MI flag is set.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00357">MachineInstr.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00652">GlobalValue.h:652</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_aea1877f1ea9ff547ae50f179902e2961"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#aea1877f1ea9ff547ae50f179902e2961">llvm::AArch64InstrInfo::isPreLd</a></div><div class="ttdeci">static bool isPreLd(const MachineInstr &amp;MI)</div><div class="ttdoc">Returns whether the instruction is a pre-indexed load.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03163">AArch64InstrInfo.cpp:3163</a></div></div>
<div class="ttc" id="anamespacellvm_html_acecb758d131c550fcdf82d6211884138"><div class="ttname"><a href="namespacellvm.html#acecb758d131c550fcdf82d6211884138">llvm::MOSuppressPair</a></div><div class="ttdeci">static const MachineMemOperand::Flags MOSuppressPair</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00028">AArch64InstrInfo.h:28</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab65c69bb870dc8c6261058fe4a855d30"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab65c69bb870dc8c6261058fe4a855d30">llvm::MachineCombinerPattern::MULSUBv2i32_OP1</a></div><div class="ttdeci">@ MULSUBv2i32_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05abf7ba5f9855516b861f6c4cf5c34491f"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05abf7ba5f9855516b861f6c4cf5c34491f">llvm::MachineCombinerPattern::FMLAv8f16_OP1</a></div><div class="ttdeci">@ FMLAv8f16_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa2d716f420628248e7a89013c5460484"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2d716f420628248e7a89013c5460484">llvm::MachineCombinerPattern::FMLSv2i32_indexed_OP2</a></div><div class="ttdeci">@ FMLSv2i32_indexed_OP2</div></div>
<div class="ttc" id="astructllvm_1_1ExtAddrMode_html_a2404b5dd8b0a6746487c699291c54927"><div class="ttname"><a href="structllvm_1_1ExtAddrMode.html#a2404b5dd8b0a6746487c699291c54927">llvm::ExtAddrMode::BaseReg</a></div><div class="ttdeci">Register BaseReg</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00088">TargetInstrInfo.h:88</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a372af6912a0c5feb882c8194f28ab8b2"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a372af6912a0c5feb882c8194f28ab8b2">canPairLdStOpc</a></div><div class="ttdeci">static bool canPairLdStOpc(unsigned FirstOpc, unsigned SecondOpc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03289">AArch64InstrInfo.cpp:3289</a></div></div>
<div class="ttc" id="anamespacellvm_1_1outliner_html_a0765e098fe7aae0f01b60ec890ac1b52a6adc06fdab039cdbfaaeda00060c5e63"><div class="ttname"><a href="namespacellvm_1_1outliner.html#a0765e098fe7aae0f01b60ec890ac1b52a6adc06fdab039cdbfaaeda00060c5e63">llvm::outliner::LegalTerminator</a></div><div class="ttdeci">@ LegalTerminator</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00033">MachineOutliner.h:33</a></div></div>
<div class="ttc" id="aLEB128_8h_html"><div class="ttname"><a href="LEB128_8h.html">LEB128.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a028a4adc46c746ba1501e1e6fefb54cc"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a028a4adc46c746ba1501e1e6fefb54cc">llvm::AArch64II::MO_NC</a></div><div class="ttdeci">@ MO_NC</div><div class="ttdoc">MO_NC - Indicates whether the linker is expected to check the symbol reference for overflow.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00747">AArch64BaseInfo.h:747</a></div></div>
<div class="ttc" id="astructllvm_1_1outliner_1_1Candidate_html"><div class="ttname"><a href="structllvm_1_1outliner_1_1Candidate.html">llvm::outliner::Candidate</a></div><div class="ttdoc">An individual sequence of instructions to be replaced with a call to an outlined function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00037">MachineOutliner.h:37</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html">llvm::MachinePointerInfo</a></div><div class="ttdoc">This class contains a discriminated union of information about pointers in memory operands,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00039">MachineMemOperand.h:39</a></div></div>
<div class="ttc" id="astructllvm_1_1UsedNZCV_html_a45bff45182b5da58e31d988ef5826e69"><div class="ttname"><a href="structllvm_1_1UsedNZCV.html#a45bff45182b5da58e31d988ef5826e69">llvm::UsedNZCV::C</a></div><div class="ttdeci">bool C</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00380">AArch64InstrInfo.h:380</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCCFIInstruction_html_add1bf26f643dc758cdfb148eed30d0b3"><div class="ttname"><a href="classllvm_1_1MCCFIInstruction.html#add1bf26f643dc758cdfb148eed30d0b3">llvm::MCCFIInstruction::createNegateRAState</a></div><div class="ttdeci">static MCCFIInstruction createNegateRAState(MCSymbol *L)</div><div class="ttdoc">.cfi_negate_ra_state AArch64 negate RA state.</div><div class="ttdef"><b>Definition:</b> <a href="MCDwarf_8h_source.html#l00597">MCDwarf.h:597</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_aa5aad3f9195b1fd331f449ce9a709da2"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#aa5aad3f9195b1fd331f449ce9a709da2">llvm::TargetRegisterInfo::getMatchingSuperReg</a></div><div class="ttdeci">MCRegister getMatchingSuperReg(MCRegister Reg, unsigned SubIdx, const TargetRegisterClass *RC) const</div><div class="ttdoc">Return a super-register of the specified register Reg so its sub-register of index SubIdx is Reg.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00600">TargetRegisterInfo.h:600</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a3a5053185998bdf24f3167c234915785"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a3a5053185998bdf24f3167c234915785">llvm::AArch64II::MO_PAGEOFF</a></div><div class="ttdeci">@ MO_PAGEOFF</div><div class="ttdoc">MO_PAGEOFF - A symbol operand with this flag represents the offset of that symbol within a 4K page.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00711">AArch64BaseInfo.h:711</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; unsigned, unsigned &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a2360ff10d0e52ff8bf237809c794de14"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a2360ff10d0e52ff8bf237809c794de14">llvm::AArch64InstrInfo::getOutliningTypeImpl</a></div><div class="ttdeci">outliner::InstrType getOutliningTypeImpl(MachineBasicBlock::iterator &amp;MIT, unsigned Flags) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07698">AArch64InstrInfo.cpp:7698</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ae4b83d82585f6cf865c9c772daff9aac"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae4b83d82585f6cf865c9c772daff9aac">llvm::MachineCombinerPattern::FMLAv4i16_indexed_OP2</a></div><div class="ttdeci">@ FMLAv4i16_indexed_OP2</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_abc2a85d6828b45938a55cce5ea029d72"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#abc2a85d6828b45938a55cce5ea029d72">outliningCandidatesSigningKeyConsensus</a></div><div class="ttdeci">static bool outliningCandidatesSigningKeyConsensus(const outliner::Candidate &amp;a, const outliner::Candidate &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07137">AArch64InstrInfo.cpp:7137</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3758eeb6d9f052f15217146b4ae4d5a1"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3758eeb6d9f052f15217146b4ae4d5a1">llvm::MachineBasicBlock::instr_rbegin</a></div><div class="ttdeci">reverse_instr_iterator instr_rbegin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00297">MachineBasicBlock.h:297</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a94cd6ca17535844dc42503cc7b6f32ef"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a94cd6ca17535844dc42503cc7b6f32ef">llvm::AArch64InstrInfo::removeBranch</a></div><div class="ttdeci">unsigned removeBranch(MachineBasicBlock &amp;MBB, int *BytesRemoved=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00442">AArch64InstrInfo.cpp:442</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05af7fc35feded50db37bcfab5eab7aadbb"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af7fc35feded50db37bcfab5eab7aadbb">llvm::MachineCombinerPattern::FMULSUBD_OP1</a></div><div class="ttdeci">@ FMULSUBD_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64FunctionInfo_html"><div class="ttname"><a href="classllvm_1_1AArch64FunctionInfo.html">llvm::AArch64FunctionInfo</a></div><div class="ttdoc">AArch64FunctionInfo - This class is derived from MachineFunctionInfo and contains private AArch64-spe...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64MachineFunctionInfo_8h_source.html#l00039">AArch64MachineFunctionInfo.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">llvm::RegState::Implicit</a></div><div class="ttdeci">@ Implicit</div><div class="ttdoc">Not emitted register (e.g. carry, or temporary result).</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00046">MachineInstrBuilder.h:46</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ae0c83ea77a8a90f821157e321ff1ad5b"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ae0c83ea77a8a90f821157e321ff1ad5b">isCombineInstrCandidate</a></div><div class="ttdeci">static bool isCombineInstrCandidate(unsigned Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04891">AArch64InstrInfo.cpp:4891</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a8320a54de0a273478de910ac3795058b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">llvm::MachineFrameInfo::getObjectAlign</a></div><div class="ttdeci">Align getObjectAlign(int ObjectIdx) const</div><div class="ttdoc">Return the alignment of the specified stack object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00484">MachineFrameInfo.h:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a8e7ea4a37a21caeb8c336ef3e95f8ee0"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a8e7ea4a37a21caeb8c336ef3e95f8ee0">llvm::AArch64InstrInfo::isFunctionSafeToOutlineFrom</a></div><div class="ttdeci">bool isFunctionSafeToOutlineFrom(MachineFunction &amp;MF, bool OutlineFromLinkOnceODRs) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07553">AArch64InstrInfo.cpp:7553</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a80ae2cc1410980d536c9032568832dab"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a80ae2cc1410980d536c9032568832dab">llvm::AArch64InstrInfo::genAlternativeCodeSequence</a></div><div class="ttdeci">void genAlternativeCodeSequence(MachineInstr &amp;Root, MachineCombinerPattern Pattern, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, SmallVectorImpl&lt; MachineInstr * &gt; &amp;DelInstrs, DenseMap&lt; unsigned, unsigned &gt; &amp;InstrIdxForVirtReg) const override</div><div class="ttdoc">When getMachineCombinerPatterns() finds patterns, this function generates the instructions that could...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05863">AArch64InstrInfo.cpp:5863</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a8f80dd904ec89e49bde70d459e4af797"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8f80dd904ec89e49bde70d459e4af797">llvm::MachineCombinerPattern::FMLAv2i32_indexed_OP1</a></div><div class="ttdeci">@ FMLAv2i32_indexed_OP1</div></div>
<div class="ttc" id="astructllvm_1_1outliner_1_1Candidate_html_a20c626fe8e33ae4a8737a7c360482ee9"><div class="ttname"><a href="structllvm_1_1outliner_1_1Candidate.html#a20c626fe8e33ae4a8737a7c360482ee9">llvm::outliner::Candidate::front</a></div><div class="ttdeci">MachineBasicBlock::iterator &amp; front()</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00138">MachineOutliner.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ae91264626f3ffaac2026259631e98f8a"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ae91264626f3ffaac2026259631e98f8a">llvm::MachineCombinerPattern::MULADDv4i16_OP1</a></div><div class="ttdeci">@ MULADDv4i16_OP1</div></div>
<div class="ttc" id="anamespacellvm_1_1TargetStackID_html_a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c"><div class="ttname"><a href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a3c6a2a8f3cda71661a17a0df700e8f9c">llvm::TargetStackID::ScalableVector</a></div><div class="ttdeci">@ ScalableVector</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00030">TargetFrameLowering.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64Subtarget_html_a6bf37de5e34809ecd132df69cc78bd07"><div class="ttname"><a href="classllvm_1_1AArch64Subtarget.html#a6bf37de5e34809ecd132df69cc78bd07">llvm::AArch64Subtarget::hasSVEorSME</a></div><div class="ttdeci">bool hasSVEorSME() const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Subtarget_8h_source.html#l00364">AArch64Subtarget.h:364</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstBuilder_html"><div class="ttname"><a href="classllvm_1_1MCInstBuilder.html">llvm::MCInstBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstBuilder_8h_source.html#l00021">MCInstBuilder.h:21</a></div></div>
<div class="ttc" id="astructllvm_1_1UsedNZCV_html_abe2f97a45fb29b53c3258372c7baa7c6"><div class="ttname"><a href="structllvm_1_1UsedNZCV.html#abe2f97a45fb29b53c3258372c7baa7c6">llvm::UsedNZCV::N</a></div><div class="ttdeci">bool N</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00378">AArch64InstrInfo.h:378</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a9577820d8006811afa3d9713624c1e01"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a9577820d8006811afa3d9713624c1e01">llvm::AArch64InstrInfo::isLoadFromStackSlot</a></div><div class="ttdeci">unsigned isLoadFromStackSlot(const MachineInstr &amp;MI, int &amp;FrameIndex) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02114">AArch64InstrInfo.cpp:2114</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a7f4b4c44651a69c4f6f9134cb4b51352"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a7f4b4c44651a69c4f6f9134cb4b51352">llvm::MachineCombinerPattern::FNMULSUBS_OP1</a></div><div class="ttdeci">@ FNMULSUBS_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_af373607877e9c76b500c1942c86e8da2"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#af373607877e9c76b500c1942c86e8da2">llvm::AArch64InstrInfo::getNop</a></div><div class="ttdeci">MCInst getNop() const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04782">AArch64InstrInfo.cpp:4782</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab313591ae4ea1e3a4ab59121a7dc2a2b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab313591ae4ea1e3a4ab59121a7dc2a2b">llvm::MachineOperand::getType</a></div><div class="ttdeci">MachineOperandType getType() const</div><div class="ttdoc">getType - Returns the MachineOperandType for this operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00224">MachineOperand.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab8d7b8ff6803133d567fd4240e6364ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab8d7b8ff6803133d567fd4240e6364ce">llvm::MachineBasicBlock::getLastNonDebugInstr</a></div><div class="ttdeci">iterator getLastNonDebugInstr(bool SkipPseudoOp=true)</div><div class="ttdoc">Returns an iterator to the last non-debug instruction in the basic block, or end().</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00269">MachineBasicBlock.cpp:269</a></div></div>
<div class="ttc" id="astructllvm_1_1outliner_1_1Candidate_html_abcd908a35267cd2a6a3afdb42c92117c"><div class="ttname"><a href="structllvm_1_1outliner_1_1Candidate.html#abcd908a35267cd2a6a3afdb42c92117c">llvm::outliner::Candidate::back</a></div><div class="ttdeci">MachineBasicBlock::iterator &amp; back()</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00139">MachineOutliner.h:139</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2de7d9704e1d5b42f56ed3f11f095596"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2de7d9704e1d5b42f56ed3f11f095596">llvm::MachineCombinerPattern::FMLAv4f32_OP1</a></div><div class="ttdeci">@ FMLAv4f32_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a0f121bc5e3b5fb189a14cd793f9f5236"><div class="ttname"><a href="namespacellvm.html#a0f121bc5e3b5fb189a14cd793f9f5236">llvm::ParamLoadedValue</a></div><div class="ttdeci">std::pair&lt; MachineOperand, DIExpression * &gt; ParamLoadedValue</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00067">TargetInstrInfo.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a33b8842dbda2bbc78c42098cf27af35e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a33b8842dbda2bbc78c42098cf27af35e">llvm::MachineCombinerPattern::FMULv8i16_indexed_OP2</a></div><div class="ttdeci">@ FMULv8i16_indexed_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_ab94ac0eb79655589fb116359f862886c"><div class="ttname"><a href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">llvm::Register::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00071">Register.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a3699f85cc3382ffc17d597837412b27d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a3699f85cc3382ffc17d597837412b27d">llvm::MachineRegisterInfo::getRegClassOrNull</a></div><div class="ttdeci">const TargetRegisterClass * getRegClassOrNull(Register Reg) const</div><div class="ttdoc">Return the register class of Reg, or null if Reg has not been assigned a register class yet.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00678">MachineRegisterInfo.h:678</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">llvm::PPC::PRED_NE</a></div><div class="ttdeci">@ PRED_NE</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00032">PPCPredicates.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a3d142c9e7c066059e15232c56dec9e2e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">llvm::MachineFunction::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">getName - Return the name of the corresponding LLVM function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00582">MachineFunction.cpp:582</a></div></div>
<div class="ttc" id="anamespacellvm_html_adb26c86c4abcccbe5376b3f7e5e8af69"><div class="ttname"><a href="namespacellvm.html#adb26c86c4abcccbe5376b3f7e5e8af69">llvm::isNZCVTouchedInInstructionRange</a></div><div class="ttdeci">bool isNZCVTouchedInInstructionRange(const MachineInstr &amp;DefMI, const MachineInstr &amp;UseMI, const TargetRegisterInfo *TRI)</div><div class="ttdoc">Return true if there is an instruction /after/ DefMI and before UseMI which either reads or clobbers ...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04107">AArch64InstrInfo.cpp:4107</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aafacf84de1cb994a92dc045f4aa1d518a75967179a013c48b7d5b1690cb0b47cc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a75967179a013c48b7d5b1690cb0b47cc">llvm::MachineInstr::NoFlags</a></div><div class="ttdeci">@ NoFlags</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00083">MachineInstr.h:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_ab1fb67187fc37e569cc5171cbebba873"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">llvm::TargetMachine::Options</a></div><div class="ttdeci">TargetOptions Options</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00119">TargetMachine.h:119</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a547b6fdc8555c9102461469c3d8efc15"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a547b6fdc8555c9102461469c3d8efc15">llvm::MachineCombinerPattern::MULADDv16i8_OP1</a></div><div class="ttdeci">@ MULADDv16i8_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a581fd12b0f735520833a7d4b553a52ad"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a581fd12b0f735520833a7d4b553a52ad">llvm::MachineCombinerPattern::MULSUBv4i16_indexed_OP1</a></div><div class="ttdeci">@ MULSUBv4i16_indexed_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a57639f2f066637e2f3571662526f213d"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a57639f2f066637e2f3571662526f213d">llvm::AArch64InstrInfo::getOutlinableRanges</a></div><div class="ttdeci">SmallVector&lt; std::pair&lt; MachineBasicBlock::iterator, MachineBasicBlock::iterator &gt; &gt; getOutlinableRanges(MachineBasicBlock &amp;MBB, unsigned &amp;Flags) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07584">AArch64InstrInfo.cpp:7584</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdoc">Primary interface to the complete machine description for the target machine.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00078">TargetMachine.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_ac091833891ee8d22563063570f1cfad0"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#ac091833891ee8d22563063570f1cfad0">llvm::AArch64InstrInfo::getOutliningCandidateInfo</a></div><div class="ttdeci">outliner::OutlinedFunction getOutliningCandidateInfo(std::vector&lt; outliner::Candidate &gt; &amp;RepeatedSequenceLocs) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07154">AArch64InstrInfo.cpp:7154</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a8d68b44f534c304b92aabf73008dc1cb"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a8d68b44f534c304b92aabf73008dc1cb">genMaddR</a></div><div class="ttdeci">static MachineInstr * genMaddR(MachineFunction &amp;MF, MachineRegisterInfo &amp;MRI, const TargetInstrInfo *TII, MachineInstr &amp;Root, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, unsigned IdxMulOpd, unsigned MaddOpc, unsigned VR, const TargetRegisterClass *RC)</div><div class="ttdoc">genMaddR - Generate madd instruction and combine mul and add using an extra virtual register Example ...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05780">AArch64InstrInfo.cpp:5780</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_aedb4c96bbe231a3c622b06e15fdb05cb"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#aedb4c96bbe231a3c622b06e15fdb05cb">llvm::AArch64InstrInfo::getSerializableBitmaskMachineOperandTargetFlags</a></div><div class="ttdeci">ArrayRef&lt; std::pair&lt; unsigned, const char * &gt; &gt; getSerializableBitmaskMachineOperandTargetFlags() const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l06988">AArch64InstrInfo.cpp:6988</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a18fcadd076ad53e6df94e0ca7a80a9ef"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo &amp; getFrameInfo()</div><div class="ttdoc">getFrameInfo - Return the frame info object for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00688">MachineFunction.h:688</a></div></div>
<div class="ttc" id="astructllvm_1_1AArch64SysReg_1_1SysReg_html_a1453415c05ff6815cd3f98c7d529e4f8"><div class="ttname"><a href="structllvm_1_1AArch64SysReg_1_1SysReg.html#a1453415c05ff6815cd3f98c7d529e4f8">llvm::AArch64SysReg::SysReg::Encoding</a></div><div class="ttdeci">unsigned Encoding</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00656">AArch64BaseInfo.h:656</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4e21760f681d6f97f95c8414e7b83ea5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const</div><div class="ttdoc">Return the MachineFunction containing this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00265">MachineBasicBlock.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a9f95e557fb675ab6ef80f2fc4b8b3e01"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a9f95e557fb675ab6ef80f2fc4b8b3e01">llvm::AArch64InstrInfo::getMemOpBaseRegImmOfsOffsetOperand</a></div><div class="ttdeci">MachineOperand &amp; getMemOpBaseRegImmOfsOffsetOperand(MachineInstr &amp;LdSt) const</div><div class="ttdoc">Return the immediate offset of the base register in a load/store LdSt.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02665">AArch64InstrInfo.cpp:2665</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad2904b2502547c3f3d390774f8f548c7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad2904b2502547c3f3d390774f8f548c7">llvm::ISD::STACKMAP</a></div><div class="ttdeci">@ STACKMAP</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01297">ISDOpcodes.h:1297</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a47760ffd22a82283df0f5da521feca2a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">llvm::MachineInstrBuilder::addMemOperand</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMemOperand(MachineMemOperand *MMO) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00202">MachineInstrBuilder.h:202</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a03290efbf7ccd62d1500de80287021b5"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a03290efbf7ccd62d1500de80287021b5">llvm::MachineCombinerPattern::FMULADDD_OP1</a></div><div class="ttdeci">@ FMULADDD_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05af70e0b1d6898bd3f0ae6df4ac616b4c3"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af70e0b1d6898bd3f0ae6df4ac616b4c3">llvm::MachineCombinerPattern::FMLSv4f16_OP2</a></div><div class="ttdeci">@ FMLSv4f16_OP2</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a317497ce5235c135f0b4d4ab463f1847af7122e781d4583ad1b055afbfee22794"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a317497ce5235c135f0b4d4ab463f1847af7122e781d4583ad1b055afbfee22794">AK_Read</a></div><div class="ttdeci">@ AK_Read</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01261">AArch64InstrInfo.cpp:1261</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a16125e32c14e620f74bd688db0fd2190"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a16125e32c14e620f74bd688db0fd2190">llvm::MachineCombinerPattern::FMULv8i16_indexed_OP1</a></div><div class="ttdeci">@ FMULv8i16_indexed_OP1</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a3c5e54a089e34d37720e02c30ad44c78"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a3c5e54a089e34d37720e02c30ad44c78">signOutlinedFunction</a></div><div class="ttdeci">static void signOutlinedFunction(MachineFunction &amp;MF, MachineBasicBlock &amp;MBB, bool ShouldSignReturnAddr, bool ShouldSignReturnAddrWithBKey)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07865">AArch64InstrInfo.cpp:7865</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCCFIInstruction_html_abda962a8d0de68f0817ed1837557713a"><div class="ttname"><a href="classllvm_1_1MCCFIInstruction.html#abda962a8d0de68f0817ed1837557713a">llvm::MCCFIInstruction::cfiDefCfa</a></div><div class="ttdeci">static MCCFIInstruction cfiDefCfa(MCSymbol *L, unsigned Register, int Offset)</div><div class="ttdoc">.cfi_def_cfa defines a rule for computing CFA as: take address from Register and add Offset to it.</div><div class="ttdef"><b>Definition:</b> <a href="MCDwarf_8h_source.html#l00533">MCDwarf.h:533</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a685d0f817c9260ea16202a9964652fe6"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a685d0f817c9260ea16202a9964652fe6">llvm::AArch64InstrInfo::AArch64InstrInfo</a></div><div class="ttdeci">AArch64InstrInfo(const AArch64Subtarget &amp;STI)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00072">AArch64InstrInfo.cpp:72</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c6206e8d8fd98ecca8ac2c785ee9491"><div class="ttname"><a href="namespacellvm.html#a7c6206e8d8fd98ecca8ac2c785ee9491">llvm::emitFrameOffset</a></div><div class="ttdeci">void emitFrameOffset(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, const DebugLoc &amp;DL, unsigned DestReg, unsigned SrcReg, StackOffset Offset, const TargetInstrInfo *TII, MachineInstr::MIFlag=MachineInstr::NoFlags, bool SetNZCV=false, bool NeedsWinCFI=false, bool *HasWinCFI=nullptr, bool EmitCFAOffset=false, StackOffset InitialOffset={}, unsigned FrameReg=AArch64::SP)</div><div class="ttdoc">emitFrameOffset - Emit instructions as needed to set DestReg to SrcReg plus Offset.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04402">AArch64InstrInfo.cpp:4402</a></div></div>
<div class="ttc" id="aMachineModuleInfo_8h_html"><div class="ttname"><a href="MachineModuleInfo_8h.html">MachineModuleInfo.h</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ae25253bd68535ed8bdcb98a751098fe4a428eb3c2a256781b5e0589b47427e585"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a428eb3c2a256781b5e0589b47427e585">MachineOutlinerRegSave</a></div><div class="ttdeci">@ MachineOutlinerRegSave</div><div class="ttdoc">Emit a call and tail-call.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07097">AArch64InstrInfo.cpp:7097</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a00bd5f8fc1c23cffaa56ecb4cf6443d4"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a00bd5f8fc1c23cffaa56ecb4cf6443d4">forwardCopyWillClobberTuple</a></div><div class="ttdeci">static bool forwardCopyWillClobberTuple(unsigned DestReg, unsigned SrcReg, unsigned NumRegs)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03416">AArch64InstrInfo.cpp:3416</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_ad08ed580345a51c50d9477dec1e65818"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(Register RegNo, unsigned flags=0, unsigned SubReg=0) const</div><div class="ttdoc">Add a new virtual register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00097">MachineInstrBuilder.h:97</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ac15c0fdff1ea78da81fb615670cbd7c1"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ac15c0fdff1ea78da81fb615670cbd7c1">outliningCandidatesSigningScopeConsensus</a></div><div class="ttdeci">static bool outliningCandidatesSigningScopeConsensus(const outliner::Candidate &amp;a, const outliner::Candidate &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07127">AArch64InstrInfo.cpp:7127</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_aec748fa81e1488192450f0b2a8d1aeca"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aec748fa81e1488192450f0b2a8d1aeca">llvm::MachineInstrBuilder::addUse</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addUse(Register RegNo, unsigned Flags=0, unsigned SubReg=0) const</div><div class="ttdoc">Add a virtual register use operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00123">MachineInstrBuilder.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a92d46fa856af865f8c997f97596990ec"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a92d46fa856af865f8c997f97596990ec">llvm::MachineRegisterInfo::hasOneDef</a></div><div class="ttdeci">bool hasOneDef(Register RegNo) const</div><div class="ttdoc">Return true if there is exactly one operand defining the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00466">MachineRegisterInfo.h:466</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a296286c6430a892d841cb513531660b8"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a296286c6430a892d841cb513531660b8">llvm::MachineCombinerPattern::FMULSUBH_OP2</a></div><div class="ttdeci">@ FMULSUBH_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05adf327b07510cec09ba74659917d2cb7d"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05adf327b07510cec09ba74659917d2cb7d">llvm::MachineCombinerPattern::MULSUBv4i16_OP2</a></div><div class="ttdeci">@ MULSUBv4i16_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a088e2740f3c34806eb6ecdf02a03a958"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a088e2740f3c34806eb6ecdf02a03a958">findCondCodeUsedByInstr</a></div><div class="ttdeci">static AArch64CC::CondCode findCondCodeUsedByInstr(const MachineInstr &amp;Instr)</div><div class="ttdoc">Find a condition code used by the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01593">AArch64InstrInfo.cpp:1593</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a29ca12a368c8c3752c4cf28a39468b44"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a29ca12a368c8c3752c4cf28a39468b44">llvm::MachineCombinerPattern::FMLAv1i64_indexed_OP1</a></div><div class="ttdeci">@ FMLAv1i64_indexed_OP1</div></div>
<div class="ttc" id="astructllvm_1_1RegImmPair_html"><div class="ttname"><a href="structllvm_1_1RegImmPair.html">llvm::RegImmPair</a></div><div class="ttdoc">Used to describe a register and immediate addition.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00078">TargetInstrInfo.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aafacf84de1cb994a92dc045f4aa1d518"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518">llvm::MachineInstr::MIFlag</a></div><div class="ttdeci">MIFlag</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00082">MachineInstr.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="astructStatus_html"><div class="ttname"><a href="structStatus.html">Status</a></div><div class="ttdef"><b>Definition:</b> <a href="SIModeRegister_8cpp_source.html#l00029">SIModeRegister.cpp:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acae72f6ab1071b7ec87b741a8bef582b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">llvm::MachineBasicBlock::instr_end</a></div><div class="ttdeci">instr_iterator instr_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00295">MachineBasicBlock.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a4ea277721b4e63804715a62de87e9a72"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">llvm::MachineRegisterInfo::use_nodbg_empty</a></div><div class="ttdeci">bool use_nodbg_empty(Register RegNo) const</div><div class="ttdoc">use_nodbg_empty - Return true if there are no non-Debug instructions using the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00588">MachineRegisterInfo.h:588</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a3ba9d4ba817e0fd17811e4f297bb0394"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a3ba9d4ba817e0fd17811e4f297bb0394">llvm::MachineCombinerPattern::MULSUBv8i16_OP2</a></div><div class="ttdeci">@ MULSUBv8i16_OP2</div></div>
<div class="ttc" id="aTargetOptions_8h_html"><div class="ttname"><a href="TargetOptions_8h.html">TargetOptions.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a431b2e3ea036a96be92385e07bfbb0ad"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a431b2e3ea036a96be92385e07bfbb0ad">llvm::AArch64II::MO_FRAGMENT</a></div><div class="ttdeci">@ MO_FRAGMENT</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00701">AArch64BaseInfo.h:701</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab68b56d06e4d0e81788707d8b1c1e634"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab68b56d06e4d0e81788707d8b1c1e634">llvm::MachineCombinerPattern::MULSUBv4i16_OP1</a></div><div class="ttdeci">@ MULSUBv4i16_OP1</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a18f4a66d99dba4cf2a2c1054d796cf9c"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a18f4a66d99dba4cf2a2c1054d796cf9c">removeCopies</a></div><div class="ttdeci">static unsigned removeCopies(const MachineRegisterInfo &amp;MRI, unsigned VReg)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00523">AArch64InstrInfo.cpp:523</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a7f0521fa2de44271fd4b909ea7351ef3"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">llvm::MachineBasicBlock::getFirstTerminator</a></div><div class="ttdeci">iterator getFirstTerminator()</div><div class="ttdoc">Returns an iterator to the first terminator instruction of this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00240">MachineBasicBlock.cpp:240</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_a171c7253c2b03171bdf22c1bd910f674"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a171c7253c2b03171bdf22c1bd910f674">llvm::TargetMachine::getMCAsmInfo</a></div><div class="ttdeci">const MCAsmInfo * getMCAsmInfo() const</div><div class="ttdoc">Return target specific asm information.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00213">TargetMachine.h:213</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a832ad315a355f4ddcc32f189f34e28a9"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a832ad315a355f4ddcc32f189f34e28a9">llvm::AArch64_AM::encodeLogicalImmediate</a></div><div class="ttdeci">static uint64_t encodeLogicalImmediate(uint64_t imm, unsigned regSize)</div><div class="ttdoc">encodeLogicalImmediate - Return the encoded immediate value for a logical immediate instruction of th...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00283">AArch64AddressingModes.h:283</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a6030b34ba7d1e280088089c0e269bbed"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a6030b34ba7d1e280088089c0e269bbed">appendVGScaledOffsetExpr</a></div><div class="ttdeci">static void appendVGScaledOffsetExpr(SmallVectorImpl&lt; char &gt; &amp;Expr, int NumBytes, int NumVGScaledBytes, unsigned VG, llvm::raw_string_ostream &amp;Comment)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04161">AArch64InstrInfo.cpp:4161</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">llvm::AArch64CC::GE</a></div><div class="ttdeci">@ GE</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00265">AArch64BaseInfo.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ae34c996b58df9b9ce6695a0c8b70c533"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ae34c996b58df9b9ce6695a0c8b70c533">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">MachineInstrBundleIterator&lt; MachineInstr &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00273">MachineBasicBlock.h:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a833c45aff4e26b616764ec936994bf45"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a833c45aff4e26b616764ec936994bf45">getUsedNZCV</a></div><div class="ttdeci">static UsedNZCV getUsedNZCV(AArch64CC::CondCode CC)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01600">AArch64InstrInfo.cpp:1600</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a6ba514594eb802f087046edbe201f8f4"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a6ba514594eb802f087046edbe201f8f4">llvm::MachineFrameInfo::setStackID</a></div><div class="ttdeci">void setStackID(int ObjectIdx, uint8_t ID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00736">MachineFrameInfo.h:736</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a9b48cb80ee1534c2b51d789b673137c1"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">llvm::MachineOperand::getMBB</a></div><div class="ttdeci">MachineBasicBlock * getMBB() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00571">MachineOperand.h:571</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a1c6c6052f4f028c5fc16a59cce34dd14"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a1c6c6052f4f028c5fc16a59cce34dd14">llvm::AArch64InstrInfo::shouldClusterMemOps</a></div><div class="ttdeci">bool shouldClusterMemOps(ArrayRef&lt; const MachineOperand * &gt; BaseOps1, ArrayRef&lt; const MachineOperand * &gt; BaseOps2, unsigned NumLoads, unsigned NumBytes) const override</div><div class="ttdoc">Detect opportunities for ldp/stp formation.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03336">AArch64InstrInfo.cpp:3336</a></div></div>
<div class="ttc" id="aMCAsmInfo_8h_html"><div class="ttname"><a href="MCAsmInfo_8h.html">MCAsmInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a2a037132ef2f33daa0522efe92a983ed"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a2a037132ef2f33daa0522efe92a983ed">llvm::AArch64InstrInfo::isGPRCopy</a></div><div class="ttdeci">static bool isGPRCopy(const MachineInstr &amp;MI)</div><div class="ttdoc">Does this instruction rename a GPR without modifying bits?</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02065">AArch64InstrInfo.cpp:2065</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_ac4ab9dd9440c55bee1aa4a1195cee759"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">llvm::details::FixedOrScalableQuantity::getKnownMinValue</a></div><div class="ttdeci">constexpr ScalarTy getKnownMinValue() const</div><div class="ttdoc">Returns the minimum value this quantity can represent.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00163">TypeSize.h:163</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4d2c96836214c1f13357ffb99125fb4a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">llvm::MachineBasicBlock::successors</a></div><div class="ttdeci">iterator_range&lt; succ_iterator &gt; successors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00396">MachineBasicBlock.h:396</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_af93867ed83dede2b0063fbaa26a3086d"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#af93867ed83dede2b0063fbaa26a3086d">llvm::AArch64InstrInfo::isPTestLikeOpcode</a></div><div class="ttdeci">bool isPTestLikeOpcode(unsigned Opc) const</div><div class="ttdoc">Returns true if the opcode is for an SVE instruction that sets the condition codes as if it's results...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08292">AArch64InstrInfo.cpp:8292</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad5f691fdc1a09aaf6df5fef958b35a3d"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator MBBI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00075">AArch64SLSHardening.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0363204b5fbab08a46f5a7cd7f376f78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns the opcode of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00516">MachineInstr.h:516</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a01bf72631b0bc836a8c07fe840b13233"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">llvm::MachineRegisterInfo::hasOneNonDBGUse</a></div><div class="ttdeci">bool hasOneNonDBGUse(Register RegNo) const</div><div class="ttdoc">hasOneNonDBGUse - Return true if there is exactly one non-Debug use of the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00417">MachineRegisterInfo.cpp:417</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ae25253bd68535ed8bdcb98a751098fe4ae6d079724e013e1fd057cf6fcb57675a"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae6d079724e013e1fd057cf6fcb57675a">MachineOutlinerDefault</a></div><div class="ttdeci">@ MachineOutlinerDefault</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07093">AArch64InstrInfo.cpp:7093</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a521b32f7c9c577a6b39781213eb2cb30"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a521b32f7c9c577a6b39781213eb2cb30">llvm::MachineCombinerPattern::FMLAv4i16_indexed_OP1</a></div><div class="ttdeci">@ FMLAv4i16_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a0ac798ae63c221cbb32a74a107d06856"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a0ac798ae63c221cbb32a74a107d06856">llvm::MachineCombinerPattern::SUBADD_OP1</a></div><div class="ttdeci">@ SUBADD_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a84639a0d1d87c7eff7b7bb2535f80c3e"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a84639a0d1d87c7eff7b7bb2535f80c3e">CBZDisplacementBits</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; CBZDisplacementBits(&quot;aarch64-cbz-offset-bits&quot;, cl::Hidden, cl::init(19), cl::desc(&quot;Restrict range of CB[N]Z instructions (DEBUG)&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1MCInstBuilder_html_aa296050dba06115b42a55769847379ee"><div class="ttname"><a href="classllvm_1_1MCInstBuilder.html#aa296050dba06115b42a55769847379ee">llvm::MCInstBuilder::addImm</a></div><div class="ttdeci">MCInstBuilder &amp; addImm(int64_t Val)</div><div class="ttdoc">Add a new integer immediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstBuilder_8h_source.html#l00037">MCInstBuilder.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_acb8985e96f5a8a270fc9d57fc8c99920"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#acb8985e96f5a8a270fc9d57fc8c99920">llvm::AArch64InstrInfo::decomposeMachineOperandsTargetFlags</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; decomposeMachineOperandsTargetFlags(unsigned TF) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l06970">AArch64InstrInfo.cpp:6970</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ae25253bd68535ed8bdcb98a751098fe4a91f63a4449fb0a4504497465cc2f4c9a"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a91f63a4449fb0a4504497465cc2f4c9a">MachineOutlinerNoLRSave</a></div><div class="ttdeci">@ MachineOutlinerNoLRSave</div><div class="ttdoc">Only emit a branch.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07095">AArch64InstrInfo.cpp:7095</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aee6f9bcc13cce461b198d2229eeaf6ad"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aee6f9bcc13cce461b198d2229eeaf6ad">llvm::MachineCombinerPattern::MULADDv8i16_indexed_OP1</a></div><div class="ttdeci">@ MULADDv8i16_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05af18f788c6a2a2a0ac97b233744ccbeaa"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05af18f788c6a2a2a0ac97b233744ccbeaa">llvm::MachineCombinerPattern::MULADDv8i16_indexed_OP2</a></div><div class="ttdeci">@ MULADDv8i16_indexed_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab979122f21b7fa46d3d2d9b21983068b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab979122f21b7fa46d3d2d9b21983068b">llvm::MachineOperand::setIsUndef</a></div><div class="ttdeci">void setIsUndef(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00530">MachineOperand.h:530</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html"><div class="ttname"><a href="classllvm_1_1StackOffset.html">llvm::StackOffset</a></div><div class="ttdoc">StackOffset holds a fixed and a scalable offset in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00036">TypeSize.h:36</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64ISD_html_a35ad1b8db0dfad0b69c9185c5fe24e19a8ee06ddad96ab8a83a8513e4b5b49717"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19a8ee06ddad96ab8a83a8513e4b5b49717">llvm::AArch64ISD::ADR</a></div><div class="ttdeci">@ ADR</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00076">AArch64ISelLowering.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_abb0a82cf9ab3cf0c256918c17512f987a7a1920d61156abc05a60135aefe8bc67"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#abb0a82cf9ab3cf0c256918c17512f987a7a1920d61156abc05a60135aefe8bc67">FMAInstKind::Default</a></div><div class="ttdeci">@ Default</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a8e8f53000ca7074ce5b8d4c836d3b4cb"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a8e8f53000ca7074ce5b8d4c836d3b4cb">TBZDisplacementBits</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; TBZDisplacementBits(&quot;aarch64-tbz-offset-bits&quot;, cl::Hidden, cl::init(14), cl::desc(&quot;Restrict range of TB[N]Z instructions (DEBUG)&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a75eb135014670ce946e78739cdc9b51b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00384">MachineOperand.h:384</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2aa982c2e9455a191597a4d7373b8f5d"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2aa982c2e9455a191597a4d7373b8f5d">llvm::MachineCombinerPattern::FMULADDS_OP1</a></div><div class="ttdeci">@ FMULADDS_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a147765c12581b905031f7e6a52c6a7e8"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a147765c12581b905031f7e6a52c6a7e8">llvm::MachineCombinerPattern::FMULv4i16_indexed_OP1</a></div><div class="ttdeci">@ FMULv4i16_indexed_OP1</div></div>
<div class="ttc" id="aRISCVRedundantCopyElimination_8cpp_html_a77c69067ae8279bc00ab8757731e90d7"><div class="ttname"><a href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a></div><div class="ttdeci">auto CC</div><div class="ttdef"><b>Definition:</b> <a href="RISCVRedundantCopyElimination_8cpp_source.html#l00079">RISCVRedundantCopyElimination.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64RegisterInfo_html"><div class="ttname"><a href="classllvm_1_1AArch64RegisterInfo.html">llvm::AArch64RegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64RegisterInfo_8h_source.html#l00026">AArch64RegisterInfo.h:26</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4ae4ec11c9120413385aef372aaa2a390c">MachineOutlinerThunk</a></div><div class="ttdeci">@ MachineOutlinerThunk</div><div class="ttdoc">Emit a call and return.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07096">AArch64InstrInfo.cpp:7096</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html">llvm::MCRegisterInfo</a></div><div class="ttdoc">MCRegisterInfo base class - We assume that the target defines a static array of MCRegisterDesc object...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00135">MCRegisterInfo.h:135</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8dfa686bcdfaefdfe3f49acbfe6f680bc22d"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa686bcdfaefdfe3f49acbfe6f680bc22d">llvm::CodeModel::Tiny</a></div><div class="ttdeci">@ Tiny</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00031">CodeGen.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a3f0e9880b84d39c823228682966c4da3"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a3f0e9880b84d39c823228682966c4da3">llvm::MachineCombinerPattern::MULADDv2i32_indexed_OP2</a></div><div class="ttdeci">@ MULADDv2i32_indexed_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_af551bfe7ee8756cbe50de3bb97478723"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#af551bfe7ee8756cbe50de3bb97478723">llvm::MachineInstr::getRegClassConstraint</a></div><div class="ttdeci">const TargetRegisterClass * getRegClassConstraint(unsigned OpIdx, const TargetInstrInfo *TII, const TargetRegisterInfo *TRI) const</div><div class="ttdoc">Compute the static register class constraint for operand OpIdx.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00888">MachineInstr.cpp:888</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a756347c46f7abfa1e1fefcc39502c680"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a756347c46f7abfa1e1fefcc39502c680">llvm::AArch64CC::EQ</a></div><div class="ttdeci">@ EQ</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00255">AArch64BaseInfo.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html">llvm::TargetSubtargetInfo</a></div><div class="ttdoc">TargetSubtargetInfo - Generic base class for all target subtargets.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00062">TargetSubtargetInfo.h:62</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad12a58d7f81a304e0c568ad2210bc4fe"><div class="ttname"><a href="namespacellvm.html#ad12a58d7f81a304e0c568ad2210bc4fe">llvm::SignExtend64</a></div><div class="ttdeci">constexpr int64_t SignExtend64(uint64_t x)</div><div class="ttdoc">Sign-extend the number in the bottom B bits of X to a 64-bit integer.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00557">MathExtras.h:557</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a6bc2b53fce3b1d8975eea027d8a8eb90"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">llvm::ArrayRef::front</a></div><div class="ttdeci">const T &amp; front() const</div><div class="ttdoc">front - Get the first element.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00166">ArrayRef.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a2fe077e55074778fb173f0f5cc8f5ca2"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a2fe077e55074778fb173f0f5cc8f5ca2">llvm::AArch64InstrInfo::canInsertSelect</a></div><div class="ttdeci">bool canInsertSelect(const MachineBasicBlock &amp;, ArrayRef&lt; MachineOperand &gt; Cond, Register, Register, Register, int &amp;, int &amp;, int &amp;) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00602">AArch64InstrInfo.cpp:602</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html_ac92bd14c26009fdfdc00576604da950f"><div class="ttname"><a href="classllvm_1_1StackOffset.html#ac92bd14c26009fdfdc00576604da950f">llvm::StackOffset::getScalable</a></div><div class="ttdeci">static StackOffset getScalable(int64_t Scalable)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00046">TypeSize.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">llvm::MachineMemOperand::MOLoad</a></div><div class="ttdeci">@ MOLoad</div><div class="ttdoc">The memory access reads data.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00134">MachineMemOperand.h:134</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a247230f547064b27022d70c0aeb86682"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a247230f547064b27022d70c0aeb86682">llvm::MachineFunction::addFrameInst</a></div><div class="ttdeci">unsigned addFrameInst(const MCCFIInstruction &amp;Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00317">MachineFunction.cpp:317</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a028a8c5113d40d8c3f4427053bf36738"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">llvm::MachineOperand::getSubReg</a></div><div class="ttdeci">unsigned getSubReg() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00374">MachineOperand.h:374</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acce9c12cc977a88dc7bc51493ce7681c"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acce9c12cc977a88dc7bc51493ce7681c">llvm::MachineBasicBlock::addLiveIn</a></div><div class="ttdeci">void addLiveIn(MCRegister PhysReg, LaneBitmask LaneMask=LaneBitmask::getAll())</div><div class="ttdoc">Adds the specified register as a live in.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00408">MachineBasicBlock.h:408</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4a1f8baa8091e277a45471c02e9bf4bf"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4a1f8baa8091e277a45471c02e9bf4bf">llvm::MachineCombinerPattern::MULSUBv8i16_OP1</a></div><div class="ttdeci">@ MULSUBv8i16_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a74f4174a5d158b611050cdf7abd04b58"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a74f4174a5d158b611050cdf7abd04b58">llvm::AArch64InstrInfo::getSerializableMachineMemOperandTargetFlags</a></div><div class="ttdeci">ArrayRef&lt; std::pair&lt; MachineMemOperand::Flags, const char * &gt; &gt; getSerializableMachineMemOperandTargetFlags() const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07005">AArch64InstrInfo.cpp:7005</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a3fefa051734eb13c5ee1a4741fe03310"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a3fefa051734eb13c5ee1a4741fe03310">findCondCodeUseOperandIdxForBranchOrSelect</a></div><div class="ttdeci">static int findCondCodeUseOperandIdxForBranchOrSelect(const MachineInstr &amp;Instr)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01562">AArch64InstrInfo.cpp:1562</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_ad071e937f4986e51fd3fd54b10888894"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#ad071e937f4986e51fd3fd54b10888894">llvm::TargetInstrInfo::isSchedulingBoundary</a></div><div class="ttdeci">virtual bool isSchedulingBoundary(const MachineInstr &amp;MI, const MachineBasicBlock *MBB, const MachineFunction &amp;MF) const</div><div class="ttdoc">Test if the given instruction should be considered a scheduling boundary.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l01155">TargetInstrInfo.cpp:1155</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdeci">@ FrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00080">ISDOpcodes.h:80</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ad4f2b7d78f5080ad5179f3c53aa447da"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ad4f2b7d78f5080ad5179f3c53aa447da">getRegClass</a></div><div class="ttdeci">static const TargetRegisterClass * getRegClass(const MachineInstr &amp;MI, Register Reg)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03228">AArch64InstrInfo.cpp:3228</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a06abc64620fa2741d4756f05c337c9aa"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a06abc64620fa2741d4756f05c337c9aa">llvm::AArch64InstrInfo::decomposeStackOffsetForFrameOffsets</a></div><div class="ttdeci">static void decomposeStackOffsetForFrameOffsets(const StackOffset &amp;Offset, int64_t &amp;NumBytes, int64_t &amp;NumPredicateVectors, int64_t &amp;NumDataVectors)</div><div class="ttdoc">Returns the offset in parts to which this frame offset can be decomposed for the purpose of describin...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04137">AArch64InstrInfo.cpp:4137</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64Subtarget_html_a69f50b8c0a70f57950c142ca963e1cb5"><div class="ttname"><a href="classllvm_1_1AArch64Subtarget.html#a69f50b8c0a70f57950c142ca963e1cb5">llvm::AArch64Subtarget::getRegisterInfo</a></div><div class="ttdeci">const AArch64RegisterInfo * getRegisterInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Subtarget_8h_source.html#l00182">AArch64Subtarget.h:182</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ae25253bd68535ed8bdcb98a751098fe4"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4">MachineOutlinerClass</a></div><div class="ttdeci">MachineOutlinerClass</div><div class="ttdoc">Constants defining how certain sequences should be outlined.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07092">AArch64InstrInfo.cpp:7092</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a402d07e412b1466bf04c19cfde24de49"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a402d07e412b1466bf04c19cfde24de49">llvm::AArch64InstrInfo::hasUnscaledLdStOffset</a></div><div class="ttdeci">static bool hasUnscaledLdStOffset(unsigned Opc)</div><div class="ttdoc">Return true if it has an unscaled load/store offset.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02182">AArch64InstrInfo.cpp:2182</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_af66bca919a5501ae9f377298fd684864"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#af66bca919a5501ae9f377298fd684864">llvm::AArch64InstrInfo::getLdStBaseOp</a></div><div class="ttdeci">static const MachineOperand &amp; getLdStBaseOp(const MachineInstr &amp;MI)</div><div class="ttdoc">Returns the base register operator of a load/store.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03213">AArch64InstrInfo.cpp:3213</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64FunctionInfo_html_a606dce8fc572cecd6eab6f419f11aa6d"><div class="ttname"><a href="classllvm_1_1AArch64FunctionInfo.html#a606dce8fc572cecd6eab6f419f11aa6d">llvm::AArch64FunctionInfo::shouldSignReturnAddress</a></div><div class="ttdeci">bool shouldSignReturnAddress(const MachineFunction &amp;MF) const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64MachineFunctionInfo_8cpp_source.html#l00125">AArch64MachineFunctionInfo.cpp:125</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a7e75394a33f6a5897d7a14c0ba5d44f1a2f11475361161d9ce95a2f7be74de342"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a2f11475361161d9ce95a2f7be74de342">llvm::AArch64_AM::ASR</a></div><div class="ttdeci">@ ASR</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00037">AArch64AddressingModes.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a7663d9ec7fc1457a7d7f3eeaeb3b356a"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a7663d9ec7fc1457a7d7f3eeaeb3b356a">llvm::AArch64InstrInfo::loadRegFromStackSlot</a></div><div class="ttdeci">void loadRegFromStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, Register DestReg, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI, Register VReg) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03976">AArch64InstrInfo.cpp:3976</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a23bfbcda0e3522bc7ca5a7ca894d4ae5"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a23bfbcda0e3522bc7ca5a7ca894d4ae5">llvm::AArch64InstrInfo::getRegisterInfo</a></div><div class="ttdeci">const AArch64RegisterInfo &amp; getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - TargetInstrInfo is a superset of MRegister info.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00045">AArch64InstrInfo.h:45</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a6b4cc04be2297ae20e94ed06adcc9fef"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a6b4cc04be2297ae20e94ed06adcc9fef">genFusedMultiplyIdx</a></div><div class="ttdeci">static MachineInstr * genFusedMultiplyIdx(MachineFunction &amp;MF, MachineRegisterInfo &amp;MRI, const TargetInstrInfo *TII, MachineInstr &amp;Root, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, unsigned IdxMulOpd, unsigned MaddOpc, const TargetRegisterClass *RC)</div><div class="ttdoc">genFusedMultiplyIdx - Helper to generate fused multiply accumulate instructions.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05737">AArch64InstrInfo.cpp:5737</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a6885e40448874565521daac98e11f50d"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a6885e40448874565521daac98e11f50d">llvm::TargetInstrInfo::describeLoadedValue</a></div><div class="ttdeci">virtual std::optional&lt; ParamLoadedValue &gt; describeLoadedValue(const MachineInstr &amp;MI, Register Reg) const</div><div class="ttdoc">Produce the expression describing the MI loading a value into the physical register Reg.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l01308">TargetInstrInfo.cpp:1308</a></div></div>
<div class="ttc" id="aclassllvm_1_1StatepointOpers_html"><div class="ttname"><a href="classllvm_1_1StatepointOpers.html">llvm::StatepointOpers</a></div><div class="ttdoc">MI-level Statepoint operands.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00158">StackMaps.h:158</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a7e75394a33f6a5897d7a14c0ba5d44f1ad2f6771d4027a09ba1d0de2e5ea54470"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1ad2f6771d4027a09ba1d0de2e5ea54470">llvm::AArch64_AM::UXTX</a></div><div class="ttdeci">@ UXTX</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00044">AArch64AddressingModes.h:44</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_af975a2c02ec432e792cd734ce52fa02c"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#af975a2c02ec432e792cd734ce52fa02c">canCombineWithMUL</a></div><div class="ttdeci">static bool canCombineWithMUL(MachineBasicBlock &amp;MBB, MachineOperand &amp;MO, unsigned MulOpc, unsigned ZeroReg)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04931">AArch64InstrInfo.cpp:4931</a></div></div>
<div class="ttc" id="aAArch64MIPeepholeOpt_8cpp_html_a96d5dc120196819fbfbc257cba09b2aa"><div class="ttname"><a href="AArch64MIPeepholeOpt_8cpp.html#a96d5dc120196819fbfbc257cba09b2aa">Insn</a></div><div class="ttdeci">SmallVector&lt; AArch64_IMM::ImmInsnModel, 4 &gt; Insn</div><div class="ttdef"><b>Definition:</b> <a href="AArch64MIPeepholeOpt_8cpp_source.html#l00129">AArch64MIPeepholeOpt.cpp:129</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a08dfa5dc60f3899e1cd19eebdb70b54c"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a08dfa5dc60f3899e1cd19eebdb70b54c">llvm::MachineCombinerPattern::FMULv4i16_indexed_OP2</a></div><div class="ttdeci">@ FMULv4i16_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">llvm::AArch64CC::VS</a></div><div class="ttdeci">@ VS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00261">AArch64BaseInfo.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a6ba8f62a5514943195111193dfd7ae08"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a6ba8f62a5514943195111193dfd7ae08">llvm::AArch64InstrInfo::isPairedLdSt</a></div><div class="ttdeci">static bool isPairedLdSt(const MachineInstr &amp;MI)</div><div class="ttdoc">Returns whether the instruction is a paired load/store.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03193">AArch64InstrInfo.cpp:3193</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a05f67657336e5c8274dc9081a577c115"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a05f67657336e5c8274dc9081a577c115">llvm::MachineInstr::mergeFlagsWith</a></div><div class="ttdeci">uint16_t mergeFlagsWith(const MachineInstr &amp;Other) const</div><div class="ttdoc">Return the MIFlags which represent both MachineInstrs.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00529">MachineInstr.cpp:529</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a10add2603cf9d4706e64a3605783b764"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a10add2603cf9d4706e64a3605783b764">llvm::MCRegisterInfo::isSuperRegisterEq</a></div><div class="ttdeci">bool isSuperRegisterEq(MCRegister RegA, MCRegister RegB) const</div><div class="ttdoc">Returns true if RegB is a super-register of RegA or if RegB == RegA.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00574">MCRegisterInfo.h:574</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64Subtarget_html_aa2bf24e995494a7c64d8f3e02818ad30"><div class="ttname"><a href="classllvm_1_1AArch64Subtarget.html#aa2bf24e995494a7c64d8f3e02818ad30">llvm::AArch64Subtarget::ClassifyGlobalReference</a></div><div class="ttdeci">unsigned ClassifyGlobalReference(const GlobalValue *GV, const TargetMachine &amp;TM) const</div><div class="ttdoc">ClassifyGlobalReference - Find the target operand flags that describe how a global value should be re...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Subtarget_8cpp_source.html#l00359">AArch64Subtarget.cpp:359</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a251557179fe64bb09bd7e327c60c6b24"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">llvm::TargetRegisterInfo::getRegSizeInBits</a></div><div class="ttdeci">unsigned getRegSizeInBits(const TargetRegisterClass &amp;RC) const</div><div class="ttdoc">Return the size in bits of a register from class RC.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00279">TargetRegisterInfo.h:279</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05afb477086016ec7ad3f992288ce2e7d9d"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05afb477086016ec7ad3f992288ce2e7d9d">llvm::MachineCombinerPattern::MULADDv2i32_indexed_OP1</a></div><div class="ttdeci">@ MULADDv2i32_indexed_OP1</div></div>
<div class="ttc" id="aclassuint16__t_html"><div class="ttname"><a href="classuint16__t.html">uint16_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ae68d159179d37dc7969439d842e2644f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const LLVMTargetMachine &amp; getTarget() const</div><div class="ttdoc">getTarget - Return the target machine this machine code is compiled with</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00668">MachineFunction.h:668</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ad301df8bf0c11d0c17113d3c221025d8"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ad301df8bf0c11d0c17113d3c221025d8">createDefCFAExpression</a></div><div class="ttdeci">static MCCFIInstruction createDefCFAExpression(const TargetRegisterInfo &amp;TRI, unsigned Reg, const StackOffset &amp;Offset)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04191">AArch64InstrInfo.cpp:4191</a></div></div>
<div class="ttc" id="astructllvm_1_1DestSourcePair_html"><div class="ttname"><a href="structllvm_1_1DestSourcePair.html">llvm::DestSourcePair</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00069">TargetInstrInfo.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a4d52ee98b63ac121fc09f1a5b04358ed"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a4d52ee98b63ac121fc09f1a5b04358ed">llvm::AArch64InstrInfo::getAddrModeFromMemoryOp</a></div><div class="ttdeci">std::optional&lt; ExtAddrMode &gt; getAddrModeFromMemoryOp(const MachineInstr &amp;MemI, const TargetRegisterInfo *TRI) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02598">AArch64InstrInfo.cpp:2598</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineModuleInfo_html_ac1a4ac2dc30f53dff05d2c7b2d8ebaef"><div class="ttname"><a href="classllvm_1_1MachineModuleInfo.html#ac1a4ac2dc30f53dff05d2c7b2d8ebaef">llvm::MachineModuleInfo::getMachineFunction</a></div><div class="ttdeci">MachineFunction * getMachineFunction(const Function &amp;F) const</div><div class="ttdoc">Returns the MachineFunction associated to IR function F if there is one, otherwise nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineModuleInfo_8cpp_source.html#l00091">MachineModuleInfo.cpp:91</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a195a0fee60fb5a1164767ec13d9729dd"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a195a0fee60fb5a1164767ec13d9729dd">llvm::AArch64InstrInfo::isAddImmediate</a></div><div class="ttdeci">std::optional&lt; RegImmPair &gt; isAddImmediate(const MachineInstr &amp;MI, Register Reg) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08167">AArch64InstrInfo.cpp:8167</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__IMM_html_a77a4e6615fbc6c2bbcf179370dbd0fa9"><div class="ttname"><a href="namespacellvm_1_1AArch64__IMM.html#a77a4e6615fbc6c2bbcf179370dbd0fa9">llvm::AArch64_IMM::expandMOVImm</a></div><div class="ttdeci">void expandMOVImm(uint64_t Imm, unsigned BitSize, SmallVectorImpl&lt; ImmInsnModel &gt; &amp;Insn)</div><div class="ttdoc">Expand a MOVi32imm or MOVi64imm pseudo instruction to one or more real move-immediate instructions to...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandImm_8cpp_source.html#l00426">AArch64ExpandImm.cpp:426</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3435a2381e60e842e915f85c931b7dde"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">llvm::MachineBasicBlock::insert</a></div><div class="ttdeci">instr_iterator insert(instr_iterator I, MachineInstr *M)</div><div class="ttdoc">Insert MI into the instruction list before I, possibly inside a bundle.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01336">MachineBasicBlock.cpp:1336</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="aMachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARCISD_html_a383dfc381bd557f340886bb106e3d92ea0e21991e38db8b5d09e9e301406cfd13"><div class="ttname"><a href="namespacellvm_1_1ARCISD.html#a383dfc381bd557f340886bb106e3d92ea0e21991e38db8b5d09e9e301406cfd13">llvm::ARCISD::RET</a></div><div class="ttdeci">@ RET</div><div class="ttdef"><b>Definition:</b> <a href="ARCISelLowering_8h_source.html#l00052">ARCISelLowering.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a8c161f5f015730ac6853c802c3693a41"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">llvm::MachineInstr::hasUnmodeledSideEffects</a></div><div class="ttdeci">bool hasUnmodeledSideEffects() const</div><div class="ttdoc">Return true if this instruction has side effects that are not modeled by mayLoad / mayStore,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01458">MachineInstr.cpp:1458</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64_html_a2a41a022b24374a579418d7d2476e6daabba4d0fbf16c6ed6a4a264351f1441e8"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a2a41a022b24374a579418d7d2476e6daabba4d0fbf16c6ed6a4a264351f1441e8">llvm::AArch64::ElementSizeMask</a></div><div class="ttdeci">@ ElementSizeMask</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00553">AArch64InstrInfo.h:553</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_aaa68daaf8d7b773d012887c92c2023ce"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">llvm::MachineOperand::getIndex</a></div><div class="ttdeci">int getIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00576">MachineOperand.h:576</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html"><div class="ttname"><a href="classllvm_1_1TypeSize.html">llvm::TypeSize</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00314">TypeSize.h:314</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab91852340bbcfb51939f35ee372fd22d"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab91852340bbcfb51939f35ee372fd22d">llvm::MachineCombinerPattern::MULSUBv8i16_indexed_OP1</a></div><div class="ttdeci">@ MULSUBv8i16_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">llvm::AArch64CC::LS</a></div><div class="ttdeci">@ LS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00264">AArch64BaseInfo.h:264</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136">llvm::ISD::INLINEASM_BR</a></div><div class="ttdeci">@ INLINEASM_BR</div><div class="ttdoc">INLINEASM_BR - Branching version of inline asm. Used by asm-goto.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01027">ISDOpcodes.h:1027</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_aaab2023296750137637c02807f30ef25"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#aaab2023296750137637c02807f30ef25">llvm::AArch64InstrInfo::getMemOpInfo</a></div><div class="ttdeci">static bool getMemOpInfo(unsigned Opcode, TypeSize &amp;Scale, unsigned &amp;Width, int64_t &amp;MinOffset, int64_t &amp;MaxOffset)</div><div class="ttdoc">Returns true if opcode Opc is a memory operation.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02672">AArch64InstrInfo.cpp:2672</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_aaa692777da741a4f7da2822b9f154a42"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#aaa692777da741a4f7da2822b9f154a42">llvm::AArch64InstrInfo::isLdStPairSuppressed</a></div><div class="ttdeci">static bool isLdStPairSuppressed(const MachineInstr &amp;MI)</div><div class="ttdoc">Return true if pairing the given load or store is hinted to be unprofitable.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02162">AArch64InstrInfo.cpp:2162</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acb4d7c02992f3821f3e3432b6c65de49"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acb4d7c02992f3821f3e3432b6c65de49">llvm::MachineBasicBlock::front</a></div><div class="ttdeci">MachineInstr &amp; front()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00288">MachineBasicBlock.h:288</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a9064e3d57055daa26f814fc94c1cecfb"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a9064e3d57055daa26f814fc94c1cecfb">llvm::MachineCombinerPattern::FMULADDH_OP2</a></div><div class="ttdeci">@ FMULADDH_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1TargetStackID_html_a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85"><div class="ttname"><a href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">llvm::TargetStackID::Default</a></div><div class="ttdeci">@ Default</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00028">TargetFrameLowering.h:28</a></div></div>
<div class="ttc" id="astructllvm_1_1ExtAddrMode_html_a6a401a868b47dfbf62f962c746579675"><div class="ttname"><a href="structllvm_1_1ExtAddrMode.html#a6a401a868b47dfbf62f962c746579675">llvm::ExtAddrMode::Displacement</a></div><div class="ttdeci">int64_t Displacement</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00091">TargetInstrInfo.h:91</a></div></div>
<div class="ttc" id="aStackMaps_8h_html"><div class="ttname"><a href="StackMaps_8h.html">StackMaps.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_aff8cfe59027e5ffa1af1ff646a2da516"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#aff8cfe59027e5ffa1af1ff646a2da516">llvm::AArch64InstrInfo::decomposeStackOffsetForDwarfOffsets</a></div><div class="ttdeci">static void decomposeStackOffsetForDwarfOffsets(const StackOffset &amp;Offset, int64_t &amp;ByteSized, int64_t &amp;VGSized)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04118">AArch64InstrInfo.cpp:4118</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a97b138b96791a09a0d9b9c77f0fb6e85"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a97b138b96791a09a0d9b9c77f0fb6e85">llvm::MCRegisterInfo::isSubRegister</a></div><div class="ttdeci">bool isSubRegister(MCRegister RegA, MCRegister RegB) const</div><div class="ttdoc">Returns true if RegB is a sub-register of RegA.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00560">MCRegisterInfo.h:560</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab4d7219c033a36da60f10c78e269e3ad"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab4d7219c033a36da60f10c78e269e3ad">llvm::MachineCombinerPattern::FMLSv8i16_indexed_OP1</a></div><div class="ttdeci">@ FMLSv8i16_indexed_OP1</div></div>
<div class="ttc" id="astructllvm_1_1ExtAddrMode_html_ae20bc007be03337ee451abb60d74260b"><div class="ttname"><a href="structllvm_1_1ExtAddrMode.html#ae20bc007be03337ee451abb60d74260b">llvm::ExtAddrMode::Scale</a></div><div class="ttdeci">int64_t Scale</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00090">TargetInstrInfo.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a51f54f2b0fd916f4c01b600905180782"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a51f54f2b0fd916f4c01b600905180782">llvm::AArch64InstrInfo::analyzeBranchPredicate</a></div><div class="ttdeci">bool analyzeBranchPredicate(MachineBasicBlock &amp;MBB, MachineBranchPredicate &amp;MBP, bool AllowModify) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00351">AArch64InstrInfo.cpp:351</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html">llvm::LiveIntervals</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00053">LiveIntervals.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ac9ad5c1f6d178b55bde924aeb418d0b2"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac9ad5c1f6d178b55bde924aeb418d0b2">llvm::MachineCombinerPattern::MULADDv4i32_OP1</a></div><div class="ttdeci">@ MULADDv4i32_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aafacf84de1cb994a92dc045f4aa1d518a9a1da4c7c2a2a2ed0d083327dd28277c"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a9a1da4c7c2a2a2ed0d083327dd28277c">llvm::MachineInstr::FmContract</a></div><div class="ttdeci">@ FmContract</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00098">MachineInstr.h:98</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_afc2ebeb83373be407903e43096e4f7b9"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#afc2ebeb83373be407903e43096e4f7b9">llvm::AArch64CC::getInvertedCondCode</a></div><div class="ttdeci">static CondCode getInvertedCondCode(CondCode Code)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00303">AArch64BaseInfo.h:303</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_abd85c9d7c51eb515a550069e9ad9445e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#abd85c9d7c51eb515a550069e9ad9445e">llvm::MachineBasicBlock::isLayoutSuccessor</a></div><div class="ttdeci">bool isLayoutSuccessor(const MachineBasicBlock *MBB) const</div><div class="ttdoc">Return true if the specified MBB will be emitted immediately after this block, such that if this bloc...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00938">MachineBasicBlock.cpp:938</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a029c7ad54d8731492ed559aa860e3395"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a029c7ad54d8731492ed559aa860e3395">llvm::AArch64InstrInfo::insertSelect</a></div><div class="ttdeci">void insertSelect(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, const DebugLoc &amp;DL, Register DstReg, ArrayRef&lt; MachineOperand &gt; Cond, Register TrueReg, Register FalseReg) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00651">AArch64InstrInfo.cpp:651</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a074d0c905ca2fb4901b31fe698abf443"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a074d0c905ca2fb4901b31fe698abf443">llvm::MachineCombinerPattern::FMULv2i64_indexed_OP2</a></div><div class="ttdeci">@ FMULv2i64_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_adff7aee2baba9b9691304bee7e76f574"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#adff7aee2baba9b9691304bee7e76f574">llvm::AArch64_AM::getShiftType</a></div><div class="ttdeci">static AArch64_AM::ShiftExtendType getShiftType(unsigned Imm)</div><div class="ttdoc">getShiftType - Extract the shift type.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00074">AArch64AddressingModes.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a91a0c1b4eac415607c4ceb0a899c4629"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a91a0c1b4eac415607c4ceb0a899c4629">llvm::AArch64CC::GT</a></div><div class="ttdeci">@ GT</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00267">AArch64BaseInfo.h:267</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a7e75394a33f6a5897d7a14c0ba5d44f1a2620d8167a503c9942cc4afded7f830d"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a2620d8167a503c9942cc4afded7f830d">llvm::AArch64_AM::UXTW</a></div><div class="ttdeci">@ UXTW</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00043">AArch64AddressingModes.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html_af5dd7241878be5eed07736eb156bb10b"><div class="ttname"><a href="classllvm_1_1SmallString.html#af5dd7241878be5eed07736eb156bb10b">llvm::SmallString::str</a></div><div class="ttdeci">StringRef str() const</div><div class="ttdoc">Explicit conversion to StringRef.</div><div class="ttdef"><b>Definition:</b> <a href="SmallString_8h_source.html#l00261">SmallString.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_abc0f8152bb9c4cdd79a31196933bb5df"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#abc0f8152bb9c4cdd79a31196933bb5df">llvm::AArch64InstrInfo::optimizeCompareInstr</a></div><div class="ttdeci">bool optimizeCompareInstr(MachineInstr &amp;CmpInstr, Register SrcReg, Register SrcReg2, int64_t CmpMask, int64_t CmpValue, const MachineRegisterInfo *MRI) const override</div><div class="ttdoc">optimizeCompareInstr - Convert the instruction supplying the argument to the comparison into one that...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01457">AArch64InstrInfo.cpp:1457</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a76f61c6784df6dc8402a8b9011041926"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">llvm::MachineOperand::isImm</a></div><div class="ttdeci">bool isImm() const</div><div class="ttdoc">isImm - Tests if this is a MO_Immediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00331">MachineOperand.h:331</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a2d997a80040d5eea603cf8ca302c2dbc"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a2d997a80040d5eea603cf8ca302c2dbc">llvm::AArch64InstrInfo::isBranchOffsetInRange</a></div><div class="ttdeci">bool isBranchOffsetInRange(unsigned BranchOpc, int64_t BrOffset) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00203">AArch64InstrInfo.cpp:203</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64ISD_html_a35ad1b8db0dfad0b69c9185c5fe24e19aa2e9d9d7c30818fd5ba551f8d3f0af34"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a35ad1b8db0dfad0b69c9185c5fe24e19aa2e9d9d7c30818fd5ba551f8d3f0af34">llvm::AArch64ISD::ADRP</a></div><div class="ttdeci">@ ADRP</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00075">AArch64ISelLowering.h:75</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2a43e332a448a5e87a619d833c162703"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2a43e332a448a5e87a619d833c162703">llvm::MachineCombinerPattern::FMLAv2i64_indexed_OP2</a></div><div class="ttdeci">@ FMLAv2i64_indexed_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">llvm::MachineMemOperand::MOStore</a></div><div class="ttdeci">@ MOStore</div><div class="ttdoc">The memory access writes data.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00136">MachineMemOperand.h:136</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ac90b2efcdfc682d9a3fc934694d1557c"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ac90b2efcdfc682d9a3fc934694d1557c">getFMULPatterns</a></div><div class="ttdeci">static bool getFMULPatterns(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineCombinerPattern &gt; &amp;Patterns)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05336">AArch64InstrInfo.cpp:5336</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6467ebe1e09a75203dd5f14bdfe21d11"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">llvm::AMDGPU::Hwreg::Width</a></div><div class="ttdeci">Width</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00449">SIDefines.h:449</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_af11a92503408a812be672ee3efc848d3"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">llvm::MachineInstr::setDesc</a></div><div class="ttdeci">void setDesc(const MCInstrDesc &amp;TID)</div><div class="ttdoc">Replace the instruction descriptor (thus opcode) of the current instruction with a new one.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01771">MachineInstr.h:1771</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ab4b44bc5aa744df4f8b70f971e8dcbf1"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ab4b44bc5aa744df4f8b70f971e8dcbf1">llvm::MachineFrameInfo::getNumObjects</a></div><div class="ttdeci">unsigned getNumObjects() const</div><div class="ttdoc">Return the number of objects.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00416">MachineFrameInfo.h:416</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a1e69956b425232693eded29d47d6d15d"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a1e69956b425232693eded29d47d6d15d">llvm::MachineCombinerPattern::MULSUBv8i16_indexed_OP2</a></div><div class="ttdeci">@ MULSUBv8i16_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ac6f2d047f840c8f78290d1a3005edf99"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ac6f2d047f840c8f78290d1a3005edf99">llvm::MachineCombinerPattern::MULSUBv16i8_OP1</a></div><div class="ttdeci">@ MULSUBv16i8_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ac3b161ec90385105cb46a08b52139e60"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">llvm::MachineInstr::removeOperand</a></div><div class="ttdeci">void removeOperand(unsigned OpNo)</div><div class="ttdoc">Erase an operand from an instruction, leaving it with one fewer operand than it started with.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00279">MachineInstr.cpp:279</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">llvm::RISCVMatInt::Imm</a></div><div class="ttdeci">@ Imm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00023">RISCVMatInt.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_1_1FPOpFusion_html_a9c71bae9f02af273833fde586d529fc5aa9dfaae1f5b7d4ebb31ccf9aee1aacce"><div class="ttname"><a href="namespacellvm_1_1FPOpFusion.html#a9c71bae9f02af273833fde586d529fc5aa9dfaae1f5b7d4ebb31ccf9aee1aacce">llvm::FPOpFusion::Fast</a></div><div class="ttdeci">@ Fast</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00037">TargetOptions.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a3fba722f44bac58d79e82bd232525152"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a3fba722f44bac58d79e82bd232525152">llvm::MachineInstrBuilder::addGlobalAddress</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addGlobalAddress(const GlobalValue *GV, int64_t Offset=0, unsigned TargetFlags=0) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00177">MachineInstrBuilder.h:177</a></div></div>
<div class="ttc" id="aCodeGen_8h_html"><div class="ttname"><a href="CodeGen_8h.html">CodeGen.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a84fb1fbcce97b415254f7d9bd38b363a"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a84fb1fbcce97b415254f7d9bd38b363a">llvm::MachineCombinerPattern::FMULv4i32_indexed_OP2</a></div><div class="ttdeci">@ FMULv4i32_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8dfa5208f558fccf9f63423fb5385bb3e75c"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa5208f558fccf9f63423fb5385bb3e75c">llvm::CodeModel::Large</a></div><div class="ttdeci">@ Large</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00031">CodeGen.h:31</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_aac1b3c004a879852010caa15e70109e0"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#aac1b3c004a879852010caa15e70109e0">isCombineInstrCandidate32</a></div><div class="ttdeci">static bool isCombineInstrCandidate32(unsigned Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04809">AArch64InstrInfo.cpp:4809</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_ab8e1321ecb267615f4f4be14b92cf03a"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#ab8e1321ecb267615f4f4be14b92cf03a">llvm::MCRegisterInfo::isSuperRegister</a></div><div class="ttdeci">bool isSuperRegister(MCRegister RegA, MCRegister RegB) const</div><div class="ttdoc">Returns true if RegB is a super-register of RegA.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00659">MCRegisterInfo.h:659</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdeci">@ Kill</div><div class="ttdoc">The last use of a register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00048">MachineInstrBuilder.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html_a3bb61639d8566c8d12f66c562d948bef"><div class="ttname"><a href="classllvm_1_1StackOffset.html#a3bb61639d8566c8d12f66c562d948bef">llvm::StackOffset::getScalable</a></div><div class="ttdeci">int64_t getScalable() const</div><div class="ttdoc">Returns the scalable component of the stack.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00055">TypeSize.h:55</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a80ba8826b4f8e7008ae9453968ed35fa"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a80ba8826b4f8e7008ae9453968ed35fa">canInstrSubstituteCmpInstr</a></div><div class="ttdeci">static bool canInstrSubstituteCmpInstr(MachineInstr &amp;MI, MachineInstr &amp;CmpInstr, const TargetRegisterInfo &amp;TRI)</div><div class="ttdoc">Check if CmpInstr can be substituted by MI.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01696">AArch64InstrInfo.cpp:1696</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00531">MachineInstrBuilder.h:531</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">The MachineFrameInfo class represents an abstract stack frame until prolog/epilog code is inserted.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00106">MachineFrameInfo.h:106</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05adfc676b68cdc9d3fb6b6dfd043d90131"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05adfc676b68cdc9d3fb6b6dfd043d90131">llvm::MachineCombinerPattern::FMLAv2f64_OP1</a></div><div class="ttdeci">@ FMLAv2f64_OP1</div></div>
<div class="ttc" id="aAArch64Subtarget_8h_html"><div class="ttname"><a href="AArch64Subtarget_8h.html">AArch64Subtarget.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pattern_html"><div class="ttname"><a href="classllvm_1_1Pattern.html">llvm::Pattern</a></div><div class="ttdef"><b>Definition:</b> <a href="FileCheckImpl_8h_source.html#l00614">FileCheckImpl.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a23fcb3c9cc9602657a3de8aa9ed0457d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">llvm::MachineInstr::findRegisterDefOperandIdx</a></div><div class="ttdeci">int findRegisterDefOperandIdx(Register Reg, bool isDead=false, bool Overlap=false, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Returns the operand index that is a def of the specified register or -1 if it is not found.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01049">MachineInstr.cpp:1049</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17e04afcf0c5efeb0eb6a9a45287b5e4"><div class="ttname"><a href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, const MIMetadata &amp;MIMD, const MCInstrDesc &amp;MCID)</div><div class="ttdoc">Builder interface. Specify how to create the initial instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00357">MachineInstrBuilder.h:357</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_ad8ce1aee13dbdcc05d20284a30e83170"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">llvm::MachinePointerInfo::getFixedStack</a></div><div class="ttdeci">static MachinePointerInfo getFixedStack(MachineFunction &amp;MF, int FI, int64_t Offset=0)</div><div class="ttdoc">Return a MachinePointerInfo record that refers to the specified FrameIndex.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l01049">MachineOperand.cpp:1049</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="aMachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a64505b70265bcadc4993631d532a5fd5"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a64505b70265bcadc4993631d532a5fd5">llvm::AArch64InstrInfo::foldMemoryOperandImpl</a></div><div class="ttdeci">MachineInstr * foldMemoryOperandImpl(MachineFunction &amp;MF, MachineInstr &amp;MI, ArrayRef&lt; unsigned &gt; Ops, MachineBasicBlock::iterator InsertPt, int FrameIndex, LiveIntervals *LIS=nullptr, VirtRegMap *VRM=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04464">AArch64InstrInfo.cpp:4464</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a0650a7436e6924414e9d28b7b7cbfd66"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a0650a7436e6924414e9d28b7b7cbfd66">llvm::AArch64InstrInfo::isQForm</a></div><div class="ttdeci">static bool isQForm(const MachineInstr &amp;MI)</div><div class="ttdoc">Returns whether the instruction is in Q form (128 bit operands)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03236">AArch64InstrInfo.cpp:3236</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_acc61376636bfc93fb1aa441743072425"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#acc61376636bfc93fb1aa441743072425">genFusedMultiply</a></div><div class="ttdeci">static MachineInstr * genFusedMultiply(MachineFunction &amp;MF, MachineRegisterInfo &amp;MRI, const TargetInstrInfo *TII, MachineInstr &amp;Root, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, unsigned IdxMulOpd, unsigned MaddOpc, const TargetRegisterClass *RC, FMAInstKind kind=FMAInstKind::Default, const Register *ReplacedAddend=nullptr)</div><div class="ttdoc">genFusedMultiply - Generate fused multiply instructions.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05588">AArch64InstrInfo.cpp:5588</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">llvm::ISD::MUL</a></div><div class="ttdeci">@ MUL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00241">ISDOpcodes.h:241</a></div></div>
<div class="ttc" id="astructllvm_1_1UsedNZCV_html_af3f54f8d3913945d66d952527d20a025"><div class="ttname"><a href="structllvm_1_1UsedNZCV.html#af3f54f8d3913945d66d952527d20a025">llvm::UsedNZCV::Z</a></div><div class="ttdeci">bool Z</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00379">AArch64InstrInfo.h:379</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab66aa5e09c8483c462584509ec18c5ea"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab66aa5e09c8483c462584509ec18c5ea">llvm::MachineCombinerPattern::MULADDW_OP2</a></div><div class="ttdeci">@ MULADDW_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a860467662b17cef898ece774ab400235"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">llvm::MachineInstrBuilder::setMIFlags</a></div><div class="ttdeci">const MachineInstrBuilder &amp; setMIFlags(unsigned Flags) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00273">MachineInstrBuilder.h:273</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_ad3ece0ac2421637044624c9b01c42466"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a></div><div class="ttdeci">MachineInstrBuilder MachineInstrBuilder &amp; DefMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00108">AArch64ExpandPseudoInsts.cpp:108</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4dea34f9dbf530101a40103639f059e2"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4dea34f9dbf530101a40103639f059e2">llvm::MachineCombinerPattern::FMLAv2f32_OP2</a></div><div class="ttdeci">@ FMLAv2f32_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a432824f0975bb863478bf4ef3a5df258"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Retuns the total number of operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00519">MachineInstr.h:519</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_aa438b91b89d93aa1caed060cfc90d1cd"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#aa438b91b89d93aa1caed060cfc90d1cd">llvm::TargetInstrInfo::genAlternativeCodeSequence</a></div><div class="ttdeci">virtual void genAlternativeCodeSequence(MachineInstr &amp;Root, MachineCombinerPattern Pattern, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, SmallVectorImpl&lt; MachineInstr * &gt; &amp;DelInstrs, DenseMap&lt; unsigned, unsigned &gt; &amp;InstIdxForVirtReg) const</div><div class="ttdoc">When getMachineCombinerPatterns() finds patterns, this function generates the instructions that could...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l01021">TargetInstrInfo.cpp:1021</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa1b36e8f37f19ad49f7c55272586c602"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa1b36e8f37f19ad49f7c55272586c602">llvm::MachineCombinerPattern::FMLSv1i64_indexed_OP2</a></div><div class="ttdeci">@ FMLSv1i64_indexed_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_aab3d65d6e0daa1da2c564a3803f207b2"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#aab3d65d6e0daa1da2c564a3803f207b2">llvm::AArch64InstrInfo::isAssociativeAndCommutative</a></div><div class="ttdeci">bool isAssociativeAndCommutative(const MachineInstr &amp;Inst, bool Invert) const override</div><div class="ttdoc">Return true when Inst is associative and commutative so that it can be reassociated.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04947">AArch64InstrInfo.cpp:4947</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4d8c9c67f03d210a1c844f09f64137c6"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4d8c9c67f03d210a1c844f09f64137c6">llvm::MachineCombinerPattern::FNMULSUBD_OP1</a></div><div class="ttdeci">@ FNMULSUBD_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ab0b0a572164f8fccd5474cb6babed129"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ab0b0a572164f8fccd5474cb6babed129">MachineOutlinerMBBFlags</a></div><div class="ttdeci">MachineOutlinerMBBFlags</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07100">AArch64InstrInfo.cpp:7100</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a791f9b87aba84585f9777360bb26d84b"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a791f9b87aba84585f9777360bb26d84b">llvm::AArch64InstrInfo::isExtendLikelyToBeFolded</a></div><div class="ttdeci">bool isExtendLikelyToBeFolded(MachineInstr &amp;ExtMI, MachineRegisterInfo &amp;MRI) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08268">AArch64InstrInfo.cpp:8268</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ad2c3bc2a42e083e2fb01153831bd0dbd"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ad2c3bc2a42e083e2fb01153831bd0dbd">llvm::MachineCombinerPattern::MULSUBX_OP1</a></div><div class="ttdeci">@ MULSUBX_OP1</div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ad85285685fc46db3f2b3b0bf90bf9184"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">llvm::MachineRegisterInfo::constrainRegClass</a></div><div class="ttdeci">const TargetRegisterClass * constrainRegClass(Register Reg, const TargetRegisterClass *RC, unsigned MinNumRegs=0)</div><div class="ttdoc">constrainRegClass - Constrain the register class of the specified virtual register to be a common sub...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00083">MachineRegisterInfo.cpp:83</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad0f8c0e82cde3bb0849fc59e3510f05a"><div class="ttname"><a href="namespacellvm.html#ad0f8c0e82cde3bb0849fc59e3510f05a">llvm::encodeULEB128</a></div><div class="ttdeci">unsigned encodeULEB128(uint64_t Value, raw_ostream &amp;OS, unsigned PadTo=0)</div><div class="ttdoc">Utility function to encode a ULEB128 value to an output stream.</div><div class="ttdef"><b>Definition:</b> <a href="LEB128_8h_source.html#l00080">LEB128.h:80</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ae8cec029e7a55bb4cc72a055c5f7b641"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ae8cec029e7a55bb4cc72a055c5f7b641">areCFlagsAliveInSuccessors</a></div><div class="ttdeci">static bool areCFlagsAliveInSuccessors(const MachineBasicBlock *MBB)</div><div class="ttdoc">Check if AArch64::NZCV should be alive in successors of MBB.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01552">AArch64InstrInfo.cpp:1552</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a3111bf1fd6e9282ec7a9b14b3a3cae3e"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a3111bf1fd6e9282ec7a9b14b3a3cae3e">llvm::AArch64InstrInfo::getLdStOffsetOp</a></div><div class="ttdeci">static const MachineOperand &amp; getLdStOffsetOp(const MachineInstr &amp;MI)</div><div class="ttdoc">Returns the the immediate offset operator of a load/store.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03221">AArch64InstrInfo.cpp:3221</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2b295e79e72029068bfb6efdc54b9515"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2b295e79e72029068bfb6efdc54b9515">llvm::MachineCombinerPattern::MULSUBv4i32_OP2</a></div><div class="ttdeci">@ MULSUBv4i32_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a7e75394a33f6a5897d7a14c0ba5d44f1a59dcdcd32661c3deea19d0b4c00aeb09"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a59dcdcd32661c3deea19d0b4c00aeb09">llvm::AArch64_AM::UXTB</a></div><div class="ttdeci">@ UXTB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00041">AArch64AddressingModes.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a54d11bc3d8843ff040af59be8bb7af13"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a54d11bc3d8843ff040af59be8bb7af13">llvm::MachineCombinerPattern::FMLSv4i16_indexed_OP1</a></div><div class="ttdeci">@ FMLSv4i16_indexed_OP1</div></div>
<div class="ttc" id="aMachineMemOperand_8h_html"><div class="ttname"><a href="MachineMemOperand_8h.html">MachineMemOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a227d9ffe08d619b8ba3bb95f2ae6db0e"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a227d9ffe08d619b8ba3bb95f2ae6db0e">describeORRLoadedValue</a></div><div class="ttdeci">static std::optional&lt; ParamLoadedValue &gt; describeORRLoadedValue(const MachineInstr &amp;MI, Register DescribedReg, const TargetInstrInfo *TII, const TargetRegisterInfo *TRI)</div><div class="ttdoc">If the given ORR instruction is a copy, and DescribedReg overlaps with the destination register then,...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08206">AArch64InstrInfo.cpp:8206</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ae25253bd68535ed8bdcb98a751098fe4a0f5f89e2a0973bd42b48aa3ab23bc4a7">MachineOutlinerTailCall</a></div><div class="ttdeci">@ MachineOutlinerTailCall</div><div class="ttdoc">Emit a save, restore, call, and return.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l07094">AArch64InstrInfo.cpp:7094</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetOptions_html_a0544e2966374684ff74255e5a4290fa7"><div class="ttname"><a href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">llvm::TargetOptions::UnsafeFPMath</a></div><div class="ttdeci">unsigned UnsafeFPMath</div><div class="ttdoc">UnsafeFPMath - This flag is enabled when the -enable-unsafe-fp-math flag is specified on the command ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00163">TargetOptions.h:163</a></div></div>
<div class="ttc" id="aMachineOperand_8h_html"><div class="ttname"><a href="MachineOperand_8h.html">MachineOperand.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28">llvm::AArch64CC::CondCode</a></div><div class="ttdeci">CondCode</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00254">AArch64BaseInfo.h:254</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a548cfb9440f36ba67fc5566b8e967fc6"><div class="ttname"><a href="classllvm_1_1Function.html#a548cfb9440f36ba67fc5566b8e967fc6">llvm::Function::hasMinSize</a></div><div class="ttdeci">bool hasMinSize() const</div><div class="ttdoc">Optimize this function for minimum size (-Oz).</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00641">Function.h:641</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ab2147cc6810c7774110ebed17d4a2242"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ab2147cc6810c7774110ebed17d4a2242">llvm::TargetRegisterInfo::getSubReg</a></div><div class="ttdeci">MCRegister getSubReg(MCRegister Reg, unsigned Idx) const</div><div class="ttdoc">Returns the physical register number of sub-register &quot;Index&quot; for physical register RegNo.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l01149">TargetRegisterInfo.h:1149</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCCFIInstruction_html_aea2b8a3efd6694a33452ed7e8716300e"><div class="ttname"><a href="classllvm_1_1MCCFIInstruction.html#aea2b8a3efd6694a33452ed7e8716300e">llvm::MCCFIInstruction::createOffset</a></div><div class="ttdeci">static MCCFIInstruction createOffset(MCSymbol *L, unsigned Register, int Offset)</div><div class="ttdoc">.cfi_offset Previous value of Register is saved at offset Offset from CFA.</div><div class="ttdef"><b>Definition:</b> <a href="MCDwarf_8h_source.html#l00571">MCDwarf.h:571</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a7cca5afbdfdcb468161ffe0b888668d0"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a7cca5afbdfdcb468161ffe0b888668d0">llvm::AArch64InstrInfo::reverseBranchCondition</a></div><div class="ttdeci">bool reverseBranchCondition(SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00401">AArch64InstrInfo.cpp:401</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9c6b351507d3c0730f4290919d43a12"><div class="ttname"><a href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef</a></div><div class="ttdeci">ArrayRef(const T &amp;OneElt) -&gt; ArrayRef&lt; T &gt;</div></div>
<div class="ttc" id="astructllvm_1_1outliner_1_1OutlinedFunction_html_afaa7ed984d2671729752893984eb85a3"><div class="ttname"><a href="structllvm_1_1outliner_1_1OutlinedFunction.html#afaa7ed984d2671729752893984eb85a3">llvm::outliner::OutlinedFunction::Candidates</a></div><div class="ttdeci">std::vector&lt; Candidate &gt; Candidates</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00217">MachineOutliner.h:217</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_af269ff6efde917e353e6652a11e473ec"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#af269ff6efde917e353e6652a11e473ec">llvm::AArch64InstrInfo::getMemScale</a></div><div class="ttdeci">static int getMemScale(unsigned Opc)</div><div class="ttdoc">Scaling factor for (scaled or unscaled) load or store.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03091">AArch64InstrInfo.cpp:3091</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_a8ea8ce186fc4a70ad542e74d015d84ed"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a8ea8ce186fc4a70ad542e74d015d84ed">llvm::TargetRegisterClass::hasSubClassEq</a></div><div class="ttdeci">bool hasSubClassEq(const TargetRegisterClass *RC) const</div><div class="ttdoc">Returns true if RC is a sub-class of or equal to this class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00129">TargetRegisterInfo.h:129</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4eca2bf387bac8749af955ac467e689e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4eca2bf387bac8749af955ac467e689e">llvm::MachineCombinerPattern::MULADDX_OP2</a></div><div class="ttdeci">@ MULADDX_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71ae048a7c85d8a27195ad9ce1e1282bda9"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71ae048a7c85d8a27195ad9ce1e1282bda9">llvm::AArch64II::MO_G2</a></div><div class="ttdeci">@ MO_G2</div><div class="ttdoc">MO_G2 - A symbol operand with this flag (granule 2) represents the bits 32-47 of a 64-bit address,...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00719">AArch64BaseInfo.h:719</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a395a9f3a54f88bc3dd42f5c51eb83f26"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a395a9f3a54f88bc3dd42f5c51eb83f26">llvm::MachineCombinerPattern::MULADDv16i8_OP2</a></div><div class="ttdeci">@ MULADDv16i8_OP2</div></div>
<div class="ttc" id="anamespacellvm_1_1CodeGenOpt_html_ad7e52174abb1cfb84238ad1ac475ee36"><div class="ttname"><a href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36">llvm::CodeGenOpt::Level</a></div><div class="ttdeci">Level</div><div class="ttdoc">Code generation optimization level.</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00057">CodeGen.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a973016c591557c107018a0e6478b30a9"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a973016c591557c107018a0e6478b30a9">llvm::MCRegisterInfo::isSuperOrSubRegisterEq</a></div><div class="ttdeci">bool isSuperOrSubRegisterEq(MCRegister RegA, MCRegister RegB) const</div><div class="ttdoc">Returns true if RegB is a super-register or sub-register of RegA or if RegB == RegA.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00580">MCRegisterInfo.h:580</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71afacfcdd80d8095ce952ab919979f1d2f"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71afacfcdd80d8095ce952ab919979f1d2f">llvm::AArch64II::MO_COFFSTUB</a></div><div class="ttdeci">@ MO_COFFSTUB</div><div class="ttdoc">MO_COFFSTUB - On a symbol operand &quot;FOO&quot;, this indicates that the reference is actually to the &quot;....</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00737">AArch64BaseInfo.h:737</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_af0bbac5dd9f698f2c73477c4e5f36b60"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#af0bbac5dd9f698f2c73477c4e5f36b60">llvm::AArch64InstrInfo::optimizeCondBranch</a></div><div class="ttdeci">bool optimizeCondBranch(MachineInstr &amp;MI) const override</div><div class="ttdoc">Replace csincr-branch sequence by simple conditional branch.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l06832">AArch64InstrInfo.cpp:6832</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a40719f011633f9bd8003d80dfccea246"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a40719f011633f9bd8003d80dfccea246">llvm::MachineCombinerPattern::FMLSv2i64_indexed_OP1</a></div><div class="ttdeci">@ FMLSv2i64_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64_html_a6a5ae9fa4a6b5b601a674e40a86e861a"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a6a5ae9fa4a6b5b601a674e40a86e861a">llvm::AArch64::SVEMaxBitsPerVector</a></div><div class="ttdeci">static constexpr unsigned SVEMaxBitsPerVector</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00836">AArch64BaseInfo.h:836</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a7e75394a33f6a5897d7a14c0ba5d44f1a822b65b0f419881e5f0352e2f4f33d29"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1a822b65b0f419881e5f0352e2f4f33d29">llvm::AArch64_AM::UXTH</a></div><div class="ttdeci">@ UXTH</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00042">AArch64AddressingModes.h:42</a></div></div>
<div class="ttc" id="aBlockVerifier_8cpp_html_ae45c7d73c0ff5d177b59153ffae77f84"><div class="ttname"><a href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a></div><div class="ttdeci">BlockVerifier::State From</div><div class="ttdef"><b>Definition:</b> <a href="BlockVerifier_8cpp_source.html#l00055">BlockVerifier.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_ad11fff0bd7672635d1cabedca7be31c6"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#ad11fff0bd7672635d1cabedca7be31c6">llvm::AArch64InstrInfo::analyzeCompare</a></div><div class="ttdeci">bool analyzeCompare(const MachineInstr &amp;MI, Register &amp;SrcReg, Register &amp;SrcReg2, int64_t &amp;CmpMask, int64_t &amp;CmpValue) const override</div><div class="ttdoc">analyzeCompare - For a comparison instruction, return the source registers in SrcReg and SrcReg2,...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01112">AArch64InstrInfo.cpp:1112</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a4418916d7a4f6a6777fb46416e056855"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a4418916d7a4f6a6777fb46416e056855">llvm::MachineCombinerPattern::FMULv2i64_indexed_OP1</a></div><div class="ttdeci">@ FMULv2i64_indexed_OP1</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a19a5a038e1b77984ca9710992b68b938"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a19a5a038e1b77984ca9710992b68b938">areCFlagsAccessedBetweenInstrs</a></div><div class="ttdeci">static bool areCFlagsAccessedBetweenInstrs(MachineBasicBlock::iterator From, MachineBasicBlock::iterator To, const TargetRegisterInfo *TRI, const AccessKind AccessToCheck=AK_All)</div><div class="ttdoc">True when condition flags are accessed (either by writing or reading) on the instruction trace starti...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01268">AArch64InstrInfo.cpp:1268</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71aefb2c1834e49df9715967d4a2c9c99e8"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71aefb2c1834e49df9715967d4a2c9c99e8">llvm::AArch64II::MO_TAGGED</a></div><div class="ttdeci">@ MO_TAGGED</div><div class="ttdoc">MO_TAGGED - With MO_PAGE, indicates that the page includes a memory tag in bits 56-63.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00774">AArch64BaseInfo.h:774</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ab1601d92ffdfcf6fe48b40b6a7cf8d59"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ab1601d92ffdfcf6fe48b40b6a7cf8d59">loadRegPairFromStackSlot</a></div><div class="ttdeci">static void loadRegPairFromStackSlot(const TargetRegisterInfo &amp;TRI, MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator InsertBefore, const MCInstrDesc &amp;MCID, Register DestReg, unsigned SubIdx0, unsigned SubIdx1, int FI, MachineMemOperand *MMO)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03951">AArch64InstrInfo.cpp:3951</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ad0da9705518e24c1435d33d0ad806b3e"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ad0da9705518e24c1435d33d0ad806b3e">getFMAPatterns</a></div><div class="ttdeci">static bool getFMAPatterns(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineCombinerPattern &gt; &amp;Patterns)</div><div class="ttdoc">Floating-Point Support.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05193">AArch64InstrInfo.cpp:5193</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">llvm::RegState::Dead</a></div><div class="ttdeci">@ Dead</div><div class="ttdoc">Unused definition.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00050">MachineInstrBuilder.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a17287afec9c4e572033dc4d1d6e11367"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a17287afec9c4e572033dc4d1d6e11367">llvm::TargetRegisterInfo::getMinimalPhysRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getMinimalPhysRegClass(MCRegister Reg, MVT VT=MVT::Other) const</div><div class="ttdoc">Returns the Register Class of a physical register of the given type, picking the most sub register cl...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00212">TargetRegisterInfo.cpp:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a796a2f531a01a5d72a58920fa8ec61b9"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a796a2f531a01a5d72a58920fa8ec61b9">llvm::AArch64InstrInfo::isFalkorShiftExtFast</a></div><div class="ttdeci">static bool isFalkorShiftExtFast(const MachineInstr &amp;MI)</div><div class="ttdoc">Returns true if the instruction has a shift by immediate that can be executed in one cycle less.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00876">AArch64InstrInfo.cpp:876</a></div></div>
<div class="ttc" id="anamespacellvm_html_a133ece1ebe8f30b0e292213ab8c16753"><div class="ttname"><a href="namespacellvm.html#a133ece1ebe8f30b0e292213ab8c16753">llvm::isPTrueOpcode</a></div><div class="ttdeci">static bool isPTrueOpcode(unsigned Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8h_source.html#l00493">AArch64InstrInfo.h:493</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64Subtarget_html"><div class="ttname"><a href="classllvm_1_1AArch64Subtarget.html">llvm::AArch64Subtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64Subtarget_8h_source.html#l00038">AArch64Subtarget.h:38</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a012040151268735433380829e4ef0dcd"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a012040151268735433380829e4ef0dcd">genSubAdd2SubSub</a></div><div class="ttdeci">static void genSubAdd2SubSub(MachineFunction &amp;MF, MachineRegisterInfo &amp;MRI, const TargetInstrInfo *TII, MachineInstr &amp;Root, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, SmallVectorImpl&lt; MachineInstr * &gt; &amp;DelInstrs, unsigned IdxOpd1, DenseMap&lt; unsigned, unsigned &gt; &amp;InstrIdxForVirtReg)</div><div class="ttdoc">Do the following transformation A - (B + C) ==&gt; (A - B) - C A - (B + C) ==&gt; (A - C) - B.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05817">AArch64InstrInfo.cpp:5817</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a6ee45760c97bf2dda6bee91508e6946e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a6ee45760c97bf2dda6bee91508e6946e">llvm::MachineInstr::isFullCopy</a></div><div class="ttdeci">bool isFullCopy() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01348">MachineInstr.h:1348</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a73f9fde2778444c73d9ca47438e72f8d"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a73f9fde2778444c73d9ca47438e72f8d">genFusedMultiplyIdxNeg</a></div><div class="ttdeci">static MachineInstr * genFusedMultiplyIdxNeg(MachineFunction &amp;MF, MachineRegisterInfo &amp;MRI, const TargetInstrInfo *TII, MachineInstr &amp;Root, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, DenseMap&lt; unsigned, unsigned &gt; &amp;InstrIdxForVirtReg, unsigned IdxMulOpd, unsigned MaddOpc, unsigned MnegOpc, const TargetRegisterClass *RC)</div><div class="ttdoc">genFusedMultiplyAccNeg - Helper to generate fused multiply accumulate instructions with an additional...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05747">AArch64InstrInfo.cpp:5747</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_af28ada2e1e13faab18ee3746c01e684c"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#af28ada2e1e13faab18ee3746c01e684c">llvm::AArch64InstrInfo::isCandidateToMergeOrPair</a></div><div class="ttdeci">bool isCandidateToMergeOrPair(const MachineInstr &amp;MI) const</div><div class="ttdoc">Return true if this is a load/store that can be potentially paired/merged.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02513">AArch64InstrInfo.cpp:2513</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a0b11f61ff61b4dc4cf41ec3fdce85a1b"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a0b11f61ff61b4dc4cf41ec3fdce85a1b">getMiscPatterns</a></div><div class="ttdeci">static bool getMiscPatterns(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineCombinerPattern &gt; &amp;Patterns)</div><div class="ttdoc">Find other MI combine patterns.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05508">AArch64InstrInfo.cpp:5508</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_af085ea923a328b9fa6a1975f1a4ff987"><div class="ttname"><a href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">llvm::printReg</a></div><div class="ttdeci">Printable printReg(Register Reg, const TargetRegisterInfo *TRI=nullptr, unsigned SubIdx=0, const MachineRegisterInfo *MRI=nullptr)</div><div class="ttdoc">Prints virtual and physical registers with or without a TRI instance.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00111">TargetRegisterInfo.cpp:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html_a0775e5fb52ac148f4d06e7eedb34e94e"><div class="ttname"><a href="classllvm_1_1StackOffset.html#a0775e5fb52ac148f4d06e7eedb34e94e">llvm::StackOffset::getFixed</a></div><div class="ttdeci">int64_t getFixed() const</div><div class="ttdoc">Returns the fixed component of the stack.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00052">TypeSize.h:52</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2cd95c4fd57b9c1804bc70a37ac24574"><div class="ttname"><a href="namespacellvm.html#a2cd95c4fd57b9c1804bc70a37ac24574">llvm::createCFAOffset</a></div><div class="ttdeci">MCCFIInstruction createCFAOffset(const TargetRegisterInfo &amp;MRI, unsigned Reg, const StackOffset &amp;OffsetFromDefCFA)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l04239">AArch64InstrInfo.cpp:4239</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">Unlink 'this' from the containing basic block and delete it.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00705">MachineInstr.cpp:705</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a434f6a0d80fb13e4326e848a6391f057"><div class="ttname"><a href="namespacellvm.html#a434f6a0d80fb13e4326e848a6391f057">llvm::isPowerOf2_64</a></div><div class="ttdeci">constexpr bool isPowerOf2_64(uint64_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0 (64 bit edition.)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00297">MathExtras.h:297</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_afb4c3921369b6b1fef886bfa979b6d2a"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#afb4c3921369b6b1fef886bfa979b6d2a">storeRegPairToStackSlot</a></div><div class="ttdeci">static void storeRegPairToStackSlot(const TargetRegisterInfo &amp;TRI, MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator InsertBefore, const MCInstrDesc &amp;MCID, Register SrcReg, bool IsKill, unsigned SubIdx0, unsigned SubIdx1, int FI, MachineMemOperand *MMO)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03797">AArch64InstrInfo.cpp:3797</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCAsmInfo_html_ac158349781823fe8ff9e02d3a3533d55"><div class="ttname"><a href="classllvm_1_1MCAsmInfo.html#ac158349781823fe8ff9e02d3a3533d55">llvm::MCAsmInfo::usesWindowsCFI</a></div><div class="ttdeci">bool usesWindowsCFI() const</div><div class="ttdef"><b>Definition:</b> <a href="MCAsmInfo_8h_source.html#l00797">MCAsmInfo.h:797</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a27f95a016db7579ee3748369cc518ec9"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a27f95a016db7579ee3748369cc518ec9">llvm::MachineCombinerPattern::MULADDXI_OP1</a></div><div class="ttdeci">@ MULADDXI_OP1</div></div>
<div class="ttc" id="anamespacellvm_html_a2816e84a08c108d18bc4665bc1817e01"><div class="ttname"><a href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">llvm::abs</a></div><div class="ttdeci">APFloat abs(APFloat X)</div><div class="ttdoc">Returns the absolute value of the argument.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01332">APFloat.h:1332</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a7713f36f3b42f9196c16db0d7493b466"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a7713f36f3b42f9196c16db0d7493b466">isSUBSRegImm</a></div><div class="ttdeci">static bool isSUBSRegImm(unsigned Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l01681">AArch64InstrInfo.cpp:1681</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a7a1bb4352b705901de9836f44ad326f4"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a7a1bb4352b705901de9836f44ad326f4">llvm::AArch64InstrInfo::describeLoadedValue</a></div><div class="ttdeci">std::optional&lt; ParamLoadedValue &gt; describeLoadedValue(const MachineInstr &amp;MI, Register Reg) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l08241">AArch64InstrInfo.cpp:8241</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a25f231b9d7956e632ee2fc265ae23bba"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a25f231b9d7956e632ee2fc265ae23bba">genIndexedMultiply</a></div><div class="ttdeci">static MachineInstr * genIndexedMultiply(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, unsigned IdxDupOp, unsigned MulOpc, const TargetRegisterClass *RC, MachineRegisterInfo &amp;MRI)</div><div class="ttdoc">Fold (FMUL x (DUP y lane)) into (FMUL_indexed x y lane)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05650">AArch64InstrInfo.cpp:5650</a></div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a8b5ade7499d54741b10d53af24ed3ff2"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a8b5ade7499d54741b10d53af24ed3ff2">AddSubReg</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; AddSubReg(const MachineInstrBuilder &amp;MIB, unsigned Reg, unsigned SubIdx, unsigned State, const TargetRegisterInfo *TRI)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03404">AArch64InstrInfo.cpp:3404</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">llvm::RegState::Define</a></div><div class="ttdeci">@ Define</div><div class="ttdoc">Register definition.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00044">MachineInstrBuilder.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a8cea7bb0f58bc0730334b6c9e29f7919"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8cea7bb0f58bc0730334b6c9e29f7919">llvm::MachineCombinerPattern::FMULv2i32_indexed_OP1</a></div><div class="ttdeci">@ FMULv2i32_indexed_OP1</div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a4144c2ee93286fba09bd8f14fb11f27a"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a4144c2ee93286fba09bd8f14fb11f27a">llvm::AArch64II::MO_GOT</a></div><div class="ttdeci">@ MO_GOT</div><div class="ttdoc">MO_GOT - This flag indicates that a symbol operand represents the address of the GOT entry for the sy...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00742">AArch64BaseInfo.h:742</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05acf29990824391c17beb64d5a9550a733"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05acf29990824391c17beb64d5a9550a733">llvm::MachineCombinerPattern::FMLSv1i32_indexed_OP2</a></div><div class="ttdeci">@ FMLSv1i32_indexed_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a61af0a6c92c6e41f81dcead5ef46a4a7"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a61af0a6c92c6e41f81dcead5ef46a4a7">llvm::AArch64InstrInfo::isPreSt</a></div><div class="ttdeci">static bool isPreSt(const MachineInstr &amp;MI)</div><div class="ttdoc">Returns whether the instruction is a pre-indexed store.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03176">AArch64InstrInfo.cpp:3176</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0012f75cbba71c9c29aac592ff3d6400"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0012f75cbba71c9c29aac592ff3d6400">llvm::MachineInstr::findRegisterUseOperandIdx</a></div><div class="ttdeci">int findRegisterUseOperandIdx(Register Reg, bool isKill=false, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Returns the operand index that is a use of the specific register or -1 if it is not found.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01000">MachineInstr.cpp:1000</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_a0b2a8fd73722063e86d9f2771b964fe6"><div class="ttname"><a href="README__P9_8txt.html#a0b2a8fd73722063e86d9f2771b964fe6">Indexed</a></div><div class="ttdeci">So we should use XX3Form_Rcr to implement intrinsic Convert DP outs ins xscvdpsp No builtin are required Round &amp;Convert QP DP(dword[1] is set to zero) No builtin are required Round to Quad Precision because you need to assign rounding mode in instruction Provide builtin(set f128:$vT,(int_ppc_vsx_xsrqpi f128:$vB))(set f128 yields&lt; n x&lt; ty &gt; &gt;&lt; result &gt; yields&lt; ty &gt;&lt; result &gt; No builtin are required Load Store load store see def memrix16 in PPCInstrInfo td Load Store Vector Indexed</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00505">README_P9.txt:505</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2ed3ade77242d9e64161d189f8ce6005"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2ed3ade77242d9e64161d189f8ce6005">llvm::MachineCombinerPattern::FMLAv2i64_indexed_OP1</a></div><div class="ttdeci">@ FMLAv2i64_indexed_OP1</div></div>
<div class="ttc" id="astructllvm_1_1outliner_1_1OutlinedFunction_html_a83ee605247fd32b2a6981444fd996825"><div class="ttname"><a href="structllvm_1_1outliner_1_1OutlinedFunction.html#a83ee605247fd32b2a6981444fd996825">llvm::outliner::OutlinedFunction::FrameConstructionID</a></div><div class="ttdeci">unsigned FrameConstructionID</div><div class="ttdoc">Target-defined identifier for constructing a frame for this function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00231">MachineOutliner.h:231</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_ade267f03d50e04004e9ef2019ce25738"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#ade267f03d50e04004e9ef2019ce25738">llvm::AArch64InstrInfo::isAsCheapAsAMove</a></div><div class="ttdeci">bool isAsCheapAsAMove(const MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00797">AArch64InstrInfo.cpp:797</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_a92a6b0a9b7228d190b0a7d8ae3ef03c7"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a></div><div class="ttdeci">unsigned SubReg</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00104">AArch64AdvSIMDScalarPass.cpp:104</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05ab0463108c1a22d61437ab9f8afa16dd6"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05ab0463108c1a22d61437ab9f8afa16dd6">llvm::MachineCombinerPattern::MULADDW_OP1</a></div><div class="ttdeci">@ MULADDW_OP1</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_ac6785462ddb955dc6a9a79d592dd9718"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#ac6785462ddb955dc6a9a79d592dd9718">shouldClusterFI</a></div><div class="ttdeci">static bool shouldClusterFI(const MachineFrameInfo &amp;MFI, int FI1, int64_t Offset1, unsigned Opcode1, int FI2, int64_t Offset2, unsigned Opcode2)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l03307">AArch64InstrInfo.cpp:3307</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a17362ccaee2fef3337d9a29ff399232b"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a17362ccaee2fef3337d9a29ff399232b">llvm::MachineCombinerPattern::FMLSv4i16_indexed_OP2</a></div><div class="ttdeci">@ FMLSv4i16_indexed_OP2</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a134f907cbb8c1abeba32bf0a70ffbdf9"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a134f907cbb8c1abeba32bf0a70ffbdf9">llvm::MachineCombinerPattern::MULADDv8i16_OP2</a></div><div class="ttdeci">@ MULADDv8i16_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64RegisterInfo_html_a291580cc01efa41a004f8b30e358969f"><div class="ttname"><a href="classllvm_1_1AArch64RegisterInfo.html#a291580cc01efa41a004f8b30e358969f">llvm::AArch64RegisterInfo::isReservedReg</a></div><div class="ttdeci">bool isReservedReg(const MachineFunction &amp;MF, MCRegister Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64RegisterInfo_8cpp_source.html#l00446">AArch64RegisterInfo.cpp:446</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a97d771099b0db3d75f4b3f386d0c1092"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a97d771099b0db3d75f4b3f386d0c1092">llvm::MachineCombinerPattern::FMULSUBS_OP2</a></div><div class="ttdeci">@ FMULSUBS_OP2</div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_a52619cc1f9c5c3029a03a6c956b32595"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#a52619cc1f9c5c3029a03a6c956b32595">llvm::AArch64InstrInfo::isSEHInstruction</a></div><div class="ttdeci">static bool isSEHInstruction(const MachineInstr &amp;MI)</div><div class="ttdoc">Return true if the instructions is a SEH instruciton used for unwinding on Windows.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00998">AArch64InstrInfo.cpp:998</a></div></div>
<div class="ttc" id="anamespacellvm_html_a90f68a1fc5d44bb06164dc2188b8e486"><div class="ttname"><a href="namespacellvm.html#a90f68a1fc5d44bb06164dc2188b8e486">llvm::instructionsWithoutDebug</a></div><div class="ttdeci">auto instructionsWithoutDebug(IterT It, IterT End, bool SkipPseudoOp=true)</div><div class="ttdoc">Construct a range iterator which begins at It and moves forwards until End is reached,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01337">MachineBasicBlock.h:1337</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_abb85cb5e394d43767d67d067075a7b4f"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#abb85cb5e394d43767d67d067075a7b4f">llvm::AArch64InstrInfo::isStoreToStackSlot</a></div><div class="ttdeci">unsigned isStoreToStackSlot(const MachineInstr &amp;MI, int &amp;FrameIndex) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l02137">AArch64InstrInfo.cpp:2137</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a2fa503376495cd110965ec1b531bce73"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a2fa503376495cd110965ec1b531bce73">llvm::MachineCombinerPattern::MULADDWI_OP1</a></div><div class="ttdeci">@ MULADDWI_OP1</div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad7f2dc64214551418f486026ffc95fa4"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">llvm::MachineOperand::isIdenticalTo</a></div><div class="ttdeci">bool isIdenticalTo(const MachineOperand &amp;Other) const</div><div class="ttdoc">Returns true if this operand is identical to the specified operand except for liveness related flags ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00306">MachineOperand.cpp:306</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71a7f04634c15a04a59d5f234002e613b5b"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71a7f04634c15a04a59d5f234002e613b5b">llvm::AArch64II::MO_PAGE</a></div><div class="ttdeci">@ MO_PAGE</div><div class="ttdoc">MO_PAGE - A symbol operand with this flag represents the pc-relative offset of the 4K page containing...</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00706">AArch64BaseInfo.h:706</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegister_html"><div class="ttname"><a href="classllvm_1_1MCRegister.html">llvm::MCRegister</a></div><div class="ttdoc">Wrapper class representing physical registers. Should be passed by value.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegister_8h_source.html#l00024">MCRegister.h:24</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">llvm::MachineCombinerPattern</a></div><div class="ttdeci">MachineCombinerPattern</div><div class="ttdoc">These are instruction patterns matched by the machine combiner pass.</div><div class="ttdef"><b>Definition:</b> <a href="MachineCombinerPattern_8h_source.html#l00020">MachineCombinerPattern.h:20</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a19f4ffebc2ddf94a14b8ad8d081b517e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a19f4ffebc2ddf94a14b8ad8d081b517e">llvm::MachineCombinerPattern::FMLSv2i64_indexed_OP2</a></div><div class="ttdeci">@ FMLSv2i64_indexed_OP2</div></div>
<div class="ttc" id="aAArch64InstrInfo_8cpp_html_a2a1ebdc2fd4cf80ba605b2bb912852af"><div class="ttname"><a href="AArch64InstrInfo_8cpp.html#a2a1ebdc2fd4cf80ba605b2bb912852af">genFusedMultiplyAcc</a></div><div class="ttdeci">static MachineInstr * genFusedMultiplyAcc(MachineFunction &amp;MF, MachineRegisterInfo &amp;MRI, const TargetInstrInfo *TII, MachineInstr &amp;Root, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, unsigned IdxMulOpd, unsigned MaddOpc, const TargetRegisterClass *RC)</div><div class="ttdoc">genFusedMultiplyAcc - Helper to generate fused multiply accumulate instructions.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l05691">AArch64InstrInfo.cpp:5691</a></div></div>
<div class="ttc" id="aclassllvm_1_1AArch64InstrInfo_html_aa61674464afddf4b2a24ab65f3833233"><div class="ttname"><a href="classllvm_1_1AArch64InstrInfo.html#aa61674464afddf4b2a24ab65f3833233">llvm::AArch64InstrInfo::analyzeBranch</a></div><div class="ttdeci">bool analyzeBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *&amp;TBB, MachineBasicBlock *&amp;FBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, bool AllowModify=false) const override</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00233">AArch64InstrInfo.cpp:233</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:08:51 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
