<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/MachinePipeliner.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MachinePipeliner.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MachinePipeliner_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- MachinePipeliner.cpp - Machine Software Pipeliner Pass -------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// An implementation of the Swing Modulo Scheduling (SMS) software pipeliner.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// This SMS implementation is a target-independent back-end pass. When enabled,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// the pass runs just prior to the register allocation pass, while the machine</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// IR is in SSA form. If software pipelining is successful, then the original</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// loop is replaced by the optimized loop. The optimized loop contains one or</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// more prolog blocks, the pipelined kernel, and one or more epilog blocks. If</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// the instructions cannot be scheduled in a given MII, we increase the MII by</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// one and try again.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// The SMS implementation is an extension of the ScheduleDAGInstrs class. We</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// represent loop carried dependences in the DAG as order edges to the Phi</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// nodes. We also perform several passes over the DAG to eliminate unnecessary</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// edges that inhibit the ability to pipeline. The implementation uses the</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// DFAPacketizer class to compute the minimum initiation interval and the check</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// where an instruction may be inserted in the pipelined schedule.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// In order for the SMS pass to work, several target specific hooks need to be</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// implemented to get information about the loop structure and to rewrite</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// instructions.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachinePipeliner_8h.html">llvm/CodeGen/MachinePipeliner.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitVector_8h.html">llvm/ADT/BitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MapVector_8h.html">llvm/ADT/MapVector.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PriorityQueue_8h.html">llvm/ADT/PriorityQueue.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetOperations_8h.html">llvm/ADT/SetOperations.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="iterator__range_8h.html">llvm/ADT/iterator_range.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CycleAnalysis_8h.html">llvm/Analysis/CycleAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryLocation_8h.html">llvm/Analysis/MemoryLocation.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DFAPacketizer_8h.html">llvm/CodeGen/DFAPacketizer.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervals_8h.html">llvm/CodeGen/LiveIntervals.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunctionPass_8h.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineLoopInfo_8h.html">llvm/CodeGen/MachineLoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineMemOperand_8h.html">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOperand_8h.html">llvm/CodeGen/MachineOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuloSchedule_8h.html">llvm/CodeGen/ModuloSchedule.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterPressure_8h.html">llvm/CodeGen/RegisterPressure.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScheduleDAG_8h.html">llvm/CodeGen/ScheduleDAG.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScheduleDAGMutation_8h.html">llvm/CodeGen/ScheduleDAGMutation.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOpcodes_8h.html">llvm/CodeGen/TargetOpcodes.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LaneBitmask_8h.html">llvm/MC/LaneBitmask.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInstrDesc_8h.html">llvm/MC/MCInstrDesc.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInstrItineraries_8h.html">llvm/MC/MCInstrItineraries.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCRegisterInfo_8h.html">llvm/MC/MCRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &lt;deque&gt;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   99</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;pipeliner&quot;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumTrytoPipeline, <span class="stringliteral">&quot;Number of loops that we attempt to pipeline&quot;</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumPipelined, <span class="stringliteral">&quot;Number of loops software pipelined&quot;</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumNodeOrderIssues, <span class="stringliteral">&quot;Number of node order issues found&quot;</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFailBranch, <span class="stringliteral">&quot;Pipeliner abort due to unknown branch&quot;</span>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFailLoop, <span class="stringliteral">&quot;Pipeliner abort due to unsupported loop&quot;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFailPreheader, <span class="stringliteral">&quot;Pipeliner abort due to missing preheader&quot;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFailLargeMaxMII, <span class="stringliteral">&quot;Pipeliner abort due to MaxMII too large&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFailZeroMII, <span class="stringliteral">&quot;Pipeliner abort due to zero MII&quot;</span>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFailNoSchedule, <span class="stringliteral">&quot;Pipeliner abort due to no schedule found&quot;</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFailZeroStage, <span class="stringliteral">&quot;Pipeliner abort due to zero stage&quot;</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFailLargeMaxStage, <span class="stringliteral">&quot;Pipeliner abort due to too many stages&quot;</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/// A command line option to turn software pipelining on or off.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#a81a7a766bf335ed8ae384a868f9e8c7a">EnableSWP</a>(<span class="stringliteral">&quot;enable-pipeliner&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                               <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable Software Pipelining&quot;</span>));</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">/// A command line option to enable SWP at -Os.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#a84745d56fb8cf6fbd5a673175174af66">EnableSWPOptSize</a>(<span class="stringliteral">&quot;enable-pipeliner-opt-size&quot;</span>,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                      <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable SWP at Os.&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                      <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/// A command line argument to limit minimum initial interval for pipelining.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#a7b70973026b6cdbedc399514f89de236">SwpMaxMii</a>(<span class="stringliteral">&quot;pipeliner-max-mii&quot;</span>,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                              <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Size limit for the MII.&quot;</span>),</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                              <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(27));</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/// A command line argument to force pipeliner to use specified initial</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">/// interval.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#aed65f8b3ec0d65f79abea2f70d4fe11d">SwpForceII</a>(<span class="stringliteral">&quot;pipeliner-force-ii&quot;</span>,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                               <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Force pipeliner to use specified II.&quot;</span>),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                               <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(-1));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/// A command line argument to limit the number of stages in the pipeline.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="MachinePipeliner_8cpp.html#afe8ac84bd477709d60ca690240637642">SwpMaxStages</a>(<span class="stringliteral">&quot;pipeliner-max-stages&quot;</span>,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                 <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum stages allowed in the generated scheduled.&quot;</span>),</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                 <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(3));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">/// A command line option to disable the pruning of chain dependences due to</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">/// an unrelated Phi.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="MachinePipeliner_8cpp.html#a987a62d4820b440e2924de2c1b9fc540">SwpPruneDeps</a>(<span class="stringliteral">&quot;pipeliner-prune-deps&quot;</span>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                 <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Prune dependences between unrelated Phi nodes.&quot;</span>),</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                 <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">/// A command line option to disable the pruning of loop carried order</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">/// dependences.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="MachinePipeliner_8cpp.html#ae1a99283cc904e7de79ed49d63eaf5e5">SwpPruneLoopCarried</a>(<span class="stringliteral">&quot;pipeliner-prune-loop-carried&quot;</span>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Prune loop carried order dependences.&quot;</span>),</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                        <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#a14264dd1005928d7800371d07bcba2f5">SwpLoopLimit</a>(<span class="stringliteral">&quot;pipeliner-max&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(-1));</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#af433cda2785c857cd52bba59ca4612f0">SwpIgnoreRecMII</a>(<span class="stringliteral">&quot;pipeliner-ignore-recmii&quot;</span>,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                     <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                     <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Ignore RecMII&quot;</span>));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#a542090274b12f258b6d3242fde6c4fab">SwpShowResMask</a>(<span class="stringliteral">&quot;pipeliner-show-mask&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>(<span class="stringliteral">&quot;pipeliner-dbg-res&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                      <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#a538eb476b0078602f2ae41bac75c98a5">EmitTestAnnotations</a>(</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="stringliteral">&quot;pipeliner-annotate-for-testing&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Instead of emitting the pipelined code, annotate instructions &quot;</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;             <span class="stringliteral">&quot;with the generated schedule for feeding into the &quot;</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;             <span class="stringliteral">&quot;-modulo-schedule-test pass&quot;</span>));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachinePipeliner_8cpp.html#a546474d44555862f8a6ad0429a0c6874">ExperimentalCodeGen</a>(</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="stringliteral">&quot;pipeliner-experimental-cg&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="stringliteral">&quot;Use the experimental peeling code generator for software pipelining&quot;</span>));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">// A command line option to enable the CopyToPhi DAG mutation.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#a0d4a3c2c8043edf34e3c2a693e92bd6a">SwpEnableCopyToPhi</a>(<span class="stringliteral">&quot;pipeliner-enable-copytophi&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                 <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                 <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable CopyToPhi DAG Mutation&quot;</span>));</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/// A command line argument to force pipeliner to use specified issue</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">/// width.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="namespacellvm.html#a3fcc5dd5761a39e49a520403297c1e50">SwpForceIssueWidth</a>(</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="stringliteral">&quot;pipeliner-force-issue-width&quot;</span>,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Force pipeliner to use specified issue width.&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(-1));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keywordtype">unsigned</span> SwingSchedulerDAG::Circuits::MaxPaths = 5;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1MachinePipeliner.html#af0c124c6b02e5387861ee4fa3504239d">MachinePipeliner::ID</a> = 0;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1MachinePipeliner.html#a9bb605a2dfdc357e7ca0daa4d4dda2ec">MachinePipeliner::NumTries</a> = 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa9a507e59c5cebcb4277894157ceebb3">  198</a></span>&#160;<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm.html#aa9a507e59c5cebcb4277894157ceebb3">llvm::MachinePipelinerID</a> = <a class="code" href="classllvm_1_1MachinePipeliner.html#af0c124c6b02e5387861ee4fa3504239d">MachinePipeliner::ID</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<a class="code" href="MachinePipeliner_8cpp.html#adc6a728bf35f2a3eb9aae797607ad621">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1MachinePipeliner.html">MachinePipeliner</a>, <a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                      <span class="stringliteral">&quot;Modulo Software Pipelining&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a>)</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a030569d5a541b6110f2ae1b6a3413a58">  206</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1MachinePipeliner.html">MachinePipeliner</a>, <a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>,</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a7a29f34c0655e4aca99acb5d07572e53">  207</a></span>&#160;                    &quot;Modulo Software <a class="code" href="MachinePipeliner_8cpp.html#a7a29f34c0655e4aca99acb5d07572e53">Pipelining</a>&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/// The &quot;main&quot; function for implementing Swing Modulo Scheduling.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="classllvm_1_1MachinePipeliner.html#a292abfa5a62a1fd7b53592085a48e651">  210</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MachinePipeliner.html">MachinePipeliner</a>::runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;mf) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">if</span> (skipFunction(mf.getFunction()))</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MachinePipeliner_8cpp.html#a81a7a766bf335ed8ae384a868f9e8c7a">EnableSWP</a>)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">if</span> (mf.getFunction().getAttributes().hasFnAttr(Attribute::OptimizeForSize) &amp;&amp;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      !<a class="code" href="MachinePipeliner_8cpp.html#a84745d56fb8cf6fbd5a673175174af66">EnableSWPOptSize</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#aff26f51638ce6d5092d90b8d2ff9dcfb">getPosition</a>())</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (!mf.getSubtarget().enableMachinePipeliner())</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// Cannot pipeline loops without instruction itineraries if we are using</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// DFA for the pipeliner.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">if</span> (mf.getSubtarget().useDFAforSMS() &amp;&amp;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      (!mf.getSubtarget().getInstrItineraryData() ||</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;       mf.getSubtarget().getInstrItineraryData()-&gt;isEmpty()))</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  MF = &amp;mf;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  MLI = &amp;getAnalysis&lt;MachineLoopInfo&gt;();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  MDT = &amp;getAnalysis&lt;MachineDominatorTree&gt;();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  ORE = &amp;getAnalysis&lt;MachineOptimizationRemarkEmitterPass&gt;().getORE();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = MF-&gt;getSubtarget().getInstrInfo();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  RegClassInfo.runOnMachineFunction(*MF);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;L : *MLI)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    scheduleLoop(*L);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">/// Attempt to perform the SMS algorithm on the specified loop. This function is</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">/// the main entry point for the algorithm.  The function identifies candidate</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">/// loops, calculates the minimum initiation interval, and attempts to schedule</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">/// the loop.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> MachinePipeliner::scheduleLoop(<a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a> &amp;L) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;InnerLoop : L)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    Changed |= scheduleLoop(*InnerLoop);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// Stop trying after reaching the limit (if any).</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordtype">int</span> Limit = <a class="code" href="MachinePipeliner_8cpp.html#a14264dd1005928d7800371d07bcba2f5">SwpLoopLimit</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (Limit &gt;= 0) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachinePipeliner.html#a9bb605a2dfdc357e7ca0daa4d4dda2ec">NumTries</a> &gt;= <a class="code" href="MachinePipeliner_8cpp.html#a14264dd1005928d7800371d07bcba2f5">SwpLoopLimit</a>)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="classllvm_1_1MachinePipeliner.html#a9bb605a2dfdc357e7ca0daa4d4dda2ec">NumTries</a>++;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  setPragmaPipelineOptions(L);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (!canPipelineLoop(L)) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n!!! Can not pipeline loop.\n&quot;</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="classllvm_1_1MachinePipeliner.html#aba473acb9acbd824f0535739699547b2">ORE</a>-&gt;<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html#a22cabb597d4f9e140fa9184491f7a33f">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkMissed.html">MachineOptimizationRemarkMissed</a>(<a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;canPipelineLoop&quot;</span>,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                             L.getStartLoc(), L.getHeader())</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Failed to pipeline loop&quot;</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    });</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#ae2bf6c3f17af11339dc9cc3f33d2917a">LoopPipelinerInfo</a>.reset();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  ++NumTrytoPipeline;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  Changed = swingModuloScheduler(L);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#ae2bf6c3f17af11339dc9cc3f33d2917a">LoopPipelinerInfo</a>.reset();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keywordtype">void</span> MachinePipeliner::setPragmaPipelineOptions(<a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a> &amp;L) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// Reset the pragma for the next loop in iteration.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="classllvm_1_1MachinePipeliner.html#aa3cae80bd7b0ea6f8ea9702132e23c0c">disabledByPragma</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="classllvm_1_1MachinePipeliner.html#ab5daeaa9b8ae99949ad8e147a549fd20">II_setByPragma</a> = 0;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *LBLK = L.<a class="code" href="classllvm_1_1MachineLoop.html#adfb3765b2827835823c1c55d12b33957">getTopBlock</a>();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">if</span> (LBLK == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BBLK = LBLK-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a856266240556bbae90bc5ba75c156eef">getBasicBlock</a>();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">if</span> (BBLK == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *TI = BBLK-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span> (TI == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *LoopID = TI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">getMetadata</a>(LLVMContext::MD_loop);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">if</span> (LoopID == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoopID-&gt;<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>() &gt; 0 &amp;&amp; <span class="stringliteral">&quot;requires atleast one operand&quot;</span>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoopID-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(0) == LoopID &amp;&amp; <span class="stringliteral">&quot;invalid loop&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = LoopID-&gt;<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = dyn_cast&lt;MDNode&gt;(LoopID-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (MD == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="classllvm_1_1MDString.html">MDString</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = dyn_cast&lt;MDString&gt;(MD-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(0));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getString() == <span class="stringliteral">&quot;llvm.loop.pipeline.initiationinterval&quot;</span>) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MD-&gt;<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>() == 2 &amp;&amp;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;             <span class="stringliteral">&quot;Pipeline initiation interval hint metadata should have two operands.&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="classllvm_1_1MachinePipeliner.html#ab5daeaa9b8ae99949ad8e147a549fd20">II_setByPragma</a> =</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          mdconst::extract&lt;ConstantInt&gt;(MD-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MachinePipeliner.html#ab5daeaa9b8ae99949ad8e147a549fd20">II_setByPragma</a> &gt;= 1 &amp;&amp; <span class="stringliteral">&quot;Pipeline initiation interval must be positive.&quot;</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getString() == <span class="stringliteral">&quot;llvm.loop.pipeline.disable&quot;</span>) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <a class="code" href="classllvm_1_1MachinePipeliner.html#aa3cae80bd7b0ea6f8ea9702132e23c0c">disabledByPragma</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">/// Return true if the loop can be software pipelined.  The algorithm is</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">/// restricted to loops with a single basic block.  Make sure that the</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">/// branch in the loop can be analyzed.</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> MachinePipeliner::canPipelineLoop(<a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a> &amp;L) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> (L.<a class="code" href="classllvm_1_1LoopBase.html#a261ee3c4745564c7be9283984c9af06b">getNumBlocks</a>() != 1) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="classllvm_1_1MachinePipeliner.html#aba473acb9acbd824f0535739699547b2">ORE</a>-&gt;<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html#a22cabb597d4f9e140fa9184491f7a33f">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(<a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;canPipelineLoop&quot;</span>,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                               L.<a class="code" href="classllvm_1_1MachineLoop.html#a8272f9a740bb9f21c0a1025873ae697a">getStartLoc</a>(), L.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Not a single basic block: &quot;</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;NumBlocks&quot;</span>, L.<a class="code" href="classllvm_1_1LoopBase.html#a261ee3c4745564c7be9283984c9af06b">getNumBlocks</a>());</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    });</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachinePipeliner.html#aa3cae80bd7b0ea6f8ea9702132e23c0c">disabledByPragma</a>) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="classllvm_1_1MachinePipeliner.html#aba473acb9acbd824f0535739699547b2">ORE</a>-&gt;<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html#a22cabb597d4f9e140fa9184491f7a33f">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(<a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;canPipelineLoop&quot;</span>,</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                               L.<a class="code" href="classllvm_1_1MachineLoop.html#a8272f9a740bb9f21c0a1025873ae697a">getStartLoc</a>(), L.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Disabled by Pragma.&quot;</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    });</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// Check if the branch can&#39;t be understood because we can&#39;t do pipelining</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// if that&#39;s the case.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a64fe32158ed270aff9e9f8c2eeb49be3">TBB</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a17c9473dcf3cf7c4fa8a6db628408ecb">FBB</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a60648541ea73bc227d02e58ad6296cf8">BrCond</a>.clear();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachinePipeliner.html#a0af873c2e6f8004dfe6d9bb48067b527">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a0dfb0c744373d4b6112eb343a5b07fc7">analyzeBranch</a>(*L.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>(), <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a64fe32158ed270aff9e9f8c2eeb49be3">TBB</a>, <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a17c9473dcf3cf7c4fa8a6db628408ecb">FBB</a>, <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a60648541ea73bc227d02e58ad6296cf8">BrCond</a>)) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Unable to analyzeBranch, can NOT pipeline Loop\n&quot;</span>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    NumFailBranch++;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="classllvm_1_1MachinePipeliner.html#aba473acb9acbd824f0535739699547b2">ORE</a>-&gt;<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html#a22cabb597d4f9e140fa9184491f7a33f">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(<a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;canPipelineLoop&quot;</span>,</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                                               L.<a class="code" href="classllvm_1_1MachineLoop.html#a8272f9a740bb9f21c0a1025873ae697a">getStartLoc</a>(), L.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;The branch can&#39;t be understood&quot;</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    });</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a5c1a346bd7160b415a28c48992b5bea4">LoopInductionVar</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#ae232e3beec5bf5aa97ed2f825c430d53">LoopCompare</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#ae2bf6c3f17af11339dc9cc3f33d2917a">LoopPipelinerInfo</a> = <a class="code" href="classllvm_1_1MachinePipeliner.html#a0af873c2e6f8004dfe6d9bb48067b527">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a074ab97926a3b48758508b0376c1dbe7">analyzeLoopForPipelining</a>(L.<a class="code" href="classllvm_1_1MachineLoop.html#adfb3765b2827835823c1c55d12b33957">getTopBlock</a>());</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#ae2bf6c3f17af11339dc9cc3f33d2917a">LoopPipelinerInfo</a>) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Unable to analyzeLoop, can NOT pipeline Loop\n&quot;</span>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    NumFailLoop++;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="classllvm_1_1MachinePipeliner.html#aba473acb9acbd824f0535739699547b2">ORE</a>-&gt;<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html#a22cabb597d4f9e140fa9184491f7a33f">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(<a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;canPipelineLoop&quot;</span>,</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                               L.<a class="code" href="classllvm_1_1MachineLoop.html#a8272f9a740bb9f21c0a1025873ae697a">getStartLoc</a>(), L.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;The loop structure is not supported&quot;</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    });</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">if</span> (!L.<a class="code" href="classllvm_1_1LoopBase.html#ac3280e7f76f955403fe17eacf126b90d">getLoopPreheader</a>()) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Preheader not found, can NOT pipeline Loop\n&quot;</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    NumFailPreheader++;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="classllvm_1_1MachinePipeliner.html#aba473acb9acbd824f0535739699547b2">ORE</a>-&gt;<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html#a22cabb597d4f9e140fa9184491f7a33f">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(<a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;canPipelineLoop&quot;</span>,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                               L.<a class="code" href="classllvm_1_1MachineLoop.html#a8272f9a740bb9f21c0a1025873ae697a">getStartLoc</a>(), L.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;No loop preheader found&quot;</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    });</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// Remove any subregisters from inputs to phi nodes.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  preprocessPhiNodes(*L.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>());</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="keywordtype">void</span> MachinePipeliner::preprocessPhiNodes(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="classllvm_1_1MachinePipeliner.html#a3865445f87352e6d873372d5b340fac6">MF</a>-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a> &amp;Slots = *getAnalysis&lt;LiveIntervals&gt;().getSlotIndexes();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;PI : <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.phis()) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;DefOp = PI.getOperand(0);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DefOp.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>() == 0);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keyword">auto</span> *RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(DefOp.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = PI.getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;RegOp = PI.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="keywordflow">if</span> (RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>() == 0)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="comment">// If the operand uses a subregister, replace it with a new register</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="comment">// without subregisters, and generate a copy to the new register.</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> NewReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;PredB = *PI.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1).getMBB();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> At = PredB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = PredB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">findDebugLoc</a>(At);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1codeview.html#ad37302702bbcf0028581d2655698c27aa5fb63579fc981698f97d55bfecb213ea">Copy</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(PredB, At, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MachinePipeliner.html#a0af873c2e6f8004dfe6d9bb48067b527">TII</a>-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(TargetOpcode::COPY), NewReg)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="namespacellvm.html#aa5bbb47ecb2be0bf50b8cafb94dee081">getRegState</a>(RegOp),</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                            RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>());</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      Slots.<a class="code" href="classllvm_1_1SlotIndexes.html#a10aea73adf903930a8ce4c133dfa5a1e">insertMachineInstrInMaps</a>(*Copy);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(NewReg);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">setSubReg</a>(0);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">/// The SMS algorithm consists of the following main steps:</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">/// 1. Computation and analysis of the dependence graph.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">/// 2. Ordering of the nodes (instructions).</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">/// 3. Attempt to Schedule the loop.</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> MachinePipeliner::swingModuloScheduler(<a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a> &amp;L) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L.<a class="code" href="classllvm_1_1LoopBase.html#a5cc113cb783ab6e5ca7b69241431c19c">getBlocks</a>().size() == 1 &amp;&amp; <span class="stringliteral">&quot;SMS works on single blocks only.&quot;</span>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> SMS(*<span class="keyword">this</span>, L, getAnalysis&lt;LiveIntervals&gt;(), <a class="code" href="classllvm_1_1MachinePipeliner.html#ac1562da8860ca0c8e8e59a2d56ae9c8d">RegClassInfo</a>,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        <a class="code" href="classllvm_1_1MachinePipeliner.html#ab5daeaa9b8ae99949ad8e147a549fd20">II_setByPragma</a>, <a class="code" href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">LI</a>.<a class="code" href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#ae2bf6c3f17af11339dc9cc3f33d2917a">LoopPipelinerInfo</a>.get());</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = L.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// The kernel should not include any terminator instructions.  These</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">// will be added back later.</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  SMS.startBlock(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// Compute the number of &#39;real&#39; instructions in the basic block by</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="comment">// ignoring terminators.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">size</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">size</a>();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>(),</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                   <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">instr_end</a>();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, --<a class="code" href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">size</a>)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    ;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  SMS.enterRegion(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>(), <a class="code" href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">size</a>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  SMS.schedule();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  SMS.exitRegion();</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  SMS.finishBlock();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">return</span> SMS.hasNewSchedule();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="classllvm_1_1MachinePipeliner.html#a2d903deabefad32494df9e3b54667d4d">  462</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MachinePipeliner.html#a2d903deabefad32494df9e3b54667d4d">MachinePipeliner::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>&gt;();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>&gt;();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a>&gt;();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitterPass.html">MachineOptimizationRemarkEmitterPass</a>&gt;();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">MachineFunctionPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="keywordtype">void</span> SwingSchedulerDAG::setMII(<span class="keywordtype">unsigned</span> ResMII, <span class="keywordtype">unsigned</span> RecMII) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#aed65f8b3ec0d65f79abea2f70d4fe11d">SwpForceII</a> &gt; 0)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    MII = <a class="code" href="MachinePipeliner_8cpp.html#aed65f8b3ec0d65f79abea2f70d4fe11d">SwpForceII</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (II_setByPragma &gt; 0)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    MII = II_setByPragma;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    MII = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(ResMII, RecMII);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="keywordtype">void</span> SwingSchedulerDAG::setMAX_II() {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#aed65f8b3ec0d65f79abea2f70d4fe11d">SwpForceII</a> &gt; 0)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    MAX_II = <a class="code" href="MachinePipeliner_8cpp.html#aed65f8b3ec0d65f79abea2f70d4fe11d">SwpForceII</a>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (II_setByPragma &gt; 0)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    MAX_II = II_setByPragma;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    MAX_II = MII + 10;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">/// We override the schedule function in ScheduleDAGInstrs to implement the</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">/// scheduling part of the Swing Modulo Scheduling algorithm.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="classllvm_1_1SwingSchedulerDAG.html#a87416d44c85818861fe0152759e9acb1">  492</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a87416d44c85818861fe0152759e9acb1">SwingSchedulerDAG::schedule</a>() {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> *AA = &amp;<a class="code" href="classllvm_1_1Pass.html">Pass</a>.<a class="code" href="classllvm_1_1Pass.html#a4863e5e463fb79955269fbf7fbf52b80">getAnalysis</a>&lt;<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;().getAAResults();</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab580983de4f7b69ebcca992be9cb3223">buildSchedGraph</a>(AA);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  addLoopCarriedDependences(AA);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  updatePhiDependences();</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  Topo.<a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a44c5faa549f250a26b1303eb1a3ebd47">InitDAGTopologicalSorting</a>();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  changeDependences();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  postprocessDAG();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aea2d4ef1e00ee834ab155abd18a560e4">dump</a>());</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">NodeSetType</a> NodeSets;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  findCircuits(NodeSets);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">NodeSetType</a> Circuits = NodeSets;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// Calculate the MII.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordtype">unsigned</span> ResMII = calculateResMII();</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordtype">unsigned</span> RecMII = calculateRecMII(NodeSets);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  fuseRecs(NodeSets);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// This flag is used for testing and can cause correctness problems.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#af433cda2785c857cd52bba59ca4612f0">SwpIgnoreRecMII</a>)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    RecMII = 0;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  setMII(ResMII, RecMII);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  setMAX_II();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MII = &quot;</span> &lt;&lt; MII &lt;&lt; <span class="stringliteral">&quot; MAX_II = &quot;</span> &lt;&lt; MAX_II</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; (rec=&quot;</span> &lt;&lt; RecMII &lt;&lt; <span class="stringliteral">&quot;, res=&quot;</span> &lt;&lt; ResMII &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// Can&#39;t schedule a loop without a valid MII.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (MII == 0) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Invalid Minimal Initiation Interval: 0\n&quot;</span>);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    NumFailZeroMII++;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="classllvm_1_1Pass.html">Pass</a>.ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                 <a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;schedule&quot;</span>, <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">getStartLoc</a>(), <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Invalid Minimal Initiation Interval: 0&quot;</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    });</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// Don&#39;t pipeline large loops.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a7b70973026b6cdbedc399514f89de236">SwpMaxMii</a> != -1 &amp;&amp; (<span class="keywordtype">int</span>)MII &gt; <a class="code" href="MachinePipeliner_8cpp.html#a7b70973026b6cdbedc399514f89de236">SwpMaxMii</a>) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MII &gt; &quot;</span> &lt;&lt; <a class="code" href="MachinePipeliner_8cpp.html#a7b70973026b6cdbedc399514f89de236">SwpMaxMii</a></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;, we don&#39;t pipeline large loops\n&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    NumFailLargeMaxMII++;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="classllvm_1_1Pass.html">Pass</a>.ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                 <a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;schedule&quot;</span>, <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">getStartLoc</a>(), <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Minimal Initiation Interval too large: &quot;</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;MII&quot;</span>, (<span class="keywordtype">int</span>)MII) &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;SwpMaxMii&quot;</span>, <a class="code" href="MachinePipeliner_8cpp.html#a7b70973026b6cdbedc399514f89de236">SwpMaxMii</a>) &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Refer to -pipeliner-max-mii.&quot;</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    });</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  computeNodeFunctions(NodeSets);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  registerPressureFilter(NodeSets);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  colocateNodeSets(NodeSets);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  checkNodeSets(NodeSets);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : NodeSets) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Rec NodeSet &quot;</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.dump();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  });</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a>(NodeSets, std::greater&lt;NodeSet&gt;());</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  groupRemainingNodes(NodeSets);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  removeDuplicateNodes(NodeSets);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : NodeSets) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  NodeSet &quot;</span>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.dump();</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  });</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  computeNodeOrder(NodeSets);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="comment">// check for node order issues</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  checkValidNodeOrder(Circuits);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="classllvm_1_1SMSchedule.html">SMSchedule</a> Schedule(<a class="code" href="classllvm_1_1Pass.html">Pass</a>.MF, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  Scheduled = schedulePipeline(Schedule);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (!Scheduled){</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;No schedule found, return\n&quot;</span>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    NumFailNoSchedule++;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="classllvm_1_1Pass.html">Pass</a>.ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                 <a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;schedule&quot;</span>, <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">getStartLoc</a>(), <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Unable to find schedule&quot;</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    });</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordtype">unsigned</span> numStages = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a336ecf423257d7f3b529f5817d9598c9">getMaxStageCount</a>();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="comment">// No need to generate pipeline if there are no overlapped iterations.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">if</span> (numStages == 0) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;No overlapped iterations, skip.\n&quot;</span>);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    NumFailZeroStage++;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="classllvm_1_1Pass.html">Pass</a>.ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                 <a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;schedule&quot;</span>, <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">getStartLoc</a>(), <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;No need to pipeline - no overlapped iterations in schedule.&quot;</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    });</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// Check that the maximum stage count is less than user-defined limit.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#afe8ac84bd477709d60ca690240637642">SwpMaxStages</a> &gt; -1 &amp;&amp; (<span class="keywordtype">int</span>)numStages &gt; <a class="code" href="MachinePipeliner_8cpp.html#afe8ac84bd477709d60ca690240637642">SwpMaxStages</a>) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;numStages:&quot;</span> &lt;&lt; numStages &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span> &lt;&lt; <a class="code" href="MachinePipeliner_8cpp.html#afe8ac84bd477709d60ca690240637642">SwpMaxStages</a></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; : too many stages, abort\n&quot;</span>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    NumFailLargeMaxStage++;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="classllvm_1_1Pass.html">Pass</a>.ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                 <a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;schedule&quot;</span>, <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">getStartLoc</a>(), <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Too many stages in schedule: &quot;</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;numStages&quot;</span>, (<span class="keywordtype">int</span>)numStages) &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;SwpMaxStages&quot;</span>, <a class="code" href="MachinePipeliner_8cpp.html#afe8ac84bd477709d60ca690240637642">SwpMaxStages</a>)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;. Refer to -pipeliner-max-stages.&quot;</span>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    });</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <a class="code" href="classllvm_1_1Pass.html">Pass</a>.ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemark.html">MachineOptimizationRemark</a>(<a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;schedule&quot;</span>, <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">getStartLoc</a>(),</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                                     <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;Pipelined succesfully!&quot;</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  });</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">// Generate the schedule as a ModuloSchedule.</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MachineInstr *, int&gt;</a> Cycles, Stages;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  std::vector&lt;MachineInstr *&gt; OrderedInsts;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#aa9cf7f8bcf9a31775f99c732ad69e907">getFirstCycle</a>(); <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> &lt;= Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#af238533c2437443030e5fa4a710094c5">getFinalCycle</a>();</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;       ++<a class="code" href="namespacellvm.html#aacc94b06b3540d18255a46abbe4f5f11">Cycle</a>) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a443c7ea5745c6b71817c757be2a8a0ec">getInstructions</a>(<a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>)) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      OrderedInsts.push_back(SU-&gt;getInstr());</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      Cycles[SU-&gt;getInstr()] = <a class="code" href="namespacellvm.html#aacc94b06b3540d18255a46abbe4f5f11">Cycle</a>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      Stages[SU-&gt;getInstr()] = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(SU);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MachineInstr *, std::pair&lt;unsigned, int64_t&gt;</a>&gt; NewInstrChanges;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;KV : NewMIs) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    Cycles[KV.first] = Cycles[KV.second];</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    Stages[KV.first] = Stages[KV.second];</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    NewInstrChanges[KV.first] = InstrChanges[<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(KV.first)];</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <a class="code" href="classllvm_1_1ModuloSchedule.html">ModuloSchedule</a> MS(<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>, &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(OrderedInsts), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Cycles),</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Stages));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a538eb476b0078602f2ae41bac75c98a5">EmitTestAnnotations</a>) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewInstrChanges.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;           <span class="stringliteral">&quot;Cannot serialize a schedule with InstrChanges!&quot;</span>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="classllvm_1_1ModuloScheduleTestAnnotater.html">ModuloScheduleTestAnnotater</a> MSTI(<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>, MS);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    MSTI.<a class="code" href="classllvm_1_1ModuloScheduleTestAnnotater.html#a20dd6e00191a092f48bd5598b8829bb3">annotate</a>();</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">// The experimental code generator can&#39;t work if there are InstChanges.</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a546474d44555862f8a6ad0429a0c6874">ExperimentalCodeGen</a> &amp;&amp; NewInstrChanges.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>()) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="classllvm_1_1PeelingModuloScheduleExpander.html">PeelingModuloScheduleExpander</a> MSE(<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>, MS, &amp;LIS);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    MSE.<a class="code" href="classllvm_1_1PeelingModuloScheduleExpander.html#a134f4cf4ad60c97b1d23e9d1e465031a">expand</a>();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <a class="code" href="classllvm_1_1ModuloScheduleExpander.html">ModuloScheduleExpander</a> MSE(<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>, MS, LIS, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(NewInstrChanges));</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    MSE.<a class="code" href="classllvm_1_1ModuloScheduleExpander.html#a772c336d26015c2e6fb5efc62cf166be">expand</a>();</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    MSE.<a class="code" href="classllvm_1_1ModuloScheduleExpander.html#a1e6babf78504a9699ed219fab9ce3460">cleanup</a>();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  ++NumPipelined;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">/// Clean up after the software pipeliner runs.</span></div>
<div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="classllvm_1_1SwingSchedulerDAG.html#a47f63b6ab42a97ca3b5346b6c7093b09">  671</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a47f63b6ab42a97ca3b5346b6c7093b09">SwingSchedulerDAG::finishBlock</a>() {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;KV : NewMIs)</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a63a92e13c7107826b68916401528f35c">deleteMachineInstr</a>(KV.second);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  NewMIs.clear();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="comment">// Call the superclass.</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a1f9a4461e2c9ac06b97f55554f836d66">ScheduleDAGInstrs::finishBlock</a>();</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">/// Return the register values for  the operands of a Phi instruction.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">/// This function assume the instruction is a Phi.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#ad4cf8c8e4e2cc5bf94656e979ed629b4">  682</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MachinePipeliner_8cpp.html#ad4cf8c8e4e2cc5bf94656e979ed629b4">getPhiRegs</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Phi, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="classllvm_1_1Loop.html">Loop</a>,</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                       <span class="keywordtype">unsigned</span> &amp;InitVal, <span class="keywordtype">unsigned</span> &amp;LoopVal) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Phi.<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() &amp;&amp; <span class="stringliteral">&quot;Expecting a Phi.&quot;</span>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  InitVal = 0;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  LoopVal = 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Phi.<a class="code" href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">if</span> (Phi.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>() != <a class="code" href="classllvm_1_1Loop.html">Loop</a>)</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      InitVal = Phi.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      LoopVal = Phi.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InitVal != 0 &amp;&amp; LoopVal != 0 &amp;&amp; <span class="stringliteral">&quot;Unexpected Phi structure.&quot;</span>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">/// Return the Phi register value that comes the loop block.</span></div>
<div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a3338cf03496688897abc2cc959bf9f17">  698</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="MachinePipeliner_8cpp.html#a3338cf03496688897abc2cc959bf9f17">getLoopPhiReg</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Phi, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *LoopBB) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Phi.<a class="code" href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span> (Phi.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>() == LoopBB)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">return</span> Phi.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">/// Return true if SUb can be reached from SUa following the chain edges.</span></div>
<div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#aa1bdad6ac04deb5b4e5990a020b616c7">  706</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MachinePipeliner_8cpp.html#aa1bdad6ac04deb5b4e5990a020b616c7">isSuccOrder</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SUa, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SUb) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;SUnit *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit *, 8&gt;</a> Worklist;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  Worklist.push_back(SUa);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SuccSU = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit();</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a>) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(SuccSU))</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">if</span> (SuccSU == SUb)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        Worklist.push_back(SuccSU);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(SuccSU);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;}</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">/// Return true if the instruction causes a chain between memory</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">/// references before and after it.</span></div>
<div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a7bfbe897bc5c1a0c0fbfac15d237b0b4">  729</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MachinePipeliner_8cpp.html#a7bfbe897bc5c1a0c0fbfac15d237b0b4">isDependenceBarrier</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayRaiseFPException() ||</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasUnmodeledSideEffects() ||</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;         (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasOrderedMemoryRef() &amp;&amp;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;          (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoad() || !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDereferenceableInvariantLoad()));</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">/// Return the underlying objects for the memory references of an instruction.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">/// This function calls the code in ValueTracking, but first checks that the</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">/// instruction has a memory operand.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a1c6ca3bca5d47b669bf974f527f05c8c">  739</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#aa1fa33552f21afa988d7fa09b1a369fa">getUnderlyingObjects</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const Value *&gt;</a> &amp;Objs) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;hasOneMemOperand())</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MM = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;memoperands_begin();</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordflow">if</span> (!MM-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a152bcf1324cf8cd743a20c879a77de5b">getValue</a>())</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <a class="code" href="namespacellvm.html#aa1fa33552f21afa988d7fa09b1a369fa">getUnderlyingObjects</a>(MM-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a152bcf1324cf8cd743a20c879a77de5b">getValue</a>(), Objs);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V : Objs) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#aed2c5dd2a303159f87771db83f54352b">isIdentifiedObject</a>(V)) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      Objs.clear();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    Objs.push_back(V);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">/// Add a chain edge between a load and store if the store can be an</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">/// alias of the load on a subsequent iteration, i.e., a loop carried</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">/// dependence. This code is very similar to the code in ScheduleDAGInstrs</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">/// but that code doesn&#39;t create loop carried dependences.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::addLoopCarriedDependences(<a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> *AA) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;const Value *, SmallVector&lt;SUnit *, 4&gt;</a>&gt; PendingLoads;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aad4b383d6bf0b66dd1a20a81505788fd">UnknownValue</a> =</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">getContext</a>()));</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;SU : <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *SU.getInstr();</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a7bfbe897bc5c1a0c0fbfac15d237b0b4">isDependenceBarrier</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      PendingLoads.<a class="code" href="classllvm_1_1MapVector.html#ae091b147039557cf8ce505740e7ff7ac">clear</a>();</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoad()) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 4&gt;</a> Objs;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <a class="code" href="namespacellvm.html#aa1fa33552f21afa988d7fa09b1a369fa">::getUnderlyingObjects</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Objs);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">if</span> (Objs.empty())</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        Objs.push_back(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aad4b383d6bf0b66dd1a20a81505788fd">UnknownValue</a>);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *V : Objs) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit *, 4&gt;</a> &amp;SUs = PendingLoads[V];</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        SUs.push_back(&amp;SU);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayStore()) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 4&gt;</a> Objs;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <a class="code" href="namespacellvm.html#aa1fa33552f21afa988d7fa09b1a369fa">::getUnderlyingObjects</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Objs);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordflow">if</span> (Objs.empty())</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        Objs.push_back(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aad4b383d6bf0b66dd1a20a81505788fd">UnknownValue</a>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *V : Objs) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;const Value *, SmallVector&lt;SUnit *, 4&gt;</a>&gt;::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            PendingLoads.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(V);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == PendingLoads.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>())</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#aa1bdad6ac04deb5b4e5990a020b616c7">isSuccOrder</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, &amp;SU))</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;          <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LdMI = *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getInstr();</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;          <span class="comment">// First, perform the cheaper check that compares the base register.</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          <span class="comment">// If they are the same and the load offset is less than the store</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;          <span class="comment">// offset, then mark the dependence as loop carried potentially.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *BaseOp1, *BaseOp2;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;          int64_t Offset1, Offset2;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;          <span class="keywordtype">bool</span> Offset1IsScalable, Offset2IsScalable;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#afbbc2492f83b9a1b2b2b850283240272">getMemOperandWithOffset</a>(LdMI, BaseOp1, Offset1,</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                           Offset1IsScalable, <a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>) &amp;&amp;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;              <a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#afbbc2492f83b9a1b2b2b850283240272">getMemOperandWithOffset</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, BaseOp2, Offset2,</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                                           Offset2IsScalable, <a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>)) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <span class="keywordflow">if</span> (BaseOp1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">isIdenticalTo</a>(*BaseOp2) &amp;&amp;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                Offset1IsScalable == Offset2IsScalable &amp;&amp;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                (<span class="keywordtype">int</span>)Offset1 &lt; (<span class="keywordtype">int</span>)Offset2) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;              <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a5f8ea6535c262fbc8a16177783020314">areMemAccessesTriviallyDisjoint</a>(LdMI, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                     <span class="stringliteral">&quot;What happened to the chain edge?&quot;</span>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;              <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;              Dep.setLatency(1);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;              SU.addPred(Dep);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;          }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;          <span class="comment">// Second, the more expensive check that uses alias analysis on the</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;          <span class="comment">// base registers. If they alias, and the load offset is less than</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;          <span class="comment">// the store offset, the mark the dependence as loop carried.</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;          <span class="keywordflow">if</span> (!AA) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            Dep.setLatency(1);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            SU.addPred(Dep);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO1 = *LdMI.<a class="code" href="classllvm_1_1MachineInstr.html#aa5ff177bc1498508696aaf27235db3fc">memoperands_begin</a>();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO2 = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin();</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;          <span class="keywordflow">if</span> (!MMO1-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a152bcf1324cf8cd743a20c879a77de5b">getValue</a>() || !MMO2-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a152bcf1324cf8cd743a20c879a77de5b">getValue</a>()) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            Dep.setLatency(1);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            SU.addPred(Dep);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;          }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;          <span class="keywordflow">if</span> (MMO1-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a152bcf1324cf8cd743a20c879a77de5b">getValue</a>() == MMO2-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a152bcf1324cf8cd743a20c879a77de5b">getValue</a>() &amp;&amp;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;              MMO1-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#afa0fb135809edd33ea2b3d0497aa610c">getOffset</a>() &lt;= MMO2-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#afa0fb135809edd33ea2b3d0497aa610c">getOffset</a>()) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            Dep.setLatency(1);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            SU.addPred(Dep);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;          }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;          <span class="keywordflow">if</span> (!AA-&gt;<a class="code" href="classllvm_1_1AAResults.html#a9ebdc17e55980f1a8176d376d9e2a323">isNoAlias</a>(</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                  <a class="code" href="classllvm_1_1MemoryLocation.html#a49f776e0940cc5d63d17d85ff6dac257">MemoryLocation::getAfter</a>(MMO1-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a152bcf1324cf8cd743a20c879a77de5b">getValue</a>(), MMO1-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#ad4e46eec152e23bfb02096e53bde67da">getAAInfo</a>()),</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                  <a class="code" href="classllvm_1_1MemoryLocation.html#a49f776e0940cc5d63d17d85ff6dac257">MemoryLocation::getAfter</a>(MMO2-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a152bcf1324cf8cd743a20c879a77de5b">getValue</a>(),</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                                           MMO2-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#ad4e46eec152e23bfb02096e53bde67da">getAAInfo</a>()))) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            Dep.setLatency(1);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            SU.addPred(Dep);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;          }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;}</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">/// Update the phi dependences to the DAG because ScheduleDAGInstrs no longer</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">/// processes dependences for PHIs. This function adds true dependences</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">/// from a PHI to a use, and a loop carried dependence from the use to the</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">/// PHI. The loop carried dependence is represented as an anti dependence</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">/// edge. This function also removes chain dependences between unrelated</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">/// PHIs.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::updatePhiDependences() {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDep, 4&gt;</a> RemoveDeps;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a>&gt;();</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// Iterate over each DAG node.</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    RemoveDeps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="comment">// Set to true if the instruction has an operand defined by a Phi.</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordtype">unsigned</span> HasPhiUse = 0;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordtype">unsigned</span> HasPhiDef = 0;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getInstr();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">// Iterate over each operand, and we process the definitions.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;operands()) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> (!MO.isReg())</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.getReg();</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <span class="keywordflow">if</span> (MO.isDef()) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="comment">// If the register is used by a Phi, then create an anti dependence.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator.html">MachineRegisterInfo::use_instr_iterator</a></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                 UI = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a489d8c4ed3ae8b1ca4f68e580b074bf1">use_instr_begin</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>),</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                 UE = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7a73104304bf1f9d344ad495283561b5">use_instr_end</a>();</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;             UI != UE; ++UI) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a> = &amp;*UI;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;          <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          <span class="keywordflow">if</span> (SU != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>()) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isPHI()) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;              <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(SU, <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;              Dep.setLatency(1);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;              <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.addPred(Dep);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;              HasPhiDef = <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;              <span class="comment">// Add a chain edge to a dependent Phi that isn&#39;t an existing</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;              <span class="comment">// predecessor.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;              <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.NodeNum &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isPred(SU))</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.addPred(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>));</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;          }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.isUse()) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="comment">// If the register is defined by a Phi, then create a true dependence.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">if</span> (SU != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>()) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isPHI()) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(SU, <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            Dep.setLatency(0);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.adjustSchedDependency(SU, 0, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, MO.getOperandNo(), Dep);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.addPred(Dep);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            HasPhiUse = <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <span class="comment">// Add a chain edge to a dependent Phi that isn&#39;t an existing</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            <span class="comment">// predecessor.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.NodeNum &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isPred(SU))</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;              <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.addPred(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>));</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;          }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">// Remove order dependences from an unrelated Phi.</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MachinePipeliner_8cpp.html#a987a62d4820b440e2924de2c1b9fc540">SwpPruneDeps</a>)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;PI : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.Preds) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *PMI = PI.getSUnit()-&gt;getInstr();</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keywordflow">if</span> (PMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() &amp;&amp; PI.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a>) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getInstr()-&gt;isPHI()) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;          <span class="keywordflow">if</span> (PMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == HasPhiUse)</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a3338cf03496688897abc2cc959bf9f17">getLoopPhiReg</a>(*PMI, PMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()) == HasPhiDef)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        RemoveDeps.push_back(PI);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = RemoveDeps.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.removePred(RemoveDeps[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;}</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment">/// Iterate over each DAG node and see if we can change any dependences</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">/// in order to reduce the recurrence MII.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::changeDependences() {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="comment">// See if an instruction can use a value from the previous iteration.</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// If so, we update the base and offset of the instruction and change</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// the dependences.</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordtype">unsigned</span> BasePos = 0, OffsetPos = 0, NewBase = 0;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    int64_t NewOffset = 0;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (!canUseLastOffsetValue(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getInstr(), BasePos, OffsetPos, NewBase,</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                               NewOffset))</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="comment">// Get the MI and SUnit for the instruction that defines the original base.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> OrigBase = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getInstr()-&gt;getOperand(BasePos).getReg();</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(OrigBase);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *DefSU = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> (!DefSU)</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// Get the MI and SUnit for the instruction that defins the new base.</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastMI = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(NewBase);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (!LastMI)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *LastSU = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(LastMI);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span> (!LastSU)</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">if</span> (Topo.<a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#af5fef42e8e1d446cf5e185b14dd4b8af">IsReachable</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, LastSU))</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="comment">// Remove the dependence. The value now depends on a prior iteration.</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDep, 4&gt;</a> Deps;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.Preds)</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getSUnit() == DefSU)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        Deps.push_back(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Deps.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      Topo.<a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a10a769ee13a9d9298d2c2b887dfae250">RemovePred</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Deps[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>());</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.removePred(Deps[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="comment">// Remove the chain dependence between the instructions.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    Deps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : LastSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>)</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getSUnit() == &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &amp;&amp; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a>)</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        Deps.push_back(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Deps.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      Topo.<a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a10a769ee13a9d9298d2c2b887dfae250">RemovePred</a>(LastSU, Deps[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>());</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      LastSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a6d3233165db1e6be5c44060cd4a95461">removePred</a>(Deps[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">// Add a dependence between the new instruction and the instruction</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="comment">// that defines the new base.</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>, NewBase);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    Topo.<a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a47144792598184237de69d6b25b35175">AddPred</a>(LastSU, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    LastSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(Dep);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="comment">// Remember the base and offset information so that we can update the</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="comment">// instruction during code generation.</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    InstrChanges[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = std::make_pair(NewBase, NewOffset);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;}</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">// FuncUnitSorter - Comparison operator used to sort instructions by</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">// the number of functional unit choices.</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="keyword">struct </span>FuncUnitSorter {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *InstrItins;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSubtargetInfo.html">MCSubtargetInfo</a> *STI;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;InstrStage::FuncUnits, unsigned&gt;</a> Resources;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  FuncUnitSorter(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> &amp;TSI)</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      : InstrItins(TSI.getInstrItineraryData()), STI(&amp;TSI) {}</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// Compute the number of functional unit alternatives needed</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="comment">// at each stage, and take the minimum value. We prioritize the</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="comment">// instructions by the least number of choices first.</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordtype">unsigned</span> minFuncUnits(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Inst,</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                        <a class="code" href="structllvm_1_1InstrStage.html#a28207c85d95c7a0d901b2d8dbc37b6e3">InstrStage::FuncUnits</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordtype">unsigned</span> SchedClass = Inst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a60c8658c657286e8cd084bf2e9c48eda">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a03a564c2840cb8d27314596549fc04b8">getSchedClass</a>();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">min</a> = UINT_MAX;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">if</span> (InstrItins &amp;&amp; !InstrItins-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#affe6bc9136f849e9b46fbccf620b3409">isEmpty</a>()) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1InstrStage.html">InstrStage</a> &amp;IS :</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;           <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(InstrItins-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#aeff040294feebea3d768822014c5baa8">beginStage</a>(SchedClass),</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                      InstrItins-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a19286832b171770cc13c4346889a7372">endStage</a>(SchedClass))) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <a class="code" href="structllvm_1_1InstrStage.html#a28207c85d95c7a0d901b2d8dbc37b6e3">InstrStage::FuncUnits</a> funcUnits = IS.getUnits();</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="keywordtype">unsigned</span> numAlternatives = <a class="code" href="namespacellvm.html#a0eea77e7bfa82e0219d2ec7b4efbc94f">llvm::popcount</a>(funcUnits);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">if</span> (numAlternatives &lt; <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">min</a>) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;          <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">min</a> = numAlternatives;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = funcUnits;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">min</a>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (STI &amp;&amp; STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#af15578b4490afbb57377b0ee83d376bb">getSchedModel</a>().<a class="code" href="structllvm_1_1MCSchedModel.html#a68fa67076e0244cf21e80f2c43b6fa02">hasInstrSchedModel</a>()) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc =</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;          STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#af15578b4490afbb57377b0ee83d376bb">getSchedModel</a>().<a class="code" href="structllvm_1_1MCSchedModel.html#ae84985c514afb246e14c45a0280e3f90">getSchedClassDesc</a>(SchedClass);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">if</span> (!SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#a03f7e8be243cde4843e2854d91bfa082">isValid</a>())</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="comment">// No valid Schedule Class Desc for schedClass, should be</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="comment">// Pseudo/PostRAPseudo</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">min</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1MCWriteProcResEntry.html">MCWriteProcResEntry</a> &amp;PRE :</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;           <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a0889f5abf71c45b0610d3fa148986eaf">getWriteProcResBegin</a>(SCDesc),</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                      STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#aa6c00f0265f953f24b14b94a05f3b6d7">getWriteProcResEnd</a>(SCDesc))) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <span class="keywordflow">if</span> (!PRE.Cycles)</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCProcResourceDesc.html">MCProcResourceDesc</a> *ProcResource =</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#af15578b4490afbb57377b0ee83d376bb">getSchedModel</a>().<a class="code" href="structllvm_1_1MCSchedModel.html#ad57c6f52887935df66e0892864e659b4">getProcResource</a>(PRE.ProcResourceIdx);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordtype">unsigned</span> NumUnits = ProcResource-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">NumUnits</a>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">if</span> (NumUnits &lt; <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">min</a>) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;          <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">min</a> = NumUnits;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = PRE.ProcResourceIdx;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">min</a>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Should have non-empty InstrItins or hasInstrSchedModel!&quot;</span>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="comment">// Compute the critical resources needed by the instruction. This</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="comment">// function records the functional units needed by instructions that</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="comment">// must use only one functional unit. We use this as a tie breaker</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="comment">// for computing the resource MII. The instrutions that require</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="comment">// the same, highly used, functional unit have high priority.</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordtype">void</span> calcCriticalResources(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordtype">unsigned</span> SchedClass = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().getSchedClass();</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">if</span> (InstrItins &amp;&amp; !InstrItins-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#affe6bc9136f849e9b46fbccf620b3409">isEmpty</a>()) {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1InstrStage.html">InstrStage</a> &amp;IS :</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;           <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(InstrItins-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#aeff040294feebea3d768822014c5baa8">beginStage</a>(SchedClass),</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                      InstrItins-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a19286832b171770cc13c4346889a7372">endStage</a>(SchedClass))) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="structllvm_1_1InstrStage.html#a28207c85d95c7a0d901b2d8dbc37b6e3">InstrStage::FuncUnits</a> FuncUnits = IS.getUnits();</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0eea77e7bfa82e0219d2ec7b4efbc94f">llvm::popcount</a>(FuncUnits) == 1)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;          Resources[FuncUnits]++;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">if</span> (STI &amp;&amp; STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#af15578b4490afbb57377b0ee83d376bb">getSchedModel</a>().<a class="code" href="structllvm_1_1MCSchedModel.html#a68fa67076e0244cf21e80f2c43b6fa02">hasInstrSchedModel</a>()) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc =</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;          STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#af15578b4490afbb57377b0ee83d376bb">getSchedModel</a>().<a class="code" href="structllvm_1_1MCSchedModel.html#ae84985c514afb246e14c45a0280e3f90">getSchedClassDesc</a>(SchedClass);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <span class="keywordflow">if</span> (!SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#a03f7e8be243cde4843e2854d91bfa082">isValid</a>())</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="comment">// No valid Schedule Class Desc for schedClass, should be</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="comment">// Pseudo/PostRAPseudo</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1MCWriteProcResEntry.html">MCWriteProcResEntry</a> &amp;PRE :</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;           <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a0889f5abf71c45b0610d3fa148986eaf">getWriteProcResBegin</a>(SCDesc),</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                      STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#aa6c00f0265f953f24b14b94a05f3b6d7">getWriteProcResEnd</a>(SCDesc))) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">if</span> (!PRE.Cycles)</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        Resources[PRE.ProcResourceIdx]++;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Should have non-empty InstrItins or hasInstrSchedModel!&quot;</span>);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">  /// Return true if IS1 has less priority than IS2.</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *IS1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *IS2)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="structllvm_1_1InstrStage.html#a28207c85d95c7a0d901b2d8dbc37b6e3">InstrStage::FuncUnits</a> F1 = 0, F2 = 0;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordtype">unsigned</span> MFUs1 = minFuncUnits(IS1, F1);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordtype">unsigned</span> MFUs2 = minFuncUnits(IS2, F2);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">if</span> (MFUs1 == MFUs2)</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">return</span> Resources.<a class="code" href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">lookup</a>(F1) &lt; Resources.<a class="code" href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">lookup</a>(F2);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">return</span> MFUs1 &gt; MFUs2;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;};</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment">/// Calculate the resource constrained minimum initiation interval for the</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment">/// specified loop. We use the DFA to model the resources needed for</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment">/// each instruction, and we ignore dependences. A different DFA is created</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment">/// for each cycle that is required. When adding a new instruction, we attempt</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">/// to add it to each existing DFA, until a legal space is found. If the</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">/// instruction cannot be reserved in an existing DFA, we create a new one.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> SwingSchedulerDAG::calculateResMII() {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;calculateResMII:\n&quot;</span>);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <a class="code" href="classllvm_1_1ResourceManager.html">ResourceManager</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">RM</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>(), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">RM</a>.calculateResMII();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;}</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">/// Calculate the recurrence-constrainted minimum initiation interval.</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">/// Iterate over each circuit.  Compute the delay(c) and distance(c)</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">/// for each circuit. The II needs to satisfy the inequality</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">/// delay(c) - II*distance(c) &lt;= 0. For each circuit, choose the smallest</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">/// II that satisfies the inequality, and the RecMII is the maximum</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">/// of those values.</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> SwingSchedulerDAG::calculateRecMII(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordtype">unsigned</span> RecMII = 0;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;Nodes : NodeSets) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">if</span> (Nodes.empty())</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="keywordtype">unsigned</span> Delay = Nodes.getLatency();</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordtype">unsigned</span> Distance = 1;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="comment">// ii = ceil(delay / distance)</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordtype">unsigned</span> CurMII = (Delay + Distance - 1) / Distance;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    Nodes.setRecMII(CurMII);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (CurMII &gt; RecMII)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      RecMII = CurMII;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">return</span> RecMII;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment">/// Swap all the anti dependences in the DAG. That means it is no longer a DAG,</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">/// but we do this to find the circuits, and then change them back.</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a9a10594df0f8d0997e3a64bdace90fb9"> 1147</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MachinePipeliner_8cpp.html#a9a10594df0f8d0997e3a64bdace90fb9">swapAntiDependences</a>(std::vector&lt;SUnit&gt; &amp;SUnits) {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;SUnit *, SDep&gt;</a>, 8&gt; DepsAdded;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : SUnits) {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Pred : SU.<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>)</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">if</span> (Pred.<a class="code" href="classllvm_1_1SDep.html#a055c65558a3e0f7d48f1ed3dde061199">getKind</a>() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>)</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        DepsAdded.push_back(std::make_pair(&amp;SU, Pred));</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="keywordflow">for</span> (std::pair&lt;SUnit *, SDep&gt; &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : DepsAdded) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="comment">// Remove this anti dependency and add one in the reverse direction.</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *TargetSU = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getSUnit();</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getReg();</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordtype">unsigned</span> Lat = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getLatency();</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a6d3233165db1e6be5c44060cd4a95461">removePred</a>(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(SU, <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(Lat);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    TargetSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(Dep);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;}</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="comment">/// Create the adjacency structure of the nodes in the graph.</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::Circuits::createAdjacencyStructure(</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *DAG) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> <a class="code" href="namespacellvm_1_1logicalview.html#a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85">Added</a>(SUnits.size());</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;int, int&gt;</a> OutputDeps;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = SUnits.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <a class="code" href="namespacellvm_1_1logicalview.html#a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85">Added</a>.reset();</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="comment">// Add any successor to the adjacency matrix and exclude duplicates.</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : SUnits[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Succs) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="comment">// Only create a back-edge on the first and last nodes of a dependence</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="comment">// chain. This records any chains and adds them later.</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a>) {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit()-&gt;NodeNum;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordtype">int</span> BackEdge = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="keyword">auto</span> Dep = OutputDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(BackEdge);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="keywordflow">if</span> (Dep != OutputDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;          BackEdge = Dep-&gt;second;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;          OutputDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(Dep);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        OutputDeps[<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>] = BackEdge;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="comment">// Do not process a boundary node, an artificial node.</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="comment">// A back-edge is processed only if it goes to a Phi.</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit()-&gt;isBoundaryNode() || <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.isArtificial() ||</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;          (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a> &amp;&amp; !<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit()-&gt;getInstr()-&gt;isPHI()))</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit()-&gt;NodeNum;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1logicalview.html#a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85">Added</a>.test(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        AdjK[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].push_back(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <a class="code" href="namespacellvm_1_1logicalview.html#a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85">Added</a>.set(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    }</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="comment">// A chain edge between a store and a load is treated as a back-edge in the</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="comment">// adjacency matrix.</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;PI : SUnits[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Preds) {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="keywordflow">if</span> (!SUnits[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getInstr()-&gt;mayStore() ||</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;          !DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a7481e8a30019a2c7c9231e5a29d12af6">isLoopCarriedDep</a>(&amp;SUnits[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], PI, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <span class="keywordflow">if</span> (PI.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a> &amp;&amp; PI.getSUnit()-&gt;getInstr()-&gt;mayLoad()) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = PI.getSUnit()-&gt;NodeNum;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1logicalview.html#a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85">Added</a>.test(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;          AdjK[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].push_back(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;          <a class="code" href="namespacellvm_1_1logicalview.html#a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85">Added</a>.set(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="comment">// Add back-edges in the adjacency matrix for the output dependences.</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;OD : OutputDeps)</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1logicalview.html#a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85">Added</a>.test(OD.second)) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      AdjK[OD.first].push_back(OD.second);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <a class="code" href="namespacellvm_1_1logicalview.html#a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85">Added</a>.set(OD.second);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;}</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">/// Identify an elementary circuit in the dependence graph starting at the</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">/// specified node.</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> SwingSchedulerDAG::Circuits::circuit(<span class="keywordtype">int</span> V, <span class="keywordtype">int</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, NodeSetType &amp;NodeSets,</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                          <span class="keywordtype">bool</span> HasBackedge) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SV = &amp;SUnits[V];</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <a class="code" href="namespacellvm_1_1pdb.html#a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca">Stack</a>.insert(SV);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  Blocked.set(V);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> : AdjK[V]) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> (NumPaths &gt; MaxPaths)</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> &lt; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> == <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="keywordflow">if</span> (!HasBackedge)</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        NodeSets.push_back(<a class="code" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a>(<a class="code" href="namespacellvm_1_1pdb.html#a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca">Stack</a>.begin(), <a class="code" href="namespacellvm_1_1pdb.html#a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca">Stack</a>.end()));</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      ++NumPaths;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!Blocked.test(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>)) {</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">if</span> (circuit(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, NodeSets,</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                  Node2Idx-&gt;at(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>) &lt; Node2Idx-&gt;at(V) ? <span class="keyword">true</span> : HasBackedge))</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    unblock(V);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> : AdjK[V]) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> &lt; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>[<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>].insert(SV);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <a class="code" href="namespacellvm_1_1pdb.html#a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca">Stack</a>.pop_back();</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">/// Unblock a node in the circuit finding algorithm.</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::Circuits::unblock(<span class="keywordtype">int</span> U) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  Blocked.reset(U);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;SUnit *, 4&gt;</a> &amp;BU = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>[U];</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordflow">while</span> (!BU.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">empty</a>()) {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;SUnit *, 4&gt;::iterator</a> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = BU.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">begin</a>();</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> != BU.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a7004354fbee1c8cd74ed9001915e1db5">end</a>() &amp;&amp; <span class="stringliteral">&quot;Invalid B set.&quot;</span>);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    BU.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a11045c7973ab24a8d6315b61fa337d4e">erase</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">if</span> (Blocked.test(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>-&gt;NodeNum))</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      unblock(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>-&gt;NodeNum);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;}</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">/// Identify all the elementary circuits in the dependence graph using</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">/// Johnson&#39;s circuit algorithm.</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::findCircuits(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="comment">// Swap all the anti dependences in the DAG. That means it is no longer a DAG,</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="comment">// but we do this to find the circuits, and then change them back.</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <a class="code" href="MachinePipeliner_8cpp.html#a9a10594df0f8d0997e3a64bdace90fb9">swapAntiDependences</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  Circuits Cir(<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>, Topo);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="comment">// Create the adjacency structure.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  Cir.createAdjacencyStructure(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    Cir.reset();</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    Cir.circuit(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, NodeSets);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="comment">// Change the dependences back so that we&#39;ve created a DAG again.</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <a class="code" href="MachinePipeliner_8cpp.html#a9a10594df0f8d0997e3a64bdace90fb9">swapAntiDependences</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;}</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">// Create artificial dependencies between the source of COPY/REG_SEQUENCE that</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment">// is loop-carried to the USE in next iteration. This will help pipeliner avoid</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment">// additional copies that are needed across iterations. An artificial dependence</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">// edge is added from USE to SOURCE of COPY/REG_SEQUENCE.</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment">// PHI-------Anti-Dep-----&gt; COPY/REG_SEQUENCE (loop-carried)</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment">// SRCOfCopY------True-Dep---&gt; COPY/REG_SEQUENCE</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">// PHI-------True-Dep------&gt; USEOfPhi</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">// The mutation creates</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">// USEOfPHI -------Artificial-Dep---&gt; SRCOfCopy</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">// This overall will ensure, the USEOfPHI is scheduled before SRCOfCopy</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">// (since USE is a predecessor), implies, the COPY/ REG_SEQUENCE is scheduled</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">// late  to avoid additional copies across iterations. The possible scheduling</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment">// order would be</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="comment">// USEOfPHI --- SRCOfCopy---  COPY/REG_SEQUENCE.</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1cl.html#a7e3e54c1843be55179d4215efe20bb87">SwingSchedulerDAG::CopyToPhiMutation::apply</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html">ScheduleDAGInstrs</a> *DAG) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="comment">// Find the COPY/REG_SEQUENCE instruction.</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordflow">if</span> (!SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1912d4fbc40c61a12b1f770ad54dfd74">isCopy</a>() &amp;&amp; !SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8d97d09150ddcbcf5039f938111358ee">isRegSequence</a>())</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="comment">// Record the loop carried PHIs.</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit *, 4&gt;</a> PHISUs;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="comment">// Record the SrcSUs that feed the COPY/REG_SEQUENCE instructions.</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit *, 4&gt;</a> SrcSUs;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Dep : SU.<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>) {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *TmpSU = Dep.getSUnit();</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *TmpMI = TmpSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732">SDep::Kind</a> DepKind = Dep.getKind();</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <span class="comment">// Save the loop carried PHI.</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">if</span> (DepKind == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a> &amp;&amp; TmpMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        PHISUs.push_back(TmpSU);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="comment">// Save the source of COPY/REG_SEQUENCE.</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="comment">// If the source has no pre-decessors, we will end up creating cycles.</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DepKind == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a> &amp;&amp; !TmpMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() &amp;&amp; TmpSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a25329a072c76c185b8c5ff530c632762">NumPreds</a> &gt; 0)</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        SrcSUs.push_back(TmpSU);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">if</span> (PHISUs.size() == 0 || SrcSUs.size() == 0)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="comment">// Find the USEs of PHI. If the use is a PHI or REG_SEQUENCE, push back this</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="comment">// SUnit to the container.</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit *, 8&gt;</a> UseSUs;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// Do not use iterator based loop here as we are updating the container.</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = 0; <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt; PHISUs.size(); ++<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Dep : PHISUs[<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>]-&gt;Succs) {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">if</span> (Dep.getKind() != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>)</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *TmpSU = Dep.getSUnit();</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *TmpMI = TmpSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        <span class="keywordflow">if</span> (TmpMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() || TmpMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8d97d09150ddcbcf5039f938111358ee">isRegSequence</a>()) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;          PHISUs.push_back(TmpSU);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        UseSUs.push_back(TmpSU);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">if</span> (UseSUs.size() == 0)</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *<a class="code" href="README__P9_8txt.html#a34c550a65909ded0eaa5d85dd3aae22e">SDAG</a> = cast&lt;SwingSchedulerDAG&gt;(DAG);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="comment">// Add the artificial dependencies if it does not form a cycle.</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : UseSUs) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Src : SrcSUs) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="README__P9_8txt.html#a34c550a65909ded0eaa5d85dd3aae22e">SDAG</a>-&gt;Topo.IsReachable(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Src) &amp;&amp; Src != <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;          Src-&gt;addPred(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">SDep::Artificial</a>));</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;          <a class="code" href="README__P9_8txt.html#a34c550a65909ded0eaa5d85dd3aae22e">SDAG</a>-&gt;Topo.AddPred(Src, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  }</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;}</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="comment">/// Return true for DAG nodes that we ignore when computing the cost functions.</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">/// We ignore the back-edge recurrence in order to avoid unbounded recursion</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">/// in the calculation of the ASAP, ALAP, etc functions.</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#af017e4f5d1e914a3f28c0ed6a6e0375d"> 1379</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MachinePipeliner_8cpp.html#af017e4f5d1e914a3f28c0ed6a6e0375d">ignoreDependence</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <span class="keywordtype">bool</span> isPred) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.isArtificial() || <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getSUnit()-&gt;isBoundaryNode())</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a> &amp;&amp; isPred;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;}</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment">/// Compute several functions need to order the nodes for scheduling.</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment">///  ASAP - Earliest time to schedule a node.</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">///  ALAP - Latest time to schedule a node.</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment">///  MOV - Mobility function, difference between ALAP and ASAP.</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">///  D - Depth of each node.</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="comment">///  H - Height of each node.</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::computeNodeFunctions(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  ScheduleInfo.resize(<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.size());</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : Topo) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU = <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aa5f22315c4064579fca6cd88fb36ea5a">dumpNode</a>(SU);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    }</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  });</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="keywordtype">int</span> maxASAP = 0;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="comment">// Compute ASAP and ZeroLatencyDepth.</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : Topo) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordtype">int</span> asap = 0;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordtype">int</span> zeroLatencyDepth = 0;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="HexagonGenPredicate_8cpp.html#a0de1bf31f56b17312cc34b911d86faa4">pred</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getSUnit();</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getLatency() == 0)</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        zeroLatencyDepth =</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;            <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(zeroLatencyDepth, <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a6d8664e79797a05e27343b7e7c14a13f">getZeroLatencyDepth</a>(<a class="code" href="HexagonGenPredicate_8cpp.html#a0de1bf31f56b17312cc34b911d86faa4">pred</a>) + 1);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#af017e4f5d1e914a3f28c0ed6a6e0375d">ignoreDependence</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <span class="keyword">true</span>))</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      asap = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(asap, (<span class="keywordtype">int</span>)(<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a39271d8f98026cdac8a9fa7b8e90b333">getASAP</a>(<a class="code" href="HexagonGenPredicate_8cpp.html#a0de1bf31f56b17312cc34b911d86faa4">pred</a>) + <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getLatency() -</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                                  <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8178869538b9f4c60c81f602517ef615">getDistance</a>(<a class="code" href="HexagonGenPredicate_8cpp.html#a0de1bf31f56b17312cc34b911d86faa4">pred</a>, SU, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) * MII));</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    }</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    maxASAP = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(maxASAP, asap);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    ScheduleInfo[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].ASAP = asap;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    ScheduleInfo[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].ZeroLatencyDepth = zeroLatencyDepth;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="comment">// Compute ALAP, ZeroLatencyHeight, and MOV.</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(Topo)) {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keywordtype">int</span> alap = maxASAP;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordtype">int</span> zeroLatencyHeight = 0;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *succ = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getSUnit();</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <span class="keywordflow">if</span> (succ-&gt;<a class="code" href="classllvm_1_1SUnit.html#a7406c398c67e53ee3937bf2b6df1c64e">isBoundaryNode</a>())</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getLatency() == 0)</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        zeroLatencyHeight =</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(zeroLatencyHeight, <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#aafdb9280bf95dfeed0282509233ebe29">getZeroLatencyHeight</a>(succ) + 1);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#af017e4f5d1e914a3f28c0ed6a6e0375d">ignoreDependence</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">true</span>))</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      alap = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(alap, (<span class="keywordtype">int</span>)(<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#ae7447e7e3cc13e37cf8738c523a7394e">getALAP</a>(succ) - <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getLatency() +</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                                  <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8178869538b9f4c60c81f602517ef615">getDistance</a>(SU, succ, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) * MII));</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    }</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    ScheduleInfo[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].ALAP = alap;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    ScheduleInfo[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].ZeroLatencyHeight = zeroLatencyHeight;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  }</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="comment">// After computing the node functions, compute the summary for each node set.</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : NodeSets)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.computeNodeSetInfo(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\tNode &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t   ASAP = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a39271d8f98026cdac8a9fa7b8e90b333">getASAP</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t   ALAP = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#ae7447e7e3cc13e37cf8738c523a7394e">getALAP</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t   MOV  = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8ff8459ca7a8040add90e7c72a760a5e">getMOV</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t   D    = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a23e7afeb8a38aa0340c5644ebcd28f40">getDepth</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t   H    = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#ae3334289ef55f4f25b59ce3e4665a4b3">getHeight</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t   ZLD  = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a6d8664e79797a05e27343b7e7c14a13f">getZeroLatencyDepth</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\t   ZLH  = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#aafdb9280bf95dfeed0282509233ebe29">getZeroLatencyHeight</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    }</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  });</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;}</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment">/// Compute the Pred_L(O) set, as defined in the paper. The set is defined</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment">/// as the predecessors of the elements of NodeOrder that are not also in</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment">/// NodeOrder.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a22e496ee465f050b9572b905ee9765fa"> 1465</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MachinePipeliner_8cpp.html#a22e496ee465f050b9572b905ee9765fa">pred_L</a>(<a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;SUnit *&gt;</a> &amp;<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8">NodeOrder</a>,</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                   <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> &amp;Preds,</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  Preds.<a class="code" href="classllvm_1_1SetVector.html#a96bda22e654a59fec0620767b56dd53f">clear</a>();</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8">NodeOrder</a>) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Pred : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &amp;&amp; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;count(Pred.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()) == 0)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#af017e4f5d1e914a3f28c0ed6a6e0375d">ignoreDependence</a>(Pred, <span class="keyword">true</span>))</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8">NodeOrder</a>.count(Pred.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()) == 0)</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        Preds.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(Pred.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>());</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="comment">// Back-edges are predecessors with an anti-dependence.</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Succ : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="keywordflow">if</span> (Succ.<a class="code" href="classllvm_1_1SDep.html#a055c65558a3e0f7d48f1ed3dde061199">getKind</a>() != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>)</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &amp;&amp; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;count(Succ.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()) == 0)</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8">NodeOrder</a>.count(Succ.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()) == 0)</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        Preds.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(Succ.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>());</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">return</span> !Preds.<a class="code" href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">empty</a>();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;}</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">/// Compute the Succ_L(O) set, as defined in the paper. The set is defined</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">/// as the successors of the elements of NodeOrder that are not also in</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">/// NodeOrder.</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04"> 1494</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04">succ_L</a>(<a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;SUnit *&gt;</a> &amp;<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8">NodeOrder</a>,</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                   <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> &amp;Succs,</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  Succs.<a class="code" href="classllvm_1_1SetVector.html#a96bda22e654a59fec0620767b56dd53f">clear</a>();</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8">NodeOrder</a>) {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Succ : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &amp;&amp; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;count(Succ.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()) == 0)</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#af017e4f5d1e914a3f28c0ed6a6e0375d">ignoreDependence</a>(Succ, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8">NodeOrder</a>.count(Succ.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()) == 0)</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        Succs.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(Succ.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>());</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Pred : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>) {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      <span class="keywordflow">if</span> (Pred.<a class="code" href="classllvm_1_1SDep.html#a055c65558a3e0f7d48f1ed3dde061199">getKind</a>() != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &amp;&amp; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;count(Pred.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()) == 0)</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8">NodeOrder</a>.count(Pred.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()) == 0)</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        Succs.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(Pred.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>());</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    }</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  }</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordflow">return</span> !Succs.<a class="code" href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">empty</a>();</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;}</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="comment">/// Return true if there is a path from the specified node to any of the nodes</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="comment">/// in DestNodes. Keep track and return the nodes in any path.</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#afb7eb76495516bcbe48a9462928b562f"> 1521</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MachinePipeliner_8cpp.html#afb7eb76495516bcbe48a9462928b562f">computePath</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Cur, <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;SUnit *&gt;</a> &amp;Path,</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                        <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;SUnit *&gt;</a> &amp;DestNodes,</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                        <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;SUnit *&gt;</a> &amp;Exclude,</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                        <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;SUnit *, 8&gt;</a> &amp;Visited) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordflow">if</span> (Cur-&gt;<a class="code" href="classllvm_1_1SUnit.html#a7406c398c67e53ee3937bf2b6df1c64e">isBoundaryNode</a>())</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">if</span> (Exclude.<a class="code" href="classllvm_1_1SetVector.html#a51469ab7f147668678a486661b02ae59">contains</a>(Cur))</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keywordflow">if</span> (DestNodes.<a class="code" href="classllvm_1_1SetVector.html#a51469ab7f147668678a486661b02ae59">contains</a>(Cur))</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Cur).second)</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">return</span> Path.contains(Cur);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordtype">bool</span> FoundPath = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : Cur-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>)</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MachinePipeliner_8cpp.html#af017e4f5d1e914a3f28c0ed6a6e0375d">ignoreDependence</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      FoundPath |=</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;          <a class="code" href="MachinePipeliner_8cpp.html#afb7eb76495516bcbe48a9462928b562f">computePath</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit(), Path, DestNodes, Exclude, Visited);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;PI : Cur-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>)</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (PI.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>)</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      FoundPath |=</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;          <a class="code" href="MachinePipeliner_8cpp.html#afb7eb76495516bcbe48a9462928b562f">computePath</a>(PI.getSUnit(), Path, DestNodes, Exclude, Visited);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keywordflow">if</span> (FoundPath)</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    Path.insert(Cur);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="keywordflow">return</span> FoundPath;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;}</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="comment">/// Compute the live-out registers for the instructions in a node-set.</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">/// The live-out registers are those that are defined in the node-set,</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment">/// but not used. Except for use operands of Phis.</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a3fb8c57a2275283cbb376004421318da"> 1550</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MachinePipeliner_8cpp.html#a3fb8c57a2275283cbb376004421318da">computeLiveOuts</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1RegPressureTracker.html">RegPressureTracker</a> &amp;RPTracker,</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                            <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;NS) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;RegisterMaskPair, 8&gt;</a> LiveOutRegs;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;unsigned, 4&gt;</a> <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : NS) {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isPHI())</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;operands())</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">if</span> (MO.isReg() &amp;&amp; MO.isUse()) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.getReg();</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual())</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;          <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>.insert(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7f39116ef8979cff64ea1c666228e7d9">isAllocatable</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Units(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.asMCReg(), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>); Units.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>();</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;               ++Units)</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>.insert(*Units);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  }</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : NS)</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aef0e7e42e45e15f86b2a122b56ab829c">operands</a>())</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <span class="keywordflow">if</span> (MO.isReg() &amp;&amp; MO.isDef() &amp;&amp; !MO.isDead()) {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.getReg();</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual()) {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>.count(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            LiveOutRegs.push_back(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                                                   <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>()));</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7f39116ef8979cff64ea1c666228e7d9">isAllocatable</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Units(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.asMCReg(), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>); Units.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>();</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;               ++Units)</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>.count(*Units))</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;              LiveOutRegs.push_back(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(*Units,</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                                                     <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>()));</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  RPTracker.<a class="code" href="classllvm_1_1RegPressureTracker.html#aeb7ed55cb8c1a11bf7f3b9a1a46a046f">addLiveRegs</a>(LiveOutRegs);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;}</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">/// A heuristic to filter nodes in recurrent node-sets if the register</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment">/// pressure of a set is too high.</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::registerPressureFilter(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;NS : NodeSets) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="comment">// Skip small node-sets since they won&#39;t cause register pressure problems.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">if</span> (NS.size() &lt;= 2)</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <a class="code" href="structllvm_1_1IntervalPressure.html">IntervalPressure</a> RecRegPressure;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html">RegPressureTracker</a> RecRPTracker(RecRegPressure);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    RecRPTracker.init(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>, &amp;RegClassInfo, &amp;LIS, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a>, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="MachinePipeliner_8cpp.html#a3fb8c57a2275283cbb376004421318da">computeLiveOuts</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>, RecRPTracker, NS);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    RecRPTracker.closeBottom();</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    std::vector&lt;SUnit *&gt; <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>(NS.begin(), NS.end());</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;NodeNum &gt; <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;NodeNum;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    });</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;SU : <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      <span class="comment">// Since we&#39;re computing the register pressure for a subset of the</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <span class="comment">// instructions in a block, we need to set the tracker for each</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <span class="comment">// instruction in the node-set. The tracker is set to the instruction</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      <span class="comment">// just after the one we&#39;re interested in.</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_iterator</a> CurInstI = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      RecRPTracker.setPos(std::next(CurInstI));</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      <a class="code" href="structllvm_1_1RegPressureDelta.html">RegPressureDelta</a> RPDelta;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;PressureChange&gt;</a> CriticalPSets;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      RecRPTracker.getMaxUpwardPressureDelta(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>(), <span class="keyword">nullptr</span>, RPDelta,</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                                             CriticalPSets,</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                                             RecRegPressure.<a class="code" href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">MaxSetPressure</a>);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <span class="keywordflow">if</span> (RPDelta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>()) {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Excess register pressure: SU(&quot;</span> &lt;&lt; SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt;&lt; <span class="stringliteral">&quot;) &quot;</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                   &lt;&lt; <a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">getRegPressureSetName</a>(RPDelta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">getPSet</a>())</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; RPDelta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        NS.setExceedPressure(SU);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      RecRPTracker.recede();</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  }</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;}</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">/// A heuristic to colocate node sets that have the same set of</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">/// successors.</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::colocateNodeSets(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordtype">unsigned</span> Colocate = 0;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = NodeSets.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;N1 = NodeSets[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> S1;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordflow">if</span> (N1.<a class="code" href="classllvm_1_1NodeSet.html#ae8ae83c6b97940d6cdcaeb6d1cd088fb">empty</a>() || !<a class="code" href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04">succ_L</a>(N1, S1))</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1; <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;N2 = NodeSets[<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>];</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      <span class="keywordflow">if</span> (N1.<a class="code" href="classllvm_1_1NodeSet.html#a9e0c12b5996d287dca5fa937977ac184">compareRecMII</a>(N2) != 0)</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> S2;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      <span class="keywordflow">if</span> (N2.<a class="code" href="classllvm_1_1NodeSet.html#ae8ae83c6b97940d6cdcaeb6d1cd088fb">empty</a>() || !<a class="code" href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04">succ_L</a>(N2, S2))</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a38740a7e3fde66312240ec2cbf003fc2">llvm::set_is_subset</a>(S1, S2) &amp;&amp; S1.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>() == S2.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>()) {</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        N1.<a class="code" href="classllvm_1_1NodeSet.html#a5bee69d3baa0055af5abd13814ae4411">setColocate</a>(++Colocate);</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        N2.<a class="code" href="classllvm_1_1NodeSet.html#a5bee69d3baa0055af5abd13814ae4411">setColocate</a>(Colocate);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  }</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;}</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment">/// Check if the existing node-sets are profitable. If not, then ignore the</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">/// recurrent node-sets, and attempt to schedule all nodes together. This is</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment">/// a heuristic. If the MII is large and all the recurrent node-sets are small,</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment">/// then it&#39;s best to try to schedule all instructions together instead of</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="comment">/// starting with the recurrent node-sets.</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::checkNodeSets(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="comment">// Look for loops with a large MII.</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <span class="keywordflow">if</span> (MII &lt; 17)</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="comment">// Check if the node-set contains only a simple add recurrence.</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;NS : NodeSets) {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordflow">if</span> (NS.getRecMII() &gt; 2)</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">if</span> (NS.getMaxDepth() &gt; MII)</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  NodeSets.clear();</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Clear recurrence node-sets\n&quot;</span>);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;}</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment">/// Add the nodes that do not belong to a recurrence set into groups</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="comment">/// based upon connected components.</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::groupRemainingNodes(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;SUnit *&gt;</a> NodesAdded;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;SUnit *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <span class="comment">// Add the nodes that are on a path between the previous node sets and</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <span class="comment">// the current node set.</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : NodeSets) {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="comment">// Add the nodes from the current node set to the previous node set.</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04">succ_L</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;SUnit *&gt;</a> <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">Path</a>;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *NI : <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        Visited.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">clear</a>();</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <a class="code" href="MachinePipeliner_8cpp.html#afb7eb76495516bcbe48a9462928b562f">computePath</a>(NI, Path, NodesAdded, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Visited);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      }</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">Path</a>.empty())</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.insert(<a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">Path</a>.begin(), <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">Path</a>.end());</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="comment">// Add the nodes from the previous node set to the current node set.</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.clear();</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04">succ_L</a>(NodesAdded, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;SUnit *&gt;</a> <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">Path</a>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *NI : <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        Visited.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">clear</a>();</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <a class="code" href="MachinePipeliner_8cpp.html#afb7eb76495516bcbe48a9462928b562f">computePath</a>(NI, Path, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, NodesAdded, Visited);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">Path</a>.empty())</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.insert(<a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">Path</a>.begin(), <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">Path</a>.end());</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    NodesAdded.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.begin(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.end());</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  }</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <span class="comment">// Create a new node set with the connected nodes of any successor of a node</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <span class="comment">// in a recurrent set.</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> NewSet;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04">succ_L</a>(NodesAdded, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      addConnectedNodes(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, NewSet, NodesAdded);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordflow">if</span> (!NewSet.<a class="code" href="classllvm_1_1NodeSet.html#ae8ae83c6b97940d6cdcaeb6d1cd088fb">empty</a>())</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    NodeSets.push_back(NewSet);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="comment">// Create a new node set with the connected nodes of any predecessor of a node</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="comment">// in a recurrent set.</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  NewSet.<a class="code" href="classllvm_1_1NodeSet.html#af2d10c02d0df15403b3279d76f743b00">clear</a>();</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a22e496ee465f050b9572b905ee9765fa">pred_L</a>(NodesAdded, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      addConnectedNodes(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, NewSet, NodesAdded);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">if</span> (!NewSet.<a class="code" href="classllvm_1_1NodeSet.html#ae8ae83c6b97940d6cdcaeb6d1cd088fb">empty</a>())</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    NodeSets.push_back(NewSet);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160; </div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="comment">// Create new nodes sets with the connected nodes any remaining node that</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="comment">// has no predecessor.</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="keywordflow">if</span> (NodesAdded.<a class="code" href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">count</a>(&amp;SU) == 0) {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      NewSet.<a class="code" href="classllvm_1_1NodeSet.html#af2d10c02d0df15403b3279d76f743b00">clear</a>();</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      addConnectedNodes(&amp;SU, NewSet, NodesAdded);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      <span class="keywordflow">if</span> (!NewSet.<a class="code" href="classllvm_1_1NodeSet.html#ae8ae83c6b97940d6cdcaeb6d1cd088fb">empty</a>())</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        NodeSets.push_back(NewSet);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    }</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  }</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;}</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="comment">/// Add the node to the set, and add all of its connected nodes to the set.</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::addConnectedNodes(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;NewSet,</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                                          <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;SUnit *&gt;</a> &amp;NodesAdded) {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  NewSet.<a class="code" href="classllvm_1_1NodeSet.html#aba49350c71f099c58053900c4250b417">insert</a>(SU);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  NodesAdded.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(SU);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit();</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.isArtificial() &amp;&amp; !<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a>-&gt;isBoundaryNode() &amp;&amp;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        NodesAdded.<a class="code" href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">count</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a>) == 0)</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      addConnectedNodes(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a>, NewSet, NodesAdded);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  }</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;PI : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>) {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Predecessor = PI.getSUnit();</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">if</span> (!PI.isArtificial() &amp;&amp; NodesAdded.<a class="code" href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">count</a>(Predecessor) == 0)</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      addConnectedNodes(Predecessor, NewSet, NodesAdded);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;}</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="comment">/// Return true if Set1 contains elements in Set2. The elements in common</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="comment">/// are returned in a different container.</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#a638adb0164c943dd67f6042cb431096b"> 1763</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MachinePipeliner_8cpp.html#a638adb0164c943dd67f6042cb431096b">isIntersect</a>(<a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> &amp;Set1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;Set2,</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                        <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> &amp;Result) {</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  Result.clear();</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : Set1) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keywordflow">if</span> (Set2.<a class="code" href="classllvm_1_1NodeSet.html#a56b9083f6d85aec6325b90028372d2e2">count</a>(SU) != 0)</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      Result.insert(SU);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordflow">return</span> !Result.empty();</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;}</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="comment">/// Merge the recurrence node sets that have the same initial node.</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::fuseRecs(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">NodeSetType::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = NodeSets.begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NodeSets.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;       ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;NI = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">NodeSetType::iterator</a> J = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 1; J != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;      <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;NJ = *J;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      <span class="keywordflow">if</span> (NI.<a class="code" href="classllvm_1_1NodeSet.html#a86bdb160261c3d5fcfcc328afa8dfe40">getNode</a>(0)-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> == NJ.<a class="code" href="classllvm_1_1NodeSet.html#a86bdb160261c3d5fcfcc328afa8dfe40">getNode</a>(0)-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>) {</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keywordflow">if</span> (NJ.<a class="code" href="classllvm_1_1NodeSet.html#a9e0c12b5996d287dca5fa937977ac184">compareRecMII</a>(NI) &gt; 0)</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;          NI.<a class="code" href="classllvm_1_1NodeSet.html#a34c684c839de068ac81d8131ad6c5b24">setRecMII</a>(NJ.<a class="code" href="classllvm_1_1NodeSet.html#a82035ad3d6f322105e0f67c596297444">getRecMII</a>());</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : *J)</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;          <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;insert(SU);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        NodeSets.erase(J);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NodeSets.end();</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        ++J;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      }</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    }</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;}</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="comment">/// Remove nodes that have been scheduled in previous NodeSets.</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::removeDuplicateNodes(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">NodeSetType::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = NodeSets.begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NodeSets.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;       ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">NodeSetType::iterator</a> J = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 1; J != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;) {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      J-&gt;remove_if([&amp;](<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SUJ) { <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;count(SUJ); });</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160; </div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;      <span class="keywordflow">if</span> (J-&gt;empty()) {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        NodeSets.erase(J);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NodeSets.end();</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        ++J;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    }</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;}</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment">/// Compute an ordered list of the dependence graph nodes, which</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="comment">/// indicates the order that the nodes will be scheduled.  This is a</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="comment">/// two-level algorithm. First, a partial order is created, which</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="comment">/// consists of a list of sets ordered from highest to lowest priority.</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::computeNodeOrder(NodeSetType &amp;NodeSets) {</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  NodeOrder.clear();</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160; </div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Nodes : NodeSets) {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;NodeSet size &quot;</span> &lt;&lt; Nodes.size() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    OrderKind Order;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a22e496ee465f050b9572b905ee9765fa">pred_L</a>(NodeOrder, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) &amp;&amp; <a class="code" href="namespacellvm.html#a38740a7e3fde66312240ec2cbf003fc2">llvm::set_is_subset</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Nodes)) {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.begin(), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.end());</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      Order = BottomUp;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Bottom up (preds) &quot;</span>);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04">succ_L</a>(NodeOrder, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) &amp;&amp; <a class="code" href="namespacellvm.html#a38740a7e3fde66312240ec2cbf003fc2">llvm::set_is_subset</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Nodes)) {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.begin(), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.end());</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      Order = TopDown;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Top down (succs) &quot;</span>);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a638adb0164c943dd67f6042cb431096b">isIntersect</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Nodes, R)) {</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <span class="comment">// If some of the successors are in the existing node-set, then use the</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <span class="comment">// top-down ordering.</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      Order = TopDown;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Top down (intersect) &quot;</span>);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NodeSets.size() == 1) {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : Nodes)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Succs.size() == 0)</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      Order = BottomUp;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Bottom up (all) &quot;</span>);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      <span class="comment">// Find the node with the highest ASAP.</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *maxASAP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : Nodes) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <span class="keywordflow">if</span> (maxASAP == <span class="keyword">nullptr</span> || <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a39271d8f98026cdac8a9fa7b8e90b333">getASAP</a>(SU) &gt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a39271d8f98026cdac8a9fa7b8e90b333">getASAP</a>(maxASAP) ||</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;            (<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a39271d8f98026cdac8a9fa7b8e90b333">getASAP</a>(SU) == <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a39271d8f98026cdac8a9fa7b8e90b333">getASAP</a>(maxASAP) &amp;&amp; SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &gt; maxASAP-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>))</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;          maxASAP = SU;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(maxASAP);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      Order = BottomUp;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Bottom up (default) &quot;</span>);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    }</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.empty()) {</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="keywordflow">if</span> (Order == TopDown) {</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="comment">// Choose the node with the maximum height.  If more than one, choose</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        <span class="comment">// the node wiTH the maximum ZeroLatencyHeight. If still more than one,</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <span class="comment">// choose the node with the lowest MOV.</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <span class="keywordflow">while</span> (!<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.empty()) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;          <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *maxHeight = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : R) {</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;            <span class="keywordflow">if</span> (maxHeight == <span class="keyword">nullptr</span> || <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#ae3334289ef55f4f25b59ce3e4665a4b3">getHeight</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &gt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#ae3334289ef55f4f25b59ce3e4665a4b3">getHeight</a>(maxHeight))</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;              maxHeight = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#ae3334289ef55f4f25b59ce3e4665a4b3">getHeight</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#ae3334289ef55f4f25b59ce3e4665a4b3">getHeight</a>(maxHeight) &amp;&amp;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                     <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#aafdb9280bf95dfeed0282509233ebe29">getZeroLatencyHeight</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &gt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#aafdb9280bf95dfeed0282509233ebe29">getZeroLatencyHeight</a>(maxHeight))</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;              maxHeight = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#ae3334289ef55f4f25b59ce3e4665a4b3">getHeight</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#ae3334289ef55f4f25b59ce3e4665a4b3">getHeight</a>(maxHeight) &amp;&amp;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                     <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#aafdb9280bf95dfeed0282509233ebe29">getZeroLatencyHeight</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) ==</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                         <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#aafdb9280bf95dfeed0282509233ebe29">getZeroLatencyHeight</a>(maxHeight) &amp;&amp;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                     <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8ff8459ca7a8040add90e7c72a760a5e">getMOV</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &lt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8ff8459ca7a8040add90e7c72a760a5e">getMOV</a>(maxHeight))</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;              maxHeight = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;          }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;          NodeOrder.insert(maxHeight);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; maxHeight-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.remove(maxHeight);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : maxHeight-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            <span class="keywordflow">if</span> (Nodes.count(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit()) == 0)</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            <span class="keywordflow">if</span> (NodeOrder.contains(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit()))</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#af017e4f5d1e914a3f28c0ed6a6e0375d">ignoreDependence</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit());</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;          }</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;          <span class="comment">// Back-edges are predecessors with an anti-dependence.</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : maxHeight-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>) {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getKind() != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>)</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            <span class="keywordflow">if</span> (Nodes.count(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit()) == 0)</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            <span class="keywordflow">if</span> (NodeOrder.contains(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit()))</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit());</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;          }</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        }</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        Order = BottomUp;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n   Switching order to bottom up &quot;</span>);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a22e496ee465f050b9572b905ee9765fa">pred_L</a>(NodeOrder, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, &amp;Nodes))</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.begin(), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.end());</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        <span class="comment">// Choose the node with the maximum depth.  If more than one, choose</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <span class="comment">// the node with the maximum ZeroLatencyDepth. If still more than one,</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        <span class="comment">// choose the node with the lowest MOV.</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="keywordflow">while</span> (!<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.empty()) {</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;          <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *maxDepth = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : R) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            <span class="keywordflow">if</span> (maxDepth == <span class="keyword">nullptr</span> || <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a23e7afeb8a38aa0340c5644ebcd28f40">getDepth</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &gt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a23e7afeb8a38aa0340c5644ebcd28f40">getDepth</a>(maxDepth))</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;              maxDepth = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a23e7afeb8a38aa0340c5644ebcd28f40">getDepth</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a23e7afeb8a38aa0340c5644ebcd28f40">getDepth</a>(maxDepth) &amp;&amp;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                     <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a6d8664e79797a05e27343b7e7c14a13f">getZeroLatencyDepth</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &gt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a6d8664e79797a05e27343b7e7c14a13f">getZeroLatencyDepth</a>(maxDepth))</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;              maxDepth = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a23e7afeb8a38aa0340c5644ebcd28f40">getDepth</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a23e7afeb8a38aa0340c5644ebcd28f40">getDepth</a>(maxDepth) &amp;&amp;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                     <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a6d8664e79797a05e27343b7e7c14a13f">getZeroLatencyDepth</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a6d8664e79797a05e27343b7e7c14a13f">getZeroLatencyDepth</a>(maxDepth) &amp;&amp;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                     <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8ff8459ca7a8040add90e7c72a760a5e">getMOV</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &lt; <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8ff8459ca7a8040add90e7c72a760a5e">getMOV</a>(maxDepth))</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;              maxDepth = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;          }</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;          NodeOrder.insert(maxDepth);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; maxDepth-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.remove(maxDepth);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;          <span class="keywordflow">if</span> (Nodes.isExceedSU(maxDepth)) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;            Order = TopDown;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.clear();</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(Nodes.getNode(0));</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;          }</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : maxDepth-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>) {</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            <span class="keywordflow">if</span> (Nodes.count(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit()) == 0)</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            <span class="keywordflow">if</span> (NodeOrder.contains(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit()))</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;            <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit());</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;          }</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;          <span class="comment">// Back-edges are predecessors with an anti-dependence.</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : maxDepth-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getKind() != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            <span class="keywordflow">if</span> (Nodes.count(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit()) == 0)</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            <span class="keywordflow">if</span> (NodeOrder.contains(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit()))</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;            <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSUnit());</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;          }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        Order = TopDown;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n   Switching order to top down &quot;</span>);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;SUnit *, 8&gt;</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04">succ_L</a>(NodeOrder, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, &amp;Nodes))</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.insert(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.begin(), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.end());</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;      }</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nDone with Nodeset\n&quot;</span>);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  }</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160; </div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Node order: &quot;</span>;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : NodeOrder)</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;NodeNum &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  });</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;}</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="comment">/// Process the nodes in the computed order and create the pipelined schedule</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="comment">/// of the instructions, if possible. Return true if a schedule is found.</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> SwingSchedulerDAG::schedulePipeline(<a class="code" href="classllvm_1_1SMSchedule.html">SMSchedule</a> &amp;Schedule) {</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160; </div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordflow">if</span> (NodeOrder.empty()){</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;NodeOrder is empty! abort scheduling\n&quot;</span> );</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  }</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="keywordtype">bool</span> scheduleFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  <span class="comment">// Keep increasing II until a valid schedule is found.</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> II = MII; II &lt;= MAX_II &amp;&amp; !scheduleFound; ++II) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a4a6c2e22bb2e65d31a2243ce5d5e9312">reset</a>();</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a1440bb5da603e25ae674b89a6e377ac6">setInitiationInterval</a>(II);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Try to schedule with &quot;</span> &lt;&lt; II &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160; </div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <a class="code" href="classllvm_1_1SetVector.html#abad7acab35011a44c64d2e132574d59e">SetVector&lt;SUnit *&gt;::iterator</a> NI = NodeOrder.begin();</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <a class="code" href="classllvm_1_1SetVector.html#abad7acab35011a44c64d2e132574d59e">SetVector&lt;SUnit *&gt;::iterator</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f">NE</a> = NodeOrder.end();</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = *NI;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160; </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;      <span class="comment">// Compute the schedule time for the instruction, which is based</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;      <span class="comment">// upon the scheduled time for any predecessors/successors.</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      <span class="keywordtype">int</span> EarlyStart = INT_MIN;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      <span class="keywordtype">int</span> LateStart = INT_MAX;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <span class="comment">// These values are set when the size of the schedule window is limited</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;      <span class="comment">// due to chain dependences.</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <span class="keywordtype">int</span> SchedEnd = INT_MAX;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      <span class="keywordtype">int</span> SchedStart = INT_MIN;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a77642d0294af8118f60d8df884950e0c">computeStart</a>(SU, &amp;EarlyStart, &amp;LateStart, &amp;SchedEnd, &amp;SchedStart,</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                            II, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inst (&quot;</span> &lt;&lt; SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>();</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      });</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a66f0c57e04037076030c6a6e48f44f2d">format</a>(<span class="stringliteral">&quot;\tes: %8x ls: %8x me: %8x ms: %8x\n&quot;</span>, EarlyStart,</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                         LateStart, SchedEnd, SchedStart);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      });</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160; </div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      <span class="keywordflow">if</span> (EarlyStart &gt; LateStart || SchedEnd &lt; EarlyStart ||</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;          SchedStart &gt; LateStart)</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        scheduleFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EarlyStart != INT_MIN &amp;&amp; LateStart == INT_MAX) {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        SchedEnd = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(SchedEnd, EarlyStart + (<span class="keywordtype">int</span>)II - 1);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        scheduleFound = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a2eff58d9105525f19d5cbe2fa6969d6e">insert</a>(SU, EarlyStart, SchedEnd, II);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EarlyStart == INT_MIN &amp;&amp; LateStart != INT_MAX) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        SchedStart = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(SchedStart, LateStart - (<span class="keywordtype">int</span>)II + 1);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        scheduleFound = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a2eff58d9105525f19d5cbe2fa6969d6e">insert</a>(SU, LateStart, SchedStart, II);</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EarlyStart != INT_MIN &amp;&amp; LateStart != INT_MAX) {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        SchedEnd =</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(SchedEnd, <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(LateStart, EarlyStart + (<span class="keywordtype">int</span>)II - 1));</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <span class="comment">// When scheduling a Phi it is better to start at the late cycle and go</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <span class="comment">// backwards. The default order may insert the Phi too far away from</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        <span class="comment">// its first dependence.</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;          scheduleFound = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a2eff58d9105525f19d5cbe2fa6969d6e">insert</a>(SU, SchedEnd, EarlyStart, II);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;          scheduleFound = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a2eff58d9105525f19d5cbe2fa6969d6e">insert</a>(SU, EarlyStart, SchedEnd, II);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        <span class="keywordtype">int</span> FirstCycle = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#aa9cf7f8bcf9a31775f99c732ad69e907">getFirstCycle</a>();</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        scheduleFound = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a2eff58d9105525f19d5cbe2fa6969d6e">insert</a>(SU, FirstCycle + <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a39271d8f98026cdac8a9fa7b8e90b333">getASAP</a>(SU),</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                                        FirstCycle + <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a39271d8f98026cdac8a9fa7b8e90b333">getASAP</a>(SU) + II - 1, II);</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      }</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <span class="comment">// Even if we find a schedule, make sure the schedule doesn&#39;t exceed the</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      <span class="comment">// allowable number of stages. We keep trying if this happens.</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      <span class="keywordflow">if</span> (scheduleFound)</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#afe8ac84bd477709d60ca690240637642">SwpMaxStages</a> &gt; -1 &amp;&amp;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;            Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a336ecf423257d7f3b529f5817d9598c9">getMaxStageCount</a>() &gt; (<span class="keywordtype">unsigned</span>)<a class="code" href="MachinePipeliner_8cpp.html#afe8ac84bd477709d60ca690240637642">SwpMaxStages</a>)</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;          scheduleFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160; </div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        <span class="keywordflow">if</span> (!scheduleFound)</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\tCan&#39;t schedule\n&quot;</span>;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;      });</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    } <span class="keywordflow">while</span> (++NI != <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f">NE</a> &amp;&amp; scheduleFound);</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160; </div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="comment">// If a schedule is found, ensure non-pipelined instructions are in stage 0</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">if</span> (scheduleFound)</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      scheduleFound =</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;          Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#ae26138aceef07cf5465c2840b437e1d8">normalizeNonPipelinedInstructions</a>(<span class="keyword">this</span>, LoopPipelinerInfo);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160; </div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="comment">// If a schedule is found, check if it is a valid schedule too.</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordflow">if</span> (scheduleFound)</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      scheduleFound = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a7c7d5ab8d9814b721a1844a867ef948a">isValidSchedule</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  }</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Schedule Found? &quot;</span> &lt;&lt; scheduleFound</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; (II=&quot;</span> &lt;&lt; Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a7f75d2f072df591f38aa1af42b78dacf">getInitiationInterval</a>()</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160; </div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  <span class="keywordflow">if</span> (scheduleFound) {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    scheduleFound = LoopPipelinerInfo-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo.html#ac80ee8cb2c02915c24dd294ed95ac57b">shouldUseSchedule</a>(*<span class="keyword">this</span>, Schedule);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="keywordflow">if</span> (!scheduleFound)</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Target rejected schedule\n&quot;</span>);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  }</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="keywordflow">if</span> (scheduleFound) {</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#aff7649124c08f77b72e5d539f2f8afdf">finalizeSchedule</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <a class="code" href="classllvm_1_1Pass.html">Pass</a>.ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                 <a class="code" href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;schedule&quot;</span>, <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">getStartLoc</a>(), <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Schedule found with Initiation Interval: &quot;</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;II&quot;</span>, Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a7f75d2f072df591f38aa1af42b78dacf">getInitiationInterval</a>())</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;, MaxStageCount: &quot;</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;MaxStageCount&quot;</span>, Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a336ecf423257d7f3b529f5817d9598c9">getMaxStageCount</a>());</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    });</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a4a6c2e22bb2e65d31a2243ce5d5e9312">reset</a>();</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160; </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="keywordflow">return</span> scheduleFound &amp;&amp; Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a336ecf423257d7f3b529f5817d9598c9">getMaxStageCount</a>() &gt; 0;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;}</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;<span class="comment">/// Return true if we can compute the amount the instruction changes</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;<span class="comment">/// during each iteration. Set Delta to the amount of the change.</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> SwingSchedulerDAG::computeDelta(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> &amp;Delta) {</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *BaseOp;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="keywordtype">bool</span> OffsetIsScalable;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#afbbc2492f83b9a1b2b2b850283240272">getMemOperandWithOffset</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, BaseOp, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, OffsetIsScalable, <a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>))</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="comment">// FIXME: This algorithm assumes instructions have fixed-size offsets.</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <span class="keywordflow">if</span> (OffsetIsScalable)</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <span class="keywordflow">if</span> (!BaseOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160; </div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> BaseReg = BaseOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="comment">// Check if there is a Phi. If so, get the definition in the loop.</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *BaseDef = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(BaseReg);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="keywordflow">if</span> (BaseDef &amp;&amp; BaseDef-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>()) {</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    BaseReg = <a class="code" href="MachinePipeliner_8cpp.html#a3338cf03496688897abc2cc959bf9f17">getLoopPhiReg</a>(*BaseDef, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent());</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    BaseDef = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(BaseReg);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  }</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  <span class="keywordflow">if</span> (!BaseDef)</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160; </div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = 0;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#af454ffcb2775e8a8abf663da93a0a438">getIncrementValue</a>(*BaseDef, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>) &amp;&amp; <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &gt;= 0)</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160; </div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  Delta = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;}</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="comment">/// Check if we can change the instruction to use an offset value from the</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;<span class="comment">/// previous iteration. If so, return true and set the base and offset values</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="comment">/// so that we can rewrite the load, if necessary.</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;<span class="comment">///   v1 = Phi(v0, v3)</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;<span class="comment">///   v2 = load v1, 0</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="comment">///   v3 = post_store v1, 4, x</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="comment">/// This function enables the load to be rewritten as v2 = load v3, 4.</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> SwingSchedulerDAG::canUseLastOffsetValue(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                                              <span class="keywordtype">unsigned</span> &amp;BasePos,</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                                              <span class="keywordtype">unsigned</span> &amp;OffsetPos,</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                                              <span class="keywordtype">unsigned</span> &amp;NewBase,</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                                              int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <span class="comment">// Get the load instruction.</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a1cb223b29cc4acffa9ffd03d134b2a1e">isPostIncrement</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <span class="keywordtype">unsigned</span> BasePosLd, OffsetPosLd;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a28d18d91f58682d65e97e9c386064b5b">getBaseAndOffsetPosition</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, BasePosLd, OffsetPosLd))</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> BaseReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(BasePosLd).getReg();</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="comment">// Look for the Phi instruction.</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMF()-&gt;getRegInfo();</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Phi = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(BaseReg);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="keywordflow">if</span> (!Phi || !Phi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="comment">// Get the register defined in the loop block.</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="keywordtype">unsigned</span> PrevReg = <a class="code" href="MachinePipeliner_8cpp.html#a3338cf03496688897abc2cc959bf9f17">getLoopPhiReg</a>(*Phi, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent());</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="keywordflow">if</span> (!PrevReg)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <span class="comment">// Check for the post-increment load/store instruction.</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *PrevDef = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(PrevReg);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  <span class="keywordflow">if</span> (!PrevDef || PrevDef == <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160; </div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a1cb223b29cc4acffa9ffd03d134b2a1e">isPostIncrement</a>(*PrevDef))</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <span class="keywordtype">unsigned</span> BasePos1 = 0, OffsetPos1 = 0;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a28d18d91f58682d65e97e9c386064b5b">getBaseAndOffsetPosition</a>(*PrevDef, BasePos1, OffsetPos1))</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160; </div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="comment">// Make sure that the instructions do not access the same memory location in</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="comment">// the next iteration.</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  int64_t LoadOffset = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(OffsetPosLd).getImm();</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  int64_t StoreOffset = PrevDef-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(OffsetPos1).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = <a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">CloneMachineInstr</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(OffsetPosLd).<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(LoadOffset + StoreOffset);</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <span class="keywordtype">bool</span> Disjoint = <a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a5f8ea6535c262fbc8a16177783020314">areMemAccessesTriviallyDisjoint</a>(*NewMI, *PrevDef);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a63a92e13c7107826b68916401528f35c">deleteMachineInstr</a>(NewMI);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <span class="keywordflow">if</span> (!Disjoint)</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160; </div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  <span class="comment">// Set the return value once we determine that we return true.</span></div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  BasePos = BasePosLd;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  OffsetPos = OffsetPosLd;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  NewBase = PrevReg;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = StoreOffset;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;}</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<span class="comment">/// Apply changes to the instruction if needed. The changes are need</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;<span class="comment">/// to improve the scheduling and depend up on the final schedule.</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"><a class="line" href="classllvm_1_1SwingSchedulerDAG.html#a3fa089137317e93276cab5774d4bf11f"> 2178</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a3fa089137317e93276cab5774d4bf11f">SwingSchedulerDAG::applyInstrChange</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                                         <a class="code" href="classllvm_1_1SMSchedule.html">SMSchedule</a> &amp;Schedule) {</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;SUnit *, std::pair&lt;unsigned, int64_t&gt;</a>&gt;::iterator It =</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;      InstrChanges.find(SU);</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <span class="keywordflow">if</span> (It != InstrChanges.end()) {</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    std::pair&lt;unsigned, int64_t&gt; RegAndOffset = It-&gt;second;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordtype">unsigned</span> BasePos, OffsetPos;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a28d18d91f58682d65e97e9c386064b5b">getBaseAndOffsetPosition</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, BasePos, OffsetPos))</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> BaseReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(BasePos).getReg();</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LoopDef = findDefInLoop(BaseReg);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <span class="keywordtype">int</span> DefStageNum = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(LoopDef));</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordtype">int</span> DefCycleNum = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#ac2afdd571841c61dc8f980fe3d6f4885">cycleScheduled</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(LoopDef));</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordtype">int</span> BaseStageNum = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(SU);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <span class="keywordtype">int</span> BaseCycleNum = Schedule.<a class="code" href="classllvm_1_1SMSchedule.html#ac2afdd571841c61dc8f980fe3d6f4885">cycleScheduled</a>(SU);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">if</span> (BaseStageNum &lt; DefStageNum) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = <a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">CloneMachineInstr</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;      <span class="keywordtype">int</span> OffsetDiff = DefStageNum - BaseStageNum;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      <span class="keywordflow">if</span> (DefCycleNum &lt; BaseCycleNum) {</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(BasePos).<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(RegAndOffset.first);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        <span class="keywordflow">if</span> (OffsetDiff &gt; 0)</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;          --OffsetDiff;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      }</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      int64_t NewOffset =</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;          <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(OffsetPos).getImm() + RegAndOffset.second * OffsetDiff;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(OffsetPos).<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(NewOffset);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a5a869f04a623443a4cf2d2857f9cd085">setInstr</a>(NewMI);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;      <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a077eef2c61ca462db1800cc506092d38">MISUnitMap</a>[NewMI] = SU;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      NewMIs[<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>] = NewMI;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    }</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  }</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;}</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="comment">/// Return the instruction in the loop that defines the register.</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;<span class="comment">/// If the definition is a Phi, then follow the Phi operand to</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="comment">/// the instruction in the loop.</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SwingSchedulerDAG::findDefInLoop(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineInstr *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isPHI()) {</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>).second)</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2)</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1).getMBB() == <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a>) {</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).getReg());</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      }</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  }</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;}</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;<span class="comment">/// Return true for an order or output dependence that is loop carried</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;<span class="comment">/// potentially. A dependence is loop carried if the destination defines a valu</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="comment">/// that may be used or defined by the source in a subsequent iteration.</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"><a class="line" href="classllvm_1_1SwingSchedulerDAG.html#a7481e8a30019a2c7c9231e5a29d12af6"> 2233</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a7481e8a30019a2c7c9231e5a29d12af6">SwingSchedulerDAG::isLoopCarriedDep</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Dep,</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;                                         <span class="keywordtype">bool</span> isSucc) {</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordflow">if</span> ((Dep.<a class="code" href="classllvm_1_1SDep.html#a055c65558a3e0f7d48f1ed3dde061199">getKind</a>() != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a> &amp;&amp; Dep.<a class="code" href="classllvm_1_1SDep.html#a055c65558a3e0f7d48f1ed3dde061199">getKind</a>() != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a>) ||</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      Dep.<a class="code" href="classllvm_1_1SDep.html#a75b245e9ae0e3d67d8485468580f360f">isArtificial</a>() || Dep.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()-&gt;<a class="code" href="classllvm_1_1SUnit.html#a7406c398c67e53ee3937bf2b6df1c64e">isBoundaryNode</a>())</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160; </div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MachinePipeliner_8cpp.html#ae1a99283cc904e7de79ed49d63eaf5e5">SwpPruneLoopCarried</a>)</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160; </div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordflow">if</span> (Dep.<a class="code" href="classllvm_1_1SDep.html#a055c65558a3e0f7d48f1ed3dde061199">getKind</a>() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a>)</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160; </div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = <a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>-&gt;getInstr();</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DI = Dep.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>()-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <span class="keywordflow">if</span> (!isSucc)</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, DI);</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> != <span class="keyword">nullptr</span> &amp;&amp; DI != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;Expecting SUnit with an MI.&quot;</span>);</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160; </div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="comment">// Assume ordered loads and stores may have a loop carried dependence.</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;hasUnmodeledSideEffects() || DI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">hasUnmodeledSideEffects</a>() ||</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;mayRaiseFPException() || DI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a00966a294fe7a54bf2f6a296e82fc8e1">mayRaiseFPException</a>() ||</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;hasOrderedMemoryRef() || DI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">hasOrderedMemoryRef</a>())</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160; </div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <span class="comment">// Only chain dependences between a load and store can be loop carried.</span></div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="keywordflow">if</span> (!DI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ab96f3235c18e659758517d0532d606c9">mayStore</a>() || !<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;mayLoad())</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160; </div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="keywordtype">unsigned</span> DeltaS, DeltaD;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="keywordflow">if</span> (!computeDelta(*<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, DeltaS) || !computeDelta(*DI, DeltaD))</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160; </div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *BaseOpS, *BaseOpD;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  int64_t OffsetS, OffsetD;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <span class="keywordtype">bool</span> OffsetSIsScalable, OffsetDIsScalable;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#afbbc2492f83b9a1b2b2b850283240272">getMemOperandWithOffset</a>(*<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, BaseOpS, OffsetS, OffsetSIsScalable,</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;                                    <a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>) ||</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      !<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#afbbc2492f83b9a1b2b2b850283240272">getMemOperandWithOffset</a>(*DI, BaseOpD, OffsetD, OffsetDIsScalable,</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;                                    <a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>))</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!OffsetSIsScalable &amp;&amp; !OffsetDIsScalable &amp;&amp;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;         <span class="stringliteral">&quot;Expected offsets to be byte offsets&quot;</span>);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160; </div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefS = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(BaseOpS-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefD = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(BaseOpD-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="keywordflow">if</span> (!DefS || !DefD || !DefS-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() || !DefD-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160; </div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <span class="keywordtype">unsigned</span> InitValS = 0;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <span class="keywordtype">unsigned</span> LoopValS = 0;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="keywordtype">unsigned</span> InitValD = 0;</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="keywordtype">unsigned</span> LoopValD = 0;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <a class="code" href="MachinePipeliner_8cpp.html#ad4cf8c8e4e2cc5bf94656e979ed629b4">getPhiRegs</a>(*DefS, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a>, InitValS, LoopValS);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  <a class="code" href="MachinePipeliner_8cpp.html#ad4cf8c8e4e2cc5bf94656e979ed629b4">getPhiRegs</a>(*DefD, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a>, InitValD, LoopValD);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *InitDefS = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(InitValS);</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *InitDefD = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(InitValD);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="keywordflow">if</span> (!InitDefS-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aab9a96f10af025498520e00ff044bec1">isIdenticalTo</a>(*InitDefD))</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160; </div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="comment">// Check that the base register is incremented by a constant value for each</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="comment">// iteration.</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LoopDefS = <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(LoopValS);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = 0;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="keywordflow">if</span> (!LoopDefS || !<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#af454ffcb2775e8a8abf663da93a0a438">getIncrementValue</a>(*LoopDefS, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>))</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160; </div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AccessSizeS = (*<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;memoperands_begin())-&gt;<a class="code" href="XtensaAsmBackend_8cpp.html#a13a0babfc55adc9b798c39e65ec9e8a3">getSize</a>();</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AccessSizeD = (*DI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa5ff177bc1498508696aaf27235db3fc">memoperands_begin</a>())-&gt;<a class="code" href="XtensaAsmBackend_8cpp.html#a13a0babfc55adc9b798c39e65ec9e8a3">getSize</a>();</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160; </div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="comment">// This is the main test, which checks the offset values and the loop</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <span class="comment">// increment value to determine if the accesses may be loop carried.</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <span class="keywordflow">if</span> (AccessSizeS == <a class="code" href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">MemoryLocation::UnknownSize</a> ||</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      AccessSizeD == <a class="code" href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">MemoryLocation::UnknownSize</a>)</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160; </div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="keywordflow">if</span> (DeltaS != DeltaD || DeltaS &lt; AccessSizeS || DeltaD &lt; AccessSizeD)</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160; </div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  <span class="keywordflow">return</span> (OffsetS + (int64_t)AccessSizeS &lt; OffsetD + (int64_t)AccessSizeD);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;}</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160; </div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;<span class="keywordtype">void</span> SwingSchedulerDAG::postprocessDAG() {</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;M : Mutations)</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;apply(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;}</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;<span class="comment">/// Try to schedule the node at the specified StartCycle and continue</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;<span class="comment">/// until the node is schedule or the EndCycle is reached.  This function</span></div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<span class="comment">/// returns true if the node is scheduled.  This routine may search either</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;<span class="comment">/// forward or backward for a place to insert the instruction based upon</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="comment">/// the relative values of StartCycle and EndCycle.</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#a2eff58d9105525f19d5cbe2fa6969d6e"> 2327</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SMSchedule.html#a2eff58d9105525f19d5cbe2fa6969d6e">SMSchedule::insert</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <span class="keywordtype">int</span> StartCycle, <span class="keywordtype">int</span> EndCycle, <span class="keywordtype">int</span> II) {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="keywordtype">bool</span> forward = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Trying to insert node between &quot;</span> &lt;&lt; StartCycle &lt;&lt; <span class="stringliteral">&quot; and &quot;</span></div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;           &lt;&lt; EndCycle &lt;&lt; <span class="stringliteral">&quot; II: &quot;</span> &lt;&lt; II &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  });</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="keywordflow">if</span> (StartCycle &gt; EndCycle)</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    forward = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160; </div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="comment">// The terminating condition depends on the direction.</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keywordtype">int</span> termCycle = forward ? EndCycle + 1 : EndCycle - 1;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> curCycle = StartCycle; curCycle != termCycle;</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;       forward ? ++curCycle : --curCycle) {</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160; </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <span class="keywordflow">if</span> (ST.getInstrInfo()-&gt;isZeroCost(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) ||</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        ProcItinResources.<a class="code" href="classllvm_1_1ResourceManager.html#adfd05fb40b63f3fde78a81e119ed89e3">canReserveResources</a>(*SU, curCycle)) {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\tinsert at cycle &quot;</span> &lt;&lt; curCycle &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>();</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      });</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160; </div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;      <span class="keywordflow">if</span> (!ST.getInstrInfo()-&gt;isZeroCost(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()))</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        ProcItinResources.reserveResources(*SU, curCycle);</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;      ScheduledInstrs[curCycle].push_back(SU);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      InstrToCycle.insert(std::make_pair(SU, curCycle));</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <span class="keywordflow">if</span> (curCycle &gt; LastCycle)</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        LastCycle = curCycle;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;      <span class="keywordflow">if</span> (curCycle &lt; FirstCycle)</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        FirstCycle = curCycle;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    }</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\tfailed to insert at cycle &quot;</span> &lt;&lt; curCycle &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;      SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>();</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    });</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  }</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;}</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160; </div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;<span class="comment">// Return the cycle of the earliest scheduled instruction in the chain.</span></div>
<div class="line"><a name="l02367"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#a0aa679580cf57d3ac130de888e50d343"> 2367</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1SMSchedule.html#a0aa679580cf57d3ac130de888e50d343">SMSchedule::earliestCycleInChain</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Dep) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;SUnit *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDep, 8&gt;</a> Worklist;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  Worklist.push_back(Dep);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  <span class="keywordtype">int</span> EarlyCycle = INT_MAX;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Cur = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *PrevSU = Cur.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>();</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(PrevSU))</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    std::map&lt;SUnit *, int&gt;::const_iterator <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> = InstrToCycle.find(PrevSU);</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> == InstrToCycle.end())</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    EarlyCycle = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(EarlyCycle, <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>-&gt;second);</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;PI : PrevSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>)</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <span class="keywordflow">if</span> (PI.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a> || PI.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a>)</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;        Worklist.push_back(PI);</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(PrevSU);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  }</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="keywordflow">return</span> EarlyCycle;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;}</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;<span class="comment">// Return the cycle of the latest scheduled instruction in the chain.</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#a54f5c13096361c202326c7a064fcdf9c"> 2390</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1SMSchedule.html#a54f5c13096361c202326c7a064fcdf9c">SMSchedule::latestCycleInChain</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Dep) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;SUnit *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDep, 8&gt;</a> Worklist;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  Worklist.push_back(Dep);</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <span class="keywordtype">int</span> LateCycle = INT_MIN;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Cur = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SuccSU = Cur.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>();</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(SuccSU) || SuccSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a7406c398c67e53ee3937bf2b6df1c64e">isBoundaryNode</a>())</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    std::map&lt;SUnit *, int&gt;::const_iterator <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> = InstrToCycle.find(SuccSU);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> == InstrToCycle.end())</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    LateCycle = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(LateCycle, <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>-&gt;second);</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : SuccSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>)</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a> || <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a>)</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        Worklist.push_back(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(SuccSU);</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  }</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <span class="keywordflow">return</span> LateCycle;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;}</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;<span class="comment">/// If an instruction has a use that spans multiple iterations, then</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="comment">/// return true. These instructions are characterized by having a back-ege</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<span class="comment">/// to a Phi, which contains a reference to another Phi.</span></div>
<div class="line"><a name="l02415"></a><span class="lineno"><a class="line" href="MachinePipeliner_8cpp.html#affef39ac05819f83b1bd91be0ef7430e"> 2415</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="MachinePipeliner_8cpp.html#affef39ac05819f83b1bd91be0ef7430e">multipleIterations</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *DAG) {</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>)</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">if</span> (DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#abf65dc03e4068670595f73770a5c5e68">isBackedge</a>(SU, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) &amp;&amp; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getSUnit()-&gt;getInstr()-&gt;isPHI())</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getSUnit()-&gt;Succs)</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a> &amp;&amp; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getSUnit()-&gt;getInstr()-&gt;isPHI())</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getSUnit();</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;}</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;<span class="comment">/// Compute the scheduling start slot for the instruction.  The start slot</span></div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;<span class="comment">/// depends on any predecessor or successor nodes scheduled already.</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#a77642d0294af8118f60d8df884950e0c"> 2426</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SMSchedule.html#a77642d0294af8118f60d8df884950e0c">SMSchedule::computeStart</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <span class="keywordtype">int</span> *MaxEarlyStart, <span class="keywordtype">int</span> *MinLateStart,</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                              <span class="keywordtype">int</span> *MinEnd, <span class="keywordtype">int</span> *MaxStart, <span class="keywordtype">int</span> II,</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                              <a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *DAG) {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <span class="comment">// Iterate over each instruction that has been scheduled already.  The start</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="comment">// slot computation depends on whether the previously scheduled instruction</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  <span class="comment">// is a predecessor or successor of the specified instruction.</span></div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cycle = <a class="code" href="classllvm_1_1SMSchedule.html#aa9cf7f8bcf9a31775f99c732ad69e907">getFirstCycle</a>(); cycle &lt;= LastCycle; ++cycle) {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160; </div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="comment">// Iterate over each instruction in the current cycle.</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="classllvm_1_1SMSchedule.html#a443c7ea5745c6b71817c757be2a8a0ec">getInstructions</a>(cycle)) {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      <span class="comment">// Because we&#39;re processing a DAG for the dependences, we recognize</span></div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      <span class="comment">// the back-edge in recurrences by anti dependences.</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = (<span class="keywordtype">unsigned</span>)SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Dep = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;        <span class="keywordflow">if</span> (Dep.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>() == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;          <span class="keywordflow">if</span> (!DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#abf65dc03e4068670595f73770a5c5e68">isBackedge</a>(SU, Dep)) {</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;            <span class="keywordtype">int</span> EarlyStart = cycle + Dep.<a class="code" href="classllvm_1_1SDep.html#a5eca2019521fd47b79fe5ef66d02fd43">getLatency</a>() -</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                             DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8178869538b9f4c60c81f602517ef615">getDistance</a>(Dep.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>(), SU, Dep) * II;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;            *MaxEarlyStart = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(*MaxEarlyStart, EarlyStart);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;            <span class="keywordflow">if</span> (DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a7481e8a30019a2c7c9231e5a29d12af6">isLoopCarriedDep</a>(SU, Dep, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;              <span class="keywordtype">int</span> End = <a class="code" href="classllvm_1_1SMSchedule.html#a0aa679580cf57d3ac130de888e50d343">earliestCycleInChain</a>(Dep) + (II - 1);</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;              *MinEnd = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(*MinEnd, End);</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;            }</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;            <span class="keywordtype">int</span> LateStart = cycle - Dep.<a class="code" href="classllvm_1_1SDep.html#a5eca2019521fd47b79fe5ef66d02fd43">getLatency</a>() +</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                            DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8178869538b9f4c60c81f602517ef615">getDistance</a>(SU, Dep.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>(), Dep) * II;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;            *MinLateStart = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(*MinLateStart, LateStart);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;          }</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        }</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        <span class="comment">// For instruction that requires multiple iterations, make sure that</span></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        <span class="comment">// the dependent instruction is not scheduled past the definition.</span></div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;        <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *BE = <a class="code" href="MachinePipeliner_8cpp.html#affef39ac05819f83b1bd91be0ef7430e">multipleIterations</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DAG);</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;        <span class="keywordflow">if</span> (BE &amp;&amp; Dep.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>() == BE &amp;&amp; !SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() &amp;&amp;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;            !SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a6fe37a9ed7e3ddc88a91b16aa3f83d14">isPred</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;          *MinLateStart = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(*MinLateStart, cycle);</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      }</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = (<span class="keywordtype">unsigned</span>)SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getSUnit() == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;Dep = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;          <span class="keywordflow">if</span> (!DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#abf65dc03e4068670595f73770a5c5e68">isBackedge</a>(SU, Dep)) {</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;            <span class="keywordtype">int</span> LateStart = cycle - Dep.<a class="code" href="classllvm_1_1SDep.html#a5eca2019521fd47b79fe5ef66d02fd43">getLatency</a>() +</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                            DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8178869538b9f4c60c81f602517ef615">getDistance</a>(SU, Dep.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>(), Dep) * II;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;            *MinLateStart = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(*MinLateStart, LateStart);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;            <span class="keywordflow">if</span> (DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a7481e8a30019a2c7c9231e5a29d12af6">isLoopCarriedDep</a>(SU, Dep)) {</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;              <span class="keywordtype">int</span> Start = <a class="code" href="classllvm_1_1SMSchedule.html#a54f5c13096361c202326c7a064fcdf9c">latestCycleInChain</a>(Dep) + 1 - II;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;              *MaxStart = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(*MaxStart, Start);</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;            }</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;            <span class="keywordtype">int</span> EarlyStart = cycle + Dep.<a class="code" href="classllvm_1_1SDep.html#a5eca2019521fd47b79fe5ef66d02fd43">getLatency</a>() -</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;                             DAG-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a8178869538b9f4c60c81f602517ef615">getDistance</a>(Dep.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>(), SU, Dep) * II;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;            *MaxEarlyStart = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(*MaxEarlyStart, EarlyStart);</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;          }</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        }</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      }</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    }</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  }</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;}</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="comment">/// Order the instructions within a cycle so that the definitions occur</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">/// before the uses. Returns true if the instruction is added to the start</span></div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">/// of the list, or false if added to the end.</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#afc80a20e0ea82304f155947af1f4088e"> 2487</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SMSchedule.html#afc80a20e0ea82304f155947af1f4088e">SMSchedule::orderDependence</a>(<a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *SSD, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU,</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;                                 std::deque&lt;SUnit *&gt; &amp;Insts) {</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <span class="keywordtype">bool</span> OrderBeforeUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="keywordtype">bool</span> OrderAfterDef = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="keywordtype">bool</span> OrderBeforeDef = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <span class="keywordtype">unsigned</span> MoveDef = 0;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="keywordtype">unsigned</span> MoveUse = 0;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordtype">int</span> StageInst1 = <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(SU);</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160; </div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="keywordtype">unsigned</span> Pos = 0;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="keywordflow">for</span> (std::deque&lt;SUnit *&gt;::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Insts.begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Insts.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;       ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ++Pos) {</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;operands()) {</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;      <span class="keywordflow">if</span> (!MO.isReg() || !MO.getReg().isVirtual())</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160; </div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.getReg();</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;      <span class="keywordtype">unsigned</span> BasePos, OffsetPos;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      <span class="keywordflow">if</span> (ST.getInstrInfo()-&gt;getBaseAndOffsetPosition(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, BasePos, OffsetPos))</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(BasePos).getReg() == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;          <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> NewReg = SSD-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a34d16bb80a624ed949071dbfbbd31b59">getInstrBaseReg</a>(SU))</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;            <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = NewReg;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      <span class="keywordtype">bool</span> Reads, Writes;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      std::tie(Reads, Writes) =</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;          (*I)-&gt;getInstr()-&gt;readsWritesVirtualRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;      <span class="keywordflow">if</span> (MO.isDef() &amp;&amp; Reads &amp;&amp; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &lt;= StageInst1) {</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        OrderBeforeUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        <span class="keywordflow">if</span> (MoveUse == 0)</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;          MoveUse = Pos;</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.isDef() &amp;&amp; Reads &amp;&amp; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &gt; StageInst1) {</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;        <span class="comment">// Add the instruction after the scheduled instruction.</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;        OrderAfterDef = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        MoveDef = Pos;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.isUse() &amp;&amp; Writes &amp;&amp; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == StageInst1) {</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SMSchedule.html#ac2afdd571841c61dc8f980fe3d6f4885">cycleScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == <a class="code" href="classllvm_1_1SMSchedule.html#ac2afdd571841c61dc8f980fe3d6f4885">cycleScheduled</a>(SU) &amp;&amp; !(*I)-&gt;isSucc(SU)) {</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;          OrderBeforeUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;          <span class="keywordflow">if</span> (MoveUse == 0)</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;            MoveUse = Pos;</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;          OrderAfterDef = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;          MoveDef = Pos;</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;        }</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.isUse() &amp;&amp; Writes &amp;&amp; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &gt; StageInst1) {</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        OrderBeforeUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        <span class="keywordflow">if</span> (MoveUse == 0)</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;          MoveUse = Pos;</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        <span class="keywordflow">if</span> (MoveUse != 0) {</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;          OrderAfterDef = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;          MoveDef = Pos - 1;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        }</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.isUse() &amp;&amp; Writes &amp;&amp; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &lt; StageInst1) {</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;        <span class="comment">// Add the instruction before the scheduled instruction.</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        OrderBeforeUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;        <span class="keywordflow">if</span> (MoveUse == 0)</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;          MoveUse = Pos;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.isUse() &amp;&amp; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == StageInst1 &amp;&amp;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                 <a class="code" href="classllvm_1_1SMSchedule.html#a26aeee922a8cb25c9ec054413a95dcf2">isLoopCarriedDefOfUse</a>(SSD, (*I)-&gt;getInstr(), MO)) {</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;        <span class="keywordflow">if</span> (MoveUse == 0) {</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;          OrderBeforeDef = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;          MoveUse = Pos;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;      }</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    }</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <span class="comment">// Check for order dependences between instructions. Make sure the source</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="comment">// is ordered before the destination.</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getSUnit() != *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a> &amp;&amp; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == StageInst1) {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        OrderBeforeUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        <span class="keywordflow">if</span> (Pos &lt; MoveUse)</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;          MoveUse = Pos;</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;      }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      <span class="comment">// We did not handle HW dependences in previous for loop,</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      <span class="comment">// and we normally set Latency = 0 for Anti deps,</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <span class="comment">// so may have nodes in same cycle with Anti denpendent on HW regs.</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a> &amp;&amp; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == StageInst1) {</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        OrderBeforeUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;        <span class="keywordflow">if</span> ((MoveUse == 0) || (Pos &lt; MoveUse))</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;          MoveUse = Pos;</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;      }</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    }</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>) {</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getSUnit() != *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a> &amp;&amp; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == StageInst1) {</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;        OrderAfterDef = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        MoveDef = Pos;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;      }</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    }</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  }</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160; </div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="comment">// A circular dependence.</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <span class="keywordflow">if</span> (OrderAfterDef &amp;&amp; OrderBeforeUse &amp;&amp; MoveUse == MoveDef)</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    OrderBeforeUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160; </div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <span class="comment">// OrderAfterDef takes precedences over OrderBeforeDef. The latter is due</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="comment">// to a loop-carried dependence.</span></div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="keywordflow">if</span> (OrderBeforeDef)</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    OrderBeforeUse = !OrderAfterDef || (MoveUse &gt; MoveDef);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160; </div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="comment">// The uncommon case when the instruction order needs to be updated because</span></div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="comment">// there is both a use and def.</span></div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  <span class="keywordflow">if</span> (OrderBeforeUse &amp;&amp; OrderAfterDef) {</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *UseSU = Insts.at(MoveUse);</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *DefSU = Insts.at(MoveDef);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    <span class="keywordflow">if</span> (MoveUse &gt; MoveDef) {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      Insts.erase(Insts.begin() + MoveUse);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      Insts.erase(Insts.begin() + MoveDef);</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;      Insts.erase(Insts.begin() + MoveDef);</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;      Insts.erase(Insts.begin() + MoveUse);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    }</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <a class="code" href="classllvm_1_1SMSchedule.html#afc80a20e0ea82304f155947af1f4088e">orderDependence</a>(SSD, UseSU, Insts);</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    <a class="code" href="classllvm_1_1SMSchedule.html#afc80a20e0ea82304f155947af1f4088e">orderDependence</a>(SSD, SU, Insts);</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <a class="code" href="classllvm_1_1SMSchedule.html#afc80a20e0ea82304f155947af1f4088e">orderDependence</a>(SSD, DefSU, Insts);</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  }</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <span class="comment">// Put the new instruction first if there is a use in the list. Otherwise,</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <span class="comment">// put it at the end of the list.</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="keywordflow">if</span> (OrderBeforeUse)</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    Insts.push_front(SU);</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    Insts.push_back(SU);</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;}</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;<span class="comment">/// Return true if the scheduled Phi has a loop carried operand.</span></div>
<div class="line"><a name="l02615"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#ad5dd5b3871c5b30823e57af03a218b8a"> 2615</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SMSchedule.html#ad5dd5b3871c5b30823e57af03a218b8a">SMSchedule::isLoopCarried</a>(<a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *SSD, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Phi) {</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="keywordflow">if</span> (!Phi.<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Phi.<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() &amp;&amp; <span class="stringliteral">&quot;Expecting a Phi.&quot;</span>);</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *DefSU = SSD-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(&amp;Phi);</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <span class="keywordtype">unsigned</span> DefCycle = <a class="code" href="classllvm_1_1SMSchedule.html#ac2afdd571841c61dc8f980fe3d6f4885">cycleScheduled</a>(DefSU);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <span class="keywordtype">int</span> DefStage = <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(DefSU);</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160; </div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <span class="keywordtype">unsigned</span> InitVal = 0;</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="keywordtype">unsigned</span> LoopVal = 0;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <a class="code" href="MachinePipeliner_8cpp.html#ad4cf8c8e4e2cc5bf94656e979ed629b4">getPhiRegs</a>(Phi, Phi.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>(), InitVal, LoopVal);</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *UseSU = SSD-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(LoopVal));</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordflow">if</span> (!UseSU)</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  <span class="keywordflow">if</span> (UseSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;  <span class="keywordtype">unsigned</span> LoopCycle = <a class="code" href="classllvm_1_1SMSchedule.html#ac2afdd571841c61dc8f980fe3d6f4885">cycleScheduled</a>(UseSU);</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="keywordtype">int</span> LoopStage = <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(UseSU);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="keywordflow">return</span> (LoopCycle &gt; DefCycle) || (LoopStage &lt;= DefStage);</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;}</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;<span class="comment">/// Return true if the instruction is a definition that is loop carried</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;<span class="comment">/// and defines the use on the next iteration.</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;<span class="comment">///        v1 = phi(v2, v3)</span></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;<span class="comment">///  (Def) v3 = op v1</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;<span class="comment">///  (MO)   = v1</span></div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;<span class="comment">/// If MO appears before Def, then then v1 and v3 may get assigned to the same</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;<span class="comment">/// register.</span></div>
<div class="line"><a name="l02643"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#a26aeee922a8cb25c9ec054413a95dcf2"> 2643</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SMSchedule.html#a26aeee922a8cb25c9ec054413a95dcf2">SMSchedule::isLoopCarriedDefOfUse</a>(<a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *SSD,</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO) {</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;  <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isPHI())</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Phi = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  <span class="keywordflow">if</span> (!Phi || !Phi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() || Phi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() != <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getParent())</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SMSchedule.html#ad5dd5b3871c5b30823e57af03a218b8a">isLoopCarried</a>(SSD, *Phi))</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  <span class="keywordtype">unsigned</span> LoopReg = <a class="code" href="MachinePipeliner_8cpp.html#a3338cf03496688897abc2cc959bf9f17">getLoopPhiReg</a>(*Phi, Phi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>());</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;DMO = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordflow">if</span> (!DMO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !DMO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>())</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="keywordflow">if</span> (DMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == LoopReg)</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  }</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;}</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;<span class="comment">/// Determine transitive dependences of unpipelineable instructions</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#a23d6b914952799027040a351f501a0ad"> 2666</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;SUnit *, 8&gt;</a> <a class="code" href="classllvm_1_1SMSchedule.html#a23d6b914952799027040a351f501a0ad">SMSchedule::computeUnpipelineableNodes</a>(</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *SSD, <a class="code" href="classllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo.html">TargetInstrInfo::PipelinerLoopInfo</a> *PLI) {</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;SUnit *, 8&gt;</a> DoNotPipeline;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit *, 8&gt;</a> Worklist;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160; </div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;SU : SSD-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>)</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    <span class="keywordflow">if</span> (SU.<a class="code" href="classllvm_1_1SUnit.html#a274909b1f31ad2d3d3379de55467d377">isInstr</a>() &amp;&amp; PLI-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo.html#a60ab2da004401c41428ea89e043ae9c5">shouldIgnoreForPipelining</a>(SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()))</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      Worklist.push_back(&amp;SU);</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160; </div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    <span class="keyword">auto</span> SU = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="keywordflow">if</span> (DoNotPipeline.<a class="code" href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">count</a>(SU))</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Do not pipeline SU(&quot;</span> &lt;&lt; SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    DoNotPipeline.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(SU);</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Dep : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>)</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      Worklist.push_back(Dep.getSUnit());</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Dep : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>)</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;        <span class="keywordflow">if</span> (Dep.getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>)</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;          Worklist.push_back(Dep.getSUnit());</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  }</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  <span class="keywordflow">return</span> DoNotPipeline;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;}</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160; </div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;<span class="comment">// Determine all instructions upon which any unpipelineable instruction depends</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;<span class="comment">// and ensure that they are in stage 0.  If unable to do so, return false.</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#ae26138aceef07cf5465c2840b437e1d8"> 2693</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SMSchedule.html#ae26138aceef07cf5465c2840b437e1d8">SMSchedule::normalizeNonPipelinedInstructions</a>(</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *SSD, <a class="code" href="classllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo.html">TargetInstrInfo::PipelinerLoopInfo</a> *PLI) {</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;SUnit *, 8&gt;</a> DNP = <a class="code" href="classllvm_1_1SMSchedule.html#a23d6b914952799027040a351f501a0ad">computeUnpipelineableNodes</a>(SSD, PLI);</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  <span class="keywordtype">int</span> NewLastCycle = INT_MIN;</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : SSD-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    <span class="keywordflow">if</span> (!SU.<a class="code" href="classllvm_1_1SUnit.html#a274909b1f31ad2d3d3379de55467d377">isInstr</a>())</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordflow">if</span> (!DNP.<a class="code" href="classllvm_1_1SmallSet.html#ae04ad615dfdd885e85cbddda146787c6">contains</a>(&amp;SU) || <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(&amp;SU) == 0) {</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      NewLastCycle = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(NewLastCycle, InstrToCycle[&amp;SU]);</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    }</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160; </div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="comment">// Put the non-pipelined instruction as early as possible in the schedule</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="keywordtype">int</span> NewCycle = <a class="code" href="classllvm_1_1SMSchedule.html#aa9cf7f8bcf9a31775f99c732ad69e907">getFirstCycle</a>();</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Dep : SU.<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>)</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      NewCycle = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(InstrToCycle[Dep.getSUnit()], NewCycle);</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160; </div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <span class="keywordtype">int</span> OldCycle = InstrToCycle[&amp;SU];</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <span class="keywordflow">if</span> (OldCycle != NewCycle) {</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      InstrToCycle[&amp;SU] = NewCycle;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      <span class="keyword">auto</span> &amp;OldS = <a class="code" href="classllvm_1_1SMSchedule.html#a443c7ea5745c6b71817c757be2a8a0ec">getInstructions</a>(OldCycle);</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      <a class="code" href="namespacellvm.html#aa82bb12b2879425012b3742487e10964">llvm::erase_value</a>(OldS, &amp;SU);</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;      <a class="code" href="classllvm_1_1SMSchedule.html#a443c7ea5745c6b71817c757be2a8a0ec">getInstructions</a>(NewCycle).emplace_back(&amp;SU);</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SU(&quot;</span> &lt;&lt; SU.<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a></div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;) is not pipelined; moving from cycle &quot;</span> &lt;&lt; OldCycle</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; NewCycle &lt;&lt; <span class="stringliteral">&quot; Instr:&quot;</span> &lt;&lt; *SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>());</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    }</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    NewLastCycle = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(NewLastCycle, NewCycle);</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  }</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;  LastCycle = NewLastCycle;</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;}</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160; </div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;<span class="comment">// Check if the generated schedule is valid. This function checks if</span></div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;<span class="comment">// an instruction that uses a physical register is scheduled in a</span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;<span class="comment">// different stage than the definition. The pipeliner does not handle</span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;<span class="comment">// physical register values that may cross a basic block boundary.</span></div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;<span class="comment">// Furthermore, if a physical def/use pair is assigned to the same</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;<span class="comment">// cycle, orderDependence does not guarantee def/use ordering, so that</span></div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;<span class="comment">// case should be considered invalid.  (The test checks for both</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;<span class="comment">// earlier and same-cycle use to be more robust.)</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#a7c7d5ab8d9814b721a1844a867ef948a"> 2735</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SMSchedule.html#a7c7d5ab8d9814b721a1844a867ef948a">SMSchedule::isValidSchedule</a>(<a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *SSD) {</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : SSD-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    <span class="keywordflow">if</span> (!SU.<a class="code" href="classllvm_1_1SUnit.html#a9d9a8b8d5225f85cecbbada4ce4406b0">hasPhysRegDefs</a>)</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="keywordtype">int</span> StageDef = <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(&amp;SU);</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <span class="keywordtype">int</span> CycleDef = InstrToCycle[&amp;SU];</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(StageDef != -1 &amp;&amp; <span class="stringliteral">&quot;Instruction should have been scheduled.&quot;</span>);</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : SU.<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>)</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.isAssignedRegDep() &amp;&amp; !<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit()-&gt;isBoundaryNode())</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Register.html#af4aef3aa547629015801993f9d393109">Register::isPhysicalRegister</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getReg())) {</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit()) != StageDef)</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;          <span class="keywordflow">if</span> (InstrToCycle[<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getSUnit()] &lt;= CycleDef)</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        }</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  }</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;}</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;<span class="comment">/// A property of the node order in swing-modulo-scheduling is</span></div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;<span class="comment">/// that for nodes outside circuits the following holds:</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="comment">/// none of them is scheduled after both a successor and a</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;<span class="comment">/// predecessor.</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;<span class="comment">/// The method below checks whether the property is met.</span></div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;<span class="comment">/// If not, debug information is printed and statistics information updated.</span></div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;<span class="comment">/// Note that we do not use an assert statement.</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="comment">/// The reason is that although an invalid node oder may prevent</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="comment">/// the pipeliner from finding a pipelined schedule for arbitrary II,</span></div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;<span class="comment">/// it does not lead to the generation of incorrect code.</span></div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SwingSchedulerDAG::checkValidNodeOrder(<span class="keyword">const</span> NodeSetType &amp;Circuits)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160; </div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  <span class="comment">// a sorted vector that maps each SUnit to its index in the NodeOrder</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <span class="keyword">typedef</span> std::pair&lt;SUnit *, unsigned&gt; UnitIndex;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  std::vector&lt;UnitIndex&gt; Indices(NodeOrder.size(), std::make_pair(<span class="keyword">nullptr</span>, 0));</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160; </div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a> = NodeOrder.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    Indices.push_back(std::make_pair(NodeOrder[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160; </div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  <span class="keyword">auto</span> CompareKey = [](UnitIndex <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">i1</a>, UnitIndex i2) {</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <span class="keywordflow">return</span> std::get&lt;0&gt;(<a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">i1</a>) &lt; std::get&lt;0&gt;(i2);</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  };</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160; </div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  <span class="comment">// sort, so that we can perform a binary search</span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Indices, CompareKey);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160; </div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <span class="keywordtype">bool</span> Valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  (void)Valid;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  <span class="comment">// for each SUnit in the NodeOrder, check whether</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;  <span class="comment">// it appears after both a successor and a predecessor</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  <span class="comment">// of the SUnit. If this is the case, and the SUnit</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;  <span class="comment">// is not part of circuit, then the NodeOrder is not</span></div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  <span class="comment">// valid.</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a> = NodeOrder.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = NodeOrder[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160; </div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="keywordtype">bool</span> PredBefore = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="keywordtype">bool</span> SuccBefore = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160; </div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Succ;</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Pred;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    (void)Succ;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    (void)Pred;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160; </div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;PredEdge : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>) {</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *PredSU = PredEdge.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>();</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;      <span class="keywordtype">unsigned</span> PredIndex = std::get&lt;1&gt;(</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;          *<a class="code" href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a>(Indices, std::make_pair(PredSU, 0), CompareKey));</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;      <span class="keywordflow">if</span> (!PredSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() &amp;&amp; PredIndex &lt; <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>) {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;        PredBefore = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;        Pred = PredSU;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;      }</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    }</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160; </div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;SuccEdge : SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SuccSU = SuccEdge.<a class="code" href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">getSUnit</a>();</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;      <span class="comment">// Do not process a boundary node, it was not included in NodeOrder,</span></div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;      <span class="comment">// hence not in Indices either, call to std::lower_bound() below will</span></div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      <span class="comment">// return Indices.end().</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;      <span class="keywordflow">if</span> (SuccSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a7406c398c67e53ee3937bf2b6df1c64e">isBoundaryNode</a>())</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;      <span class="keywordtype">unsigned</span> SuccIndex = std::get&lt;1&gt;(</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;          *<a class="code" href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a>(Indices, std::make_pair(SuccSU, 0), CompareKey));</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;      <span class="keywordflow">if</span> (!SuccSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>() &amp;&amp; SuccIndex &lt; <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>) {</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        SuccBefore = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;        Succ = SuccSU;</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;      }</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    }</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160; </div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    <span class="keywordflow">if</span> (PredBefore &amp;&amp; SuccBefore &amp;&amp; !SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>()) {</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;      <span class="comment">// instructions in circuits are allowed to be scheduled</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;      <span class="comment">// after both a successor and predecessor.</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;      <span class="keywordtype">bool</span> InCircuit = <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;          Circuits, [SU](<span class="keyword">const</span> <a class="code" href="classllvm_1_1NodeSet.html">NodeSet</a> &amp;Circuit) { <span class="keywordflow">return</span> Circuit.<a class="code" href="classllvm_1_1NodeSet.html#a56b9083f6d85aec6325b90028372d2e2">count</a>(SU); });</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      <span class="keywordflow">if</span> (InCircuit)</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;In a circuit, predecessor &quot;</span>;);</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;        Valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;        NumNodeOrderIssues++;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Predecessor &quot;</span>;);</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;      }</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; Pred-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt;&lt; <span class="stringliteral">&quot; and successor &quot;</span> &lt;&lt; Succ-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; are scheduled before node &quot;</span> &lt;&lt; SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a></div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;);</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    }</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  }</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160; </div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    <span class="keywordflow">if</span> (!Valid)</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Invalid node order found!\n&quot;</span>;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  });</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;}</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<span class="comment">/// Attempt to fix the degenerate cases when the instruction serialization</span></div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;<span class="comment">/// causes the register lifetimes to overlap. For example,</span></div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<span class="comment">///   p&#39; = store_pi(p, b)</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;<span class="comment">///      = load p, offset</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="comment">/// In this case p and p&#39; overlap, which means that two registers are needed.</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="comment">/// Instead, this function changes the load to use p&#39; and updates the offset.</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"><a class="line" href="classllvm_1_1SwingSchedulerDAG.html#a51bda1806219d879123625c8d4ae3fbc"> 2856</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a51bda1806219d879123625c8d4ae3fbc">SwingSchedulerDAG::fixupRegisterOverlaps</a>(std::deque&lt;SUnit *&gt; &amp;Instrs) {</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;  <span class="keywordtype">unsigned</span> OverlapReg = 0;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <span class="keywordtype">unsigned</span> NewBaseReg = 0;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : Instrs) {</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;      <span class="comment">// Look for an instruction that uses p. The instruction occurs in the</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;      <span class="comment">// same cycle but occurs later in the serialized order.</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == OverlapReg) {</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        <span class="comment">// Check that the instruction appears in the InstrChanges structure,</span></div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;        <span class="comment">// which contains instructions that can have the offset updated.</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;        <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;SUnit *, std::pair&lt;unsigned, int64_t&gt;</a>&gt;::iterator It =</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;          InstrChanges.find(SU);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;        <span class="keywordflow">if</span> (It != InstrChanges.end()) {</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;          <span class="keywordtype">unsigned</span> BasePos, OffsetPos;</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;          <span class="comment">// Update the base register and adjust the offset.</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a28d18d91f58682d65e97e9c386064b5b">getBaseAndOffsetPosition</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, BasePos, OffsetPos)) {</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;            <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = <a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">CloneMachineInstr</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;            NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(BasePos).<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(NewBaseReg);</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;            int64_t NewOffset =</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;                <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(OffsetPos).getImm() - It-&gt;second.second;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;            NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(OffsetPos).<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(NewOffset);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;            SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a5a869f04a623443a4cf2d2857f9cd085">setInstr</a>(NewMI);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;            <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a077eef2c61ca462db1800cc506092d38">MISUnitMap</a>[NewMI] = SU;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;            NewMIs[<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>] = NewMI;</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;          }</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;        }</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;        OverlapReg = 0;</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        NewBaseReg = 0;</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;      }</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      <span class="comment">// Look for an instruction of the form p&#39; = op(p), which uses and defines</span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;      <span class="comment">// two virtual registers that get allocated to the same physical register.</span></div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;      <span class="keywordtype">unsigned</span> TiedUseIdx = 0;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isRegTiedToUseOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, &amp;TiedUseIdx)) {</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;        <span class="comment">// OverlapReg is p in the example above.</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;        OverlapReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(TiedUseIdx).getReg();</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;        <span class="comment">// NewBaseReg is p&#39; in the example above.</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;        NewBaseReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).getReg();</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;      }</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    }</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  }</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;}</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;<span class="comment">/// After the schedule has been formed, call this function to combine</span></div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;<span class="comment">/// the instructions from the different stages/cycles.  That is, this</span></div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;<span class="comment">/// function creates a schedule that represents a single iteration.</span></div>
<div class="line"><a name="l02905"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#aff7649124c08f77b72e5d539f2f8afdf"> 2905</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SMSchedule.html#aff7649124c08f77b72e5d539f2f8afdf">SMSchedule::finalizeSchedule</a>(<a class="code" href="classllvm_1_1SwingSchedulerDAG.html">SwingSchedulerDAG</a> *SSD) {</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <span class="comment">// Move all instructions to the first stage from later stages.</span></div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cycle = <a class="code" href="classllvm_1_1SMSchedule.html#aa9cf7f8bcf9a31775f99c732ad69e907">getFirstCycle</a>(); cycle &lt;= <a class="code" href="classllvm_1_1SMSchedule.html#af238533c2437443030e5fa4a710094c5">getFinalCycle</a>(); ++cycle) {</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> stage = 1, lastStage = <a class="code" href="classllvm_1_1SMSchedule.html#a336ecf423257d7f3b529f5817d9598c9">getMaxStageCount</a>(); stage &lt;= lastStage;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;         ++stage) {</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;      std::deque&lt;SUnit *&gt; &amp;cycleInstrs =</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;          ScheduledInstrs[cycle + (stage * InitiationInterval)];</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(cycleInstrs))</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;        ScheduledInstrs[cycle].push_front(SU);</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    }</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  }</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160; </div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <span class="comment">// Erase all the elements in the later stages. Only one iteration should</span></div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  <span class="comment">// remain in the scheduled list, and it contains all the instructions.</span></div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cycle = <a class="code" href="classllvm_1_1SMSchedule.html#af238533c2437443030e5fa4a710094c5">getFinalCycle</a>() + 1; cycle &lt;= LastCycle; ++cycle)</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    ScheduledInstrs.erase(cycle);</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  <span class="comment">// Change the registers in instruction as specified in the InstrChanges</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="comment">// map. We need to use the new registers to create the correct order.</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : SSD-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>)</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    SSD-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a3fa089137317e93276cab5774d4bf11f">applyInstrChange</a>(SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>(), *<span class="keyword">this</span>);</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160; </div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  <span class="comment">// Reorder the instructions in each cycle to fix and improve the</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="comment">// generated code.</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> = <a class="code" href="classllvm_1_1SMSchedule.html#aa9cf7f8bcf9a31775f99c732ad69e907">getFirstCycle</a>(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="classllvm_1_1SMSchedule.html#af238533c2437443030e5fa4a710094c5">getFinalCycle</a>(); <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> &lt;= <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="namespacellvm.html#aacc94b06b3540d18255a46abbe4f5f11">Cycle</a>) {</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    std::deque&lt;SUnit *&gt; &amp;cycleInstrs = ScheduledInstrs[<a class="code" href="namespacellvm.html#aacc94b06b3540d18255a46abbe4f5f11">Cycle</a>];</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    std::deque&lt;SUnit *&gt; newOrderPhi;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : cycleInstrs) {</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;      <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;        newOrderPhi.push_back(SU);</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    }</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    std::deque&lt;SUnit *&gt; newOrderI;</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU : cycleInstrs) {</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;      <span class="keywordflow">if</span> (!SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">isPHI</a>())</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        <a class="code" href="classllvm_1_1SMSchedule.html#afc80a20e0ea82304f155947af1f4088e">orderDependence</a>(SSD, SU, newOrderI);</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    }</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <span class="comment">// Replace the old order with the new order.</span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    cycleInstrs.swap(newOrderPhi);</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(cycleInstrs, newOrderI);</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    SSD-&gt;<a class="code" href="classllvm_1_1SwingSchedulerDAG.html#a51bda1806219d879123625c8d4ae3fbc">fixupRegisterOverlaps</a>(cycleInstrs);</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  }</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160; </div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="classllvm_1_1SMSchedule.html#a28f3076bd731bbacde0d9b9655481b35">dump</a>(););</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;}</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160; </div>
<div class="line"><a name="l02950"></a><span class="lineno"><a class="line" href="classllvm_1_1NodeSet.html#a2a59bac3131695df6254a8db3205caeb"> 2950</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1NodeSet.html#a2a59bac3131695df6254a8db3205caeb">NodeSet::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;os)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;Num nodes &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1NodeSet.html#a9ea1466950ca6ed26b74695ac58aa954">size</a>() &lt;&lt; <span class="stringliteral">&quot; rec &quot;</span> &lt;&lt; RecMII &lt;&lt; <span class="stringliteral">&quot; mov &quot;</span> &lt;&lt; MaxMOV</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;     &lt;&lt; <span class="stringliteral">&quot; depth &quot;</span> &lt;&lt; MaxDepth &lt;&lt; <span class="stringliteral">&quot; col &quot;</span> &lt;&lt; Colocate &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : Nodes)</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;   SU(&quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;NodeNum &lt;&lt; <span class="stringliteral">&quot;) &quot;</span> &lt;&lt; *(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getInstr());</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;}</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160; </div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;<span class="comment">/// Print the schedule information to the given output.</span></div>
<div class="line"><a name="l02960"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#a3460671809bfea01d71388f2e45c3c50"> 2960</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SMSchedule.html#a3460671809bfea01d71388f2e45c3c50">SMSchedule::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;os)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  <span class="comment">// Iterate over each cycle.</span></div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cycle = <a class="code" href="classllvm_1_1SMSchedule.html#aa9cf7f8bcf9a31775f99c732ad69e907">getFirstCycle</a>(); cycle &lt;= <a class="code" href="classllvm_1_1SMSchedule.html#af238533c2437443030e5fa4a710094c5">getFinalCycle</a>(); ++cycle) {</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    <span class="comment">// Iterate over each instruction in the cycle.</span></div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    <a class="code" href="classllvm_1_1DenseMapIterator.html">const_sched_iterator</a> cycleInstrs = ScheduledInstrs.find(cycle);</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *CI : cycleInstrs-&gt;second) {</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;      os &lt;&lt; <span class="stringliteral">&quot;cycle &quot;</span> &lt;&lt; cycle &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">stageScheduled</a>(CI) &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      os &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; CI-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ab419785650ef9728b5305d220179017c">print</a>(os);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;      os &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    }</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  }</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;}</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;<span class="comment">/// Utility function used for debugging to print the schedule.</span></div>
<div class="line"><a name="l02975"></a><span class="lineno"><a class="line" href="classllvm_1_1SMSchedule.html#a28f3076bd731bbacde0d9b9655481b35"> 2975</a></span>&#160;<span class="comment"></span><a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SMSchedule.html#a28f3076bd731bbacde0d9b9655481b35">SMSchedule::dump</a>()<span class="keyword"> const </span>{ <a class="code" href="classllvm_1_1SMSchedule.html#a3460671809bfea01d71388f2e45c3c50">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()); }</div>
<div class="line"><a name="l02976"></a><span class="lineno"><a class="line" href="classllvm_1_1NodeSet.html#acdacc30450012997ebfeb3c681460349"> 2976</a></span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1NodeSet.html#acdacc30450012997ebfeb3c681460349">NodeSet::dump</a>()<span class="keyword"> const </span>{ <a class="code" href="classllvm_1_1NodeSet.html#a2a59bac3131695df6254a8db3205caeb">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()); }</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160; </div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;<span class="keywordtype">void</span> ResourceManager::dumpMRT()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <span class="keywordflow">if</span> (UseDFA)</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    std::stringstream <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> &lt;&lt; <span class="stringliteral">&quot;MRT:\n&quot;</span>;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> &lt;&lt; std::setw(4) &lt;&lt; <span class="stringliteral">&quot;Slot&quot;</span>;</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;      <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> &lt;&lt; std::setw(3) &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> &lt;&lt; std::setw(7) &lt;&lt; <span class="stringliteral">&quot;#Mops&quot;</span></div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Slot = 0; Slot &lt; InitiationInterval; ++Slot) {</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;      <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> &lt;&lt; std::setw(4) &lt;&lt; Slot;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;        <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> &lt;&lt; std::setw(3) &lt;&lt; MRT[Slot][<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;      <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> &lt;&lt; std::setw(7) &lt;&lt; NumScheduledMops[Slot] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;    }</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>.str();</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;  });</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;}</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160; </div>
<div class="line"><a name="l03000"></a><span class="lineno"><a class="line" href="classllvm_1_1ResourceManager.html#a53238e1dc17529bfe9b2a2802360fdb7"> 3000</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ResourceManager.html#a53238e1dc17529bfe9b2a2802360fdb7">ResourceManager::initProcResourceVectors</a>(</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedModel.html">MCSchedModel</a> &amp;SM, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;uint64_t&gt;</a> &amp;Masks) {</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;  <span class="keywordtype">unsigned</span> ProcResourceID = 0;</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160; </div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;  <span class="comment">// We currently limit the resource kinds to 64 and below so that we can use</span></div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  <span class="comment">// uint64_t for Masks</span></div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>() &lt; 64 &amp;&amp;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;         <span class="stringliteral">&quot;Too many kinds of resources, unsupported&quot;</span>);</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  <span class="comment">// Create a unique bitmask for every processor resource unit.</span></div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="comment">// Skip resource at index 0, since it always references &#39;InvalidUnit&#39;.</span></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;  Masks.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>());</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCProcResourceDesc.html">MCProcResourceDesc</a> &amp;Desc = *SM.<a class="code" href="structllvm_1_1MCSchedModel.html#ad57c6f52887935df66e0892864e659b4">getProcResource</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <span class="keywordflow">if</span> (Desc.<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a7ce1d4d9b7074763095e905a7848440f">SubUnitsIdxBegin</a>)</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    Masks[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = 1ULL &lt;&lt; ProcResourceID;</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    ProcResourceID++;</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;  }</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;  <span class="comment">// Create a unique bitmask for every processor resource group.</span></div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCProcResourceDesc.html">MCProcResourceDesc</a> &amp;Desc = *SM.<a class="code" href="structllvm_1_1MCSchedModel.html#ad57c6f52887935df66e0892864e659b4">getProcResource</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <span class="keywordflow">if</span> (!Desc.<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a7ce1d4d9b7074763095e905a7848440f">SubUnitsIdxBegin</a>)</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    Masks[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = 1ULL &lt;&lt; ProcResourceID;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> U = 0; U &lt; Desc.<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">NumUnits</a>; ++U)</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;      Masks[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] |= Masks[Desc.<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a7ce1d4d9b7074763095e905a7848440f">SubUnitsIdxBegin</a>[U]];</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    ProcResourceID++;</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  }</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a542090274b12f258b6d3242fde6c4fab">SwpShowResMask</a>) {</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ProcResourceDesc:\n&quot;</span>;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;        <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCProcResourceDesc.html">MCProcResourceDesc</a> *ProcResource = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#ad57c6f52887935df66e0892864e659b4">getProcResource</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a66f0c57e04037076030c6a6e48f44f2d">format</a>(<span class="stringliteral">&quot; %16s(%2d): Mask: 0x%08x, NumUnits:%2d\n&quot;</span>,</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                         ProcResource-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a51dc4747a7d39650884bcf19daaf5f54">Name</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Masks[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>],</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                         ProcResource-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">NumUnits</a>);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;      }</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; -----------------\n&quot;</span>;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    }</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  });</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;}</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160; </div>
<div class="line"><a name="l03042"></a><span class="lineno"><a class="line" href="classllvm_1_1ResourceManager.html#adfd05fb40b63f3fde78a81e119ed89e3"> 3042</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ResourceManager.html#adfd05fb40b63f3fde78a81e119ed89e3">ResourceManager::canReserveResources</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU, <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>) {</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>)</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;canReserveResources:\n&quot;</span>;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  });</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  <span class="keywordflow">if</span> (UseDFA)</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    <span class="keywordflow">return</span> DFAResources[positiveModulo(<a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>, InitiationInterval)]</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;        -&gt;canReserveResources(&amp;SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a60c8658c657286e8cd084bf2e9c48eda">getDesc</a>());</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160; </div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc = DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af3d65454da09651202a0f6f39e84462a">getSchedClass</a>(&amp;SU);</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="keywordflow">if</span> (!SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#a03f7e8be243cde4843e2854d91bfa082">isValid</a>()) {</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;No valid Schedule Class Desc for schedClass!\n&quot;</span>;</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;isPseudo:&quot;</span> &lt;&lt; SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abf37b74e017f80f204221fe3143ab89f">isPseudo</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    });</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  }</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160; </div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;  reserveResources(SCDesc, <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>);</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;  <span class="keywordtype">bool</span> Result = !isOverbooked();</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;  unreserveResources(SCDesc, <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160; </div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>) <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;return &quot;</span> &lt;&lt; Result &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;);</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;}</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160; </div>
<div class="line"><a name="l03068"></a><span class="lineno"><a class="line" href="classllvm_1_1ResourceManager.html#a66b0369aaa8c87a6969ec5b56700d0d8"> 3068</a></span>&#160;<span class="keywordtype">void</span> ResourceManager::reserveResources(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU, <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>) {</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>)</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;reserveResources:\n&quot;</span>;</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  });</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  <span class="keywordflow">if</span> (UseDFA)</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    <span class="keywordflow">return</span> DFAResources[positiveModulo(<a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>, InitiationInterval)]</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;        -&gt;reserveResources(&amp;SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a60c8658c657286e8cd084bf2e9c48eda">getDesc</a>());</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160; </div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc = DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af3d65454da09651202a0f6f39e84462a">getSchedClass</a>(&amp;SU);</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  <span class="keywordflow">if</span> (!SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#a03f7e8be243cde4843e2854d91bfa082">isValid</a>()) {</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;No valid Schedule Class Desc for schedClass!\n&quot;</span>;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;isPseudo:&quot;</span> &lt;&lt; SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abf37b74e017f80f204221fe3143ab89f">isPseudo</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    });</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  }</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160; </div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;  reserveResources(SCDesc, <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>);</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160; </div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>) {</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;      dumpMRT();</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;reserveResources: done!\n\n&quot;</span>;</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    }</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  });</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;}</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160; </div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;<span class="keywordtype">void</span> ResourceManager::reserveResources(<span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc,</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;                                       <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>) {</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!UseDFA);</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1MCWriteProcResEntry.html">MCWriteProcResEntry</a> &amp;PRE : <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;           STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a0889f5abf71c45b0610d3fa148986eaf">getWriteProcResBegin</a>(SCDesc), STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#aa6c00f0265f953f24b14b94a05f3b6d7">getWriteProcResEnd</a>(SCDesc)))</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &lt; <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> + PRE.Cycles; ++<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      ++MRT[positiveModulo(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, InitiationInterval)][PRE.ProcResourceIdx];</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160; </div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &lt; <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> + SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#ab7b0ef1f5af7f95492f8bf39415123f2">NumMicroOps</a>; ++<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    ++NumScheduledMops[positiveModulo(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, InitiationInterval)];</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;}</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160; </div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;<span class="keywordtype">void</span> ResourceManager::unreserveResources(<span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc,</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;                                         <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>) {</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!UseDFA);</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1MCWriteProcResEntry.html">MCWriteProcResEntry</a> &amp;PRE : <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;           STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a0889f5abf71c45b0610d3fa148986eaf">getWriteProcResBegin</a>(SCDesc), STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#aa6c00f0265f953f24b14b94a05f3b6d7">getWriteProcResEnd</a>(SCDesc)))</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &lt; <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> + PRE.Cycles; ++<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;      --MRT[positiveModulo(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, InitiationInterval)][PRE.ProcResourceIdx];</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160; </div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &lt; <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> + SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#ab7b0ef1f5af7f95492f8bf39415123f2">NumMicroOps</a>; ++<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    --NumScheduledMops[positiveModulo(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, InitiationInterval)];</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;}</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160; </div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;<span class="keywordtype">bool</span> ResourceManager::isOverbooked()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!UseDFA);</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Slot = 0; <a class="code" href="namespacellvm_1_1pdb.html#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a> &lt; InitiationInterval; ++<a class="code" href="namespacellvm_1_1pdb.html#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a>) {</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCProcResourceDesc.html">MCProcResourceDesc</a> *Desc = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#ad57c6f52887935df66e0892864e659b4">getProcResource</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;      <span class="keywordflow">if</span> (MRT[Slot][<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] &gt; Desc-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">NumUnits</a>)</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    }</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <span class="keywordflow">if</span> (NumScheduledMops[Slot] &gt; IssueWidth)</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  }</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;}</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160; </div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;<span class="keywordtype">int</span> ResourceManager::calculateResMIIDFA()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UseDFA);</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160; </div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  <span class="comment">// Sort the instructions by the number of available choices for scheduling,</span></div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  <span class="comment">// least to most. Use the number of critical resources as the tie breaker.</span></div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;  FuncUnitSorter FUS = FuncUnitSorter(*ST);</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>)</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    FUS.calcCriticalResources(*SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>());</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <a class="code" href="classllvm_1_1PriorityQueue.html">PriorityQueue&lt;MachineInstr *, std::vector&lt;MachineInstr *&gt;</a>, FuncUnitSorter&gt;</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;      FuncUnitOrder(FUS);</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160; </div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>)</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    FuncUnitOrder.push(SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>());</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160; </div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::unique_ptr&lt;DFAPacketizer&gt;</a>, 8&gt; Resources;</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;  Resources.push_back(</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;      std::unique_ptr&lt;DFAPacketizer&gt;(TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#abe81e601b8bee5b30f838230fd86e39f">CreateTargetScheduleState</a>(*ST)));</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160; </div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="keywordflow">while</span> (!FuncUnitOrder.empty()) {</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = FuncUnitOrder.top();</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    FuncUnitOrder.pop();</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;    <span class="keywordflow">if</span> (TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a0ba282dba26451dcfbbc938444595d7e">isZeroCost</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode()))</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160; </div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    <span class="comment">// Attempt to reserve the instruction in an existing DFA. At least one</span></div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    <span class="comment">// DFA is needed for each cycle.</span></div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    <span class="keywordtype">unsigned</span> NumCycles = DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">getSUnit</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)-&gt;<a class="code" href="classllvm_1_1SUnit.html#a72e0568b7bf0e9a97260c34264a549a0">Latency</a>;</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <span class="keywordtype">unsigned</span> ReservedCycles = 0;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <span class="keyword">auto</span> *RI = Resources.begin();</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    <span class="keyword">auto</span> *RE = Resources.end();</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Trying to reserve resource for &quot;</span> &lt;&lt; NumCycles</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; cycles for \n&quot;</span>;</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>();</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    });</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = 0; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &lt; NumCycles; ++<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;      <span class="keywordflow">while</span> (RI != RE) {</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;        <span class="keywordflow">if</span> ((*RI)-&gt;canReserveResources(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;          (*RI)-&gt;reserveResources(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;          ++ReservedCycles;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;        }</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;        RI++;</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      }</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ReservedCycles:&quot;</span> &lt;&lt; ReservedCycles</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;, NumCycles:&quot;</span> &lt;&lt; NumCycles &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    <span class="comment">// Add new DFAs, if needed, to reserve resources.</span></div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = ReservedCycles; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &lt; NumCycles; ++<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>) <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;NewResource created to reserve resources&quot;</span></div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;      <span class="keyword">auto</span> *NewResource = TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#abe81e601b8bee5b30f838230fd86e39f">CreateTargetScheduleState</a>(*ST);</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewResource-&gt;canReserveResources(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; <span class="stringliteral">&quot;Reserve error.&quot;</span>);</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;      NewResource-&gt;reserveResources(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;      Resources.push_back(std::unique_ptr&lt;DFAPacketizer&gt;(NewResource));</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    }</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;  }</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160; </div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  <span class="keywordtype">int</span> Resmii = Resources.size();</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Return Res MII:&quot;</span> &lt;&lt; Resmii &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  <span class="keywordflow">return</span> Resmii;</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;}</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160; </div>
<div class="line"><a name="l03197"></a><span class="lineno"><a class="line" href="classllvm_1_1ResourceManager.html#a13a8c4d3fbc72e8e2f7080411e2ea9cf"> 3197</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1ResourceManager.html#a13a8c4d3fbc72e8e2f7080411e2ea9cf">ResourceManager::calculateResMII</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;  <span class="keywordflow">if</span> (UseDFA)</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="keywordflow">return</span> calculateResMIIDFA();</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160; </div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  <span class="comment">// Count each resource consumption and divide it by the number of units.</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  <span class="comment">// ResMII is the max value among them.</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160; </div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  <span class="keywordtype">int</span> NumMops = 0;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t&gt;</a> ResourceCount(SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>());</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    <span class="keywordflow">if</span> (TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a0ba282dba26451dcfbbc938444595d7e">isZeroCost</a>(SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()))</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160; </div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc = DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af3d65454da09651202a0f6f39e84462a">getSchedClass</a>(&amp;SU);</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <span class="keywordflow">if</span> (!SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#a03f7e8be243cde4843e2854d91bfa082">isValid</a>())</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160; </div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>) {</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;        DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aa5f22315c4064579fca6cd88fb36ea5a">dumpNode</a>(SU);</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  #Mops: &quot;</span> &lt;&lt; SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#ab7b0ef1f5af7f95492f8bf39415123f2">NumMicroOps</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;  WriteProcRes: &quot;</span>;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;      }</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    });</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    NumMops += SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#ab7b0ef1f5af7f95492f8bf39415123f2">NumMicroOps</a>;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1MCWriteProcResEntry.html">MCWriteProcResEntry</a> &amp;PRE :</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;         <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a0889f5abf71c45b0610d3fa148986eaf">getWriteProcResBegin</a>(SCDesc),</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;                    STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#aa6c00f0265f953f24b14b94a05f3b6d7">getWriteProcResEnd</a>(SCDesc))) {</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>) {</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;          <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCProcResourceDesc.html">MCProcResourceDesc</a> *Desc =</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;              SM.<a class="code" href="structllvm_1_1MCSchedModel.html#ad57c6f52887935df66e0892864e659b4">getProcResource</a>(PRE.ProcResourceIdx);</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; Desc-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a51dc4747a7d39650884bcf19daaf5f54">Name</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; PRE.Cycles &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;        }</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      });</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;      ResourceCount[PRE.ProcResourceIdx] += PRE.Cycles;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    }</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>) <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;  }</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160; </div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;  <span class="keywordtype">int</span> Result = (NumMops + IssueWidth - 1) / IssueWidth;</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>)</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;#Mops: &quot;</span> &lt;&lt; NumMops &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;IssueWidth: &quot;</span> &lt;&lt; IssueWidth &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;Cycles: &quot;</span> &lt;&lt; Result &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  });</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160; </div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>) {</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;      std::stringstream <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>;</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;      <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> &lt;&lt; std::setw(2) &lt;&lt; <span class="stringliteral">&quot;ID&quot;</span> &lt;&lt; std::setw(16) &lt;&lt; <span class="stringliteral">&quot;Name&quot;</span> &lt;&lt; std::setw(10)</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;Units&quot;</span> &lt;&lt; std::setw(10) &lt;&lt; <span class="stringliteral">&quot;Consumed&quot;</span> &lt;&lt; std::setw(10) &lt;&lt; <span class="stringliteral">&quot;Cycles&quot;</span></div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>.str();</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    }</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;  });</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCProcResourceDesc.html">MCProcResourceDesc</a> *Desc = SM.<a class="code" href="structllvm_1_1MCSchedModel.html#ad57c6f52887935df66e0892864e659b4">getProcResource</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;    <span class="keywordtype">int</span> Cycles = (ResourceCount[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] + Desc-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">NumUnits</a> - 1) / Desc-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">NumUnits</a>;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a>) {</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;        std::stringstream <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>;</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;        <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> &lt;&lt; std::setw(2) &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; std::setw(16) &lt;&lt; Desc-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a51dc4747a7d39650884bcf19daaf5f54">Name</a> &lt;&lt; std::setw(10)</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;           &lt;&lt; Desc-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">NumUnits</a> &lt;&lt; std::setw(10) &lt;&lt; ResourceCount[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;           &lt;&lt; std::setw(10) &lt;&lt; Cycles &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>.str();</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;      }</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    });</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;    <span class="keywordflow">if</span> (Cycles &gt; Result)</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;      Result = Cycles;</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;  }</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;}</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160; </div>
<div class="line"><a name="l03272"></a><span class="lineno"><a class="line" href="classllvm_1_1ResourceManager.html#ad2b7c7856215eac794f24f04aa43b93a"> 3272</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ResourceManager.html#ad2b7c7856215eac794f24f04aa43b93a">ResourceManager::init</a>(<span class="keywordtype">int</span> II) {</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;  InitiationInterval = II;</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  DFAResources.clear();</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;  DFAResources.resize(II);</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : DFAResources)</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.reset(ST-&gt;getInstrInfo()-&gt;CreateTargetScheduleState(*ST));</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  MRT.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;  MRT.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(II, <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t&gt;</a>(SM.<a class="code" href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">getNumProcResourceKinds</a>()));</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;  NumScheduledMops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;  NumScheduledMops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(II);</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html">llvm::SwingSchedulerDAG</a></div><div class="ttdoc">This class builds the dependence graph for the instructions in a loop, and attempts to schedule the i...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00114">MachinePipeliner.h:114</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a3fb8c57a2275283cbb376004421318da"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a3fb8c57a2275283cbb376004421318da">computeLiveOuts</a></div><div class="ttdeci">static void computeLiveOuts(MachineFunction &amp;MF, RegPressureTracker &amp;RPTracker, NodeSet &amp;NS)</div><div class="ttdoc">Compute the live-out registers for the instructions in a node-set.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l01550">MachinePipeliner.cpp:1550</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1Option_html_aff26f51638ce6d5092d90b8d2ff9dcfb"><div class="ttname"><a href="classllvm_1_1cl_1_1Option.html#aff26f51638ce6d5092d90b8d2ff9dcfb">llvm::cl::Option::getPosition</a></div><div class="ttdeci">unsigned getPosition() const</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00304">CommandLine.h:304</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a1b09f4d9c91e25f7bc2ac60b3b929d11"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">llvm::ScheduleDAG::MRI</a></div><div class="ttdeci">MachineRegisterInfo &amp; MRI</div><div class="ttdoc">Virtual/real register map.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00560">ScheduleDAG.h:560</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubtargetInfo_html_aa6c00f0265f953f24b14b94a05f3b6d7"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#aa6c00f0265f953f24b14b94a05f3b6d7">llvm::MCSubtargetInfo::getWriteProcResEnd</a></div><div class="ttdeci">const MCWriteProcResEntry * getWriteProcResEnd(const MCSchedClassDesc *SC) const</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00171">MCSubtargetInfo.h:171</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a7bfbe897bc5c1a0c0fbfac15d237b0b4"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a7bfbe897bc5c1a0c0fbfac15d237b0b4">isDependenceBarrier</a></div><div class="ttdeci">static bool isDependenceBarrier(MachineInstr &amp;MI)</div><div class="ttdoc">Return true if the instruction causes a chain between memory references before and after it.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00729">MachinePipeliner.cpp:729</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a638adb0164c943dd67f6042cb431096b"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a638adb0164c943dd67f6042cb431096b">isIntersect</a></div><div class="ttdeci">static bool isIntersect(SmallSetVector&lt; SUnit *, 8 &gt; &amp;Set1, const NodeSet &amp;Set2, SmallSetVector&lt; SUnit *, 8 &gt; &amp;Result)</div><div class="ttdoc">Return true if Set1 contains elements in Set2.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l01763">MachinePipeliner.cpp:1763</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGTopologicalSort_html_a10a769ee13a9d9298d2c2b887dfae250"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#a10a769ee13a9d9298d2c2b887dfae250">llvm::ScheduleDAGTopologicalSort::RemovePred</a></div><div class="ttdeci">void RemovePred(SUnit *M, SUnit *N)</div><div class="ttdoc">Updates the topological ordering to accommodate an an edge to be removed from the specified node N fr...</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00568">ScheduleDAG.cpp:568</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo_html_ac80ee8cb2c02915c24dd294ed95ac57b"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo.html#ac80ee8cb2c02915c24dd294ed95ac57b">llvm::TargetInstrInfo::PipelinerLoopInfo::shouldUseSchedule</a></div><div class="ttdeci">virtual bool shouldUseSchedule(SwingSchedulerDAG &amp;SSD, SMSchedule &amp;SMS)</div><div class="ttdoc">Return true if the proposed schedule should used.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00742">TargetInstrInfo.h:742</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_afbbc2492f83b9a1b2b2b850283240272"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#afbbc2492f83b9a1b2b2b850283240272">llvm::TargetInstrInfo::getMemOperandWithOffset</a></div><div class="ttdeci">bool getMemOperandWithOffset(const MachineInstr &amp;MI, const MachineOperand *&amp;BaseOp, int64_t &amp;Offset, bool &amp;OffsetIsScalable, const TargetRegisterInfo *TRI) const</div><div class="ttdoc">Get the base operand and byte offset of an instruction that reads/writes memory.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l01204">TargetInstrInfo.cpp:1204</a></div></div>
<div class="ttc" id="aScheduleDAG_8h_html"><div class="ttname"><a href="ScheduleDAG_8h.html">ScheduleDAG.h</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00492">Compiler.h:492</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_aeb7ed55cb8c1a11bf7f3b9a1a46a046f"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#aeb7ed55cb8c1a11bf7f3b9a1a46a046f">llvm::RegPressureTracker::addLiveRegs</a></div><div class="ttdeci">void addLiveRegs(ArrayRef&lt; RegisterMaskPair &gt; Regs)</div><div class="ttdoc">Force liveness of virtual registers or physical register units.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00706">RegisterPressure.cpp:706</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html_a4863e5e463fb79955269fbf7fbf52b80"><div class="ttname"><a href="classllvm_1_1Pass.html#a4863e5e463fb79955269fbf7fbf52b80">llvm::Pass::getAnalysis</a></div><div class="ttdeci">AnalysisType &amp; getAnalysis() const</div><div class="ttdoc">getAnalysis&lt;AnalysisType&gt;() - This function is used by subclasses to get to the analysis information ...</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00230">PassAnalysisSupport.h:230</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_abb4ce3bc3096a12d4b93460bf78bcf95"><div class="ttname"><a href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in it</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00081">README-SSE.txt:81</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_a6cf2f8996b1e9aaf2d7a435aaa62382f"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a></div><div class="ttdeci">MachineInstrBuilder &amp; UseMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00107">AArch64ExpandPseudoInsts.cpp:107</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38740a7e3fde66312240ec2cbf003fc2"><div class="ttname"><a href="namespacellvm.html#a38740a7e3fde66312240ec2cbf003fc2">llvm::set_is_subset</a></div><div class="ttdeci">bool set_is_subset(const S1Ty &amp;S1, const S2Ty &amp;S2)</div><div class="ttdoc">set_is_subset(A, B) - Return true iff A in B</div><div class="ttdef"><b>Definition:</b> <a href="SetOperations_8h_source.html#l00072">SetOperations.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a11045c7973ab24a8d6315b61fa337d4e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a11045c7973ab24a8d6315b61fa337d4e">llvm::SmallPtrSetImpl::erase</a></div><div class="ttdeci">bool erase(PtrType Ptr)</div><div class="ttdoc">erase - If the set contains the specified pointer, remove it and return true, otherwise return false.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00379">SmallPtrSet.h:379</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a191e89dbc4939ebd0b572cae44aac05f">llvm::AArch64CC::NE</a></div><div class="ttdeci">@ NE</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00256">AArch64BaseInfo.h:256</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a546474d44555862f8a6ad0429a0c6874"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a546474d44555862f8a6ad0429a0c6874">ExperimentalCodeGen</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ExperimentalCodeGen(&quot;pipeliner-experimental-cg&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;Use the experimental peeling code generator for software pipelining&quot;))</div></div>
<div class="ttc" id="astructllvm_1_1MachinePipeliner_1_1LoopInfo_html_a17c9473dcf3cf7c4fa8a6db628408ecb"><div class="ttname"><a href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a17c9473dcf3cf7c4fa8a6db628408ecb">llvm::MachinePipeliner::LoopInfo::FBB</a></div><div class="ttdeci">MachineBasicBlock * FBB</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00085">MachinePipeliner.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_ae3334289ef55f4f25b59ce3e4665a4b3"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#ae3334289ef55f4f25b59ce3e4665a4b3">llvm::SwingSchedulerDAG::getHeight</a></div><div class="ttdeci">unsigned getHeight(SUnit *Node)</div><div class="ttdoc">The height, in the dependence graph, for a node.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00240">MachinePipeliner.h:240</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a47f63b6ab42a97ca3b5346b6c7093b09"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a47f63b6ab42a97ca3b5346b6c7093b09">llvm::SwingSchedulerDAG::finishBlock</a></div><div class="ttdeci">void finishBlock() override</div><div class="ttdoc">Clean up after the software pipeliner runs.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00671">MachinePipeliner.cpp:671</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a856266240556bbae90bc5ba75c156eef"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a856266240556bbae90bc5ba75c156eef">llvm::MachineBasicBlock::getBasicBlock</a></div><div class="ttdeci">const BasicBlock * getBasicBlock() const</div><div class="ttdoc">Return the LLVM basic block that this instance corresponded to originally.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00213">MachineBasicBlock.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_a2a59bac3131695df6254a8db3205caeb"><div class="ttname"><a href="classllvm_1_1NodeSet.html#a2a59bac3131695df6254a8db3205caeb">llvm::NodeSet::print</a></div><div class="ttdeci">void print(raw_ostream &amp;os) const</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02950">MachinePipeliner.cpp:2950</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5c77792a06583e0fe7a0379ad94a2809"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">llvm::MachineRegisterInfo::createVirtualRegister</a></div><div class="ttdeci">Register createVirtualRegister(const TargetRegisterClass *RegClass, StringRef Name=&quot;&quot;)</div><div class="ttdoc">createVirtualRegister - Create and return a new virtual register in the function with the specified r...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00157">MachineRegisterInfo.cpp:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuloScheduleExpander_html_a1e6babf78504a9699ed219fab9ce3460"><div class="ttname"><a href="classllvm_1_1ModuloScheduleExpander.html#a1e6babf78504a9699ed219fab9ce3460">llvm::ModuloScheduleExpander::cleanup</a></div><div class="ttdeci">void cleanup()</div><div class="ttdoc">Performs final cleanup after expansion.</div><div class="ttdef"><b>Definition:</b> <a href="ModuloSchedule_8cpp_source.html#l00184">ModuloSchedule.cpp:184</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1"><div class="ttname"><a href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">llvm::SDep::Artificial</a></div><div class="ttdeci">@ Artificial</div><div class="ttdoc">Arbitrary strong DAG edge (no real dependence).</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00072">ScheduleDAG.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_acdacc30450012997ebfeb3c681460349"><div class="ttname"><a href="classllvm_1_1NodeSet.html#acdacc30450012997ebfeb3c681460349">llvm::NodeSet::dump</a></div><div class="ttdeci">LLVM_DUMP_METHOD void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02976">MachinePipeliner.cpp:2976</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuloSchedule_html"><div class="ttname"><a href="classllvm_1_1ModuloSchedule.html">llvm::ModuloSchedule</a></div><div class="ttdoc">Represents a schedule for a single-block loop.</div><div class="ttdef"><b>Definition:</b> <a href="ModuloSchedule_8h_source.html#l00079">ModuloSchedule.h:79</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3fcc5dd5761a39e49a520403297c1e50"><div class="ttname"><a href="namespacellvm.html#a3fcc5dd5761a39e49a520403297c1e50">llvm::SwpForceIssueWidth</a></div><div class="ttdeci">cl::opt&lt; int &gt; SwpForceIssueWidth</div><div class="ttdoc">A command line argument to force pipeliner to use specified issue width.</div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a14264dd1005928d7800371d07bcba2f5"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a14264dd1005928d7800371d07bcba2f5">SwpLoopLimit</a></div><div class="ttdeci">static cl::opt&lt; int &gt; SwpLoopLimit(&quot;pipeliner-max&quot;, cl::Hidden, cl::init(-1))</div></div>
<div class="ttc" id="aMCInstrDesc_8h_html"><div class="ttname"><a href="MCInstrDesc_8h.html">MCInstrDesc.h</a></div></div>
<div class="ttc" id="aSetOperations_8h_html"><div class="ttname"><a href="SetOperations_8h.html">SetOperations.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_a3865445f87352e6d873372d5b340fac6"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#a3865445f87352e6d873372d5b340fac6">llvm::MachinePipeliner::MF</a></div><div class="ttdeci">MachineFunction * MF</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00068">MachinePipeliner.h:68</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubtargetInfo_html_af15578b4490afbb57377b0ee83d376bb"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#af15578b4490afbb57377b0ee83d376bb">llvm::MCSubtargetInfo::getSchedModel</a></div><div class="ttdeci">const MCSchedModel &amp; getSchedModel() const</div><div class="ttdoc">Get the machine model for this subtarget's CPU.</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00163">MCSubtargetInfo.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0b2ca98dc28c61793ff5c90d23e5f14e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::lookup</a></div><div class="ttdeci">ValueT lookup(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">lookup - Return the entry for the specified key, or a default constructed value if no such entry exis...</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00197">DenseMap.h:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_ab580983de4f7b69ebcca992be9cb3223"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#ab580983de4f7b69ebcca992be9cb3223">llvm::ScheduleDAGInstrs::buildSchedGraph</a></div><div class="ttdeci">void buildSchedGraph(AAResults *AA, RegPressureTracker *RPTracker=nullptr, PressureDiffs *PDiffs=nullptr, LiveIntervals *LIS=nullptr, bool TrackLaneMasks=false)</div><div class="ttdoc">Builds SUnits for the current region.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00726">ScheduleDAGInstrs.cpp:726</a></div></div>
<div class="ttc" id="aclassllvm_1_1ResourceManager_html_ad2b7c7856215eac794f24f04aa43b93a"><div class="ttname"><a href="classllvm_1_1ResourceManager.html#ad2b7c7856215eac794f24f04aa43b93a">llvm::ResourceManager::init</a></div><div class="ttdeci">void init(int II)</div><div class="ttdoc">Initialize resources with the initiation interval II.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l03272">MachinePipeliner.cpp:3272</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aa5ff177bc1498508696aaf27235db3fc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aa5ff177bc1498508696aaf27235db3fc">llvm::MachineInstr::memoperands_begin</a></div><div class="ttdeci">mmo_iterator memoperands_begin() const</div><div class="ttdoc">Access to memory operands of the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00731">MachineInstr.h:731</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa81eb67f09ee4944eaeeddbc54c0c0de"><div class="ttname"><a href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a></div><div class="ttdeci">auto lower_bound(R &amp;&amp;Range, T &amp;&amp;Value)</div><div class="ttdoc">Provide wrappers to std::lower_bound which take ranges instead of having to pass begin/end explicitly...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01923">STLExtras.h:1923</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a18b9d328d2490f447589ba60345eba6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Determine the number of elements in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00077">SetVector.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa9a507e59c5cebcb4277894157ceebb3"><div class="ttname"><a href="namespacellvm.html#aa9a507e59c5cebcb4277894157ceebb3">llvm::MachinePipelinerID</a></div><div class="ttdeci">char &amp; MachinePipelinerID</div><div class="ttdoc">This pass performs software pipelining on machine instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00198">MachinePipeliner.cpp:198</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_a9e0c12b5996d287dca5fa937977ac184"><div class="ttname"><a href="classllvm_1_1NodeSet.html#a9e0c12b5996d287dca5fa937977ac184">llvm::NodeSet::compareRecMII</a></div><div class="ttdeci">int compareRecMII(NodeSet &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00382">MachinePipeliner.h:382</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_ae091b147039557cf8ce505740e7ff7ac"><div class="ttname"><a href="classllvm_1_1MapVector.html#ae091b147039557cf8ce505740e7ff7ac">llvm::MapVector::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00089">MapVector.h:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00279">RISCVBaseInfo.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGTopologicalSort_html_af5fef42e8e1d446cf5e185b14dd4b8af"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#af5fef42e8e1d446cf5e185b14dd4b8af">llvm::ScheduleDAGTopologicalSort::IsReachable</a></div><div class="ttdeci">bool IsReachable(const SUnit *SU, const SUnit *TargetSU)</div><div class="ttdoc">Checks if SU is reachable from TargetSU.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00725">ScheduleDAG.cpp:725</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a03a564c2840cb8d27314596549fc04b8"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a03a564c2840cb8d27314596549fc04b8">llvm::MCInstrDesc::getSchedClass</a></div><div class="ttdeci">unsigned getSchedClass() const</div><div class="ttdoc">Return the scheduling class for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00596">MCInstrDesc.h:596</a></div></div>
<div class="ttc" id="aCycleAnalysis_8h_html"><div class="ttname"><a href="CycleAnalysis_8h.html">CycleAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_afa0fb135809edd33ea2b3d0497aa610c"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#afa0fb135809edd33ea2b3d0497aa610c">llvm::MachineMemOperand::getOffset</a></div><div class="ttdeci">int64_t getOffset() const</div><div class="ttdoc">For normal values, this is a byte offset added to the base address.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00226">MachineMemOperand.h:226</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a3338cf03496688897abc2cc959bf9f17"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a3338cf03496688897abc2cc959bf9f17">getLoopPhiReg</a></div><div class="ttdeci">static unsigned getLoopPhiReg(MachineInstr &amp;Phi, MachineBasicBlock *LoopBB)</div><div class="ttdoc">Return the Phi register value that comes the loop block.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00698">MachinePipeliner.cpp:698</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_ae26138aceef07cf5465c2840b437e1d8"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#ae26138aceef07cf5465c2840b437e1d8">llvm::SMSchedule::normalizeNonPipelinedInstructions</a></div><div class="ttdeci">bool normalizeNonPipelinedInstructions(SwingSchedulerDAG *SSD, TargetInstrInfo::PipelinerLoopInfo *PLI)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02693">MachinePipeliner.cpp:2693</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a81a7a766bf335ed8ae384a868f9e8c7a"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a81a7a766bf335ed8ae384a868f9e8c7a">EnableSWP</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableSWP(&quot;enable-pipeliner&quot;, cl::Hidden, cl::init(true), cl::desc(&quot;Enable Software Pipelining&quot;))</div><div class="ttdoc">A command line option to turn software pipelining on or off.</div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_a615131659002c10601eef598d42d025e"><div class="ttname"><a href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">llvm::Loop::getStartLoc</a></div><div class="ttdeci">DebugLoc getStartLoc() const</div><div class="ttdoc">Return the debug location of the start of this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00631">LoopInfo.cpp:631</a></div></div>
<div class="ttc" id="aMapVector_8h_html"><div class="ttname"><a href="MapVector_8h.html">MapVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html_a9ebdc17e55980f1a8176d376d9e2a323"><div class="ttname"><a href="classllvm_1_1AAResults.html#a9ebdc17e55980f1a8176d376d9e2a323">llvm::AAResults::isNoAlias</a></div><div class="ttdeci">bool isNoAlias(const MemoryLocation &amp;LocA, const MemoryLocation &amp;LocB)</div><div class="ttdoc">A trivial helper function to check to see if the specified pointers are no-alias.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00348">AliasAnalysis.h:348</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_af988c2b4f62506108843a0fdc04b43a2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">llvm::MachineRegisterInfo::getUniqueVRegDef</a></div><div class="ttdeci">MachineInstr * getUniqueVRegDef(Register Reg) const</div><div class="ttdoc">getUniqueVRegDef - Return the unique machine instr that defines the specified virtual register or nul...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00409">MachineRegisterInfo.cpp:409</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">llvm::SDep::Anti</a></div><div class="ttdeci">@ Anti</div><div class="ttdoc">A register anti-dependence (aka WAR).</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00054">ScheduleDAG.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a87416d44c85818861fe0152759e9acb1"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a87416d44c85818861fe0152759e9acb1">llvm::SwingSchedulerDAG::schedule</a></div><div class="ttdeci">void schedule() override</div><div class="ttdoc">We override the schedule function in ScheduleDAGInstrs to implement the scheduling part of the Swing ...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00492">MachinePipeliner.cpp:492</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator.html">llvm::MachineRegisterInfo::defusechain_instr_iterator</a></div><div class="ttdoc">defusechain_iterator - This class provides iterator support for machine operands in the function that...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00291">MachineRegisterInfo.h:291</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="astructllvm_1_1MCProcResourceDesc_html_a9d4d0cc34fcce4779dc4445d8265fffc"><div class="ttname"><a href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">llvm::MCProcResourceDesc::NumUnits</a></div><div class="ttdeci">unsigned NumUnits</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00033">MCSchedule.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1IntervalPressure_html"><div class="ttname"><a href="structllvm_1_1IntervalPressure.html">llvm::IntervalPressure</a></div><div class="ttdoc">RegisterPressure computed within a region of instructions delimited by TopIdx and BottomIdx.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00067">RegisterPressure.h:67</a></div></div>
<div class="ttc" id="aMachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_abad7acab35011a44c64d2e132574d59e"><div class="ttname"><a href="classllvm_1_1SetVector.html#abad7acab35011a44c64d2e132574d59e">llvm::SetVector::iterator</a></div><div class="ttdeci">typename vector_type::const_iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00048">SetVector.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a87849514193302b75f50a8092f94b98a"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">llvm::TargetSubtargetInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - If register information is available, return it.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00127">TargetSubtargetInfo.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a2feaa1c69335c6b9028076cd68c7a5f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">llvm::MachineOperand::setImm</a></div><div class="ttdeci">void setImm(int64_t immVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00684">MachineOperand.h:684</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab622d694b5fcb0edb99159f1ebdcdb6b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">llvm::MachineBasicBlock::findDebugLoc</a></div><div class="ttdeci">DebugLoc findDebugLoc(instr_iterator MBBI)</div><div class="ttdoc">Find the next valid DebugLoc starting at MBBI, skipping any DBG_VALUE and DBG_LABEL instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01397">MachineBasicBlock.cpp:1397</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a84745d56fb8cf6fbd5a673175174af66"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a84745d56fb8cf6fbd5a673175174af66">EnableSWPOptSize</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableSWPOptSize(&quot;enable-pipeliner-opt-size&quot;, cl::desc(&quot;Enable SWP at Os.&quot;), cl::Hidden, cl::init(false))</div><div class="ttdoc">A command line option to enable SWP at -Os.</div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732">llvm::SDep::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdoc">These are the different kinds of scheduling dependencies.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00052">ScheduleDAG.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a9fffac2512fe651f0d5e37e27f5bd51c"><div class="ttname"><a href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">getContext - Return a reference to the LLVMContext associated with this function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00315">Function.cpp:315</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html">llvm::RegPressureTracker</a></div><div class="ttdoc">Track the current register pressure at some position in the instruction stream, and remember the high...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00357">RegisterPressure.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a60c8658c657286e8cd084bf2e9c48eda"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a60c8658c657286e8cd084bf2e9c48eda">llvm::MachineInstr::getDesc</a></div><div class="ttdeci">const MCInstrDesc &amp; getDesc() const</div><div class="ttdoc">Returns the target instruction descriptor of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00513">MachineInstr.h:513</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_af454ffcb2775e8a8abf663da93a0a438"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#af454ffcb2775e8a8abf663da93a0a438">llvm::TargetInstrInfo::getIncrementValue</a></div><div class="ttdeci">virtual bool getIncrementValue(const MachineInstr &amp;MI, int &amp;Value) const</div><div class="ttdoc">If the instruction is an increment of a constant value, return the amount.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01433">TargetInstrInfo.h:1433</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdoc">A description of a memory reference used in the backend.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00127">MachineMemOperand.h:127</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterMaskPair_html"><div class="ttname"><a href="structllvm_1_1RegisterMaskPair.html">llvm::RegisterMaskPair</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00038">RegisterPressure.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a7481e8a30019a2c7c9231e5a29d12af6"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a7481e8a30019a2c7c9231e5a29d12af6">llvm::SwingSchedulerDAG::isLoopCarriedDep</a></div><div class="ttdeci">bool isLoopCarriedDep(SUnit *Source, const SDep &amp;Dep, bool isSucc=true)</div><div class="ttdoc">Return true for an order or output dependence that is loop carried potentially.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02233">MachinePipeliner.cpp:2233</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_abe81e601b8bee5b30f838230fd86e39f"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#abe81e601b8bee5b30f838230fd86e39f">llvm::TargetInstrInfo::CreateTargetScheduleState</a></div><div class="ttdeci">virtual DFAPacketizer * CreateTargetScheduleState(const TargetSubtargetInfo &amp;) const</div><div class="ttdoc">Create machine specific model for scheduling.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01833">TargetInstrInfo.h:1833</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_affef39ac05819f83b1bd91be0ef7430e"><div class="ttname"><a href="MachinePipeliner_8cpp.html#affef39ac05819f83b1bd91be0ef7430e">multipleIterations</a></div><div class="ttdeci">static SUnit * multipleIterations(SUnit *SU, SwingSchedulerDAG *DAG)</div><div class="ttdoc">If an instruction has a use that spans multiple iterations, then return true.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02415">MachinePipeliner.cpp:2415</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_aab4a86c51e6b126c9c6ef58dbb574431"><div class="ttname"><a href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">llvm::SUnit::Succs</a></div><div class="ttdeci">SmallVector&lt; SDep, 4 &gt; Succs</div><div class="ttdoc">All sunit successors.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00257">ScheduleDAG.h:257</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_af017e4f5d1e914a3f28c0ed6a6e0375d"><div class="ttname"><a href="MachinePipeliner_8cpp.html#af017e4f5d1e914a3f28c0ed6a6e0375d">ignoreDependence</a></div><div class="ttdeci">static bool ignoreDependence(const SDep &amp;D, bool isPred)</div><div class="ttdoc">Return true for DAG nodes that we ignore when computing the cost functions.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l01379">MachinePipeliner.cpp:1379</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_a9679eda65da04e63b0fc49644be06685"><div class="ttname"><a href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">i1</a></div><div class="ttdeci">Decimal Convert From to National Zoned Signed int_ppc_altivec_bcdcfno i1</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00147">README_P9.txt:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a1912d4fbc40c61a12b1f770ad54dfd74"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1912d4fbc40c61a12b1f770ad54dfd74">llvm::MachineInstr::isCopy</a></div><div class="ttdeci">bool isCopy() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01344">MachineInstr.h:1344</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html"><div class="ttname"><a href="classllvm_1_1MapVector.html">llvm::MapVector</a></div><div class="ttdoc">This class implements a map that also provides access to all stored values in a deterministic order.</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00037">MapVector.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a8f5533240c6722d987a2443cba42019d"><div class="ttname"><a href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">llvm::ore::NV</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::Argument NV</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00136">OptimizationRemarkEmitter.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_aafdb9280bf95dfeed0282509233ebe29"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#aafdb9280bf95dfeed0282509233ebe29">llvm::SwingSchedulerDAG::getZeroLatencyHeight</a></div><div class="ttdeci">int getZeroLatencyHeight(SUnit *Node)</div><div class="ttdoc">The maximum unweighted length of a path from the given node to an arbitrary node in which each edge h...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00244">MachinePipeliner.h:244</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="astructllvm_1_1MCWriteProcResEntry_html"><div class="ttname"><a href="structllvm_1_1MCWriteProcResEntry.html">llvm::MCWriteProcResEntry</a></div><div class="ttdoc">Identify one of the processor resource kinds consumed by a particular scheduling class for the specif...</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00063">MCSchedule.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_ae8ae83c6b97940d6cdcaeb6d1cd088fb"><div class="ttname"><a href="classllvm_1_1NodeSet.html#ae8ae83c6b97940d6cdcaeb6d1cd088fb">llvm::NodeSet::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00370">MachinePipeliner.h:370</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a2eff58d9105525f19d5cbe2fa6969d6e"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a2eff58d9105525f19d5cbe2fa6969d6e">llvm::SMSchedule::insert</a></div><div class="ttdeci">bool insert(SUnit *SU, int StartCycle, int EndCycle, int II)</div><div class="ttdoc">Try to schedule the node at the specified StartCycle and continue until the node is schedule or the E...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02327">MachinePipeliner.cpp:2327</a></div></div>
<div class="ttc" id="aclassllvm_1_1PeelingModuloScheduleExpander_html"><div class="ttname"><a href="classllvm_1_1PeelingModuloScheduleExpander.html">llvm::PeelingModuloScheduleExpander</a></div><div class="ttdoc">A reimplementation of ModuloScheduleExpander.</div><div class="ttdef"><b>Definition:</b> <a href="ModuloSchedule_8h_source.html#l00282">ModuloSchedule.h:282</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePipeliner_1_1LoopInfo_html_a60648541ea73bc227d02e58ad6296cf8"><div class="ttname"><a href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a60648541ea73bc227d02e58ad6296cf8">llvm::MachinePipeliner::LoopInfo::BrCond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; BrCond</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00086">MachinePipeliner.h:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuloScheduleExpander_html_a772c336d26015c2e6fb5efc62cf166be"><div class="ttname"><a href="classllvm_1_1ModuloScheduleExpander.html#a772c336d26015c2e6fb5efc62cf166be">llvm::ModuloScheduleExpander::expand</a></div><div class="ttdeci">void expand()</div><div class="ttdoc">Performs the actual expansion.</div><div class="ttdef"><b>Definition:</b> <a href="ModuloSchedule_8cpp_source.html#l00067">ModuloSchedule.cpp:67</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_afb7eb76495516bcbe48a9462928b562f"><div class="ttname"><a href="MachinePipeliner_8cpp.html#afb7eb76495516bcbe48a9462928b562f">computePath</a></div><div class="ttdeci">static bool computePath(SUnit *Cur, SetVector&lt; SUnit * &gt; &amp;Path, SetVector&lt; SUnit * &gt; &amp;DestNodes, SetVector&lt; SUnit * &gt; &amp;Exclude, SmallPtrSet&lt; SUnit *, 8 &gt; &amp;Visited)</div><div class="ttdoc">Return true if there is a path from the specified node to any of the nodes in DestNodes.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l01521">MachinePipeliner.cpp:1521</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_ad4e46eec152e23bfb02096e53bde67da"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#ad4e46eec152e23bfb02096e53bde67da">llvm::MachineMemOperand::getAAInfo</a></div><div class="ttdeci">AAMDNodes getAAInfo() const</div><div class="ttdoc">Return the AA tags for the memory reference.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00257">MachineMemOperand.h:257</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a7b70973026b6cdbedc399514f89de236"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a7b70973026b6cdbedc399514f89de236">SwpMaxMii</a></div><div class="ttdeci">static cl::opt&lt; int &gt; SwpMaxMii(&quot;pipeliner-max-mii&quot;, cl::desc(&quot;Size limit for the MII.&quot;), cl::Hidden, cl::init(27))</div><div class="ttdoc">A command line argument to limit minimum initial interval for pipelining.</div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">llvm::cl::ReallyHidden</a></div><div class="ttdeci">@ ReallyHidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00139">CommandLine.h:139</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a538eb476b0078602f2ae41bac75c98a5"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a538eb476b0078602f2ae41bac75c98a5">EmitTestAnnotations</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EmitTestAnnotations(&quot;pipeliner-annotate-for-testing&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;Instead of emitting the pipelined code, annotate instructions &quot; &quot;with the generated schedule for feeding into the &quot; &quot;-modulo-schedule-test pass&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a261ee3c4745564c7be9283984c9af06b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a261ee3c4745564c7be9283984c9af06b">llvm::LoopBase::getNumBlocks</a></div><div class="ttdeci">unsigned getNumBlocks() const</div><div class="ttdoc">Get the number of blocks in this loop in constant time.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00202">LoopInfo.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstrItineraryData_html_a19286832b171770cc13c4346889a7372"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#a19286832b171770cc13c4346889a7372">llvm::InstrItineraryData::endStage</a></div><div class="ttdeci">const InstrStage * endStage(unsigned ItinClassIndx) const</div><div class="ttdoc">Return the last+1 stage of the itinerary.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00141">MCInstrItineraries.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html_a864fd57b4304ef933b3281d0ef85a88e"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00167">MachineFunctionPass.cpp:167</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedClassDesc_html_a03f7e8be243cde4843e2854d91bfa082"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html#a03f7e8be243cde4843e2854d91bfa082">llvm::MCSchedClassDesc::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00127">MCSchedule.h:127</a></div></div>
<div class="ttc" id="aRegisterPressure_8h_html"><div class="ttname"><a href="RegisterPressure_8h.html">RegisterPressure.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00089">MachineLoopInfo.h:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aabc3917d917c6247778c88107945d13b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">llvm::MachineInstr::hasOrderedMemoryRef</a></div><div class="ttdeci">bool hasOrderedMemoryRef() const</div><div class="ttdoc">Return true if this instruction may have an ordered or volatile memory reference, or if the informati...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01384">MachineInstr.cpp:1384</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d4a3c2c8043edf34e3c2a693e92bd6a"><div class="ttname"><a href="namespacellvm.html#a0d4a3c2c8043edf34e3c2a693e92bd6a">llvm::SwpEnableCopyToPhi</a></div><div class="ttdeci">cl::opt&lt; bool &gt; SwpEnableCopyToPhi</div></div>
<div class="ttc" id="aARMLowOverheadLoops_8cpp_html_a0a0971d62011c35b29ff4a2325d45e93"><div class="ttname"><a href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a></div><div class="ttdeci">SmallPtrSet&lt; MachineInstr *, 2 &gt; Uses</div><div class="ttdef"><b>Definition:</b> <a href="ARMLowOverheadLoops_8cpp_source.html#l00590">ARMLowOverheadLoops.cpp:590</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedModel_html_a5268bc4b5673e84a8f75df74b024d374"><div class="ttname"><a href="structllvm_1_1MCSchedModel.html#a5268bc4b5673e84a8f75df74b024d374">llvm::MCSchedModel::getNumProcResourceKinds</a></div><div class="ttdeci">unsigned getNumProcResourceKinds() const</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00335">MCSchedule.h:335</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aa4068e37ec583962685e3567dc102ae5"><div class="ttname"><a href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">llvm::MDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return number of MDNode operands.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01297">Metadata.h:1297</a></div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a75b245e9ae0e3d67d8485468580f360f"><div class="ttname"><a href="classllvm_1_1SDep.html#a75b245e9ae0e3d67d8485468580f360f">llvm::SDep::isArtificial</a></div><div class="ttdeci">bool isArtificial() const</div><div class="ttdoc">Tests if this is an Order dependence that is marked as &quot;artificial&quot;, meaning it isn't necessary for c...</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00200">ScheduleDAG.h:200</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_adc6a728bf35f2a3eb9aae797607ad621"><div class="ttname"><a href="MachinePipeliner_8cpp.html#adc6a728bf35f2a3eb9aae797607ad621">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(MachinePipeliner, DEBUG_TYPE, &quot;Modulo Software Pipelining&quot;, false, false) INITIALIZE_PASS_END(MachinePipeliner</div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_a3dbb15dd63d718a269026b7cd1fcd93d"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#a3dbb15dd63d718a269026b7cd1fcd93d">llvm::MachinePipeliner::LI</a></div><div class="ttdeci">LoopInfo LI</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00092">MachinePipeliner.h:92</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a0ba282dba26451dcfbbc938444595d7e"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a0ba282dba26451dcfbbc938444595d7e">llvm::TargetInstrInfo::isZeroCost</a></div><div class="ttdeci">bool isZeroCost(unsigned Opcode) const</div><div class="ttdoc">Return true for pseudo instructions that don't consume any machine resources in their current form.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01650">TargetInstrInfo.h:1650</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemark_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemark.html">llvm::MachineOptimizationRemark</a></div><div class="ttdoc">Diagnostic information for applied optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00058">MachineOptimizationRemarkEmitter.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo.html">llvm::TargetInstrInfo::PipelinerLoopInfo</a></div><div class="ttdoc">Object returned by analyzeLoopForPipelining.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00731">TargetInstrInfo.h:731</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a7406c398c67e53ee3937bf2b6df1c64e"><div class="ttname"><a href="classllvm_1_1SUnit.html#a7406c398c67e53ee3937bf2b6df1c64e">llvm::SUnit::isBoundaryNode</a></div><div class="ttdeci">bool isBoundaryNode() const</div><div class="ttdoc">Boundary nodes are placeholders for the boundary of the scheduling region.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00344">ScheduleDAG.h:344</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">llvm::X86AS::SS</a></div><div class="ttdeci">@ SS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00202">X86.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aMCInstrItineraries_8h_html"><div class="ttname"><a href="MCInstrItineraries_8h.html">MCInstrItineraries.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a6d3233165db1e6be5c44060cd4a95461"><div class="ttname"><a href="classllvm_1_1SUnit.html#a6d3233165db1e6be5c44060cd4a95461">llvm::SUnit::removePred</a></div><div class="ttdeci">void removePred(const SDep &amp;D)</div><div class="ttdoc">Removes the specified edge as a pred of the current node if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00175">ScheduleDAG.cpp:175</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a31669aae44fa7e6414dd5cd81e2b16f8">llvm::NodeOrder</a></div><div class="ttdeci">@ NodeOrder</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00037">SIMachineScheduler.h:37</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a7e3e54c1843be55179d4215efe20bb87"><div class="ttname"><a href="namespacellvm_1_1cl.html#a7e3e54c1843be55179d4215efe20bb87">llvm::cl::apply</a></div><div class="ttdeci">void apply(Opt *O, const Mod &amp;M, const Mods &amp;... Ms)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01298">CommandLine.h:1298</a></div></div>
<div class="ttc" id="aMachineLoopInfo_8h_html"><div class="ttname"><a href="MachineLoopInfo_8h.html">MachineLoopInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a28f3076bd731bbacde0d9b9655481b35"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a28f3076bd731bbacde0d9b9655481b35">llvm::SMSchedule::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdoc">Utility function used for debugging to print the schedule.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02975">MachinePipeliner.cpp:2975</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00294">AliasAnalysis.h:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a8178869538b9f4c60c81f602517ef615"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a8178869538b9f4c60c81f602517ef615">llvm::SwingSchedulerDAG::getDistance</a></div><div class="ttdeci">unsigned getDistance(SUnit *U, SUnit *V, const SDep &amp;Dep)</div><div class="ttdoc">The distance function, which indicates that operation V of iteration I depends on operations U of ite...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00261">MachinePipeliner.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_abf65dc03e4068670595f73770a5c5e68"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#abf65dc03e4068670595f73770a5c5e68">llvm::SwingSchedulerDAG::isBackedge</a></div><div class="ttdeci">bool isBackedge(SUnit *Source, const SDep &amp;Dep)</div><div class="ttdoc">Return true if the dependence is a back-edge in the data dependence graph.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00251">MachinePipeliner.h:251</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a38b28a85f818b49d8806c150b8a5b4f7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00556">MachineOperand.h:556</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_aad4b383d6bf0b66dd1a20a81505788fd"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#aad4b383d6bf0b66dd1a20a81505788fd">llvm::ScheduleDAGInstrs::UnknownValue</a></div><div class="ttdeci">UndefValue * UnknownValue</div><div class="ttdoc">For an unanalyzable memory access, this Value is used in maps.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00237">ScheduleDAGInstrs.h:237</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_a152bcf1324cf8cd743a20c879a77de5b"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a152bcf1324cf8cd743a20c879a77de5b">llvm::MachineMemOperand::getValue</a></div><div class="ttdeci">const Value * getValue() const</div><div class="ttdoc">Return the base address of the memory access.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00210">MachineMemOperand.h:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a72e0568b7bf0e9a97260c34264a549a0"><div class="ttname"><a href="classllvm_1_1SUnit.html#a72e0568b7bf0e9a97260c34264a549a0">llvm::SUnit::Latency</a></div><div class="ttdeci">unsigned short Latency</div><div class="ttdoc">Node latency.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00273">ScheduleDAG.h:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a69544ec8658eadeed98245dc37c3a541"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00379">MachineOperand.h:379</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a3f7a45f6e10668a5f702e26bca80d18e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00526">MachineInstr.h:526</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0eea77e7bfa82e0219d2ec7b4efbc94f"><div class="ttname"><a href="namespacellvm.html#a0eea77e7bfa82e0219d2ec7b4efbc94f">llvm::popcount</a></div><div class="ttdeci">int popcount(T Value) noexcept</div><div class="ttdoc">Count the number of set bits in a value.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00349">bit.h:349</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdeci">@ A</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00034">ARMBaseInfo.h:34</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedClassDesc_html_ab7b0ef1f5af7f95492f8bf39415123f2"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html#ab7b0ef1f5af7f95492f8bf39415123f2">llvm::MCSchedClassDesc::NumMicroOps</a></div><div class="ttdeci">uint16_t NumMicroOps</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00116">MCSchedule.h:116</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a3f708b119627541f144d703a1d183202"><div class="ttname"><a href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">llvm::SUnit::NodeNum</a></div><div class="ttdeci">unsigned NodeNum</div><div class="ttdoc">Entry # of node in the node vector.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00264">ScheduleDAG.h:264</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a001d31fcea92be51d2999826b806606f"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">llvm::MachineOperand::setSubReg</a></div><div class="ttdeci">void setSubReg(unsigned subReg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00490">MachineOperand.h:490</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a8ff8459ca7a8040add90e7c72a760a5e"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a8ff8459ca7a8040add90e7c72a760a5e">llvm::SwingSchedulerDAG::getMOV</a></div><div class="ttdeci">int getMOV(SUnit *Node)</div><div class="ttdoc">The mobility function, which the number of slots in which an instruction may be scheduled.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00228">MachinePipeliner.h:228</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedClassDesc_html"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html">llvm::MCSchedClassDesc</a></div><div class="ttdoc">Summarize the scheduling resources required for an instruction of a particular scheduling class.</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00109">MCSchedule.h:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_af4aef3aa547629015801993f9d393109"><div class="ttname"><a href="classllvm_1_1Register.html#af4aef3aa547629015801993f9d393109">llvm::Register::isPhysicalRegister</a></div><div class="ttdeci">static bool isPhysicalRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00065">Register.h:65</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a9082b6aa4021114645045d9c5628eb26"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">llvm::LaneBitmask::getNone</a></div><div class="ttdeci">static constexpr LaneBitmask getNone()</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00081">LaneBitmask.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_af238533c2437443030e5fa4a710094c5"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#af238533c2437443030e5fa4a710094c5">llvm::SMSchedule::getFinalCycle</a></div><div class="ttdeci">int getFinalCycle() const</div><div class="ttdoc">Return the last cycle in the finalized schedule.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00586">MachinePipeliner.h:586</a></div></div>
<div class="ttc" id="aDFAPacketizer_8h_html"><div class="ttname"><a href="DFAPacketizer_8h.html">DFAPacketizer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a63a92e13c7107826b68916401528f35c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a63a92e13c7107826b68916401528f35c">llvm::MachineFunction::deleteMachineInstr</a></div><div class="ttdeci">void deleteMachineInstr(MachineInstr *MI)</div><div class="ttdoc">DeleteMachineInstr - Delete the given MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00425">MachineFunction.cpp:425</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_aa9cf7f8bcf9a31775f99c732ad69e907"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#aa9cf7f8bcf9a31775f99c732ad69e907">llvm::SMSchedule::getFirstCycle</a></div><div class="ttdeci">int getFirstCycle() const</div><div class="ttdoc">Return the first cycle in the completed schedule.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00583">MachinePipeliner.h:583</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_ab75cd37a7a0319d5a4c77189cca106ec"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#ab75cd37a7a0319d5a4c77189cca106ec">llvm::ScheduleDAGInstrs::getSUnit</a></div><div class="ttdeci">SUnit * getSUnit(MachineInstr *MI) const</div><div class="ttdoc">Returns an existing SUnit for this MI, or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00391">ScheduleDAGInstrs.h:391</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aTargetOpcodes_8h_html"><div class="ttname"><a href="TargetOpcodes_8h.html">TargetOpcodes.h</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a25329a072c76c185b8c5ff530c632762"><div class="ttname"><a href="classllvm_1_1SUnit.html#a25329a072c76c185b8c5ff530c632762">llvm::SUnit::NumPreds</a></div><div class="ttdeci">unsigned NumPreds</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00266">ScheduleDAG.h:266</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_a34c550a65909ded0eaa5d85dd3aae22e"><div class="ttname"><a href="README__P9_8txt.html#a34c550a65909ded0eaa5d85dd3aae22e">SDAG</a></div><div class="ttdeci">QP Compare Ordered outs ins xscmpudp No SDAG</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00301">README_P9.txt:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a5cc113cb783ab6e5ca7b69241431c19c"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a5cc113cb783ab6e5ca7b69241431c19c">llvm::LoopBase::getBlocks</a></div><div class="ttdeci">ArrayRef&lt; BlockT * &gt; getBlocks() const</div><div class="ttdoc">Get a list of the basic blocks which make up this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00188">LoopInfo.h:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_abf37b74e017f80f204221fe3143ab89f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#abf37b74e017f80f204221fe3143ab89f">llvm::MachineInstr::isPseudo</a></div><div class="ttdeci">bool isPseudo(QueryType Type=IgnoreBundle) const</div><div class="ttdoc">Return true if this is a pseudo instruction that doesn't correspond to a real machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00852">MachineInstr.h:852</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a5a869f04a623443a4cf2d2857f9cd085"><div class="ttname"><a href="classllvm_1_1SUnit.html#a5a869f04a623443a4cf2d2857f9cd085">llvm::SUnit::setInstr</a></div><div class="ttdeci">void setInstr(MachineInstr *MI)</div><div class="ttdoc">Assigns the instruction for the SUnit.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00366">ScheduleDAG.h:366</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGTopologicalSort_html_a47144792598184237de69d6b25b35175"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#a47144792598184237de69d6b25b35175">llvm::ScheduleDAGTopologicalSort::AddPred</a></div><div class="ttdeci">void AddPred(SUnit *Y, SUnit *X)</div><div class="ttdoc">Updates the topological ordering to accommodate an edge to be added from SUnit X to SUnit Y.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00550">ScheduleDAG.cpp:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1GenericCycle_html"><div class="ttname"><a href="classllvm_1_1GenericCycle.html">llvm::GenericCycle</a></div><div class="ttdoc">A possibly irreducible generalization of a Loop.</div><div class="ttdef"><b>Definition:</b> <a href="GenericCycleInfo_8h_source.html#l00048">GenericCycleInfo.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a1440bb5da603e25ae674b89a6e377ac6"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a1440bb5da603e25ae674b89a6e377ac6">llvm::SMSchedule::setInitiationInterval</a></div><div class="ttdeci">void setInitiationInterval(int ii)</div><div class="ttdoc">Set the initiation interval for this schedule.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00573">MachinePipeliner.h:573</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a7c7d5ab8d9814b721a1844a867ef948a"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a7c7d5ab8d9814b721a1844a867ef948a">llvm::SMSchedule::isValidSchedule</a></div><div class="ttdeci">bool isValidSchedule(SwingSchedulerDAG *SSD)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02735">MachinePipeliner.cpp:2735</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a987a62d4820b440e2924de2c1b9fc540"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a987a62d4820b440e2924de2c1b9fc540">SwpPruneDeps</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; SwpPruneDeps(&quot;pipeliner-prune-deps&quot;, cl::desc(&quot;Prune dependences between unrelated Phi nodes.&quot;), cl::Hidden, cl::init(true))</div><div class="ttdoc">A command line option to disable the pruning of chain dependences due to an unrelated Phi.</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkAnalysis_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">llvm::MachineOptimizationRemarkAnalysis</a></div><div class="ttdoc">Diagnostic information for optimization analysis remarks.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00110">MachineOptimizationRemarkEmitter.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ad0b3d8447f88377b62d9c019f3c4e118"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00642">SmallVector.h:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_afc80a20e0ea82304f155947af1f4088e"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#afc80a20e0ea82304f155947af1f4088e">llvm::SMSchedule::orderDependence</a></div><div class="ttdeci">void orderDependence(SwingSchedulerDAG *SSD, SUnit *SU, std::deque&lt; SUnit * &gt; &amp;Insts)</div><div class="ttdoc">Order the instructions within a cycle so that the definitions occur before the uses.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02487">MachinePipeliner.cpp:2487</a></div></div>
<div class="ttc" id="aclassllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'undef' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01740">Constants.cpp:1740</a></div></div>
<div class="ttc" id="aBitVector_8h_html"><div class="ttname"><a href="BitVector_8h.html">BitVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">llvm::SDep::Output</a></div><div class="ttdeci">@ Output</div><div class="ttdoc">A register output-dependence (aka WAW).</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00055">ScheduleDAG.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html">llvm::SlotIndexes</a></div><div class="ttdoc">SlotIndexes pass.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00319">SlotIndexes.h:319</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">llvm::SDep::Data</a></div><div class="ttdeci">@ Data</div><div class="ttdoc">Regular data dependence (aka true-dependence).</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00053">ScheduleDAG.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a4a6c2e22bb2e65d31a2243ce5d5e9312"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a4a6c2e22bb2e65d31a2243ce5d5e9312">llvm::SMSchedule::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00564">MachinePipeliner.h:564</a></div></div>
<div class="ttc" id="astructllvm_1_1RegPressureDelta_html_aff9c3b403c6d4af795dd8be1c9612240"><div class="ttname"><a href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">llvm::RegPressureDelta::Excess</a></div><div class="ttdeci">PressureChange Excess</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00239">RegisterPressure.h:239</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00075">BitVector.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aab9a96f10af025498520e00ff044bec1"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aab9a96f10af025498520e00ff044bec1">llvm::MachineInstr::isIdenticalTo</a></div><div class="ttdeci">bool isIdenticalTo(const MachineInstr &amp;Other, MICheckType Check=CheckDefs) const</div><div class="ttdoc">Return true if this instruction is identical to Other.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00593">MachineInstr.cpp:593</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b"><div class="ttname"><a href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">llvm::pdb::PDB_ColorItem::Path</a></div><div class="ttdeci">@ Path</div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html"><div class="ttname"><a href="classllvm_1_1NodeSet.html">llvm::NodeSet</a></div><div class="ttdoc">A NodeSet contains a set of SUnit DAG nodes with additional information that assigns a priority to th...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00322">MachinePipeliner.h:322</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a40d954b9cf9ee8b545a78725f2549cba"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">llvm::MachineRegisterInfo::getVRegDef</a></div><div class="ttdeci">MachineInstr * getVRegDef(Register Reg) const</div><div class="ttdoc">getVRegDef - Return the machine instr that defines the specified virtual register or null if none is ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00398">MachineRegisterInfo.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_aaf9ee38b9973681c1720aaf03af3a069"><div class="ttname"><a href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Determine if the SetVector is empty or not.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00072">SetVector.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_a5bee69d3baa0055af5abd13814ae4411"><div class="ttname"><a href="classllvm_1_1NodeSet.html#a5bee69d3baa0055af5abd13814ae4411">llvm::NodeSet::setColocate</a></div><div class="ttdeci">void setColocate(unsigned c)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00376">MachinePipeliner.h:376</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa82bb12b2879425012b3742487e10964"><div class="ttname"><a href="namespacellvm.html#aa82bb12b2879425012b3742487e10964">llvm::erase_value</a></div><div class="ttdeci">void erase_value(Container &amp;C, ValueType V)</div><div class="ttdoc">Wrapper function to remove a value from a container:</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02006">STLExtras.h:2006</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_ad5dd5b3871c5b30823e57af03a218b8a"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#ad5dd5b3871c5b30823e57af03a218b8a">llvm::SMSchedule::isLoopCarried</a></div><div class="ttdeci">bool isLoopCarried(SwingSchedulerDAG *SSD, MachineInstr &amp;Phi)</div><div class="ttdoc">Return true if the scheduled Phi has a loop carried operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02615">MachinePipeliner.cpp:2615</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae22f493ba8327ce92e87d3b96bce7017"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">llvm::Instruction::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(unsigned KindID) const</div><div class="ttdoc">Get the metadata of given kind attached to this Instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00275">Instruction.h:275</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="MachinePipeliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00099">MachinePipeliner.cpp:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html">llvm::MachinePipeliner</a></div><div class="ttdoc">The main class in the implementation of the target independent software pipeliner pass.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00066">MachinePipeliner.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a10aea73adf903930a8ce4c133dfa5a1e"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a10aea73adf903930a8ce4c133dfa5a1e">llvm::SlotIndexes::insertMachineInstrInMaps</a></div><div class="ttdeci">SlotIndex insertMachineInstrInMaps(MachineInstr &amp;MI, bool Late=false)</div><div class="ttdoc">Insert the given machine instruction into the mapping.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00540">SlotIndexes.h:540</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">llvm::SDep::Order</a></div><div class="ttdeci">@ Order</div><div class="ttdoc">Any other ordering dependency.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00056">ScheduleDAG.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1PriorityQueue_html"><div class="ttname"><a href="classllvm_1_1PriorityQueue.html">llvm::PriorityQueue</a></div><div class="ttdoc">PriorityQueue - This class behaves like std::priority_queue and provides a few additional convenience...</div><div class="ttdef"><b>Definition:</b> <a href="PriorityQueue_8h_source.html#l00028">PriorityQueue.h:28</a></div></div>
<div class="ttc" id="astructllvm_1_1InstrStage_html_a28207c85d95c7a0d901b2d8dbc37b6e3"><div class="ttname"><a href="structllvm_1_1InstrStage.html#a28207c85d95c7a0d901b2d8dbc37b6e3">llvm::InstrStage::FuncUnits</a></div><div class="ttdeci">uint64_t FuncUnits</div><div class="ttdoc">Bitmask representing a set of functional units.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00065">MCInstrItineraries.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a074ab97926a3b48758508b0376c1dbe7"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a074ab97926a3b48758508b0376c1dbe7">llvm::TargetInstrInfo::analyzeLoopForPipelining</a></div><div class="ttdeci">virtual std::unique_ptr&lt; PipelinerLoopInfo &gt; analyzeLoopForPipelining(MachineBasicBlock *LoopBB) const</div><div class="ttdoc">Analyze loop L, which must be a single-basic-block loop, and if the conditions can be understood enou...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00779">TargetInstrInfo.h:779</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aa363afffca4fc13a709673936b47fe33"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(Register Reg) const</div><div class="ttdoc">Return the register class of the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00661">MachineRegisterInfo.h:661</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a28d18d91f58682d65e97e9c386064b5b"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a28d18d91f58682d65e97e9c386064b5b">llvm::TargetInstrInfo::getBaseAndOffsetPosition</a></div><div class="ttdeci">virtual bool getBaseAndOffsetPosition(const MachineInstr &amp;MI, unsigned &amp;BasePos, unsigned &amp;OffsetPos) const</div><div class="ttdoc">Return true if the instruction contains a base register and offset.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01405">TargetInstrInfo.h:1405</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01683">STLExtras.h:1683</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a6cbc0453586a25c057a32161b38b8ce4"><div class="ttname"><a href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">llvm::MDNode::getOperand</a></div><div class="ttdeci">const MDOperand &amp; getOperand(unsigned I) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01291">Metadata.h:1291</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_af8a50544090e81ac83601aff8f4b0142"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">llvm::SmallPtrSetImplBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00092">SmallPtrSet.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a77642d0294af8118f60d8df884950e0c"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a77642d0294af8118f60d8df884950e0c">llvm::SMSchedule::computeStart</a></div><div class="ttdeci">void computeStart(SUnit *SU, int *MaxEarlyStart, int *MinLateStart, int *MinEnd, int *MaxStart, int II, SwingSchedulerDAG *DAG)</div><div class="ttdoc">Compute the scheduling start slot for the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02426">MachinePipeliner.cpp:2426</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a6fe37a9ed7e3ddc88a91b16aa3f83d14"><div class="ttname"><a href="classllvm_1_1SUnit.html#a6fe37a9ed7e3ddc88a91b16aa3f83d14">llvm::SUnit::isPred</a></div><div class="ttdeci">bool isPred(const SUnit *N) const</div><div class="ttdoc">Tests if node N is a predecessor of this node.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00431">ScheduleDAG.h:431</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa5bbb47ecb2be0bf50b8cafb94dee081"><div class="ttname"><a href="namespacellvm.html#aa5bbb47ecb2be0bf50b8cafb94dee081">llvm::getRegState</a></div><div class="ttdeci">unsigned getRegState(const MachineOperand &amp;RegOp)</div><div class="ttdoc">Get all register state flags from machine operand RegOp.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00551">MachineInstrBuilder.h:551</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoop_html"><div class="ttname"><a href="classllvm_1_1MachineLoop.html">llvm::MachineLoop</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00044">MachineLoopInfo.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a51469ab7f147668678a486661b02ae59"><div class="ttname"><a href="classllvm_1_1SetVector.html#a51469ab7f147668678a486661b02ae59">llvm::SetVector::contains</a></div><div class="ttdeci">bool contains(const key_type &amp;key) const</div><div class="ttdoc">Check if the SetVector contains the given key.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00202">SetVector.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a2a98f19750ba941ce791b75ca6d77e48"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">llvm::SmallSet::count</a></div><div class="ttdeci">size_type count(const T &amp;V) const</div><div class="ttdoc">count - Return 1 if the element is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00164">SmallSet.h:164</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa1fa33552f21afa988d7fa09b1a369fa"><div class="ttname"><a href="namespacellvm.html#aa1fa33552f21afa988d7fa09b1a369fa">llvm::getUnderlyingObjects</a></div><div class="ttdeci">void getUnderlyingObjects(const Value *V, SmallVectorImpl&lt; const Value * &gt; &amp;Objects, LoopInfo *LI=nullptr, unsigned MaxLookup=6)</div><div class="ttdoc">This method is similar to getUnderlyingObject except that it can look through phi and select instruct...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04612">ValueTracking.cpp:4612</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePipeliner_1_1LoopInfo_html_ae2bf6c3f17af11339dc9cc3f33d2917a"><div class="ttname"><a href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#ae2bf6c3f17af11339dc9cc3f33d2917a">llvm::MachinePipeliner::LoopInfo::LoopPipelinerInfo</a></div><div class="ttdeci">std::unique_ptr&lt; TargetInstrInfo::PipelinerLoopInfo &gt; LoopPipelinerInfo</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00089">MachinePipeliner.h:89</a></div></div>
<div class="ttc" id="astructllvm_1_1MCProcResourceDesc_html"><div class="ttname"><a href="structllvm_1_1MCProcResourceDesc.html">llvm::MCProcResourceDesc</a></div><div class="ttdoc">Define a kind of processor resource that will be modeled by the scheduler.</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00031">MCSchedule.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_a2d903deabefad32494df9e3b54667d4d"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#a2d903deabefad32494df9e3b54667d4d">llvm::MachinePipeliner::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00462">MachinePipeliner.cpp:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a6b0c3e15c351ba9682837c29b0a141b6"><div class="ttname"><a href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">llvm::MapVector::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Key)</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00148">MapVector.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkEmitter_html_a22cabb597d4f9e140fa9184491f7a33f"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkEmitter.html#a22cabb597d4f9e140fa9184491f7a33f">llvm::MachineOptimizationRemarkEmitter::emit</a></div><div class="ttdeci">void emit(DiagnosticInfoOptimizationBase &amp;OptDiag)</div><div class="ttdoc">Emit an optimization remark.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8cpp_source.html#l00049">MachineOptimizationRemarkEmitter.cpp:49</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_aef61945034b9431b804748fc317c5548"><div class="ttname"><a href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a></div><div class="ttdeci">uint32_t Index</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00083">ELFObjHandler.cpp:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuloScheduleTestAnnotater_html_a20dd6e00191a092f48bd5598b8829bb3"><div class="ttname"><a href="classllvm_1_1ModuloScheduleTestAnnotater.html#a20dd6e00191a092f48bd5598b8829bb3">llvm::ModuloScheduleTestAnnotater::annotate</a></div><div class="ttdeci">void annotate()</div><div class="ttdoc">Performs the annotation.</div><div class="ttdef"><b>Definition:</b> <a href="ModuloSchedule_8cpp_source.html#l02205">ModuloSchedule.cpp:2205</a></div></div>
<div class="ttc" id="aLiveIntervals_8h_html"><div class="ttname"><a href="LiveIntervals_8h.html">LiveIntervals.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a7f75d2f072df591f38aa1af42b78dacf"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a7f75d2f072df591f38aa1af42b78dacf">llvm::SMSchedule::getInitiationInterval</a></div><div class="ttdeci">int getInitiationInterval() const</div><div class="ttdoc">Return the initiation interval for this schedule.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00579">MachinePipeliner.h:579</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkMissed_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkMissed.html">llvm::MachineOptimizationRemarkMissed</a></div><div class="ttdoc">Diagnostic information for missed-optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00084">MachineOptimizationRemarkEmitter.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a7004354fbee1c8cd74ed9001915e1db5"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a7004354fbee1c8cd74ed9001915e1db5">llvm::SmallPtrSetImpl::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00408">SmallPtrSet.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac485421b5fcb9454ea64e74f6396a810"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">llvm::MachineFunction::CloneMachineInstr</a></div><div class="ttdeci">MachineInstr * CloneMachineInstr(const MachineInstr *Orig)</div><div class="ttdoc">Create a new MachineInstr which is a copy of Orig, identical in all ways except the instruction has n...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00390">MachineFunction.cpp:390</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a489d8c4ed3ae8b1ca4f68e580b074bf1"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a489d8c4ed3ae8b1ca4f68e580b074bf1">llvm::MachineRegisterInfo::use_instr_begin</a></div><div class="ttdeci">use_instr_iterator use_instr_begin(Register RegNo) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00499">MachineRegisterInfo.h:499</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a5a6a05b7d9e9efb3f7b098c20fa0088a"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a></div><div class="ttdeci">multiplies can be turned into SHL s</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00370">README.txt:370</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_a82035ad3d6f322105e0f67c596297444"><div class="ttname"><a href="classllvm_1_1NodeSet.html#a82035ad3d6f322105e0f67c596297444">llvm::NodeSet::getRecMII</a></div><div class="ttdeci">int getRecMII()</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00384">MachinePipeliner.h:384</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aMemoryLocation_8h_html"><div class="ttname"><a href="MemoryLocation_8h.html">MemoryLocation.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_ad37302702bbcf0028581d2655698c27aa5fb63579fc981698f97d55bfecb213ea"><div class="ttname"><a href="namespacellvm_1_1codeview.html#ad37302702bbcf0028581d2655698c27aa5fb63579fc981698f97d55bfecb213ea">llvm::codeview::FrameCookieKind::Copy</a></div><div class="ttdeci">@ Copy</div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html_a488d33ac015981b0f8e2086fcbd49db2"><div class="ttname"><a href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">llvm::PressureChange::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00112">RegisterPressure.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_aba473acb9acbd824f0535739699547b2"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#aba473acb9acbd824f0535739699547b2">llvm::MachinePipeliner::ORE</a></div><div class="ttdeci">MachineOptimizationRemarkEmitter * ORE</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00069">MachinePipeliner.h:69</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aPriorityQueue_8h_html"><div class="ttname"><a href="PriorityQueue_8h.html">PriorityQueue.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a0727ce4ffb9b167e7ad283259d82b10c"><div class="ttname"><a href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">llvm::SUnit::getInstr</a></div><div class="ttdeci">MachineInstr * getInstr() const</div><div class="ttdoc">Returns the representative MachineInstr for this SUnit.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00373">ScheduleDAG.h:373</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_ae7447e7e3cc13e37cf8738c523a7394e"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#ae7447e7e3cc13e37cf8738c523a7394e">llvm::SwingSchedulerDAG::getALAP</a></div><div class="ttdeci">int getALAP(SUnit *Node)</div><div class="ttdoc">Return the latest time an instruction my be scheduled.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00224">MachinePipeliner.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_a9ea1466950ca6ed26b74695ac58aa954"><div class="ttname"><a href="classllvm_1_1NodeSet.html#a9ea1466950ca6ed26b74695ac58aa954">llvm::NodeSet::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00368">MachinePipeliner.h:368</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aMCRegisterInfo_8h_html"><div class="ttname"><a href="MCRegisterInfo_8h.html">MCRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ac3280e7f76f955403fe17eacf126b90d"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ac3280e7f76f955403fe17eacf126b90d">llvm::LoopBase::getLoopPreheader</a></div><div class="ttdeci">BlockT * getLoopPreheader() const</div><div class="ttdoc">If there is a preheader for this loop, return it.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00183">LoopInfoImpl.h:183</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html_a1eef24878593ee0080b20b96ce3eb4c4"><div class="ttname"><a href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">llvm::PressureChange::getUnitInc</a></div><div class="ttdeci">int getUnitInc() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00124">RegisterPressure.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_abf73a826b5d6f739eb4af48ddf14c5b4"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">llvm::SmallPtrSetImpl::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00403">SmallPtrSet.h:403</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a7a29f34c0655e4aca99acb5d07572e53"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a7a29f34c0655e4aca99acb5d07572e53">Pipelining</a></div><div class="ttdeci">Modulo Software Pipelining</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00207">MachinePipeliner.cpp:207</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_aed65f8b3ec0d65f79abea2f70d4fe11d"><div class="ttname"><a href="MachinePipeliner_8cpp.html#aed65f8b3ec0d65f79abea2f70d4fe11d">SwpForceII</a></div><div class="ttdeci">static cl::opt&lt; int &gt; SwpForceII(&quot;pipeliner-force-ii&quot;, cl::desc(&quot;Force pipeliner to use specified II.&quot;), cl::Hidden, cl::init(-1))</div><div class="ttdoc">A command line argument to force pipeliner to use specified initial interval.</div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_af433cda2785c857cd52bba59ca4612f0"><div class="ttname"><a href="MachinePipeliner_8cpp.html#af433cda2785c857cd52bba59ca4612f0">SwpIgnoreRecMII</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; SwpIgnoreRecMII(&quot;pipeliner-ignore-recmii&quot;, cl::ReallyHidden, cl::desc(&quot;Ignore RecMII&quot;))</div></div>
<div class="ttc" id="aMachineFunctionPass_8h_html"><div class="ttname"><a href="MachineFunctionPass_8h.html">MachineFunctionPass.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca">llvm::pdb::PDB_MemoryType::Stack</a></div><div class="ttdeci">@ Stack</div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a7f39116ef8979cff64ea1c666228e7d9"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a7f39116ef8979cff64ea1c666228e7d9">llvm::MachineRegisterInfo::isAllocatable</a></div><div class="ttdeci">bool isAllocatable(MCRegister PhysReg) const</div><div class="ttdoc">isAllocatable - Returns true when PhysReg belongs to an allocatable register class and it hasn't been...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00974">MachineRegisterInfo.h:974</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a3c2bb9e82e28af11ea7a7deaef40aea4"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">llvm::TargetRegisterInfo::getRegPressureSetName</a></div><div class="ttdeci">virtual const char * getRegPressureSetName(unsigned Idx) const =0</div><div class="ttdoc">Get the name of this register unit pressure set.</div></div>
<div class="ttc" id="astructllvm_1_1MachinePipeliner_1_1LoopInfo_html_ae232e3beec5bf5aa97ed2f825c430d53"><div class="ttname"><a href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#ae232e3beec5bf5aa97ed2f825c430d53">llvm::MachinePipeliner::LoopInfo::LoopCompare</a></div><div class="ttdeci">MachineInstr * LoopCompare</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00088">MachinePipeliner.h:88</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterPressure_html_af444f3c79d12bb654d6477d629cbe7c0"><div class="ttname"><a href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">llvm::RegisterPressure::MaxSetPressure</a></div><div class="ttdeci">std::vector&lt; unsigned &gt; MaxSetPressure</div><div class="ttdoc">Map of max reg pressure indexed by pressure set ID, not class ID.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00049">RegisterPressure.h:49</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_ad4cf8c8e4e2cc5bf94656e979ed629b4"><div class="ttname"><a href="MachinePipeliner_8cpp.html#ad4cf8c8e4e2cc5bf94656e979ed629b4">getPhiRegs</a></div><div class="ttdeci">static void getPhiRegs(MachineInstr &amp;Phi, MachineBasicBlock *Loop, unsigned &amp;InitVal, unsigned &amp;LoopVal)</div><div class="ttdoc">Return the register values for the operands of a Phi instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00682">MachinePipeliner.cpp:682</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_adbff55f335d303816547f35eb6edb948"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">llvm::MachineBasicBlock::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00279">MachineBasicBlock.h:279</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePipeliner_1_1LoopInfo_html_a5c1a346bd7160b415a28c48992b5bea4"><div class="ttname"><a href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a5c1a346bd7160b415a28c48992b5bea4">llvm::MachinePipeliner::LoopInfo::LoopInductionVar</a></div><div class="ttdeci">MachineInstr * LoopInductionVar</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00087">MachinePipeliner.h:87</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a26aeee922a8cb25c9ec054413a95dcf2"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a26aeee922a8cb25c9ec054413a95dcf2">llvm::SMSchedule::isLoopCarriedDefOfUse</a></div><div class="ttdeci">bool isLoopCarriedDefOfUse(SwingSchedulerDAG *SSD, MachineInstr *Def, MachineOperand &amp;MO)</div><div class="ttdoc">Return true if the instruction is a definition that is loop carried and defines the use on the next i...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02643">MachinePipeliner.cpp:2643</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_aa1bdad6ac04deb5b4e5990a020b616c7"><div class="ttname"><a href="MachinePipeliner_8cpp.html#aa1bdad6ac04deb5b4e5990a020b616c7">isSuccOrder</a></div><div class="ttdeci">static bool isSuccOrder(SUnit *SUa, SUnit *SUb)</div><div class="ttdoc">Return true if SUb can be reached from SUa following the chain edges.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00706">MachinePipeliner.cpp:706</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_a34c684c839de068ac81d8131ad6c5b24"><div class="ttname"><a href="classllvm_1_1NodeSet.html#a34c684c839de068ac81d8131ad6c5b24">llvm::NodeSet::setRecMII</a></div><div class="ttdeci">void setRecMII(unsigned mii)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00374">MachinePipeliner.h:374</a></div></div>
<div class="ttc" id="aiterator__range_8h_html"><div class="ttname"><a href="iterator__range_8h.html">iterator_range.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ad43bf1af480830a4d6604e969e3f38e9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad43bf1af480830a4d6604e969e3f38e9">llvm::MachineInstr::isPHI</a></div><div class="ttdeci">bool isPHI() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01308">MachineInstr.h:1308</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_ad08ed580345a51c50d9477dec1e65818"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(Register RegNo, unsigned flags=0, unsigned SubReg=0) const</div><div class="ttdoc">Add a new virtual register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00097">MachineInstrBuilder.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html_ad47247ae6eaa7104e4d4ef6e002840f9"><div class="ttname"><a href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">llvm::PressureChange::getPSet</a></div><div class="ttdeci">unsigned getPSet() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00114">RegisterPressure.h:114</a></div></div>
<div class="ttc" id="aXtensaAsmBackend_8cpp_html_a13a0babfc55adc9b798c39e65ec9e8a3"><div class="ttname"><a href="XtensaAsmBackend_8cpp.html#a13a0babfc55adc9b798c39e65ec9e8a3">getSize</a></div><div class="ttdeci">static unsigned getSize(unsigned Kind)</div><div class="ttdef"><b>Definition:</b> <a href="XtensaAsmBackend_8cpp_source.html#l00134">XtensaAsmBackend.cpp:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acae72f6ab1071b7ec87b741a8bef582b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">llvm::MachineBasicBlock::instr_end</a></div><div class="ttdeci">instr_iterator instr_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00295">MachineBasicBlock.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a443c7ea5745c6b71817c757be2a8a0ec"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a443c7ea5745c6b71817c757be2a8a0ec">llvm::SMSchedule::getInstructions</a></div><div class="ttdeci">std::deque&lt; SUnit * &gt; &amp; getInstructions(int cycle)</div><div class="ttdoc">Return the instructions that are scheduled at the specified cycle.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00633">MachinePipeliner.h:633</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_accc60d2019e9dff57bb0918a94422ebb"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">llvm::MachineInstr::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01539">MachineInstr.cpp:1539</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_html_a10f3d955592ae2bc745f57e5b48ae115"><div class="ttname"><a href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">llvm::size</a></div><div class="ttdeci">auto size(R &amp;&amp;Range, std::enable_if_t&lt; std::is_base_of&lt; std::random_access_iterator_tag, typename std::iterator_traits&lt; decltype(Range.begin())&gt;::iterator_category &gt;::value, void &gt; *=nullptr)</div><div class="ttdoc">Get the size of a range.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01716">STLExtras.h:1716</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64_html_a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">llvm::AArch64::RM</a></div><div class="ttdeci">@ RM</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00499">AArch64ISelLowering.h:499</a></div></div>
<div class="ttc" id="aScheduleDAGMutation_8h_html"><div class="ttname"><a href="ScheduleDAGMutation_8h.html">ScheduleDAGMutation.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a7f0521fa2de44271fd4b909ea7351ef3"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">llvm::MachineBasicBlock::getFirstTerminator</a></div><div class="ttdeci">iterator getFirstTerminator()</div><div class="ttdoc">Returns an iterator to the first terminator instruction of this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00240">MachineBasicBlock.cpp:240</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a418bc6d3f660325fa6d5b9fb269add62"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">llvm::ScheduleDAG::TRI</a></div><div class="ttdeci">const TargetRegisterInfo * TRI</div><div class="ttdoc">Target processor register info.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00558">ScheduleDAG.h:558</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_a16413f1a88d8baca228d0a1b4cc0bfc6"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">llvm::SmallPtrSetImplBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00095">SmallPtrSet.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a6d8664e79797a05e27343b7e7c14a13f"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a6d8664e79797a05e27343b7e7c14a13f">llvm::SwingSchedulerDAG::getZeroLatencyDepth</a></div><div class="ttdeci">int getZeroLatencyDepth(SUnit *Node)</div><div class="ttdoc">The maximum unweighted length of a path from an arbitrary node to the given node in which each edge h...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00235">MachinePipeliner.h:235</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Sched_html_ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9"><div class="ttname"><a href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">llvm::Sched::Source</a></div><div class="ttdeci">@ Source</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00100">TargetLowering.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubtargetInfo_html_a0889f5abf71c45b0610d3fa148986eaf"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#a0889f5abf71c45b0610d3fa148986eaf">llvm::MCSubtargetInfo::getWriteProcResBegin</a></div><div class="ttdeci">const MCWriteProcResEntry * getWriteProcResBegin(const MCSchedClassDesc *SC) const</div><div class="ttdoc">Return an iterator at the first process resource consumed by the given scheduling class.</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00167">MCSubtargetInfo.h:167</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuloScheduleTestAnnotater_html"><div class="ttname"><a href="classllvm_1_1ModuloScheduleTestAnnotater.html">llvm::ModuloScheduleTestAnnotater</a></div><div class="ttdoc">Expander that simply annotates each scheduled instruction with a post-instr symbol that can be consum...</div><div class="ttdef"><b>Definition:</b> <a href="ModuloSchedule_8h_source.html#l00378">ModuloSchedule.h:378</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_ae1a99283cc904e7de79ed49d63eaf5e5"><div class="ttname"><a href="MachinePipeliner_8cpp.html#ae1a99283cc904e7de79ed49d63eaf5e5">SwpPruneLoopCarried</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; SwpPruneLoopCarried(&quot;pipeliner-prune-loop-carried&quot;, cl::desc(&quot;Prune loop carried order dependences.&quot;), cl::Hidden, cl::init(true))</div><div class="ttdoc">A command line option to disable the pruning of loop carried order dependences.</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a9b48cb80ee1534c2b51d789b673137c1"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">llvm::MachineOperand::getMBB</a></div><div class="ttdeci">MachineBasicBlock * getMBB() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00571">MachineOperand.h:571</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a03a2dc5f9f321a2ce28f5c641dfe5455"><div class="ttname"><a href="classllvm_1_1SDep.html#a03a2dc5f9f321a2ce28f5c641dfe5455">llvm::SDep::getSUnit</a></div><div class="ttdeci">SUnit * getSUnit() const</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00480">ScheduleDAG.h:480</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_ac1562da8860ca0c8e8e59a2d56ae9c8d"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#ac1562da8860ca0c8e8e59a2d56ae9c8d">llvm::MachinePipeliner::RegClassInfo</a></div><div class="ttdeci">RegisterClassInfo RegClassInfo</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00074">MachinePipeliner.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1ResourceManager_html_a13a8c4d3fbc72e8e2f7080411e2ea9cf"><div class="ttname"><a href="classllvm_1_1ResourceManager.html#a13a8c4d3fbc72e8e2f7080411e2ea9cf">llvm::ResourceManager::calculateResMII</a></div><div class="ttdeci">int calculateResMII() const</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l03197">MachinePipeliner.cpp:3197</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_af0c124c6b02e5387861ee4fa3504239d"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#af0c124c6b02e5387861ee4fa3504239d">llvm::MachinePipeliner::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00094">MachinePipeliner.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0363204b5fbab08a46f5a7cd7f376f78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns the opcode of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00516">MachineInstr.h:516</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a5a3d3d075a208011a24a0918b58d7daa"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">llvm::ScheduleDAG::MF</a></div><div class="ttdeci">MachineFunction &amp; MF</div><div class="ttdoc">Machine function.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00559">ScheduleDAG.h:559</a></div></div>
<div class="ttc" id="aModuloSchedule_8h_html"><div class="ttname"><a href="ModuloSchedule_8h.html">ModuloSchedule.h</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1PeelingModuloScheduleExpander_html_a134f4cf4ad60c97b1d23e9d1e465031a"><div class="ttname"><a href="classllvm_1_1PeelingModuloScheduleExpander.html#a134f4cf4ad60c97b1d23e9d1e465031a">llvm::PeelingModuloScheduleExpander::expand</a></div><div class="ttdeci">void expand()</div><div class="ttdef"><b>Definition:</b> <a href="ModuloSchedule_8cpp_source.html#l02006">ModuloSchedule.cpp:2006</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkEmitterPass_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkEmitterPass.html">llvm::MachineOptimizationRemarkEmitterPass</a></div><div class="ttdoc">The analysis pass.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00220">MachineOptimizationRemarkEmitter.h:220</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a884f90190bca4bd354f2d5c91c264028"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">llvm::AnalysisUsage::addPreserved</a></div><div class="ttdeci">AnalysisUsage &amp; addPreserved()</div><div class="ttdoc">Add the specified Pass class to the set of analyses preserved by this pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00098">PassAnalysisSupport.h:98</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65"><div class="ttname"><a href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">llvm::SDep::Barrier</a></div><div class="ttdeci">@ Barrier</div><div class="ttdoc">An unknown scheduling barrier.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00069">ScheduleDAG.h:69</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="astructllvm_1_1MCProcResourceDesc_html_a7ce1d4d9b7074763095e905a7848440f"><div class="ttname"><a href="structllvm_1_1MCProcResourceDesc.html#a7ce1d4d9b7074763095e905a7848440f">llvm::MCProcResourceDesc::SubUnitsIdxBegin</a></div><div class="ttdeci">const unsigned * SubUnitsIdxBegin</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00053">MCSchedule.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ab419785650ef9728b5305d220179017c"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab419785650ef9728b5305d220179017c">llvm::MachineInstr::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, bool IsStandalone=true, bool SkipOpers=false, bool SkipDebugLoc=false, bool AddNewLine=true, const TargetInstrInfo *TII=nullptr) const</div><div class="ttdoc">Print this MI to OS.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01576">MachineInstr.cpp:1576</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a75eb135014670ce946e78739cdc9b51b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00384">MachineOperand.h:384</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="anamespacellvm_html_a66f0c57e04037076030c6a6e48f44f2d"><div class="ttname"><a href="namespacellvm.html#a66f0c57e04037076030c6a6e48f44f2d">llvm::format</a></div><div class="ttdeci">format_object&lt; Ts... &gt; format(const char *Fmt, const Ts &amp;... Vals)</div><div class="ttdoc">These are helper functions used to produce formatted output.</div><div class="ttdef"><b>Definition:</b> <a href="Format_8h_source.html#l00124">Format.h:124</a></div></div>
<div class="ttc" id="astructllvm_1_1MCProcResourceDesc_html_a51dc4747a7d39650884bcf19daaf5f54"><div class="ttname"><a href="structllvm_1_1MCProcResourceDesc.html#a51dc4747a7d39650884bcf19daaf5f54">llvm::MCProcResourceDesc::Name</a></div><div class="ttdeci">const char * Name</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00032">MCSchedule.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_aea2d4ef1e00ee834ab155abd18a560e4"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#aea2d4ef1e00ee834ab155abd18a560e4">llvm::ScheduleDAGInstrs::dump</a></div><div class="ttdeci">void dump() const override</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01175">ScheduleDAGInstrs.cpp:1175</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html_aa26f1f3bfe5b5022b1bd495151b3757a"><div class="ttname"><a href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">llvm::Pass::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00136">Pass.cpp:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_af3d65454da09651202a0f6f39e84462a"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#af3d65454da09651202a0f6f39e84462a">llvm::ScheduleDAGInstrs::getSchedClass</a></div><div class="ttdeci">const MCSchedClassDesc * getSchedClass(SUnit *SU) const</div><div class="ttdoc">Resolves and cache a resolved scheduling class for an SUnit.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00266">ScheduleDAGInstrs.h:266</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_a56b9083f6d85aec6325b90028372d2e2"><div class="ttname"><a href="classllvm_1_1NodeSet.html#a56b9083f6d85aec6325b90028372d2e2">llvm::NodeSet::count</a></div><div class="ttdeci">unsigned count(SUnit *SU) const</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00364">MachinePipeliner.h:364</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_aff7649124c08f77b72e5d539f2f8afdf"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#aff7649124c08f77b72e5d539f2f8afdf">llvm::SMSchedule::finalizeSchedule</a></div><div class="ttdeci">void finalizeSchedule(SwingSchedulerDAG *SSD)</div><div class="ttdoc">After the schedule has been formed, call this function to combine the instructions from the different...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02905">MachinePipeliner.cpp:2905</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a542090274b12f258b6d3242fde6c4fab"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a542090274b12f258b6d3242fde6c4fab">SwpShowResMask</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; SwpShowResMask(&quot;pipeliner-show-mask&quot;, cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html">llvm::TargetSubtargetInfo</a></div><div class="ttdoc">TargetSubtargetInfo - Generic base class for all target subtargets.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00062">TargetSubtargetInfo.h:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_a077eef2c61ca462db1800cc506092d38"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a077eef2c61ca462db1800cc506092d38">llvm::ScheduleDAGInstrs::MISUnitMap</a></div><div class="ttdeci">DenseMap&lt; MachineInstr *, SUnit * &gt; MISUnitMap</div><div class="ttdoc">After calling BuildSchedGraph, each machine instruction in the current scheduling region is mapped to...</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00159">ScheduleDAGInstrs.h:159</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a028a8c5113d40d8c3f4427053bf36738"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">llvm::MachineOperand::getSubReg</a></div><div class="ttdeci">unsigned getSubReg() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00374">MachineOperand.h:374</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a0de5a8d142e8d6e8f8f9ff081cf4978a"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a0de5a8d142e8d6e8f8f9ff081cf4978a">SwpDebugResource</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; SwpDebugResource(&quot;pipeliner-dbg-res&quot;, cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a0881334358ff6ff7ff8cea5562c7988e"><div class="ttname"><a href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">llvm::MapVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00072">MapVector.h:72</a></div></div>
<div class="ttc" id="astructllvm_1_1InstrStage_html"><div class="ttname"><a href="structllvm_1_1InstrStage.html">llvm::InstrStage</a></div><div class="ttdoc">These values represent a non-pipelined step in the execution of an instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00058">MCInstrItineraries.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html"><div class="ttname"><a href="classllvm_1_1SDep.html">llvm::SDep</a></div><div class="ttdoc">Scheduling dependency.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00049">ScheduleDAG.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a96bda22e654a59fec0620767b56dd53f"><div class="ttname"><a href="classllvm_1_1SetVector.html#a96bda22e654a59fec0620767b56dd53f">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Completely clear the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00213">SetVector.h:213</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="astructllvm_1_1RegPressureDelta_html"><div class="ttname"><a href="structllvm_1_1RegPressureDelta.html">llvm::RegPressureDelta</a></div><div class="ttdoc">Store the effects of a change in pressure on things that MI scheduler cares about.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00238">RegisterPressure.h:238</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a8d97d09150ddcbcf5039f938111358ee"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8d97d09150ddcbcf5039f938111358ee">llvm::MachineInstr::isRegSequence</a></div><div class="ttdeci">bool isRegSequence() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01336">MachineInstr.h:1336</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a3d5aacd5fc7d6a739ce913974ed1e53d"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">llvm::ScheduleDAG::SUnits</a></div><div class="ttdeci">std::vector&lt; SUnit &gt; SUnits</div><div class="ttdoc">The scheduling units.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00561">ScheduleDAG.h:561</a></div></div>
<div class="ttc" id="anamespacellvm_html_a076f93c387f454f0db13d4bc7d4e7f9c"><div class="ttname"><a href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a></div><div class="ttdeci">void stable_sort(R &amp;&amp;Range)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01948">STLExtras.h:1948</a></div></div>
<div class="ttc" id="anamespacellvm_html_aed2c5dd2a303159f87771db83f54352b"><div class="ttname"><a href="namespacellvm.html#aed2c5dd2a303159f87771db83f54352b">llvm::isIdentifiedObject</a></div><div class="ttdeci">bool isIdentifiedObject(const Value *V)</div><div class="ttdoc">Return true if this pointer refers to a distinct and identifiable object.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00878">AliasAnalysis.cpp:878</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a1cb223b29cc4acffa9ffd03d134b2a1e"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a1cb223b29cc4acffa9ffd03d134b2a1e">llvm::TargetInstrInfo::isPostIncrement</a></div><div class="ttdeci">virtual bool isPostIncrement(const MachineInstr &amp;MI) const</div><div class="ttdoc">Return true for post-incremented instructions.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01475">TargetInstrInfo.h:1475</a></div></div>
<div class="ttc" id="aclassllvm_1_1ResourceManager_html_a53238e1dc17529bfe9b2a2802360fdb7"><div class="ttname"><a href="classllvm_1_1ResourceManager.html#a53238e1dc17529bfe9b2a2802360fdb7">llvm::ResourceManager::initProcResourceVectors</a></div><div class="ttdeci">void initProcResourceVectors(const MCSchedModel &amp;SM, SmallVectorImpl&lt; uint64_t &gt; &amp;Masks)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l03000">MachinePipeliner.cpp:3000</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a23e7afeb8a38aa0340c5644ebcd28f40"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a23e7afeb8a38aa0340c5644ebcd28f40">llvm::SwingSchedulerDAG::getDepth</a></div><div class="ttdeci">unsigned getDepth(SUnit *Node)</div><div class="ttdoc">The depth, in the dependence graph, for a node.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00231">MachinePipeliner.h:231</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a9a10594df0f8d0997e3a64bdace90fb9"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a9a10594df0f8d0997e3a64bdace90fb9">swapAntiDependences</a></div><div class="ttdeci">static void swapAntiDependences(std::vector&lt; SUnit &gt; &amp;SUnits)</div><div class="ttdoc">Swap all the anti dependences in the DAG.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l01147">MachinePipeliner.cpp:1147</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_afe8ac84bd477709d60ca690240637642"><div class="ttname"><a href="MachinePipeliner_8cpp.html#afe8ac84bd477709d60ca690240637642">SwpMaxStages</a></div><div class="ttdeci">static cl::opt&lt; int &gt; SwpMaxStages(&quot;pipeliner-max-stages&quot;, cl::desc(&quot;Maximum stages allowed in the generated scheduled.&quot;), cl::Hidden, cl::init(3))</div><div class="ttdoc">A command line argument to limit the number of stages in the pipeline.</div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">llvm::Successor</a></div><div class="ttdeci">@ Successor</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00035">SIMachineScheduler.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_af2d10c02d0df15403b3279d76f743b00"><div class="ttname"><a href="classllvm_1_1NodeSet.html#af2d10c02d0df15403b3279d76f743b00">llvm::NodeSet::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00398">MachinePipeliner.h:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ab96f3235c18e659758517d0532d606c9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab96f3235c18e659758517d0532d606c9">llvm::MachineInstr::mayStore</a></div><div class="ttdeci">bool mayStore(QueryType Type=AnyInBundle) const</div><div class="ttdoc">Return true if this instruction could possibly modify memory.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01069">MachineInstr.h:1069</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a0dfb0c744373d4b6112eb343a5b07fc7"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a0dfb0c744373d4b6112eb343a5b07fc7">llvm::TargetInstrInfo::analyzeBranch</a></div><div class="ttdeci">virtual bool analyzeBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *&amp;TBB, MachineBasicBlock *&amp;FBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, bool AllowModify=false) const</div><div class="ttdoc">Analyze the branching code at the end of MBB, returning true if it cannot be understood (e....</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00641">TargetInstrInfo.h:641</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_a0af873c2e6f8004dfe6d9bb48067b527"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#a0af873c2e6f8004dfe6d9bb48067b527">llvm::MachinePipeliner::TII</a></div><div class="ttdeci">const TargetInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00073">MachinePipeliner.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a148b76c8f993d4a3d95ac19c60e2ebe0"><div class="ttname"><a href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">llvm::SDep::setLatency</a></div><div class="ttdeci">void setLatency(unsigned Lat)</div><div class="ttdoc">Sets the latency for this edge.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00147">ScheduleDAG.h:147</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedModel_html_ad57c6f52887935df66e0892864e659b4"><div class="ttname"><a href="structllvm_1_1MCSchedModel.html#ad57c6f52887935df66e0892864e659b4">llvm::MCSchedModel::getProcResource</a></div><div class="ttdeci">const MCProcResourceDesc * getProcResource(unsigned ProcResourceIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00339">MCSchedule.h:339</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a8c161f5f015730ac6853c802c3693a41"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">llvm::MachineInstr::hasUnmodeledSideEffects</a></div><div class="ttdeci">bool hasUnmodeledSideEffects() const</div><div class="ttdoc">Return true if this instruction has side effects that are not modeled by mayLoad / mayStore,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01458">MachineInstr.cpp:1458</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a348590624c488b04d0f9e227e6c3960e"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">llvm::ScheduleDAG::TII</a></div><div class="ttdeci">const TargetInstrInfo * TII</div><div class="ttdoc">Target instruction information.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00557">ScheduleDAG.h:557</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a23d6b914952799027040a351f501a0ad"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a23d6b914952799027040a351f501a0ad">llvm::SMSchedule::computeUnpipelineableNodes</a></div><div class="ttdeci">SmallSet&lt; SUnit *, 8 &gt; computeUnpipelineableNodes(SwingSchedulerDAG *SSD, TargetInstrInfo::PipelinerLoopInfo *PLI)</div><div class="ttdoc">Determine transitive dependences of unpipelineable instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02666">MachinePipeliner.cpp:2666</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">llvm::pdb::PDB_LocType::Slot</a></div><div class="ttdeci">@ Slot</div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoop_html_a8272f9a740bb9f21c0a1025873ae697a"><div class="ttname"><a href="classllvm_1_1MachineLoop.html#a8272f9a740bb9f21c0a1025873ae697a">llvm::MachineLoop::getStartLoc</a></div><div class="ttdeci">DebugLoc getStartLoc() const</div><div class="ttdoc">Return the debug location of the start of this loop.</div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8cpp_source.html#l00101">MachineLoopInfo.cpp:101</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a58c5b170ea68b41e94ebb0019523a68f"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00105">LoopInfo.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a21c2c6ae5ec23004dc4020eacf83bbce"><div class="ttname"><a href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">llvm::SetVector::count</a></div><div class="ttdeci">size_type count(const key_type &amp;key) const</div><div class="ttdoc">Count the number of elements of a given key in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00208">SetVector.h:208</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGTopologicalSort_html_a44c5faa549f250a26b1303eb1a3ebd47"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#a44c5faa549f250a26b1303eb1a3ebd47">llvm::ScheduleDAGTopologicalSort::InitDAGTopologicalSorting</a></div><div class="ttdeci">void InitDAGTopologicalSorting()</div><div class="ttdoc">Creates the initial topological ordering from the DAG to be scheduled.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00440">ScheduleDAG.cpp:440</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_af92bf49ed4846e026e68c380d74d7b15"><div class="ttname"><a href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">llvm::SUnit::addPred</a></div><div class="ttdeci">bool addPred(const SDep &amp;D, bool Required=true)</div><div class="ttdoc">Adds the specified edge as a pred of the current node if not already.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00107">ScheduleDAG.cpp:107</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a5f8ea6535c262fbc8a16177783020314"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a5f8ea6535c262fbc8a16177783020314">llvm::TargetInstrInfo::areMemAccessesTriviallyDisjoint</a></div><div class="ttdeci">virtual bool areMemAccessesTriviallyDisjoint(const MachineInstr &amp;MIa, const MachineInstr &amp;MIb) const</div><div class="ttdoc">Sometimes, it is possible for the target to tell, even without aliasing information,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01849">TargetInstrInfo.h:1849</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedModel_html"><div class="ttname"><a href="structllvm_1_1MCSchedModel.html">llvm::MCSchedModel</a></div><div class="ttdoc">Machine model for scheduling, bundling, and heuristics.</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00244">MCSchedule.h:244</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a9d9a8b8d5225f85cecbbada4ce4406b0"><div class="ttname"><a href="classllvm_1_1SUnit.html#a9d9a8b8d5225f85cecbbada4ce4406b0">llvm::SUnit::hasPhysRegDefs</a></div><div class="ttdeci">bool hasPhysRegDefs</div><div class="ttdoc">Has physreg defs that are being used.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00280">ScheduleDAG.h:280</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html">llvm::LiveIntervals</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00053">LiveIntervals.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a22e496ee465f050b9572b905ee9765fa"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a22e496ee465f050b9572b905ee9765fa">pred_L</a></div><div class="ttdeci">static bool pred_L(SetVector&lt; SUnit * &gt; &amp;NodeOrder, SmallSetVector&lt; SUnit *, 8 &gt; &amp;Preds, const NodeSet *S=nullptr)</div><div class="ttdoc">Compute the Pred_L(O) set, as defined in the paper.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l01465">MachinePipeliner.cpp:1465</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a3460671809bfea01d71388f2e45c3c50"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a3460671809bfea01d71388f2e45c3c50">llvm::SMSchedule::print</a></div><div class="ttdeci">void print(raw_ostream &amp;os) const</div><div class="ttdoc">Print the schedule information to the given output.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02960">MachinePipeliner.cpp:2960</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a3fa089137317e93276cab5774d4bf11f"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a3fa089137317e93276cab5774d4bf11f">llvm::SwingSchedulerDAG::applyInstrChange</a></div><div class="ttdeci">void applyInstrChange(MachineInstr *MI, SMSchedule &amp;Schedule)</div><div class="ttdoc">Apply changes to the instruction if needed.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02178">MachinePipeliner.cpp:2178</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a055c65558a3e0f7d48f1ed3dde061199"><div class="ttname"><a href="classllvm_1_1SDep.html#a055c65558a3e0f7d48f1ed3dde061199">llvm::SDep::getKind</a></div><div class="ttdeci">Kind getKind() const</div><div class="ttdoc">Returns an enum value representing the kind of the dependence.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00486">ScheduleDAG.h:486</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_a254403f7804208ade3cb68086201cb7a"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">llvm::ScheduleDAGInstrs::BB</a></div><div class="ttdeci">MachineBasicBlock * BB</div><div class="ttdoc">The block in which to insert instructions.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00146">ScheduleDAGInstrs.h:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_aa3cae80bd7b0ea6f8ea9702132e23c0c"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#aa3cae80bd7b0ea6f8ea9702132e23c0c">llvm::MachinePipeliner::disabledByPragma</a></div><div class="ttdeci">bool disabledByPragma</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00075">MachinePipeliner.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a0aa679580cf57d3ac130de888e50d343"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a0aa679580cf57d3ac130de888e50d343">llvm::SMSchedule::earliestCycleInChain</a></div><div class="ttdeci">int earliestCycleInChain(const SDep &amp;Dep)</div><div class="ttdoc">Return the cycle of the earliest scheduled instruction in the dependence chain.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02367">MachinePipeliner.cpp:2367</a></div></div>
<div class="ttc" id="anamespacellvm_html_aacc94b06b3540d18255a46abbe4f5f11"><div class="ttname"><a href="namespacellvm.html#aacc94b06b3540d18255a46abbe4f5f11">llvm::Cycle</a></div><div class="ttdeci">CycleInfo::CycleT Cycle</div><div class="ttdef"><b>Definition:</b> <a href="CycleAnalysis_8h_source.html#l00028">CycleAnalysis.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegUnitIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegUnitIterator.html">llvm::MCRegUnitIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00680">MCRegisterInfo.h:680</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00224">Type.cpp:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html"><div class="ttname"><a href="classllvm_1_1Pass.html">llvm::Pass</a></div><div class="ttdoc">Pass interface - Implemented by all 'passes'.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00091">Pass.h:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_a9bb605a2dfdc357e7ca0daa4d4dda2ec"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#a9bb605a2dfdc357e7ca0daa4d4dda2ec">llvm::MachinePipeliner::NumTries</a></div><div class="ttdeci">static int NumTries</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00079">MachinePipeliner.h:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_aa5f22315c4064579fca6cd88fb36ea5a"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#aa5f22315c4064579fca6cd88fb36ea5a">llvm::ScheduleDAGInstrs::dumpNode</a></div><div class="ttdeci">void dumpNode(const SUnit &amp;SU) const override</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01164">ScheduleDAGInstrs.cpp:1164</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17e04afcf0c5efeb0eb6a9a45287b5e4"><div class="ttname"><a href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, const MIMetadata &amp;MIMD, const MCInstrDesc &amp;MCID)</div><div class="ttdoc">Builder interface. Specify how to create the initial instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00357">MachineInstrBuilder.h:357</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="anamespacellvm_1_1rdf_html_afb6b57e855640b977f48537fe9d01362"><div class="ttname"><a href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">llvm::rdf::NodeSet</a></div><div class="ttdeci">std::set&lt; NodeId &gt; NodeSet</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00514">RDFGraph.h:514</a></div></div>
<div class="ttc" id="aMachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_a1f9a4461e2c9ac06b97f55554f836d66"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a1f9a4461e2c9ac06b97f55554f836d66">llvm::ScheduleDAGInstrs::finishBlock</a></div><div class="ttdeci">virtual void finishBlock()</div><div class="ttdoc">Cleans up after scheduling in the given block.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00184">ScheduleDAGInstrs.cpp:184</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a71de236693eee2ea895a1145d54a4c04"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a71de236693eee2ea895a1145d54a4c04">succ_L</a></div><div class="ttdeci">static bool succ_L(SetVector&lt; SUnit * &gt; &amp;NodeOrder, SmallSetVector&lt; SUnit *, 8 &gt; &amp;Succs, const NodeSet *S=nullptr)</div><div class="ttdoc">Compute the Succ_L(O) set, as defined in the paper.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l01494">MachinePipeliner.cpp:1494</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a274909b1f31ad2d3d3379de55467d377"><div class="ttname"><a href="classllvm_1_1SUnit.html#a274909b1f31ad2d3d3379de55467d377">llvm::SUnit::isInstr</a></div><div class="ttdeci">bool isInstr() const</div><div class="ttdoc">Returns true if this SUnit refers to a machine instruction as opposed to an SDNode.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00362">ScheduleDAG.h:362</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a49f776e0940cc5d63d17d85ff6dac257"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a49f776e0940cc5d63d17d85ff6dac257">llvm::MemoryLocation::getAfter</a></div><div class="ttdeci">static MemoryLocation getAfter(const Value *Ptr, const AAMDNodes &amp;AATags=AAMDNodes())</div><div class="ttdoc">Return a location that may access any location after Ptr, while remaining within the underlying objec...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00271">MemoryLocation.h:271</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ac5b936169badf0b703567eb960278648"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">llvm::SmallVectorImpl::iterator</a></div><div class="ttdeci">typename SuperClass::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00581">SmallVector.h:581</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_1_1DiffListIterator_html_a82f1c2dcfab9e27af4497fb0e13c4c6f"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">llvm::MCRegisterInfo::DiffListIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">isValid - returns true if this iterator is not yet at the end.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00224">MCRegisterInfo.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a682ba82f42f7903d0000ffbb13ea3b57"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">llvm::MachineOperand::setReg</a></div><div class="ttdeci">void setReg(Register Reg)</div><div class="ttdoc">Change the register this operand corresponds to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00061">MachineOperand.cpp:61</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_ad3ece0ac2421637044624c9b01c42466"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a></div><div class="ttdeci">MachineInstrBuilder MachineInstrBuilder &amp; DefMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00108">AArch64ExpandPseudoInsts.cpp:108</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResultsWrapperPass_html"><div class="ttname"><a href="classllvm_1_1AAResultsWrapperPass.html">llvm::AAResultsWrapperPass</a></div><div class="ttdoc">A wrapper pass to provide the legacy pass manager access to a suitably prepared AAResults object.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00933">AliasAnalysis.h:933</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a432824f0975bb863478bf4ef3a5df258"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Retuns the total number of operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00519">MachineInstr.h:519</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoop_html_adfb3765b2827835823c1c55d12b33957"><div class="ttname"><a href="classllvm_1_1MachineLoop.html#adfb3765b2827835823c1c55d12b33957">llvm::MachineLoop::getTopBlock</a></div><div class="ttdeci">MachineBasicBlock * getTopBlock()</div><div class="ttdoc">Return the &quot;top&quot; block in the loop, which is the first block in the linear layout,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8cpp_source.html#l00061">MachineLoopInfo.cpp:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1ResourceManager_html_adfd05fb40b63f3fde78a81e119ed89e3"><div class="ttname"><a href="classllvm_1_1ResourceManager.html#adfd05fb40b63f3fde78a81e119ed89e3">llvm::ResourceManager::canReserveResources</a></div><div class="ttdeci">bool canReserveResources(SUnit &amp;SU, int Cycle)</div><div class="ttdoc">Check if the resources occupied by a machine instruction are available in the current state.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l03042">MachinePipeliner.cpp:3042</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePipeliner_1_1LoopInfo_html_a64fe32158ed270aff9e9f8c2eeb49be3"><div class="ttname"><a href="structllvm_1_1MachinePipeliner_1_1LoopInfo.html#a64fe32158ed270aff9e9f8c2eeb49be3">llvm::MachinePipeliner::LoopInfo::TBB</a></div><div class="ttdeci">MachineBasicBlock * TBB</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00084">MachinePipeliner.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo_html_a60ab2da004401c41428ea89e043ae9c5"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo.html#a60ab2da004401c41428ea89e043ae9c5">llvm::TargetInstrInfo::PipelinerLoopInfo::shouldIgnoreForPipelining</a></div><div class="ttdeci">virtual bool shouldIgnoreForPipelining(const MachineInstr *MI) const =0</div><div class="ttdoc">Return true if the given instruction should not be pipelined and should be ignored.</div></div>
<div class="ttc" id="aLaneBitmask_8h_html"><div class="ttname"><a href="LaneBitmask_8h.html">LaneBitmask.h</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedModel_html_ae84985c514afb246e14c45a0280e3f90"><div class="ttname"><a href="structllvm_1_1MCSchedModel.html#ae84985c514afb246e14c45a0280e3f90">llvm::MCSchedModel::getSchedClassDesc</a></div><div class="ttdeci">const MCSchedClassDesc * getSchedClassDesc(unsigned SchedClassIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00346">MCSchedule.h:346</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a2f63e339cd88f5a8e97a8150ea9129d2af29ddbfb905eb2593fdcdfb243f9af85">llvm::logicalview::LVComparePass::Added</a></div><div class="ttdeci">@ Added</div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_a86bdb160261c3d5fcfcc328afa8dfe40"><div class="ttname"><a href="classllvm_1_1NodeSet.html#a86bdb160261c3d5fcfcc328afa8dfe40">llvm::NodeSet::getNode</a></div><div class="ttdeci">SUnit * getNode(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00372">MachinePipeliner.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a8de021e28a3c04c9216ad8decf104f02"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">const Instruction * getTerminator() const LLVM_READONLY</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00127">BasicBlock.h:127</a></div></div>
<div class="ttc" id="aMachineMemOperand_8h_html"><div class="ttname"><a href="MachineMemOperand_8h.html">MachineMemOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; const Value * &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aMachineOperand_8h_html"><div class="ttname"><a href="MachineOperand_8h.html">MachineOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_aba49350c71f099c58053900c4250b417"><div class="ttname"><a href="classllvm_1_1NodeSet.html#aba49350c71f099c58053900c4250b417">llvm::NodeSet::insert</a></div><div class="ttdeci">bool insert(SUnit *SU)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00356">MachinePipeliner.h:356</a></div></div>
<div class="ttc" id="aHexagonGenPredicate_8cpp_html_a0de1bf31f56b17312cc34b911d86faa4"><div class="ttname"><a href="HexagonGenPredicate_8cpp.html#a0de1bf31f56b17312cc34b911d86faa4">pred</a></div><div class="ttdeci">hexagon gen pred</div><div class="ttdef"><b>Definition:</b> <a href="HexagonGenPredicate_8cpp_source.html#l00134">HexagonGenPredicate.cpp:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_ae2b43854b542de66eec6475adc48f56c"><div class="ttname"><a href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">llvm::SUnit::Preds</a></div><div class="ttdeci">SmallVector&lt; SDep, 4 &gt; Preds</div><div class="ttdoc">All sunit predecessors.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00256">ScheduleDAG.h:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html"><div class="ttname"><a href="classllvm_1_1SUnit.html">llvm::SUnit</a></div><div class="ttdoc">Scheduling unit. This is a node in the scheduling DAG.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00242">ScheduleDAG.h:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachinePipeliner_html_ab5daeaa9b8ae99949ad8e147a549fd20"><div class="ttname"><a href="classllvm_1_1MachinePipeliner.html#ab5daeaa9b8ae99949ad8e147a549fd20">llvm::MachinePipeliner::II_setByPragma</a></div><div class="ttdeci">unsigned II_setByPragma</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00076">MachinePipeliner.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuloScheduleExpander_html"><div class="ttname"><a href="classllvm_1_1ModuloScheduleExpander.html">llvm::ModuloScheduleExpander</a></div><div class="ttdoc">The ModuloScheduleExpander takes a ModuloSchedule and expands it in-place, rewriting the old loop and...</div><div class="ttdef"><b>Definition:</b> <a href="ModuloSchedule_8h_source.html#l00160">ModuloSchedule.h:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrInfo_html_a0587abbded61717d8a153b7e5bfdbfed"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">llvm::MCInstrInfo::get</a></div><div class="ttdeci">const MCInstrDesc &amp; get(unsigned Opcode) const</div><div class="ttdoc">Return the machine instruction descriptor that corresponds to the specified instruction opcode.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00063">MCInstrInfo.h:63</a></div></div>
<div class="ttc" id="aMachinePipeliner_8h_html"><div class="ttname"><a href="MachinePipeliner_8h.html">MachinePipeliner.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstrItineraryData_html_aeff040294feebea3d768822014c5baa8"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#aeff040294feebea3d768822014c5baa8">llvm::InstrItineraryData::beginStage</a></div><div class="ttdeci">const InstrStage * beginStage(unsigned ItinClassIndx) const</div><div class="ttdoc">Return the first stage of the itinerary.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00135">MCInstrItineraries.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a336ecf423257d7f3b529f5817d9598c9"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a336ecf423257d7f3b529f5817d9598c9">llvm::SMSchedule::getMaxStageCount</a></div><div class="ttdeci">unsigned getMaxStageCount()</div><div class="ttdoc">Return the maximum stage count needed for this schedule.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00628">MachinePipeliner.h:628</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1MCSchedModel_html_a68fa67076e0244cf21e80f2c43b6fa02"><div class="ttname"><a href="structllvm_1_1MCSchedModel.html#a68fa67076e0244cf21e80f2c43b6fa02">llvm::MCSchedModel::hasInstrSchedModel</a></div><div class="ttdeci">bool hasInstrSchedModel() const</div><div class="ttdoc">Does this machine model include instruction-level scheduling.</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00320">MCSchedule.h:320</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html">llvm::ScheduleDAGInstrs</a></div><div class="ttdoc">A ScheduleDAG for scheduling lists of MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00120">ScheduleDAGInstrs.h:120</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a54f5c13096361c202326c7a064fcdf9c"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a54f5c13096361c202326c7a064fcdf9c">llvm::SMSchedule::latestCycleInChain</a></div><div class="ttdeci">int latestCycleInChain(const SDep &amp;Dep)</div><div class="ttdoc">Return the cycle of the latest scheduled instruction in the dependence chain.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02390">MachinePipeliner.cpp:2390</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_ac2afdd571841c61dc8f980fe3d6f4885"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#ac2afdd571841c61dc8f980fe3d6f4885">llvm::SMSchedule::cycleScheduled</a></div><div class="ttdeci">unsigned cycleScheduled(SUnit *SU) const</div><div class="ttdoc">Return the cycle for a scheduled instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00621">MachinePipeliner.h:621</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdoc">DominatorTree Class - Concrete subclass of DominatorTreeBase that is used to compute a normal dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00051">MachineDominators.h:51</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00685">README.txt:685</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html"><div class="ttname"><a href="classllvm_1_1SetVector.html">llvm::SetVector</a></div><div class="ttdoc">A vector that has set insertion semantics.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00040">SetVector.h:40</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a00966a294fe7a54bf2f6a296e82fc8e1"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a00966a294fe7a54bf2f6a296e82fc8e1">llvm::MachineInstr::mayRaiseFPException</a></div><div class="ttdeci">bool mayRaiseFPException() const</div><div class="ttdoc">Return true if this instruction could possibly raise a floating-point exception.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01089">MachineInstr.h:1089</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html"><div class="ttname"><a href="classllvm_1_1MDString.html">llvm::MDString</a></div><div class="ttdoc">A single uniqued string.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00611">Metadata.h:611</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstrItineraryData_html_affe6bc9136f849e9b46fbccf620b3409"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#affe6bc9136f849e9b46fbccf620b3409">llvm::InstrItineraryData::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if there are no itineraries.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00126">MCInstrItineraries.h:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a51bda1806219d879123625c8d4ae3fbc"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a51bda1806219d879123625c8d4ae3fbc">llvm::SwingSchedulerDAG::fixupRegisterOverlaps</a></div><div class="ttdeci">void fixupRegisterOverlaps(std::deque&lt; SUnit * &gt; &amp;Instrs)</div><div class="ttdoc">Attempt to fix the degenerate cases when the instruction serialization causes the register lifetimes ...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l02856">MachinePipeliner.cpp:2856</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">llvm::MemoryLocation::UnknownSize</a></div><div class="ttdeci">@ UnknownSize</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00216">MemoryLocation.h:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html">llvm::MCSubtargetInfo</a></div><div class="ttdoc">Generic base class for all target subtargets.</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00076">MCSubtargetInfo.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1ResourceManager_html"><div class="ttname"><a href="classllvm_1_1ResourceManager.html">llvm::ResourceManager</a></div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00445">MachinePipeliner.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aef0e7e42e45e15f86b2a122b56ab829c"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aef0e7e42e45e15f86b2a122b56ab829c">llvm::MachineInstr::operands</a></div><div class="ttdeci">iterator_range&lt; mop_iterator &gt; operands()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00641">MachineInstr.h:641</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a7a73104304bf1f9d344ad495283561b5"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a7a73104304bf1f9d344ad495283561b5">llvm::MachineRegisterInfo::use_instr_end</a></div><div class="ttdeci">static use_instr_iterator use_instr_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00502">MachineRegisterInfo.h:502</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a39271d8f98026cdac8a9fa7b8e90b333"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a39271d8f98026cdac8a9fa7b8e90b333">llvm::SwingSchedulerDAG::getASAP</a></div><div class="ttdeci">int getASAP(SUnit *Node)</div><div class="ttdoc">Return the earliest time an instruction may be scheduled.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00221">MachinePipeliner.h:221</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstrItineraryData_html"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html">llvm::InstrItineraryData</a></div><div class="ttdoc">Itinerary data supplied by a subtarget to be used by a target.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00109">MCInstrItineraries.h:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a5eca2019521fd47b79fe5ef66d02fd43"><div class="ttname"><a href="classllvm_1_1SDep.html#a5eca2019521fd47b79fe5ef66d02fd43">llvm::SDep::getLatency</a></div><div class="ttdeci">unsigned getLatency() const</div><div class="ttdoc">Returns the latency value for this edge, which roughly means the minimum number of cycles that must e...</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00142">ScheduleDAG.h:142</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html_a64379c9a0436bfd06da2e854c7fc9c33"><div class="ttname"><a href="classllvm_1_1SMSchedule.html#a64379c9a0436bfd06da2e854c7fc9c33">llvm::SMSchedule::stageScheduled</a></div><div class="ttdeci">int stageScheduled(SUnit *SU) const</div><div class="ttdoc">Return the stage for a scheduled instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00612">MachinePipeliner.h:612</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_ae04ad615dfdd885e85cbddda146787c6"><div class="ttname"><a href="classllvm_1_1SmallSet.html#ae04ad615dfdd885e85cbddda146787c6">llvm::SmallSet::contains</a></div><div class="ttdeci">bool contains(const T &amp;V) const</div><div class="ttdoc">Check if the SmallSet contains the given element.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00234">SmallSet.h:234</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMSchedule_html"><div class="ttname"><a href="classllvm_1_1SMSchedule.html">llvm::SMSchedule</a></div><div class="ttdoc">This class represents the scheduled code.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00533">MachinePipeliner.h:533</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad7f2dc64214551418f486026ffc95fa4"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">llvm::MachineOperand::isIdenticalTo</a></div><div class="ttdeci">bool isIdenticalTo(const MachineOperand &amp;Other) const</div><div class="ttdoc">Returns true if this operand is identical to the specified operand except for liveness related flags ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00306">MachineOperand.cpp:306</a></div></div>
<div class="ttc" id="aMachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwingSchedulerDAG_html_a34d16bb80a624ed949071dbfbbd31b59"><div class="ttname"><a href="classllvm_1_1SwingSchedulerDAG.html#a34d16bb80a624ed949071dbfbbd31b59">llvm::SwingSchedulerDAG::getInstrBaseReg</a></div><div class="ttdeci">unsigned getInstrBaseReg(SUnit *SU)</div><div class="ttdoc">Return the new base register that was stored away for the changed instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00275">MachinePipeliner.h:275</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:56:06 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
