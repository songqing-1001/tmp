<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/ExecutionEngine/Orc/TargetProcess/SimpleRemoteEPCServer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_9ff4c6dc1720636682ab045c894e9bc5.html">ExecutionEngine</a></li><li class="navelem"><a class="el" href="dir_5e11c450ca4c873ca81149e572d5ac9a.html">Orc</a></li><li class="navelem"><a class="el" href="dir_88c59b77079b3d87fe7c7b60d4e143ae.html">TargetProcess</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SimpleRemoteEPCServer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SimpleRemoteEPCServer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===------- SimpleEPCServer.cpp - EPC over simple abstract channel -------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SimpleRemoteEPCServer_8h.html">llvm/ExecutionEngine/Orc/TargetProcess/SimpleRemoteEPCServer.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetProcessControlTypes_8h.html">llvm/ExecutionEngine/Orc/Shared/TargetProcessControlTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FormatVariadic_8h.html">llvm/Support/FormatVariadic.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Process_8h.html">llvm/Support/Process.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetParser_2Host_8h.html">llvm/TargetParser/Host.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OrcRTBootstrap_8h.html">OrcRTBootstrap.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="SimpleRemoteEPCServer_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   18</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;orc&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1orc_1_1shared.html">llvm::orc::shared</a>;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">namespace </span>orc {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<a class="code" href="classllvm_1_1orc_1_1ExecutorBootstrapService.html#a2d9f6a8c2986c72ab233201463e37190">ExecutorBootstrapService::~ExecutorBootstrapService</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<a class="code" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer_1_1Dispatcher.html#a1fa8e79391c0da2479da4528abcc1664">SimpleRemoteEPCServer::Dispatcher::~Dispatcher</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#if LLVM_ENABLE_THREADS</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer_1_1ThreadDispatcher.html#a4e42b608bb374de4868f8d5f5211abfa">SimpleRemoteEPCServer::ThreadDispatcher::dispatch</a>(</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    unique_function&lt;<span class="keywordtype">void</span>()&gt; Work) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(DispatchMutex);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> (!Running)</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    ++Outstanding;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  std::thread([<span class="keyword">this</span>, Work = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Work)]() <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    Work();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(DispatchMutex);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    --Outstanding;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    OutstandingCV.notify_all();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }).detach();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer_1_1ThreadDispatcher.html#acf25fe5a0dcfaa1209eaead67f4dcd0d">SimpleRemoteEPCServer::ThreadDispatcher::shutdown</a>() {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  std::unique_lock&lt;std::mutex&gt; Lock(DispatchMutex);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  Running = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  OutstandingCV.wait(Lock, [<span class="keyword">this</span>]() { <span class="keywordflow">return</span> Outstanding == 0; });</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#a0d4f063da3bf0cb25ecdf1d8efb56b11">   54</a></span>&#160;<a class="code" href="classllvm_1_1StringMap.html">StringMap&lt;ExecutorAddr&gt;</a> <a class="code" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#a0d4f063da3bf0cb25ecdf1d8efb56b11">SimpleRemoteEPCServer::defaultBootstrapSymbols</a>() {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classllvm_1_1StringMap.html">StringMap&lt;ExecutorAddr&gt;</a> DBS;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="namespacellvm_1_1orc_1_1rt__bootstrap.html#a80380ad8a5c79d75366b0c1d968a4b7c">rt_bootstrap::addTo</a>(DBS);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">return</span> DBS;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<a class="code" href="classllvm_1_1Expected.html">Expected&lt;SimpleRemoteEPCTransportClient::HandleMessageAction&gt;</a></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#a7cebd705ee395af11d16ce83bad8060e">   61</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#a7cebd705ee395af11d16ce83bad8060e">SimpleRemoteEPCServer::handleMessage</a>(<a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47">SimpleRemoteEPCOpcode</a> OpC, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SeqNo,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                                     <a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html">ExecutorAddr</a> TagAddr,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                     <a class="code" href="classllvm_1_1SmallVector.html">SimpleRemoteEPCArgBytesVector</a> ArgBytes) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SimpleRemoteEPCServer::handleMessage: opc = &quot;</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">switch</span> (OpC) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47aad2376beebecdcf7846ba973fa1a005b">SimpleRemoteEPCOpcode::Setup</a>:</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Setup&quot;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SeqNo == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero SeqNo for Setup?&quot;</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TagAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a4ee908fb9052f020e3c50e3f1a7d81c5">getValue</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero TagAddr for Setup?&quot;</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a77bd384c19f071f8d0579398b90df0b6">SimpleRemoteEPCOpcode::Hangup</a>:</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Hangup&quot;</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SeqNo == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero SeqNo for Hangup?&quot;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TagAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a4ee908fb9052f020e3c50e3f1a7d81c5">getValue</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero TagAddr for Hangup?&quot;</span>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a8eea62084ca7e541d918e823422bd82e">SimpleRemoteEPCOpcode::Result</a>:</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Result&quot;</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TagAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a4ee908fb9052f020e3c50e3f1a7d81c5">getValue</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero TagAddr for Result?&quot;</span>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a0fe959195d2bfd3ccc5cd9c358c4b561">SimpleRemoteEPCOpcode::CallWrapper</a>:</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;CallWrapper&quot;</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, seqno = &quot;</span> &lt;&lt; SeqNo</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;, tag-addr = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, TagAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a4ee908fb9052f020e3c50e3f1a7d81c5">getValue</a>())</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;, arg-buffer = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, ArgBytes.size())</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; bytes\n&quot;</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  });</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keyword">using</span> UT = std::underlying_type_t&lt;SimpleRemoteEPCOpcode&gt;;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>UT<span class="keyword">&gt;</span>(OpC) &gt; <span class="keyword">static_cast&lt;</span>UT<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47ac1412e64d00512f6facfacd333f8c2b3">SimpleRemoteEPCOpcode::LastOpC</a>))</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;Unexpected opcode&quot;</span>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                   <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// TODO: Clean detach message?</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">switch</span> (OpC) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47aad2376beebecdcf7846ba973fa1a005b">SimpleRemoteEPCOpcode::Setup</a>:</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;Unexpected Setup opcode&quot;</span>,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                   <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a77bd384c19f071f8d0579398b90df0b6">SimpleRemoteEPCOpcode::Hangup</a>:</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1orc_1_1SimpleRemoteEPCTransportClient.html#a0cae86f42eaefdba4b602c77afb1e035abd48e7a3495d02791216dca8b8ad1837">SimpleRemoteEPCTransportClient::EndSession</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a8eea62084ca7e541d918e823422bd82e">SimpleRemoteEPCOpcode::Result</a>:</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = handleResult(SeqNo, TagAddr, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ArgBytes)))</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a0fe959195d2bfd3ccc5cd9c358c4b561">SimpleRemoteEPCOpcode::CallWrapper</a>:</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    handleCallWrapper(SeqNo, TagAddr, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ArgBytes));</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">return</span> ContinueSession;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#ae259ce83b3dc0da12f3e72749392bfe0">  115</a></span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#ae259ce83b3dc0da12f3e72749392bfe0">SimpleRemoteEPCServer::waitForDisconnect</a>() {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  std::unique_lock&lt;std::mutex&gt; Lock(ServerStateMutex);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  ShutdownCV.wait(Lock, [<span class="keyword">this</span>]() { <span class="keywordflow">return</span> RunState == ServerShutDown; });</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ShutdownErr);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#aae9a77420cb32624ef47463b05ac6cb6">  121</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#aae9a77420cb32624ef47463b05ac6cb6">SimpleRemoteEPCServer::handleDisconnect</a>(<a class="code" href="classllvm_1_1Error.html">Error</a> Err) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">PendingJITDispatchResultsMap</a> TmpPending;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(ServerStateMutex);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TmpPending, PendingJITDispatchResults);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    RunState = ServerShuttingDown;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// Send out-of-band errors to any waiting threads.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;KV : TmpPending)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    KV.second-&gt;set_value(</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="classllvm_1_1orc_1_1shared_1_1WrapperFunctionResult.html#ae0a341aa5651a0e6b296119ad73cdef5">shared::WrapperFunctionResult::createOutOfBandError</a>(<span class="stringliteral">&quot;disconnecting&quot;</span>));</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// Wait for dispatcher to clear.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>-&gt;shutdown();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// Shut down services.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">while</span> (!Services.empty()) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    ShutdownErr =</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ShutdownErr), Services.back()-&gt;shutdown());</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    Services.pop_back();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  std::lock_guard&lt;std::mutex&gt; Lock(ServerStateMutex);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  ShutdownErr = <a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ShutdownErr), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  RunState = ServerShutDown;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  ShutdownCV.notify_all();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> SimpleRemoteEPCServer::sendMessage(<a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47">SimpleRemoteEPCOpcode</a> OpC,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                         <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SeqNo, <a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html">ExecutorAddr</a> TagAddr,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                         <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;char&gt;</a> ArgBytes) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SimpleRemoteEPCServer::sendMessage: opc = &quot;</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">switch</span> (OpC) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47aad2376beebecdcf7846ba973fa1a005b">SimpleRemoteEPCOpcode::Setup</a>:</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Setup&quot;</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SeqNo == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero SeqNo for Setup?&quot;</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TagAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a4ee908fb9052f020e3c50e3f1a7d81c5">getValue</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero TagAddr for Setup?&quot;</span>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a77bd384c19f071f8d0579398b90df0b6">SimpleRemoteEPCOpcode::Hangup</a>:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Hangup&quot;</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SeqNo == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero SeqNo for Hangup?&quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TagAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a4ee908fb9052f020e3c50e3f1a7d81c5">getValue</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero TagAddr for Hangup?&quot;</span>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a8eea62084ca7e541d918e823422bd82e">SimpleRemoteEPCOpcode::Result</a>:</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Result&quot;</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TagAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a4ee908fb9052f020e3c50e3f1a7d81c5">getValue</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;Non-zero TagAddr for Result?&quot;</span>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a0fe959195d2bfd3ccc5cd9c358c4b561">SimpleRemoteEPCOpcode::CallWrapper</a>:</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;CallWrapper&quot;</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, seqno = &quot;</span> &lt;&lt; SeqNo</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;, tag-addr = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, TagAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a4ee908fb9052f020e3c50e3f1a7d81c5">getValue</a>())</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;, arg-buffer = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, ArgBytes.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>())</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; bytes\n&quot;</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  });</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keyword">auto</span> Err = <a class="code" href="classT.html">T</a>-&gt;sendMessage(OpC, SeqNo, TagAddr, ArgBytes);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (Err)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  \\--&gt; SimpleRemoteEPC::sendMessage failed\n&quot;</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  });</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">return</span> Err;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Error</a> SimpleRemoteEPCServer::sendSetupMessage(</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    StringMap&lt;ExecutorAddr&gt; BootstrapSymbols) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keyword">using namespace </span>SimpleRemoteEPCDefaultBootstrapSymbolNames;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  std::vector&lt;char&gt; SetupPacket;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  SimpleRemoteEPCExecutorInfo EI;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  EI.TargetTriple = <a class="code" href="namespacellvm_1_1sys.html#aab375071f641a086c0d7067635ccd3dc">sys::getProcessTriple</a>();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a> = <a class="code" href="classllvm_1_1sys_1_1Process.html#a60b9d3bd7eff517e776913fa60499cb1">sys::Process::getPageSize</a>())</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    EI.PageSize = *<a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>.takeError();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  EI.BootstrapSymbols = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(BootstrapSymbols);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!EI.BootstrapSymbols.count(<a class="code" href="namespacellvm_1_1orc_1_1SimpleRemoteEPCDefaultBootstrapSymbolNames.html#a5925697872254d16b34822093c7bc895">ExecutorSessionObjectName</a>) &amp;&amp;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;         <span class="stringliteral">&quot;Dispatch context name should not be set&quot;</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!EI.BootstrapSymbols.count(<a class="code" href="namespacellvm_1_1orc_1_1SimpleRemoteEPCDefaultBootstrapSymbolNames.html#a317afe50d801a8bda1f3dd0f4e52752a">DispatchFnName</a>) &amp;&amp;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         <span class="stringliteral">&quot;Dispatch function name should not be set&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  EI.BootstrapSymbols[<a class="code" href="namespacellvm_1_1orc_1_1SimpleRemoteEPCDefaultBootstrapSymbolNames.html#a5925697872254d16b34822093c7bc895">ExecutorSessionObjectName</a>] = <a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a8adb0ae35f7e95c960c86cfe19bc7215">ExecutorAddr::fromPtr</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  EI.BootstrapSymbols[<a class="code" href="namespacellvm_1_1orc_1_1SimpleRemoteEPCDefaultBootstrapSymbolNames.html#a317afe50d801a8bda1f3dd0f4e52752a">DispatchFnName</a>] = <a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a8adb0ae35f7e95c960c86cfe19bc7215">ExecutorAddr::fromPtr</a>(jitDispatchEntry);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keyword">using</span> SPSSerialize =</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      shared::SPSArgList&lt;shared::SPSSimpleRemoteEPCExecutorInfo&gt;;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keyword">auto</span> SetupPacketBytes =</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1shared_1_1WrapperFunctionResult.html#a5aec4b68eac1954bcb4505eedc0973d8">shared::WrapperFunctionResult::allocate</a>(<a class="code" href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">SPSSerialize::size</a>(EI));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  shared::SPSOutputBuffer <a class="code" href="namespacellvm_1_1X86II.html#a0f8eae4dc1f8612213b096103301fef5a3c11b5af543fcb3173f20c9ce3a6856d">OB</a>(SetupPacketBytes.data(), SetupPacketBytes.size());</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (!SPSSerialize::serialize(<a class="code" href="namespacellvm_1_1X86II.html#a0f8eae4dc1f8612213b096103301fef5a3c11b5af543fcb3173f20c9ce3a6856d">OB</a>, EI))</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;Could not send setup packet&quot;</span>,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                   <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">return</span> sendMessage(<a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47aad2376beebecdcf7846ba973fa1a005b">SimpleRemoteEPCOpcode::Setup</a>, 0, ExecutorAddr(),</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                     {SetupPacketBytes.data(), SetupPacketBytes.size()});</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Error</a> SimpleRemoteEPCServer::handleResult(</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SeqNo, ExecutorAddr TagAddr,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="namespacellvm_1_1orc.html#a200c5f729ef8f5df08a5aef753a9c376">SimpleRemoteEPCArgBytesVector</a> ArgBytes) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  std::promise&lt;shared::WrapperFunctionResult&gt; *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(ServerStateMutex);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = PendingJITDispatchResults.find(SeqNo);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == PendingJITDispatchResults.end())</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;No call for sequence number &quot;</span> +</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                         Twine(SeqNo),</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                     <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    PendingJITDispatchResults.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    releaseSeqNo(SeqNo);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = <a class="code" href="classllvm_1_1orc_1_1shared_1_1WrapperFunctionResult.html#a5aec4b68eac1954bcb4505eedc0973d8">shared::WrapperFunctionResult::allocate</a>(ArgBytes.size());</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.data(), ArgBytes.data(), ArgBytes.size());</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;set_value(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(R));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keywordtype">void</span> SimpleRemoteEPCServer::handleCallWrapper(</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> RemoteSeqNo, ExecutorAddr TagAddr,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="namespacellvm_1_1orc.html#a200c5f729ef8f5df08a5aef753a9c376">SimpleRemoteEPCArgBytesVector</a> ArgBytes) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>-&gt;dispatch([<span class="keyword">this</span>, RemoteSeqNo, TagAddr, ArgBytes = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ArgBytes)]() {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">using</span> WrapperFnTy =</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        shared::CWrapperFunctionResult (*)(<span class="keyword">const</span> <span class="keywordtype">char</span> *, size_t);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keyword">auto</span> *Fn = TagAddr.toPtr&lt;WrapperFnTy&gt;();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    shared::WrapperFunctionResult ResultBytes(</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        Fn(ArgBytes.data(), ArgBytes.size()));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = sendMessage(<a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a8eea62084ca7e541d918e823422bd82e">SimpleRemoteEPCOpcode::Result</a>, RemoteSeqNo,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                               ExecutorAddr(),</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                               {ResultBytes.data(), ResultBytes.size()}))</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      ReportError(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  });</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;shared::WrapperFunctionResult</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;SimpleRemoteEPCServer::doJITDispatch(<span class="keyword">const</span> <span class="keywordtype">void</span> *FnTag, <span class="keyword">const</span> <span class="keywordtype">char</span> *ArgData,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                     <span class="keywordtype">size_t</span> ArgSize) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SeqNo;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  std::promise&lt;shared::WrapperFunctionResult&gt; ResultP;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keyword">auto</span> ResultF = ResultP.get_future();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(ServerStateMutex);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (RunState != ServerRunning)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1orc_1_1shared_1_1WrapperFunctionResult.html#ae0a341aa5651a0e6b296119ad73cdef5">shared::WrapperFunctionResult::createOutOfBandError</a>(</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          <span class="stringliteral">&quot;jit_dispatch not available (EPC server shut down)&quot;</span>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    SeqNo = getNextSeqNo();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!PendingJITDispatchResults.count(SeqNo) &amp;&amp; <span class="stringliteral">&quot;SeqNo already in use&quot;</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    PendingJITDispatchResults[SeqNo] = &amp;ResultP;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = sendMessage(<a class="code" href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a0fe959195d2bfd3ccc5cd9c358c4b561">SimpleRemoteEPCOpcode::CallWrapper</a>, SeqNo,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                             <a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a8adb0ae35f7e95c960c86cfe19bc7215">ExecutorAddr::fromPtr</a>(FnTag), {ArgData, ArgSize}))</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    ReportError(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">return</span> ResultF.get();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;shared::CWrapperFunctionResult</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;SimpleRemoteEPCServer::jitDispatchEntry(<span class="keywordtype">void</span> *DispatchCtx, <span class="keyword">const</span> <span class="keywordtype">void</span> *FnTag,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *ArgData, <span class="keywordtype">size_t</span> ArgSize) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>SimpleRemoteEPCServer *<span class="keyword">&gt;</span>(DispatchCtx)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      -&gt;doJITDispatch(FnTag, ArgData, ArgSize)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      .release();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;} <span class="comment">// end namespace orc</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;} <span class="comment">// end namespace llvm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorAddr_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorAddr.html">llvm::orc::ExecutorAddr</a></div><div class="ttdoc">Represents an address in the executor process.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00031">ExecutorAddress.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1rt__bootstrap_html_a80380ad8a5c79d75366b0c1d968a4b7c"><div class="ttname"><a href="namespacellvm_1_1orc_1_1rt__bootstrap.html#a80380ad8a5c79d75366b0c1d968a4b7c">llvm::orc::rt_bootstrap::addTo</a></div><div class="ttdeci">void addTo(StringMap&lt; ExecutorAddr &gt; &amp;M)</div><div class="ttdef"><b>Definition:</b> <a href="OrcRTBootstrap_8cpp_source.html#l00080">OrcRTBootstrap.cpp:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleRemoteEPCServer_html_a0d4f063da3bf0cb25ecdf1d8efb56b11"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#a0d4f063da3bf0cb25ecdf1d8efb56b11">llvm::orc::SimpleRemoteEPCServer::defaultBootstrapSymbols</a></div><div class="ttdeci">static StringMap&lt; ExecutorAddr &gt; defaultBootstrapSymbols()</div><div class="ttdef"><b>Definition:</b> <a href="SimpleRemoteEPCServer_8cpp_source.html#l00054">SimpleRemoteEPCServer.cpp:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorAddr_html_a8adb0ae35f7e95c960c86cfe19bc7215"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorAddr.html#a8adb0ae35f7e95c960c86cfe19bc7215">llvm::orc::ExecutorAddr::fromPtr</a></div><div class="ttdeci">static ExecutorAddr fromPtr(T *Ptr, UnwrapFn &amp;&amp;Unwrap=UnwrapFn())</div><div class="ttdoc">Create an ExecutorAddr from the given pointer.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00080">ExecutorAddress.h:80</a></div></div>
<div class="ttc" id="aTargetProcessControlTypes_8h_html"><div class="ttname"><a href="TargetProcessControlTypes_8h.html">TargetProcessControlTypes.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a1448b52253eb43f8f07b7f5d94336a47"><div class="ttname"><a href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47">llvm::orc::SimpleRemoteEPCOpcode</a></div><div class="ttdeci">SimpleRemoteEPCOpcode</div><div class="ttdef"><b>Definition:</b> <a href="SimpleRemoteEPCUtils_8h_source.html#l00037">SimpleRemoteEPCUtils.h:37</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">llvm::lltok::Error</a></div><div class="ttdeci">@ Error</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00021">LLToken.h:21</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1shared_1_1WrapperFunctionResult_html_a5aec4b68eac1954bcb4505eedc0973d8"><div class="ttname"><a href="classllvm_1_1orc_1_1shared_1_1WrapperFunctionResult.html#a5aec4b68eac1954bcb4505eedc0973d8">llvm::orc::shared::WrapperFunctionResult::allocate</a></div><div class="ttdeci">static WrapperFunctionResult allocate(size_t Size)</div><div class="ttdoc">Create a WrapperFunctionResult with the given size and return a pointer to the underlying memory.</div><div class="ttdef"><b>Definition:</b> <a href="WrapperFunctionUtils_8h_source.html#l00113">WrapperFunctionUtils.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html_a4dfd0813c3d0e0a30439b5a3e9196b59"><div class="ttname"><a href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">llvm::Error::success</a></div><div class="ttdeci">static ErrorSuccess success()</div><div class="ttdoc">Create a success value.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00330">Error.h:330</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorAddr_html_a4ee908fb9052f020e3c50e3f1a7d81c5"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorAddr.html#a4ee908fb9052f020e3c50e3f1a7d81c5">llvm::orc::ExecutorAddr::getValue</a></div><div class="ttdeci">uint64_t getValue() const</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00105">ExecutorAddress.h:105</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1shared_html"><div class="ttname"><a href="namespacellvm_1_1orc_1_1shared.html">llvm::orc::shared</a></div><div class="ttdef"><b>Definition:</b> <a href="ELFNixPlatform_8h_source.html#l00248">ELFNixPlatform.h:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleRemoteEPCServer_html_a7cebd705ee395af11d16ce83bad8060e"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#a7cebd705ee395af11d16ce83bad8060e">llvm::orc::SimpleRemoteEPCServer::handleMessage</a></div><div class="ttdeci">Expected&lt; HandleMessageAction &gt; handleMessage(SimpleRemoteEPCOpcode OpC, uint64_t SeqNo, ExecutorAddr TagAddr, SimpleRemoteEPCArgBytesVector ArgBytes) override</div><div class="ttdoc">Call to handle an incoming message.</div><div class="ttdef"><b>Definition:</b> <a href="SimpleRemoteEPCServer_8cpp_source.html#l00061">SimpleRemoteEPCServer.cpp:61</a></div></div>
<div class="ttc" id="aOrcRTBootstrap_8h_html"><div class="ttname"><a href="OrcRTBootstrap_8h.html">OrcRTBootstrap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html"><div class="ttname"><a href="classllvm_1_1Expected.html">llvm::Expected</a></div><div class="ttdoc">Tagged union holding either a T or a Error.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00041">APFloat.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorBootstrapService_html_a2d9f6a8c2986c72ab233201463e37190"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorBootstrapService.html#a2d9f6a8c2986c72ab233201463e37190">llvm::orc::ExecutorBootstrapService::~ExecutorBootstrapService</a></div><div class="ttdeci">virtual ~ExecutorBootstrapService()</div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86II_html_a0f8eae4dc1f8612213b096103301fef5a3c11b5af543fcb3173f20c9ce3a6856d"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a0f8eae4dc1f8612213b096103301fef5a3c11b5af543fcb3173f20c9ce3a6856d">llvm::X86II::OB</a></div><div class="ttdeci">@ OB</div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00806">X86BaseInfo.h:806</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aSimpleRemoteEPCServer_8h_html"><div class="ttname"><a href="SimpleRemoteEPCServer_8h.html">SimpleRemoteEPCServer.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a07eb6e84b522073e52d92dccf5015c01"><div class="ttname"><a href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">llvm::formatv</a></div><div class="ttdeci">auto formatv(const char *Fmt, Ts &amp;&amp;... Vals) -&gt; formatv_object&lt; decltype(std::make_tuple(detail::build_format_adapter(std::forward&lt; Ts &gt;(Vals))...))&gt;</div><div class="ttdef"><b>Definition:</b> <a href="FormatVariadic_8h_source.html#l00251">FormatVariadic.h:251</a></div></div>
<div class="ttc" id="aProcess_8h_html"><div class="ttname"><a href="Process_8h.html">Process.h</a></div></div>
<div class="ttc" id="aImplicitNullChecks_8cpp_html_a7c77357cccbb9291259cfcacd7324e2e"><div class="ttname"><a href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a></div><div class="ttdeci">static cl::opt&lt; int &gt; PageSize(&quot;imp-null-check-page-size&quot;, cl::desc(&quot;The page size of the target in bytes&quot;), cl::init(4096), cl::Hidden)</div></div>
<div class="ttc" id="aTargetParser_2Host_8h_html"><div class="ttname"><a href="TargetParser_2Host_8h.html">Host.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a1448b52253eb43f8f07b7f5d94336a47a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a8eea62084ca7e541d918e823422bd82e">llvm::orc::SimpleRemoteEPCOpcode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1SimpleRemoteEPCDefaultBootstrapSymbolNames_html_a5925697872254d16b34822093c7bc895"><div class="ttname"><a href="namespacellvm_1_1orc_1_1SimpleRemoteEPCDefaultBootstrapSymbolNames.html#a5925697872254d16b34822093c7bc895">llvm::orc::SimpleRemoteEPCDefaultBootstrapSymbolNames::ExecutorSessionObjectName</a></div><div class="ttdeci">const char * ExecutorSessionObjectName</div><div class="ttdef"><b>Definition:</b> <a href="SimpleRemoteEPCUtils_8cpp_source.html#l00040">SimpleRemoteEPCUtils.cpp:40</a></div></div>
<div class="ttc" id="aFormatVariadic_8h_html"><div class="ttname"><a href="FormatVariadic_8h.html">FormatVariadic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringMap_html"><div class="ttname"><a href="classllvm_1_1StringMap.html">llvm::StringMap</a></div><div class="ttdoc">StringMap - This is an unconventional map that is specialized for handling keys that are &quot;strings&quot;,...</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2StringMap_8h_source.html#l00110">StringMap.h:110</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a1448b52253eb43f8f07b7f5d94336a47a77bd384c19f071f8d0579398b90df0b6"><div class="ttname"><a href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a77bd384c19f071f8d0579398b90df0b6">llvm::orc::SimpleRemoteEPCOpcode::Hangup</a></div><div class="ttdeci">@ Hangup</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; uint64_t, std::promise&lt; shared::WrapperFunctionResult &gt; * &gt;</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Process_html_a60b9d3bd7eff517e776913fa60499cb1"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a60b9d3bd7eff517e776913fa60499cb1">llvm::sys::Process::getPageSize</a></div><div class="ttdeci">static Expected&lt; unsigned &gt; getPageSize()</div><div class="ttdoc">Get the process's page size.</div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00166">README.txt:166</a></div></div>
<div class="ttc" id="anamespacellvm_html_a71210b99d2ef87236d8505c1771a7ab1"><div class="ttname"><a href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">llvm::joinErrors</a></div><div class="ttdeci">Error joinErrors(Error E1, Error E2)</div><div class="ttdoc">Concatenate errors.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00427">Error.h:427</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae2bb081d94f22e64ca6bc4bd58512a93"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a></div><div class="ttdeci">&lt;%struct.s * &gt; cast struct s *S to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *agg result to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *memtmp to sbyte *&lt; sbyte * &gt; sbyte uint ret void llc ends up issuing two memcpy or custom lower memcpy(of small size) to be ldmia/stmia. I think option 2 is better but the current register allocator cannot allocate a chunk of registers at a time. A feasible temporary solution is to use specific physical registers at the lowering time for small(&lt;</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleRemoteEPCServer_1_1ThreadDispatcher_html_acf25fe5a0dcfaa1209eaead67f4dcd0d"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleRemoteEPCServer_1_1ThreadDispatcher.html#acf25fe5a0dcfaa1209eaead67f4dcd0d">llvm::orc::SimpleRemoteEPCServer::ThreadDispatcher::shutdown</a></div><div class="ttdeci">void shutdown() override</div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef&lt; char &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a200c5f729ef8f5df08a5aef753a9c376"><div class="ttname"><a href="namespacellvm_1_1orc.html#a200c5f729ef8f5df08a5aef753a9c376">llvm::orc::SimpleRemoteEPCArgBytesVector</a></div><div class="ttdeci">SmallVector&lt; char, 128 &gt; SimpleRemoteEPCArgBytesVector</div><div class="ttdef"><b>Definition:</b> <a href="SimpleRemoteEPCUtils_8h_source.html#l00051">SimpleRemoteEPCUtils.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleRemoteEPCServer_1_1ThreadDispatcher_html_a4e42b608bb374de4868f8d5f5211abfa"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleRemoteEPCServer_1_1ThreadDispatcher.html#a4e42b608bb374de4868f8d5f5211abfa">llvm::orc::SimpleRemoteEPCServer::ThreadDispatcher::dispatch</a></div><div class="ttdeci">void dispatch(unique_function&lt; void()&gt; Work) override</div></div>
<div class="ttc" id="anamespacellvm_html_a2b43c21951d0948b34bcf7019949032d"><div class="ttname"><a href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">llvm::inconvertibleErrorCode</a></div><div class="ttdeci">std::error_code inconvertibleErrorCode()</div><div class="ttdoc">The value returned by this function can be returned from convertToErrorCode for Error values where no...</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00079">Error.cpp:79</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_html_aab375071f641a086c0d7067635ccd3dc"><div class="ttname"><a href="namespacellvm_1_1sys.html#aab375071f641a086c0d7067635ccd3dc">llvm::sys::getProcessTriple</a></div><div class="ttdeci">std::string getProcessTriple()</div><div class="ttdoc">getProcessTriple() - Return an appropriate target triple for generating code to be loaded into the cu...</div><div class="ttdef"><b>Definition:</b> <a href="Host_8cpp_source.html#l01880">Host.cpp:1880</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00156">Error.h:156</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a1448b52253eb43f8f07b7f5d94336a47a0fe959195d2bfd3ccc5cd9c358c4b561"><div class="ttname"><a href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47a0fe959195d2bfd3ccc5cd9c358c4b561">llvm::orc::SimpleRemoteEPCOpcode::CallWrapper</a></div><div class="ttdeci">@ CallWrapper</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleRemoteEPCServer_html_aae9a77420cb32624ef47463b05ac6cb6"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#aae9a77420cb32624ef47463b05ac6cb6">llvm::orc::SimpleRemoteEPCServer::handleDisconnect</a></div><div class="ttdeci">void handleDisconnect(Error Err) override</div><div class="ttdoc">Handle a disconnection from the underlying transport.</div><div class="ttdef"><b>Definition:</b> <a href="SimpleRemoteEPCServer_8cpp_source.html#l00121">SimpleRemoteEPCServer.cpp:121</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1shared_1_1WrapperFunctionResult_html_ae0a341aa5651a0e6b296119ad73cdef5"><div class="ttname"><a href="classllvm_1_1orc_1_1shared_1_1WrapperFunctionResult.html#ae0a341aa5651a0e6b296119ad73cdef5">llvm::orc::shared::WrapperFunctionResult::createOutOfBandError</a></div><div class="ttdeci">static WrapperFunctionResult createOutOfBandError(const char *Msg)</div><div class="ttdoc">Create an out-of-band error by copying the given string.</div><div class="ttdef"><b>Definition:</b> <a href="WrapperFunctionUtils_8h_source.html#l00140">WrapperFunctionUtils.h:140</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1SimpleRemoteEPCDefaultBootstrapSymbolNames_html_a317afe50d801a8bda1f3dd0f4e52752a"><div class="ttname"><a href="namespacellvm_1_1orc_1_1SimpleRemoteEPCDefaultBootstrapSymbolNames.html#a317afe50d801a8bda1f3dd0f4e52752a">llvm::orc::SimpleRemoteEPCDefaultBootstrapSymbolNames::DispatchFnName</a></div><div class="ttdeci">const char * DispatchFnName</div><div class="ttdef"><b>Definition:</b> <a href="SimpleRemoteEPCUtils_8cpp_source.html#l00042">SimpleRemoteEPCUtils.cpp:42</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a1448b52253eb43f8f07b7f5d94336a47aad2376beebecdcf7846ba973fa1a005b"><div class="ttname"><a href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47aad2376beebecdcf7846ba973fa1a005b">llvm::orc::SimpleRemoteEPCOpcode::Setup</a></div><div class="ttdeci">@ Setup</div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a1448b52253eb43f8f07b7f5d94336a47ac1412e64d00512f6facfacd333f8c2b3"><div class="ttname"><a href="namespacellvm_1_1orc.html#a1448b52253eb43f8f07b7f5d94336a47ac1412e64d00512f6facfacd333f8c2b3">llvm::orc::SimpleRemoteEPCOpcode::LastOpC</a></div><div class="ttdeci">@ LastOpC</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleRemoteEPCServer_html_ae259ce83b3dc0da12f3e72749392bfe0"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleRemoteEPCServer.html#ae259ce83b3dc0da12f3e72749392bfe0">llvm::orc::SimpleRemoteEPCServer::waitForDisconnect</a></div><div class="ttdeci">Error waitForDisconnect()</div><div class="ttdef"><b>Definition:</b> <a href="SimpleRemoteEPCServer_8cpp_source.html#l00115">SimpleRemoteEPCServer.cpp:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleRemoteEPCTransportClient_html_a0cae86f42eaefdba4b602c77afb1e035abd48e7a3495d02791216dca8b8ad1837"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleRemoteEPCTransportClient.html#a0cae86f42eaefdba4b602c77afb1e035abd48e7a3495d02791216dca8b8ad1837">llvm::orc::SimpleRemoteEPCTransportClient::EndSession</a></div><div class="ttdeci">@ EndSession</div><div class="ttdef"><b>Definition:</b> <a href="SimpleRemoteEPCUtils_8h_source.html#l00055">SimpleRemoteEPCUtils.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleRemoteEPCServer_1_1Dispatcher_html_a1fa8e79391c0da2479da4528abcc1664"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleRemoteEPCServer_1_1Dispatcher.html#a1fa8e79391c0da2479da4528abcc1664">llvm::orc::SimpleRemoteEPCServer::Dispatcher::~Dispatcher</a></div><div class="ttdeci">virtual ~Dispatcher()</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:04:22 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
