<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/MachineOutliner.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MachineOutliner.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MachineOutliner_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===---- MachineOutliner.cpp - Outline instructions -----------*- C++ -*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span><span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// Replaces repeated sequences of instructions with function calls.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/// This works by placing every instruction from every basic block in a</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/// suffix tree, and repeatedly querying that tree for repeated sequences of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/// instructions. If a sequence of instructions appears often, then it ought</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/// to be beneficial to pull out into a function.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/// The MachineOutliner communicates with a given target using hooks defined in</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// TargetInstrInfo.h. The target supplies the outliner with information on how</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/// a specific sequence of instructions should be outlined. This information</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/// is used to deduce the number of instructions necessary to</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/// * Create an outlined function</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/// * Call that outlined function</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/// Targets must implement</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">///   * getOutliningCandidateInfo</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">///   * buildOutlinedFrame</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">///   * insertOutlinedCall</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">///   * isFunctionSafeToOutlineFrom</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/// in order to make use of the MachineOutliner.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/// This was originally presented at the 2016 LLVM Developers&#39; Meeting in the</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/// talk &quot;Reducing Code Size Using Outlining&quot;. For a high-level overview of</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/// how this pass works, the talk is available on YouTube at</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/// https://www.youtube.com/watch?v=yorld-WSOeU</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/// The slides for the talk are available at</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/// http://www.llvm.org/devmtg/2016-11/Slides/Paquette-Outliner.pdf</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/// The talk provides an overview of how the outliner finds candidates and</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/// ultimately outlines them. It describes how the main data structure for this</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/// pass, the suffix tree, is queried and purged for candidates. It also gives</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/// a simplified suffix tree construction algorithm for suffix trees based off</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/// of the algorithm actually used here, Ukkonen&#39;s algorithm.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/// For the original RFC for this pass, please see</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/// http://lists.llvm.org/pipermail/llvm-dev/2016-August/104170.html</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">/// For more information on the suffix tree data structure, please see</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/// https://www.cs.helsinki.fi/u/ukkonen/SuffixT1withFigs.pdf</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"></span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOutliner_8h.html">llvm/CodeGen/MachineOutliner.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Twine_8h.html">llvm/ADT/Twine.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LivePhysRegs_8h.html">llvm/CodeGen/LivePhysRegs.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineModuleInfo_8h.html">llvm/CodeGen/MachineModuleInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOptimizationRemarkEmitter_8h.html">llvm/CodeGen/MachineOptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeGen_2Passes_8h.html">llvm/CodeGen/Passes.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/CodeGen/TargetInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DIBuilder_8h.html">llvm/IR/DIBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Mangler_8h.html">llvm/IR/Mangler.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SuffixTree_8h.html">llvm/Support/SuffixTree.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="MachineOutliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   81</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;machine-outliner&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">using namespace </span>outliner;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// Statistics for outlined functions.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumOutlined, <span class="stringliteral">&quot;Number of candidates outlined&quot;</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(FunctionsCreated, <span class="stringliteral">&quot;Number of functions created&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// Statistics for instruction mapping.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumLegalInUnsignedVec, <span class="stringliteral">&quot;Outlinable instructions mapped&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumIllegalInUnsignedVec,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;          <span class="stringliteral">&quot;Unoutlinable instructions mapped + number of sentinel values&quot;</span>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumSentinels, <span class="stringliteral">&quot;Sentinel values inserted during mapping&quot;</span>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumInvisible,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          <span class="stringliteral">&quot;Invisible instructions skipped during mapping&quot;</span>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(UnsignedVecSize,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;          <span class="stringliteral">&quot;Total number of instructions mapped and saved to mapping vector&quot;</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">// Set to true if the user wants the outliner to run on linkonceodr linkage</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">// functions. This is false by default because the linker can dedupe linkonceodr</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">// functions. Since the outliner is confined to a single module (modulo LTO),</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">// this is off by default. It should, however, be the default behaviour in</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">// LTO.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MachineOutliner_8cpp.html#a4e67da56d1541fc9e0dae1105a007c82">EnableLinkOnceODROutlining</a>(</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="stringliteral">&quot;enable-linkonceodr-outlining&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable the machine outliner on linkonceodr functions&quot;</span>),</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">/// Number of times to re-run the outliner. This is not the total number of runs</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/// as the outliner will run at least one time. The default value is set to 0,</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/// meaning the outliner will run one time and rerun zero times after that.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="MachineOutliner_8cpp.html#a289fa614f17e93a75be251e26e3e7b58">OutlinerReruns</a>(</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="stringliteral">&quot;machine-outliner-reruns&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(0), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="stringliteral">&quot;Number of times to rerun the outliner after the initial outline&quot;</span>));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// Maps \p MachineInstrs to unsigned integers and stores the mappings.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span><span class="keyword">struct </span>InstructionMapper {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">  /// The next available integer to assign to a \p MachineInstr that</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">  /// cannot be outlined.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">  /// Set to -3 for compatability with \p DenseMapInfo&lt;unsigned&gt;.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> IllegalInstrNumber = -3;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">  /// The next available integer to assign to a \p MachineInstr that can</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">  /// be outlined.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> LegalInstrNumber = 0;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">  /// Correspondence from \p MachineInstrs to unsigned integers.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MachineInstr *, unsigned, MachineInstrExpressionTrait&gt;</a></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      InstructionIntegerMap;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">  /// Correspondence between \p MachineBasicBlocks and target-defined flags.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MachineBasicBlock *, unsigned&gt;</a> MBBFlagsMap;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">  /// The vector of unsigned integers that the module is mapped to.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned&gt;</a> UnsignedVec;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">  /// Stores the location of the instruction associated with the integer</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  /// at index i in \p UnsignedVec for each index i.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock::iterator&gt;</a> <a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// Set if we added an illegal number in the previous step.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// Since each illegal number is unique, we only need one of them between</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// each range of legal numbers. This lets us make sure we don&#39;t add more</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// than one illegal number per range.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordtype">bool</span> AddedIllegalLastTime = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">  /// Maps \p *It to a legal integer.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">  /// Updates \p CanOutlineWithPrevInstr, \p HaveLegalRange, \p InstrListForMBB,</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">  /// \p UnsignedVecForMBB, \p InstructionIntegerMap, and \p LegalInstrNumber.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">  /// \returns The integer that \p *It was mapped to.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> mapToLegalUnsigned(</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> &amp;It, <span class="keywordtype">bool</span> &amp;CanOutlineWithPrevInstr,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordtype">bool</span> &amp;HaveLegalRange, <span class="keywordtype">unsigned</span> &amp;NumLegalInBlock,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned&gt;</a> &amp;UnsignedVecForMBB,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock::iterator&gt;</a> &amp;InstrListForMBB) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// We added something legal, so we should unset the AddedLegalLastTime</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// flag.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    AddedIllegalLastTime = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// If we have at least two adjacent legal instructions (which may have</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// invisible instructions in between), remember that.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (CanOutlineWithPrevInstr)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      HaveLegalRange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    CanOutlineWithPrevInstr = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// Keep track of the number of legal instructions we insert.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    NumLegalInBlock++;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// Get the integer for this instruction or give it the current</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// LegalInstrNumber.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    InstrListForMBB.push_back(It);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *It;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordtype">bool</span> WasInserted;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MachineInstr *, unsigned, MachineInstrExpressionTrait&gt;::iterator</a></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        ResultIt;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    std::tie(ResultIt, WasInserted) =</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        InstructionIntegerMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, LegalInstrNumber));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordtype">unsigned</span> MINumber = ResultIt-&gt;second;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// There was an insertion.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (WasInserted)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      LegalInstrNumber++;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    UnsignedVecForMBB.push_back(MINumber);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// Make sure we don&#39;t overflow or use any integers reserved by the DenseMap.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (LegalInstrNumber &gt;= IllegalInstrNumber)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Instruction mapping overflow!&quot;</span>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LegalInstrNumber != <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getEmptyKey</a>() &amp;&amp;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;           <span class="stringliteral">&quot;Tried to assign DenseMap tombstone or empty key to instruction.&quot;</span>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LegalInstrNumber != <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getTombstoneKey</a>() &amp;&amp;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;           <span class="stringliteral">&quot;Tried to assign DenseMap tombstone or empty key to instruction.&quot;</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// Statistics.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    ++NumLegalInUnsignedVec;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> MINumber;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">  /// Maps \p *It to an illegal integer.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">  /// Updates \p InstrListForMBB, \p UnsignedVecForMBB, and \p</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">  /// IllegalInstrNumber.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">  /// \returns The integer that \p *It was mapped to.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> mapToIllegalUnsigned(</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> &amp;It, <span class="keywordtype">bool</span> &amp;CanOutlineWithPrevInstr,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned&gt;</a> &amp;UnsignedVecForMBB,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock::iterator&gt;</a> &amp;InstrListForMBB) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// Can&#39;t outline an illegal instruction. Set the flag.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    CanOutlineWithPrevInstr = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// Only add one illegal number per range of legal numbers.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (AddedIllegalLastTime)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">return</span> IllegalInstrNumber;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// Remember that we added an illegal number last time.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    AddedIllegalLastTime = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordtype">unsigned</span> MINumber = IllegalInstrNumber;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    InstrListForMBB.push_back(It);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    UnsignedVecForMBB.push_back(IllegalInstrNumber);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    IllegalInstrNumber--;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// Statistics.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    ++NumIllegalInUnsignedVec;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LegalInstrNumber &lt; IllegalInstrNumber &amp;&amp;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;           <span class="stringliteral">&quot;Instruction mapping overflow!&quot;</span>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IllegalInstrNumber != <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getEmptyKey</a>() &amp;&amp;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;           <span class="stringliteral">&quot;IllegalInstrNumber cannot be DenseMap tombstone or empty key!&quot;</span>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IllegalInstrNumber != <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getTombstoneKey</a>() &amp;&amp;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;           <span class="stringliteral">&quot;IllegalInstrNumber cannot be DenseMap tombstone or empty key!&quot;</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> MINumber;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">  /// Transforms a \p MachineBasicBlock into a \p vector of \p unsigneds</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">  /// and appends it to \p UnsignedVec and \p InstrList.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">  /// Two instructions are assigned the same integer if they are identical.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">  /// If an instruction is deemed unsafe to outline, then it will be assigned an</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">  /// unique integer. The resulting mapping is placed into a suffix tree and</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">  /// queried for candidates.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">  /// \param MBB The \p MachineBasicBlock to be translated into integers.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">  /// \param TII \p TargetInstrInfo for the function.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> convertToUnsignedVec(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;*** Converting MBB &#39;&quot;</span> &lt;&lt; <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#aedf6cb1135961f41f39dc58ca8576123">getName</a>()</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;&#39; to unsigned vector ***\n&quot;</span>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = 0;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Don&#39;t even map in this case.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.isMBBSafeToOutlineFrom(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Flags))</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keyword">auto</span> OutlinableRanges = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getOutlinableRanges(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Flags);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#aedf6cb1135961f41f39dc58ca8576123">getName</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; OutlinableRanges.<a class="code" href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">size</a>()</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; outlinable range(s)\n&quot;</span>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (OutlinableRanges.empty())</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// Store info for the MBB for later outlining.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    MBBFlagsMap[&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>] = <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> It = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// The number of instructions in this block that will be considered for</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// outlining.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordtype">unsigned</span> NumLegalInBlock = 0;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">// True if we have at least two legal instructions which aren&#39;t separated</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// by an illegal instruction.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordtype">bool</span> HaveLegalRange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// True if we can perform outlining given the last mapped (non-invisible)</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// instruction. This lets us know if we have a legal range.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordtype">bool</span> CanOutlineWithPrevInstr = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// FIXME: Should this all just be handled in the target, rather than using</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// repeated calls to getOutliningType?</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned&gt;</a> UnsignedVecForMBB;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock::iterator&gt;</a> InstrListForMBB;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;*** Mapping outlinable ranges ***\n&quot;</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;OutlinableRange : OutlinableRanges) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keyword">auto</span> OutlinableRangeBegin = OutlinableRange.first;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keyword">auto</span> OutlinableRangeEnd = OutlinableRange.second;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Mapping &quot;</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                 &lt;&lt; std::distance(OutlinableRangeBegin, OutlinableRangeEnd)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; instruction range\n&quot;</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="comment">// Everything outside of an outlinable range is illegal.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordtype">unsigned</span> NumSkippedInRange = 0;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">for</span> (; It != OutlinableRangeBegin; ++It) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        ++NumSkippedInRange;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        mapToIllegalUnsigned(It, CanOutlineWithPrevInstr, UnsignedVecForMBB,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                             InstrListForMBB);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Skipped &quot;</span> &lt;&lt; NumSkippedInRange</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; instructions outside outlinable range\n&quot;</span>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(It != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; <span class="stringliteral">&quot;Should still have instructions?&quot;</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="comment">// `It` is now positioned at the beginning of a range of instructions</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">// which may be outlinable. Check if each instruction is known to be safe.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">for</span> (; It != OutlinableRangeEnd; ++It) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">// Keep track of where this instruction is in the module.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getOutliningType(It, Flags)) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">InstrType::Illegal</a>:</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          mapToIllegalUnsigned(It, CanOutlineWithPrevInstr, UnsignedVecForMBB,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                               InstrListForMBB);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">InstrType::Legal</a>:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;          mapToLegalUnsigned(It, CanOutlineWithPrevInstr, HaveLegalRange,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                             NumLegalInBlock, UnsignedVecForMBB,</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                             InstrListForMBB);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1outliner.html#a0765e098fe7aae0f01b60ec890ac1b52a6adc06fdab039cdbfaaeda00060c5e63">InstrType::LegalTerminator</a>:</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          mapToLegalUnsigned(It, CanOutlineWithPrevInstr, HaveLegalRange,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                             NumLegalInBlock, UnsignedVecForMBB,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                             InstrListForMBB);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;          <span class="comment">// The instruction also acts as a terminator, so we have to record</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          <span class="comment">// that in the string.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          mapToIllegalUnsigned(It, CanOutlineWithPrevInstr, UnsignedVecForMBB,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                               InstrListForMBB);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda47b7bba75c0c242b40fece427c2bfefa">InstrType::Invisible</a>:</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;          <span class="comment">// Normally this is set by mapTo(Blah)Unsigned, but we just want to</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;          <span class="comment">// skip this instruction. So, unset the flag here.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          ++NumInvisible;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;          AddedIllegalLastTime = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;HaveLegalRange = &quot;</span> &lt;&lt; HaveLegalRange &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// Are there enough legal instructions in the block for outlining to be</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// possible?</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span> (HaveLegalRange) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="comment">// After we&#39;re done every insertion, uniquely terminate this part of the</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="comment">// &quot;string&quot;. This makes sure we won&#39;t match across basic block or function</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="comment">// boundaries since the &quot;end&quot; is encoded uniquely and thus appears in no</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="comment">// repeated substring.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      mapToIllegalUnsigned(It, CanOutlineWithPrevInstr, UnsignedVecForMBB,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                           InstrListForMBB);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      ++NumSentinels;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(<a class="code" href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">InstrList</a>, InstrListForMBB);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(UnsignedVec, UnsignedVecForMBB);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  InstructionMapper() {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// Make sure that the implementation of DenseMapInfo&lt;unsigned&gt; hasn&#39;t</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// changed.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getEmptyKey</a>() == (<span class="keywordtype">unsigned</span>)-1 &amp;&amp;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;           <span class="stringliteral">&quot;DenseMapInfo&lt;unsigned&gt;&#39;s empty key isn&#39;t -1!&quot;</span>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getTombstoneKey</a>() == (<span class="keywordtype">unsigned</span>)-2 &amp;&amp;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;           <span class="stringliteral">&quot;DenseMapInfo&lt;unsigned&gt;&#39;s tombstone key isn&#39;t -2!&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;};</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">/// An interprocedural pass which finds repeated sequences of</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">/// instructions and replaces them with calls to functions.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">/// Each instruction is mapped to an unsigned integer and placed in a string.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">/// The resulting mapping is then placed in a \p SuffixTree. The \p SuffixTree</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">/// is then repeatedly queried for repeated sequences of instructions. Each</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">/// non-overlapping repeated sequence is then placed in its own</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">/// \p MachineFunction and each instance is then replaced with a call to that</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">/// function.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"></span><span class="keyword">struct </span>MachineOutliner : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">  /// Set to true if the outliner should consider functions with</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">  /// linkonceodr linkage.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> OutlineFromLinkOnceODRs = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">  /// The current repeat number of machine outlining.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> OutlineRepeatedNum = 0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">  /// Set to true if the outliner should run on all functions in the module</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">  /// considered safe for outlining.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">  /// Set to true by default for compatibility with llc&#39;s -run-pass option.</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">  /// Set when the pass is constructed in TargetPassConfig.</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> RunOnAllFunctions = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> getPassName()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;Machine Outliner&quot;</span>; }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineModuleInfoWrapperPass.html">MachineModuleInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1MachineModuleInfoWrapperPass.html">MachineModuleInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="classllvm_1_1Pass.html#a6590d0486104165ca40c7df0707f7b9e">ModulePass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  MachineOutliner() : <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="namespacellvm.html#a8e112d124be486708eaa596339ad1f69">initializeMachineOutlinerPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">  /// Remark output explaining that not outlining a set of candidates would be</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">  /// better than outlining that set.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> emitNotOutliningCheaperRemark(</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordtype">unsigned</span> StringLen, std::vector&lt;Candidate&gt; &amp;CandidatesForRepeatedSeq,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      OutlinedFunction &amp;OF);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">  /// Remark output explaining that a function was outlined.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> emitOutlinedFunctionRemark(OutlinedFunction &amp;OF);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">  /// Find all repeated substrings that satisfy the outlining cost model by</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">  /// constructing a suffix tree.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">  /// If a substring appears at least twice, then it must be represented by</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">  /// an internal node which appears in at least two suffixes. Each suffix</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">  /// is represented by a leaf node. To do this, we visit each internal node</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">  /// in the tree, using the leaf children of each internal node. If an</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">  /// internal node represents a beneficial substring, then we use each of</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">  /// its leaf children to find the locations of its substring.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">  /// \param Mapper Contains outlining mapping information.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">  /// \param[out] FunctionList Filled with a list of \p OutlinedFunctions</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">  /// each type of candidate.</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> findCandidates(InstructionMapper &amp;Mapper,</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                      std::vector&lt;OutlinedFunction&gt; &amp;FunctionList);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">  /// Replace the sequences of instructions represented by \p OutlinedFunctions</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">  /// with calls to functions.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">  /// \param M The module we are outlining from.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">  /// \param FunctionList A list of functions to be inserted into the module.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">  /// \param Mapper Contains the instruction mappings for the module.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> outline(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, std::vector&lt;OutlinedFunction&gt; &amp;FunctionList,</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;               InstructionMapper &amp;Mapper, <span class="keywordtype">unsigned</span> &amp;OutlinedFunctionNum);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">  /// Creates a function for \p OF and inserts it into the module.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *createOutlinedFunction(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, OutlinedFunction &amp;OF,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                          InstructionMapper &amp;Mapper,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                                          <span class="keywordtype">unsigned</span> Name);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">  /// Calls &#39;doOutline()&#39; 1 + OutlinerReruns times.</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> runOnModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">  /// Construct a suffix tree on the instructions in \p M and outline repeated</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">  /// strings from that tree.</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> doOutline(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keywordtype">unsigned</span> &amp;OutlinedFunctionNum);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">  /// Return a DISubprogram for OF if one exists, and null otherwise. Helper</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">  /// function for remark emission.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *<a class="code" href="IROutliner_8cpp.html#a0028135ea5d53b4a9b047ef7c72edd57">getSubprogramOrNull</a>(<span class="keyword">const</span> OutlinedFunction &amp;OF) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> Candidate &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : OF.Candidates)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getMF())</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *SP = MF-&gt;getFunction().<a class="code" href="classllvm_1_1DILocalScope.html#a0e0b4a5906e0bc2a7fa033548c59a220">getSubprogram</a>())</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;          <span class="keywordflow">return</span> SP;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">  /// Populate and \p InstructionMapper with instruction-to-integer mappings.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">  /// These are used to construct a suffix tree.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> populateMapper(InstructionMapper &amp;Mapper, <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                      <a class="code" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">  /// Initialize information necessary to output a size remark.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">  /// FIXME: This should be handled by the pass manager, not the outliner.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">  /// FIXME: This is nearly identical to the initSizeRemarkInfo in the legacy</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">  /// pass manager.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> initSizeRemarkInfo(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI,</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                          <a class="code" href="classllvm_1_1StringMap.html">StringMap&lt;unsigned&gt;</a> &amp;FunctionToInstrCount);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">  /// Emit the remark.</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"></span>  <span class="comment">// FIXME: This should be handled by the pass manager, not the outliner.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  emitInstrCountChangedRemark(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1StringMap.html">StringMap&lt;unsigned&gt;</a> &amp;FunctionToInstrCount);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;};</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;} <span class="comment">// Anonymous namespace.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">MachineOutliner::ID</a> = 0;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="namespacellvm.html#a917b9addcc9e18ce8212a1f5e0c10ca3">  501</a></span>&#160;<a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> *<a class="code" href="namespacellvm.html#a917b9addcc9e18ce8212a1f5e0c10ca3">createMachineOutlinerPass</a>(<span class="keywordtype">bool</span> RunOnAllFunctions) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  MachineOutliner *OL = <span class="keyword">new</span> MachineOutliner();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  OL-&gt;RunOnAllFunctions = RunOnAllFunctions;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">return</span> OL;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="MachineOutliner_8cpp.html#ab72f6c46cf154205814197e0e93b69f7">  509</a></span>&#160;<a class="code" href="MachineOutliner_8cpp.html#ab72f6c46cf154205814197e0e93b69f7">INITIALIZE_PASS</a>(MachineOutliner, <a class="code" href="MachineOutliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;Machine Function Outliner&quot;</span>, <span class="keyword">false</span>,</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="keyword">false</span>)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;void MachineOutliner::emitNotOutliningCheaperRemark(</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordtype">unsigned</span> StringLen, <a class="code" href="namespacestd.html">std</a>::vector&lt;Candidate&gt; &amp;CandidatesForRepeatedSeq,</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    OutlinedFunction &amp;OF) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// FIXME: Right now, we arbitrarily choose some Candidate from the</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">// OutlinedFunction. This isn&#39;t necessarily fixed, nor does it have to be.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="comment">// We should probably sort these by function name or something to make sure</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// the remarks are stable.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  Candidate &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = CandidatesForRepeatedSeq.front();</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html">MachineOptimizationRemarkEmitter</a> <a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>(*(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getMF()), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>.emit([&amp;]() {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="classllvm_1_1MachineOptimizationRemarkMissed.html">MachineOptimizationRemarkMissed</a> R(<a class="code" href="MachineOutliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;NotOutliningCheaper&quot;</span>,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.front()-&gt;getDebugLoc(), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getMBB());</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    R &lt;&lt; <span class="stringliteral">&quot;Did not outline &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Length&quot;</span>, StringLen) &lt;&lt; <span class="stringliteral">&quot; instructions&quot;</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;NumOccurrences&quot;</span>, CandidatesForRepeatedSeq.size())</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; locations.&quot;</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; Bytes from outlining all occurrences (&quot;</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;OutliningCost&quot;</span>, OF.getOutliningCost()) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; &gt;= Unoutlined instruction bytes (&quot;</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;NotOutliningCost&quot;</span>, OF.getNotOutlinedCost()) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; (Also found at: &quot;</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// Tell the user the other places the candidate was found.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = CandidatesForRepeatedSeq.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      R &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>((<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;OtherStartLoc&quot;</span>) + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)).str(),</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;              CandidatesForRepeatedSeq[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].front()-&gt;<a class="code" href="MachineInstrBundle_8cpp.html#af44c9b089359803924e0b92bea3b6d03">getDebugLoc</a>());</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> - 1)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        R &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    R &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  });</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="keywordtype">void</span> MachineOutliner::emitOutlinedFunctionRemark(OutlinedFunction &amp;OF) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = &amp;*OF.MF-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html">MachineOptimizationRemarkEmitter</a> <a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>(*OF.MF, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <a class="code" href="classllvm_1_1MachineOptimizationRemark.html">MachineOptimizationRemark</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>(<a class="code" href="MachineOutliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;OutlinedFunction&quot;</span>,</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                              <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">findDebugLoc</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()), <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> &lt;&lt; <span class="stringliteral">&quot;Saved &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;OutliningBenefit&quot;</span>, OF.getBenefit()) &lt;&lt; <span class="stringliteral">&quot; bytes by &quot;</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;outlining &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Length&quot;</span>, OF.getNumInstrs()) &lt;&lt; <span class="stringliteral">&quot; instructions &quot;</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;from &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;NumOccurrences&quot;</span>, OF.getOccurrenceCount())</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    &lt;&lt; <span class="stringliteral">&quot; locations. &quot;</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;(Found at: &quot;</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// Tell the user the other places the candidate was found.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = OF.Candidates.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>((<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;StartLoc&quot;</span>) + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)).str(),</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            OF.Candidates[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].front()-&gt;getDebugLoc());</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> - 1)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>.emit(R);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="keywordtype">void</span> MachineOutliner::findCandidates(</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    InstructionMapper &amp;Mapper, std::vector&lt;OutlinedFunction&gt; &amp;FunctionList) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  FunctionList.clear();</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="classllvm_1_1SuffixTree.html">SuffixTree</a> <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>(Mapper.UnsignedVec);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// First, find all of the repeated substrings in the tree of minimum length</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// 2.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  std::vector&lt;Candidate&gt; CandidatesForRepeatedSeq;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;*** Discarding overlapping candidates *** \n&quot;</span>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Searching for overlaps in all repeated sequences...\n&quot;</span>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1SuffixTree_1_1RepeatedSubstring.html">SuffixTree::RepeatedSubstring</a> &amp;RS : <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    CandidatesForRepeatedSeq.clear();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordtype">unsigned</span> StringLen = RS.Length;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Sequence length: &quot;</span> &lt;&lt; StringLen &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// Debug code to keep track of how many candidates we removed.</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordtype">unsigned</span> NumDiscarded = 0;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordtype">unsigned</span> NumKept = 0;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> &amp;StartIdx : RS.StartIndices) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="comment">// Trick: Discard some candidates that would be incompatible with the</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="comment">// ones we&#39;ve already found for this sequence. This will save us some</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="comment">// work in candidate selection.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="comment">// If two candidates overlap, then we can&#39;t outline them both. This</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="comment">// happens when we have candidates that look like, say</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="comment">// AA (where each &quot;A&quot; is an instruction).</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="comment">// We might have some portion of the module that looks like this:</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="comment">// AAAAAA (6 A&#39;s)</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="comment">// In this case, there are 5 different copies of &quot;AA&quot; in this range, but</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">// at most 3 can be outlined. If only outlining 3 of these is going to</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="comment">// be unbeneficial, then we ought to not bother.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="comment">// Note that two things DON&#39;T overlap when they look like this:</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="comment">// start1...end1 .... start2...end2</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="comment">// That is, one must either</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="comment">// * End before the other starts</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="comment">// * Start after the other ends</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordtype">unsigned</span> EndIdx = StartIdx + StringLen - 1;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keyword">auto</span> FirstOverlap = <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">find_if</a>(</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;          CandidatesForRepeatedSeq, [StartIdx, EndIdx](<span class="keyword">const</span> Candidate &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordflow">return</span> EndIdx &gt;= <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getStartIdx() &amp;&amp; StartIdx &lt;= <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getEndIdx();</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;          });</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">if</span> (FirstOverlap != CandidatesForRepeatedSeq.end()) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        ++NumDiscarded;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    .. DISCARD candidate @ [&quot;</span> &lt;&lt; StartIdx</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; EndIdx &lt;&lt; <span class="stringliteral">&quot;]; overlaps with candidate @ [&quot;</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                          &lt;&lt; FirstOverlap-&gt;getStartIdx() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                          &lt;&lt; FirstOverlap-&gt;getEndIdx() &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="comment">// It doesn&#39;t overlap with anything, so we can outline it.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="comment">// Each sequence is over [StartIt, EndIt].</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="comment">// Save the candidate and its location.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      ++NumKept;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> StartIt = Mapper.InstrList[StartIdx];</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> EndIt = Mapper.InstrList[EndIdx];</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = StartIt-&gt;getParent();</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      CandidatesForRepeatedSeq.emplace_back(StartIdx, StringLen, StartIt, EndIt,</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                                            <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, FunctionList.<a class="code" href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">size</a>(),</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                                            Mapper.MBBFlagsMap[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>]);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    Candidates discarded: &quot;</span> &lt;&lt; NumDiscarded</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    Candidates kept: &quot;</span> &lt;&lt; NumKept &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">// We&#39;ve found something we might want to outline.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// Create an OutlinedFunction to store it and check if it&#39;d be beneficial</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// to outline.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> (CandidatesForRepeatedSeq.size() &lt; 2)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">// Arbitrarily choose a TII from the first candidate.</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// FIXME: Should getOutliningCandidateInfo move to TargetMachine?</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> =</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        CandidatesForRepeatedSeq[0].getMF()-&gt;getSubtarget().getInstrInfo();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    OutlinedFunction OF =</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;getOutliningCandidateInfo(CandidatesForRepeatedSeq);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">// If we deleted too many candidates, then there&#39;s nothing worth outlining.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// FIXME: This should take target-specified instruction sizes into account.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (OF.Candidates.size() &lt; 2)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// Is it better to outline this candidate than not?</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> (OF.getBenefit() &lt; 1) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      emitNotOutliningCheaperRemark(StringLen, CandidatesForRepeatedSeq, OF);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    FunctionList.push_back(OF);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MachineOutliner::createOutlinedFunction(</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, OutlinedFunction &amp;OF, InstructionMapper &amp;Mapper, <span class="keywordtype">unsigned</span> Name) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="comment">// Create the function name. This should be unique.</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="comment">// FIXME: We should have a better naming scheme. This should be stable,</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// regardless of changes to the outliner&#39;s cost model/traversal order.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  std::string FunctionName = <span class="stringliteral">&quot;OUTLINED_FUNCTION_&quot;</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">if</span> (OutlineRepeatedNum &gt; 0)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    FunctionName += <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(OutlineRepeatedNum + 1) + <span class="stringliteral">&quot;_&quot;</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  FunctionName += <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(Name);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">// Create the function using an IR-level function.</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(<a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <span class="keyword">false</span>),</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                                 <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">Function::ExternalLinkage</a>, FunctionName, M);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// NOTE: If this is linkonceodr, then we can take advantage of linker deduping</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="comment">// which gives us better results when we outline from linkonceodr functions.</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setLinkage(<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">GlobalValue::InternalLinkage</a>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setUnnamedAddr(<a class="code" href="classllvm_1_1GlobalValue.html#ae8df4be75bfc50b1eadd74e85c25fa45a4cc6684df7b4a92b1dec6fce3264fac8">GlobalValue::UnnamedAddr::Global</a>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// Set optsize/minsize, so we don&#39;t insert padding between outlined</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="comment">// functions.</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(Attribute::OptimizeForSize);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(Attribute::MinSize);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  Candidate &amp;FirstCand = OF.Candidates.front();</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> =</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      *FirstCand.getMF()-&gt;getSubtarget().getInstrInfo();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.mergeOutliningCandidateAttributes(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, OF.Candidates);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="comment">// Set uwtable, so we generate eh_frame.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="namespacellvm.html#a6cdf47ba1fa5831d7c2897bc3aed77b8">UWTableKind</a> UW = std::accumulate(</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      OF.Candidates.cbegin(), OF.Candidates.cend(), <a class="code" href="namespacellvm.html#a6cdf47ba1fa5831d7c2897bc3aed77b8a6adf97f83acf6453d4a6a4b1070f3754">UWTableKind::None</a>,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      [](<a class="code" href="namespacellvm.html#a6cdf47ba1fa5831d7c2897bc3aed77b8">UWTableKind</a> K, <span class="keyword">const</span> <a class="code" href="structllvm_1_1outliner_1_1Candidate.html">outliner::Candidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        return std::max(K, C.getMF()-&gt;getFunction().getUWTableKind());</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      });</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">if</span> (UW != <a class="code" href="namespacellvm.html#a6cdf47ba1fa5831d7c2897bc3aed77b8a6adf97f83acf6453d4a6a4b1070f3754">UWTableKind::None</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setUWTableKind(UW);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *EntryBB = <a class="code" href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">BasicBlock::Create</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <span class="stringliteral">&quot;entry&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>(EntryBB);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateRetVoid();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <a class="code" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI = getAnalysis&lt;MachineModuleInfoWrapperPass&gt;().getMMI();</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = MMI.<a class="code" href="classllvm_1_1MachineModuleInfo.html#a89ccc89e9bd5881953bd1524a0d29f84">getOrCreateMachineFunction</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a1d483b4ac24a96c2250becb232ed4cb4">CreateMachineBasicBlock</a>();</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// Insert the new function into the module.</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">begin</a>(), &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *OriginalMF = FirstCand.<a class="code" href="classllvm_1_1MachineFunction.html#ab1063ce5e180c89490fae50511a46a29">front</a>()-&gt;getMF();</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keyword">const</span> std::vector&lt;MCCFIInstruction&gt; &amp;Instrs =</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      OriginalMF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac76c4d72f8d92470ab0936e03f66e67b">getFrameInstructions</a>();</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FirstCand.front(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = std::next(FirstCand.back()); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;       ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isDebugInstr())</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">// Don&#39;t keep debug information for outlined instructions.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keyword">auto</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isCFIInstruction()) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordtype">unsigned</span> CFIIndex = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0).getCFIIndex();</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <a class="code" href="classllvm_1_1MCCFIInstruction.html">MCCFIInstruction</a> CFI = Instrs[CFIIndex];</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(TargetOpcode::CFI_INSTRUCTION))</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad51b0d1c80a9dbf0eea9162e2e3ec0dd">addCFIIndex</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a247230f547064b27022d70c0aeb86682">addFrameInst</a>(CFI));</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">CloneMachineInstr</a>(&amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a6e05e3bfe64497149a8800b1830c4001">dropMemRefs</a>(MF);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#af2641f071128da26317fab5b9594ec71">setDebugLoc</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), NewMI);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// Set normal properties for a late MachineFunction.</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">getProperties</a>().<a class="code" href="classllvm_1_1MachineFunctionProperties.html#ab2b9bfd6814c12d301d3af702e28fb15">reset</a>(<a class="code" href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a4fc3b812627e58da17a703f73013db96">MachineFunctionProperties::Property::IsSSA</a>);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">getProperties</a>().<a class="code" href="classllvm_1_1MachineFunctionProperties.html#aa0f2b6097642894ce79ff3e15c896206">set</a>(<a class="code" href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a76eece0bfd57256980609b66faaef22c">MachineFunctionProperties::Property::NoPHIs</a>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">getProperties</a>().<a class="code" href="classllvm_1_1MachineFunctionProperties.html#aa0f2b6097642894ce79ff3e15c896206">set</a>(<a class="code" href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a72f7d830dd5ddb30f06d8e9639558ac3">MachineFunctionProperties::Property::NoVRegs</a>);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">getProperties</a>().<a class="code" href="classllvm_1_1MachineFunctionProperties.html#aa0f2b6097642894ce79ff3e15c896206">set</a>(<a class="code" href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a0020348b08bb4cccecf3241eac999d8a">MachineFunctionProperties::Property::TracksLiveness</a>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad32d5b4fe86449641427a131c27c03f7">freezeReservedRegs</a>(MF);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="comment">// Compute live-in set for outlined fn</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aed4562ccf898feaf2eb6cf5555b5084d">getTargetRegisterInfo</a>();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <a class="code" href="classllvm_1_1LivePhysRegs.html">LivePhysRegs</a> LiveIns(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Cand : OF.Candidates) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">// Figure out live-ins at the first instruction.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;OutlineBB = *Cand.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acb4d7c02992f3821f3e3432b6c65de49">front</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <a class="code" href="classllvm_1_1LivePhysRegs.html">LivePhysRegs</a> CandLiveIns(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    CandLiveIns.addLiveOuts(OutlineBB);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> :</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;         <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(<a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(Cand.front(), OutlineBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())))</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      CandLiveIns.stepBackward(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// The live-in set for the outlined function is the union of the live-ins</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// from all the outlining points.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> : CandLiveIns)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      LiveIns.addReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <a class="code" href="namespacellvm.html#af9a1ca470b2b9c8e97304f5be5448422">addLiveIns</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, LiveIns);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.buildOutlinedFrame(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MF, OF);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// If there&#39;s a DISubprogram associated with this outlined function, then</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// emit debug info for the outlined function.</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *SP = <a class="code" href="IROutliner_8cpp.html#a0028135ea5d53b4a9b047ef7c72edd57">getSubprogramOrNull</a>(OF)) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// We have a DISubprogram. Get its DICompileUnit.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="classllvm_1_1DICompileUnit.html">DICompileUnit</a> *<a class="code" href="namespaceCU.html">CU</a> = SP-&gt;getUnit();</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a8a67c950f093761829058d45fbc3f522">DB</a>(M, <span class="keyword">true</span>, <a class="code" href="namespaceCU.html">CU</a>);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="classllvm_1_1DIFile.html">DIFile</a> *Unit = SP-&gt;getFile();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <a class="code" href="classllvm_1_1Mangler.html">Mangler</a> Mg;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// Get the mangled name of the function for the linkage name.</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    std::string <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> MangledNameStream(<a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    Mg.<a class="code" href="classllvm_1_1Mangler.html#aa1c9296fd511eb96bb487befbf5e7cea">getNameWithPrefix</a>(MangledNameStream, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *OutlinedSP = <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a8a67c950f093761829058d45fbc3f522">DB</a>.createFunction(</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        Unit <span class="comment">/* Context */</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName(), <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(MangledNameStream.str()),</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        Unit <span class="comment">/* File */</span>,</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        0 <span class="comment">/* Line 0 is reserved for compiler-generated code. */</span>,</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a8a67c950f093761829058d45fbc3f522">DB</a>.createSubroutineType(</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a8a67c950f093761829058d45fbc3f522">DB</a>.getOrCreateTypeArray(std::nullopt)), <span class="comment">/* void type */</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        0, <span class="comment">/* Line 0 is reserved for compiler-generated code. */</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        DINode::DIFlags::FlagArtificial <span class="comment">/* Compiler-generated code. */</span>,</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="comment">/* Outlined code is optimized code by definition. */</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        DISubprogram::SPFlagDefinition | DISubprogram::SPFlagOptimized);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">// Don&#39;t add any new variables to the subprogram.</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a8a67c950f093761829058d45fbc3f522">DB</a>.finalizeSubprogram(OutlinedSP);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// Attach subprogram to the function.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setSubprogram(OutlinedSP);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// We&#39;re done with the DIBuilder.</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a8a67c950f093761829058d45fbc3f522">DB</a>.finalize();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">return</span> &amp;MF;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;}</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="keywordtype">bool</span> MachineOutliner::outline(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                              std::vector&lt;OutlinedFunction&gt; &amp;FunctionList,</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                              InstructionMapper &amp;Mapper,</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                              <span class="keywordtype">unsigned</span> &amp;OutlinedFunctionNum) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordtype">bool</span> OutlinedSomething = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// Sort by benefit. The most beneficial functions should be outlined first.</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <a class="code" href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">stable_sort</a>(FunctionList,</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;              [](<span class="keyword">const</span> OutlinedFunction &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> OutlinedFunction &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getBenefit() &gt; <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.getBenefit();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;              });</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">// Walk over each function, outlining them as we go along. Functions are</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="comment">// outlined greedily, based off the sort above.</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keyword">auto</span> *UnsignedVecBegin = Mapper.UnsignedVec.begin();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">for</span> (OutlinedFunction &amp;OF : FunctionList) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="comment">// If we outlined something that overlapped with a candidate in a previous</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// step, then we can&#39;t outline from it.</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">erase_if</a>(OF.Candidates, [&amp;UnsignedVecBegin](Candidate &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      return std::any_of(UnsignedVecBegin + C.getStartIdx(),</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                         UnsignedVecBegin + C.getEndIdx() + 1, [](unsigned I) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                           return I == static_cast&lt;unsigned&gt;(-1);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                         });</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    });</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="comment">// If we made it unbeneficial to outline this function, skip it.</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">if</span> (OF.getBenefit() &lt; 1)</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="comment">// It&#39;s beneficial. Create the function and outline its sequence&#39;s</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="comment">// occurrences.</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    OF.MF = createOutlinedFunction(M, OF, Mapper, OutlinedFunctionNum);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    emitOutlinedFunctionRemark(OF);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    FunctionsCreated++;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    OutlinedFunctionNum++; <span class="comment">// Created a function, move to the next name.</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = OF.MF;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> &amp;STI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *STI.<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// Replace occurrences of the sequence with calls to the new function.</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">for</span> (Candidate &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : OF.Candidates) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getMBB();</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> StartIt = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.front();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> EndIt = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.back();</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <span class="comment">// Insert the call.</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keyword">auto</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.insertOutlinedCall(M, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, StartIt, *MF, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="comment">// If the caller tracks liveness, then we need to make sure that</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="comment">// anything we outline doesn&#39;t break liveness assumptions. The outlined</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="comment">// functions themselves currently don&#39;t track liveness, but we should</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="comment">// make sure that the ranges we yank things out of aren&#39;t wrong.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">getProperties</a>().<a class="code" href="classllvm_1_1MachineFunctionProperties.html#aacef05f16d3e71703f08bb4677e1d7a2">hasProperty</a>(</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;              <a class="code" href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a0020348b08bb4cccecf3241eac999d8a">MachineFunctionProperties::Property::TracksLiveness</a>)) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="comment">// The following code is to add implicit def operands to the call</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="comment">// instruction. It also updates call site information for moved</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="comment">// code.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Register, 2&gt;</a> UseRegs, DefRegs;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="comment">// Copy over the defs in the outlined range.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="comment">// First inst in outlined range &lt;-- Anything that&#39;s defined in this</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="comment">// ...                           .. range has to be added as an</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="comment">// implicit Last inst in outlined range  &lt;-- def to the call</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="comment">// instruction. Also remove call site information for outlined block</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="comment">// of code. The exposed uses need to be copied in the outlined range.</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::reverse_iterator</a></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                 Iter = EndIt.<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html#a13dd64c40d9f175e578ade3ef60ea351">getReverse</a>(),</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                 Last = std::next(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a>.getReverse());</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;             Iter != Last; Iter++) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = &amp;*Iter;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Register, 2&gt;</a> InstrUseRegs;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MOP : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;operands()) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <span class="comment">// Skip over anything that isn&#39;t a register.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">if</span> (!MOP.isReg())</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <span class="keywordflow">if</span> (MOP.isDef()) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;              <span class="comment">// Introduce DefRegs set to skip the redundant register.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;              DefRegs.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(MOP.getReg());</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;              <span class="keywordflow">if</span> (UseRegs.<a class="code" href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">count</a>(MOP.getReg()) &amp;&amp;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                  !InstrUseRegs.<a class="code" href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">count</a>(MOP.getReg()))</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                <span class="comment">// Since the regiester is modeled as defined,</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                <span class="comment">// it is not necessary to be put in use register set.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                UseRegs.<a class="code" href="classllvm_1_1SmallSet.html#a75a2d2ad3b3dce6702750d570ee8f343">erase</a>(MOP.getReg());</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!MOP.isUndef()) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;              <span class="comment">// Any register which is not undefined should</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;              <span class="comment">// be put in the use register set.</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;              UseRegs.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(MOP.getReg());</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;              InstrUseRegs.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(MOP.getReg());</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;          }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isCandidateForCallSiteEntry())</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMF()-&gt;eraseCallSiteInfo(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : DefRegs)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;          <span class="comment">// If it&#39;s a def, add it to the call instruction.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;          <a class="code" href="classllvm_1_1CallInst.html">CallInst</a>-&gt;addOperand(</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;              <a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">true</span>, <span class="comment">/* isDef = true */</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                                        <span class="keyword">true</span> <span class="comment">/* isImp = true */</span>));</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : UseRegs)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;          <span class="comment">// If it&#39;s a exposed use, add it to the call instruction.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;          <a class="code" href="classllvm_1_1CallInst.html">CallInst</a>-&gt;addOperand(</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;              <a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">false</span>, <span class="comment">/* isDef = false */</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                                        <span class="keyword">true</span> <span class="comment">/* isImp = true */</span>));</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <span class="comment">// Erase from the point after where the call was inserted up to, and</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="comment">// including, the final instruction in the sequence.</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="comment">// Erase needs one past the end, so we need std::next there too.</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ad26bff839257f220557ce812b2159c72">erase</a>(std::next(StartIt), std::next(EndIt));</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="comment">// Keep track of what we removed by marking them all as -1.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(UnsignedVecBegin + <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getStartIdx(),</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                                    UnsignedVecBegin + <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getEndIdx() + 1))</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(-1);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      OutlinedSomething = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <span class="comment">// Statistics.</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      NumOutlined++;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;OutlinedSomething = &quot;</span> &lt;&lt; OutlinedSomething &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordflow">return</span> OutlinedSomething;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;}</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="keywordtype">void</span> MachineOutliner::populateMapper(InstructionMapper &amp;Mapper, <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                                     <a class="code" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// Build instruction mappings for each function in the module. Start by</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="comment">// iterating over each Function in M.</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;*** Populating mapper ***\n&quot;</span>);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : M) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MAPPING FUNCTION: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(<span class="stringliteral">&quot;nooutline&quot;</span>)) {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SKIP: Function has nooutline attribute\n&quot;</span>);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// There&#39;s something in F. Check if it has a MachineFunction associated with</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="comment">// it.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MMI.<a class="code" href="classllvm_1_1MachineModuleInfo.html#ac1a4ac2dc30f53dff05d2c7b2d8ebaef">getMachineFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">// If it doesn&#39;t, then there&#39;s nothing to outline from. Move to the next</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// Function.</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">if</span> (!MF) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SKIP: Function does not have a MachineFunction\n&quot;</span>);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">if</span> (!RunOnAllFunctions &amp;&amp; !<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;shouldOutlineFromFunctionByDefault(*MF)) {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SKIP: Target does not want to outline from &quot;</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                           <span class="stringliteral">&quot;function by default\n&quot;</span>);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="comment">// We have a MachineFunction. Ask the target if it&#39;s suitable for outlining.</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="comment">// If it isn&#39;t, then move on to the next Function in the module.</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isFunctionSafeToOutlineFrom(*MF, OutlineFromLinkOnceODRs)) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SKIP: &quot;</span> &lt;&lt; MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>()</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;: unsafe to outline from\n&quot;</span>);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="comment">// We have a function suitable for outlining. Iterate over every</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="comment">// MachineBasicBlock in MF and try to map its instructions to a list of</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">// unsigned integers.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MinMBBSize = 2;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : *MF) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  MAPPING MBB: &#39;&quot;</span> &lt;&lt; <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#aedf6cb1135961f41f39dc58ca8576123">getName</a>() &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="comment">// If there isn&#39;t anything in MBB, then there&#39;s no point in outlining from</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="comment">// it.</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="comment">// If there are fewer than 2 instructions in the MBB, then it can&#39;t ever</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="comment">// contain something worth outlining.</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="comment">// FIXME: This should be based off of the maximum size in B of an outlined</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      <span class="comment">// call versus the size in B of the MBB.</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">size</a>() &lt; MinMBBSize) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    SKIP: MBB size less than minimum size of &quot;</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                          &lt;&lt; MinMBBSize &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="comment">// Check if MBB could be the target of an indirect branch. If it is, then</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="comment">// we don&#39;t want to outline from it.</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a86ae593fc791eda3aae24bd9d6df2322">hasAddressTaken</a>()) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    SKIP: MBB&#39;s address is taken\n&quot;</span>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="comment">// MBB is suitable for outlining. Map it to a list of unsigneds.</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      Mapper.convertToUnsignedVec(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="comment">// Statistics.</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  UnsignedVecSize = Mapper.UnsignedVec.size();</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;}</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="keywordtype">void</span> MachineOutliner::initSizeRemarkInfo(</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI,</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="classllvm_1_1StringMap.html">StringMap&lt;unsigned&gt;</a> &amp;FunctionToInstrCount) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// Collect instruction counts for every function. We&#39;ll use this to emit</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// per-function size remarks later.</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : M) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MMI.<a class="code" href="classllvm_1_1MachineModuleInfo.html#ac1a4ac2dc30f53dff05d2c7b2d8ebaef">getMachineFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="comment">// We only care about MI counts here. If there&#39;s no MachineFunction at this</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="comment">// point, then there won&#39;t be after the outliner runs, so let&#39;s move on.</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">if</span> (!MF)</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    FunctionToInstrCount[<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName().str()] = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a0892015643ec782f2fce58af100fbd6e">getInstructionCount</a>();</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;}</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="keywordtype">void</span> MachineOutliner::emitInstrCountChangedRemark(</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1StringMap.html">StringMap&lt;unsigned&gt;</a> &amp;FunctionToInstrCount) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="comment">// Iterate over each function in the module and emit remarks.</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="comment">// Note that we won&#39;t miss anything by doing this, because the outliner never</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="comment">// deletes functions.</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : M) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MMI.<a class="code" href="classllvm_1_1MachineModuleInfo.html#ac1a4ac2dc30f53dff05d2c7b2d8ebaef">getMachineFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// The outliner never deletes functions. If we don&#39;t have a MF here, then we</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">// didn&#39;t have one prior to outlining either.</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (!MF)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    std::string Fname = std::string(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName());</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordtype">unsigned</span> FnCountAfter = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a0892015643ec782f2fce58af100fbd6e">getInstructionCount</a>();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordtype">unsigned</span> FnCountBefore = 0;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="comment">// Check if the function was recorded before.</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keyword">auto</span> It = FunctionToInstrCount.<a class="code" href="classllvm_1_1StringMap.html#a49e68e4c86fe0b96c633adea0c366d74">find</a>(Fname);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="comment">// Did we have a previously-recorded size? If yes, then set FnCountBefore</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="comment">// to that.</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">if</span> (It != FunctionToInstrCount.<a class="code" href="classllvm_1_1StringMap.html#a16e5eaf2df56249e87019be23ee07695">end</a>())</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      FnCountBefore = It-&gt;second;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="comment">// Compute the delta and emit a remark if there was a change.</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    int64_t FnDelta = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(FnCountAfter) -</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                      <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(FnCountBefore);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">if</span> (FnDelta == 0)</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html">MachineOptimizationRemarkEmitter</a> <a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>(*MF, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>.emit([&amp;]() {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>(<span class="stringliteral">&quot;size-info&quot;</span>, <span class="stringliteral">&quot;FunctionMISizeChange&quot;</span>,</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                                          <a class="code" href="classllvm_1_1DiagnosticLocation.html">DiagnosticLocation</a>(), &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab1063ce5e180c89490fae50511a46a29">front</a>());</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> &lt;&lt; <a class="code" href="structllvm_1_1DiagnosticInfoOptimizationBase_1_1Argument.html">DiagnosticInfoOptimizationBase::Argument</a>(<span class="stringliteral">&quot;Pass&quot;</span>, <span class="stringliteral">&quot;Machine Outliner&quot;</span>)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;: Function: &quot;</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        &lt;&lt; <a class="code" href="structllvm_1_1DiagnosticInfoOptimizationBase_1_1Argument.html">DiagnosticInfoOptimizationBase::Argument</a>(<span class="stringliteral">&quot;Function&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName())</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;: MI instruction count changed from &quot;</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        &lt;&lt; <a class="code" href="structllvm_1_1DiagnosticInfoOptimizationBase_1_1Argument.html">DiagnosticInfoOptimizationBase::Argument</a>(<span class="stringliteral">&quot;MIInstrsBefore&quot;</span>,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                                    FnCountBefore)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        &lt;&lt; <a class="code" href="structllvm_1_1DiagnosticInfoOptimizationBase_1_1Argument.html">DiagnosticInfoOptimizationBase::Argument</a>(<span class="stringliteral">&quot;MIInstrsAfter&quot;</span>,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                                                    FnCountAfter)</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;; Delta: &quot;</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        &lt;&lt; <a class="code" href="structllvm_1_1DiagnosticInfoOptimizationBase_1_1Argument.html">DiagnosticInfoOptimizationBase::Argument</a>(<span class="stringliteral">&quot;Delta&quot;</span>, FnDelta);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    });</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;}</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="keywordtype">bool</span> MachineOutliner::runOnModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="comment">// Check if there&#39;s anything in the module. If it&#39;s empty, then there&#39;s</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// nothing to outline.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.empty())</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="comment">// Number to append to the current outlined function.</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keywordtype">unsigned</span> OutlinedFunctionNum = 0;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  OutlineRepeatedNum = 0;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordflow">if</span> (!doOutline(M, OutlinedFunctionNum))</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="MachineOutliner_8cpp.html#a289fa614f17e93a75be251e26e3e7b58">OutlinerReruns</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    OutlinedFunctionNum = 0;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    OutlineRepeatedNum++;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">if</span> (!doOutline(M, OutlinedFunctionNum)) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Did not outline on iteration &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 2 &lt;&lt; <span class="stringliteral">&quot; out of &quot;</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;               &lt;&lt; <a class="code" href="MachineOutliner_8cpp.html#a289fa614f17e93a75be251e26e3e7b58">OutlinerReruns</a> + 1 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      });</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="keywordtype">bool</span> MachineOutliner::doOutline(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keywordtype">unsigned</span> &amp;OutlinedFunctionNum) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI = getAnalysis&lt;MachineModuleInfoWrapperPass&gt;().getMMI();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="comment">// If the user passed -enable-machine-outliner=always or</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="comment">// -enable-machine-outliner, the pass will run on all functions in the module.</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="comment">// Otherwise, if the target supports default outlining, it will run on all</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// functions deemed by the target to be worth outlining from by default. Tell</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// the user how the outliner is running.</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Machine Outliner: Running on &quot;</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (RunOnAllFunctions)</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;all functions&quot;</span>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;target-default functions&quot;</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  });</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">// If the user specifies that they want to outline from linkonceodrs, set</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="comment">// it here.</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  OutlineFromLinkOnceODRs = <a class="code" href="MachineOutliner_8cpp.html#a4e67da56d1541fc9e0dae1105a007c82">EnableLinkOnceODROutlining</a>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  InstructionMapper Mapper;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="comment">// Prepare instruction mappings for the suffix tree.</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  populateMapper(Mapper, M, MMI);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  std::vector&lt;OutlinedFunction&gt; FunctionList;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">// Find all of the outlining candidates.</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  findCandidates(Mapper, FunctionList);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="comment">// If we&#39;ve requested size remarks, then collect the MI counts of every</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="comment">// function before outlining, and the MI counts after outlining.</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="comment">// FIXME: This shouldn&#39;t be in the outliner at all; it should ultimately be</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="comment">// the pass manager&#39;s responsibility.</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="comment">// This could pretty easily be placed in outline instead, but because we</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="comment">// really ultimately *don&#39;t* want this here, it&#39;s done like this for now</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="comment">// instead.</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="comment">// Check if we want size remarks.</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keywordtype">bool</span> ShouldEmitSizeRemarks = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.shouldEmitInstrCountChangedRemark();</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <a class="code" href="classllvm_1_1StringMap.html">StringMap&lt;unsigned&gt;</a> FunctionToInstrCount;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">if</span> (ShouldEmitSizeRemarks)</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    initSizeRemarkInfo(M, MMI, FunctionToInstrCount);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">// Outline each of the candidates and return true if something was outlined.</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordtype">bool</span> OutlinedSomething =</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      outline(M, FunctionList, Mapper, OutlinedFunctionNum);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">// If we outlined something, we definitely changed the MI count of the</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="comment">// module. If we&#39;ve asked for size remarks, then output them.</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="comment">// FIXME: This should be in the pass manager.</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="keywordflow">if</span> (ShouldEmitSizeRemarks &amp;&amp; OutlinedSomething)</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    emitInstrCountChangedRemark(M, MMI, FunctionToInstrCount);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">if</span> (!OutlinedSomething)</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Stopped outlining at iteration &quot;</span> &lt;&lt; OutlineRepeatedNum</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; because no changes were found.\n&quot;</span>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  });</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordflow">return</span> OutlinedSomething;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_aacef05f16d3e71703f08bb4677e1d7a2"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#aacef05f16d3e71703f08bb4677e1d7a2">llvm::MachineFunctionProperties::hasProperty</a></div><div class="ttdeci">bool hasProperty(Property P) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00193">MachineFunction.h:193</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocalScope_html_a0e0b4a5906e0bc2a7fa033548c59a220"><div class="ttname"><a href="classllvm_1_1DILocalScope.html#a0e0b4a5906e0bc2a7fa033548c59a220">llvm::DILocalScope::getSubprogram</a></div><div class="ttdeci">DISubprogram * getSubprogram() const</div><div class="ttdoc">Get the subprogram for this scope.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l00965">DebugInfoMetadata.cpp:965</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af2c351dad09a71aa08e1d85c67ae6e53"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(Register Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false, bool isRenamable=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00833">MachineOperand.h:833</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">llvm::AArch64PACKey::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00790">AArch64BaseInfo.h:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModulePass_html"><div class="ttname"><a href="classllvm_1_1ModulePass.html">llvm::ModulePass</a></div><div class="ttdoc">ModulePass class - This class is used to implement unstructured interprocedural optimizations and ana...</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00248">Pass.h:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html"><div class="ttname"><a href="classllvm_1_1DIBuilder.html">llvm::DIBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8h_source.html#l00042">DIBuilder.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_ad34f7e3cd7a9add3ab2529e267b48004"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">llvm::TargetSubtargetInfo::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00095">TargetSubtargetInfo.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_ad51b0d1c80a9dbf0eea9162e2e3ec0dd"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad51b0d1c80a9dbf0eea9162e2e3ec0dd">llvm::MachineInstrBuilder::addCFIIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addCFIIndex(unsigned CFIIndex) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00247">MachineInstrBuilder.h:247</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00642">raw_ostream.h:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; unsigned &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6cdf47ba1fa5831d7c2897bc3aed77b8a6adf97f83acf6453d4a6a4b1070f3754"><div class="ttname"><a href="namespacellvm.html#a6cdf47ba1fa5831d7c2897bc3aed77b8a6adf97f83acf6453d4a6a4b1070f3754">llvm::UWTableKind::None</a></div><div class="ttdeci">@ None</div><div class="ttdoc">No unwind table requested.</div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aed4562ccf898feaf2eb6cf5555b5084d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aed4562ccf898feaf2eb6cf5555b5084d">llvm::MachineRegisterInfo::getTargetRegisterInfo</a></div><div class="ttdeci">const TargetRegisterInfo * getTargetRegisterInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00156">MachineRegisterInfo.h:156</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac9a7de5a04920954ac964059cfc428ad"><div class="ttname"><a href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a></div><div class="ttdeci">void erase_if(Container &amp;C, UnaryPredicate P)</div><div class="ttdoc">Provide a container algorithm similar to C++ Library Fundamentals v2's erase_if which is equivalent t...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01998">STLExtras.h:1998</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkEmitter.html">llvm::MachineOptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00152">MachineOptimizationRemarkEmitter.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda47b7bba75c0c242b40fece427c2bfefa"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda47b7bba75c0c242b40fece427c2bfefa">llvm::IRSimilarity::Invisible</a></div><div class="ttdeci">@ Invisible</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPIRV_html_a2337541bc5463462ac9dd28b96875f45"><div class="ttname"><a href="namespacellvm_1_1SPIRV.html#a2337541bc5463462ac9dd28b96875f45">llvm::SPIRV::InstrList</a></div><div class="ttdeci">SmallVector&lt; MachineInstr * &gt; InstrList</div><div class="ttdef"><b>Definition:</b> <a href="SPIRVModuleAnalysis_8h_source.html#l00115">SPIRVModuleAnalysis.h:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1LivePhysRegs_html"><div class="ttname"><a href="classllvm_1_1LivePhysRegs.html">llvm::LivePhysRegs</a></div><div class="ttdoc">A set of physical registers with utility functions to track liveness when walking backward/forward th...</div><div class="ttdef"><b>Definition:</b> <a href="LivePhysRegs_8h_source.html#l00050">LivePhysRegs.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aMachineOutliner_8cpp_html_a4e67da56d1541fc9e0dae1105a007c82"><div class="ttname"><a href="MachineOutliner_8cpp.html#a4e67da56d1541fc9e0dae1105a007c82">EnableLinkOnceODROutlining</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableLinkOnceODROutlining(&quot;enable-linkonceodr-outlining&quot;, cl::Hidden, cl::desc(&quot;Enable the machine outliner on linkonceodr functions&quot;), cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab622d694b5fcb0edb99159f1ebdcdb6b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">llvm::MachineBasicBlock::findDebugLoc</a></div><div class="ttdeci">DebugLoc findDebugLoc(instr_iterator MBBI)</div><div class="ttdoc">Find the next valid DebugLoc starting at MBBI, skipping any DBG_VALUE and DBG_LABEL instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01397">MachineBasicBlock.cpp:1397</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringMap_html_a16e5eaf2df56249e87019be23ee07695"><div class="ttname"><a href="classllvm_1_1StringMap.html#a16e5eaf2df56249e87019be23ee07695">llvm::StringMap::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2StringMap_8h_source.html#l00204">StringMap.h:204</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a0892015643ec782f2fce58af100fbd6e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a0892015643ec782f2fce58af100fbd6e">llvm::MachineFunction::getInstructionCount</a></div><div class="ttdeci">unsigned getInstructionCount() const</div><div class="ttdoc">Return the number of MachineInstrs in this MachineFunction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00913">MachineFunction.h:913</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SuffixTree_html"><div class="ttname"><a href="classllvm_1_1SuffixTree.html">llvm::SuffixTree</a></div><div class="ttdoc">A data structure for fast substring queries.</div><div class="ttdef"><b>Definition:</b> <a href="SuffixTree_8h_source.html#l00137">SuffixTree.h:137</a></div></div>
<div class="ttc" id="aTargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_af4c0db6d503e0ba3b8e44067023ffbba"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">llvm::MachineFunction::insert</a></div><div class="ttdeci">void insert(iterator MBBI, MachineBasicBlock *MBB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00889">MachineFunction.h:889</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_ae8df4be75bfc50b1eadd74e85c25fa45a4cc6684df7b4a92b1dec6fce3264fac8"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ae8df4be75bfc50b1eadd74e85c25fa45a4cc6684df7b4a92b1dec6fce3264fac8">llvm::GlobalValue::UnnamedAddr::Global</a></div><div class="ttdeci">@ Global</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_ad85237c6c667e4713efe8921e9c32ac1a4fc3b812627e58da17a703f73013db96"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a4fc3b812627e58da17a703f73013db96">llvm::MachineFunctionProperties::Property::IsSSA</a></div><div class="ttdeci">@ IsSSA</div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a8f5533240c6722d987a2443cba42019d"><div class="ttname"><a href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">llvm::ore::NV</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::Argument NV</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00136">OptimizationRemarkEmitter.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_html_af9a1ca470b2b9c8e97304f5be5448422"><div class="ttname"><a href="namespacellvm.html#af9a1ca470b2b9c8e97304f5be5448422">llvm::addLiveIns</a></div><div class="ttdeci">void addLiveIns(MachineBasicBlock &amp;MBB, const LivePhysRegs &amp;LiveRegs)</div><div class="ttdoc">Adds registers contained in LiveRegs to the block live-in list of MBB.</div><div class="ttdef"><b>Definition:</b> <a href="LivePhysRegs_8cpp_source.html#l00259">LivePhysRegs.cpp:259</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringMap_html_a49e68e4c86fe0b96c633adea0c366d74"><div class="ttname"><a href="classllvm_1_1StringMap.html#a49e68e4c86fe0b96c633adea0c366d74">llvm::StringMap::find</a></div><div class="ttdeci">iterator find(StringRef Key)</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2StringMap_8h_source.html#l00217">StringMap.h:217</a></div></div>
<div class="ttc" id="aclassllvm_1_1Mangler_html"><div class="ttname"><a href="classllvm_1_1Mangler.html">llvm::Mangler</a></div><div class="ttdef"><b>Definition:</b> <a href="Mangler_8h_source.html#l00027">Mangler.h:27</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac76c4d72f8d92470ab0936e03f66e67b"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac76c4d72f8d92470ab0936e03f66e67b">llvm::MachineFunction::getFrameInstructions</a></div><div class="ttdeci">const std::vector&lt; MCCFIInstruction &gt; &amp; getFrameInstructions() const</div><div class="ttdoc">Returns a reference to a list of cfi instructions in the function's prologue.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l01072">MachineFunction.h:1072</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46a8a67c950f093761829058d45fbc3f522"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a8a67c950f093761829058d45fbc3f522">llvm::AArch64PACKey::DB</a></div><div class="ttdeci">@ DB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00794">AArch64BaseInfo.h:794</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ad26bff839257f220557ce812b2159c72"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ad26bff839257f220557ce812b2159c72">llvm::MachineBasicBlock::erase</a></div><div class="ttdeci">instr_iterator erase(instr_iterator I)</div><div class="ttdoc">Remove an instruction from the instruction list and delete it.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01323">MachineBasicBlock.cpp:1323</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemark_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemark.html">llvm::MachineOptimizationRemark</a></div><div class="ttdoc">Diagnostic information for applied optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00058">MachineOptimizationRemarkEmitter.h:58</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_html"><div class="ttname"><a href="structllvm_1_1DenseMapInfo.html">llvm::DenseMapInfo</a></div><div class="ttdoc">An information struct used to provide DenseMap with the various necessary components for a given valu...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00034">APInt.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6cdf47ba1fa5831d7c2897bc3aed77b8"><div class="ttname"><a href="namespacellvm.html#a6cdf47ba1fa5831d7c2897bc3aed77b8">llvm::UWTableKind</a></div><div class="ttdeci">UWTableKind</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00121">CodeGen.h:121</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab1063ce5e180c89490fae50511a46a29"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab1063ce5e180c89490fae50511a46a29">llvm::MachineFunction::front</a></div><div class="ttdeci">const MachineBasicBlock &amp; front() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00882">MachineFunction.h:882</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdoc">TargetInstrInfo - Interface to description of machine instruction set.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00098">TargetInstrInfo.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda16a84ba67d52e1c64fb48ce437b569ab">llvm::IRSimilarity::Illegal</a></div><div class="ttdeci">@ Illegal</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="aTwine_8h_html"><div class="ttname"><a href="Twine_8h.html">Twine.h</a></div></div>
<div class="ttc" id="aMachineOutliner_8cpp_html_ab72f6c46cf154205814197e0e93b69f7"><div class="ttname"><a href="MachineOutliner_8cpp.html#ab72f6c46cf154205814197e0e93b69f7">INITIALIZE_PASS</a></div><div class="ttdeci">INITIALIZE_PASS(MachineOutliner, DEBUG_TYPE, &quot;Machine Function Outliner&quot;, false, false) void MachineOutliner</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8cpp_source.html#l00509">MachineOutliner.cpp:509</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_acc5e979e3fa3c222553de9b741c3e12b"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">llvm::MachineFunction::getProperties</a></div><div class="ttdeci">const MachineFunctionProperties &amp; getProperties() const</div><div class="ttdoc">Get the function properties.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00763">MachineFunction.h:763</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1Mangler_html_aa1c9296fd511eb96bb487befbf5e7cea"><div class="ttname"><a href="classllvm_1_1Mangler.html#aa1c9296fd511eb96bb487befbf5e7cea">llvm::Mangler::getNameWithPrefix</a></div><div class="ttdeci">void getNameWithPrefix(raw_ostream &amp;OS, const GlobalValue *GV, bool CannotUsePrivateLabel) const</div><div class="ttdoc">Print the appropriate prefix and the specified global variable's name.</div><div class="ttdef"><b>Definition:</b> <a href="Mangler_8cpp_source.html#l00119">Mangler.cpp:119</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_aa0f2b6097642894ce79ff3e15c896206"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#aa0f2b6097642894ce79ff3e15c896206">llvm::MachineFunctionProperties::set</a></div><div class="ttdeci">MachineFunctionProperties &amp; set(Property P)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00197">MachineFunction.h:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineModuleInfo_html"><div class="ttname"><a href="classllvm_1_1MachineModuleInfo.html">llvm::MachineModuleInfo</a></div><div class="ttdoc">This class contains meta information specific to a module.</div><div class="ttdef"><b>Definition:</b> <a href="MachineModuleInfo_8h_source.html#l00074">MachineModuleInfo.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkAnalysis_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">llvm::MachineOptimizationRemarkAnalysis</a></div><div class="ttdoc">Diagnostic information for optimization analysis remarks.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00110">MachineOptimizationRemarkEmitter.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab0789854909cf47f640a85fa2bac29c7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">llvm::MachineFunction::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00870">MachineFunction.h:870</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ad32d5b4fe86449641427a131c27c03f7"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ad32d5b4fe86449641427a131c27c03f7">llvm::MachineRegisterInfo::freezeReservedRegs</a></div><div class="ttdeci">void freezeReservedRegs(const MachineFunction &amp;)</div><div class="ttdoc">freezeReservedRegs - Called by the register allocator to freeze the set of reserved registers before ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00511">MachineRegisterInfo.cpp:511</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">llvm::GlobalValue::InternalLinkage</a></div><div class="ttdeci">@ InternalLinkage</div><div class="ttdoc">Rename collisions when linking (static functions).</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00055">GlobalValue.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCCFIInstruction_html"><div class="ttname"><a href="classllvm_1_1MCCFIInstruction.html">llvm::MCCFIInstruction</a></div><div class="ttdef"><b>Definition:</b> <a href="MCDwarf_8h_source.html#l00479">MCDwarf.h:479</a></div></div>
<div class="ttc" id="anamespacellvm_html_a917b9addcc9e18ce8212a1f5e0c10ca3"><div class="ttname"><a href="namespacellvm.html#a917b9addcc9e18ce8212a1f5e0c10ca3">llvm::createMachineOutlinerPass</a></div><div class="ttdeci">ModulePass * createMachineOutlinerPass(bool RunOnAllFunctions=true)</div><div class="ttdoc">This pass performs outlining on machine instructions directly before printing assembly.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8cpp_source.html#l00501">MachineOutliner.cpp:501</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringMap_html"><div class="ttname"><a href="classllvm_1_1StringMap.html">llvm::StringMap&lt; unsigned &gt;</a></div></div>
<div class="ttc" id="aMachineOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="MachineOptimizationRemarkEmitter_8h.html">MachineOptimizationRemarkEmitter.h</a></div><div class="ttdoc">===- MachineOptimizationRemarkEmitter.h - Opt Diagnostics -*- C++ -*-===//</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_ad85237c6c667e4713efe8921e9c32ac1a72f7d830dd5ddb30f06d8e9639558ac3"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a72f7d830dd5ddb30f06d8e9639558ac3">llvm::MachineFunctionProperties::Property::NoVRegs</a></div><div class="ttdeci">@ NoVRegs</div></div>
<div class="ttc" id="aCodeGen_2Passes_8h_html"><div class="ttname"><a href="CodeGen_2Passes_8h.html">Passes.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8e112d124be486708eaa596339ad1f69"><div class="ttname"><a href="namespacellvm.html#a8e112d124be486708eaa596339ad1f69">llvm::initializeMachineOutlinerPass</a></div><div class="ttdeci">void initializeMachineOutlinerPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="astructllvm_1_1DiagnosticInfoOptimizationBase_1_1Argument_html"><div class="ttname"><a href="structllvm_1_1DiagnosticInfoOptimizationBase_1_1Argument.html">llvm::DiagnosticInfoOptimizationBase::Argument</a></div><div class="ttdoc">Used in the streaming interface as the general argument type.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00426">DiagnosticInfo.h:426</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a2a98f19750ba941ce791b75ca6d77e48"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">llvm::SmallSet::count</a></div><div class="ttdeci">size_type count(const T &amp;V) const</div><div class="ttdoc">count - Return 1 if the element is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00164">SmallSet.h:164</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html_a13dd64c40d9f175e578ade3ef60ea351"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html#a13dd64c40d9f175e578ade3ef60ea351">llvm::MachineInstrBundleIterator::getReverse</a></div><div class="ttdeci">reverse_iterator getReverse() const</div><div class="ttdoc">Get a reverse iterator to the same node.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundleIterator_8h_source.html#l00283">MachineInstrBundleIterator.h:283</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">llvm::IRSimilarity::Legal</a></div><div class="ttdeci">@ Legal</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_ad85237c6c667e4713efe8921e9c32ac1a0020348b08bb4cccecf3241eac999d8a"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a0020348b08bb4cccecf3241eac999d8a">llvm::MachineFunctionProperties::Property::TracksLiveness</a></div><div class="ttdeci">@ TracksLiveness</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a86ae593fc791eda3aae24bd9d6df2322"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a86ae593fc791eda3aae24bd9d6df2322">llvm::MachineBasicBlock::hasAddressTaken</a></div><div class="ttdeci">bool hasAddressTaken() const</div><div class="ttdoc">Test whether this block is used as as something other than the target of a terminator,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00231">MachineBasicBlock.h:231</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkMissed_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkMissed.html">llvm::MachineOptimizationRemarkMissed</a></div><div class="ttdoc">Diagnostic information for missed-optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00084">MachineOptimizationRemarkEmitter.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineModuleInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1MachineModuleInfoWrapperPass.html">llvm::MachineModuleInfoWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineModuleInfo_8h_source.html#l00203">MachineModuleInfo.h:203</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac485421b5fcb9454ea64e74f6396a810"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">llvm::MachineFunction::CloneMachineInstr</a></div><div class="ttdeci">MachineInstr * CloneMachineInstr(const MachineInstr *Orig)</div><div class="ttdoc">Create a new MachineInstr which is a copy of Orig, identical in all ways except the instruction has n...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00390">MachineFunction.cpp:390</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="anamespacellvm_1_1outliner_html_a0765e098fe7aae0f01b60ec890ac1b52a6adc06fdab039cdbfaaeda00060c5e63"><div class="ttname"><a href="namespacellvm_1_1outliner.html#a0765e098fe7aae0f01b60ec890ac1b52a6adc06fdab039cdbfaaeda00060c5e63">llvm::outliner::LegalTerminator</a></div><div class="ttdeci">@ LegalTerminator</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00033">MachineOutliner.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1outliner_1_1Candidate_html"><div class="ttname"><a href="structllvm_1_1outliner_1_1Candidate.html">llvm::outliner::Candidate</a></div><div class="ttdoc">An individual sequence of instructions to be replaced with a call to an outlined function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8h_source.html#l00037">MachineOutliner.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="astructllvm_1_1SuffixTree_1_1RepeatedSubstring_html"><div class="ttname"><a href="structllvm_1_1SuffixTree_1_1RepeatedSubstring.html">llvm::SuffixTree::RepeatedSubstring</a></div><div class="ttdoc">A repeated substring in the tree.</div><div class="ttdef"><b>Definition:</b> <a href="SuffixTree_8h_source.html#l00143">SuffixTree.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_a298184c9a0cd665d7cfc55f6a59204a4"><div class="ttname"><a href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">llvm::MCPhysReg</a></div><div class="ttdeci">uint16_t MCPhysReg</div><div class="ttdoc">An unsigned integer type large enough to represent all physical registers, but not necessarily virtua...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegister_8h_source.html#l00021">MCRegister.h:21</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aDIBuilder_8h_html"><div class="ttname"><a href="DIBuilder_8h.html">DIBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DICompileUnit_html"><div class="ttname"><a href="classllvm_1_1DICompileUnit.html">llvm::DICompileUnit</a></div><div class="ttdoc">Compile unit.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01363">DebugInfoMetadata.h:1363</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a1d483b4ac24a96c2250becb232ed4cb4"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a1d483b4ac24a96c2250becb232ed4cb4">llvm::MachineFunction::CreateMachineBasicBlock</a></div><div class="ttdeci">MachineBasicBlock * CreateMachineBasicBlock(const BasicBlock *bb=nullptr)</div><div class="ttdoc">CreateMachineBasicBlock - Allocate a new MachineBasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00446">MachineFunction.cpp:446</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a3d142c9e7c066059e15232c56dec9e2e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">llvm::MachineFunction::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">getName - Return the name of the corresponding LLVM function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00582">MachineFunction.cpp:582</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6adbed68009f582caa84cdfd2adf36f1"><div class="ttname"><a href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, unsigned AddrSpace, const Twine &amp;N=&quot;&quot;, Module *M=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00136">Function.h:136</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_adbff55f335d303816547f35eb6edb948"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">llvm::MachineBasicBlock::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00279">MachineBasicBlock.h:279</a></div></div>
<div class="ttc" id="aSuffixTree_8h_html"><div class="ttname"><a href="SuffixTree_8h.html">SuffixTree.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4e21760f681d6f97f95c8414e7b83ea5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const</div><div class="ttdoc">Return the MachineFunction containing this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00265">MachineBasicBlock.h:265</a></div></div>
<div class="ttc" id="aMachineModuleInfo_8h_html"><div class="ttname"><a href="MachineModuleInfo_8h.html">MachineModuleInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a75a2d2ad3b3dce6702750d570ee8f343"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a75a2d2ad3b3dce6702750d570ee8f343">llvm::SmallSet::erase</a></div><div class="ttdeci">bool erase(const T &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00205">SmallSet.h:205</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aMangler_8h_html"><div class="ttname"><a href="Mangler_8h.html">Mangler.h</a></div></div>
<div class="ttc" id="aMachineInstrBundle_8cpp_html_af44c9b089359803924e0b92bea3b6d03"><div class="ttname"><a href="MachineInstrBundle_8cpp.html#af44c9b089359803924e0b92bea3b6d03">getDebugLoc</a></div><div class="ttdeci">static DebugLoc getDebugLoc(MachineBasicBlock::instr_iterator FirstMI, MachineBasicBlock::instr_iterator LastMI)</div><div class="ttdoc">Return the first found DebugLoc that has a DILocation, given a range of instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8cpp_source.html#l00110">MachineInstrBundle.cpp:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTXISD_html_ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645"><div class="ttname"><a href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">llvm::NVPTXISD::Dummy</a></div><div class="ttdeci">@ Dummy</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8h_source.html#l00060">NVPTXISelLowering.h:60</a></div></div>
<div class="ttc" id="aMachineOutliner_8cpp_html_a289fa614f17e93a75be251e26e3e7b58"><div class="ttname"><a href="MachineOutliner_8cpp.html#a289fa614f17e93a75be251e26e3e7b58">OutlinerReruns</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; OutlinerReruns(&quot;machine-outliner-reruns&quot;, cl::init(0), cl::Hidden, cl::desc(&quot;Number of times to rerun the outliner after the initial outline&quot;))</div><div class="ttdoc">Number of times to re-run the outliner.</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1DiagnosticLocation_html"><div class="ttname"><a href="classllvm_1_1DiagnosticLocation.html">llvm::DiagnosticLocation</a></div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00298">DiagnosticInfo.h:298</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a884f90190bca4bd354f2d5c91c264028"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">llvm::AnalysisUsage::addPreserved</a></div><div class="ttdeci">AnalysisUsage &amp; addPreserved()</div><div class="ttdoc">Add the specified Pass class to the set of analyses preserved by this pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00098">PassAnalysisSupport.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ace940beeee97c222f836fe0ac70f6cf5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">llvm::BasicBlock::Create</a></div><div class="ttdeci">static BasicBlock * Create(LLVMContext &amp;Context, const Twine &amp;Name=&quot;&quot;, Function *Parent=nullptr, BasicBlock *InsertBefore=nullptr)</div><div class="ttdoc">Creates a new BasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00105">BasicBlock.h:105</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineModuleInfo_html_a89ccc89e9bd5881953bd1524a0d29f84"><div class="ttname"><a href="classllvm_1_1MachineModuleInfo.html#a89ccc89e9bd5881953bd1524a0d29f84">llvm::MachineModuleInfo::getOrCreateMachineFunction</a></div><div class="ttdeci">MachineFunction &amp; getOrCreateMachineFunction(Function &amp;F)</div><div class="ttdoc">Returns the MachineFunction constructed for the IR function F.</div><div class="ttdef"><b>Definition:</b> <a href="MachineModuleInfo_8cpp_source.html#l00096">MachineModuleInfo.cpp:96</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_ab2b9bfd6814c12d301d3af702e28fb15"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#ab2b9bfd6814c12d301d3af702e28fb15">llvm::MachineFunctionProperties::reset</a></div><div class="ttdeci">MachineFunctionProperties &amp; reset(Property P)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00202">MachineFunction.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html">llvm::TargetSubtargetInfo</a></div><div class="ttdoc">TargetSubtargetInfo - Generic base class for all target subtargets.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00062">TargetSubtargetInfo.h:62</a></div></div>
<div class="ttc" id="aregcomp_8c_html_ace441594c4bd8da94fd64b1c612ca948"><div class="ttname"><a href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a></div><div class="ttdeci">#define MORE()</div><div class="ttdef"><b>Definition:</b> <a href="regcomp_8c_source.html#l00252">regcomp.c:252</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a247230f547064b27022d70c0aeb86682"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a247230f547064b27022d70c0aeb86682">llvm::MachineFunction::addFrameInst</a></div><div class="ttdeci">unsigned addFrameInst(const MCCFIInstruction &amp;Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00317">MachineFunction.cpp:317</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac78c09ae232b2ce188ff590d51e3c268"><div class="ttname"><a href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a></div><div class="ttdeci">auto find_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::find_if which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01762">STLExtras.h:1762</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a5db9240c74644c67759dd0f901fc3c7d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">llvm::StringRef::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdoc">size - Get the string size.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00137">StringRef.h:137</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aIROutliner_8cpp_html_a0028135ea5d53b4a9b047ef7c72edd57"><div class="ttname"><a href="IROutliner_8cpp.html#a0028135ea5d53b4a9b047ef7c72edd57">getSubprogramOrNull</a></div><div class="ttdeci">static DISubprogram * getSubprogramOrNull(OutlinableGroup &amp;Group)</div><div class="ttdoc">Get the subprogram if it exists for one of the outlined regions.</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8cpp_source.html#l00625">IROutliner.cpp:625</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="anamespacellvm_html_a076f93c387f454f0db13d4bc7d4e7f9c"><div class="ttname"><a href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a></div><div class="ttdeci">void stable_sort(R &amp;&amp;Range)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01948">STLExtras.h:1948</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_ad85237c6c667e4713efe8921e9c32ac1a76eece0bfd57256980609b66faaef22c"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a76eece0bfd57256980609b66faaef22c">llvm::MachineFunctionProperties::Property::NoPHIs</a></div><div class="ttdeci">@ NoPHIs</div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdoc">Set by analyses that do not transform their input at all.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00130">PassAnalysisSupport.h:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineModuleInfo_html_ac1a4ac2dc30f53dff05d2c7b2d8ebaef"><div class="ttname"><a href="classllvm_1_1MachineModuleInfo.html#ac1a4ac2dc30f53dff05d2c7b2d8ebaef">llvm::MachineModuleInfo::getMachineFunction</a></div><div class="ttdeci">MachineFunction * getMachineFunction(const Function &amp;F) const</div><div class="ttdoc">Returns the MachineFunction associated to IR function F if there is one, otherwise nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineModuleInfo_8cpp_source.html#l00091">MachineModuleInfo.cpp:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3435a2381e60e842e915f85c931b7dde"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">llvm::MachineBasicBlock::insert</a></div><div class="ttdeci">instr_iterator insert(instr_iterator I, MachineInstr *M)</div><div class="ttdoc">Insert MI into the instruction list before I, possibly inside a bundle.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01336">MachineBasicBlock.cpp:1336</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acb4d7c02992f3821f3e3432b6c65de49"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acb4d7c02992f3821f3e3432b6c65de49">llvm::MachineBasicBlock::front</a></div><div class="ttdeci">MachineInstr &amp; front()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00288">MachineBasicBlock.h:288</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_af2641f071128da26317fab5b9594ec71"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#af2641f071128da26317fab5b9594ec71">llvm::MachineInstr::setDebugLoc</a></div><div class="ttdeci">void setDebugLoc(DebugLoc DL)</div><div class="ttdoc">Replace current source information with new such.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01775">MachineInstr.h:1775</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdeci">@ ExternalLinkage</div><div class="ttdoc">Externally visible function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00048">GlobalValue.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00224">Type.cpp:224</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17e04afcf0c5efeb0eb6a9a45287b5e4"><div class="ttname"><a href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, const MIMetadata &amp;MIMD, const MCInstrDesc &amp;MCID)</div><div class="ttdoc">Builder interface. Specify how to create the initial instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00357">MachineInstrBuilder.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="anamespacellvm_html_a13c1b5a253da5da49ce33d03dc1efc07"><div class="ttname"><a href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">llvm::to_string</a></div><div class="ttdeci">std::string to_string(const T &amp;Value)</div><div class="ttdef"><b>Definition:</b> <a href="ScopedPrinter_8h_source.html#l00085">ScopedPrinter.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a6e05e3bfe64497149a8800b1830c4001"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a6e05e3bfe64497149a8800b1830c4001">llvm::MachineInstr::dropMemRefs</a></div><div class="ttdeci">void dropMemRefs(MachineFunction &amp;MF)</div><div class="ttdoc">Clear this MachineInstr's memory reference descriptor list.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00344">MachineInstr.cpp:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1DISubprogram_html"><div class="ttname"><a href="classllvm_1_1DISubprogram.html">llvm::DISubprogram</a></div><div class="ttdoc">Subprogram description.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01851">DebugInfoMetadata.h:1851</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html_a6590d0486104165ca40c7df0707f7b9e"><div class="ttname"><a href="classllvm_1_1Pass.html#a6590d0486104165ca40c7df0707f7b9e">llvm::Pass::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;) const</div><div class="ttdoc">getAnalysisUsage - This function should be overriden by passes that need analysis information to do t...</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00098">Pass.cpp:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="anamespacellvm_1_1omp_html_a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443"><div class="ttname"><a href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">llvm::omp::RTLDependInfoFields::Flags</a></div><div class="ttdeci">@ Flags</div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="anamespaceCU_html"><div class="ttname"><a href="namespaceCU.html">CU</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64AsmBackend_8cpp_source.html#l00505">AArch64AsmBackend.cpp:505</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_aedf6cb1135961f41f39dc58ca8576123"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aedf6cb1135961f41f39dc58ca8576123">llvm::MachineBasicBlock::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return the name of the corresponding LLVM basic block, or an empty string.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00316">MachineBasicBlock.cpp:316</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="aMachineOutliner_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="MachineOutliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="MachineOutliner_8cpp_source.html#l00081">MachineOutliner.cpp:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIFile_html"><div class="ttname"><a href="classllvm_1_1DIFile.html">llvm::DIFile</a></div><div class="ttdoc">File.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00562">DebugInfoMetadata.h:562</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="aLivePhysRegs_8h_html"><div class="ttname"><a href="LivePhysRegs_8h.html">LivePhysRegs.h</a></div></div>
<div class="ttc" id="aMachineOutliner_8h_html"><div class="ttname"><a href="MachineOutliner_8h.html">MachineOutliner.h</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:55:19 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
