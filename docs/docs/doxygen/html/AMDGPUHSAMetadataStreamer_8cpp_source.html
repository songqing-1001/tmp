<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AMDGPU/AMDGPUHSAMetadataStreamer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_447ce995d6e35417de5ec3060e97c93e.html">AMDGPU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AMDGPUHSAMetadataStreamer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AMDGPUHSAMetadataStreamer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===--- AMDGPUHSAMetadataStreamer.cpp --------------------------*- C++ -*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// AMDGPU HSA Metadata Streamer.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUHSAMetadataStreamer_8h.html">AMDGPUHSAMetadataStreamer.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPU_8h.html">AMDGPU.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GCNSubtarget_8h.html">GCNSubtarget.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUTargetStreamer_8h.html">MCTargetDesc/AMDGPUTargetStreamer.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SIProgramInfo_8h.html">SIProgramInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="AMDGPUHSAMetadataStreamer_8cpp.html#a61457aec1b13f4f21f415e64eb4c8d48">   24</a></span>&#160;<span class="keyword">static</span> std::pair&lt;Type *, Align&gt; <a class="code" href="AMDGPUHSAMetadataStreamer_8cpp.html#a61457aec1b13f4f21f415e64eb4c8d48">getArgumentTypeAlign</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>,</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>) {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getType();</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> ArgAlign;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.hasByRefAttr()) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    Ty = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getParamByRefType();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    ArgAlign = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getParamAlign();</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  }</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">if</span> (!ArgAlign)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    ArgAlign = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getABITypeAlign(Ty);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">return</span> std::pair(Ty, *ArgAlign);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#a630ad6f676173be96fd90e77f6c1f1c7">DumpHSAMetadata</a>(</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="stringliteral">&quot;amdgpu-dump-hsa-metadata&quot;</span>,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Dump AMDGPU HSA Metadata&quot;</span>));</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#aa2e35087c06e2f903a8f89bd9d03bc88">VerifyHSAMetadata</a>(</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="stringliteral">&quot;amdgpu-verify-hsa-metadata&quot;</span>,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Verify AMDGPU HSA Metadata&quot;</span>));</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceAMDGPU.html">AMDGPU</a> {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">namespace </span>HSAMD {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// HSAMetadataStreamerV2</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keywordtype">void</span> MetadataStreamerYamlV2::dump(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> HSAMetadataString)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;AMDGPU HSA Metadata:\n&quot;</span> &lt;&lt; HSAMetadataString &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keywordtype">void</span> MetadataStreamerYamlV2::verify(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> HSAMetadataString)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;AMDGPU HSA Metadata Parser Test: &quot;</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  HSAMD::Metadata FromHSAMetadataString;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a3a88349f84d4691e26a0a7f9c26be0a9">fromString</a>(HSAMetadataString, FromHSAMetadataString)) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;FAIL\n&quot;</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  std::string ToHSAMetadataString;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a97c0ff8bcd808f8dc602c9c94b34ba33">toString</a>(FromHSAMetadataString, ToHSAMetadataString)) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;FAIL\n&quot;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; (HSAMetadataString == ToHSAMetadataString ? <span class="stringliteral">&quot;PASS&quot;</span> : <span class="stringliteral">&quot;FAIL&quot;</span>)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;         &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">if</span> (HSAMetadataString != ToHSAMetadataString) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Original input: &quot;</span> &lt;&lt; HSAMetadataString &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;Produced output: &quot;</span> &lt;&lt; ToHSAMetadataString &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5">AccessQualifier</a></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;MetadataStreamerYamlV2::getAccessQualifier(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>.empty())</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a88183b946cc5f0e8c96b2e66e1c74a7e">AccessQualifier::Unknown</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;AccessQualifier&gt;</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;read_only&quot;</span>,  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a131fb182a881796e7606ed6da27f1197">AccessQualifier::ReadOnly</a>)</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;write_only&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a53dfe5089ae9e65887cb0215cb0098f5">AccessQualifier::WriteOnly</a>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;read_write&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a70a2a84088d405a2e3f1e3accaa16723">AccessQualifier::ReadWrite</a>)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a7a1920d61156abc05a60135aefe8bc67">AccessQualifier::Default</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176d">AddressSpaceQualifier</a></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;MetadataStreamerYamlV2::getAddressSpaceQualifier(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a2c3c18bffdc25d969233c5448bdfe7eb">AddressSpace</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm.html#a2c3c18bffdc25d969233c5448bdfe7eb">AddressSpace</a>) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">AMDGPUAS::PRIVATE_ADDRESS</a>:</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da47f9082fc380ca62d531096aa1d110f1">AddressSpaceQualifier::Private</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a>:</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da4cc6684df7b4a92b1dec6fce3264fac8">AddressSpaceQualifier::Global</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faa6d3112da64eecbdbb50aacb5f8251e8">AMDGPUAS::CONSTANT_ADDRESS</a>:</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176dacb17869fe51048b5a5c4c6106551a255">AddressSpaceQualifier::Constant</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe">AMDGPUAS::LOCAL_ADDRESS</a>:</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da509820290d57f333403f490dde7316f4">AddressSpaceQualifier::Local</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14">AMDGPUAS::FLAT_ADDRESS</a>:</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da8045a0a6c688b0635e3caccc408a1446">AddressSpaceQualifier::Generic</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa5b71ba6fa435ec288aba849e113721a7">AMDGPUAS::REGION_ADDRESS</a>:</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176daf447ac856e7e72435904956e3b15f433">AddressSpaceQualifier::Region</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da88183b946cc5f0e8c96b2e66e1c74a7e">AddressSpaceQualifier::Unknown</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72e">ValueKind</a> MetadataStreamerYamlV2::getValueKind(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeQual,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                               <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> BaseTypeName)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">if</span> (TypeQual.<a class="code" href="classllvm_1_1StringRef.html#a83a294111af6d4412163b209725ca556">contains</a>(<span class="stringliteral">&quot;pipe&quot;</span>))</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea2ab1f3f893823298751fdf60b4e0365a">ValueKind::Pipe</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;ValueKind&gt;</a>(BaseTypeName)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image1d_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image1d_array_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image1d_buffer_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_array_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_array_depth_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_array_msaa_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_array_msaa_depth_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_depth_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_msaa_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_msaa_depth_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image3d_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">ValueKind::Image</a>)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;sampler_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea5bca2f066df1fe641b2b779db2a63c0a">ValueKind::Sampler</a>)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;queue_t&quot;</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">ValueKind::Queue</a>)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;             .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(isa&lt;PointerType&gt;(Ty) ?</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                          (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>() ==</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                           <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe">AMDGPUAS::LOCAL_ADDRESS</a> ?</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                           <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ead43ad19db996aaf9ae8090cef1526ff5">ValueKind::DynamicSharedPointer</a> :</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                           <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea225b0fec738a12cb0aaf0f906e3b3cf8">ValueKind::GlobalBuffer</a>) :</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ead678aba164b442f27e193f3f05ef614f">ValueKind::ByValue</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;std::string MetadataStreamerYamlV2::getTypeName(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">switch</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ac7b0ed5c6d30bad74769c6e87ab0edb8">getTypeID</a>()) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249">Type::IntegerTyID</a>: {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="charliteral">&#39;u&#39;</span>) + getTypeName(Ty, <span class="keyword">true</span>)).str();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a13e877ef779ba7a0688081079f4f9b03">getIntegerBitWidth</a>();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;char&quot;</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;short&quot;</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;int&quot;</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;long&quot;</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="charliteral">&#39;i&#39;</span>) + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)).str();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa301c3a4cc2bfd399628cfd473f383ff9">Type::HalfTyID</a>:</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;half&quot;</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">Type::FloatTyID</a>:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;float&quot;</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">Type::DoubleTyID</a>:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;double&quot;</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa98aa825426dd4de2d19a3de9983a2d5d">Type::FixedVectorTyID</a>: {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keyword">auto</span> VecTy = cast&lt;FixedVectorType&gt;(Ty);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">auto</span> ElTy = VecTy-&gt;getElementType();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keyword">auto</span> NumElements = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(getTypeName(ElTy, <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>)) + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(NumElements)).str();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;std::vector&lt;uint32_t&gt;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;MetadataStreamerYamlV2::getWorkGroupDimensions(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  std::vector&lt;uint32_t&gt; Dims;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;getNumOperands() != 3)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> Dims;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Node-&gt;operands())</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    Dims.push_back(mdconst::extract&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getZExtValue());</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">return</span> Dims;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;Kernel::CodeProps::Metadata MetadataStreamerYamlV2::getHSACodeProps(</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SIProgramInfo.html">SIProgramInfo</a> &amp;ProgramInfo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;STM = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  HSAMD::Kernel::CodeProps::Metadata HSACodeProps;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0">CallingConv::AMDGPU_KERNEL</a> ||</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;         <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda9b5e79699935bf721647d44339701860">CallingConv::SPIR_KERNEL</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> MaxKernArgAlign;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  HSACodeProps.mKernargSegmentSize = STM.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a76976ccb29b7c0317d800e4dcd294ddb">getKernArgSegmentSize</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                                               MaxKernArgAlign);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  HSACodeProps.mKernargSegmentAlign =</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(MaxKernArgAlign, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4)).value();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  HSACodeProps.mGroupSegmentFixedSize = ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#abf43be02eb6dd6450cf63b501f0f8f34">LDSSize</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  HSACodeProps.mPrivateSegmentFixedSize = ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#a9ee1771ba26f81aec7a65500ff422886">ScratchSize</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  HSACodeProps.mWavefrontSize = STM.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">getWavefrontSize</a>();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  HSACodeProps.mNumSGPRs = ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#a32f788cd8c9a933ebd8ac151e8291847">NumSGPR</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  HSACodeProps.mNumVGPRs = ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#afd649707f270de66ec1369c67435008f">NumVGPR</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  HSACodeProps.mMaxFlatWorkGroupSize = MFI.getMaxFlatWorkGroupSize();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  HSACodeProps.mIsDynamicCallStack = ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#afe84876a2f6c46a0d8ad0a58f3554c8d">DynamicCallStack</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  HSACodeProps.mIsXNACKEnabled = STM.<a class="code" href="classllvm_1_1GCNSubtarget.html#ad0dd54f1f3e1eb169b00651cd3d61da6">isXNACKEnabled</a>();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  HSACodeProps.mNumSpilledSGPRs = MFI.getNumSpilledSGPRs();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  HSACodeProps.mNumSpilledVGPRs = MFI.getNumSpilledVGPRs();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">return</span> HSACodeProps;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;Kernel::DebugProps::Metadata MetadataStreamerYamlV2::getHSADebugProps(</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SIProgramInfo.html">SIProgramInfo</a> &amp;ProgramInfo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">return</span> HSAMD::Kernel::DebugProps::Metadata();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#ad2d6a36f287b6b0a57e2460b6df6f3d1">  224</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#ad2d6a36f287b6b0a57e2460b6df6f3d1">MetadataStreamerYamlV2::emitVersion</a>() {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> = HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#af5558f6f09996146b125bf792b6c85eb">mVersion</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#aa6d2427ef27ba09f4da26368d143db05">VersionMajorV2</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af01344d6619f6f94676cfad7bc770fb6">VersionMinorV2</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keywordtype">void</span> MetadataStreamerYamlV2::emitPrintf(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;Mod) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#a2fc85872c7121cde16c413f8f1e7f6bc">Printf</a> = HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#afede90a92b08554b4e8b60bb0fd0cd64">mPrintf</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keyword">auto</span> Node = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>.<a class="code" href="classllvm_1_1Module.html#a3b35a6541507efcfdf8d270f062e6f60">getNamedMetadata</a>(<span class="stringliteral">&quot;llvm.printf.fmts&quot;</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">if</span> (!Node)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Node-&gt;operands())</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getNumOperands())</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#a2fc85872c7121cde16c413f8f1e7f6bc">Printf</a>.push_back(</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          std::string(cast&lt;MDString&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0))-&gt;getString()));</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keywordtype">void</span> MetadataStreamerYamlV2::emitKernelLanguage(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a> = HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#a5d08c828abe408e0056301aab6c6f024">mKernels</a>.back();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// TODO: What about other languages?</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keyword">auto</span> Node = Func.getParent()-&gt;getNamedMetadata(<span class="stringliteral">&quot;opencl.ocl.version&quot;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (!Node || !Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keyword">auto</span> Op0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">if</span> (Op0-&gt;getNumOperands() &lt;= 1)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>.mLanguage = <span class="stringliteral">&quot;OpenCL C&quot;</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>.mLanguageVersion.push_back(</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      mdconst::extract&lt;ConstantInt&gt;(Op0-&gt;getOperand(0))-&gt;getZExtValue());</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>.mLanguageVersion.push_back(</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      mdconst::extract&lt;ConstantInt&gt;(Op0-&gt;getOperand(1))-&gt;getZExtValue());</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keywordtype">void</span> MetadataStreamerYamlV2::emitKernelAttrs(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a> = HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#a5d08c828abe408e0056301aab6c6f024">mKernels</a>.back().mAttrs;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Node = Func.getMetadata(<span class="stringliteral">&quot;reqd_work_group_size&quot;</span>))</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.mReqdWorkGroupSize = getWorkGroupDimensions(Node);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Node = Func.getMetadata(<span class="stringliteral">&quot;work_group_size_hint&quot;</span>))</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.mWorkGroupSizeHint = getWorkGroupDimensions(Node);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Node = Func.getMetadata(<span class="stringliteral">&quot;vec_type_hint&quot;</span>)) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.mVecTypeHint = getTypeName(</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        cast&lt;ValueAsMetadata&gt;(Node-&gt;getOperand(0))-&gt;getType(),</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        mdconst::extract&lt;ConstantInt&gt;(Node-&gt;getOperand(1))-&gt;getZExtValue());</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">if</span> (Func.hasFnAttribute(<span class="stringliteral">&quot;runtime-handle&quot;</span>)) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.mRuntimeHandle =</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        Func.getFnAttribute(<span class="stringliteral">&quot;runtime-handle&quot;</span>).getValueAsString().str();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keywordtype">void</span> MetadataStreamerYamlV2::emitKernelArgs(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.args())</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    emitKernelArg(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  emitHiddenKernelArgs(Func, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="keywordtype">void</span> MetadataStreamerYamlV2::emitKernelArg(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a> = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getParent();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keyword">auto</span> ArgNo = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getArgNo();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  Node = <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_name&quot;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.hasName())</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getName();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  Node = <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_type&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a> = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> BaseTypeName;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  Node = <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_base_type&quot;</span>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    BaseTypeName = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getType()-&gt;isPointerTy() &amp;&amp; <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.onlyReadsMemory() &amp;&amp;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.hasNoAliasAttr()) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a> = <span class="stringliteral">&quot;read_only&quot;</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    Node = <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_access_qual&quot;</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a> = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeQual;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  Node = <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_type_qual&quot;</span>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    TypeQual = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>-&gt;getParent()-&gt;getDataLayout();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> PtrTy = dyn_cast&lt;PointerType&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getType())) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (PtrTy-&gt;getAddressSpace() == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe">AMDGPUAS::LOCAL_ADDRESS</a>) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="comment">// FIXME: Should report this for all address spaces</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a> = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getParamAlign().valueOrOne();</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTy;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> ArgAlign;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  std::tie(ArgTy, ArgAlign) = <a class="code" href="AMDGPUHSAMetadataStreamer_8cpp.html#a61457aec1b13f4f21f415e64eb4c8d48">getArgumentTypeAlign</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ArgTy, ArgAlign,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                getValueKind(ArgTy, TypeQual, BaseTypeName), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a>, Name,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>, BaseTypeName, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>, TypeQual);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="keywordtype">void</span> MetadataStreamerYamlV2::emitKernelArg(</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72e">ValueKind</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72e">ValueKind</a>,</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> BaseTypeName, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeQual) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#a5d08c828abe408e0056301aab6c6f024">mKernels</a>.back().mArgs.push_back(Kernel::Arg::Metadata());</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#a5d08c828abe408e0056301aab6c6f024">mKernels</a>.back().mArgs.back();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mName = std::string(Name);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mTypeName = std::string(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(Ty);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mAlign = Alignment.<a class="code" href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">value</a>();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mValueKind = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72e">ValueKind</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mPointeeAlign = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a> ? <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a>-&gt;value() : 0;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> PtrTy = dyn_cast&lt;PointerType&gt;(Ty))</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mAddrSpaceQual = getAddressSpaceQualifier(PtrTy-&gt;getAddressSpace());</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mAccQual = getAccessQualifier(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// TODO: Emit Arg.mActualAccQual.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 1&gt;</a> SplitTypeQuals;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  TypeQual.<a class="code" href="classllvm_1_1StringRef.html#a6414735714bdbd5c8790f32a0fe99bd2">split</a>(SplitTypeQuals, <span class="stringliteral">&quot; &quot;</span>, -1, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> : SplitTypeQuals) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;bool*&gt;</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                 .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;const&quot;</span>,    &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mIsConst)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                 .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;restrict&quot;</span>, &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mIsRestrict)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                 .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;volatile&quot;</span>, &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mIsVolatile)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                 .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;pipe&quot;</span>,     &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.mIsPipe)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                 .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="keywordtype">void</span> MetadataStreamerYamlV2::emitHiddenKernelArgs(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func,</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordtype">unsigned</span> HiddenArgNumBytes = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.getImplicitArgNumBytes(Func);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">if</span> (!HiddenArgNumBytes)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.getParent()-&gt;getDataLayout();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keyword">auto</span> Int64Ty = <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(<a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.getContext());</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 8)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int64Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea7a0e21ec5e45b750a0f2b1e72105bb3d">ValueKind::HiddenGlobalOffsetX</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 16)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int64Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eae0cce9a4d4e0fa92907143659b8afb21">ValueKind::HiddenGlobalOffsetY</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 24)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int64Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea27be0e73204cfbe5c859e49dd07443ae">ValueKind::HiddenGlobalOffsetZ</a>);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keyword">auto</span> Int8PtrTy = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(<a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.getContext(),</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                      <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 32) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">// We forbid the use of features requiring hostcall when compiling OpenCL</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// before code object V5, which makes the mutual exclusion between the</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">// &quot;printf buffer&quot; and &quot;hostcall buffer&quot; here sound.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.getParent()-&gt;getNamedMetadata(<span class="stringliteral">&quot;llvm.printf.fmts&quot;</span>))</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea0f441ae97a59788e74f35eee88a17107">ValueKind::HiddenPrintfBuffer</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-hostcall-ptr&quot;</span>))</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabbbfcdfda2a8a5ec655a95851067c5d3">ValueKind::HiddenHostcallBuffer</a>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea7d5a2b0c567ac6774650c723f4734e84">ValueKind::HiddenNone</a>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">// Emit &quot;default queue&quot; and &quot;completion action&quot; arguments if enqueue kernel is</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// used, otherwise emit dummy &quot;none&quot; arguments.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 40) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-default-queue&quot;</span>)) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea86f6fef96df44adeb339b023bdff3add">ValueKind::HiddenDefaultQueue</a>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea7d5a2b0c567ac6774650c723f4734e84">ValueKind::HiddenNone</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 48) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-completion-action&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="comment">// FIXME: Hack for runtime bug if we fail to optimize this out</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.hasFnAttribute(<span class="stringliteral">&quot;calls-enqueue-kernel&quot;</span>)) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eaf0623a03310cd449ffdd4135d5fccc38">ValueKind::HiddenCompletionAction</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea7d5a2b0c567ac6774650c723f4734e84">ValueKind::HiddenNone</a>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="comment">// Emit the pointer argument for multi-grid object.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 56) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-multigrid-sync-arg&quot;</span>))</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea3b9c47b25dbb3ced99ea252254bc7991">ValueKind::HiddenMultiGridSyncArg</a>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      emitKernelArg(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea7d5a2b0c567ac6774650c723f4734e84">ValueKind::HiddenNone</a>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a71cfd16cbb2954dcef07c4ad729fa3a3">  439</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a71cfd16cbb2954dcef07c4ad729fa3a3">MetadataStreamerYamlV2::emitTo</a>(<a class="code" href="classllvm_1_1AMDGPUTargetStreamer.html">AMDGPUTargetStreamer</a> &amp;TargetStreamer) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">return</span> TargetStreamer.<a class="code" href="classllvm_1_1AMDGPUTargetStreamer.html#a02fc438fa1d605d806b8bef3c1d6e9a1">EmitHSAMetadata</a>(getHSAMetadata());</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a5472ade5ac6054c9c2197c3e0aef418a">  443</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a5472ade5ac6054c9c2197c3e0aef418a">MetadataStreamerYamlV2::begin</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;Mod,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html">IsaInfo::AMDGPUTargetID</a> &amp;TargetID) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#ad2d6a36f287b6b0a57e2460b6df6f3d1">emitVersion</a>();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  emitPrintf(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a517cd717ebea4bb0eb50434a788551bb">  449</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a517cd717ebea4bb0eb50434a788551bb">MetadataStreamerYamlV2::end</a>() {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  std::string HSAMetadataString;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a97c0ff8bcd808f8dc602c9c94b34ba33">toString</a>(HSAMetadata, HSAMetadataString))</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a630ad6f676173be96fd90e77f6c1f1c7">DumpHSAMetadata</a>)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    dump(HSAMetadataString);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aa2e35087c06e2f903a8f89bd9d03bc88">VerifyHSAMetadata</a>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    verify(HSAMetadataString);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a28e7a98ba8f29a3b9f493951b7649322">  460</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a28e7a98ba8f29a3b9f493951b7649322">MetadataStreamerYamlV2::emitKernel</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="structllvm_1_1SIProgramInfo.html">SIProgramInfo</a> &amp;ProgramInfo) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keyword">auto</span> &amp;Func = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">if</span> (Func.getCallingConv() != <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0">CallingConv::AMDGPU_KERNEL</a>)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a248c79945f1cc172df4309d4557f94d9">CodeProps</a> = getHSACodeProps(MF, ProgramInfo);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a8079cf6cbeaf89bebb02fbcfe5a85b4c">DebugProps</a> = getHSADebugProps(MF, ProgramInfo);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#a5d08c828abe408e0056301aab6c6f024">mKernels</a>.push_back(<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Metadata.html">Kernel::Metadata</a>());</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a> = HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#a5d08c828abe408e0056301aab6c6f024">mKernels</a>.back();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>.mName = std::string(Func.getName());</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">Kernel</a>.mSymbolName = (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(Func.getName()) + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;@kd&quot;</span>)).str();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  emitKernelLanguage(Func);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  emitKernelAttrs(Func);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  emitKernelArgs(Func, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#a5d08c828abe408e0056301aab6c6f024">mKernels</a>.back().mCodeProps = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a248c79945f1cc172df4309d4557f94d9">CodeProps</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  HSAMetadata.<a class="code" href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#a5d08c828abe408e0056301aab6c6f024">mKernels</a>.back().mDebugProps = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a8079cf6cbeaf89bebb02fbcfe5a85b4c">DebugProps</a>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">// HSAMetadataStreamerV3</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a79bd13ba80af82e2a23b350ef86b0c5d">  486</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a79bd13ba80af82e2a23b350ef86b0c5d">MetadataStreamerMsgPackV3::dump</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> HSAMetadataString)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;AMDGPU HSA Metadata:\n&quot;</span> &lt;&lt; HSAMetadataString &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#abf28208fdc2b2bdf928e0f32b51d57de">  490</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#abf28208fdc2b2bdf928e0f32b51d57de">MetadataStreamerMsgPackV3::verify</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> HSAMetadataString)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;AMDGPU HSA Metadata Parser Test: &quot;</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="classllvm_1_1msgpack_1_1Document.html">msgpack::Document</a> FromHSAMetadataString;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">if</span> (!FromHSAMetadataString.<a class="code" href="classllvm_1_1msgpack_1_1Document.html#abec5174f9edec79de20397f6b8e0ccdf">fromYAML</a>(HSAMetadataString)) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;FAIL\n&quot;</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  std::string ToHSAMetadataString;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> StrOS(ToHSAMetadataString);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  FromHSAMetadataString.<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a82205f2c71cb88331e554cb4fc8b8822">toYAML</a>(StrOS);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; (HSAMetadataString == StrOS.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>() ? <span class="stringliteral">&quot;PASS&quot;</span> : <span class="stringliteral">&quot;FAIL&quot;</span>) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (HSAMetadataString != ToHSAMetadataString) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Original input: &quot;</span> &lt;&lt; HSAMetadataString &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;Produced output: &quot;</span> &lt;&lt; StrOS.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;std::optional&lt;StringRef&gt;</div>
<div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ab89cfe34543af4a91c97fee04f9161e1">  512</a></span>&#160;<a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ab89cfe34543af4a91c97fee04f9161e1">MetadataStreamerMsgPackV3::getAccessQualifier</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;std::optional&lt;StringRef&gt;</a>&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      .Case(<span class="stringliteral">&quot;read_only&quot;</span>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;read_only&quot;</span>))</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      .Case(<span class="stringliteral">&quot;write_only&quot;</span>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;write_only&quot;</span>))</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      .Case(<span class="stringliteral">&quot;read_write&quot;</span>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;read_write&quot;</span>))</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      .Default(std::nullopt);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#af0e6819b43601436958ae60ba0d56180">  520</a></span>&#160;std::optional&lt;StringRef&gt; <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#af0e6819b43601436958ae60ba0d56180">MetadataStreamerMsgPackV3::getAddressSpaceQualifier</a>(</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a2c3c18bffdc25d969233c5448bdfe7eb">AddressSpace</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm.html#a2c3c18bffdc25d969233c5448bdfe7eb">AddressSpace</a>) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">AMDGPUAS::PRIVATE_ADDRESS</a>:</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;private&quot;</span>);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a>:</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;global&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faa6d3112da64eecbdbb50aacb5f8251e8">AMDGPUAS::CONSTANT_ADDRESS</a>:</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;constant&quot;</span>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe">AMDGPUAS::LOCAL_ADDRESS</a>:</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;local&quot;</span>);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14">AMDGPUAS::FLAT_ADDRESS</a>:</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;generic&quot;</span>);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa5b71ba6fa435ec288aba849e113721a7">AMDGPUAS::REGION_ADDRESS</a>:</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="stringliteral">&quot;region&quot;</span>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a></div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#aabe1ac3800de562f858e4c7cdc834460">  541</a></span>&#160;<a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#aabe1ac3800de562f858e4c7cdc834460">MetadataStreamerMsgPackV3::getValueKind</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeQual,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> BaseTypeName)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">if</span> (TypeQual.<a class="code" href="classllvm_1_1StringRef.html#a83a294111af6d4412163b209725ca556">contains</a>(<span class="stringliteral">&quot;pipe&quot;</span>))</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;pipe&quot;</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;StringRef&gt;</a>(BaseTypeName)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image1d_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image1d_array_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image1d_buffer_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_array_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_array_depth_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_array_msaa_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_array_msaa_depth_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_depth_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_msaa_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image2d_msaa_depth_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;image3d_t&quot;</span>, <span class="stringliteral">&quot;image&quot;</span>)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;sampler_t&quot;</span>, <span class="stringliteral">&quot;sampler&quot;</span>)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;queue_t&quot;</span>, <span class="stringliteral">&quot;queue&quot;</span>)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(isa&lt;PointerType&gt;(Ty)</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                   ? (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>() == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe">AMDGPUAS::LOCAL_ADDRESS</a></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                          ? <span class="stringliteral">&quot;dynamic_shared_pointer&quot;</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                          : <span class="stringliteral">&quot;global_buffer&quot;</span>)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                   : <span class="stringliteral">&quot;by_value&quot;</span>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a63d8a8ff3fd6c49ea4480f71f7e72065">  568</a></span>&#160;std::string <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a63d8a8ff3fd6c49ea4480f71f7e72065">MetadataStreamerMsgPackV3::getTypeName</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                                                   <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">switch</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ac7b0ed5c6d30bad74769c6e87ab0edb8">getTypeID</a>()) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249">Type::IntegerTyID</a>: {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="charliteral">&#39;u&#39;</span>) + <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a63d8a8ff3fd6c49ea4480f71f7e72065">getTypeName</a>(Ty, <span class="keyword">true</span>)).str();</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a13e877ef779ba7a0688081079f4f9b03">getIntegerBitWidth</a>();</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;char&quot;</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;short&quot;</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;int&quot;</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;long&quot;</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="charliteral">&#39;i&#39;</span>) + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)).str();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa301c3a4cc2bfd399628cfd473f383ff9">Type::HalfTyID</a>:</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;half&quot;</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">Type::FloatTyID</a>:</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;float&quot;</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">Type::DoubleTyID</a>:</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;double&quot;</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa98aa825426dd4de2d19a3de9983a2d5d">Type::FixedVectorTyID</a>: {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keyword">auto</span> VecTy = cast&lt;FixedVectorType&gt;(Ty);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keyword">auto</span> ElTy = VecTy-&gt;getElementType();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keyword">auto</span> NumElements = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a63d8a8ff3fd6c49ea4480f71f7e72065">getTypeName</a>(ElTy, <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>)) + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(NumElements)).str();</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<a class="code" href="classllvm_1_1msgpack_1_1ArrayDocNode.html">msgpack::ArrayDocNode</a></div>
<div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ae6b3bcaf037639c6e31cf9ede24340cd">  607</a></span>&#160;<a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ae6b3bcaf037639c6e31cf9ede24340cd">MetadataStreamerMsgPackV3::getWorkGroupDimensions</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keyword">auto</span> Dims = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getArrayNode();</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;getNumOperands() != 3)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> Dims;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Node-&gt;operands())</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    Dims.push_back(Dims.getDocument()-&gt;getNode(</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(mdconst::extract&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getZExtValue())));</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">return</span> Dims;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a5b0615554b17d92f0d79fe27f6dd1f45">  618</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a5b0615554b17d92f0d79fe27f6dd1f45">MetadataStreamerMsgPackV3::emitVersion</a>() {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getArrayNode();</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.push_back(<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.getDocument()-&gt;getNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a98b150e885c4a0b5bddece9e539a9fd9">VersionMajorV3</a>));</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.push_back(<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.getDocument()-&gt;getNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#aa57af0ca83bda1e09ced25adf61b204f">VersionMinorV3</a>));</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a0c51c1ceec8b8919ac5fcd2340c0e957">getRootMetadata</a>(<span class="stringliteral">&quot;amdhsa.version&quot;</span>) = <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#af4accde8dbf4e54522e801960534b818">  625</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#af4accde8dbf4e54522e801960534b818">MetadataStreamerMsgPackV3::emitPrintf</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;Mod) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keyword">auto</span> Node = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>.<a class="code" href="classllvm_1_1Module.html#a3b35a6541507efcfdf8d270f062e6f60">getNamedMetadata</a>(<span class="stringliteral">&quot;llvm.printf.fmts&quot;</span>);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">if</span> (!Node)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#a2fc85872c7121cde16c413f8f1e7f6bc">Printf</a> = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getArrayNode();</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Node-&gt;operands())</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getNumOperands())</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#a2fc85872c7121cde16c413f8f1e7f6bc">Printf</a>.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#a2fc85872c7121cde16c413f8f1e7f6bc">Printf</a>.getDocument()-&gt;getNode(</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;          cast&lt;MDString&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0))-&gt;getString(), <span class="comment">/*Copy=*/</span><span class="keyword">true</span>));</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a0c51c1ceec8b8919ac5fcd2340c0e957">getRootMetadata</a>(<span class="stringliteral">&quot;amdhsa.printf&quot;</span>) = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#a2fc85872c7121cde16c413f8f1e7f6bc">Printf</a>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ac439fd7516ee5880c54b780f56ae9cdd">  638</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ac439fd7516ee5880c54b780f56ae9cdd">MetadataStreamerMsgPackV3::emitKernelLanguage</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func,</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                                                   <a class="code" href="classllvm_1_1msgpack_1_1MapDocNode.html">msgpack::MapDocNode</a> Kern) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// TODO: What about other languages?</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keyword">auto</span> Node = Func.getParent()-&gt;getNamedMetadata(<span class="stringliteral">&quot;opencl.ocl.version&quot;</span>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">if</span> (!Node || !Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keyword">auto</span> Op0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">if</span> (Op0-&gt;getNumOperands() &lt;= 1)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  Kern[<span class="stringliteral">&quot;.language&quot;</span>] = Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(<span class="stringliteral">&quot;OpenCL C&quot;</span>);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a5730c59ab40e5a8808ca0736eb7330f7">LanguageVersion</a> = Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6e361fdc7f6a0c9dd44e46c0f020b46e">getArrayNode</a>();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a5730c59ab40e5a8808ca0736eb7330f7">LanguageVersion</a>.push_back(Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      mdconst::extract&lt;ConstantInt&gt;(Op0-&gt;getOperand(0))-&gt;getZExtValue()));</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a5730c59ab40e5a8808ca0736eb7330f7">LanguageVersion</a>.push_back(Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      mdconst::extract&lt;ConstantInt&gt;(Op0-&gt;getOperand(1))-&gt;getZExtValue()));</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  Kern[<span class="stringliteral">&quot;.language_version&quot;</span>] = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a5730c59ab40e5a8808ca0736eb7330f7">LanguageVersion</a>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;}</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#aa20206eab80a4add27a4850d2d717e47">  657</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#aa20206eab80a4add27a4850d2d717e47">MetadataStreamerMsgPackV3::emitKernelAttrs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                                                <a class="code" href="classllvm_1_1msgpack_1_1MapDocNode.html">msgpack::MapDocNode</a> Kern) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Node = Func.getMetadata(<span class="stringliteral">&quot;reqd_work_group_size&quot;</span>))</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    Kern[<span class="stringliteral">&quot;.reqd_workgroup_size&quot;</span>] = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ae6b3bcaf037639c6e31cf9ede24340cd">getWorkGroupDimensions</a>(Node);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Node = Func.getMetadata(<span class="stringliteral">&quot;work_group_size_hint&quot;</span>))</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    Kern[<span class="stringliteral">&quot;.workgroup_size_hint&quot;</span>] = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ae6b3bcaf037639c6e31cf9ede24340cd">getWorkGroupDimensions</a>(Node);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Node = Func.getMetadata(<span class="stringliteral">&quot;vec_type_hint&quot;</span>)) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    Kern[<span class="stringliteral">&quot;.vec_type_hint&quot;</span>] = Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a63d8a8ff3fd6c49ea4480f71f7e72065">getTypeName</a>(</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            cast&lt;ValueAsMetadata&gt;(Node-&gt;getOperand(0))-&gt;getType(),</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            mdconst::extract&lt;ConstantInt&gt;(Node-&gt;getOperand(1))-&gt;getZExtValue()),</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="comment">/*Copy=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">if</span> (Func.hasFnAttribute(<span class="stringliteral">&quot;runtime-handle&quot;</span>)) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    Kern[<span class="stringliteral">&quot;.device_enqueue_symbol&quot;</span>] = Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        Func.getFnAttribute(<span class="stringliteral">&quot;runtime-handle&quot;</span>).getValueAsString().str(),</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="comment">/*Copy=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">if</span> (Func.hasFnAttribute(<span class="stringliteral">&quot;device-init&quot;</span>))</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    Kern[<span class="stringliteral">&quot;.kind&quot;</span>] = Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(<span class="stringliteral">&quot;init&quot;</span>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Func.hasFnAttribute(<span class="stringliteral">&quot;device-fini&quot;</span>))</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    Kern[<span class="stringliteral">&quot;.kind&quot;</span>] = Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(<span class="stringliteral">&quot;fini&quot;</span>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;}</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a1f953186d2d579c3d75621eb0cbbd85e">  682</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a1f953186d2d579c3d75621eb0cbbd85e">MetadataStreamerMsgPackV3::emitKernelArgs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                                               <a class="code" href="classllvm_1_1msgpack_1_1MapDocNode.html">msgpack::MapDocNode</a> Kern) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keyword">auto</span> &amp;Func = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordtype">unsigned</span> Offset = 0;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getArrayNode();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : Func.args())</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a10a12dd714e59431b87453d4791fa12d">emitHiddenKernelArgs</a>(MF, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  Kern[<span class="stringliteral">&quot;.args&quot;</span>] = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">  695</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">MetadataStreamerMsgPackV3::emitKernelArg</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>,</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                              <span class="keywordtype">unsigned</span> &amp;Offset,</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                                              <a class="code" href="classllvm_1_1msgpack_1_1ArrayDocNode.html">msgpack::ArrayDocNode</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keyword">auto</span> Func = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getParent();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keyword">auto</span> ArgNo = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getArgNo();</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  Node = Func-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_name&quot;</span>);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    Name = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.hasName())</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    Name = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getName();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  Node = Func-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_type&quot;</span>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a> = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> BaseTypeName;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  Node = Func-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_base_type&quot;</span>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    BaseTypeName = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getType()-&gt;isPointerTy() &amp;&amp; <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.onlyReadsMemory() &amp;&amp;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.hasNoAliasAttr()) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a> = <span class="stringliteral">&quot;read_only&quot;</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    Node = Func-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_access_qual&quot;</span>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a> = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeQual;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  Node = Func-&gt;getMetadata(<span class="stringliteral">&quot;kernel_arg_type_qual&quot;</span>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">if</span> (Node &amp;&amp; ArgNo &lt; Node-&gt;getNumOperands())</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    TypeQual = cast&lt;MDString&gt;(Node-&gt;getOperand(ArgNo))-&gt;getString();</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Func-&gt;getParent()-&gt;getDataLayout();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.hasByRefAttr() ? <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getParamByRefType() : <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getType();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="comment">// FIXME: Need to distinguish in memory alignment from pointer alignment.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> PtrTy = dyn_cast&lt;PointerType&gt;(Ty)) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">if</span> (PtrTy-&gt;getAddressSpace() == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe">AMDGPUAS::LOCAL_ADDRESS</a>)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a> = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getParamAlign().valueOrOne();</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="comment">// There&#39;s no distinction between byval aggregates and raw aggregates.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTy;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> ArgAlign;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  std::tie(ArgTy, ArgAlign) = <a class="code" href="AMDGPUHSAMetadataStreamer_8cpp.html#a61457aec1b13f4f21f415e64eb4c8d48">getArgumentTypeAlign</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ArgTy, ArgAlign,</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#aabe1ac3800de562f858e4c7cdc834460">getValueKind</a>(ArgTy, TypeQual, BaseTypeName), Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a>, Name, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>, BaseTypeName, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>, TypeQual);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;}</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a00bd2167a4ea96a65dce4aef41e575b3">  755</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">MetadataStreamerMsgPackV3::emitKernelArg</a>(</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72e">ValueKind</a>,</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordtype">unsigned</span> &amp;Offset, <a class="code" href="classllvm_1_1msgpack_1_1ArrayDocNode.html">msgpack::ArrayDocNode</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a>,</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> BaseTypeName,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeQual) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keyword">auto</span> <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.getDocument()-&gt;getMapNode();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">if</span> (!Name.empty())</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.name&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(Name, <span class="comment">/*Copy=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>.empty())</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.type_name&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>, <span class="comment">/*Copy=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keyword">auto</span> Size = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(Ty);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.size&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(Size);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  Offset = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(Offset, Alignment);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.offset&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(Offset);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  Offset += Size;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.value_kind&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72e">ValueKind</a>, <span class="comment">/*Copy=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a>)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.pointee_align&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">PointeeAlign</a>-&gt;value());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> PtrTy = dyn_cast&lt;PointerType&gt;(Ty))</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> Qualifier = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#af0e6819b43601436958ae60ba0d56180">getAddressSpaceQualifier</a>(PtrTy-&gt;getAddressSpace()))</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="comment">// Limiting address space to emit only for a certain ValueKind.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72e">ValueKind</a> == <span class="stringliteral">&quot;global_buffer&quot;</span> || <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72e">ValueKind</a> == <span class="stringliteral">&quot;dynamic_shared_pointer&quot;</span>)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.address_space&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(*Qualifier,</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                                                           <span class="comment">/*Copy=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> AQ = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ab89cfe34543af4a91c97fee04f9161e1">getAccessQualifier</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">AccQual</a>))</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.access&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(*AQ, <span class="comment">/*Copy=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// TODO: Emit Arg[&quot;.actual_access&quot;].</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 1&gt;</a> SplitTypeQuals;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  TypeQual.<a class="code" href="classllvm_1_1StringRef.html#a6414735714bdbd5c8790f32a0fe99bd2">split</a>(SplitTypeQuals, <span class="stringliteral">&quot; &quot;</span>, -1, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> : SplitTypeQuals) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> == <span class="stringliteral">&quot;const&quot;</span>)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.is_const&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> == <span class="stringliteral">&quot;restrict&quot;</span>)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.is_restrict&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> == <span class="stringliteral">&quot;volatile&quot;</span>)</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.is_volatile&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> == <span class="stringliteral">&quot;pipe&quot;</span>)</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>[<span class="stringliteral">&quot;.is_pipe&quot;</span>] = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getDocument()-&gt;getNode(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a10a12dd714e59431b87453d4791fa12d">  803</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a10a12dd714e59431b87453d4791fa12d">MetadataStreamerMsgPackV3::emitHiddenKernelArgs</a>(</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">unsigned</span> &amp;Offset, <a class="code" href="classllvm_1_1msgpack_1_1ArrayDocNode.html">msgpack::ArrayDocNode</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keyword">auto</span> &amp;Func = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordtype">unsigned</span> HiddenArgNumBytes = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.getImplicitArgNumBytes(Func);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordflow">if</span> (!HiddenArgNumBytes)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = Func.getParent();</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getDataLayout();</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keyword">auto</span> Int64Ty = <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(Func.getContext());</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  Offset = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(Offset, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.getAlignmentForImplicitArgPtr());</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 8)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int64Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_global_offset_x&quot;</span>, Offset,</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 16)</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int64Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_global_offset_y&quot;</span>, Offset,</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 24)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int64Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_global_offset_z&quot;</span>, Offset,</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keyword">auto</span> Int8PtrTy =</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(Func.getContext(), <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a>);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 32) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">// We forbid the use of features requiring hostcall when compiling OpenCL</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="comment">// before code object V5, which makes the mutual exclusion between the</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// &quot;printf buffer&quot; and &quot;hostcall buffer&quot; here sound.</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNamedMetadata(<span class="stringliteral">&quot;llvm.printf.fmts&quot;</span>))</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_printf_buffer&quot;</span>, Offset,</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!Func.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-hostcall-ptr&quot;</span>))</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_hostcall_buffer&quot;</span>, Offset,</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_none&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="comment">// Emit &quot;default queue&quot; and &quot;completion action&quot; arguments if enqueue kernel is</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="comment">// used, otherwise emit dummy &quot;none&quot; arguments.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 40) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (!Func.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-default-queue&quot;</span>)) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_default_queue&quot;</span>, Offset,</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_none&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 48) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">if</span> (!Func.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-completion-action&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="comment">// FIXME: Hack for runtime bug if we fail to optimize this out</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        Func.hasFnAttribute(<span class="stringliteral">&quot;calls-enqueue-kernel&quot;</span>)) {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_completion_action&quot;</span>, Offset,</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_none&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="comment">// Emit the pointer argument for multi-grid object.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordflow">if</span> (HiddenArgNumBytes &gt;= 56) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">if</span> (!Func.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-multigrid-sync-arg&quot;</span>)) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_multigrid_sync_arg&quot;</span>, Offset,</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_none&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#afac5fd135c7d0f0e09a24490d85fb46f">  878</a></span>&#160;<a class="code" href="classllvm_1_1msgpack_1_1MapDocNode.html">msgpack::MapDocNode</a> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#afac5fd135c7d0f0e09a24490d85fb46f">MetadataStreamerMsgPackV3::getHSAKernelProps</a>(</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SIProgramInfo.html">SIProgramInfo</a> &amp;ProgramInfo,</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordtype">unsigned</span> CodeObjectVersion)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;STM = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keyword">auto</span> Kern = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getMapNode();</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> MaxKernArgAlign;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  Kern[<span class="stringliteral">&quot;.kernarg_segment_size&quot;</span>] = Kern.getDocument()-&gt;getNode(</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      STM.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a76976ccb29b7c0317d800e4dcd294ddb">getKernArgSegmentSize</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, MaxKernArgAlign));</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  Kern[<span class="stringliteral">&quot;.group_segment_fixed_size&quot;</span>] =</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      Kern.getDocument()-&gt;getNode(ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#abf43be02eb6dd6450cf63b501f0f8f34">LDSSize</a>);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  Kern[<span class="stringliteral">&quot;.private_segment_fixed_size&quot;</span>] =</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      Kern.getDocument()-&gt;getNode(ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#a9ee1771ba26f81aec7a65500ff422886">ScratchSize</a>);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">if</span> (CodeObjectVersion &gt;= <a class="code" href="namespacellvm_1_1AMDGPU.html#ab8edae44cec4167ac46ac7f60ecb4dafabd2438b14a6a1a27fae653284aaa3cb4">AMDGPU::AMDHSA_COV5</a>)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    Kern[<span class="stringliteral">&quot;.uses_dynamic_stack&quot;</span>] =</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        Kern.getDocument()-&gt;getNode(ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#afe84876a2f6c46a0d8ad0a58f3554c8d">DynamicCallStack</a>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">if</span> (CodeObjectVersion &gt;= <a class="code" href="namespacellvm_1_1AMDGPU.html#ab8edae44cec4167ac46ac7f60ecb4dafabd2438b14a6a1a27fae653284aaa3cb4">AMDGPU::AMDHSA_COV5</a> &amp;&amp; STM.<a class="code" href="classllvm_1_1GCNSubtarget.html#aa99f892ef918babd54c99742f34d6548">supportsWGP</a>())</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    Kern[<span class="stringliteral">&quot;.workgroup_processor_mode&quot;</span>] =</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        Kern.getDocument()-&gt;getNode(ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#ac559e84953a041d04f27c9a1063a1c59">WgpMode</a>);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="comment">// FIXME: The metadata treats the minimum as 16?</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  Kern[<span class="stringliteral">&quot;.kernarg_segment_align&quot;</span>] =</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      Kern.getDocument()-&gt;getNode(<a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4), MaxKernArgAlign).value());</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  Kern[<span class="stringliteral">&quot;.wavefront_size&quot;</span>] =</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      Kern.getDocument()-&gt;getNode(STM.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">getWavefrontSize</a>());</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  Kern[<span class="stringliteral">&quot;.sgpr_count&quot;</span>] = Kern.getDocument()-&gt;getNode(ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#a32f788cd8c9a933ebd8ac151e8291847">NumSGPR</a>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  Kern[<span class="stringliteral">&quot;.vgpr_count&quot;</span>] = Kern.getDocument()-&gt;getNode(ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#afd649707f270de66ec1369c67435008f">NumVGPR</a>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// Only add AGPR count to metadata for supported devices</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordflow">if</span> (STM.<a class="code" href="classllvm_1_1GCNSubtarget.html#a278004c824cd46c7504e68ec7c5f2d57">hasMAIInsts</a>()) {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    Kern[<span class="stringliteral">&quot;.agpr_count&quot;</span>] = Kern.getDocument()-&gt;getNode(ProgramInfo.<a class="code" href="structllvm_1_1SIProgramInfo.html#a50e32d3e9516e274b1b3f3d9c05c0be1">NumAccVGPR</a>);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  Kern[<span class="stringliteral">&quot;.max_flat_workgroup_size&quot;</span>] =</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      Kern.getDocument()-&gt;getNode(MFI.getMaxFlatWorkGroupSize());</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  Kern[<span class="stringliteral">&quot;.sgpr_spill_count&quot;</span>] =</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      Kern.getDocument()-&gt;getNode(MFI.getNumSpilledSGPRs());</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  Kern[<span class="stringliteral">&quot;.vgpr_spill_count&quot;</span>] =</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      Kern.getDocument()-&gt;getNode(MFI.getNumSpilledVGPRs());</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">return</span> Kern;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a71cfd89564d067b245f73967a218ee0a">  925</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a71cfd89564d067b245f73967a218ee0a">MetadataStreamerMsgPackV3::emitTo</a>(<a class="code" href="classllvm_1_1AMDGPUTargetStreamer.html">AMDGPUTargetStreamer</a> &amp;TargetStreamer) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">return</span> TargetStreamer.<a class="code" href="classllvm_1_1AMDGPUTargetStreamer.html#a02fc438fa1d605d806b8bef3c1d6e9a1">EmitHSAMetadata</a>(*<a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;}</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a68fb1165818f50761f702ac8cc040ed7">  929</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a68fb1165818f50761f702ac8cc040ed7">MetadataStreamerMsgPackV3::begin</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;Mod,</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html">IsaInfo::AMDGPUTargetID</a> &amp;TargetID) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a5b0615554b17d92f0d79fe27f6dd1f45">emitVersion</a>();</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#af4accde8dbf4e54522e801960534b818">emitPrintf</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a0c51c1ceec8b8919ac5fcd2340c0e957">getRootMetadata</a>(<span class="stringliteral">&quot;amdhsa.kernels&quot;</span>) = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getArrayNode();</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;}</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9c348c081c896ce44979b40db0582b19">  936</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9c348c081c896ce44979b40db0582b19">MetadataStreamerMsgPackV3::end</a>() {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  std::string HSAMetadataString;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> StrOS(HSAMetadataString);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;toYAML(StrOS);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a630ad6f676173be96fd90e77f6c1f1c7">DumpHSAMetadata</a>)</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a79bd13ba80af82e2a23b350ef86b0c5d">dump</a>(StrOS.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>());</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aa2e35087c06e2f903a8f89bd9d03bc88">VerifyHSAMetadata</a>)</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#abf28208fdc2b2bdf928e0f32b51d57de">verify</a>(StrOS.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>());</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;}</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a7260220625929df7c49ede17e958d1d9">  947</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a7260220625929df7c49ede17e958d1d9">MetadataStreamerMsgPackV3::emitKernel</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="structllvm_1_1SIProgramInfo.html">SIProgramInfo</a> &amp;ProgramInfo) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keyword">auto</span> &amp;Func = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keyword">auto</span> CodeObjectVersion = <a class="code" href="namespacellvm_1_1AMDGPU.html#a393a9a9f611c326cabf217b4c360e2e6">AMDGPU::getCodeObjectVersion</a>(*Func.getParent());</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keyword">auto</span> Kern = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#afac5fd135c7d0f0e09a24490d85fb46f">getHSAKernelProps</a>(MF, ProgramInfo, CodeObjectVersion);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Func.getCallingConv() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0">CallingConv::AMDGPU_KERNEL</a> ||</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;         Func.getCallingConv() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda9b5e79699935bf721647d44339701860">CallingConv::SPIR_KERNEL</a>);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#ab91336af7422ea27f4a04abd0ad5a445">Kernels</a> =</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a0c51c1ceec8b8919ac5fcd2340c0e957">getRootMetadata</a>(<span class="stringliteral">&quot;amdhsa.kernels&quot;</span>).<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a5dcb89d39cc207e66824456bd2e2d29d">getArray</a>(<span class="comment">/*Convert=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    Kern[<span class="stringliteral">&quot;.name&quot;</span>] = Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(Func.getName());</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    Kern[<span class="stringliteral">&quot;.symbol&quot;</span>] = Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(Func.getName()) + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;.kd&quot;</span>)).str(), <span class="comment">/*Copy=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ac439fd7516ee5880c54b780f56ae9cdd">emitKernelLanguage</a>(Func, Kern);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#aa20206eab80a4add27a4850d2d717e47">emitKernelAttrs</a>(Func, Kern);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a1f953186d2d579c3d75621eb0cbbd85e">emitKernelArgs</a>(MF, Kern);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#ab91336af7422ea27f4a04abd0ad5a445">Kernels</a>.push_back(Kern);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;}</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">// HSAMetadataStreamerV4</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a229d7465aca8cd0ed22b48fee261acd7">  975</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a229d7465aca8cd0ed22b48fee261acd7">MetadataStreamerMsgPackV4::emitVersion</a>() {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getArrayNode();</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.push_back(<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.getDocument()-&gt;getNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#afa1ccf366a7f5fac345e2a5a214ed73b">VersionMajorV4</a>));</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.push_back(<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.getDocument()-&gt;getNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7e6fa158a96c4d1a9fd48eff2a740b93">VersionMinorV4</a>));</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a0c51c1ceec8b8919ac5fcd2340c0e957">getRootMetadata</a>(<span class="stringliteral">&quot;amdhsa.version&quot;</span>) = <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;}</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a935ca0164610567e453bd629e5f6da0e">  982</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a935ca0164610567e453bd629e5f6da0e">MetadataStreamerMsgPackV4::emitTargetID</a>(</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html">IsaInfo::AMDGPUTargetID</a> &amp;TargetID) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a0c51c1ceec8b8919ac5fcd2340c0e957">getRootMetadata</a>(<span class="stringliteral">&quot;amdhsa.target&quot;</span>) =</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getNode(TargetID.<a class="code" href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html#ae9ec355054ee6400df6ba242dd3cb032">toString</a>(), <span class="comment">/*Copy=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;}</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a8e4f1ee036e76220fa5c2b0e021a829c">  988</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a8e4f1ee036e76220fa5c2b0e021a829c">MetadataStreamerMsgPackV4::begin</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;Mod,</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html">IsaInfo::AMDGPUTargetID</a> &amp;TargetID) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a229d7465aca8cd0ed22b48fee261acd7">emitVersion</a>();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a935ca0164610567e453bd629e5f6da0e">emitTargetID</a>(TargetID);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#af4accde8dbf4e54522e801960534b818">emitPrintf</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a0c51c1ceec8b8919ac5fcd2340c0e957">getRootMetadata</a>(<span class="stringliteral">&quot;amdhsa.kernels&quot;</span>) = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getArrayNode();</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;}</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">// HSAMetadataStreamerV5</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5.html#a7b11851cdd1ebd21039cab1ec7841bf2"> 1000</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5.html#a7b11851cdd1ebd21039cab1ec7841bf2">MetadataStreamerMsgPackV5::emitVersion</a>() {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> = <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">HSAMetadataDoc</a>-&gt;getArrayNode();</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.push_back(<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.getDocument()-&gt;getNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a6ce4f42cbde29601ead04e25daa94af4">VersionMajorV5</a>));</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.push_back(<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.getDocument()-&gt;getNode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a9d162e0e1d4adf41bdb5abe6563aebfe">VersionMinorV5</a>));</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a0c51c1ceec8b8919ac5fcd2340c0e957">getRootMetadata</a>(<span class="stringliteral">&quot;amdhsa.version&quot;</span>) = <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;}</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5.html#a00df0d04b86c6d3d0d027c912afb7282"> 1007</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5.html#a00df0d04b86c6d3d0d027c912afb7282">MetadataStreamerMsgPackV5::emitHiddenKernelArgs</a>(</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">unsigned</span> &amp;Offset, <a class="code" href="classllvm_1_1msgpack_1_1ArrayDocNode.html">msgpack::ArrayDocNode</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keyword">auto</span> &amp;Func = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="comment">// No implicit kernel argument is used.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.getImplicitArgNumBytes(Func) == 0)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = Func.getParent();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getDataLayout();</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keyword">auto</span> Int64Ty = <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(Func.getContext());</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="keyword">auto</span> <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a> = <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(Func.getContext());</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keyword">auto</span> Int16Ty = <a class="code" href="classllvm_1_1Type.html#a87f56db834c58ca630624956ecf6972f">Type::getInt16Ty</a>(Func.getContext());</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  Offset = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(Offset, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.getAlignmentForImplicitArgPtr());</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4), <span class="stringliteral">&quot;hidden_block_count_x&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4), <span class="stringliteral">&quot;hidden_block_count_y&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4), <span class="stringliteral">&quot;hidden_block_count_z&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int16Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(2), <span class="stringliteral">&quot;hidden_group_size_x&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int16Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(2), <span class="stringliteral">&quot;hidden_group_size_y&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int16Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(2), <span class="stringliteral">&quot;hidden_group_size_z&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int16Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(2), <span class="stringliteral">&quot;hidden_remainder_x&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int16Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(2), <span class="stringliteral">&quot;hidden_remainder_y&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int16Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(2), <span class="stringliteral">&quot;hidden_remainder_z&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="comment">// Reserved for hidden_tool_correlation_id.</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  Offset += 8;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  Offset += 8; <span class="comment">// Reserved.</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int64Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_global_offset_x&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int64Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_global_offset_y&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int64Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_global_offset_z&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int16Ty, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(2), <span class="stringliteral">&quot;hidden_grid_dims&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  Offset += 6; <span class="comment">// Reserved.</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keyword">auto</span> Int8PtrTy =</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(Func.getContext(), <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a>);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNamedMetadata(<span class="stringliteral">&quot;llvm.printf.fmts&quot;</span>)) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_printf_buffer&quot;</span>, Offset,</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    Offset += 8; <span class="comment">// Skipped.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keywordflow">if</span> (!Func.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-hostcall-ptr&quot;</span>)) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_hostcall_buffer&quot;</span>, Offset,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    Offset += 8; <span class="comment">// Skipped.</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">if</span> (!Func.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-multigrid-sync-arg&quot;</span>)) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_multigrid_sync_arg&quot;</span>, Offset,</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    Offset += 8; <span class="comment">// Skipped.</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordflow">if</span> (!Func.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-heap-ptr&quot;</span>))</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_heap_v1&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    Offset += 8; <span class="comment">// Skipped.</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordflow">if</span> (!Func.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-default-queue&quot;</span>)) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_default_queue&quot;</span>, Offset,</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    Offset += 8; <span class="comment">// Skipped.</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="keywordflow">if</span> (!Func.hasFnAttribute(<span class="stringliteral">&quot;amdgpu-no-completion-action&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="comment">// FIXME: Hack for runtime bug</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      Func.hasFnAttribute(<span class="stringliteral">&quot;calls-enqueue-kernel&quot;</span>)) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_completion_action&quot;</span>, Offset,</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    Offset += 8; <span class="comment">// Skipped.</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  Offset += 72; <span class="comment">// Reserved.</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="comment">// hidden_private_base and hidden_shared_base are only when the subtarget has</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="comment">// ApertureRegs.</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.hasApertureRegs()) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4), <span class="stringliteral">&quot;hidden_private_base&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4), <span class="stringliteral">&quot;hidden_shared_base&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    Offset += 8; <span class="comment">// Skipped.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#af230e86e680197c6cb80905700ff06db">hasQueuePtr</a>())</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">emitKernelArg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Int8PtrTy, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8), <span class="stringliteral">&quot;hidden_queue_ptr&quot;</span>, Offset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"><a class="line" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5.html#ae8b78bc8c92db11a11ca0cf7f7fc6f90"> 1109</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5.html#ae8b78bc8c92db11a11ca0cf7f7fc6f90">MetadataStreamerMsgPackV5::emitKernelAttrs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func,</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                                                <a class="code" href="classllvm_1_1msgpack_1_1MapDocNode.html">msgpack::MapDocNode</a> Kern) {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <a class="code" href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#aa20206eab80a4add27a4850d2d717e47">MetadataStreamerMsgPackV3::emitKernelAttrs</a>(Func, Kern);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordflow">if</span> (Func.getFnAttribute(<span class="stringliteral">&quot;uniform-work-group-size&quot;</span>).getValueAsBool())</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    Kern[<span class="stringliteral">&quot;.uniform_work_group_size&quot;</span>] = Kern.<a class="code" href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">getDocument</a>()-&gt;<a class="code" href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">getNode</a>(1);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;}</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;} <span class="comment">// end namespace HSAMD</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;} <span class="comment">// end namespace AMDGPU</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;} <span class="comment">// end namespace llvm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1StringSwitch_html_a2ae03c6da16f46a816d2cb1720603882"><div class="ttname"><a href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">llvm::StringSwitch::Case</a></div><div class="ttdeci">StringSwitch &amp; Case(StringLiteral S, T Value)</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00069">StringSwitch.h:69</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab102f0f12dd38aeea5906b1d80c792ff"><div class="ttname"><a href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">llvm::alignTo</a></div><div class="ttdeci">uint64_t alignTo(uint64_t Size, Align A)</div><div class="ttdoc">Returns a multiple of A needed to store Size bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00155">Alignment.h:155</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_abc8aecb5b627f6a91fc2fb09762d2a41"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a></div><div class="ttdeci">IntegerType * Int32Ty</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00067">NVVMIntrRange.cpp:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_abf28208fdc2b2bdf928e0f32b51d57de"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#abf28208fdc2b2bdf928e0f32b51d57de">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::verify</a></div><div class="ttdeci">void verify(StringRef HSAMetadataString) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00490">AMDGPUHSAMetadataStreamer.cpp:490</a></div></div>
<div class="ttc" id="aclassllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">This class represents an incoming formal argument to a Function.</div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00028">Argument.h:28</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9d3ba236d13373cde794da2023acc7a0"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a></div><div class="ttdeci">Function Attrs</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00215">README_ALTIVEC.txt:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">llvm::Type::FloatTyID</a></div><div class="ttdeci">@ FloatTyID</div><div class="ttdoc">32-bit floating point type</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00058">Type.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a393a9a9f611c326cabf217b4c360e2e6"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a393a9a9f611c326cabf217b4c360e2e6">llvm::AMDGPU::getCodeObjectVersion</a></div><div class="ttdeci">unsigned getCodeObjectVersion(const Module &amp;M)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l00153">AMDGPUBaseInfo.cpp:153</a></div></div>
<div class="ttc" id="aNVPTXISelLowering_8cpp_html_ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246"><div class="ttname"><a href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a></div><div class="ttdeci">@ Signed</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8cpp_source.html#l04884">NVPTXISelLowering.cpp:4884</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">llvm::Type::DoubleTyID</a></div><div class="ttdeci">@ DoubleTyID</div><div class="ttdoc">64-bit floating point type</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00059">Type.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_af0a4ac1832ff2fc3a881f851028632c5a88183b946cc5f0e8c96b2e66e1c74a7e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a88183b946cc5f0e8c96b2e66e1c74a7e">llvm::AMDGPU::HSAMD::AccessQualifier::Unknown</a></div><div class="ttdeci">@ Unknown</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe">llvm::AMDGPUAS::LOCAL_ADDRESS</a></div><div class="ttdeci">@ LOCAL_ADDRESS</div><div class="ttdoc">Address space for local memory.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00377">AMDGPU.h:377</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00293">Type.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1msgpack_1_1DocNode_html_a9a1a9dd2260675bd230246680dcc75cf"><div class="ttname"><a href="classllvm_1_1msgpack_1_1DocNode.html#a9a1a9dd2260675bd230246680dcc75cf">llvm::msgpack::DocNode::getDocument</a></div><div class="ttdeci">Document * getDocument() const</div><div class="ttdef"><b>Definition:</b> <a href="MsgPackDocument_8h_source.html#l00080">MsgPackDocument.h:80</a></div></div>
<div class="ttc" id="aSIMachineFunctionInfo_8h_html"><div class="ttname"><a href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata_html_af5558f6f09996146b125bf792b6c85eb"><div class="ttname"><a href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#af5558f6f09996146b125bf792b6c85eb">llvm::AMDGPU::HSAMD::Metadata::mVersion</a></div><div class="ttdeci">std::vector&lt; uint32_t &gt; mVersion</div><div class="ttdoc">HSA metadata version. Required.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00438">AMDGPUMetadata.h:438</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_afac5fd135c7d0f0e09a24490d85fb46f"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#afac5fd135c7d0f0e09a24490d85fb46f">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::getHSAKernelProps</a></div><div class="ttdeci">msgpack::MapDocNode getHSAKernelProps(const MachineFunction &amp;MF, const SIProgramInfo &amp;ProgramInfo, unsigned CodeObjectVersion) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00878">AMDGPUHSAMetadataStreamer.cpp:878</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2_html_a28e7a98ba8f29a3b9f493951b7649322"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a28e7a98ba8f29a3b9f493951b7649322">llvm::AMDGPU::HSAMD::MetadataStreamerYamlV2::emitKernel</a></div><div class="ttdeci">void emitKernel(const MachineFunction &amp;MF, const SIProgramInfo &amp;ProgramInfo) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00460">AMDGPUHSAMetadataStreamer.cpp:460</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ead678aba164b442f27e193f3f05ef614f"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ead678aba164b442f27e193f3f05ef614f">llvm::AMDGPU::HSAMD::ValueKind::ByValue</a></div><div class="ttdeci">@ ByValue</div></div>
<div class="ttc" id="aAMDGPUHSAMetadataStreamer_8h_html"><div class="ttname"><a href="AMDGPUHSAMetadataStreamer_8h.html">AMDGPUHSAMetadataStreamer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00642">raw_ostream.h:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a1f953186d2d579c3d75621eb0cbbd85e"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a1f953186d2d579c3d75621eb0cbbd85e">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::emitKernelArgs</a></div><div class="ttdeci">void emitKernelArgs(const MachineFunction &amp;MF, msgpack::MapDocNode Kern)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00682">AMDGPUHSAMetadataStreamer.cpp:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; StringRef, 1 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a68fb1165818f50761f702ac8cc040ed7"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a68fb1165818f50761f702ac8cc040ed7">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::begin</a></div><div class="ttdeci">void begin(const Module &amp;Mod, const IsaInfo::AMDGPUTargetID &amp;TargetID) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00929">AMDGPUHSAMetadataStreamer.cpp:929</a></div></div>
<div class="ttc" id="astructllvm_1_1SIProgramInfo_html_ac559e84953a041d04f27c9a1063a1c59"><div class="ttname"><a href="structllvm_1_1SIProgramInfo.html#ac559e84953a041d04f27c9a1063a1c59">llvm::SIProgramInfo::WgpMode</a></div><div class="ttdeci">uint32_t WgpMode</div><div class="ttdef"><b>Definition:</b> <a href="SIProgramInfo_8h_source.html#l00035">SIProgramInfo.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5ab2d0b0f0b8ceec3b907184e7567197"><div class="ttname"><a href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">llvm::Type::getPointerAddressSpace</a></div><div class="ttdeci">unsigned getPointerAddressSpace() const</div><div class="ttdoc">Get the address space of this pointer or pointer vector type.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00729">DerivedTypes.h:729</a></div></div>
<div class="ttc" id="astructllvm_1_1SIProgramInfo_html_a32f788cd8c9a933ebd8ac151e8291847"><div class="ttname"><a href="structllvm_1_1SIProgramInfo.html#a32f788cd8c9a933ebd8ac151e8291847">llvm::SIProgramInfo::NumSGPR</a></div><div class="ttdeci">uint32_t NumSGPR</div><div class="ttdef"><b>Definition:</b> <a href="SIProgramInfo_8h_source.html#l00051">SIProgramInfo.h:51</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_afa1ccf366a7f5fac345e2a5a214ed73b"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#afa1ccf366a7f5fac345e2a5a214ed73b">llvm::AMDGPU::HSAMD::VersionMajorV4</a></div><div class="ttdeci">constexpr uint32_t VersionMajorV4</div><div class="ttdoc">HSA metadata major version for code object V4.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00043">AMDGPUMetadata.h:43</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a7f822c68e1b547ae15cc6ef4bc59176daf447ac856e7e72435904956e3b15f433"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176daf447ac856e7e72435904956e3b15f433">llvm::AMDGPU::HSAMD::AddressSpaceQualifier::Region</a></div><div class="ttdeci">@ Region</div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac7b0ed5c6d30bad74769c6e87ab0edb8"><div class="ttname"><a href="classllvm_1_1Type.html#ac7b0ed5c6d30bad74769c6e87ab0edb8">llvm::Type::getTypeID</a></div><div class="ttdeci">TypeID getTypeID() const</div><div class="ttdoc">Return the type id for the type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00137">Type.h:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_aa99f892ef918babd54c99742f34d6548"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#aa99f892ef918babd54c99742f34d6548">llvm::GCNSubtarget::supportsWGP</a></div><div class="ttdeci">bool supportsWGP() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00307">GCNSubtarget.h:307</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2_html_a517cd717ebea4bb0eb50434a788551bb"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a517cd717ebea4bb0eb50434a788551bb">llvm::AMDGPU::HSAMD::MetadataStreamerYamlV2::end</a></div><div class="ttdeci">void end() override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00449">AMDGPUHSAMetadataStreamer.cpp:449</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_af0e6819b43601436958ae60ba0d56180"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#af0e6819b43601436958ae60ba0d56180">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::getAddressSpaceQualifier</a></div><div class="ttdeci">std::optional&lt; StringRef &gt; getAddressSpaceQualifier(unsigned AddressSpace) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00520">AMDGPUHSAMetadataStreamer.cpp:520</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html">llvm::GCNSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00032">GCNSubtarget.h:32</a></div></div>
<div class="ttc" id="astructllvm_1_1SIProgramInfo_html_afd649707f270de66ec1369c67435008f"><div class="ttname"><a href="structllvm_1_1SIProgramInfo.html#afd649707f270de66ec1369c67435008f">llvm::SIProgramInfo::NumVGPR</a></div><div class="ttdeci">uint32_t NumVGPR</div><div class="ttdef"><b>Definition:</b> <a href="SIProgramInfo_8h_source.html#l00046">SIProgramInfo.h:46</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a63d8a8ff3fd6c49ea4480f71f7e72065"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a63d8a8ff3fd6c49ea4480f71f7e72065">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::getTypeName</a></div><div class="ttdeci">std::string getTypeName(Type *Ty, bool Signed) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00568">AMDGPUHSAMetadataStreamer.cpp:568</a></div></div>
<div class="ttc" id="astructllvm_1_1SIProgramInfo_html_abf43be02eb6dd6450cf63b501f0f8f34"><div class="ttname"><a href="structllvm_1_1SIProgramInfo.html#abf43be02eb6dd6450cf63b501f0f8f34">llvm::SIProgramInfo::LDSSize</a></div><div class="ttdeci">uint32_t LDSSize</div><div class="ttdef"><b>Definition:</b> <a href="SIProgramInfo_8h_source.html#l00054">SIProgramInfo.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4_html_a229d7465aca8cd0ed22b48fee261acd7"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a229d7465aca8cd0ed22b48fee261acd7">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV4::emitVersion</a></div><div class="ttdeci">void emitVersion() override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00975">AMDGPUHSAMetadataStreamer.cpp:975</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a76976ccb29b7c0317d800e4dcd294ddb"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a76976ccb29b7c0317d800e4dcd294ddb">llvm::AMDGPUSubtarget::getKernArgSegmentSize</a></div><div class="ttdeci">unsigned getKernArgSegmentSize(const Function &amp;F, Align &amp;MaxAlign) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00575">AMDGPUSubtarget.cpp:575</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">llvm::AMDGPU::HSAMD::ValueKind::Queue</a></div><div class="ttdeci">@ Queue</div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_aa6d2427ef27ba09f4da26368d143db05"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#aa6d2427ef27ba09f4da26368d143db05">llvm::AMDGPU::HSAMD::VersionMajorV2</a></div><div class="ttdeci">constexpr uint32_t VersionMajorV2</div><div class="ttdoc">HSA metadata major version for code object V2.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00033">AMDGPUMetadata.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_af0a4ac1832ff2fc3a881f851028632c5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5">llvm::AMDGPU::HSAMD::AccessQualifier</a></div><div class="ttdeci">AccessQualifier</div><div class="ttdoc">Access qualifiers.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00058">AMDGPUMetadata.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a7260220625929df7c49ede17e958d1d9"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a7260220625929df7c49ede17e958d1d9">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::emitKernel</a></div><div class="ttdeci">void emitKernel(const MachineFunction &amp;MF, const SIProgramInfo &amp;ProgramInfo) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00947">AMDGPUHSAMetadataStreamer.cpp:947</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a8079cf6cbeaf89bebb02fbcfe5a85b4c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a8079cf6cbeaf89bebb02fbcfe5a85b4c">llvm::AMDGPU::HSAMD::Kernel::Key::DebugProps</a></div><div class="ttdeci">constexpr char DebugProps[]</div><div class="ttdoc">Key for Kernel::Metadata::mDebugProps.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00398">AMDGPUMetadata.h:398</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a3a88349f84d4691e26a0a7f9c26be0a9"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a3a88349f84d4691e26a0a7f9c26be0a9">llvm::AMDGPU::HSAMD::fromString</a></div><div class="ttdeci">std::error_code fromString(StringRef String, Metadata &amp;HSAMetadata)</div><div class="ttdoc">Converts String to HSAMetadata.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8cpp_source.html#l00214">AMDGPUMetadata.cpp:214</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key_html_ab91336af7422ea27f4a04abd0ad5a445"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#ab91336af7422ea27f4a04abd0ad5a445">llvm::AMDGPU::HSAMD::Key::Kernels</a></div><div class="ttdeci">constexpr char Kernels[]</div><div class="ttdoc">Key for HSA::Metadata::mKernels.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00432">AMDGPUMetadata.h:432</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72e">llvm::AMDGPU::HSAMD::ValueKind</a></div><div class="ttdeci">ValueKind</div><div class="ttdoc">Value kinds.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00078">AMDGPUMetadata.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID_html"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html">llvm::AMDGPU::IsaInfo::AMDGPUTargetID</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00126">AMDGPUBaseInfo.h:126</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72eaf0623a03310cd449ffdd4135d5fccc38"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eaf0623a03310cd449ffdd4135d5fccc38">llvm::AMDGPU::HSAMD::ValueKind::HiddenCompletionAction</a></div><div class="ttdeci">@ HiddenCompletionAction</div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2_html_ad2d6a36f287b6b0a57e2460b6df6f3d1"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#ad2d6a36f287b6b0a57e2460b6df6f3d1">llvm::AMDGPU::HSAMD::MetadataStreamerYamlV2::emitVersion</a></div><div class="ttdeci">void emitVersion() override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00224">AMDGPUHSAMetadataStreamer.cpp:224</a></div></div>
<div class="ttc" id="aGCNSubtarget_8h_html"><div class="ttname"><a href="GCNSubtarget_8h.html">GCNSubtarget.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdoc">getInfo - Keep track of various per-function pieces of information for backends that would like to do...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00770">MachineFunction.h:770</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_af01344d6619f6f94676cfad7bc770fb6"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af01344d6619f6f94676cfad7bc770fb6">llvm::AMDGPU::HSAMD::VersionMinorV2</a></div><div class="ttdeci">constexpr uint32_t VersionMinorV2</div><div class="ttdoc">HSA metadata minor version for code object V2.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00035">AMDGPUMetadata.h:35</a></div></div>
<div class="ttc" id="astructllvm_1_1SIProgramInfo_html_a9ee1771ba26f81aec7a65500ff422886"><div class="ttname"><a href="structllvm_1_1SIProgramInfo.html#a9ee1771ba26f81aec7a65500ff422886">llvm::SIProgramInfo::ScratchSize</a></div><div class="ttdeci">uint64_t ScratchSize</div><div class="ttdef"><b>Definition:</b> <a href="SIProgramInfo_8h_source.html#l00037">SIProgramInfo.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1msgpack_1_1Document_html_a6e361fdc7f6a0c9dd44e46c0f020b46e"><div class="ttname"><a href="classllvm_1_1msgpack_1_1Document.html#a6e361fdc7f6a0c9dd44e46c0f020b46e">llvm::msgpack::Document::getArrayNode</a></div><div class="ttdeci">ArrayDocNode getArrayNode()</div><div class="ttdoc">Create an empty Array node associated with this Document.</div><div class="ttdef"><b>Definition:</b> <a href="MsgPackDocument_8h_source.html#l00380">MsgPackDocument.h:380</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key_html_ae44aee79ef7f47d20bf9c70983faf2a1"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#ae44aee79ef7f47d20bf9c70983faf2a1">llvm::AMDGPU::HSAMD::Kernel::Arg::Key::AccQual</a></div><div class="ttdeci">constexpr char AccQual[]</div><div class="ttdoc">Key for Kernel::Arg::Metadata::mAccQual.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00191">AMDGPUMetadata.h:191</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a248c79945f1cc172df4309d4557f94d9"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a248c79945f1cc172df4309d4557f94d9">llvm::AMDGPU::HSAMD::Kernel::Key::CodeProps</a></div><div class="ttdeci">constexpr char CodeProps[]</div><div class="ttdoc">Key for Kernel::Metadata::mCodeProps.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00396">AMDGPUMetadata.h:396</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72eae0cce9a4d4e0fa92907143659b8afb21"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eae0cce9a4d4e0fa92907143659b8afb21">llvm::AMDGPU::HSAMD::ValueKind::HiddenGlobalOffsetY</a></div><div class="ttdeci">@ HiddenGlobalOffsetY</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00486">AMDGPUMetadata.h:486</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_ae6b3bcaf037639c6e31cf9ede24340cd"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ae6b3bcaf037639c6e31cf9ede24340cd">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::getWorkGroupDimensions</a></div><div class="ttdeci">msgpack::ArrayDocNode getWorkGroupDimensions(MDNode *Node) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00607">AMDGPUHSAMetadataStreamer.cpp:607</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a79bd13ba80af82e2a23b350ef86b0c5d"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a79bd13ba80af82e2a23b350ef86b0c5d">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::dump</a></div><div class="ttdeci">void dump(StringRef HSAMetadataString) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00486">AMDGPUHSAMetadataStreamer.cpp:486</a></div></div>
<div class="ttc" id="astructllvm_1_1MaybeAlign_html"><div class="ttname"><a href="structllvm_1_1MaybeAlign.html">llvm::MaybeAlign</a></div><div class="ttdoc">This struct is a compact representation of a valid (power of two) or undefined (0) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00117">Alignment.h:117</a></div></div>
<div class="ttc" id="anamespaceAMDGPU_html"><div class="ttname"><a href="namespaceAMDGPU.html">AMDGPU</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUReplaceLDSUseWithPointer_8cpp_source.html#l00114">AMDGPUReplaceLDSUseWithPointer.cpp:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4_html_a8e4f1ee036e76220fa5c2b0e021a829c"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a8e4f1ee036e76220fa5c2b0e021a829c">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV4::begin</a></div><div class="ttdeci">void begin(const Module &amp;Mod, const IsaInfo::AMDGPUTargetID &amp;TargetID) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00988">AMDGPUHSAMetadataStreamer.cpp:988</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea27be0e73204cfbe5c859e49dd07443ae"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea27be0e73204cfbe5c859e49dd07443ae">llvm::AMDGPU::HSAMD::ValueKind::HiddenGlobalOffsetZ</a></div><div class="ttdeci">@ HiddenGlobalOffsetZ</div></div>
<div class="ttc" id="aclassllvm_1_1msgpack_1_1Document_html"><div class="ttname"><a href="classllvm_1_1msgpack_1_1Document.html">llvm::msgpack::Document</a></div><div class="ttdoc">Simple in-memory representation of a document of msgpack objects with ability to find and create arra...</div><div class="ttdef"><b>Definition:</b> <a href="MsgPackDocument_8h_source.html#l00272">MsgPackDocument.h:272</a></div></div>
<div class="ttc" id="aSIProgramInfo_8h_html"><div class="ttname"><a href="SIProgramInfo_8h.html">SIProgramInfo.h</a></div></div>
<div class="ttc" id="aAMDGPUHSAMetadataStreamer_8cpp_html_a61457aec1b13f4f21f415e64eb4c8d48"><div class="ttname"><a href="AMDGPUHSAMetadataStreamer_8cpp.html#a61457aec1b13f4f21f415e64eb4c8d48">getArgumentTypeAlign</a></div><div class="ttdeci">static std::pair&lt; Type *, Align &gt; getArgumentTypeAlign(const Argument &amp;Arg, const DataLayout &amp;DL)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00024">AMDGPUHSAMetadataStreamer.cpp:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4_html_a935ca0164610567e453bd629e5f6da0e"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV4.html#a935ca0164610567e453bd629e5f6da0e">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV4::emitTargetID</a></div><div class="ttdeci">void emitTargetID(const IsaInfo::AMDGPUTargetID &amp;TargetID)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00982">AMDGPUHSAMetadataStreamer.cpp:982</a></div></div>
<div class="ttc" id="astructllvm_1_1SIProgramInfo_html_afe84876a2f6c46a0d8ad0a58f3554c8d"><div class="ttname"><a href="structllvm_1_1SIProgramInfo.html#afe84876a2f6c46a0d8ad0a58f3554c8d">llvm::SIProgramInfo::DynamicCallStack</a></div><div class="ttdeci">bool DynamicCallStack</div><div class="ttdef"><b>Definition:</b> <a href="SIProgramInfo_8h_source.html#l00068">SIProgramInfo.h:68</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IndexedInstrProf_html_a3890d6a47a6ff8b8c4ecc8a1f9040a04"><div class="ttname"><a href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">llvm::IndexedInstrProf::Version</a></div><div class="ttdeci">const uint64_t Version</div><div class="ttdef"><b>Definition:</b> <a href="InstrProf_8h_source.html#l01058">InstrProf.h:1058</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea225b0fec738a12cb0aaf0f906e3b3cf8"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea225b0fec738a12cb0aaf0f906e3b3cf8">llvm::AMDGPU::HSAMD::ValueKind::GlobalBuffer</a></div><div class="ttdeci">@ GlobalBuffer</div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2c3c18bffdc25d969233c5448bdfe7eb"><div class="ttname"><a href="namespacellvm.html#a2c3c18bffdc25d969233c5448bdfe7eb">llvm::AddressSpace</a></div><div class="ttdeci">AddressSpace</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXBaseInfo_8h_source.html#l00021">NVPTXBaseInfo.h:21</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a13e877ef779ba7a0688081079f4f9b03"><div class="ttname"><a href="classllvm_1_1Type.html#a13e877ef779ba7a0688081079f4f9b03">llvm::Type::getIntegerBitWidth</a></div><div class="ttdeci">unsigned getIntegerBitWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00097">DerivedTypes.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1msgpack_1_1Document_html_abec5174f9edec79de20397f6b8e0ccdf"><div class="ttname"><a href="classllvm_1_1msgpack_1_1Document.html#abec5174f9edec79de20397f6b8e0ccdf">llvm::msgpack::Document::fromYAML</a></div><div class="ttdeci">bool fromYAML(StringRef S)</div><div class="ttdoc">Read YAML text into the MsgPack document. Returns false on failure.</div><div class="ttdef"><b>Definition:</b> <a href="MsgPackDocumentYAML_8cpp_source.html#l00242">MsgPackDocumentYAML.cpp:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_ac439fd7516ee5880c54b780f56ae9cdd"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ac439fd7516ee5880c54b780f56ae9cdd">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::emitKernelLanguage</a></div><div class="ttdeci">void emitKernelLanguage(const Function &amp;Func, msgpack::MapDocNode Kern)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00638">AMDGPUHSAMetadataStreamer.cpp:638</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_ae66cd705df2870244a05921f551ff131"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">llvm::AMDGPUSubtarget::getWavefrontSize</a></div><div class="ttdeci">unsigned getWavefrontSize() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00202">AMDGPUSubtarget.h:202</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a7f822c68e1b547ae15cc6ef4bc59176da4cc6684df7b4a92b1dec6fce3264fac8"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da4cc6684df7b4a92b1dec6fce3264fac8">llvm::AMDGPU::HSAMD::AddressSpaceQualifier::Global</a></div><div class="ttdeci">@ Global</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">llvm::AMDGPUAS::GLOBAL_ADDRESS</a></div><div class="ttdeci">@ GLOBAL_ADDRESS</div><div class="ttdoc">Address space for global memory (RAT0, VTX0).</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00373">AMDGPU.h:373</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_aabe1ac3800de562f858e4c7cdc834460"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#aabe1ac3800de562f858e4c7cdc834460">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::getValueKind</a></div><div class="ttdeci">StringRef getValueKind(Type *Ty, StringRef TypeQual, StringRef BaseTypeName) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00541">AMDGPUHSAMetadataStreamer.cpp:541</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_af0a4ac1832ff2fc3a881f851028632c5a53dfe5089ae9e65887cb0215cb0098f5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a53dfe5089ae9e65887cb0215cb0098f5">llvm::AMDGPU::HSAMD::AccessQualifier::WriteOnly</a></div><div class="ttdeci">@ WriteOnly</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2_html_a71cfd16cbb2954dcef07c4ad729fa3a3"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a71cfd16cbb2954dcef07c4ad729fa3a3">llvm::AMDGPU::HSAMD::MetadataStreamerYamlV2::emitTo</a></div><div class="ttdeci">bool emitTo(AMDGPUTargetStreamer &amp;TargetStreamer) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00439">AMDGPUHSAMetadataStreamer.cpp:439</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a6ce4f42cbde29601ead04e25daa94af4"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a6ce4f42cbde29601ead04e25daa94af4">llvm::AMDGPU::HSAMD::VersionMajorV5</a></div><div class="ttdeci">constexpr uint32_t VersionMajorV5</div><div class="ttdoc">HSA metadata major version for code object V5.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00048">AMDGPUMetadata.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabe53a0541a6d36f6ecb879fa2c584b08">llvm::AMDGPU::HSAMD::ValueKind::Image</a></div><div class="ttdeci">@ Image</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a9d162e0e1d4adf41bdb5abe6563aebfe"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a9d162e0e1d4adf41bdb5abe6563aebfe">llvm::AMDGPU::HSAMD::VersionMinorV5</a></div><div class="ttdeci">constexpr uint32_t VersionMinorV5</div><div class="ttdoc">HSA metadata minor version for code object V5.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00050">AMDGPUMetadata.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1msgpack_1_1MapDocNode_html"><div class="ttname"><a href="classllvm_1_1msgpack_1_1MapDocNode.html">llvm::msgpack::MapDocNode</a></div><div class="ttdoc">A DocNode that is a map.</div><div class="ttdef"><b>Definition:</b> <a href="MsgPackDocument_8h_source.html#l00219">MsgPackDocument.h:219</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata_html_afede90a92b08554b4e8b60bb0fd0cd64"><div class="ttname"><a href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#afede90a92b08554b4e8b60bb0fd0cd64">llvm::AMDGPU::HSAMD::Metadata::mPrintf</a></div><div class="ttdeci">std::vector&lt; std::string &gt; mPrintf</div><div class="ttdoc">Printf metadata. Optional.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00440">AMDGPUMetadata.h:440</a></div></div>
<div class="ttc" id="aAMDGPUTargetStreamer_8h_html"><div class="ttname"><a href="AMDGPUTargetStreamer_8h.html">AMDGPUTargetStreamer.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a7f822c68e1b547ae15cc6ef4bc59176da509820290d57f333403f490dde7316f4"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da509820290d57f333403f490dde7316f4">llvm::AMDGPU::HSAMD::AddressSpaceQualifier::Local</a></div><div class="ttdeci">@ Local</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_af0a4ac1832ff2fc3a881f851028632c5a131fb182a881796e7606ed6da27f1197"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a131fb182a881796e7606ed6da27f1197">llvm::AMDGPU::HSAMD::AccessQualifier::ReadOnly</a></div><div class="ttdeci">@ ReadOnly</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_af0a4ac1832ff2fc3a881f851028632c5a70a2a84088d405a2e3f1e3accaa16723"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a70a2a84088d405a2e3f1e3accaa16723">llvm::AMDGPU::HSAMD::AccessQualifier::ReadWrite</a></div><div class="ttdeci">@ ReadWrite</div></div>
<div class="ttc" id="anamespacellvm_1_1omp_html_a9ecb71ea2b9e2a17b205ca3c03fb5a9d"><div class="ttname"><a href="namespacellvm_1_1omp.html#a9ecb71ea2b9e2a17b205ca3c03fb5a9d">llvm::omp::Kernel</a></div><div class="ttdeci">Function * Kernel</div><div class="ttdoc">Summary of a kernel (=entry point for target offloading).</div><div class="ttdef"><b>Definition:</b> <a href="OpenMPOpt_8h_source.html#l00021">OpenMPOpt.h:21</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_ad44922e1c15c86e36da9f3d8f954663f"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ad44922e1c15c86e36da9f3d8f954663f">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::emitKernelArg</a></div><div class="ttdeci">void emitKernelArg(const Argument &amp;Arg, unsigned &amp;Offset, msgpack::ArrayDocNode Args)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00695">AMDGPUHSAMetadataStreamer.cpp:695</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a10a12dd714e59431b87453d4791fa12d"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a10a12dd714e59431b87453d4791fa12d">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::emitHiddenKernelArgs</a></div><div class="ttdeci">void emitHiddenKernelArgs(const MachineFunction &amp;MF, unsigned &amp;Offset, msgpack::ArrayDocNode Args) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00803">AMDGPUHSAMetadataStreamer.cpp:803</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">llvm::AMDGPUAS::PRIVATE_ADDRESS</a></div><div class="ttdeci">@ PRIVATE_ADDRESS</div><div class="ttdoc">Address space for private memory.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00378">AMDGPU.h:378</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Metadata_html"><div class="ttname"><a href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Metadata.html">llvm::AMDGPU::HSAMD::Kernel::Metadata</a></div><div class="ttdoc">In-memory representation of kernel metadata.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00402">AMDGPUMetadata.h:402</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea86f6fef96df44adeb339b023bdff3add"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea86f6fef96df44adeb339b023bdff3add">llvm::AMDGPU::HSAMD::ValueKind::HiddenDefaultQueue</a></div><div class="ttdeci">@ HiddenDefaultQueue</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea7d5a2b0c567ac6774650c723f4734e84"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea7d5a2b0c567ac6774650c723f4734e84">llvm::AMDGPU::HSAMD::ValueKind::HiddenNone</a></div><div class="ttdeci">@ HiddenNone</div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a5b0615554b17d92f0d79fe27f6dd1f45"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a5b0615554b17d92f0d79fe27f6dd1f45">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::emitVersion</a></div><div class="ttdeci">void emitVersion() override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00618">AMDGPUHSAMetadataStreamer.cpp:618</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key_html_a576b002651b9b9f50feb7d80f407227b"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a576b002651b9b9f50feb7d80f407227b">llvm::AMDGPU::HSAMD::Kernel::Arg::Key::PointeeAlign</a></div><div class="ttdeci">constexpr char PointeeAlign[]</div><div class="ttdoc">Key for Kernel::Arg::Metadata::mPointeeAlign.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00187">AMDGPUMetadata.h:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a7f822c68e1b547ae15cc6ef4bc59176da8045a0a6c688b0635e3caccc408a1446"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da8045a0a6c688b0635e3caccc408a1446">llvm::AMDGPU::HSAMD::AddressSpaceQualifier::Generic</a></div><div class="ttdeci">@ Generic</div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5_html_ae8b78bc8c92db11a11ca0cf7f7fc6f90"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5.html#ae8b78bc8c92db11a11ca0cf7f7fc6f90">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV5::emitKernelAttrs</a></div><div class="ttdeci">void emitKernelAttrs(const Function &amp;Func, msgpack::MapDocNode Kern) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l01109">AMDGPUHSAMetadataStreamer.cpp:1109</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea2ab1f3f893823298751fdf60b4e0365a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea2ab1f3f893823298751fdf60b4e0365a">llvm::AMDGPU::HSAMD::ValueKind::Pipe</a></div><div class="ttdeci">@ Pipe</div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0">llvm::CallingConv::AMDGPU_KERNEL</a></div><div class="ttdeci">@ AMDGPU_KERNEL</div><div class="ttdoc">Used for AMDGPU code object kernels.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00197">CallingConv.h:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1msgpack_1_1Document_html_a6d5fb2463b89c95b17ffffcef9cf7f4e"><div class="ttname"><a href="classllvm_1_1msgpack_1_1Document.html#a6d5fb2463b89c95b17ffffcef9cf7f4e">llvm::msgpack::Document::getNode</a></div><div class="ttdeci">DocNode getNode()</div><div class="ttdoc">Create a nil node associated with this Document.</div><div class="ttdef"><b>Definition:</b> <a href="MsgPackDocument_8h_source.html#l00308">MsgPackDocument.h:308</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a7f822c68e1b547ae15cc6ef4bc59176da88183b946cc5f0e8c96b2e66e1c74a7e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da88183b946cc5f0e8c96b2e66e1c74a7e">llvm::AMDGPU::HSAMD::AddressSpaceQualifier::Unknown</a></div><div class="ttdeci">@ Unknown</div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a7f822c68e1b547ae15cc6ef4bc59176dacb17869fe51048b5a5c4c6106551a255"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176dacb17869fe51048b5a5c4c6106551a255">llvm::AMDGPU::HSAMD::AddressSpaceQualifier::Constant</a></div><div class="ttdeci">@ Constant</div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea0f441ae97a59788e74f35eee88a17107"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea0f441ae97a59788e74f35eee88a17107">llvm::AMDGPU::HSAMD::ValueKind::HiddenPrintfBuffer</a></div><div class="ttdeci">@ HiddenPrintfBuffer</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a98b150e885c4a0b5bddece9e539a9fd9"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a98b150e885c4a0b5bddece9e539a9fd9">llvm::AMDGPU::HSAMD::VersionMajorV3</a></div><div class="ttdeci">constexpr uint32_t VersionMajorV3</div><div class="ttdoc">HSA metadata major version for code object V3.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00038">AMDGPUMetadata.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a9c348c081c896ce44979b40db0582b19"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9c348c081c896ce44979b40db0582b19">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::end</a></div><div class="ttdeci">void end() override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00936">AMDGPUHSAMetadataStreamer.cpp:936</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUTargetStreamer_html_a02fc438fa1d605d806b8bef3c1d6e9a1"><div class="ttname"><a href="classllvm_1_1AMDGPUTargetStreamer.html#a02fc438fa1d605d806b8bef3c1d6e9a1">llvm::AMDGPUTargetStreamer::EmitHSAMetadata</a></div><div class="ttdeci">virtual bool EmitHSAMetadata(msgpack::Document &amp;HSAMetadata, bool Strict)</div><div class="ttdoc">Emit HSA Metadata.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUTargetStreamer_8h_source.html#l00081">AMDGPUTargetStreamer.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_af4accde8dbf4e54522e801960534b818"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#af4accde8dbf4e54522e801960534b818">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::emitPrintf</a></div><div class="ttdeci">void emitPrintf(const Module &amp;Mod)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00625">AMDGPUHSAMetadataStreamer.cpp:625</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a0c51c1ceec8b8919ac5fcd2340c0e957"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a0c51c1ceec8b8919ac5fcd2340c0e957">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::getRootMetadata</a></div><div class="ttdeci">msgpack::DocNode &amp; getRootMetadata(StringRef Key)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8h_source.html#l00114">AMDGPUHSAMetadataStreamer.h:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aAMDGPU_8h_html"><div class="ttname"><a href="AMDGPU_8h.html">AMDGPU.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5_html_a00df0d04b86c6d3d0d027c912afb7282"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5.html#a00df0d04b86c6d3d0d027c912afb7282">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV5::emitHiddenKernelArgs</a></div><div class="ttdeci">void emitHiddenKernelArgs(const MachineFunction &amp;MF, unsigned &amp;Offset, msgpack::ArrayDocNode Args) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l01007">AMDGPUHSAMetadataStreamer.cpp:1007</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2_html_a5472ade5ac6054c9c2197c3e0aef418a"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerYamlV2.html#a5472ade5ac6054c9c2197c3e0aef418a">llvm::AMDGPU::HSAMD::MetadataStreamerYamlV2::begin</a></div><div class="ttdeci">void begin(const Module &amp;Mod, const IsaInfo::AMDGPUTargetID &amp;TargetID) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00443">AMDGPUHSAMetadataStreamer.cpp:443</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea5bca2f066df1fe641b2b779db2a63c0a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea5bca2f066df1fe641b2b779db2a63c0a">llvm::AMDGPU::HSAMD::ValueKind::Sampler</a></div><div class="ttdeci">@ Sampler</div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a5730c59ab40e5a8808ca0736eb7330f7"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a5730c59ab40e5a8808ca0736eb7330f7">llvm::AMDGPU::HSAMD::Kernel::Key::LanguageVersion</a></div><div class="ttdeci">constexpr char LanguageVersion[]</div><div class="ttdoc">Key for Kernel::Metadata::mLanguageVersion.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00390">AMDGPUMetadata.h:390</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata_html_a5d08c828abe408e0056301aab6c6f024"><div class="ttname"><a href="structllvm_1_1AMDGPU_1_1HSAMD_1_1Metadata.html#a5d08c828abe408e0056301aab6c6f024">llvm::AMDGPU::HSAMD::Metadata::mKernels</a></div><div class="ttdeci">std::vector&lt; Kernel::Metadata &gt; mKernels</div><div class="ttdoc">Kernels metadata. Required.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00442">AMDGPUMetadata.h:442</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUTargetStreamer_html"><div class="ttname"><a href="classllvm_1_1AMDGPUTargetStreamer.html">llvm::AMDGPUTargetStreamer</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUTargetStreamer_8h_source.html#l00034">AMDGPUTargetStreamer.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea3b9c47b25dbb3ced99ea252254bc7991"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea3b9c47b25dbb3ced99ea252254bc7991">llvm::AMDGPU::HSAMD::ValueKind::HiddenMultiGridSyncArg</a></div><div class="ttdeci">@ HiddenMultiGridSyncArg</div></div>
<div class="ttc" id="anamespacellvm_1_1ifs_html_adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df"><div class="ttname"><a href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">llvm::ifs::IFSSymbolType::Func</a></div><div class="ttdeci">@ Func</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a7f822c68e1b547ae15cc6ef4bc59176d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176d">llvm::AMDGPU::HSAMD::AddressSpaceQualifier</a></div><div class="ttdeci">AddressSpaceQualifier</div><div class="ttdoc">Address space qualifiers.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00067">AMDGPUMetadata.h:67</a></div></div>
<div class="ttc" id="astructllvm_1_1SIProgramInfo_html_a50e32d3e9516e274b1b3f3d9c05c0be1"><div class="ttname"><a href="structllvm_1_1SIProgramInfo.html#a50e32d3e9516e274b1b3f3d9c05c0be1">llvm::SIProgramInfo::NumAccVGPR</a></div><div class="ttdeci">uint32_t NumAccVGPR</div><div class="ttdef"><b>Definition:</b> <a href="SIProgramInfo_8h_source.html#l00048">SIProgramInfo.h:48</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ead43ad19db996aaf9ae8090cef1526ff5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ead43ad19db996aaf9ae8090cef1526ff5">llvm::AMDGPU::HSAMD::ValueKind::DynamicSharedPointer</a></div><div class="ttdeci">@ DynamicSharedPointer</div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249">llvm::Type::IntegerTyID</a></div><div class="ttdeci">@ IntegerTyID</div><div class="ttdoc">Arbitrary bit width integers.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00071">Type.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_aa20206eab80a4add27a4850d2d717e47"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#aa20206eab80a4add27a4850d2d717e47">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::emitKernelAttrs</a></div><div class="ttdeci">void emitKernelAttrs(const Function &amp;Func, msgpack::MapDocNode Kern) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00657">AMDGPUHSAMetadataStreamer.cpp:657</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72eabbbfcdfda2a8a5ec655a95851067c5d3"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72eabbbfcdfda2a8a5ec655a95851067c5d3">llvm::AMDGPU::HSAMD::ValueKind::HiddenHostcallBuffer</a></div><div class="ttdeci">@ HiddenHostcallBuffer</div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID_html_ae9ec355054ee6400df6ba242dd3cb032"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1IsaInfo_1_1AMDGPUTargetID.html#ae9ec355054ee6400df6ba242dd3cb032">llvm::AMDGPU::IsaInfo::AMDGPUTargetID::toString</a></div><div class="ttdeci">std::string toString() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l00720">AMDGPUBaseInfo.cpp:720</a></div></div>
<div class="ttc" id="aclassllvm_1_1msgpack_1_1Document_html_a82205f2c71cb88331e554cb4fc8b8822"><div class="ttname"><a href="classllvm_1_1msgpack_1_1Document.html#a82205f2c71cb88331e554cb4fc8b8822">llvm::msgpack::Document::toYAML</a></div><div class="ttdeci">void toYAML(raw_ostream &amp;OS)</div><div class="ttdoc">Convert MsgPack Document to YAML text.</div><div class="ttdef"><b>Definition:</b> <a href="MsgPackDocumentYAML_8cpp_source.html#l00236">MsgPackDocumentYAML.cpp:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a71cfd89564d067b245f73967a218ee0a"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a71cfd89564d067b245f73967a218ee0a">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::emitTo</a></div><div class="ttdeci">bool emitTo(AMDGPUTargetStreamer &amp;TargetStreamer) override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00925">AMDGPUHSAMetadataStreamer.cpp:925</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key_html_a83cbd52c306095883d3bada71c14d9a5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">llvm::AMDGPU::HSAMD::Kernel::Arg::Key::TypeName</a></div><div class="ttdeci">constexpr char TypeName[]</div><div class="ttdoc">Key for Kernel::Arg::Metadata::mTypeName.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00175">AMDGPUMetadata.h:175</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html_a80735739b49cf97a491922c8f9af2cc1"><div class="ttname"><a href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">llvm::Align::value</a></div><div class="ttdeci">uint64_t value() const</div><div class="ttdoc">This is a hole in the type system and should not be abused.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00085">Alignment.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa98aa825426dd4de2d19a3de9983a2d5d"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa98aa825426dd4de2d19a3de9983a2d5d">llvm::Type::FixedVectorTyID</a></div><div class="ttdeci">@ FixedVectorTyID</div><div class="ttdoc">Fixed width SIMD vector type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00076">Type.h:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda9b5e79699935bf721647d44339701860"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda9b5e79699935bf721647d44339701860">llvm::CallingConv::SPIR_KERNEL</a></div><div class="ttdeci">@ SPIR_KERNEL</div><div class="ttdoc">Used for SPIR kernel functions.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00141">CallingConv.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa2e35087c06e2f903a8f89bd9d03bc88"><div class="ttname"><a href="namespacellvm.html#aa2e35087c06e2f903a8f89bd9d03bc88">llvm::VerifyHSAMetadata</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; VerifyHSAMetadata(&quot;amdgpu-verify-hsa-metadata&quot;, cl::desc(&quot;Verify AMDGPU HSA Metadata&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1msgpack_1_1DocNode_html_a5dcb89d39cc207e66824456bd2e2d29d"><div class="ttname"><a href="classllvm_1_1msgpack_1_1DocNode.html#a5dcb89d39cc207e66824456bd2e2d29d">llvm::msgpack::DocNode::getArray</a></div><div class="ttdeci">ArrayDocNode &amp; getArray(bool Convert=false)</div><div class="ttdoc">Get an ArrayDocNode for an array node.</div><div class="ttdef"><b>Definition:</b> <a href="MsgPackDocument_8h_source.html#l00129">MsgPackDocument.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_a9765e87409a8a53ea0302b576b1176b0"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#a9765e87409a8a53ea0302b576b1176b0">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::HSAMetadataDoc</a></div><div class="ttdeci">std::unique_ptr&lt; msgpack::Document &gt; HSAMetadataDoc</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8h_source.html#l00067">AMDGPUHSAMetadataStreamer.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="anamespacellvm_html_a630ad6f676173be96fd90e77f6c1f1c7"><div class="ttname"><a href="namespacellvm.html#a630ad6f676173be96fd90e77f6c1f1c7">llvm::DumpHSAMetadata</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DumpHSAMetadata(&quot;amdgpu-dump-hsa-metadata&quot;, cl::desc(&quot;Dump AMDGPU HSA Metadata&quot;))</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_af0a4ac1832ff2fc3a881f851028632c5a7a1920d61156abc05a60135aefe8bc67"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#af0a4ac1832ff2fc3a881f851028632c5a7a1920d61156abc05a60135aefe8bc67">llvm::AMDGPU::HSAMD::AccessQualifier::Default</a></div><div class="ttdeci">@ Default</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key_html_a2fc85872c7121cde16c413f8f1e7f6bc"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Key.html#a2fc85872c7121cde16c413f8f1e7f6bc">llvm::AMDGPU::HSAMD::Key::Printf</a></div><div class="ttdeci">constexpr char Printf[]</div><div class="ttdoc">Key for HSA::Metadata::mPrintf.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00430">AMDGPUMetadata.h:430</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a83a294111af6d4412163b209725ca556"><div class="ttname"><a href="classllvm_1_1StringRef.html#a83a294111af6d4412163b209725ca556">llvm::StringRef::contains</a></div><div class="ttdeci">bool contains(StringRef Other) const</div><div class="ttdoc">Return true if the given string is a substring of *this, and false otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00423">StringRef.h:423</a></div></div>
<div class="ttc" id="aclassllvm_1_1msgpack_1_1ArrayDocNode_html"><div class="ttname"><a href="classllvm_1_1msgpack_1_1ArrayDocNode.html">llvm::msgpack::ArrayDocNode</a></div><div class="ttdoc">A DocNode that is an array.</div><div class="ttdef"><b>Definition:</b> <a href="MsgPackDocument_8h_source.html#l00249">MsgPackDocument.h:249</a></div></div>
<div class="ttc" id="astructllvm_1_1SIProgramInfo_html"><div class="ttname"><a href="structllvm_1_1SIProgramInfo.html">llvm::SIProgramInfo</a></div><div class="ttdoc">Track resource usage for kernels / entry functions.</div><div class="ttdef"><b>Definition:</b> <a href="SIProgramInfo_8h_source.html#l00025">SIProgramInfo.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad0dd54f1f3e1eb169b00651cd3d61da6"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad0dd54f1f3e1eb169b00651cd3d61da6">llvm::GCNSubtarget::isXNACKEnabled</a></div><div class="ttdeci">bool isXNACKEnabled() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00559">GCNSubtarget.h:559</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a7f822c68e1b547ae15cc6ef4bc59176da47f9082fc380ca62d531096aa1d110f1"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7f822c68e1b547ae15cc6ef4bc59176da47f9082fc380ca62d531096aa1d110f1">llvm::AMDGPU::HSAMD::AddressSpaceQualifier::Private</a></div><div class="ttdeci">@ Private</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3fa5b71ba6fa435ec288aba849e113721a7"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa5b71ba6fa435ec288aba849e113721a7">llvm::AMDGPUAS::REGION_ADDRESS</a></div><div class="ttdeci">@ REGION_ADDRESS</div><div class="ttdoc">Address space for region memory. (GDS)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00374">AMDGPU.h:374</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html">llvm::SIMachineFunctionInfo</a></div><div class="ttdoc">This class keeps track of the SPI_SP_INPUT_ADDR config register, which tells the hardware which inter...</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00358">SIMachineFunctionInfo.h:358</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a3b35a6541507efcfdf8d270f062e6f60"><div class="ttname"><a href="classllvm_1_1Module.html#a3b35a6541507efcfdf8d270f062e6f60">llvm::Module::getNamedMetadata</a></div><div class="ttdeci">NamedMDNode * getNamedMetadata(const Twine &amp;Name) const</div><div class="ttdoc">Return the first NamedMDNode in the module with the specified name.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00251">Module.cpp:251</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html_af230e86e680197c6cb80905700ff06db"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html#af230e86e680197c6cb80905700ff06db">llvm::SIMachineFunctionInfo::hasQueuePtr</a></div><div class="ttdeci">bool hasQueuePtr() const</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00763">SIMachineFunctionInfo.h:763</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14">llvm::AMDGPUAS::FLAT_ADDRESS</a></div><div class="ttdeci">@ FLAT_ADDRESS</div><div class="ttdoc">Address space for flat memory.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00372">AMDGPU.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html_a7f0e82e8a818ca43926fceb49be81661"><div class="ttname"><a href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">llvm::StringSwitch::Default</a></div><div class="ttdeci">R Default(T Value)</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00182">StringSwitch.h:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a87f56db834c58ca630624956ecf6972f"><div class="ttname"><a href="classllvm_1_1Type.html#a87f56db834c58ca630624956ecf6972f">llvm::Type::getInt16Ty</a></div><div class="ttdeci">static IntegerType * getInt16Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00240">Type.cpp:240</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html"><div class="ttname"><a href="classllvm_1_1StringSwitch.html">llvm::StringSwitch</a></div><div class="ttdoc">A switch()-like statement whose cases are string literals.</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00044">StringSwitch.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a76adb4549f349676de0a703a497ca5a5"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a></div><div class="ttdeci">Module * Mod</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00054">PassBuilderBindings.cpp:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5_html_a7b11851cdd1ebd21039cab1ec7841bf2"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV5.html#a7b11851cdd1ebd21039cab1ec7841bf2">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV5::emitVersion</a></div><div class="ttdeci">void emitVersion() override</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l01000">AMDGPUHSAMetadataStreamer.cpp:1000</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3_html_ab89cfe34543af4a91c97fee04f9161e1"><div class="ttname"><a href="classllvm_1_1AMDGPU_1_1HSAMD_1_1MetadataStreamerMsgPackV3.html#ab89cfe34543af4a91c97fee04f9161e1">llvm::AMDGPU::HSAMD::MetadataStreamerMsgPackV3::getAccessQualifier</a></div><div class="ttdeci">std::optional&lt; StringRef &gt; getAccessQualifier(StringRef AccQual) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUHSAMetadataStreamer_8cpp_source.html#l00512">AMDGPUHSAMetadataStreamer.cpp:512</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_aa57af0ca83bda1e09ced25adf61b204f"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#aa57af0ca83bda1e09ced25adf61b204f">llvm::AMDGPU::HSAMD::VersionMinorV3</a></div><div class="ttdeci">constexpr uint32_t VersionMinorV3</div><div class="ttdoc">HSA metadata minor version for code object V3.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00040">AMDGPUMetadata.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__string__ostream_html_ae086260f8c216554ff46dcd96e171459"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">llvm::raw_string_ostream::str</a></div><div class="ttdeci">std::string &amp; str()</div><div class="ttdoc">Returns the string's reference.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00660">raw_ostream.h:660</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab8edae44cec4167ac46ac7f60ecb4dafabd2438b14a6a1a27fae653284aaa3cb4"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab8edae44cec4167ac46ac7f60ecb4dafabd2438b14a6a1a27fae653284aaa3cb4">llvm::AMDGPU::AMDHSA_COV5</a></div><div class="ttdeci">@ AMDHSA_COV5</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00051">AMDGPUBaseInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a6414735714bdbd5c8790f32a0fe99bd2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a6414735714bdbd5c8790f32a0fe99bd2">llvm::StringRef::split</a></div><div class="ttdeci">std::pair&lt; StringRef, StringRef &gt; split(char Separator) const</div><div class="ttdoc">Split into two substrings around the first occurrence of a separator character.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00688">StringRef.h:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa301c3a4cc2bfd399628cfd473f383ff9"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa301c3a4cc2bfd399628cfd473f383ff9">llvm::Type::HalfTyID</a></div><div class="ttdeci">@ HalfTyID</div><div class="ttdoc">16-bit floating point type</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00056">Type.h:56</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3faa6d3112da64eecbdbb50aacb5f8251e8"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faa6d3112da64eecbdbb50aacb5f8251e8">llvm::AMDGPUAS::CONSTANT_ADDRESS</a></div><div class="ttdeci">@ CONSTANT_ADDRESS</div><div class="ttdoc">Address space for constant memory (VTX2).</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00376">AMDGPU.h:376</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea7a0e21ec5e45b750a0f2b1e72105bb3d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea7a0e21ec5e45b750a0f2b1e72105bb3d">llvm::AMDGPU::HSAMD::ValueKind::HiddenGlobalOffsetX</a></div><div class="ttdeci">@ HiddenGlobalOffsetX</div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a278004c824cd46c7504e68ec7c5f2d57"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a278004c824cd46c7504e68ec7c5f2d57">llvm::GCNSubtarget::hasMAIInsts</a></div><div class="ttdeci">bool hasMAIInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00748">GCNSubtarget.h:748</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a7e6fa158a96c4d1a9fd48eff2a740b93"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a7e6fa158a96c4d1a9fd48eff2a740b93">llvm::AMDGPU::HSAMD::VersionMinorV4</a></div><div class="ttdeci">constexpr uint32_t VersionMinorV4</div><div class="ttdoc">HSA metadata minor version for code object V4.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00045">AMDGPUMetadata.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a97c0ff8bcd808f8dc602c9c94b34ba33"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a97c0ff8bcd808f8dc602c9c94b34ba33">llvm::AMDGPU::HSAMD::toString</a></div><div class="ttdeci">std::error_code toString(Metadata HSAMetadata, std::string &amp;String)</div><div class="ttdoc">Converts HSAMetadata to String.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8cpp_source.html#l00220">AMDGPUMetadata.cpp:220</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:09:04 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
